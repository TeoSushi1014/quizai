import{j as a,m as le}from"./ui-BGuvgkTr.js";import{b as de,u as ce,r as y,f as ue}from"./router-BxjC687J.js";import{a as q,g as pe,c as k,u as xe,v as me,l as v,w as $,L as fe,C as R,N as ge,M as G,B as E,A as he,H as we,E as ve,x as ye,f as J,D as Ee,r as ze,k as Z,b as be,y as Ne,T as B,z as V,i as _,F as Qe,S as H,m as Ie,J as Te}from"./index-Qb9h63CH.js";import"./vendor-DoC2WAmd.js";import"./utils-rUpm7H1u.js";import"./markdown-Bj7tmv2T.js";const C=e=>{if(!e)return"NB";switch(e){case"Easy":return"NB";case"Medium":return"TH";case"Hard":return"VD";case"AI-Determined":return"NB";default:return"NB"}},M=e=>String.fromCharCode(65+e),L=(e,o,t,s,r=!1)=>{const u=e.questionText;let p=s;const x=u.match(/\(?\[?([A-Z]{2,3})[\]\)]?\.?\s/i);x&&x[1]&&(p=x[1].toUpperCase());let c=`${t("azotaFormatQuestionPrefix")} ${o}.(${p}) ${u}
`;return e.options.forEach((h,f)=>{const z=h===e.correctAnswer;c+=`${r&&z?"*":""}${M(f)}. ${h}	`,(f+1)%2===0&&f<e.options.length-1&&e.options.length>2?c=c.trimEnd()+`
`:c=c.trimEnd()+"  "}),c=c.trim()+`
`,c},W=(e,o,t,s,r=!1)=>{var z,b;const u=t("azotaFormatExplanationSolutionMarker"),p=t("azotaFormatExplanationMethodMarker"),x=e.explanation.split(u),c=((z=x[0])==null?void 0:z.replace(p,"").trim())||"",h=((b=x[1])==null?void 0:b.trim())||(c?"":e.explanation.trim());let f=`${t("azotaFormatQuestionPrefix")} ${o} (${s}):
`;if(c&&(f+=`${t("azotaFormatExplanationMethod")} ${c}
`),f+=`${t("azotaFormatExplanationSolution")} ${h||t("resultsNoExplanation")}
`,r){const n=e.options.findIndex(i=>i===e.correctAnswer);n!==-1&&(f+=`${t("azotaFormatChooseAnswer")} ${M(n)}
`)}return f},Se=(e,o)=>{var x;let t="";const s=C((x=e.config)==null?void 0:x.difficulty);let r=1;e.questions.length>0&&(t+=`${o("azotaFormatMCQSection")}
`,e.questions.forEach(c=>{t+=L(c,r++,o,s),t+=`
`})),t+=`${o("azotaFormatEndOfQuiz")}
`,t+=`${o("azotaFormatAnswerTableTitle")}
`;let u=1;e.questions.forEach(c=>{const h=c.options.findIndex(f=>f===c.correctAnswer);h!==-1&&(t+=`${u++}${M(h)} `)}),t=t.trim()+`

`,t+=`${o("azotaFormatExplanationSectionTitle")}
`;let p=1;return e.questions.forEach(c=>{var h;t+=W(c,p++,o,C((h=e.config)==null?void 0:h.difficulty)),t+=`
`}),t},je=(e,o)=>{var u;let t="";const s=C((u=e.config)==null?void 0:u.difficulty);let r=1;return e.questions.length>0&&(t+=`${o("azotaFormatMCQSection")}
`,e.questions.forEach(p=>{t+=L(p,r,o,s),t+=`${o("azotaFormatExplanationTitle")}
`,t+=W(p,r,o,s,!0),t+=`
`,r++})),t},Ae=(e,o)=>{var u;let t="";const s=C((u=e.config)==null?void 0:u.difficulty);let r=1;return e.questions.length>0&&(t+=`${o("azotaFormatMCQSection")}
`,e.questions.forEach(p=>{t+=L(p,r++,o,s,!0),t+=`
`})),t};q("en");const K={editableQuiz:null,originalQuiz:null,isLoading:!0,isSaving:!1,error:null,isDirty:!1,questionToDelete:null};function Oe(e,o){var t,s;switch(o.type){case"INIT_QUIZ_DATA":return{...K,editableQuiz:JSON.parse(JSON.stringify(o.payload.quiz)),originalQuiz:JSON.parse(JSON.stringify(o.payload.quiz)),isLoading:!1,isDirty:!1};case"SET_LOADING":return{...e,isLoading:o.payload};case"SET_ERROR":return{...e,error:o.payload,isSaving:!1};case"SET_SAVING":return{...e,isSaving:o.payload};case"UPDATE_QUIZ_TITLE":return e.editableQuiz?{...e,editableQuiz:{...e.editableQuiz,title:o.payload},isDirty:!0}:e;case"UPDATE_QUESTION":if(!e.editableQuiz)return e;const r=[...e.editableQuiz.questions];return r[o.payload.index]=o.payload.question,{...e,editableQuiz:{...e.editableQuiz,questions:r},isDirty:!0};case"ADD_QUESTION":if(!e.editableQuiz)return e;const u=q(o.payload.language),p={id:pe(),questionText:u("reviewNewQuestionDefaultText"),options:[u("reviewNewOptionDefault",{index:1}),u("reviewNewOptionDefault",{index:2})],correctAnswer:u("reviewNewOptionDefault",{index:1}),explanation:u("reviewNewExplanationDefaultText")};return{...e,editableQuiz:{...e.editableQuiz,questions:[...e.editableQuiz.questions,p]},isDirty:!0};case"REMOVE_QUESTION_REQUEST":return{...e,questionToDelete:{index:o.payload.index,questionId:o.payload.questionId}};case"REMOVE_QUESTION_CONFIRMED":if(!e.editableQuiz||e.editableQuiz.questions.length<=1){const c=((s=(t=e.editableQuiz)==null?void 0:t.config)==null?void 0:s.language)==="Vietnamese"?"vi":"en";return{...e,error:q(c)("reviewCannotSaveNoQuestions"),questionToDelete:null}}const x=e.editableQuiz.questions.filter((c,h)=>h!==o.payload.index);return{...e,editableQuiz:{...e.editableQuiz,questions:x},error:null,isDirty:!0,questionToDelete:null};case"CLEAR_QUESTION_TO_DELETE_REQUEST":return{...e,questionToDelete:null};case"RESET_QUIZ_STATE":return e.originalQuiz?{...e,editableQuiz:JSON.parse(JSON.stringify(e.originalQuiz)),isDirty:!1,error:null,questionToDelete:null}:e;default:return e}}const X=({isOpen:e,onClose:o,quiz:t})=>{const{t:s}=k(),[r,u]=y.useState("style1"),[p,x]=y.useState(""),[c,h]=y.useState(!1),[f,z]=y.useState(null);y.useEffect(()=>{if(e&&t){z(null);try{let d="";switch(r){case"style1":d=Se(t,s);break;case"style2":d=je(t,s);break;case"style4":d=Ae(t,s);break;default:d=s("azotaExportErrorGenerating")}x(d)}catch(d){v.error("Error formatting quiz for Azota:","AzotaExportModal",{quizId:t.id,format:r},d),x(s("azotaExportErrorGenerating")),z(d instanceof Error?d.message:String(d))}}},[e,t,r,s]);const b=()=>{navigator.clipboard.writeText(p).then(()=>{h(!0),setTimeout(()=>h(!1),2e3)}).catch(d=>{v.error("Failed to copy Azota text to clipboard","AzotaExportModal",void 0,d),alert(s("azotaExportErrorCopy"))})},n=()=>{const d=new Blob([p],{type:"text/plain;charset=utf-8"}),w=document.createElement("a");w.href=URL.createObjectURL(d);const I=t.title.replace(/[^a-z0-9_.-]/gi,"_").substring(0,50)||"quiz";w.download=`${I}_Azota_${r}.txt`,document.body.appendChild(w),w.click(),document.body.removeChild(w),v.info("Azota quiz downloaded","AzotaExportModal",{quizId:t.id,format:r,filename:w.download})},i=[{value:"style1",label:s("azotaExportFormatStyle1")},{value:"style2",label:s("azotaExportFormatStyle2")},{value:"style4",label:s("azotaExportFormatStyle4")}];return t?a.jsx(Z,{isOpen:e,onClose:o,title:s("azotaExportTitle"),size:"3xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx(H,{label:s("azotaExportSelectFormat"),options:i,value:r,onChange:d=>u(d.target.value)}),f&&a.jsxs("div",{role:"alert",className:"p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-xs text-red-300",children:[a.jsxs("p",{children:[a.jsxs("strong",{children:[s("error"),":"]})," ",s("azotaExportErrorGenerating")]}),a.jsx("p",{className:"mt-1 text-red-400/80",children:f})]}),a.jsx(_,{value:p,readOnly:!0,rows:18,className:"text-xs font-mono !bg-slate-700/70 !border-slate-600 p-4 min-h-[360px] shadow-inner","aria-label":s("azotaExportPreviewArea")}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3.5 pt-2",children:[a.jsx(E,{variant:"secondary",onClick:o,size:"md",children:s("close")}),a.jsxs(E,{variant:"outline",onClick:b,leftIcon:a.jsx(Ie,{className:"w-4 h-4"}),size:"md",className:"w-full sm:w-auto",disabled:!!f,children:[" ",s(c?"azotaExportCopied":"azotaExportCopy")," "]}),a.jsxs(E,{variant:"primary",onClick:n,leftIcon:a.jsx(Te,{className:"w-4 h-4"}),size:"md",className:"w-full sm:w-auto",disabled:!!f,children:[" ",s("azotaExportDownload")," "]})]})]})}):null};X.displayName="AzotaExportModal";const Y=({question:e,index:o,dispatch:t,animationDelayFactor:s})=>{const{t:r}=k(),u=y.useRef(null),p=Ne(u,{threshold:.1,freezeOnceVisible:!0}),x=e.options.map((n,i)=>({value:n,label:`${r("reviewOptionLabel",{index:i+1})}: ${n.length>30?n.substring(0,27)+"...":n}`}));x.length===0&&e.correctAnswer&&x.push({value:e.correctAnswer,label:e.correctAnswer});const c=(n,i)=>{t({type:"UPDATE_QUESTION",payload:{index:o,question:{...e,[n]:i}}})},h=(n,i)=>{const d=[...e.options];d[n]=i;let w=e.correctAnswer;e.correctAnswer===e.options[n]?w=i:!d.includes(e.correctAnswer)&&d.length>0?w=d[0]:d.length===0&&(w=""),t({type:"UPDATE_QUESTION",payload:{index:o,question:{...e,options:d,correctAnswer:w}}})},f=()=>{if(e.options.length>=5)return;const n=r("reviewNewOptionDefault",{index:e.options.length+1}),i=[...e.options,n];t({type:"UPDATE_QUESTION",payload:{index:o,question:{...e,options:i}}})},z=n=>{if(e.options.length<=2){alert(r("reviewErrorNotEnoughOptions",{id:""}).replace(" for question ID: {id}",""));return}const i=e.options[n],d=e.options.filter((I,T)=>T!==n);let w=e.correctAnswer;i===e.correctAnswer&&!d.includes(i)&&(w=d.length>0?d[0]:""),t({type:"UPDATE_QUESTION",payload:{index:o,question:{...e,options:d,correctAnswer:w}}})},b=()=>{t({type:"REMOVE_QUESTION_REQUEST",payload:{index:o,questionId:e.id}})};return a.jsx(le.div,{ref:u,initial:{opacity:0,y:30},animate:p?{opacity:1,y:0}:{opacity:0,y:30},transition:{duration:.4,ease:[.25,.1,.25,1],delay:p?s*.07:0},className:"question-item-motion-wrapper",children:a.jsxs(R,{useGlassEffect:!0,className:"shadow-xl !rounded-2xl !border-slate-700/50",children:[a.jsxs("div",{className:"flex justify-between items-center mb-5 sm:mb-6",children:[a.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-sky-300",children:r("reviewQuestionLabel",{index:o+1})}),a.jsx(B,{content:r("reviewDeleteQuestionLabel"),placement:"left",children:a.jsx(E,{variant:"danger",size:"sm",onClick:b,className:"!p-2.5 rounded-lg shadow-md hover:shadow-red-500/50","aria-label":r("reviewDeleteQuestionLabel"),children:a.jsx(V,{className:"w-4 h-4"})})})]}),a.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[a.jsx(_,{label:a.jsx("span",{className:"font-medium text-slate-200",children:r("reviewQuestionTextLabel")}),value:e.questionText,onChange:n=>c("questionText",n.target.value),placeholder:r("reviewQuestionTextPlaceholder"),rows:3,className:"min-h-[80px] text-sm"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-2.5",children:r("reviewOptionsLabel")}),a.jsx("div",{className:"space-y-3.5",children:e.options.map((n,i)=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(J,{id:`option-input-${e.id}-${i}`,value:n,onChange:d=>h(i,d.target.value),placeholder:r("reviewOptionPlaceholder",{index:i+1}),inputClassName:"text-sm !py-2.5",containerClassName:"flex-grow"}),e.options.length>2&&a.jsx(B,{content:r("reviewRemoveOptionLabel"),placement:"right",children:a.jsx(E,{variant:"ghost",size:"sm",onClick:()=>z(i),className:"!p-2.5 rounded-lg text-red-400/80 hover:text-red-400 hover:bg-red-400/15","aria-label":r("reviewRemoveOptionLabel"),children:a.jsx(V,{className:"w-4 h-4"})})})]},i))}),e.options.length<5&&a.jsx(E,{variant:"outline",size:"sm",onClick:f,leftIcon:a.jsx(Qe,{className:"w-4 h-4",strokeWidth:2}),className:"mt-4 py-2 px-4 rounded-lg border-dashed border-sky-400/70 text-sky-300 hover:bg-sky-400/15 hover:border-sky-400",children:r("reviewAddOption")})]}),a.jsx(H,{label:a.jsx("span",{className:"font-medium text-slate-200",children:r("reviewCorrectAnswerLabel")}),value:e.correctAnswer,onChange:n=>c("correctAnswer",n.target.value),options:x.length>0?x:[{value:"",label:"Please add options"}],disabled:x.length===0,className:"text-sm"}),a.jsx(_,{label:a.jsx("span",{className:"font-medium text-slate-200",children:r("reviewExplanationLabel")}),value:e.explanation,onChange:n=>c("explanation",n.target.value),placeholder:r("reviewExplanationPlaceholder"),rows:3,className:"min-h-[80px] text-sm"})]})]})})};Y.displayName="QuestionItem";const De=()=>{const e=de(),o=ce(),{t,language:s}=k(),{addQuiz:r,updateQuiz:u,quizzes:p,currentUser:x}=xe(),{notification:c,showSuccess:h,showError:f,clearNotification:z}=me(),[b,n]=y.useReducer(Oe,K),{editableQuiz:i,isLoading:d,isSaving:w,error:I,questionToDelete:T}=b,[P,U]=y.useState(!1),[S,ee]=y.useState(null),[N,A]=y.useState({isOpen:!1,questionIndex:null,questionId:null}),{quizId:Q}=ue();y.useEffect(()=>{var D;v.info("QuizReviewPage: Initializing or location state changed.","QuizReviewPage",{hasLocationState:!!e.state,existingQuizIdFromParams:Q}),n({type:"SET_LOADING",payload:!0});let l=null;e.state&&(l=e.state);const g=Q||((D=l==null?void 0:l.existingQuiz)==null?void 0:D.id);let m=null;if(g){if(m=(l==null?void 0:l.existingQuiz)||p.find(j=>j.id===g)||null,!m){v.error("Quiz not found for editing.","QuizReviewPage",{existingQuizId:g}),n({type:"SET_ERROR",payload:t("reviewErrorQuizNotFound")}),n({type:"SET_LOADING",payload:!1});return}v.info("Loading existing quiz for review/edit.","QuizReviewPage",{quizId:m.id})}else if(l!=null&&l.generatedQuizData&&l.finalConfig){const{generatedQuizData:j,quizTitleSuggestion:se,finalConfig:re}=l,F=new Date().toISOString();m={id:$(),title:se||j.title||t("untitledQuiz"),questions:j.questions,config:re,sourceContentSnippet:j.sourceContentSnippet,createdAt:F,lastModified:F},v.info("Initializing review page with newly generated quiz data.","QuizReviewPage",{title:m.title})}m?n({type:"INIT_QUIZ_DATA",payload:{quiz:m,language:s}}):Q||(v.warn("No quiz data provided to review page.","QuizReviewPage"),n({type:"SET_ERROR",payload:t("reviewErrorNoQuizData")}),n({type:"SET_LOADING",payload:!1}))},[e.state,Q,p,t,s,n]),y.useEffect(()=>{if(S&&i){if(i.questions.find(g=>g.id===S.questionId)){const g=`option-input-${S.questionId}-${S.optionIndex}`,m=document.getElementById(g);m==null||m.focus()}ee(null)}},[S,i]),y.useEffect(()=>{T&&A({isOpen:!0,questionIndex:T.index,questionId:T.questionId})},[T]);const te=l=>{n({type:"UPDATE_QUIZ_TITLE",payload:l})},ae=()=>{n({type:"ADD_QUESTION",payload:{language:s}}),v.info("Added new question to quiz being reviewed.","QuizReviewPage")},ie=async()=>{if(!i||N.questionIndex===null||N.questionId===null)return;const l=N.questionIndex;A({isOpen:!1,questionIndex:null,questionId:null});const g={...i,questions:i.questions.filter((m,D)=>D!==l),lastModified:new Date().toISOString()};n({type:"REMOVE_QUESTION_CONFIRMED",payload:{index:l}});try{Q?await u(g):await u(g),v.info("Question deleted and quiz updated","QuizReviewPage",{quizId:g.id,questionId:N.questionId,remainingQuestions:g.questions.length}),h(t("questionDeletedSuccessfully"),3e3)}catch(m){v.error("Error saving quiz after question deletion","QuizReviewPage",{quizId:g.id,questionId:N.questionId},m),f(t("reviewErrorSaving"),5e3),n({type:"INIT_QUIZ_DATA",payload:{quiz:i,language:s}})}},ne=async()=>{if(!i||i.questions.length===0){n({type:"SET_ERROR",payload:t("reviewCannotSaveNoQuestions")}),v.warn("Attempted to save quiz with no questions.","QuizReviewPage",{quizId:i==null?void 0:i.id});return}if(!x){n({type:"SET_ERROR",payload:t("reviewErrorRequiresLogin")}),v.warn("Attempted to save quiz without authentication.","QuizReviewPage",{quizId:i==null?void 0:i.id}),f(t("reviewErrorRequiresLogin"),5e3);return}for(const l of i.questions){if(!l.questionText.trim()){n({type:"SET_ERROR",payload:t("reviewErrorEmptyQuestionText",{id:l.id.substring(0,8)})});return}if(l.options.length<2){n({type:"SET_ERROR",payload:t("reviewErrorNotEnoughOptions",{id:l.id.substring(0,8)})});return}if(!l.correctAnswer||!l.options.includes(l.correctAnswer)){n({type:"SET_ERROR",payload:t("reviewErrorInvalidCorrectAnswer",{id:l.id.substring(0,8)})});return}if(!l.explanation.trim()){n({type:"SET_ERROR",payload:t("reviewErrorEmptyExplanation",{id:l.id.substring(0,8)})});return}}n({type:"SET_ERROR",payload:null}),n({type:"SET_SAVING",payload:!0});try{const l=new Date().toISOString();let g=Q||i.id;g||(g=$());const m={...i,id:g,title:i.title.trim()||t("untitledQuiz"),createdAt:i.createdAt||l,lastModified:l,config:i.config||{numQuestions:i.questions.length,difficulty:"Medium",language:s==="vi"?"Vietnamese":"English",customUserPrompt:"",selectedModel:be}};v.info("Attempting to save quiz...","QuizReviewPage",{quizId:m.id,title:m.title,questionCount:m.questions.length}),Q?await u(m):await r(m),v.info("Quiz saved successfully. Navigating to dashboard.","QuizReviewPage",{quizId:m.id}),o("/dashboard")}catch(l){v.error("Error saving quiz","QuizReviewPage",{quizId:i==null?void 0:i.id},l),n({type:"SET_ERROR",payload:t("reviewErrorSaving")})}finally{n({type:"SET_SAVING",payload:!1})}},oe=y.useCallback(()=>U(!1),[]);if(d)return a.jsx(fe,{text:t("loading"),className:"mt-24",size:"xl"});if(I&&!i&&!w)return a.jsx(R,{className:"text-red-400 p-12 text-center shadow-xl !border-red-500/70 !bg-red-800/40 text-lg font-semibold !rounded-2xl animate-fadeInUp",useGlassEffect:!0,children:I});if(!i)return a.jsx(R,{className:"text-slate-400 p-12 text-center shadow-lg text-lg font-medium !rounded-2xl animate-fadeInUp",useGlassEffect:!0,children:t("reviewErrorNoQuizData")});const O=!!Q;return a.jsxs("div",{className:"pb-16",children:[a.jsx(ge,{notification:c,onClose:z}),a.jsx("div",{className:"sticky-review-actions bg-slate-800 shadow-xl py-4 -mx-4 sm:-mx-6 lg:-mx-8 rounded-b-2xl border-b border-slate-700 animate-fadeInUp",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-50 leading-tight truncate tracking-tight flex items-center",title:i.title,children:a.jsx(G,{text:t(O?"reviewEditQuizTitle":"reviewFinalizeQuizTitle"),markdownFormatting:!0})}),a.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-end items-center gap-2.5",children:[!O&&a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>o("/create"),leftIcon:a.jsx(he,{className:"w-4 h-4"}),children:[" ",t("reviewDiscardRegenerateShort")," "]}),a.jsxs(E,{variant:"secondary",size:"sm",onClick:()=>o("/dashboard"),leftIcon:a.jsx(we,{className:"w-4 h-4"}),children:[" ",t(O?"cancel":"reviewDiscardToDashboardShort")," "]}),a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>U(!0),leftIcon:a.jsx(ve,{className:"w-4 h-4"}),className:"border-sky-400/70 text-sky-300 hover:bg-sky-400/15",disabled:!i||i.questions.length===0,children:[" ",t("azotaExportButton")," "]}),a.jsxs(E,{variant:"primary",size:"sm",onClick:ne,isLoading:w,disabled:w||!i.questions.length,leftIcon:a.jsx(ye,{className:"w-4 h-4"}),className:"bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white",children:[" ",t(w?"reviewSavingButton":O?"reviewSaveChangesButton":"reviewSaveButton")," "]})]})]}),I&&a.jsx("p",{role:"alert",className:"text-xs text-red-300 mt-4 bg-red-500/20 p-3 rounded-lg text-center sm:text-left shadow animate-fadeIn",children:I}),i&&!i.questions.length&&a.jsx("p",{role:"alert",className:"text-xs text-yellow-400 mt-4 bg-yellow-500/20 p-3 rounded-lg text-center sm:text-left shadow animate-fadeIn",children:t("reviewCannotSaveNoQuestions")})]})}),a.jsxs("div",{className:"pt-6 sm:pt-8",children:[a.jsxs(R,{useGlassEffect:!0,className:"shadow-xl !rounded-2xl !border-slate-700/50 mb-6 sm:mb-8",children:[a.jsx(J,{label:a.jsx("p",{className:"text-lg font-semibold text-slate-100",children:t("reviewQuizTitleLabel")}),value:i.title,onChange:l=>te(l.target.value),placeholder:t("step2QuizTitlePlaceholder"),inputClassName:"text-xl py-3.5",containerClassName:"mb-2"}),i.sourceContentSnippet&&a.jsxs("details",{className:"mt-4",children:[a.jsxs("summary",{className:"text-xs text-slate-400 cursor-pointer hover:text-sky-300 flex items-center font-semibold group transition-colors var(--duration-fast) var(--ease-ios)",children:[a.jsx(Ee,{className:"w-4 h-4 mr-2.5 text-slate-500 group-hover:text-sky-400 transition-colors var(--duration-fast) var(--ease-ios)",strokeWidth:2}),t("resultsViewSourceSnippet")]}),a.jsx("blockquote",{className:"mt-3 text-xs text-slate-400/80 max-h-24 overflow-y-auto p-3 bg-slate-700/60 border border-slate-600/60 rounded-lg shadow-inner italic",children:a.jsx(G,{text:i.sourceContentSnippet,markdownFormatting:!0})})]})]}),a.jsx("div",{className:"space-y-6 sm:space-y-8",children:i.questions.map((l,g)=>a.jsx(Y,{question:l,index:g,dispatch:n,animationDelayFactor:g},l.id))})]}),a.jsx("div",{className:"mt-10 sm:mt-12 text-center",children:a.jsx(E,{variant:"subtle",onClick:ae,leftIcon:a.jsx(ze,{className:"w-5 h-5"}),className:"border-2 border-dashed border-slate-600 hover:border-sky-400/80 text-slate-300 hover:text-sky-300 py-3 px-6 rounded-xl shadow-lg hover:shadow-black/20",children:t("reviewAddNewQuestion")})}),i&&P&&a.jsx(X,{isOpen:P,onClose:oe,quiz:i}),N.isOpen&&a.jsx(Z,{isOpen:N.isOpen,onClose:()=>A({isOpen:!1,questionIndex:null,questionId:null}),title:t("confirmDeletionTitle"),size:"md",footerContent:a.jsxs("div",{className:"flex justify-end gap-3.5",children:[a.jsx(E,{variant:"secondary",onClick:()=>A({isOpen:!1,questionIndex:null,questionId:null}),size:"md",children:t("cancel")}),a.jsx(E,{variant:"danger",onClick:ie,size:"md",children:t("confirmDeleteButton")})]}),children:a.jsx("p",{className:"text-slate-200 text-base leading-relaxed",children:t("reviewDeleteQuestionConfirmationMessage",{questionIndex:(N.questionIndex??0)+1})})})]})};De.displayName="QuizReviewPage";export{De as default};
