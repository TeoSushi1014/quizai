import{h as j,i as g,k as N,a5 as b,j as e,E as w,C as n,n as S,a6 as l,a7 as o,t as k,a8 as I,a9 as i,X as C,a4 as T,I as D,B as x}from"./index-BJ6IOBh1.js";const L=()=>{const{currentUser:m,syncWithGoogleDrive:d,isDriveLoading:a,driveSyncError:t,lastDriveSync:c,setDriveSyncError:h}=j(),{t:s,language:u}=g(),v=N(),{theme:r,toggleTheme:p}=b();if(!m)return v("/signin",{state:{from:{pathname:"/settings"}}}),e.jsx(w,{text:s("loading")});const y=async()=>{window.confirm(s("syncConfirmation"))&&await d()},f=c?c.toLocaleString(u,{dateStyle:"medium",timeStyle:"short"}):s("syncStatusNever");return e.jsx("div",{className:"max-w-2xl mx-auto py-8 animate-page-slide-fade-in",children:e.jsxs(n,{useGlassEffect:!0,className:"shadow-2xl !rounded-2xl",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("h1",{className:"text-3xl font-bold text-[var(--color-text-primary)] mb-3 tracking-tight",children:e.jsx(S,{text:s("navSettings")})}),e.jsx("p",{className:"text-[var(--color-text-secondary)] text-sm leading-relaxed",children:"Manage your application preferences and data synchronization."})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx(n,{className:"!bg-[var(--color-bg-surface-2)]/80 !border-[var(--color-border-default)] p-5 sm:p-6 rounded-xl shadow-lg",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-1.5",children:[r==="dark"?e.jsx(l,{className:"w-5 h-5 mr-2.5 text-[var(--color-primary-accent)] flex-shrink-0"}):e.jsx(o,{className:"w-5 h-5 mr-2.5 text-[var(--color-primary-accent)] flex-shrink-0"}),e.jsx("p",{className:"text-base font-semibold text-[var(--color-text-primary)]",children:s("themeSettings")})]}),e.jsxs("p",{className:"text-xs text-[var(--color-text-secondary)] sm:ml-[28px]",children:[" ",s(r==="dark"?"currentlyUsingDarkTheme":"currentlyUsingLightTheme")]})]}),e.jsxs("div",{className:"flex items-center space-x-3 w-full sm:w-auto justify-center sm:justify-end",children:[e.jsx(o,{className:`w-5 h-5 ${r==="light"?"text-[var(--color-primary-accent)]":"text-[var(--color-text-muted)]"}`}),e.jsx(k,{checked:r==="dark",onChange:p,label:"",size:"lg"}),e.jsx(l,{className:`w-5 h-5 ${r==="dark"?"text-[var(--color-primary-accent)]":"text-[var(--color-text-muted)]"}`})]})]})}),e.jsxs(n,{className:"!bg-[var(--color-bg-surface-2)]/80 !border-[var(--color-border-default)] p-5 sm:p-6 rounded-xl shadow-lg",children:[e.jsxs("div",{className:"flex items-center mb-1.5",children:[e.jsx(I,{className:"w-5 h-5 mr-2.5 text-sky-400 flex-shrink-0"}),e.jsx("p",{className:"text-base font-semibold text-[var(--color-text-primary)]",children:s("syncSettingsTitle")})]}),e.jsx("p",{className:"text-xs text-[var(--color-text-secondary)] mb-5 sm:ml-[28px]",children:s("syncSettingsDescription")}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-[var(--color-text-secondary)] mb-1",children:s("syncStatus")}),a&&!t&&e.jsxs("div",{className:"flex items-center text-[var(--color-primary-accent)] animate-pulse",children:[e.jsx(i,{className:"w-4 h-4 mr-2 animate-spin"}),e.jsx("span",{className:"text-xs font-semibold",children:s("syncStatusInProgress")})]}),!a&&t&&e.jsxs("div",{className:"flex items-center text-[var(--color-danger-accent)]",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-xs font-semibold",children:s("syncStatusError",{error:t})})]}),!a&&!t&&c&&e.jsxs("div",{className:"flex items-center text-[var(--color-success-accent)]",children:[e.jsx(T,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-xs font-semibold",children:s("syncStatusLast",{dateTime:f})})]}),!a&&!t&&!c&&e.jsxs("div",{className:"flex items-center text-[var(--color-text-muted)]",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-xs font-semibold",children:s("syncStatusNever")})]})]}),e.jsx(x,{onClick:y,isLoading:a,disabled:a,variant:"primary",size:"md",leftIcon:e.jsx(i,{className:`w-5 h-5 ${a?"animate-spin":""}`}),className:"w-full sm:w-auto shadow-lg hover:shadow-[var(--color-primary-accent)]/40 py-2.5 px-6",children:s(a?"syncStatusInProgress":"syncNowButton")})]}),t&&e.jsx(x,{variant:"link",size:"xs",onClick:()=>h(null),className:"mt-3 !text-[var(--color-primary-accent)] hover:!text-[var(--color-primary-accent-hover)] text-xs",children:s("close")}),e.jsxs("p",{className:"text-xs text-[var(--color-text-muted)] text-center pt-6 mt-4 border-t border-[var(--color-border-default)]/50",children:["Your QuizAI data is securely stored in a file named ",e.jsx("code",{children:"quizai_user_data.json"})," in your Google Drive's root folder, accessible only by this application."]})]})]})]})})};L.displayName="SyncSettingsPage";export{L as default};
