var w6=Object.defineProperty;var jS=r=>{throw TypeError(r)};var T6=(r,e,t)=>e in r?w6(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var pt=(r,e,t)=>T6(r,typeof e!="symbol"?e+"":e,t),r2=(r,e,t)=>e.has(r)||jS("Cannot "+t);var _=(r,e,t)=>(r2(r,e,"read from private field"),t?t.call(r):e.get(r)),Z=(r,e,t)=>e.has(r)?jS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),$=(r,e,t,n)=>(r2(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),Y=(r,e,t)=>(r2(r,e,"access private method"),t);var ir=(r,e,t,n)=>({set _(i){$(r,e,i,t)},get _(){return _(r,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var ll=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tm(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function KN(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var s2={exports:{}},Lf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VS;function D6(){if(VS)return Lf;VS=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:r,type:n,key:a,ref:i!==void 0?i:null,props:s}}return Lf.Fragment=e,Lf.jsx=t,Lf.jsxs=t,Lf}var HS;function A6(){return HS||(HS=1,s2.exports=D6()),s2.exports}var k=A6(),a2={exports:{}},mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GS;function E6(){if(GS)return mt;GS=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(j){return j===null||typeof j!="object"?null:(j=p&&j[p]||j["@@iterator"],typeof j=="function"?j:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,x={};function T(j,V,ee){this.props=j,this.context=V,this.refs=x,this.updater=ee||y}T.prototype.isReactComponent={},T.prototype.setState=function(j,V){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,V,"setState")},T.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function D(){}D.prototype=T.prototype;function E(j,V,ee){this.props=j,this.context=V,this.refs=x,this.updater=ee||y}var C=E.prototype=new D;C.constructor=E,v(C,T.prototype),C.isPureReactComponent=!0;var R=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function O(j,V,ee,re,pe,be){return ee=be.ref,{$$typeof:r,type:j,key:V,ref:ee!==void 0?ee:null,props:be}}function W(j,V){return O(j.type,V,void 0,void 0,void 0,j.props)}function L(j){return typeof j=="object"&&j!==null&&j.$$typeof===r}function H(j){var V={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ee){return V[ee]})}var ne=/\/+/g;function F(j,V){return typeof j=="object"&&j!==null&&j.key!=null?H(""+j.key):V.toString(36)}function B(){}function N(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(B,B):(j.status="pending",j.then(function(V){j.status==="pending"&&(j.status="fulfilled",j.value=V)},function(V){j.status==="pending"&&(j.status="rejected",j.reason=V)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function K(j,V,ee,re,pe){var be=typeof j;(be==="undefined"||be==="boolean")&&(j=null);var Ee=!1;if(j===null)Ee=!0;else switch(be){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(j.$$typeof){case r:case e:Ee=!0;break;case h:return Ee=j._init,K(Ee(j._payload),V,ee,re,pe)}}if(Ee)return pe=pe(j),Ee=re===""?"."+F(j,0):re,R(pe)?(ee="",Ee!=null&&(ee=Ee.replace(ne,"$&/")+"/"),K(pe,V,ee,"",function(ze){return ze})):pe!=null&&(L(pe)&&(pe=W(pe,ee+(pe.key==null||j&&j.key===pe.key?"":(""+pe.key).replace(ne,"$&/")+"/")+Ee)),V.push(pe)),1;Ee=0;var Re=re===""?".":re+":";if(R(j))for(var Me=0;Me<j.length;Me++)re=j[Me],be=Re+F(re,Me),Ee+=K(re,V,ee,be,pe);else if(Me=g(j),typeof Me=="function")for(j=Me.call(j),Me=0;!(re=j.next()).done;)re=re.value,be=Re+F(re,Me++),Ee+=K(re,V,ee,be,pe);else if(be==="object"){if(typeof j.then=="function")return K(N(j),V,ee,re,pe);throw V=String(j),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function P(j,V,ee){if(j==null)return j;var re=[],pe=0;return K(j,re,"","",function(be){return V.call(ee,be,pe++)}),re}function q(j){if(j._status===-1){var V=j._result;V=V(),V.then(function(ee){(j._status===0||j._status===-1)&&(j._status=1,j._result=ee)},function(ee){(j._status===0||j._status===-1)&&(j._status=2,j._result=ee)}),j._status===-1&&(j._status=0,j._result=V)}if(j._status===1)return j._result.default;throw j._result}var ie=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function te(){}return mt.Children={map:P,forEach:function(j,V,ee){P(j,function(){V.apply(this,arguments)},ee)},count:function(j){var V=0;return P(j,function(){V++}),V},toArray:function(j){return P(j,function(V){return V})||[]},only:function(j){if(!L(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},mt.Component=T,mt.Fragment=t,mt.Profiler=i,mt.PureComponent=E,mt.StrictMode=n,mt.Suspense=u,mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,mt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return U.H.useMemoCache(j)}},mt.cache=function(j){return function(){return j.apply(null,arguments)}},mt.cloneElement=function(j,V,ee){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var re=v({},j.props),pe=j.key,be=void 0;if(V!=null)for(Ee in V.ref!==void 0&&(be=void 0),V.key!==void 0&&(pe=""+V.key),V)!M.call(V,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&V.ref===void 0||(re[Ee]=V[Ee]);var Ee=arguments.length-2;if(Ee===1)re.children=ee;else if(1<Ee){for(var Re=Array(Ee),Me=0;Me<Ee;Me++)Re[Me]=arguments[Me+2];re.children=Re}return O(j.type,pe,void 0,void 0,be,re)},mt.createContext=function(j){return j={$$typeof:a,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:s,_context:j},j},mt.createElement=function(j,V,ee){var re,pe={},be=null;if(V!=null)for(re in V.key!==void 0&&(be=""+V.key),V)M.call(V,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(pe[re]=V[re]);var Ee=arguments.length-2;if(Ee===1)pe.children=ee;else if(1<Ee){for(var Re=Array(Ee),Me=0;Me<Ee;Me++)Re[Me]=arguments[Me+2];pe.children=Re}if(j&&j.defaultProps)for(re in Ee=j.defaultProps,Ee)pe[re]===void 0&&(pe[re]=Ee[re]);return O(j,be,void 0,void 0,null,pe)},mt.createRef=function(){return{current:null}},mt.forwardRef=function(j){return{$$typeof:l,render:j}},mt.isValidElement=L,mt.lazy=function(j){return{$$typeof:h,_payload:{_status:-1,_result:j},_init:q}},mt.memo=function(j,V){return{$$typeof:d,type:j,compare:V===void 0?null:V}},mt.startTransition=function(j){var V=U.T,ee={};U.T=ee;try{var re=j(),pe=U.S;pe!==null&&pe(ee,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(te,ie)}catch(be){ie(be)}finally{U.T=V}},mt.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},mt.use=function(j){return U.H.use(j)},mt.useActionState=function(j,V,ee){return U.H.useActionState(j,V,ee)},mt.useCallback=function(j,V){return U.H.useCallback(j,V)},mt.useContext=function(j){return U.H.useContext(j)},mt.useDebugValue=function(){},mt.useDeferredValue=function(j,V){return U.H.useDeferredValue(j,V)},mt.useEffect=function(j,V,ee){var re=U.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(j,V)},mt.useId=function(){return U.H.useId()},mt.useImperativeHandle=function(j,V,ee){return U.H.useImperativeHandle(j,V,ee)},mt.useInsertionEffect=function(j,V){return U.H.useInsertionEffect(j,V)},mt.useLayoutEffect=function(j,V){return U.H.useLayoutEffect(j,V)},mt.useMemo=function(j,V){return U.H.useMemo(j,V)},mt.useOptimistic=function(j,V){return U.H.useOptimistic(j,V)},mt.useReducer=function(j,V,ee){return U.H.useReducer(j,V,ee)},mt.useRef=function(j){return U.H.useRef(j)},mt.useState=function(j){return U.H.useState(j)},mt.useSyncExternalStore=function(j,V,ee){return U.H.useSyncExternalStore(j,V,ee)},mt.useTransition=function(){return U.H.useTransition()},mt.version="19.1.0",mt}var $S;function LT(){return $S||($S=1,a2.exports=E6()),a2.exports}var de=LT();const Pr=Tm(de);var o2={exports:{}},Of={},l2={exports:{}},c2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XS;function C6(){return XS||(XS=1,function(r){function e(P,q){var ie=P.length;P.push(q);e:for(;0<ie;){var te=ie-1>>>1,j=P[te];if(0<i(j,q))P[te]=q,P[ie]=j,ie=te;else break e}}function t(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var q=P[0],ie=P.pop();if(ie!==q){P[0]=ie;e:for(var te=0,j=P.length,V=j>>>1;te<V;){var ee=2*(te+1)-1,re=P[ee],pe=ee+1,be=P[pe];if(0>i(re,ie))pe<j&&0>i(be,re)?(P[te]=be,P[pe]=ie,te=pe):(P[te]=re,P[ee]=ie,te=ee);else if(pe<j&&0>i(be,ie))P[te]=be,P[pe]=ie,te=pe;else break e}}return q}function i(P,q){var ie=P.sortIndex-q.sortIndex;return ie!==0?ie:P.id-q.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();r.unstable_now=function(){return a.now()-l}}var u=[],d=[],h=1,p=null,g=3,y=!1,v=!1,x=!1,T=!1,D=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function R(P){for(var q=t(d);q!==null;){if(q.callback===null)n(d);else if(q.startTime<=P)n(d),q.sortIndex=q.expirationTime,e(u,q);else break;q=t(d)}}function U(P){if(x=!1,R(P),!v)if(t(u)!==null)v=!0,M||(M=!0,F());else{var q=t(d);q!==null&&K(U,q.startTime-P)}}var M=!1,O=-1,W=5,L=-1;function H(){return T?!0:!(r.unstable_now()-L<W)}function ne(){if(T=!1,M){var P=r.unstable_now();L=P;var q=!0;try{e:{v=!1,x&&(x=!1,E(O),O=-1),y=!0;var ie=g;try{t:{for(R(P),p=t(u);p!==null&&!(p.expirationTime>P&&H());){var te=p.callback;if(typeof te=="function"){p.callback=null,g=p.priorityLevel;var j=te(p.expirationTime<=P);if(P=r.unstable_now(),typeof j=="function"){p.callback=j,R(P),q=!0;break t}p===t(u)&&n(u),R(P)}else n(u);p=t(u)}if(p!==null)q=!0;else{var V=t(d);V!==null&&K(U,V.startTime-P),q=!1}}break e}finally{p=null,g=ie,y=!1}q=void 0}}finally{q?F():M=!1}}}var F;if(typeof C=="function")F=function(){C(ne)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,N=B.port2;B.port1.onmessage=ne,F=function(){N.postMessage(null)}}else F=function(){D(ne,0)};function K(P,q){O=D(function(){P(r.unstable_now())},q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(P){P.callback=null},r.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<P?Math.floor(1e3/P):5},r.unstable_getCurrentPriorityLevel=function(){return g},r.unstable_next=function(P){switch(g){case 1:case 2:case 3:var q=3;break;default:q=g}var ie=g;g=q;try{return P()}finally{g=ie}},r.unstable_requestPaint=function(){T=!0},r.unstable_runWithPriority=function(P,q){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var ie=g;g=P;try{return q()}finally{g=ie}},r.unstable_scheduleCallback=function(P,q,ie){var te=r.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?te+ie:te):ie=te,P){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ie+j,P={id:h++,callback:q,priorityLevel:P,startTime:ie,expirationTime:j,sortIndex:-1},ie>te?(P.sortIndex=ie,e(d,P),t(u)===null&&P===t(d)&&(x?(E(O),O=-1):x=!0,K(U,ie-te))):(P.sortIndex=j,e(u,P),v||y||(v=!0,M||(M=!0,F()))),P},r.unstable_shouldYield=H,r.unstable_wrapCallback=function(P){var q=g;return function(){var ie=g;g=q;try{return P.apply(this,arguments)}finally{g=ie}}}}(c2)),c2}var QS;function S6(){return QS||(QS=1,l2.exports=C6()),l2.exports}var u2={exports:{}},di={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YS;function U6(){if(YS)return di;YS=1;var r=LT();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:d,implementation:h}}var a=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return di.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,di.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(u,d,null,h)},di.flushSync=function(u){var d=a.T,h=n.p;try{if(a.T=null,n.p=2,u)return u()}finally{a.T=d,n.p=h,n.d.f()}},di.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(u,d))},di.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},di.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,p=l(h,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?n.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:y}):h==="script"&&n.d.X(u,{crossOrigin:p,integrity:g,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},di.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);n.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(u)},di.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=l(h,d.crossOrigin);n.d.L(u,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},di.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=l(d.as,d.crossOrigin);n.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(u)},di.requestFormReset=function(u){n.d.r(u)},di.unstable_batchedUpdates=function(u,d){return u(d)},di.useFormState=function(u,d,h){return a.H.useFormState(u,d,h)},di.useFormStatus=function(){return a.H.useHostTransitionStatus()},di.version="19.1.0",di}var KS;function ZN(){if(KS)return u2.exports;KS=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),u2.exports=U6(),u2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZS;function k6(){if(ZS)return Of;ZS=1;var r=S6(),e=LT(),t=ZN();function n(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,f=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(f=c.return),o=c.return;while(o)}return c.tag===3?f:null}function a(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(s(o)!==o)throw Error(n(188))}function u(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(n(188));return c!==o?null:o}for(var f=o,m=c;;){var A=f.return;if(A===null)break;var S=A.alternate;if(S===null){if(m=A.return,m!==null){f=m;continue}break}if(A.child===S.child){for(S=A.child;S;){if(S===f)return l(A),o;if(S===m)return l(A),c;S=S.sibling}throw Error(n(188))}if(f.return!==m.return)f=A,m=S;else{for(var z=!1,Q=A.child;Q;){if(Q===f){z=!0,f=A,m=S;break}if(Q===m){z=!0,m=A,f=S;break}Q=Q.sibling}if(!z){for(Q=S.child;Q;){if(Q===f){z=!0,f=S,m=A;break}if(Q===m){z=!0,m=S,f=A;break}Q=Q.sibling}if(!z)throw Error(n(189))}}if(f.alternate!==m)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?o:c}function d(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=d(o),c!==null)return c;o=o.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),C=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function F(o){return o===null||typeof o!="object"?null:(o=ne&&o[ne]||o["@@iterator"],typeof o=="function"?o:null)}var B=Symbol.for("react.client.reference");function N(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===B?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case v:return"Fragment";case T:return"Profiler";case x:return"StrictMode";case U:return"Suspense";case M:return"SuspenseList";case L:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case y:return"Portal";case C:return(o.displayName||"Context")+".Provider";case E:return(o._context.displayName||"Context")+".Consumer";case R:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case O:return c=o.displayName||null,c!==null?c:N(o.type)||"Memo";case W:c=o._payload,o=o._init;try{return N(o(c))}catch{}}return null}var K=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},te=[],j=-1;function V(o){return{current:o}}function ee(o){0>j||(o.current=te[j],te[j]=null,j--)}function re(o,c){j++,te[j]=o.current,o.current=c}var pe=V(null),be=V(null),Ee=V(null),Re=V(null);function Me(o,c){switch(re(Ee,c),re(be,o),re(pe,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?yS(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=yS(c),o=vS(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ee(pe),re(pe,o)}function ze(){ee(pe),ee(be),ee(Ee)}function Ge(o){o.memoizedState!==null&&re(Re,o);var c=pe.current,f=vS(c,o.type);c!==f&&(re(be,o),re(pe,f))}function Ke(o){be.current===o&&(ee(pe),ee(be)),Re.current===o&&(ee(Re),Rf._currentValue=ie)}var ft=Object.prototype.hasOwnProperty,at=r.unstable_scheduleCallback,I=r.unstable_cancelCallback,ye=r.unstable_shouldYield,he=r.unstable_requestPaint,se=r.unstable_now,X=r.unstable_getCurrentPriorityLevel,oe=r.unstable_ImmediatePriority,De=r.unstable_UserBlockingPriority,_e=r.unstable_NormalPriority,fe=r.unstable_LowPriority,ae=r.unstable_IdlePriority,le=r.log,ve=r.unstable_setDisableYieldValue,Ae=null,Ie=null;function qe(o){if(typeof le=="function"&&ve(o),Ie&&typeof Ie.setStrictMode=="function")try{Ie.setStrictMode(Ae,o)}catch{}}var ge=Math.clz32?Math.clz32:Ve,ke=Math.log,Oe=Math.LN2;function Ve(o){return o>>>=0,o===0?32:31-(ke(o)/Oe|0)|0}var $e=256,dt=4194304;function Pt(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function an(o,c,f){var m=o.pendingLanes;if(m===0)return 0;var A=0,S=o.suspendedLanes,z=o.pingedLanes;o=o.warmLanes;var Q=m&134217727;return Q!==0?(m=Q&~S,m!==0?A=Pt(m):(z&=Q,z!==0?A=Pt(z):f||(f=Q&~o,f!==0&&(A=Pt(f))))):(Q=m&~S,Q!==0?A=Pt(Q):z!==0?A=Pt(z):f||(f=m&~o,f!==0&&(A=Pt(f)))),A===0?0:c!==0&&c!==A&&(c&S)===0&&(S=A&-A,f=c&-c,S>=f||S===32&&(f&4194048)!==0)?c:A}function zn(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function _u(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ao(){var o=$e;return $e<<=1,($e&4194048)===0&&($e=256),o}function Cl(){var o=dt;return dt<<=1,(dt&62914560)===0&&(dt=4194304),o}function G(o){for(var c=[],f=0;31>f;f++)c.push(o);return c}function J(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function ue(o,c,f,m,A,S){var z=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var Q=o.entanglements,ce=o.expirationTimes,Te=o.hiddenUpdates;for(f=z&~f;0<f;){var Ne=31-ge(f),Le=1<<Ne;Q[Ne]=0,ce[Ne]=-1;var Ce=Te[Ne];if(Ce!==null)for(Te[Ne]=null,Ne=0;Ne<Ce.length;Ne++){var Se=Ce[Ne];Se!==null&&(Se.lane&=-536870913)}f&=~Le}m!==0&&Ue(o,m,0),S!==0&&A===0&&o.tag!==0&&(o.suspendedLanes|=S&~(z&~c))}function Ue(o,c,f){o.pendingLanes|=c,o.suspendedLanes&=~c;var m=31-ge(c);o.entangledLanes|=c,o.entanglements[m]=o.entanglements[m]|1073741824|f&4194090}function Be(o,c){var f=o.entangledLanes|=c;for(o=o.entanglements;f;){var m=31-ge(f),A=1<<m;A&c|o[m]&c&&(o[m]|=c),f&=~A}}function rt(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Bt(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Yn(){var o=q.p;return o!==0?o:(o=window.event,o===void 0?32:OS(o.type))}function jr(o,c){var f=q.p;try{return q.p=o,c()}finally{q.p=f}}var Kn=Math.random().toString(36).slice(2),en="__reactFiber$"+Kn,mn="__reactProps$"+Kn,ki="__reactContainer$"+Kn,Vr="__reactEvents$"+Kn,vr="__reactListeners$"+Kn,Ys="__reactHandles$"+Kn,oo="__reactResources$"+Kn,yn="__reactMarker$"+Kn;function wu(o){delete o[en],delete o[mn],delete o[Vr],delete o[vr],delete o[Ys]}function Qi(o){var c=o[en];if(c)return c;for(var f=o.parentNode;f;){if(c=f[ki]||f[en]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(o=wS(o);o!==null;){if(f=o[en])return f;o=wS(o)}return c}o=f,f=o.parentNode}return null}function Ks(o){if(o=o[en]||o[ki]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function Wh(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(n(33))}function Tu(o){var c=o[oo];return c||(c=o[oo]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function qn(o){o[yn]=!0}var aA=new Set,oA={};function Sl(o,c){Du(o,c),Du(o+"Capture",c)}function Du(o,c){for(oA[o]=c,o=0;o<c.length;o++)aA.add(c[o])}var p4=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lA={},cA={};function g4(o){return ft.call(cA,o)?!0:ft.call(lA,o)?!1:p4.test(o)?cA[o]=!0:(lA[o]=!0,!1)}function Lm(o,c,f){if(g4(c))if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+f)}}function Om(o,c,f){if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+f)}}function Zs(o,c,f,m){if(m===null)o.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(c,f,""+m)}}var Zb,uA;function Au(o){if(Zb===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);Zb=c&&c[1]||"",uA=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zb+o+uA}var Jb=!1;function ex(o,c){if(!o||Jb)return"";Jb=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var Le=function(){throw Error()};if(Object.defineProperty(Le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Le,[])}catch(Se){var Ce=Se}Reflect.construct(o,[],Le)}else{try{Le.call()}catch(Se){Ce=Se}o.call(Le.prototype)}}else{try{throw Error()}catch(Se){Ce=Se}(Le=o())&&typeof Le.catch=="function"&&Le.catch(function(){})}}catch(Se){if(Se&&Ce&&typeof Se.stack=="string")return[Se.stack,Ce.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),z=S[0],Q=S[1];if(z&&Q){var ce=z.split(`
`),Te=Q.split(`
`);for(A=m=0;m<ce.length&&!ce[m].includes("DetermineComponentFrameRoot");)m++;for(;A<Te.length&&!Te[A].includes("DetermineComponentFrameRoot");)A++;if(m===ce.length||A===Te.length)for(m=ce.length-1,A=Te.length-1;1<=m&&0<=A&&ce[m]!==Te[A];)A--;for(;1<=m&&0<=A;m--,A--)if(ce[m]!==Te[A]){if(m!==1||A!==1)do if(m--,A--,0>A||ce[m]!==Te[A]){var Ne=`
`+ce[m].replace(" at new "," at ");return o.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",o.displayName)),Ne}while(1<=m&&0<=A);break}}}finally{Jb=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?Au(f):""}function m4(o){switch(o.tag){case 26:case 27:case 5:return Au(o.type);case 16:return Au("Lazy");case 13:return Au("Suspense");case 19:return Au("SuspenseList");case 0:case 15:return ex(o.type,!1);case 11:return ex(o.type.render,!1);case 1:return ex(o.type,!0);case 31:return Au("Activity");default:return""}}function dA(o){try{var c="";do c+=m4(o),o=o.return;while(o);return c}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function br(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function hA(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function y4(o){var c=hA(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),m=""+o[c];if(!o.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var A=f.get,S=f.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return A.call(this)},set:function(z){m=""+z,S.call(this,z)}}),Object.defineProperty(o,c,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(z){m=""+z},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Pm(o){o._valueTracker||(o._valueTracker=y4(o))}function fA(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var f=c.getValue(),m="";return o&&(m=hA(o)?o.checked?"true":"false":o.value),o=m,o!==f?(c.setValue(o),!0):!1}function Bm(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var v4=/[\n"\\]/g;function xr(o){return o.replace(v4,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function tx(o,c,f,m,A,S,z,Q){o.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?o.type=z:o.removeAttribute("type"),c!=null?z==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+br(c)):o.value!==""+br(c)&&(o.value=""+br(c)):z!=="submit"&&z!=="reset"||o.removeAttribute("value"),c!=null?nx(o,z,br(c)):f!=null?nx(o,z,br(f)):m!=null&&o.removeAttribute("value"),A==null&&S!=null&&(o.defaultChecked=!!S),A!=null&&(o.checked=A&&typeof A!="function"&&typeof A!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?o.name=""+br(Q):o.removeAttribute("name")}function pA(o,c,f,m,A,S,z,Q){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(o.type=S),c!=null||f!=null){if(!(S!=="submit"&&S!=="reset"||c!=null))return;f=f!=null?""+br(f):"",c=c!=null?""+br(c):f,Q||c===o.value||(o.value=c),o.defaultValue=c}m=m??A,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=Q?o.checked:!!m,o.defaultChecked=!!m,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(o.name=z)}function nx(o,c,f){c==="number"&&Bm(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function Eu(o,c,f,m){if(o=o.options,c){c={};for(var A=0;A<f.length;A++)c["$"+f[A]]=!0;for(f=0;f<o.length;f++)A=c.hasOwnProperty("$"+o[f].value),o[f].selected!==A&&(o[f].selected=A),A&&m&&(o[f].defaultSelected=!0)}else{for(f=""+br(f),c=null,A=0;A<o.length;A++){if(o[A].value===f){o[A].selected=!0,m&&(o[A].defaultSelected=!0);return}c!==null||o[A].disabled||(c=o[A])}c!==null&&(c.selected=!0)}}function gA(o,c,f){if(c!=null&&(c=""+br(c),c!==o.value&&(o.value=c),f==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=f!=null?""+br(f):""}function mA(o,c,f,m){if(c==null){if(m!=null){if(f!=null)throw Error(n(92));if(K(m)){if(1<m.length)throw Error(n(93));m=m[0]}f=m}f==null&&(f=""),c=f}f=br(c),o.defaultValue=f,m=o.textContent,m===f&&m!==""&&m!==null&&(o.value=m)}function Cu(o,c){if(c){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=c;return}}o.textContent=c}var b4=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yA(o,c,f){var m=c.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":m?o.setProperty(c,f):typeof f!="number"||f===0||b4.has(c)?c==="float"?o.cssFloat=f:o[c]=(""+f).trim():o[c]=f+"px"}function vA(o,c,f){if(c!=null&&typeof c!="object")throw Error(n(62));if(o=o.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var A in c)m=c[A],c.hasOwnProperty(A)&&f[A]!==m&&yA(o,A,m)}else for(var S in c)c.hasOwnProperty(S)&&yA(o,S,c[S])}function ix(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x4=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_4=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zm(o){return _4.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var rx=null;function sx(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Su=null,Uu=null;function bA(o){var c=Ks(o);if(c&&(o=c.stateNode)){var f=o[mn]||null;e:switch(o=c.stateNode,c.type){case"input":if(tx(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),c=f.name,f.type==="radio"&&c!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+xr(""+c)+'"][type="radio"]'),c=0;c<f.length;c++){var m=f[c];if(m!==o&&m.form===o.form){var A=m[mn]||null;if(!A)throw Error(n(90));tx(m,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(c=0;c<f.length;c++)m=f[c],m.form===o.form&&fA(m)}break e;case"textarea":gA(o,f.value,f.defaultValue);break e;case"select":c=f.value,c!=null&&Eu(o,!!f.multiple,c,!1)}}}var ax=!1;function xA(o,c,f){if(ax)return o(c,f);ax=!0;try{var m=o(c);return m}finally{if(ax=!1,(Su!==null||Uu!==null)&&(Ay(),Su&&(c=Su,o=Uu,Uu=Su=null,bA(c),o)))for(c=0;c<o.length;c++)bA(o[c])}}function jh(o,c){var f=o.stateNode;if(f===null)return null;var m=f[mn]||null;if(m===null)return null;f=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(n(231,c,typeof f));return f}var Js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ox=!1;if(Js)try{var Vh={};Object.defineProperty(Vh,"passive",{get:function(){ox=!0}}),window.addEventListener("test",Vh,Vh),window.removeEventListener("test",Vh,Vh)}catch{ox=!1}var lo=null,lx=null,qm=null;function _A(){if(qm)return qm;var o,c=lx,f=c.length,m,A="value"in lo?lo.value:lo.textContent,S=A.length;for(o=0;o<f&&c[o]===A[o];o++);var z=f-o;for(m=1;m<=z&&c[f-m]===A[S-m];m++);return qm=A.slice(o,1<m?1-m:void 0)}function Wm(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function jm(){return!0}function wA(){return!1}function Ri(o){function c(f,m,A,S,z){this._reactName=f,this._targetInst=A,this.type=m,this.nativeEvent=S,this.target=z,this.currentTarget=null;for(var Q in o)o.hasOwnProperty(Q)&&(f=o[Q],this[Q]=f?f(S):S[Q]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?jm:wA,this.isPropagationStopped=wA,this}return h(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=jm)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=jm)},persist:function(){},isPersistent:jm}),c}var Ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vm=Ri(Ul),Hh=h({},Ul,{view:0,detail:0}),w4=Ri(Hh),cx,ux,Gh,Hm=h({},Hh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hx,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Gh&&(Gh&&o.type==="mousemove"?(cx=o.screenX-Gh.screenX,ux=o.screenY-Gh.screenY):ux=cx=0,Gh=o),cx)},movementY:function(o){return"movementY"in o?o.movementY:ux}}),TA=Ri(Hm),T4=h({},Hm,{dataTransfer:0}),D4=Ri(T4),A4=h({},Hh,{relatedTarget:0}),dx=Ri(A4),E4=h({},Ul,{animationName:0,elapsedTime:0,pseudoElement:0}),C4=Ri(E4),S4=h({},Ul,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),U4=Ri(S4),k4=h({},Ul,{data:0}),DA=Ri(k4),R4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I4(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=M4[o])?!!c[o]:!1}function hx(){return I4}var F4=h({},Hh,{key:function(o){if(o.key){var c=R4[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Wm(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?N4[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hx,charCode:function(o){return o.type==="keypress"?Wm(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Wm(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),L4=Ri(F4),O4=h({},Hm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),AA=Ri(O4),P4=h({},Hh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hx}),B4=Ri(P4),z4=h({},Ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),q4=Ri(z4),W4=h({},Hm,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),j4=Ri(W4),V4=h({},Ul,{newState:0,oldState:0}),H4=Ri(V4),G4=[9,13,27,32],fx=Js&&"CompositionEvent"in window,$h=null;Js&&"documentMode"in document&&($h=document.documentMode);var $4=Js&&"TextEvent"in window&&!$h,EA=Js&&(!fx||$h&&8<$h&&11>=$h),CA=" ",SA=!1;function UA(o,c){switch(o){case"keyup":return G4.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kA(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ku=!1;function X4(o,c){switch(o){case"compositionend":return kA(c);case"keypress":return c.which!==32?null:(SA=!0,CA);case"textInput":return o=c.data,o===CA&&SA?null:o;default:return null}}function Q4(o,c){if(ku)return o==="compositionend"||!fx&&UA(o,c)?(o=_A(),qm=lx=lo=null,ku=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return EA&&c.locale!=="ko"?null:c.data;default:return null}}var Y4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RA(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!Y4[o.type]:c==="textarea"}function NA(o,c,f,m){Su?Uu?Uu.push(m):Uu=[m]:Su=m,c=Ry(c,"onChange"),0<c.length&&(f=new Vm("onChange","change",null,f,m),o.push({event:f,listeners:c}))}var Xh=null,Qh=null;function K4(o){hS(o,0)}function Gm(o){var c=Wh(o);if(fA(c))return o}function MA(o,c){if(o==="change")return c}var IA=!1;if(Js){var px;if(Js){var gx="oninput"in document;if(!gx){var FA=document.createElement("div");FA.setAttribute("oninput","return;"),gx=typeof FA.oninput=="function"}px=gx}else px=!1;IA=px&&(!document.documentMode||9<document.documentMode)}function LA(){Xh&&(Xh.detachEvent("onpropertychange",OA),Qh=Xh=null)}function OA(o){if(o.propertyName==="value"&&Gm(Qh)){var c=[];NA(c,Qh,o,sx(o)),xA(K4,c)}}function Z4(o,c,f){o==="focusin"?(LA(),Xh=c,Qh=f,Xh.attachEvent("onpropertychange",OA)):o==="focusout"&&LA()}function J4(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Gm(Qh)}function eL(o,c){if(o==="click")return Gm(c)}function tL(o,c){if(o==="input"||o==="change")return Gm(c)}function nL(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Yi=typeof Object.is=="function"?Object.is:nL;function Yh(o,c){if(Yi(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var f=Object.keys(o),m=Object.keys(c);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var A=f[m];if(!ft.call(c,A)||!Yi(o[A],c[A]))return!1}return!0}function PA(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function BA(o,c){var f=PA(o);o=0;for(var m;f;){if(f.nodeType===3){if(m=o+f.textContent.length,o<=c&&m>=c)return{node:f,offset:c-o};o=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=PA(f)}}function zA(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?zA(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function qA(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=Bm(o.document);c instanceof o.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)o=c.contentWindow;else break;c=Bm(o.document)}return c}function mx(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var iL=Js&&"documentMode"in document&&11>=document.documentMode,Ru=null,yx=null,Kh=null,vx=!1;function WA(o,c,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;vx||Ru==null||Ru!==Bm(m)||(m=Ru,"selectionStart"in m&&mx(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Kh&&Yh(Kh,m)||(Kh=m,m=Ry(yx,"onSelect"),0<m.length&&(c=new Vm("onSelect","select",null,c,f),o.push({event:c,listeners:m}),c.target=Ru)))}function kl(o,c){var f={};return f[o.toLowerCase()]=c.toLowerCase(),f["Webkit"+o]="webkit"+c,f["Moz"+o]="moz"+c,f}var Nu={animationend:kl("Animation","AnimationEnd"),animationiteration:kl("Animation","AnimationIteration"),animationstart:kl("Animation","AnimationStart"),transitionrun:kl("Transition","TransitionRun"),transitionstart:kl("Transition","TransitionStart"),transitioncancel:kl("Transition","TransitionCancel"),transitionend:kl("Transition","TransitionEnd")},bx={},jA={};Js&&(jA=document.createElement("div").style,"AnimationEvent"in window||(delete Nu.animationend.animation,delete Nu.animationiteration.animation,delete Nu.animationstart.animation),"TransitionEvent"in window||delete Nu.transitionend.transition);function Rl(o){if(bx[o])return bx[o];if(!Nu[o])return o;var c=Nu[o],f;for(f in c)if(c.hasOwnProperty(f)&&f in jA)return bx[o]=c[f];return o}var VA=Rl("animationend"),HA=Rl("animationiteration"),GA=Rl("animationstart"),rL=Rl("transitionrun"),sL=Rl("transitionstart"),aL=Rl("transitioncancel"),$A=Rl("transitionend"),XA=new Map,xx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xx.push("scrollEnd");function Hr(o,c){XA.set(o,c),Sl(c,[o])}var QA=new WeakMap;function _r(o,c){if(typeof o=="object"&&o!==null){var f=QA.get(o);return f!==void 0?f:(c={value:o,source:c,stack:dA(c)},QA.set(o,c),c)}return{value:o,source:c,stack:dA(c)}}var wr=[],Mu=0,_x=0;function $m(){for(var o=Mu,c=_x=Mu=0;c<o;){var f=wr[c];wr[c++]=null;var m=wr[c];wr[c++]=null;var A=wr[c];wr[c++]=null;var S=wr[c];if(wr[c++]=null,m!==null&&A!==null){var z=m.pending;z===null?A.next=A:(A.next=z.next,z.next=A),m.pending=A}S!==0&&YA(f,A,S)}}function Xm(o,c,f,m){wr[Mu++]=o,wr[Mu++]=c,wr[Mu++]=f,wr[Mu++]=m,_x|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function wx(o,c,f,m){return Xm(o,c,f,m),Qm(o)}function Iu(o,c){return Xm(o,null,null,c),Qm(o)}function YA(o,c,f){o.lanes|=f;var m=o.alternate;m!==null&&(m.lanes|=f);for(var A=!1,S=o.return;S!==null;)S.childLanes|=f,m=S.alternate,m!==null&&(m.childLanes|=f),S.tag===22&&(o=S.stateNode,o===null||o._visibility&1||(A=!0)),o=S,S=S.return;return o.tag===3?(S=o.stateNode,A&&c!==null&&(A=31-ge(f),o=S.hiddenUpdates,m=o[A],m===null?o[A]=[c]:m.push(c),c.lane=f|536870912),S):null}function Qm(o){if(50<Tf)throw Tf=0,S1=null,Error(n(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Fu={};function oL(o,c,f,m){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ki(o,c,f,m){return new oL(o,c,f,m)}function Tx(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ea(o,c){var f=o.alternate;return f===null?(f=Ki(o.tag,c,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=c,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,c=o.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function KA(o,c){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,c=f.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Ym(o,c,f,m,A,S){var z=0;if(m=o,typeof o=="function")Tx(o)&&(z=1);else if(typeof o=="string")z=c6(o,f,pe.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case L:return o=Ki(31,f,c,A),o.elementType=L,o.lanes=S,o;case v:return Nl(f.children,A,S,c);case x:z=8,A|=24;break;case T:return o=Ki(12,f,c,A|2),o.elementType=T,o.lanes=S,o;case U:return o=Ki(13,f,c,A),o.elementType=U,o.lanes=S,o;case M:return o=Ki(19,f,c,A),o.elementType=M,o.lanes=S,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case D:case C:z=10;break e;case E:z=9;break e;case R:z=11;break e;case O:z=14;break e;case W:z=16,m=null;break e}z=29,f=Error(n(130,o===null?"null":typeof o,"")),m=null}return c=Ki(z,f,c,A),c.elementType=o,c.type=m,c.lanes=S,c}function Nl(o,c,f,m){return o=Ki(7,o,m,c),o.lanes=f,o}function Dx(o,c,f){return o=Ki(6,o,null,c),o.lanes=f,o}function Ax(o,c,f){return c=Ki(4,o.children!==null?o.children:[],o.key,c),c.lanes=f,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Lu=[],Ou=0,Km=null,Zm=0,Tr=[],Dr=0,Ml=null,ta=1,na="";function Il(o,c){Lu[Ou++]=Zm,Lu[Ou++]=Km,Km=o,Zm=c}function ZA(o,c,f){Tr[Dr++]=ta,Tr[Dr++]=na,Tr[Dr++]=Ml,Ml=o;var m=ta;o=na;var A=32-ge(m)-1;m&=~(1<<A),f+=1;var S=32-ge(c)+A;if(30<S){var z=A-A%5;S=(m&(1<<z)-1).toString(32),m>>=z,A-=z,ta=1<<32-ge(c)+A|f<<A|m,na=S+o}else ta=1<<S|f<<A|m,na=o}function Ex(o){o.return!==null&&(Il(o,1),ZA(o,1,0))}function Cx(o){for(;o===Km;)Km=Lu[--Ou],Lu[Ou]=null,Zm=Lu[--Ou],Lu[Ou]=null;for(;o===Ml;)Ml=Tr[--Dr],Tr[Dr]=null,na=Tr[--Dr],Tr[Dr]=null,ta=Tr[--Dr],Tr[Dr]=null}var xi=null,vn=null,Ft=!1,Fl=null,ms=!1,Sx=Error(n(519));function Ll(o){var c=Error(n(418,""));throw ef(_r(c,o)),Sx}function JA(o){var c=o.stateNode,f=o.type,m=o.memoizedProps;switch(c[en]=o,c[mn]=m,f){case"dialog":Tt("cancel",c),Tt("close",c);break;case"iframe":case"object":case"embed":Tt("load",c);break;case"video":case"audio":for(f=0;f<Af.length;f++)Tt(Af[f],c);break;case"source":Tt("error",c);break;case"img":case"image":case"link":Tt("error",c),Tt("load",c);break;case"details":Tt("toggle",c);break;case"input":Tt("invalid",c),pA(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Pm(c);break;case"select":Tt("invalid",c);break;case"textarea":Tt("invalid",c),mA(c,m.value,m.defaultValue,m.children),Pm(c)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||c.textContent===""+f||m.suppressHydrationWarning===!0||mS(c.textContent,f)?(m.popover!=null&&(Tt("beforetoggle",c),Tt("toggle",c)),m.onScroll!=null&&Tt("scroll",c),m.onScrollEnd!=null&&Tt("scrollend",c),m.onClick!=null&&(c.onclick=Ny),c=!0):c=!1,c||Ll(o)}function eE(o){for(xi=o.return;xi;)switch(xi.tag){case 5:case 13:ms=!1;return;case 27:case 3:ms=!0;return;default:xi=xi.return}}function Zh(o){if(o!==xi)return!1;if(!Ft)return eE(o),Ft=!0,!1;var c=o.tag,f;if((f=c!==3&&c!==27)&&((f=c===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||V1(o.type,o.memoizedProps)),f=!f),f&&vn&&Ll(o),eE(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(f=o.data,f==="/$"){if(c===0){vn=$r(o.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++;o=o.nextSibling}vn=null}}else c===27?(c=vn,Ao(o.type)?(o=X1,X1=null,vn=o):vn=c):vn=xi?$r(o.stateNode.nextSibling):null;return!0}function Jh(){vn=xi=null,Ft=!1}function tE(){var o=Fl;return o!==null&&(Ii===null?Ii=o:Ii.push.apply(Ii,o),Fl=null),o}function ef(o){Fl===null?Fl=[o]:Fl.push(o)}var Ux=V(null),Ol=null,ia=null;function co(o,c,f){re(Ux,c._currentValue),c._currentValue=f}function ra(o){o._currentValue=Ux.current,ee(Ux)}function kx(o,c,f){for(;o!==null;){var m=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),o===f)break;o=o.return}}function Rx(o,c,f,m){var A=o.child;for(A!==null&&(A.return=o);A!==null;){var S=A.dependencies;if(S!==null){var z=A.child;S=S.firstContext;e:for(;S!==null;){var Q=S;S=A;for(var ce=0;ce<c.length;ce++)if(Q.context===c[ce]){S.lanes|=f,Q=S.alternate,Q!==null&&(Q.lanes|=f),kx(S.return,f,o),m||(z=null);break e}S=Q.next}}else if(A.tag===18){if(z=A.return,z===null)throw Error(n(341));z.lanes|=f,S=z.alternate,S!==null&&(S.lanes|=f),kx(z,f,o),z=null}else z=A.child;if(z!==null)z.return=A;else for(z=A;z!==null;){if(z===o){z=null;break}if(A=z.sibling,A!==null){A.return=z.return,z=A;break}z=z.return}A=z}}function tf(o,c,f,m){o=null;for(var A=c,S=!1;A!==null;){if(!S){if((A.flags&524288)!==0)S=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var z=A.alternate;if(z===null)throw Error(n(387));if(z=z.memoizedProps,z!==null){var Q=A.type;Yi(A.pendingProps.value,z.value)||(o!==null?o.push(Q):o=[Q])}}else if(A===Re.current){if(z=A.alternate,z===null)throw Error(n(387));z.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(o!==null?o.push(Rf):o=[Rf])}A=A.return}o!==null&&Rx(c,o,f,m),c.flags|=262144}function Jm(o){for(o=o.firstContext;o!==null;){if(!Yi(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Pl(o){Ol=o,ia=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ui(o){return nE(Ol,o)}function ey(o,c){return Ol===null&&Pl(o),nE(o,c)}function nE(o,c){var f=c._currentValue;if(c={context:c,memoizedValue:f,next:null},ia===null){if(o===null)throw Error(n(308));ia=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else ia=ia.next=c;return f}var lL=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(f,m){o.push(m)}};this.abort=function(){c.aborted=!0,o.forEach(function(f){return f()})}},cL=r.unstable_scheduleCallback,uL=r.unstable_NormalPriority,Rn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nx(){return{controller:new lL,data:new Map,refCount:0}}function nf(o){o.refCount--,o.refCount===0&&cL(uL,function(){o.controller.abort()})}var rf=null,Mx=0,Pu=0,Bu=null;function dL(o,c){if(rf===null){var f=rf=[];Mx=0,Pu=F1(),Bu={status:"pending",value:void 0,then:function(m){f.push(m)}}}return Mx++,c.then(iE,iE),c}function iE(){if(--Mx===0&&rf!==null){Bu!==null&&(Bu.status="fulfilled");var o=rf;rf=null,Pu=0,Bu=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function hL(o,c){var f=[],m={status:"pending",value:null,reason:null,then:function(A){f.push(A)}};return o.then(function(){m.status="fulfilled",m.value=c;for(var A=0;A<f.length;A++)(0,f[A])(c)},function(A){for(m.status="rejected",m.reason=A,A=0;A<f.length;A++)(0,f[A])(void 0)}),m}var rE=P.S;P.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&dL(o,c),rE!==null&&rE(o,c)};var Bl=V(null);function Ix(){var o=Bl.current;return o!==null?o:tn.pooledCache}function ty(o,c){c===null?re(Bl,Bl.current):re(Bl,c.pool)}function sE(){var o=Ix();return o===null?null:{parent:Rn._currentValue,pool:o}}var sf=Error(n(460)),aE=Error(n(474)),ny=Error(n(542)),Fx={then:function(){}};function oE(o){return o=o.status,o==="fulfilled"||o==="rejected"}function iy(){}function lE(o,c,f){switch(f=o[f],f===void 0?o.push(c):f!==c&&(c.then(iy,iy),c=f),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,uE(o),o;default:if(typeof c.status=="string")c.then(iy,iy);else{if(o=tn,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=c,o.status="pending",o.then(function(m){if(c.status==="pending"){var A=c;A.status="fulfilled",A.value=m}},function(m){if(c.status==="pending"){var A=c;A.status="rejected",A.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,uE(o),o}throw af=c,sf}}var af=null;function cE(){if(af===null)throw Error(n(459));var o=af;return af=null,o}function uE(o){if(o===sf||o===ny)throw Error(n(483))}var uo=!1;function Lx(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ox(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function ho(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function fo(o,c,f){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(zt&2)!==0){var A=m.pending;return A===null?c.next=c:(c.next=A.next,A.next=c),m.pending=c,c=Qm(o),YA(o,null,f),c}return Xm(o,m,c,f),Qm(o)}function of(o,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194048)!==0)){var m=c.lanes;m&=o.pendingLanes,f|=m,c.lanes=f,Be(o,f)}}function Px(o,c){var f=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var A=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var z={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};S===null?A=S=z:S=S.next=z,f=f.next}while(f!==null);S===null?A=S=c:S=S.next=c}else A=S=c;f={baseState:m.baseState,firstBaseUpdate:A,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=c}var Bx=!1;function lf(){if(Bx){var o=Bu;if(o!==null)throw o}}function cf(o,c,f,m){Bx=!1;var A=o.updateQueue;uo=!1;var S=A.firstBaseUpdate,z=A.lastBaseUpdate,Q=A.shared.pending;if(Q!==null){A.shared.pending=null;var ce=Q,Te=ce.next;ce.next=null,z===null?S=Te:z.next=Te,z=ce;var Ne=o.alternate;Ne!==null&&(Ne=Ne.updateQueue,Q=Ne.lastBaseUpdate,Q!==z&&(Q===null?Ne.firstBaseUpdate=Te:Q.next=Te,Ne.lastBaseUpdate=ce))}if(S!==null){var Le=A.baseState;z=0,Ne=Te=ce=null,Q=S;do{var Ce=Q.lane&-536870913,Se=Ce!==Q.lane;if(Se?(Ut&Ce)===Ce:(m&Ce)===Ce){Ce!==0&&Ce===Pu&&(Bx=!0),Ne!==null&&(Ne=Ne.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var ot=o,it=Q;Ce=c;var $t=f;switch(it.tag){case 1:if(ot=it.payload,typeof ot=="function"){Le=ot.call($t,Le,Ce);break e}Le=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=it.payload,Ce=typeof ot=="function"?ot.call($t,Le,Ce):ot,Ce==null)break e;Le=h({},Le,Ce);break e;case 2:uo=!0}}Ce=Q.callback,Ce!==null&&(o.flags|=64,Se&&(o.flags|=8192),Se=A.callbacks,Se===null?A.callbacks=[Ce]:Se.push(Ce))}else Se={lane:Ce,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Ne===null?(Te=Ne=Se,ce=Le):Ne=Ne.next=Se,z|=Ce;if(Q=Q.next,Q===null){if(Q=A.shared.pending,Q===null)break;Se=Q,Q=Se.next,Se.next=null,A.lastBaseUpdate=Se,A.shared.pending=null}}while(!0);Ne===null&&(ce=Le),A.baseState=ce,A.firstBaseUpdate=Te,A.lastBaseUpdate=Ne,S===null&&(A.shared.lanes=0),_o|=z,o.lanes=z,o.memoizedState=Le}}function dE(o,c){if(typeof o!="function")throw Error(n(191,o));o.call(c)}function hE(o,c){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)dE(f[o],c)}var zu=V(null),ry=V(0);function fE(o,c){o=da,re(ry,o),re(zu,c),da=o|c.baseLanes}function zx(){re(ry,da),re(zu,zu.current)}function qx(){da=ry.current,ee(zu),ee(ry)}var po=0,bt=null,Ht=null,En=null,sy=!1,qu=!1,zl=!1,ay=0,uf=0,Wu=null,fL=0;function _n(){throw Error(n(321))}function Wx(o,c){if(c===null)return!1;for(var f=0;f<c.length&&f<o.length;f++)if(!Yi(o[f],c[f]))return!1;return!0}function jx(o,c,f,m,A,S){return po=S,bt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,P.H=o===null||o.memoizedState===null?YE:KE,zl=!1,S=f(m,A),zl=!1,qu&&(S=gE(c,f,m,A)),pE(o),S}function pE(o){P.H=hy;var c=Ht!==null&&Ht.next!==null;if(po=0,En=Ht=bt=null,sy=!1,uf=0,Wu=null,c)throw Error(n(300));o===null||Wn||(o=o.dependencies,o!==null&&Jm(o)&&(Wn=!0))}function gE(o,c,f,m){bt=o;var A=0;do{if(qu&&(Wu=null),uf=0,qu=!1,25<=A)throw Error(n(301));if(A+=1,En=Ht=null,o.updateQueue!=null){var S=o.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}P.H=xL,S=c(f,m)}while(qu);return S}function pL(){var o=P.H,c=o.useState()[0];return c=typeof c.then=="function"?df(c):c,o=o.useState()[0],(Ht!==null?Ht.memoizedState:null)!==o&&(bt.flags|=1024),c}function Vx(){var o=ay!==0;return ay=0,o}function Hx(o,c,f){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~f}function Gx(o){if(sy){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}sy=!1}po=0,En=Ht=bt=null,qu=!1,uf=ay=0,Wu=null}function Ni(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?bt.memoizedState=En=o:En=En.next=o,En}function Cn(){if(Ht===null){var o=bt.alternate;o=o!==null?o.memoizedState:null}else o=Ht.next;var c=En===null?bt.memoizedState:En.next;if(c!==null)En=c,Ht=o;else{if(o===null)throw bt.alternate===null?Error(n(467)):Error(n(310));Ht=o,o={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},En===null?bt.memoizedState=En=o:En=En.next=o}return En}function $x(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function df(o){var c=uf;return uf+=1,Wu===null&&(Wu=[]),o=lE(Wu,o,c),c=bt,(En===null?c.memoizedState:En.next)===null&&(c=c.alternate,P.H=c===null||c.memoizedState===null?YE:KE),o}function oy(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return df(o);if(o.$$typeof===C)return ui(o)}throw Error(n(438,String(o)))}function Xx(o){var c=null,f=bt.updateQueue;if(f!==null&&(c=f.memoCache),c==null){var m=bt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(A){return A.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),f===null&&(f=$x(),bt.updateQueue=f),f.memoCache=c,f=c.data[c.index],f===void 0)for(f=c.data[c.index]=Array(o),m=0;m<o;m++)f[m]=H;return c.index++,f}function sa(o,c){return typeof c=="function"?c(o):c}function ly(o){var c=Cn();return Qx(c,Ht,o)}function Qx(o,c,f){var m=o.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=f;var A=o.baseQueue,S=m.pending;if(S!==null){if(A!==null){var z=A.next;A.next=S.next,S.next=z}c.baseQueue=A=S,m.pending=null}if(S=o.baseState,A===null)o.memoizedState=S;else{c=A.next;var Q=z=null,ce=null,Te=c,Ne=!1;do{var Le=Te.lane&-536870913;if(Le!==Te.lane?(Ut&Le)===Le:(po&Le)===Le){var Ce=Te.revertLane;if(Ce===0)ce!==null&&(ce=ce.next={lane:0,revertLane:0,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),Le===Pu&&(Ne=!0);else if((po&Ce)===Ce){Te=Te.next,Ce===Pu&&(Ne=!0);continue}else Le={lane:0,revertLane:Te.revertLane,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},ce===null?(Q=ce=Le,z=S):ce=ce.next=Le,bt.lanes|=Ce,_o|=Ce;Le=Te.action,zl&&f(S,Le),S=Te.hasEagerState?Te.eagerState:f(S,Le)}else Ce={lane:Le,revertLane:Te.revertLane,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},ce===null?(Q=ce=Ce,z=S):ce=ce.next=Ce,bt.lanes|=Le,_o|=Le;Te=Te.next}while(Te!==null&&Te!==c);if(ce===null?z=S:ce.next=Q,!Yi(S,o.memoizedState)&&(Wn=!0,Ne&&(f=Bu,f!==null)))throw f;o.memoizedState=S,o.baseState=z,o.baseQueue=ce,m.lastRenderedState=S}return A===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function Yx(o){var c=Cn(),f=c.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=o;var m=f.dispatch,A=f.pending,S=c.memoizedState;if(A!==null){f.pending=null;var z=A=A.next;do S=o(S,z.action),z=z.next;while(z!==A);Yi(S,c.memoizedState)||(Wn=!0),c.memoizedState=S,c.baseQueue===null&&(c.baseState=S),f.lastRenderedState=S}return[S,m]}function mE(o,c,f){var m=bt,A=Cn(),S=Ft;if(S){if(f===void 0)throw Error(n(407));f=f()}else f=c();var z=!Yi((Ht||A).memoizedState,f);z&&(A.memoizedState=f,Wn=!0),A=A.queue;var Q=bE.bind(null,m,A,o);if(hf(2048,8,Q,[o]),A.getSnapshot!==c||z||En!==null&&En.memoizedState.tag&1){if(m.flags|=2048,ju(9,cy(),vE.bind(null,m,A,f,c),null),tn===null)throw Error(n(349));S||(po&124)!==0||yE(m,c,f)}return f}function yE(o,c,f){o.flags|=16384,o={getSnapshot:c,value:f},c=bt.updateQueue,c===null?(c=$x(),bt.updateQueue=c,c.stores=[o]):(f=c.stores,f===null?c.stores=[o]:f.push(o))}function vE(o,c,f,m){c.value=f,c.getSnapshot=m,xE(c)&&_E(o)}function bE(o,c,f){return f(function(){xE(c)&&_E(o)})}function xE(o){var c=o.getSnapshot;o=o.value;try{var f=c();return!Yi(o,f)}catch{return!0}}function _E(o){var c=Iu(o,2);c!==null&&nr(c,o,2)}function Kx(o){var c=Ni();if(typeof o=="function"){var f=o;if(o=f(),zl){qe(!0);try{f()}finally{qe(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:o},c}function wE(o,c,f,m){return o.baseState=f,Qx(o,Ht,typeof m=="function"?m:sa)}function gL(o,c,f,m,A){if(dy(o))throw Error(n(485));if(o=c.action,o!==null){var S={payload:A,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){S.listeners.push(z)}};P.T!==null?f(!0):S.isTransition=!1,m(S),f=c.pending,f===null?(S.next=c.pending=S,TE(c,S)):(S.next=f.next,c.pending=f.next=S)}}function TE(o,c){var f=c.action,m=c.payload,A=o.state;if(c.isTransition){var S=P.T,z={};P.T=z;try{var Q=f(A,m),ce=P.S;ce!==null&&ce(z,Q),DE(o,c,Q)}catch(Te){Zx(o,c,Te)}finally{P.T=S}}else try{S=f(A,m),DE(o,c,S)}catch(Te){Zx(o,c,Te)}}function DE(o,c,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){AE(o,c,m)},function(m){return Zx(o,c,m)}):AE(o,c,f)}function AE(o,c,f){c.status="fulfilled",c.value=f,EE(c),o.state=f,c=o.pending,c!==null&&(f=c.next,f===c?o.pending=null:(f=f.next,c.next=f,TE(o,f)))}function Zx(o,c,f){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=f,EE(c),c=c.next;while(c!==m)}o.action=null}function EE(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function CE(o,c){return c}function SE(o,c){if(Ft){var f=tn.formState;if(f!==null){e:{var m=bt;if(Ft){if(vn){t:{for(var A=vn,S=ms;A.nodeType!==8;){if(!S){A=null;break t}if(A=$r(A.nextSibling),A===null){A=null;break t}}S=A.data,A=S==="F!"||S==="F"?A:null}if(A){vn=$r(A.nextSibling),m=A.data==="F!";break e}}Ll(m)}m=!1}m&&(c=f[0])}}return f=Ni(),f.memoizedState=f.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:CE,lastRenderedState:c},f.queue=m,f=$E.bind(null,bt,m),m.dispatch=f,m=Kx(!1),S=i1.bind(null,bt,!1,m.queue),m=Ni(),A={state:c,dispatch:null,action:o,pending:null},m.queue=A,f=gL.bind(null,bt,A,S,f),A.dispatch=f,m.memoizedState=o,[c,f,!1]}function UE(o){var c=Cn();return kE(c,Ht,o)}function kE(o,c,f){if(c=Qx(o,c,CE)[0],o=ly(sa)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=df(c)}catch(z){throw z===sf?ny:z}else m=c;c=Cn();var A=c.queue,S=A.dispatch;return f!==c.memoizedState&&(bt.flags|=2048,ju(9,cy(),mL.bind(null,A,f),null)),[m,S,o]}function mL(o,c){o.action=c}function RE(o){var c=Cn(),f=Ht;if(f!==null)return kE(c,f,o);Cn(),c=c.memoizedState,f=Cn();var m=f.queue.dispatch;return f.memoizedState=o,[c,m,!1]}function ju(o,c,f,m){return o={tag:o,create:f,deps:m,inst:c,next:null},c=bt.updateQueue,c===null&&(c=$x(),bt.updateQueue=c),f=c.lastEffect,f===null?c.lastEffect=o.next=o:(m=f.next,f.next=o,o.next=m,c.lastEffect=o),o}function cy(){return{destroy:void 0,resource:void 0}}function NE(){return Cn().memoizedState}function uy(o,c,f,m){var A=Ni();m=m===void 0?null:m,bt.flags|=o,A.memoizedState=ju(1|c,cy(),f,m)}function hf(o,c,f,m){var A=Cn();m=m===void 0?null:m;var S=A.memoizedState.inst;Ht!==null&&m!==null&&Wx(m,Ht.memoizedState.deps)?A.memoizedState=ju(c,S,f,m):(bt.flags|=o,A.memoizedState=ju(1|c,S,f,m))}function ME(o,c){uy(8390656,8,o,c)}function IE(o,c){hf(2048,8,o,c)}function FE(o,c){return hf(4,2,o,c)}function LE(o,c){return hf(4,4,o,c)}function OE(o,c){if(typeof c=="function"){o=o();var f=c(o);return function(){typeof f=="function"?f():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function PE(o,c,f){f=f!=null?f.concat([o]):null,hf(4,4,OE.bind(null,c,o),f)}function Jx(){}function BE(o,c){var f=Cn();c=c===void 0?null:c;var m=f.memoizedState;return c!==null&&Wx(c,m[1])?m[0]:(f.memoizedState=[o,c],o)}function zE(o,c){var f=Cn();c=c===void 0?null:c;var m=f.memoizedState;if(c!==null&&Wx(c,m[1]))return m[0];if(m=o(),zl){qe(!0);try{o()}finally{qe(!1)}}return f.memoizedState=[m,c],m}function e1(o,c,f){return f===void 0||(po&1073741824)!==0?o.memoizedState=c:(o.memoizedState=f,o=jC(),bt.lanes|=o,_o|=o,f)}function qE(o,c,f,m){return Yi(f,c)?f:zu.current!==null?(o=e1(o,f,m),Yi(o,c)||(Wn=!0),o):(po&42)===0?(Wn=!0,o.memoizedState=f):(o=jC(),bt.lanes|=o,_o|=o,c)}function WE(o,c,f,m,A){var S=q.p;q.p=S!==0&&8>S?S:8;var z=P.T,Q={};P.T=Q,i1(o,!1,c,f);try{var ce=A(),Te=P.S;if(Te!==null&&Te(Q,ce),ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var Ne=hL(ce,m);ff(o,c,Ne,tr(o))}else ff(o,c,m,tr(o))}catch(Le){ff(o,c,{then:function(){},status:"rejected",reason:Le},tr())}finally{q.p=S,P.T=z}}function yL(){}function t1(o,c,f,m){if(o.tag!==5)throw Error(n(476));var A=jE(o).queue;WE(o,A,c,ie,f===null?yL:function(){return VE(o),f(m)})}function jE(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:ie},next:null};var f={};return c.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:f},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function VE(o){var c=jE(o).next.queue;ff(o,c,{},tr())}function n1(){return ui(Rf)}function HE(){return Cn().memoizedState}function GE(){return Cn().memoizedState}function vL(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var f=tr();o=ho(f);var m=fo(c,o,f);m!==null&&(nr(m,c,f),of(m,c,f)),c={cache:Nx()},o.payload=c;return}c=c.return}}function bL(o,c,f){var m=tr();f={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},dy(o)?XE(c,f):(f=wx(o,c,f,m),f!==null&&(nr(f,o,m),QE(f,c,m)))}function $E(o,c,f){var m=tr();ff(o,c,f,m)}function ff(o,c,f,m){var A={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(dy(o))XE(c,A);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=c.lastRenderedReducer,S!==null))try{var z=c.lastRenderedState,Q=S(z,f);if(A.hasEagerState=!0,A.eagerState=Q,Yi(Q,z))return Xm(o,c,A,0),tn===null&&$m(),!1}catch{}finally{}if(f=wx(o,c,A,m),f!==null)return nr(f,o,m),QE(f,c,m),!0}return!1}function i1(o,c,f,m){if(m={lane:2,revertLane:F1(),action:m,hasEagerState:!1,eagerState:null,next:null},dy(o)){if(c)throw Error(n(479))}else c=wx(o,f,m,2),c!==null&&nr(c,o,2)}function dy(o){var c=o.alternate;return o===bt||c!==null&&c===bt}function XE(o,c){qu=sy=!0;var f=o.pending;f===null?c.next=c:(c.next=f.next,f.next=c),o.pending=c}function QE(o,c,f){if((f&4194048)!==0){var m=c.lanes;m&=o.pendingLanes,f|=m,c.lanes=f,Be(o,f)}}var hy={readContext:ui,use:oy,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useLayoutEffect:_n,useInsertionEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useSyncExternalStore:_n,useId:_n,useHostTransitionStatus:_n,useFormState:_n,useActionState:_n,useOptimistic:_n,useMemoCache:_n,useCacheRefresh:_n},YE={readContext:ui,use:oy,useCallback:function(o,c){return Ni().memoizedState=[o,c===void 0?null:c],o},useContext:ui,useEffect:ME,useImperativeHandle:function(o,c,f){f=f!=null?f.concat([o]):null,uy(4194308,4,OE.bind(null,c,o),f)},useLayoutEffect:function(o,c){return uy(4194308,4,o,c)},useInsertionEffect:function(o,c){uy(4,2,o,c)},useMemo:function(o,c){var f=Ni();c=c===void 0?null:c;var m=o();if(zl){qe(!0);try{o()}finally{qe(!1)}}return f.memoizedState=[m,c],m},useReducer:function(o,c,f){var m=Ni();if(f!==void 0){var A=f(c);if(zl){qe(!0);try{f(c)}finally{qe(!1)}}}else A=c;return m.memoizedState=m.baseState=A,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:A},m.queue=o,o=o.dispatch=bL.bind(null,bt,o),[m.memoizedState,o]},useRef:function(o){var c=Ni();return o={current:o},c.memoizedState=o},useState:function(o){o=Kx(o);var c=o.queue,f=$E.bind(null,bt,c);return c.dispatch=f,[o.memoizedState,f]},useDebugValue:Jx,useDeferredValue:function(o,c){var f=Ni();return e1(f,o,c)},useTransition:function(){var o=Kx(!1);return o=WE.bind(null,bt,o.queue,!0,!1),Ni().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,f){var m=bt,A=Ni();if(Ft){if(f===void 0)throw Error(n(407));f=f()}else{if(f=c(),tn===null)throw Error(n(349));(Ut&124)!==0||yE(m,c,f)}A.memoizedState=f;var S={value:f,getSnapshot:c};return A.queue=S,ME(bE.bind(null,m,S,o),[o]),m.flags|=2048,ju(9,cy(),vE.bind(null,m,S,f,c),null),f},useId:function(){var o=Ni(),c=tn.identifierPrefix;if(Ft){var f=na,m=ta;f=(m&~(1<<32-ge(m)-1)).toString(32)+f,c="«"+c+"R"+f,f=ay++,0<f&&(c+="H"+f.toString(32)),c+="»"}else f=fL++,c="«"+c+"r"+f.toString(32)+"»";return o.memoizedState=c},useHostTransitionStatus:n1,useFormState:SE,useActionState:SE,useOptimistic:function(o){var c=Ni();c.memoizedState=c.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=f,c=i1.bind(null,bt,!0,f),f.dispatch=c,[o,c]},useMemoCache:Xx,useCacheRefresh:function(){return Ni().memoizedState=vL.bind(null,bt)}},KE={readContext:ui,use:oy,useCallback:BE,useContext:ui,useEffect:IE,useImperativeHandle:PE,useInsertionEffect:FE,useLayoutEffect:LE,useMemo:zE,useReducer:ly,useRef:NE,useState:function(){return ly(sa)},useDebugValue:Jx,useDeferredValue:function(o,c){var f=Cn();return qE(f,Ht.memoizedState,o,c)},useTransition:function(){var o=ly(sa)[0],c=Cn().memoizedState;return[typeof o=="boolean"?o:df(o),c]},useSyncExternalStore:mE,useId:HE,useHostTransitionStatus:n1,useFormState:UE,useActionState:UE,useOptimistic:function(o,c){var f=Cn();return wE(f,Ht,o,c)},useMemoCache:Xx,useCacheRefresh:GE},xL={readContext:ui,use:oy,useCallback:BE,useContext:ui,useEffect:IE,useImperativeHandle:PE,useInsertionEffect:FE,useLayoutEffect:LE,useMemo:zE,useReducer:Yx,useRef:NE,useState:function(){return Yx(sa)},useDebugValue:Jx,useDeferredValue:function(o,c){var f=Cn();return Ht===null?e1(f,o,c):qE(f,Ht.memoizedState,o,c)},useTransition:function(){var o=Yx(sa)[0],c=Cn().memoizedState;return[typeof o=="boolean"?o:df(o),c]},useSyncExternalStore:mE,useId:HE,useHostTransitionStatus:n1,useFormState:RE,useActionState:RE,useOptimistic:function(o,c){var f=Cn();return Ht!==null?wE(f,Ht,o,c):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:Xx,useCacheRefresh:GE},Vu=null,pf=0;function fy(o){var c=pf;return pf+=1,Vu===null&&(Vu=[]),lE(Vu,o,c)}function gf(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function py(o,c){throw c.$$typeof===p?Error(n(525)):(o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function ZE(o){var c=o._init;return c(o._payload)}function JE(o){function c(xe,me){if(o){var we=xe.deletions;we===null?(xe.deletions=[me],xe.flags|=16):we.push(me)}}function f(xe,me){if(!o)return null;for(;me!==null;)c(xe,me),me=me.sibling;return null}function m(xe){for(var me=new Map;xe!==null;)xe.key!==null?me.set(xe.key,xe):me.set(xe.index,xe),xe=xe.sibling;return me}function A(xe,me){return xe=ea(xe,me),xe.index=0,xe.sibling=null,xe}function S(xe,me,we){return xe.index=we,o?(we=xe.alternate,we!==null?(we=we.index,we<me?(xe.flags|=67108866,me):we):(xe.flags|=67108866,me)):(xe.flags|=1048576,me)}function z(xe){return o&&xe.alternate===null&&(xe.flags|=67108866),xe}function Q(xe,me,we,Fe){return me===null||me.tag!==6?(me=Dx(we,xe.mode,Fe),me.return=xe,me):(me=A(me,we),me.return=xe,me)}function ce(xe,me,we,Fe){var Xe=we.type;return Xe===v?Ne(xe,me,we.props.children,Fe,we.key):me!==null&&(me.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===W&&ZE(Xe)===me.type)?(me=A(me,we.props),gf(me,we),me.return=xe,me):(me=Ym(we.type,we.key,we.props,null,xe.mode,Fe),gf(me,we),me.return=xe,me)}function Te(xe,me,we,Fe){return me===null||me.tag!==4||me.stateNode.containerInfo!==we.containerInfo||me.stateNode.implementation!==we.implementation?(me=Ax(we,xe.mode,Fe),me.return=xe,me):(me=A(me,we.children||[]),me.return=xe,me)}function Ne(xe,me,we,Fe,Xe){return me===null||me.tag!==7?(me=Nl(we,xe.mode,Fe,Xe),me.return=xe,me):(me=A(me,we),me.return=xe,me)}function Le(xe,me,we){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return me=Dx(""+me,xe.mode,we),me.return=xe,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case g:return we=Ym(me.type,me.key,me.props,null,xe.mode,we),gf(we,me),we.return=xe,we;case y:return me=Ax(me,xe.mode,we),me.return=xe,me;case W:var Fe=me._init;return me=Fe(me._payload),Le(xe,me,we)}if(K(me)||F(me))return me=Nl(me,xe.mode,we,null),me.return=xe,me;if(typeof me.then=="function")return Le(xe,fy(me),we);if(me.$$typeof===C)return Le(xe,ey(xe,me),we);py(xe,me)}return null}function Ce(xe,me,we,Fe){var Xe=me!==null?me.key:null;if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return Xe!==null?null:Q(xe,me,""+we,Fe);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case g:return we.key===Xe?ce(xe,me,we,Fe):null;case y:return we.key===Xe?Te(xe,me,we,Fe):null;case W:return Xe=we._init,we=Xe(we._payload),Ce(xe,me,we,Fe)}if(K(we)||F(we))return Xe!==null?null:Ne(xe,me,we,Fe,null);if(typeof we.then=="function")return Ce(xe,me,fy(we),Fe);if(we.$$typeof===C)return Ce(xe,me,ey(xe,we),Fe);py(xe,we)}return null}function Se(xe,me,we,Fe,Xe){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return xe=xe.get(we)||null,Q(me,xe,""+Fe,Xe);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case g:return xe=xe.get(Fe.key===null?we:Fe.key)||null,ce(me,xe,Fe,Xe);case y:return xe=xe.get(Fe.key===null?we:Fe.key)||null,Te(me,xe,Fe,Xe);case W:var xt=Fe._init;return Fe=xt(Fe._payload),Se(xe,me,we,Fe,Xe)}if(K(Fe)||F(Fe))return xe=xe.get(we)||null,Ne(me,xe,Fe,Xe,null);if(typeof Fe.then=="function")return Se(xe,me,we,fy(Fe),Xe);if(Fe.$$typeof===C)return Se(xe,me,we,ey(me,Fe),Xe);py(me,Fe)}return null}function ot(xe,me,we,Fe){for(var Xe=null,xt=null,tt=me,st=me=0,Vn=null;tt!==null&&st<we.length;st++){tt.index>st?(Vn=tt,tt=null):Vn=tt.sibling;var Nt=Ce(xe,tt,we[st],Fe);if(Nt===null){tt===null&&(tt=Vn);break}o&&tt&&Nt.alternate===null&&c(xe,tt),me=S(Nt,me,st),xt===null?Xe=Nt:xt.sibling=Nt,xt=Nt,tt=Vn}if(st===we.length)return f(xe,tt),Ft&&Il(xe,st),Xe;if(tt===null){for(;st<we.length;st++)tt=Le(xe,we[st],Fe),tt!==null&&(me=S(tt,me,st),xt===null?Xe=tt:xt.sibling=tt,xt=tt);return Ft&&Il(xe,st),Xe}for(tt=m(tt);st<we.length;st++)Vn=Se(tt,xe,st,we[st],Fe),Vn!==null&&(o&&Vn.alternate!==null&&tt.delete(Vn.key===null?st:Vn.key),me=S(Vn,me,st),xt===null?Xe=Vn:xt.sibling=Vn,xt=Vn);return o&&tt.forEach(function(ko){return c(xe,ko)}),Ft&&Il(xe,st),Xe}function it(xe,me,we,Fe){if(we==null)throw Error(n(151));for(var Xe=null,xt=null,tt=me,st=me=0,Vn=null,Nt=we.next();tt!==null&&!Nt.done;st++,Nt=we.next()){tt.index>st?(Vn=tt,tt=null):Vn=tt.sibling;var ko=Ce(xe,tt,Nt.value,Fe);if(ko===null){tt===null&&(tt=Vn);break}o&&tt&&ko.alternate===null&&c(xe,tt),me=S(ko,me,st),xt===null?Xe=ko:xt.sibling=ko,xt=ko,tt=Vn}if(Nt.done)return f(xe,tt),Ft&&Il(xe,st),Xe;if(tt===null){for(;!Nt.done;st++,Nt=we.next())Nt=Le(xe,Nt.value,Fe),Nt!==null&&(me=S(Nt,me,st),xt===null?Xe=Nt:xt.sibling=Nt,xt=Nt);return Ft&&Il(xe,st),Xe}for(tt=m(tt);!Nt.done;st++,Nt=we.next())Nt=Se(tt,xe,st,Nt.value,Fe),Nt!==null&&(o&&Nt.alternate!==null&&tt.delete(Nt.key===null?st:Nt.key),me=S(Nt,me,st),xt===null?Xe=Nt:xt.sibling=Nt,xt=Nt);return o&&tt.forEach(function(_6){return c(xe,_6)}),Ft&&Il(xe,st),Xe}function $t(xe,me,we,Fe){if(typeof we=="object"&&we!==null&&we.type===v&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case g:e:{for(var Xe=we.key;me!==null;){if(me.key===Xe){if(Xe=we.type,Xe===v){if(me.tag===7){f(xe,me.sibling),Fe=A(me,we.props.children),Fe.return=xe,xe=Fe;break e}}else if(me.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===W&&ZE(Xe)===me.type){f(xe,me.sibling),Fe=A(me,we.props),gf(Fe,we),Fe.return=xe,xe=Fe;break e}f(xe,me);break}else c(xe,me);me=me.sibling}we.type===v?(Fe=Nl(we.props.children,xe.mode,Fe,we.key),Fe.return=xe,xe=Fe):(Fe=Ym(we.type,we.key,we.props,null,xe.mode,Fe),gf(Fe,we),Fe.return=xe,xe=Fe)}return z(xe);case y:e:{for(Xe=we.key;me!==null;){if(me.key===Xe)if(me.tag===4&&me.stateNode.containerInfo===we.containerInfo&&me.stateNode.implementation===we.implementation){f(xe,me.sibling),Fe=A(me,we.children||[]),Fe.return=xe,xe=Fe;break e}else{f(xe,me);break}else c(xe,me);me=me.sibling}Fe=Ax(we,xe.mode,Fe),Fe.return=xe,xe=Fe}return z(xe);case W:return Xe=we._init,we=Xe(we._payload),$t(xe,me,we,Fe)}if(K(we))return ot(xe,me,we,Fe);if(F(we)){if(Xe=F(we),typeof Xe!="function")throw Error(n(150));return we=Xe.call(we),it(xe,me,we,Fe)}if(typeof we.then=="function")return $t(xe,me,fy(we),Fe);if(we.$$typeof===C)return $t(xe,me,ey(xe,we),Fe);py(xe,we)}return typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint"?(we=""+we,me!==null&&me.tag===6?(f(xe,me.sibling),Fe=A(me,we),Fe.return=xe,xe=Fe):(f(xe,me),Fe=Dx(we,xe.mode,Fe),Fe.return=xe,xe=Fe),z(xe)):f(xe,me)}return function(xe,me,we,Fe){try{pf=0;var Xe=$t(xe,me,we,Fe);return Vu=null,Xe}catch(tt){if(tt===sf||tt===ny)throw tt;var xt=Ki(29,tt,null,xe.mode);return xt.lanes=Fe,xt.return=xe,xt}finally{}}}var Hu=JE(!0),eC=JE(!1),Ar=V(null),ys=null;function go(o){var c=o.alternate;re(Nn,Nn.current&1),re(Ar,o),ys===null&&(c===null||zu.current!==null||c.memoizedState!==null)&&(ys=o)}function tC(o){if(o.tag===22){if(re(Nn,Nn.current),re(Ar,o),ys===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(ys=o)}}else mo()}function mo(){re(Nn,Nn.current),re(Ar,Ar.current)}function aa(o){ee(Ar),ys===o&&(ys=null),ee(Nn)}var Nn=V(0);function gy(o){for(var c=o;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||$1(f)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function r1(o,c,f,m){c=o.memoizedState,f=f(m,c),f=f==null?c:h({},c,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var s1={enqueueSetState:function(o,c,f){o=o._reactInternals;var m=tr(),A=ho(m);A.payload=c,f!=null&&(A.callback=f),c=fo(o,A,m),c!==null&&(nr(c,o,m),of(c,o,m))},enqueueReplaceState:function(o,c,f){o=o._reactInternals;var m=tr(),A=ho(m);A.tag=1,A.payload=c,f!=null&&(A.callback=f),c=fo(o,A,m),c!==null&&(nr(c,o,m),of(c,o,m))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var f=tr(),m=ho(f);m.tag=2,c!=null&&(m.callback=c),c=fo(o,m,f),c!==null&&(nr(c,o,f),of(c,o,f))}};function nC(o,c,f,m,A,S,z){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,S,z):c.prototype&&c.prototype.isPureReactComponent?!Yh(f,m)||!Yh(A,S):!0}function iC(o,c,f,m){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,m),c.state!==o&&s1.enqueueReplaceState(c,c.state,null)}function ql(o,c){var f=c;if("ref"in c){f={};for(var m in c)m!=="ref"&&(f[m]=c[m])}if(o=o.defaultProps){f===c&&(f=h({},f));for(var A in o)f[A]===void 0&&(f[A]=o[A])}return f}var my=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function rC(o){my(o)}function sC(o){console.error(o)}function aC(o){my(o)}function yy(o,c){try{var f=o.onUncaughtError;f(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function oC(o,c,f){try{var m=o.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function a1(o,c,f){return f=ho(f),f.tag=3,f.payload={element:null},f.callback=function(){yy(o,c)},f}function lC(o){return o=ho(o),o.tag=3,o}function cC(o,c,f,m){var A=f.type.getDerivedStateFromError;if(typeof A=="function"){var S=m.value;o.payload=function(){return A(S)},o.callback=function(){oC(c,f,m)}}var z=f.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(o.callback=function(){oC(c,f,m),typeof A!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var Q=m.stack;this.componentDidCatch(m.value,{componentStack:Q!==null?Q:""})})}function _L(o,c,f,m,A){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=f.alternate,c!==null&&tf(c,f,A,!0),f=Ar.current,f!==null){switch(f.tag){case 13:return ys===null?k1():f.alternate===null&&bn===0&&(bn=3),f.flags&=-257,f.flags|=65536,f.lanes=A,m===Fx?f.flags|=16384:(c=f.updateQueue,c===null?f.updateQueue=new Set([m]):c.add(m),N1(o,m,A)),!1;case 22:return f.flags|=65536,m===Fx?f.flags|=16384:(c=f.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=c):(f=c.retryQueue,f===null?c.retryQueue=new Set([m]):f.add(m)),N1(o,m,A)),!1}throw Error(n(435,f.tag))}return N1(o,m,A),k1(),!1}if(Ft)return c=Ar.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=A,m!==Sx&&(o=Error(n(422),{cause:m}),ef(_r(o,f)))):(m!==Sx&&(c=Error(n(423),{cause:m}),ef(_r(c,f))),o=o.current.alternate,o.flags|=65536,A&=-A,o.lanes|=A,m=_r(m,f),A=a1(o.stateNode,m,A),Px(o,A),bn!==4&&(bn=2)),!1;var S=Error(n(520),{cause:m});if(S=_r(S,f),wf===null?wf=[S]:wf.push(S),bn!==4&&(bn=2),c===null)return!0;m=_r(m,f),f=c;do{switch(f.tag){case 3:return f.flags|=65536,o=A&-A,f.lanes|=o,o=a1(f.stateNode,m,o),Px(f,o),!1;case 1:if(c=f.type,S=f.stateNode,(f.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(wo===null||!wo.has(S))))return f.flags|=65536,A&=-A,f.lanes|=A,A=lC(A),cC(A,o,f,m),Px(f,A),!1}f=f.return}while(f!==null);return!1}var uC=Error(n(461)),Wn=!1;function Zn(o,c,f,m){c.child=o===null?eC(c,null,f,m):Hu(c,o.child,f,m)}function dC(o,c,f,m,A){f=f.render;var S=c.ref;if("ref"in m){var z={};for(var Q in m)Q!=="ref"&&(z[Q]=m[Q])}else z=m;return Pl(c),m=jx(o,c,f,z,S,A),Q=Vx(),o!==null&&!Wn?(Hx(o,c,A),oa(o,c,A)):(Ft&&Q&&Ex(c),c.flags|=1,Zn(o,c,m,A),c.child)}function hC(o,c,f,m,A){if(o===null){var S=f.type;return typeof S=="function"&&!Tx(S)&&S.defaultProps===void 0&&f.compare===null?(c.tag=15,c.type=S,fC(o,c,S,m,A)):(o=Ym(f.type,null,m,c,c.mode,A),o.ref=c.ref,o.return=c,c.child=o)}if(S=o.child,!p1(o,A)){var z=S.memoizedProps;if(f=f.compare,f=f!==null?f:Yh,f(z,m)&&o.ref===c.ref)return oa(o,c,A)}return c.flags|=1,o=ea(S,m),o.ref=c.ref,o.return=c,c.child=o}function fC(o,c,f,m,A){if(o!==null){var S=o.memoizedProps;if(Yh(S,m)&&o.ref===c.ref)if(Wn=!1,c.pendingProps=m=S,p1(o,A))(o.flags&131072)!==0&&(Wn=!0);else return c.lanes=o.lanes,oa(o,c,A)}return o1(o,c,f,m,A)}function pC(o,c,f){var m=c.pendingProps,A=m.children,S=o!==null?o.memoizedState:null;if(m.mode==="hidden"){if((c.flags&128)!==0){if(m=S!==null?S.baseLanes|f:f,o!==null){for(A=c.child=o.child,S=0;A!==null;)S=S|A.lanes|A.childLanes,A=A.sibling;c.childLanes=S&~m}else c.childLanes=0,c.child=null;return gC(o,c,m,f)}if((f&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&ty(c,S!==null?S.cachePool:null),S!==null?fE(c,S):zx(),tC(c);else return c.lanes=c.childLanes=536870912,gC(o,c,S!==null?S.baseLanes|f:f,f)}else S!==null?(ty(c,S.cachePool),fE(c,S),mo(),c.memoizedState=null):(o!==null&&ty(c,null),zx(),mo());return Zn(o,c,A,f),c.child}function gC(o,c,f,m){var A=Ix();return A=A===null?null:{parent:Rn._currentValue,pool:A},c.memoizedState={baseLanes:f,cachePool:A},o!==null&&ty(c,null),zx(),tC(c),o!==null&&tf(o,c,m,!0),null}function vy(o,c){var f=c.ref;if(f===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(n(284));(o===null||o.ref!==f)&&(c.flags|=4194816)}}function o1(o,c,f,m,A){return Pl(c),f=jx(o,c,f,m,void 0,A),m=Vx(),o!==null&&!Wn?(Hx(o,c,A),oa(o,c,A)):(Ft&&m&&Ex(c),c.flags|=1,Zn(o,c,f,A),c.child)}function mC(o,c,f,m,A,S){return Pl(c),c.updateQueue=null,f=gE(c,m,f,A),pE(o),m=Vx(),o!==null&&!Wn?(Hx(o,c,S),oa(o,c,S)):(Ft&&m&&Ex(c),c.flags|=1,Zn(o,c,f,S),c.child)}function yC(o,c,f,m,A){if(Pl(c),c.stateNode===null){var S=Fu,z=f.contextType;typeof z=="object"&&z!==null&&(S=ui(z)),S=new f(m,S),c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=s1,c.stateNode=S,S._reactInternals=c,S=c.stateNode,S.props=m,S.state=c.memoizedState,S.refs={},Lx(c),z=f.contextType,S.context=typeof z=="object"&&z!==null?ui(z):Fu,S.state=c.memoizedState,z=f.getDerivedStateFromProps,typeof z=="function"&&(r1(c,f,z,m),S.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(z=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),z!==S.state&&s1.enqueueReplaceState(S,S.state,null),cf(c,m,S,A),lf(),S.state=c.memoizedState),typeof S.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(o===null){S=c.stateNode;var Q=c.memoizedProps,ce=ql(f,Q);S.props=ce;var Te=S.context,Ne=f.contextType;z=Fu,typeof Ne=="object"&&Ne!==null&&(z=ui(Ne));var Le=f.getDerivedStateFromProps;Ne=typeof Le=="function"||typeof S.getSnapshotBeforeUpdate=="function",Q=c.pendingProps!==Q,Ne||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(Q||Te!==z)&&iC(c,S,m,z),uo=!1;var Ce=c.memoizedState;S.state=Ce,cf(c,m,S,A),lf(),Te=c.memoizedState,Q||Ce!==Te||uo?(typeof Le=="function"&&(r1(c,f,Le,m),Te=c.memoizedState),(ce=uo||nC(c,f,ce,m,Ce,Te,z))?(Ne||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(c.flags|=4194308)):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=Te),S.props=m,S.state=Te,S.context=z,m=ce):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{S=c.stateNode,Ox(o,c),z=c.memoizedProps,Ne=ql(f,z),S.props=Ne,Le=c.pendingProps,Ce=S.context,Te=f.contextType,ce=Fu,typeof Te=="object"&&Te!==null&&(ce=ui(Te)),Q=f.getDerivedStateFromProps,(Te=typeof Q=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(z!==Le||Ce!==ce)&&iC(c,S,m,ce),uo=!1,Ce=c.memoizedState,S.state=Ce,cf(c,m,S,A),lf();var Se=c.memoizedState;z!==Le||Ce!==Se||uo||o!==null&&o.dependencies!==null&&Jm(o.dependencies)?(typeof Q=="function"&&(r1(c,f,Q,m),Se=c.memoizedState),(Ne=uo||nC(c,f,Ne,m,Ce,Se,ce)||o!==null&&o.dependencies!==null&&Jm(o.dependencies))?(Te||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,Se,ce),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,Se,ce)),typeof S.componentDidUpdate=="function"&&(c.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof S.componentDidUpdate!="function"||z===o.memoizedProps&&Ce===o.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&Ce===o.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=Se),S.props=m,S.state=Se,S.context=ce,m=Ne):(typeof S.componentDidUpdate!="function"||z===o.memoizedProps&&Ce===o.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&Ce===o.memoizedState||(c.flags|=1024),m=!1)}return S=m,vy(o,c),m=(c.flags&128)!==0,S||m?(S=c.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:S.render(),c.flags|=1,o!==null&&m?(c.child=Hu(c,o.child,null,A),c.child=Hu(c,null,f,A)):Zn(o,c,f,A),c.memoizedState=S.state,o=c.child):o=oa(o,c,A),o}function vC(o,c,f,m){return Jh(),c.flags|=256,Zn(o,c,f,m),c.child}var l1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function c1(o){return{baseLanes:o,cachePool:sE()}}function u1(o,c,f){return o=o!==null?o.childLanes&~f:0,c&&(o|=Er),o}function bC(o,c,f){var m=c.pendingProps,A=!1,S=(c.flags&128)!==0,z;if((z=S)||(z=o!==null&&o.memoizedState===null?!1:(Nn.current&2)!==0),z&&(A=!0,c.flags&=-129),z=(c.flags&32)!==0,c.flags&=-33,o===null){if(Ft){if(A?go(c):mo(),Ft){var Q=vn,ce;if(ce=Q){e:{for(ce=Q,Q=ms;ce.nodeType!==8;){if(!Q){Q=null;break e}if(ce=$r(ce.nextSibling),ce===null){Q=null;break e}}Q=ce}Q!==null?(c.memoizedState={dehydrated:Q,treeContext:Ml!==null?{id:ta,overflow:na}:null,retryLane:536870912,hydrationErrors:null},ce=Ki(18,null,null,0),ce.stateNode=Q,ce.return=c,c.child=ce,xi=c,vn=null,ce=!0):ce=!1}ce||Ll(c)}if(Q=c.memoizedState,Q!==null&&(Q=Q.dehydrated,Q!==null))return $1(Q)?c.lanes=32:c.lanes=536870912,null;aa(c)}return Q=m.children,m=m.fallback,A?(mo(),A=c.mode,Q=by({mode:"hidden",children:Q},A),m=Nl(m,A,f,null),Q.return=c,m.return=c,Q.sibling=m,c.child=Q,A=c.child,A.memoizedState=c1(f),A.childLanes=u1(o,z,f),c.memoizedState=l1,m):(go(c),d1(c,Q))}if(ce=o.memoizedState,ce!==null&&(Q=ce.dehydrated,Q!==null)){if(S)c.flags&256?(go(c),c.flags&=-257,c=h1(o,c,f)):c.memoizedState!==null?(mo(),c.child=o.child,c.flags|=128,c=null):(mo(),A=m.fallback,Q=c.mode,m=by({mode:"visible",children:m.children},Q),A=Nl(A,Q,f,null),A.flags|=2,m.return=c,A.return=c,m.sibling=A,c.child=m,Hu(c,o.child,null,f),m=c.child,m.memoizedState=c1(f),m.childLanes=u1(o,z,f),c.memoizedState=l1,c=A);else if(go(c),$1(Q)){if(z=Q.nextSibling&&Q.nextSibling.dataset,z)var Te=z.dgst;z=Te,m=Error(n(419)),m.stack="",m.digest=z,ef({value:m,source:null,stack:null}),c=h1(o,c,f)}else if(Wn||tf(o,c,f,!1),z=(f&o.childLanes)!==0,Wn||z){if(z=tn,z!==null&&(m=f&-f,m=(m&42)!==0?1:rt(m),m=(m&(z.suspendedLanes|f))!==0?0:m,m!==0&&m!==ce.retryLane))throw ce.retryLane=m,Iu(o,m),nr(z,o,m),uC;Q.data==="$?"||k1(),c=h1(o,c,f)}else Q.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=ce.treeContext,vn=$r(Q.nextSibling),xi=c,Ft=!0,Fl=null,ms=!1,o!==null&&(Tr[Dr++]=ta,Tr[Dr++]=na,Tr[Dr++]=Ml,ta=o.id,na=o.overflow,Ml=c),c=d1(c,m.children),c.flags|=4096);return c}return A?(mo(),A=m.fallback,Q=c.mode,ce=o.child,Te=ce.sibling,m=ea(ce,{mode:"hidden",children:m.children}),m.subtreeFlags=ce.subtreeFlags&65011712,Te!==null?A=ea(Te,A):(A=Nl(A,Q,f,null),A.flags|=2),A.return=c,m.return=c,m.sibling=A,c.child=m,m=A,A=c.child,Q=o.child.memoizedState,Q===null?Q=c1(f):(ce=Q.cachePool,ce!==null?(Te=Rn._currentValue,ce=ce.parent!==Te?{parent:Te,pool:Te}:ce):ce=sE(),Q={baseLanes:Q.baseLanes|f,cachePool:ce}),A.memoizedState=Q,A.childLanes=u1(o,z,f),c.memoizedState=l1,m):(go(c),f=o.child,o=f.sibling,f=ea(f,{mode:"visible",children:m.children}),f.return=c,f.sibling=null,o!==null&&(z=c.deletions,z===null?(c.deletions=[o],c.flags|=16):z.push(o)),c.child=f,c.memoizedState=null,f)}function d1(o,c){return c=by({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function by(o,c){return o=Ki(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function h1(o,c,f){return Hu(c,o.child,null,f),o=d1(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function xC(o,c,f){o.lanes|=c;var m=o.alternate;m!==null&&(m.lanes|=c),kx(o.return,c,f)}function f1(o,c,f,m,A){var S=o.memoizedState;S===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:A}:(S.isBackwards=c,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=f,S.tailMode=A)}function _C(o,c,f){var m=c.pendingProps,A=m.revealOrder,S=m.tail;if(Zn(o,c,m.children,f),m=Nn.current,(m&2)!==0)m=m&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&xC(o,f,c);else if(o.tag===19)xC(o,f,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}switch(re(Nn,m),A){case"forwards":for(f=c.child,A=null;f!==null;)o=f.alternate,o!==null&&gy(o)===null&&(A=f),f=f.sibling;f=A,f===null?(A=c.child,c.child=null):(A=f.sibling,f.sibling=null),f1(c,!1,A,f,S);break;case"backwards":for(f=null,A=c.child,c.child=null;A!==null;){if(o=A.alternate,o!==null&&gy(o)===null){c.child=A;break}o=A.sibling,A.sibling=f,f=A,A=o}f1(c,!0,f,null,S);break;case"together":f1(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function oa(o,c,f){if(o!==null&&(c.dependencies=o.dependencies),_o|=c.lanes,(f&c.childLanes)===0)if(o!==null){if(tf(o,c,f,!1),(f&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,f=ea(o,o.pendingProps),c.child=f,f.return=c;o.sibling!==null;)o=o.sibling,f=f.sibling=ea(o,o.pendingProps),f.return=c;f.sibling=null}return c.child}function p1(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Jm(o)))}function wL(o,c,f){switch(c.tag){case 3:Me(c,c.stateNode.containerInfo),co(c,Rn,o.memoizedState.cache),Jh();break;case 27:case 5:Ge(c);break;case 4:Me(c,c.stateNode.containerInfo);break;case 10:co(c,c.type,c.memoizedProps.value);break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?(go(c),c.flags|=128,null):(f&c.child.childLanes)!==0?bC(o,c,f):(go(c),o=oa(o,c,f),o!==null?o.sibling:null);go(c);break;case 19:var A=(o.flags&128)!==0;if(m=(f&c.childLanes)!==0,m||(tf(o,c,f,!1),m=(f&c.childLanes)!==0),A){if(m)return _C(o,c,f);c.flags|=128}if(A=c.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),re(Nn,Nn.current),m)break;return null;case 22:case 23:return c.lanes=0,pC(o,c,f);case 24:co(c,Rn,o.memoizedState.cache)}return oa(o,c,f)}function wC(o,c,f){if(o!==null)if(o.memoizedProps!==c.pendingProps)Wn=!0;else{if(!p1(o,f)&&(c.flags&128)===0)return Wn=!1,wL(o,c,f);Wn=(o.flags&131072)!==0}else Wn=!1,Ft&&(c.flags&1048576)!==0&&ZA(c,Zm,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var m=c.elementType,A=m._init;if(m=A(m._payload),c.type=m,typeof m=="function")Tx(m)?(o=ql(m,o),c.tag=1,c=yC(null,c,m,o,f)):(c.tag=0,c=o1(null,c,m,o,f));else{if(m!=null){if(A=m.$$typeof,A===R){c.tag=11,c=dC(null,c,m,o,f);break e}else if(A===O){c.tag=14,c=hC(null,c,m,o,f);break e}}throw c=N(m)||m,Error(n(306,c,""))}}return c;case 0:return o1(o,c,c.type,c.pendingProps,f);case 1:return m=c.type,A=ql(m,c.pendingProps),yC(o,c,m,A,f);case 3:e:{if(Me(c,c.stateNode.containerInfo),o===null)throw Error(n(387));m=c.pendingProps;var S=c.memoizedState;A=S.element,Ox(o,c),cf(c,m,null,f);var z=c.memoizedState;if(m=z.cache,co(c,Rn,m),m!==S.cache&&Rx(c,[Rn],f,!0),lf(),m=z.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:z.cache},c.updateQueue.baseState=S,c.memoizedState=S,c.flags&256){c=vC(o,c,m,f);break e}else if(m!==A){A=_r(Error(n(424)),c),ef(A),c=vC(o,c,m,f);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(vn=$r(o.firstChild),xi=c,Ft=!0,Fl=null,ms=!0,f=eC(c,null,m,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Jh(),m===A){c=oa(o,c,f);break e}Zn(o,c,m,f)}c=c.child}return c;case 26:return vy(o,c),o===null?(f=ES(c.type,null,c.pendingProps,null))?c.memoizedState=f:Ft||(f=c.type,o=c.pendingProps,m=My(Ee.current).createElement(f),m[en]=c,m[mn]=o,ei(m,f,o),qn(m),c.stateNode=m):c.memoizedState=ES(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Ge(c),o===null&&Ft&&(m=c.stateNode=TS(c.type,c.pendingProps,Ee.current),xi=c,ms=!0,A=vn,Ao(c.type)?(X1=A,vn=$r(m.firstChild)):vn=A),Zn(o,c,c.pendingProps.children,f),vy(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Ft&&((A=m=vn)&&(m=YL(m,c.type,c.pendingProps,ms),m!==null?(c.stateNode=m,xi=c,vn=$r(m.firstChild),ms=!1,A=!0):A=!1),A||Ll(c)),Ge(c),A=c.type,S=c.pendingProps,z=o!==null?o.memoizedProps:null,m=S.children,V1(A,S)?m=null:z!==null&&V1(A,z)&&(c.flags|=32),c.memoizedState!==null&&(A=jx(o,c,pL,null,null,f),Rf._currentValue=A),vy(o,c),Zn(o,c,m,f),c.child;case 6:return o===null&&Ft&&((o=f=vn)&&(f=KL(f,c.pendingProps,ms),f!==null?(c.stateNode=f,xi=c,vn=null,o=!0):o=!1),o||Ll(c)),null;case 13:return bC(o,c,f);case 4:return Me(c,c.stateNode.containerInfo),m=c.pendingProps,o===null?c.child=Hu(c,null,m,f):Zn(o,c,m,f),c.child;case 11:return dC(o,c,c.type,c.pendingProps,f);case 7:return Zn(o,c,c.pendingProps,f),c.child;case 8:return Zn(o,c,c.pendingProps.children,f),c.child;case 12:return Zn(o,c,c.pendingProps.children,f),c.child;case 10:return m=c.pendingProps,co(c,c.type,m.value),Zn(o,c,m.children,f),c.child;case 9:return A=c.type._context,m=c.pendingProps.children,Pl(c),A=ui(A),m=m(A),c.flags|=1,Zn(o,c,m,f),c.child;case 14:return hC(o,c,c.type,c.pendingProps,f);case 15:return fC(o,c,c.type,c.pendingProps,f);case 19:return _C(o,c,f);case 31:return m=c.pendingProps,f=c.mode,m={mode:m.mode,children:m.children},o===null?(f=by(m,f),f.ref=c.ref,c.child=f,f.return=c,c=f):(f=ea(o.child,m),f.ref=c.ref,c.child=f,f.return=c,c=f),c;case 22:return pC(o,c,f);case 24:return Pl(c),m=ui(Rn),o===null?(A=Ix(),A===null&&(A=tn,S=Nx(),A.pooledCache=S,S.refCount++,S!==null&&(A.pooledCacheLanes|=f),A=S),c.memoizedState={parent:m,cache:A},Lx(c),co(c,Rn,A)):((o.lanes&f)!==0&&(Ox(o,c),cf(c,null,null,f),lf()),A=o.memoizedState,S=c.memoizedState,A.parent!==m?(A={parent:m,cache:m},c.memoizedState=A,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=A),co(c,Rn,m)):(m=S.cache,co(c,Rn,m),m!==A.cache&&Rx(c,[Rn],f,!0))),Zn(o,c,c.pendingProps.children,f),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function la(o){o.flags|=4}function TC(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!RS(c)){if(c=Ar.current,c!==null&&((Ut&4194048)===Ut?ys!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||c!==ys))throw af=Fx,aE;o.flags|=8192}}function xy(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?Cl():536870912,o.lanes|=c,Qu|=c)}function mf(o,c){if(!Ft)switch(o.tailMode){case"hidden":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function un(o){var c=o.alternate!==null&&o.alternate.child===o.child,f=0,m=0;if(c)for(var A=o.child;A!==null;)f|=A.lanes|A.childLanes,m|=A.subtreeFlags&65011712,m|=A.flags&65011712,A.return=o,A=A.sibling;else for(A=o.child;A!==null;)f|=A.lanes|A.childLanes,m|=A.subtreeFlags,m|=A.flags,A.return=o,A=A.sibling;return o.subtreeFlags|=m,o.childLanes=f,c}function TL(o,c,f){var m=c.pendingProps;switch(Cx(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(c),null;case 1:return un(c),null;case 3:return f=c.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),ra(Rn),ze(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(Zh(c)?la(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,tE())),un(c),null;case 26:return f=c.memoizedState,o===null?(la(c),f!==null?(un(c),TC(c,f)):(un(c),c.flags&=-16777217)):f?f!==o.memoizedState?(la(c),un(c),TC(c,f)):(un(c),c.flags&=-16777217):(o.memoizedProps!==m&&la(c),un(c),c.flags&=-16777217),null;case 27:Ke(c),f=Ee.current;var A=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==m&&la(c);else{if(!m){if(c.stateNode===null)throw Error(n(166));return un(c),null}o=pe.current,Zh(c)?JA(c):(o=TS(A,m,f),c.stateNode=o,la(c))}return un(c),null;case 5:if(Ke(c),f=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==m&&la(c);else{if(!m){if(c.stateNode===null)throw Error(n(166));return un(c),null}if(o=pe.current,Zh(c))JA(c);else{switch(A=My(Ee.current),o){case 1:o=A.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:o=A.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":o=A.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":o=A.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":o=A.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof m.is=="string"?A.createElement("select",{is:m.is}):A.createElement("select"),m.multiple?o.multiple=!0:m.size&&(o.size=m.size);break;default:o=typeof m.is=="string"?A.createElement(f,{is:m.is}):A.createElement(f)}}o[en]=c,o[mn]=m;e:for(A=c.child;A!==null;){if(A.tag===5||A.tag===6)o.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===c)break e;for(;A.sibling===null;){if(A.return===null||A.return===c)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}c.stateNode=o;e:switch(ei(o,f,m),f){case"button":case"input":case"select":case"textarea":o=!!m.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&la(c)}}return un(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==m&&la(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(n(166));if(o=Ee.current,Zh(c)){if(o=c.stateNode,f=c.memoizedProps,m=null,A=xi,A!==null)switch(A.tag){case 27:case 5:m=A.memoizedProps}o[en]=c,o=!!(o.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||mS(o.nodeValue,f)),o||Ll(c)}else o=My(o).createTextNode(m),o[en]=c,c.stateNode=o}return un(c),null;case 13:if(m=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(A=Zh(c),m!==null&&m.dehydrated!==null){if(o===null){if(!A)throw Error(n(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[en]=c}else Jh(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;un(c),A=!1}else A=tE(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=A),A=!0;if(!A)return c.flags&256?(aa(c),c):(aa(c),null)}if(aa(c),(c.flags&128)!==0)return c.lanes=f,c;if(f=m!==null,o=o!==null&&o.memoizedState!==null,f){m=c.child,A=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(A=m.alternate.memoizedState.cachePool.pool);var S=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==A&&(m.flags|=2048)}return f!==o&&f&&(c.child.flags|=8192),xy(c,c.updateQueue),un(c),null;case 4:return ze(),o===null&&B1(c.stateNode.containerInfo),un(c),null;case 10:return ra(c.type),un(c),null;case 19:if(ee(Nn),A=c.memoizedState,A===null)return un(c),null;if(m=(c.flags&128)!==0,S=A.rendering,S===null)if(m)mf(A,!1);else{if(bn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(S=gy(o),S!==null){for(c.flags|=128,mf(A,!1),o=S.updateQueue,c.updateQueue=o,xy(c,o),c.subtreeFlags=0,o=f,f=c.child;f!==null;)KA(f,o),f=f.sibling;return re(Nn,Nn.current&1|2),c.child}o=o.sibling}A.tail!==null&&se()>Ty&&(c.flags|=128,m=!0,mf(A,!1),c.lanes=4194304)}else{if(!m)if(o=gy(S),o!==null){if(c.flags|=128,m=!0,o=o.updateQueue,c.updateQueue=o,xy(c,o),mf(A,!0),A.tail===null&&A.tailMode==="hidden"&&!S.alternate&&!Ft)return un(c),null}else 2*se()-A.renderingStartTime>Ty&&f!==536870912&&(c.flags|=128,m=!0,mf(A,!1),c.lanes=4194304);A.isBackwards?(S.sibling=c.child,c.child=S):(o=A.last,o!==null?o.sibling=S:c.child=S,A.last=S)}return A.tail!==null?(c=A.tail,A.rendering=c,A.tail=c.sibling,A.renderingStartTime=se(),c.sibling=null,o=Nn.current,re(Nn,m?o&1|2:o&1),c):(un(c),null);case 22:case 23:return aa(c),qx(),m=c.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(f&536870912)!==0&&(c.flags&128)===0&&(un(c),c.subtreeFlags&6&&(c.flags|=8192)):un(c),f=c.updateQueue,f!==null&&xy(c,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048),o!==null&&ee(Bl),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),c.memoizedState.cache!==f&&(c.flags|=2048),ra(Rn),un(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function DL(o,c){switch(Cx(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return ra(Rn),ze(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Ke(c),null;case 13:if(aa(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Jh()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return ee(Nn),null;case 4:return ze(),null;case 10:return ra(c.type),null;case 22:case 23:return aa(c),qx(),o!==null&&ee(Bl),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return ra(Rn),null;case 25:return null;default:return null}}function DC(o,c){switch(Cx(c),c.tag){case 3:ra(Rn),ze();break;case 26:case 27:case 5:Ke(c);break;case 4:ze();break;case 13:aa(c);break;case 19:ee(Nn);break;case 10:ra(c.type);break;case 22:case 23:aa(c),qx(),o!==null&&ee(Bl);break;case 24:ra(Rn)}}function yf(o,c){try{var f=c.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var A=m.next;f=A;do{if((f.tag&o)===o){m=void 0;var S=f.create,z=f.inst;m=S(),z.destroy=m}f=f.next}while(f!==A)}}catch(Q){Kt(c,c.return,Q)}}function yo(o,c,f){try{var m=c.updateQueue,A=m!==null?m.lastEffect:null;if(A!==null){var S=A.next;m=S;do{if((m.tag&o)===o){var z=m.inst,Q=z.destroy;if(Q!==void 0){z.destroy=void 0,A=c;var ce=f,Te=Q;try{Te()}catch(Ne){Kt(A,ce,Ne)}}}m=m.next}while(m!==S)}}catch(Ne){Kt(c,c.return,Ne)}}function AC(o){var c=o.updateQueue;if(c!==null){var f=o.stateNode;try{hE(c,f)}catch(m){Kt(o,o.return,m)}}}function EC(o,c,f){f.props=ql(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(m){Kt(o,c,m)}}function vf(o,c){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof f=="function"?o.refCleanup=f(m):f.current=m}}catch(A){Kt(o,c,A)}}function vs(o,c){var f=o.ref,m=o.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(A){Kt(o,c,A)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(A){Kt(o,c,A)}else f.current=null}function CC(o){var c=o.type,f=o.memoizedProps,m=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(A){Kt(o,o.return,A)}}function g1(o,c,f){try{var m=o.stateNode;HL(m,o.type,f,c),m[mn]=c}catch(A){Kt(o,o.return,A)}}function SC(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Ao(o.type)||o.tag===4}function m1(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||SC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Ao(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function y1(o,c,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,c?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,c):(c=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,c.appendChild(o),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=Ny));else if(m!==4&&(m===27&&Ao(o.type)&&(f=o.stateNode,c=null),o=o.child,o!==null))for(y1(o,c,f),o=o.sibling;o!==null;)y1(o,c,f),o=o.sibling}function _y(o,c,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,c?f.insertBefore(o,c):f.appendChild(o);else if(m!==4&&(m===27&&Ao(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(_y(o,c,f),o=o.sibling;o!==null;)_y(o,c,f),o=o.sibling}function UC(o){var c=o.stateNode,f=o.memoizedProps;try{for(var m=o.type,A=c.attributes;A.length;)c.removeAttributeNode(A[0]);ei(c,m,f),c[en]=o,c[mn]=f}catch(S){Kt(o,o.return,S)}}var ca=!1,wn=!1,v1=!1,kC=typeof WeakSet=="function"?WeakSet:Set,jn=null;function AL(o,c){if(o=o.containerInfo,W1=By,o=qA(o),mx(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var A=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var z=0,Q=-1,ce=-1,Te=0,Ne=0,Le=o,Ce=null;t:for(;;){for(var Se;Le!==f||A!==0&&Le.nodeType!==3||(Q=z+A),Le!==S||m!==0&&Le.nodeType!==3||(ce=z+m),Le.nodeType===3&&(z+=Le.nodeValue.length),(Se=Le.firstChild)!==null;)Ce=Le,Le=Se;for(;;){if(Le===o)break t;if(Ce===f&&++Te===A&&(Q=z),Ce===S&&++Ne===m&&(ce=z),(Se=Le.nextSibling)!==null)break;Le=Ce,Ce=Le.parentNode}Le=Se}f=Q===-1||ce===-1?null:{start:Q,end:ce}}else f=null}f=f||{start:0,end:0}}else f=null;for(j1={focusedElem:o,selectionRange:f},By=!1,jn=c;jn!==null;)if(c=jn,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,jn=o;else for(;jn!==null;){switch(c=jn,S=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&S!==null){o=void 0,f=c,A=S.memoizedProps,S=S.memoizedState,m=f.stateNode;try{var ot=ql(f.type,A,f.elementType===f.type);o=m.getSnapshotBeforeUpdate(ot,S),m.__reactInternalSnapshotBeforeUpdate=o}catch(it){Kt(f,f.return,it)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,f=o.nodeType,f===9)G1(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":G1(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=c.sibling,o!==null){o.return=c.return,jn=o;break}jn=c.return}}function RC(o,c,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:vo(o,f),m&4&&yf(5,f);break;case 1:if(vo(o,f),m&4)if(o=f.stateNode,c===null)try{o.componentDidMount()}catch(z){Kt(f,f.return,z)}else{var A=ql(f.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(A,c,o.__reactInternalSnapshotBeforeUpdate)}catch(z){Kt(f,f.return,z)}}m&64&&AC(f),m&512&&vf(f,f.return);break;case 3:if(vo(o,f),m&64&&(o=f.updateQueue,o!==null)){if(c=null,f.child!==null)switch(f.child.tag){case 27:case 5:c=f.child.stateNode;break;case 1:c=f.child.stateNode}try{hE(o,c)}catch(z){Kt(f,f.return,z)}}break;case 27:c===null&&m&4&&UC(f);case 26:case 5:vo(o,f),c===null&&m&4&&CC(f),m&512&&vf(f,f.return);break;case 12:vo(o,f);break;case 13:vo(o,f),m&4&&IC(o,f),m&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=IL.bind(null,f),ZL(o,f))));break;case 22:if(m=f.memoizedState!==null||ca,!m){c=c!==null&&c.memoizedState!==null||wn,A=ca;var S=wn;ca=m,(wn=c)&&!S?bo(o,f,(f.subtreeFlags&8772)!==0):vo(o,f),ca=A,wn=S}break;case 30:break;default:vo(o,f)}}function NC(o){var c=o.alternate;c!==null&&(o.alternate=null,NC(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&wu(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var cn=null,Mi=!1;function ua(o,c,f){for(f=f.child;f!==null;)MC(o,c,f),f=f.sibling}function MC(o,c,f){if(Ie&&typeof Ie.onCommitFiberUnmount=="function")try{Ie.onCommitFiberUnmount(Ae,f)}catch{}switch(f.tag){case 26:wn||vs(f,c),ua(o,c,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:wn||vs(f,c);var m=cn,A=Mi;Ao(f.type)&&(cn=f.stateNode,Mi=!1),ua(o,c,f),Cf(f.stateNode),cn=m,Mi=A;break;case 5:wn||vs(f,c);case 6:if(m=cn,A=Mi,cn=null,ua(o,c,f),cn=m,Mi=A,cn!==null)if(Mi)try{(cn.nodeType===9?cn.body:cn.nodeName==="HTML"?cn.ownerDocument.body:cn).removeChild(f.stateNode)}catch(S){Kt(f,c,S)}else try{cn.removeChild(f.stateNode)}catch(S){Kt(f,c,S)}break;case 18:cn!==null&&(Mi?(o=cn,_S(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),Ff(o)):_S(cn,f.stateNode));break;case 4:m=cn,A=Mi,cn=f.stateNode.containerInfo,Mi=!0,ua(o,c,f),cn=m,Mi=A;break;case 0:case 11:case 14:case 15:wn||yo(2,f,c),wn||yo(4,f,c),ua(o,c,f);break;case 1:wn||(vs(f,c),m=f.stateNode,typeof m.componentWillUnmount=="function"&&EC(f,c,m)),ua(o,c,f);break;case 21:ua(o,c,f);break;case 22:wn=(m=wn)||f.memoizedState!==null,ua(o,c,f),wn=m;break;default:ua(o,c,f)}}function IC(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Ff(o)}catch(f){Kt(c,c.return,f)}}function EL(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new kC),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new kC),c;default:throw Error(n(435,o.tag))}}function b1(o,c){var f=EL(o);c.forEach(function(m){var A=FL.bind(null,o,m);f.has(m)||(f.add(m),m.then(A,A))})}function Zi(o,c){var f=c.deletions;if(f!==null)for(var m=0;m<f.length;m++){var A=f[m],S=o,z=c,Q=z;e:for(;Q!==null;){switch(Q.tag){case 27:if(Ao(Q.type)){cn=Q.stateNode,Mi=!1;break e}break;case 5:cn=Q.stateNode,Mi=!1;break e;case 3:case 4:cn=Q.stateNode.containerInfo,Mi=!0;break e}Q=Q.return}if(cn===null)throw Error(n(160));MC(S,z,A),cn=null,Mi=!1,S=A.alternate,S!==null&&(S.return=null),A.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)FC(c,o),c=c.sibling}var Gr=null;function FC(o,c){var f=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Zi(c,o),Ji(o),m&4&&(yo(3,o,o.return),yf(3,o),yo(5,o,o.return));break;case 1:Zi(c,o),Ji(o),m&512&&(wn||f===null||vs(f,f.return)),m&64&&ca&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var A=Gr;if(Zi(c,o),Ji(o),m&512&&(wn||f===null||vs(f,f.return)),m&4){var S=f!==null?f.memoizedState:null;if(m=o.memoizedState,f===null)if(m===null)if(o.stateNode===null){e:{m=o.type,f=o.memoizedProps,A=A.ownerDocument||A;t:switch(m){case"title":S=A.getElementsByTagName("title")[0],(!S||S[yn]||S[en]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=A.createElement(m),A.head.insertBefore(S,A.querySelector("head > title"))),ei(S,m,f),S[en]=o,qn(S),m=S;break e;case"link":var z=US("link","href",A).get(m+(f.href||""));if(z){for(var Q=0;Q<z.length;Q++)if(S=z[Q],S.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&S.getAttribute("rel")===(f.rel==null?null:f.rel)&&S.getAttribute("title")===(f.title==null?null:f.title)&&S.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){z.splice(Q,1);break t}}S=A.createElement(m),ei(S,m,f),A.head.appendChild(S);break;case"meta":if(z=US("meta","content",A).get(m+(f.content||""))){for(Q=0;Q<z.length;Q++)if(S=z[Q],S.getAttribute("content")===(f.content==null?null:""+f.content)&&S.getAttribute("name")===(f.name==null?null:f.name)&&S.getAttribute("property")===(f.property==null?null:f.property)&&S.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&S.getAttribute("charset")===(f.charSet==null?null:f.charSet)){z.splice(Q,1);break t}}S=A.createElement(m),ei(S,m,f),A.head.appendChild(S);break;default:throw Error(n(468,m))}S[en]=o,qn(S),m=S}o.stateNode=m}else kS(A,o.type,o.stateNode);else o.stateNode=SS(A,m,o.memoizedProps);else S!==m?(S===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):S.count--,m===null?kS(A,o.type,o.stateNode):SS(A,m,o.memoizedProps)):m===null&&o.stateNode!==null&&g1(o,o.memoizedProps,f.memoizedProps)}break;case 27:Zi(c,o),Ji(o),m&512&&(wn||f===null||vs(f,f.return)),f!==null&&m&4&&g1(o,o.memoizedProps,f.memoizedProps);break;case 5:if(Zi(c,o),Ji(o),m&512&&(wn||f===null||vs(f,f.return)),o.flags&32){A=o.stateNode;try{Cu(A,"")}catch(Se){Kt(o,o.return,Se)}}m&4&&o.stateNode!=null&&(A=o.memoizedProps,g1(o,A,f!==null?f.memoizedProps:A)),m&1024&&(v1=!0);break;case 6:if(Zi(c,o),Ji(o),m&4){if(o.stateNode===null)throw Error(n(162));m=o.memoizedProps,f=o.stateNode;try{f.nodeValue=m}catch(Se){Kt(o,o.return,Se)}}break;case 3:if(Ly=null,A=Gr,Gr=Iy(c.containerInfo),Zi(c,o),Gr=A,Ji(o),m&4&&f!==null&&f.memoizedState.isDehydrated)try{Ff(c.containerInfo)}catch(Se){Kt(o,o.return,Se)}v1&&(v1=!1,LC(o));break;case 4:m=Gr,Gr=Iy(o.stateNode.containerInfo),Zi(c,o),Ji(o),Gr=m;break;case 12:Zi(c,o),Ji(o);break;case 13:Zi(c,o),Ji(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(A1=se()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,b1(o,m)));break;case 22:A=o.memoizedState!==null;var ce=f!==null&&f.memoizedState!==null,Te=ca,Ne=wn;if(ca=Te||A,wn=Ne||ce,Zi(c,o),wn=Ne,ca=Te,Ji(o),m&8192)e:for(c=o.stateNode,c._visibility=A?c._visibility&-2:c._visibility|1,A&&(f===null||ce||ca||wn||Wl(o)),f=null,c=o;;){if(c.tag===5||c.tag===26){if(f===null){ce=f=c;try{if(S=ce.stateNode,A)z=S.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{Q=ce.stateNode;var Le=ce.memoizedProps.style,Ce=Le!=null&&Le.hasOwnProperty("display")?Le.display:null;Q.style.display=Ce==null||typeof Ce=="boolean"?"":(""+Ce).trim()}}catch(Se){Kt(ce,ce.return,Se)}}}else if(c.tag===6){if(f===null){ce=c;try{ce.stateNode.nodeValue=A?"":ce.memoizedProps}catch(Se){Kt(ce,ce.return,Se)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=o.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,b1(o,f))));break;case 19:Zi(c,o),Ji(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,b1(o,m)));break;case 30:break;case 21:break;default:Zi(c,o),Ji(o)}}function Ji(o){var c=o.flags;if(c&2){try{for(var f,m=o.return;m!==null;){if(SC(m)){f=m;break}m=m.return}if(f==null)throw Error(n(160));switch(f.tag){case 27:var A=f.stateNode,S=m1(o);_y(o,S,A);break;case 5:var z=f.stateNode;f.flags&32&&(Cu(z,""),f.flags&=-33);var Q=m1(o);_y(o,Q,z);break;case 3:case 4:var ce=f.stateNode.containerInfo,Te=m1(o);y1(o,Te,ce);break;default:throw Error(n(161))}}catch(Ne){Kt(o,o.return,Ne)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function LC(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;LC(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function vo(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)RC(o,c.alternate,c),c=c.sibling}function Wl(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:yo(4,c,c.return),Wl(c);break;case 1:vs(c,c.return);var f=c.stateNode;typeof f.componentWillUnmount=="function"&&EC(c,c.return,f),Wl(c);break;case 27:Cf(c.stateNode);case 26:case 5:vs(c,c.return),Wl(c);break;case 22:c.memoizedState===null&&Wl(c);break;case 30:Wl(c);break;default:Wl(c)}o=o.sibling}}function bo(o,c,f){for(f=f&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,A=o,S=c,z=S.flags;switch(S.tag){case 0:case 11:case 15:bo(A,S,f),yf(4,S);break;case 1:if(bo(A,S,f),m=S,A=m.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(Te){Kt(m,m.return,Te)}if(m=S,A=m.updateQueue,A!==null){var Q=m.stateNode;try{var ce=A.shared.hiddenCallbacks;if(ce!==null)for(A.shared.hiddenCallbacks=null,A=0;A<ce.length;A++)dE(ce[A],Q)}catch(Te){Kt(m,m.return,Te)}}f&&z&64&&AC(S),vf(S,S.return);break;case 27:UC(S);case 26:case 5:bo(A,S,f),f&&m===null&&z&4&&CC(S),vf(S,S.return);break;case 12:bo(A,S,f);break;case 13:bo(A,S,f),f&&z&4&&IC(A,S);break;case 22:S.memoizedState===null&&bo(A,S,f),vf(S,S.return);break;case 30:break;default:bo(A,S,f)}c=c.sibling}}function x1(o,c){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&nf(f))}function _1(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&nf(o))}function bs(o,c,f,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)OC(o,c,f,m),c=c.sibling}function OC(o,c,f,m){var A=c.flags;switch(c.tag){case 0:case 11:case 15:bs(o,c,f,m),A&2048&&yf(9,c);break;case 1:bs(o,c,f,m);break;case 3:bs(o,c,f,m),A&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&nf(o)));break;case 12:if(A&2048){bs(o,c,f,m),o=c.stateNode;try{var S=c.memoizedProps,z=S.id,Q=S.onPostCommit;typeof Q=="function"&&Q(z,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ce){Kt(c,c.return,ce)}}else bs(o,c,f,m);break;case 13:bs(o,c,f,m);break;case 23:break;case 22:S=c.stateNode,z=c.alternate,c.memoizedState!==null?S._visibility&2?bs(o,c,f,m):bf(o,c):S._visibility&2?bs(o,c,f,m):(S._visibility|=2,Gu(o,c,f,m,(c.subtreeFlags&10256)!==0)),A&2048&&x1(z,c);break;case 24:bs(o,c,f,m),A&2048&&_1(c.alternate,c);break;default:bs(o,c,f,m)}}function Gu(o,c,f,m,A){for(A=A&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var S=o,z=c,Q=f,ce=m,Te=z.flags;switch(z.tag){case 0:case 11:case 15:Gu(S,z,Q,ce,A),yf(8,z);break;case 23:break;case 22:var Ne=z.stateNode;z.memoizedState!==null?Ne._visibility&2?Gu(S,z,Q,ce,A):bf(S,z):(Ne._visibility|=2,Gu(S,z,Q,ce,A)),A&&Te&2048&&x1(z.alternate,z);break;case 24:Gu(S,z,Q,ce,A),A&&Te&2048&&_1(z.alternate,z);break;default:Gu(S,z,Q,ce,A)}c=c.sibling}}function bf(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var f=o,m=c,A=m.flags;switch(m.tag){case 22:bf(f,m),A&2048&&x1(m.alternate,m);break;case 24:bf(f,m),A&2048&&_1(m.alternate,m);break;default:bf(f,m)}c=c.sibling}}var xf=8192;function $u(o){if(o.subtreeFlags&xf)for(o=o.child;o!==null;)PC(o),o=o.sibling}function PC(o){switch(o.tag){case 26:$u(o),o.flags&xf&&o.memoizedState!==null&&d6(Gr,o.memoizedState,o.memoizedProps);break;case 5:$u(o);break;case 3:case 4:var c=Gr;Gr=Iy(o.stateNode.containerInfo),$u(o),Gr=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=xf,xf=16777216,$u(o),xf=c):$u(o));break;default:$u(o)}}function BC(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function _f(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var m=c[f];jn=m,qC(m,o)}BC(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)zC(o),o=o.sibling}function zC(o){switch(o.tag){case 0:case 11:case 15:_f(o),o.flags&2048&&yo(9,o,o.return);break;case 3:_f(o);break;case 12:_f(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,wy(o)):_f(o);break;default:_f(o)}}function wy(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var m=c[f];jn=m,qC(m,o)}BC(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:yo(8,c,c.return),wy(c);break;case 22:f=c.stateNode,f._visibility&2&&(f._visibility&=-3,wy(c));break;default:wy(c)}o=o.sibling}}function qC(o,c){for(;jn!==null;){var f=jn;switch(f.tag){case 0:case 11:case 15:yo(8,f,c);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:nf(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,jn=m;else e:for(f=o;jn!==null;){m=jn;var A=m.sibling,S=m.return;if(NC(m),m===f){jn=null;break e}if(A!==null){A.return=S,jn=A;break e}jn=S}}}var CL={getCacheForType:function(o){var c=ui(Rn),f=c.data.get(o);return f===void 0&&(f=o(),c.data.set(o,f)),f}},SL=typeof WeakMap=="function"?WeakMap:Map,zt=0,tn=null,wt=null,Ut=0,qt=0,er=null,xo=!1,Xu=!1,w1=!1,da=0,bn=0,_o=0,jl=0,T1=0,Er=0,Qu=0,wf=null,Ii=null,D1=!1,A1=0,Ty=1/0,Dy=null,wo=null,Jn=0,To=null,Yu=null,Ku=0,E1=0,C1=null,WC=null,Tf=0,S1=null;function tr(){if((zt&2)!==0&&Ut!==0)return Ut&-Ut;if(P.T!==null){var o=Pu;return o!==0?o:F1()}return Yn()}function jC(){Er===0&&(Er=(Ut&536870912)===0||Ft?ao():536870912);var o=Ar.current;return o!==null&&(o.flags|=32),Er}function nr(o,c,f){(o===tn&&(qt===2||qt===9)||o.cancelPendingCommit!==null)&&(Zu(o,0),Do(o,Ut,Er,!1)),J(o,f),((zt&2)===0||o!==tn)&&(o===tn&&((zt&2)===0&&(jl|=f),bn===4&&Do(o,Ut,Er,!1)),xs(o))}function VC(o,c,f){if((zt&6)!==0)throw Error(n(327));var m=!f&&(c&124)===0&&(c&o.expiredLanes)===0||zn(o,c),A=m?RL(o,c):R1(o,c,!0),S=m;do{if(A===0){Xu&&!m&&Do(o,c,0,!1);break}else{if(f=o.current.alternate,S&&!UL(f)){A=R1(o,c,!1),S=!1;continue}if(A===2){if(S=c,o.errorRecoveryDisabledLanes&S)var z=0;else z=o.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){c=z;e:{var Q=o;A=wf;var ce=Q.current.memoizedState.isDehydrated;if(ce&&(Zu(Q,z).flags|=256),z=R1(Q,z,!1),z!==2){if(w1&&!ce){Q.errorRecoveryDisabledLanes|=S,jl|=S,A=4;break e}S=Ii,Ii=A,S!==null&&(Ii===null?Ii=S:Ii.push.apply(Ii,S))}A=z}if(S=!1,A!==2)continue}}if(A===1){Zu(o,0),Do(o,c,0,!0);break}e:{switch(m=o,S=A,S){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:Do(m,c,Er,!xo);break e;case 2:Ii=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(A=A1+300-se(),10<A)){if(Do(m,c,Er,!xo),an(m,0,!0)!==0)break e;m.timeoutHandle=bS(HC.bind(null,m,f,Ii,Dy,D1,c,Er,jl,Qu,xo,S,2,-0,0),A);break e}HC(m,f,Ii,Dy,D1,c,Er,jl,Qu,xo,S,0,-0,0)}}break}while(!0);xs(o)}function HC(o,c,f,m,A,S,z,Q,ce,Te,Ne,Le,Ce,Se){if(o.timeoutHandle=-1,Le=c.subtreeFlags,(Le&8192||(Le&16785408)===16785408)&&(kf={stylesheets:null,count:0,unsuspend:u6},PC(c),Le=h6(),Le!==null)){o.cancelPendingCommit=Le(ZC.bind(null,o,c,S,f,m,A,z,Q,ce,Ne,1,Ce,Se)),Do(o,S,z,!Te);return}ZC(o,c,S,f,m,A,z,Q,ce)}function UL(o){for(var c=o;;){var f=c.tag;if((f===0||f===11||f===15)&&c.flags&16384&&(f=c.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var A=f[m],S=A.getSnapshot;A=A.value;try{if(!Yi(S(),A))return!1}catch{return!1}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Do(o,c,f,m){c&=~T1,c&=~jl,o.suspendedLanes|=c,o.pingedLanes&=~c,m&&(o.warmLanes|=c),m=o.expirationTimes;for(var A=c;0<A;){var S=31-ge(A),z=1<<S;m[S]=-1,A&=~z}f!==0&&Ue(o,f,c)}function Ay(){return(zt&6)===0?(Df(0),!1):!0}function U1(){if(wt!==null){if(qt===0)var o=wt.return;else o=wt,ia=Ol=null,Gx(o),Vu=null,pf=0,o=wt;for(;o!==null;)DC(o.alternate,o),o=o.return;wt=null}}function Zu(o,c){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,$L(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),U1(),tn=o,wt=f=ea(o.current,null),Ut=c,qt=0,er=null,xo=!1,Xu=zn(o,c),w1=!1,Qu=Er=T1=jl=_o=bn=0,Ii=wf=null,D1=!1,(c&8)!==0&&(c|=c&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=c;0<m;){var A=31-ge(m),S=1<<A;c|=o[A],m&=~S}return da=c,$m(),f}function GC(o,c){bt=null,P.H=hy,c===sf||c===ny?(c=cE(),qt=3):c===aE?(c=cE(),qt=4):qt=c===uC?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,er=c,wt===null&&(bn=1,yy(o,_r(c,o.current)))}function $C(){var o=P.H;return P.H=hy,o===null?hy:o}function XC(){var o=P.A;return P.A=CL,o}function k1(){bn=4,xo||(Ut&4194048)!==Ut&&Ar.current!==null||(Xu=!0),(_o&134217727)===0&&(jl&134217727)===0||tn===null||Do(tn,Ut,Er,!1)}function R1(o,c,f){var m=zt;zt|=2;var A=$C(),S=XC();(tn!==o||Ut!==c)&&(Dy=null,Zu(o,c)),c=!1;var z=bn;e:do try{if(qt!==0&&wt!==null){var Q=wt,ce=er;switch(qt){case 8:U1(),z=6;break e;case 3:case 2:case 9:case 6:Ar.current===null&&(c=!0);var Te=qt;if(qt=0,er=null,Ju(o,Q,ce,Te),f&&Xu){z=0;break e}break;default:Te=qt,qt=0,er=null,Ju(o,Q,ce,Te)}}kL(),z=bn;break}catch(Ne){GC(o,Ne)}while(!0);return c&&o.shellSuspendCounter++,ia=Ol=null,zt=m,P.H=A,P.A=S,wt===null&&(tn=null,Ut=0,$m()),z}function kL(){for(;wt!==null;)QC(wt)}function RL(o,c){var f=zt;zt|=2;var m=$C(),A=XC();tn!==o||Ut!==c?(Dy=null,Ty=se()+500,Zu(o,c)):Xu=zn(o,c);e:do try{if(qt!==0&&wt!==null){c=wt;var S=er;t:switch(qt){case 1:qt=0,er=null,Ju(o,c,S,1);break;case 2:case 9:if(oE(S)){qt=0,er=null,YC(c);break}c=function(){qt!==2&&qt!==9||tn!==o||(qt=7),xs(o)},S.then(c,c);break e;case 3:qt=7;break e;case 4:qt=5;break e;case 7:oE(S)?(qt=0,er=null,YC(c)):(qt=0,er=null,Ju(o,c,S,7));break;case 5:var z=null;switch(wt.tag){case 26:z=wt.memoizedState;case 5:case 27:var Q=wt;if(!z||RS(z)){qt=0,er=null;var ce=Q.sibling;if(ce!==null)wt=ce;else{var Te=Q.return;Te!==null?(wt=Te,Ey(Te)):wt=null}break t}}qt=0,er=null,Ju(o,c,S,5);break;case 6:qt=0,er=null,Ju(o,c,S,6);break;case 8:U1(),bn=6;break e;default:throw Error(n(462))}}NL();break}catch(Ne){GC(o,Ne)}while(!0);return ia=Ol=null,P.H=m,P.A=A,zt=f,wt!==null?0:(tn=null,Ut=0,$m(),bn)}function NL(){for(;wt!==null&&!ye();)QC(wt)}function QC(o){var c=wC(o.alternate,o,da);o.memoizedProps=o.pendingProps,c===null?Ey(o):wt=c}function YC(o){var c=o,f=c.alternate;switch(c.tag){case 15:case 0:c=mC(f,c,c.pendingProps,c.type,void 0,Ut);break;case 11:c=mC(f,c,c.pendingProps,c.type.render,c.ref,Ut);break;case 5:Gx(c);default:DC(f,c),c=wt=KA(c,da),c=wC(f,c,da)}o.memoizedProps=o.pendingProps,c===null?Ey(o):wt=c}function Ju(o,c,f,m){ia=Ol=null,Gx(c),Vu=null,pf=0;var A=c.return;try{if(_L(o,A,c,f,Ut)){bn=1,yy(o,_r(f,o.current)),wt=null;return}}catch(S){if(A!==null)throw wt=A,S;bn=1,yy(o,_r(f,o.current)),wt=null;return}c.flags&32768?(Ft||m===1?o=!0:Xu||(Ut&536870912)!==0?o=!1:(xo=o=!0,(m===2||m===9||m===3||m===6)&&(m=Ar.current,m!==null&&m.tag===13&&(m.flags|=16384))),KC(c,o)):Ey(c)}function Ey(o){var c=o;do{if((c.flags&32768)!==0){KC(c,xo);return}o=c.return;var f=TL(c.alternate,c,da);if(f!==null){wt=f;return}if(c=c.sibling,c!==null){wt=c;return}wt=c=o}while(c!==null);bn===0&&(bn=5)}function KC(o,c){do{var f=DL(o.alternate,o);if(f!==null){f.flags&=32767,wt=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!c&&(o=o.sibling,o!==null)){wt=o;return}wt=o=f}while(o!==null);bn=6,wt=null}function ZC(o,c,f,m,A,S,z,Q,ce){o.cancelPendingCommit=null;do Cy();while(Jn!==0);if((zt&6)!==0)throw Error(n(327));if(c!==null){if(c===o.current)throw Error(n(177));if(S=c.lanes|c.childLanes,S|=_x,ue(o,f,S,z,Q,ce),o===tn&&(wt=tn=null,Ut=0),Yu=c,To=o,Ku=f,E1=S,C1=A,WC=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,LL(_e,function(){return iS(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=P.T,P.T=null,A=q.p,q.p=2,z=zt,zt|=4;try{AL(o,c,f)}finally{zt=z,q.p=A,P.T=m}}Jn=1,JC(),eS(),tS()}}function JC(){if(Jn===1){Jn=0;var o=To,c=Yu,f=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||f){f=P.T,P.T=null;var m=q.p;q.p=2;var A=zt;zt|=4;try{FC(c,o);var S=j1,z=qA(o.containerInfo),Q=S.focusedElem,ce=S.selectionRange;if(z!==Q&&Q&&Q.ownerDocument&&zA(Q.ownerDocument.documentElement,Q)){if(ce!==null&&mx(Q)){var Te=ce.start,Ne=ce.end;if(Ne===void 0&&(Ne=Te),"selectionStart"in Q)Q.selectionStart=Te,Q.selectionEnd=Math.min(Ne,Q.value.length);else{var Le=Q.ownerDocument||document,Ce=Le&&Le.defaultView||window;if(Ce.getSelection){var Se=Ce.getSelection(),ot=Q.textContent.length,it=Math.min(ce.start,ot),$t=ce.end===void 0?it:Math.min(ce.end,ot);!Se.extend&&it>$t&&(z=$t,$t=it,it=z);var xe=BA(Q,it),me=BA(Q,$t);if(xe&&me&&(Se.rangeCount!==1||Se.anchorNode!==xe.node||Se.anchorOffset!==xe.offset||Se.focusNode!==me.node||Se.focusOffset!==me.offset)){var we=Le.createRange();we.setStart(xe.node,xe.offset),Se.removeAllRanges(),it>$t?(Se.addRange(we),Se.extend(me.node,me.offset)):(we.setEnd(me.node,me.offset),Se.addRange(we))}}}}for(Le=[],Se=Q;Se=Se.parentNode;)Se.nodeType===1&&Le.push({element:Se,left:Se.scrollLeft,top:Se.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<Le.length;Q++){var Fe=Le[Q];Fe.element.scrollLeft=Fe.left,Fe.element.scrollTop=Fe.top}}By=!!W1,j1=W1=null}finally{zt=A,q.p=m,P.T=f}}o.current=c,Jn=2}}function eS(){if(Jn===2){Jn=0;var o=To,c=Yu,f=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||f){f=P.T,P.T=null;var m=q.p;q.p=2;var A=zt;zt|=4;try{RC(o,c.alternate,c)}finally{zt=A,q.p=m,P.T=f}}Jn=3}}function tS(){if(Jn===4||Jn===3){Jn=0,he();var o=To,c=Yu,f=Ku,m=WC;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Jn=5:(Jn=0,Yu=To=null,nS(o,o.pendingLanes));var A=o.pendingLanes;if(A===0&&(wo=null),Bt(f),c=c.stateNode,Ie&&typeof Ie.onCommitFiberRoot=="function")try{Ie.onCommitFiberRoot(Ae,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=P.T,A=q.p,q.p=2,P.T=null;try{for(var S=o.onRecoverableError,z=0;z<m.length;z++){var Q=m[z];S(Q.value,{componentStack:Q.stack})}}finally{P.T=c,q.p=A}}(Ku&3)!==0&&Cy(),xs(o),A=o.pendingLanes,(f&4194090)!==0&&(A&42)!==0?o===S1?Tf++:(Tf=0,S1=o):Tf=0,Df(0)}}function nS(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,nf(c)))}function Cy(o){return JC(),eS(),tS(),iS()}function iS(){if(Jn!==5)return!1;var o=To,c=E1;E1=0;var f=Bt(Ku),m=P.T,A=q.p;try{q.p=32>f?32:f,P.T=null,f=C1,C1=null;var S=To,z=Ku;if(Jn=0,Yu=To=null,Ku=0,(zt&6)!==0)throw Error(n(331));var Q=zt;if(zt|=4,zC(S.current),OC(S,S.current,z,f),zt=Q,Df(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot=="function")try{Ie.onPostCommitFiberRoot(Ae,S)}catch{}return!0}finally{q.p=A,P.T=m,nS(o,c)}}function rS(o,c,f){c=_r(f,c),c=a1(o.stateNode,c,2),o=fo(o,c,2),o!==null&&(J(o,2),xs(o))}function Kt(o,c,f){if(o.tag===3)rS(o,o,f);else for(;c!==null;){if(c.tag===3){rS(c,o,f);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(wo===null||!wo.has(m))){o=_r(f,o),f=lC(2),m=fo(c,f,2),m!==null&&(cC(f,m,c,o),J(m,2),xs(m));break}}c=c.return}}function N1(o,c,f){var m=o.pingCache;if(m===null){m=o.pingCache=new SL;var A=new Set;m.set(c,A)}else A=m.get(c),A===void 0&&(A=new Set,m.set(c,A));A.has(f)||(w1=!0,A.add(f),o=ML.bind(null,o,c,f),c.then(o,o))}function ML(o,c,f){var m=o.pingCache;m!==null&&m.delete(c),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,tn===o&&(Ut&f)===f&&(bn===4||bn===3&&(Ut&62914560)===Ut&&300>se()-A1?(zt&2)===0&&Zu(o,0):T1|=f,Qu===Ut&&(Qu=0)),xs(o)}function sS(o,c){c===0&&(c=Cl()),o=Iu(o,c),o!==null&&(J(o,c),xs(o))}function IL(o){var c=o.memoizedState,f=0;c!==null&&(f=c.retryLane),sS(o,f)}function FL(o,c){var f=0;switch(o.tag){case 13:var m=o.stateNode,A=o.memoizedState;A!==null&&(f=A.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(c),sS(o,f)}function LL(o,c){return at(o,c)}var Sy=null,ed=null,M1=!1,Uy=!1,I1=!1,Vl=0;function xs(o){o!==ed&&o.next===null&&(ed===null?Sy=ed=o:ed=ed.next=o),Uy=!0,M1||(M1=!0,PL())}function Df(o,c){if(!I1&&Uy){I1=!0;do for(var f=!1,m=Sy;m!==null;){if(o!==0){var A=m.pendingLanes;if(A===0)var S=0;else{var z=m.suspendedLanes,Q=m.pingedLanes;S=(1<<31-ge(42|o)+1)-1,S&=A&~(z&~Q),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(f=!0,cS(m,S))}else S=Ut,S=an(m,m===tn?S:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(S&3)===0||zn(m,S)||(f=!0,cS(m,S));m=m.next}while(f);I1=!1}}function OL(){aS()}function aS(){Uy=M1=!1;var o=0;Vl!==0&&(GL()&&(o=Vl),Vl=0);for(var c=se(),f=null,m=Sy;m!==null;){var A=m.next,S=oS(m,c);S===0?(m.next=null,f===null?Sy=A:f.next=A,A===null&&(ed=f)):(f=m,(o!==0||(S&3)!==0)&&(Uy=!0)),m=A}Df(o)}function oS(o,c){for(var f=o.suspendedLanes,m=o.pingedLanes,A=o.expirationTimes,S=o.pendingLanes&-62914561;0<S;){var z=31-ge(S),Q=1<<z,ce=A[z];ce===-1?((Q&f)===0||(Q&m)!==0)&&(A[z]=_u(Q,c)):ce<=c&&(o.expiredLanes|=Q),S&=~Q}if(c=tn,f=Ut,f=an(o,o===c?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,f===0||o===c&&(qt===2||qt===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&I(m),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||zn(o,f)){if(c=f&-f,c===o.callbackPriority)return c;switch(m!==null&&I(m),Bt(f)){case 2:case 8:f=De;break;case 32:f=_e;break;case 268435456:f=ae;break;default:f=_e}return m=lS.bind(null,o),f=at(f,m),o.callbackPriority=c,o.callbackNode=f,c}return m!==null&&m!==null&&I(m),o.callbackPriority=2,o.callbackNode=null,2}function lS(o,c){if(Jn!==0&&Jn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(Cy()&&o.callbackNode!==f)return null;var m=Ut;return m=an(o,o===tn?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(VC(o,m,c),oS(o,se()),o.callbackNode!=null&&o.callbackNode===f?lS.bind(null,o):null)}function cS(o,c){if(Cy())return null;VC(o,c,!0)}function PL(){XL(function(){(zt&6)!==0?at(oe,OL):aS()})}function F1(){return Vl===0&&(Vl=ao()),Vl}function uS(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:zm(""+o)}function dS(o,c){var f=c.ownerDocument.createElement("input");return f.name=c.name,f.value=c.value,o.id&&f.setAttribute("form",o.id),c.parentNode.insertBefore(f,c),o=new FormData(o),f.parentNode.removeChild(f),o}function BL(o,c,f,m,A){if(c==="submit"&&f&&f.stateNode===A){var S=uS((A[mn]||null).action),z=m.submitter;z&&(c=(c=z[mn]||null)?uS(c.formAction):z.getAttribute("formAction"),c!==null&&(S=c,z=null));var Q=new Vm("action","action",null,m,A);o.push({event:Q,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Vl!==0){var ce=z?dS(A,z):new FormData(A);t1(f,{pending:!0,data:ce,method:A.method,action:S},null,ce)}}else typeof S=="function"&&(Q.preventDefault(),ce=z?dS(A,z):new FormData(A),t1(f,{pending:!0,data:ce,method:A.method,action:S},S,ce))},currentTarget:A}]})}}for(var L1=0;L1<xx.length;L1++){var O1=xx[L1],zL=O1.toLowerCase(),qL=O1[0].toUpperCase()+O1.slice(1);Hr(zL,"on"+qL)}Hr(VA,"onAnimationEnd"),Hr(HA,"onAnimationIteration"),Hr(GA,"onAnimationStart"),Hr("dblclick","onDoubleClick"),Hr("focusin","onFocus"),Hr("focusout","onBlur"),Hr(rL,"onTransitionRun"),Hr(sL,"onTransitionStart"),Hr(aL,"onTransitionCancel"),Hr($A,"onTransitionEnd"),Du("onMouseEnter",["mouseout","mouseover"]),Du("onMouseLeave",["mouseout","mouseover"]),Du("onPointerEnter",["pointerout","pointerover"]),Du("onPointerLeave",["pointerout","pointerover"]),Sl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Af="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Af));function hS(o,c){c=(c&4)!==0;for(var f=0;f<o.length;f++){var m=o[f],A=m.event;m=m.listeners;e:{var S=void 0;if(c)for(var z=m.length-1;0<=z;z--){var Q=m[z],ce=Q.instance,Te=Q.currentTarget;if(Q=Q.listener,ce!==S&&A.isPropagationStopped())break e;S=Q,A.currentTarget=Te;try{S(A)}catch(Ne){my(Ne)}A.currentTarget=null,S=ce}else for(z=0;z<m.length;z++){if(Q=m[z],ce=Q.instance,Te=Q.currentTarget,Q=Q.listener,ce!==S&&A.isPropagationStopped())break e;S=Q,A.currentTarget=Te;try{S(A)}catch(Ne){my(Ne)}A.currentTarget=null,S=ce}}}}function Tt(o,c){var f=c[Vr];f===void 0&&(f=c[Vr]=new Set);var m=o+"__bubble";f.has(m)||(fS(c,o,2,!1),f.add(m))}function P1(o,c,f){var m=0;c&&(m|=4),fS(f,o,m,c)}var ky="_reactListening"+Math.random().toString(36).slice(2);function B1(o){if(!o[ky]){o[ky]=!0,aA.forEach(function(f){f!=="selectionchange"&&(WL.has(f)||P1(f,!1,o),P1(f,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[ky]||(c[ky]=!0,P1("selectionchange",!1,c))}}function fS(o,c,f,m){switch(OS(c)){case 2:var A=g6;break;case 8:A=m6;break;default:A=J1}f=A.bind(null,c,f,o),A=void 0,!ox||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(A=!0),m?A!==void 0?o.addEventListener(c,f,{capture:!0,passive:A}):o.addEventListener(c,f,!0):A!==void 0?o.addEventListener(c,f,{passive:A}):o.addEventListener(c,f,!1)}function z1(o,c,f,m,A){var S=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var z=m.tag;if(z===3||z===4){var Q=m.stateNode.containerInfo;if(Q===A)break;if(z===4)for(z=m.return;z!==null;){var ce=z.tag;if((ce===3||ce===4)&&z.stateNode.containerInfo===A)return;z=z.return}for(;Q!==null;){if(z=Qi(Q),z===null)return;if(ce=z.tag,ce===5||ce===6||ce===26||ce===27){m=S=z;continue e}Q=Q.parentNode}}m=m.return}xA(function(){var Te=S,Ne=sx(f),Le=[];e:{var Ce=XA.get(o);if(Ce!==void 0){var Se=Vm,ot=o;switch(o){case"keypress":if(Wm(f)===0)break e;case"keydown":case"keyup":Se=L4;break;case"focusin":ot="focus",Se=dx;break;case"focusout":ot="blur",Se=dx;break;case"beforeblur":case"afterblur":Se=dx;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=TA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=D4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=B4;break;case VA:case HA:case GA:Se=C4;break;case $A:Se=q4;break;case"scroll":case"scrollend":Se=w4;break;case"wheel":Se=j4;break;case"copy":case"cut":case"paste":Se=U4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=AA;break;case"toggle":case"beforetoggle":Se=H4}var it=(c&4)!==0,$t=!it&&(o==="scroll"||o==="scrollend"),xe=it?Ce!==null?Ce+"Capture":null:Ce;it=[];for(var me=Te,we;me!==null;){var Fe=me;if(we=Fe.stateNode,Fe=Fe.tag,Fe!==5&&Fe!==26&&Fe!==27||we===null||xe===null||(Fe=jh(me,xe),Fe!=null&&it.push(Ef(me,Fe,we))),$t)break;me=me.return}0<it.length&&(Ce=new Se(Ce,ot,null,f,Ne),Le.push({event:Ce,listeners:it}))}}if((c&7)===0){e:{if(Ce=o==="mouseover"||o==="pointerover",Se=o==="mouseout"||o==="pointerout",Ce&&f!==rx&&(ot=f.relatedTarget||f.fromElement)&&(Qi(ot)||ot[ki]))break e;if((Se||Ce)&&(Ce=Ne.window===Ne?Ne:(Ce=Ne.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,Se?(ot=f.relatedTarget||f.toElement,Se=Te,ot=ot?Qi(ot):null,ot!==null&&($t=s(ot),it=ot.tag,ot!==$t||it!==5&&it!==27&&it!==6)&&(ot=null)):(Se=null,ot=Te),Se!==ot)){if(it=TA,Fe="onMouseLeave",xe="onMouseEnter",me="mouse",(o==="pointerout"||o==="pointerover")&&(it=AA,Fe="onPointerLeave",xe="onPointerEnter",me="pointer"),$t=Se==null?Ce:Wh(Se),we=ot==null?Ce:Wh(ot),Ce=new it(Fe,me+"leave",Se,f,Ne),Ce.target=$t,Ce.relatedTarget=we,Fe=null,Qi(Ne)===Te&&(it=new it(xe,me+"enter",ot,f,Ne),it.target=we,it.relatedTarget=$t,Fe=it),$t=Fe,Se&&ot)t:{for(it=Se,xe=ot,me=0,we=it;we;we=td(we))me++;for(we=0,Fe=xe;Fe;Fe=td(Fe))we++;for(;0<me-we;)it=td(it),me--;for(;0<we-me;)xe=td(xe),we--;for(;me--;){if(it===xe||xe!==null&&it===xe.alternate)break t;it=td(it),xe=td(xe)}it=null}else it=null;Se!==null&&pS(Le,Ce,Se,it,!1),ot!==null&&$t!==null&&pS(Le,$t,ot,it,!0)}}e:{if(Ce=Te?Wh(Te):window,Se=Ce.nodeName&&Ce.nodeName.toLowerCase(),Se==="select"||Se==="input"&&Ce.type==="file")var Xe=MA;else if(RA(Ce))if(IA)Xe=tL;else{Xe=J4;var xt=Z4}else Se=Ce.nodeName,!Se||Se.toLowerCase()!=="input"||Ce.type!=="checkbox"&&Ce.type!=="radio"?Te&&ix(Te.elementType)&&(Xe=MA):Xe=eL;if(Xe&&(Xe=Xe(o,Te))){NA(Le,Xe,f,Ne);break e}xt&&xt(o,Ce,Te),o==="focusout"&&Te&&Ce.type==="number"&&Te.memoizedProps.value!=null&&nx(Ce,"number",Ce.value)}switch(xt=Te?Wh(Te):window,o){case"focusin":(RA(xt)||xt.contentEditable==="true")&&(Ru=xt,yx=Te,Kh=null);break;case"focusout":Kh=yx=Ru=null;break;case"mousedown":vx=!0;break;case"contextmenu":case"mouseup":case"dragend":vx=!1,WA(Le,f,Ne);break;case"selectionchange":if(iL)break;case"keydown":case"keyup":WA(Le,f,Ne)}var tt;if(fx)e:{switch(o){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else ku?UA(o,f)&&(st="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(st="onCompositionStart");st&&(EA&&f.locale!=="ko"&&(ku||st!=="onCompositionStart"?st==="onCompositionEnd"&&ku&&(tt=_A()):(lo=Ne,lx="value"in lo?lo.value:lo.textContent,ku=!0)),xt=Ry(Te,st),0<xt.length&&(st=new DA(st,o,null,f,Ne),Le.push({event:st,listeners:xt}),tt?st.data=tt:(tt=kA(f),tt!==null&&(st.data=tt)))),(tt=$4?X4(o,f):Q4(o,f))&&(st=Ry(Te,"onBeforeInput"),0<st.length&&(xt=new DA("onBeforeInput","beforeinput",null,f,Ne),Le.push({event:xt,listeners:st}),xt.data=tt)),BL(Le,o,Te,f,Ne)}hS(Le,c)})}function Ef(o,c,f){return{instance:o,listener:c,currentTarget:f}}function Ry(o,c){for(var f=c+"Capture",m=[];o!==null;){var A=o,S=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||S===null||(A=jh(o,f),A!=null&&m.unshift(Ef(o,A,S)),A=jh(o,c),A!=null&&m.push(Ef(o,A,S))),o.tag===3)return m;o=o.return}return[]}function td(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function pS(o,c,f,m,A){for(var S=c._reactName,z=[];f!==null&&f!==m;){var Q=f,ce=Q.alternate,Te=Q.stateNode;if(Q=Q.tag,ce!==null&&ce===m)break;Q!==5&&Q!==26&&Q!==27||Te===null||(ce=Te,A?(Te=jh(f,S),Te!=null&&z.unshift(Ef(f,Te,ce))):A||(Te=jh(f,S),Te!=null&&z.push(Ef(f,Te,ce)))),f=f.return}z.length!==0&&o.push({event:c,listeners:z})}var jL=/\r\n?/g,VL=/\u0000|\uFFFD/g;function gS(o){return(typeof o=="string"?o:""+o).replace(jL,`
`).replace(VL,"")}function mS(o,c){return c=gS(c),gS(o)===c}function Ny(){}function Gt(o,c,f,m,A,S){switch(f){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||Cu(o,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&Cu(o,""+m);break;case"className":Om(o,"class",m);break;case"tabIndex":Om(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Om(o,f,m);break;case"style":vA(o,m,S);break;case"data":if(c!=="object"){Om(o,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||f!=="href")){o.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(f);break}m=zm(""+m),o.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(f==="formAction"?(c!=="input"&&Gt(o,c,"name",A.name,A,null),Gt(o,c,"formEncType",A.formEncType,A,null),Gt(o,c,"formMethod",A.formMethod,A,null),Gt(o,c,"formTarget",A.formTarget,A,null)):(Gt(o,c,"encType",A.encType,A,null),Gt(o,c,"method",A.method,A,null),Gt(o,c,"target",A.target,A,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(f);break}m=zm(""+m),o.setAttribute(f,m);break;case"onClick":m!=null&&(o.onclick=Ny);break;case"onScroll":m!=null&&Tt("scroll",o);break;case"onScrollEnd":m!=null&&Tt("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(f=m.__html,f!=null){if(A.children!=null)throw Error(n(60));o.innerHTML=f}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}f=zm(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,""+m):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":m===!0?o.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,m):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(f,m):o.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(f):o.setAttribute(f,m);break;case"popover":Tt("beforetoggle",o),Tt("toggle",o),Lm(o,"popover",m);break;case"xlinkActuate":Zs(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Zs(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Zs(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Zs(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Zs(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Zs(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Zs(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Zs(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Zs(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Lm(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=x4.get(f)||f,Lm(o,f,m))}}function q1(o,c,f,m,A,S){switch(f){case"style":vA(o,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(f=m.__html,f!=null){if(A.children!=null)throw Error(n(60));o.innerHTML=f}}break;case"children":typeof m=="string"?Cu(o,m):(typeof m=="number"||typeof m=="bigint")&&Cu(o,""+m);break;case"onScroll":m!=null&&Tt("scroll",o);break;case"onScrollEnd":m!=null&&Tt("scrollend",o);break;case"onClick":m!=null&&(o.onclick=Ny);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oA.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(A=f.endsWith("Capture"),c=f.slice(2,A?f.length-7:void 0),S=o[mn]||null,S=S!=null?S[f]:null,typeof S=="function"&&o.removeEventListener(c,S,A),typeof m=="function")){typeof S!="function"&&S!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(c,m,A);break e}f in o?o[f]=m:m===!0?o.setAttribute(f,""):Lm(o,f,m)}}}function ei(o,c,f){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tt("error",o),Tt("load",o);var m=!1,A=!1,S;for(S in f)if(f.hasOwnProperty(S)){var z=f[S];if(z!=null)switch(S){case"src":m=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Gt(o,c,S,z,f,null)}}A&&Gt(o,c,"srcSet",f.srcSet,f,null),m&&Gt(o,c,"src",f.src,f,null);return;case"input":Tt("invalid",o);var Q=S=z=A=null,ce=null,Te=null;for(m in f)if(f.hasOwnProperty(m)){var Ne=f[m];if(Ne!=null)switch(m){case"name":A=Ne;break;case"type":z=Ne;break;case"checked":ce=Ne;break;case"defaultChecked":Te=Ne;break;case"value":S=Ne;break;case"defaultValue":Q=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(n(137,c));break;default:Gt(o,c,m,Ne,f,null)}}pA(o,S,Q,ce,Te,z,A,!1),Pm(o);return;case"select":Tt("invalid",o),m=z=S=null;for(A in f)if(f.hasOwnProperty(A)&&(Q=f[A],Q!=null))switch(A){case"value":S=Q;break;case"defaultValue":z=Q;break;case"multiple":m=Q;default:Gt(o,c,A,Q,f,null)}c=S,f=z,o.multiple=!!m,c!=null?Eu(o,!!m,c,!1):f!=null&&Eu(o,!!m,f,!0);return;case"textarea":Tt("invalid",o),S=A=m=null;for(z in f)if(f.hasOwnProperty(z)&&(Q=f[z],Q!=null))switch(z){case"value":m=Q;break;case"defaultValue":A=Q;break;case"children":S=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(n(91));break;default:Gt(o,c,z,Q,f,null)}mA(o,m,A,S),Pm(o);return;case"option":for(ce in f)if(f.hasOwnProperty(ce)&&(m=f[ce],m!=null))switch(ce){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Gt(o,c,ce,m,f,null)}return;case"dialog":Tt("beforetoggle",o),Tt("toggle",o),Tt("cancel",o),Tt("close",o);break;case"iframe":case"object":Tt("load",o);break;case"video":case"audio":for(m=0;m<Af.length;m++)Tt(Af[m],o);break;case"image":Tt("error",o),Tt("load",o);break;case"details":Tt("toggle",o);break;case"embed":case"source":case"link":Tt("error",o),Tt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Te in f)if(f.hasOwnProperty(Te)&&(m=f[Te],m!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Gt(o,c,Te,m,f,null)}return;default:if(ix(c)){for(Ne in f)f.hasOwnProperty(Ne)&&(m=f[Ne],m!==void 0&&q1(o,c,Ne,m,f,void 0));return}}for(Q in f)f.hasOwnProperty(Q)&&(m=f[Q],m!=null&&Gt(o,c,Q,m,f,null))}function HL(o,c,f,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,S=null,z=null,Q=null,ce=null,Te=null,Ne=null;for(Se in f){var Le=f[Se];if(f.hasOwnProperty(Se)&&Le!=null)switch(Se){case"checked":break;case"value":break;case"defaultValue":ce=Le;default:m.hasOwnProperty(Se)||Gt(o,c,Se,null,m,Le)}}for(var Ce in m){var Se=m[Ce];if(Le=f[Ce],m.hasOwnProperty(Ce)&&(Se!=null||Le!=null))switch(Ce){case"type":S=Se;break;case"name":A=Se;break;case"checked":Te=Se;break;case"defaultChecked":Ne=Se;break;case"value":z=Se;break;case"defaultValue":Q=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(n(137,c));break;default:Se!==Le&&Gt(o,c,Ce,Se,m,Le)}}tx(o,z,Q,ce,Te,Ne,S,A);return;case"select":Se=z=Q=Ce=null;for(S in f)if(ce=f[S],f.hasOwnProperty(S)&&ce!=null)switch(S){case"value":break;case"multiple":Se=ce;default:m.hasOwnProperty(S)||Gt(o,c,S,null,m,ce)}for(A in m)if(S=m[A],ce=f[A],m.hasOwnProperty(A)&&(S!=null||ce!=null))switch(A){case"value":Ce=S;break;case"defaultValue":Q=S;break;case"multiple":z=S;default:S!==ce&&Gt(o,c,A,S,m,ce)}c=Q,f=z,m=Se,Ce!=null?Eu(o,!!f,Ce,!1):!!m!=!!f&&(c!=null?Eu(o,!!f,c,!0):Eu(o,!!f,f?[]:"",!1));return;case"textarea":Se=Ce=null;for(Q in f)if(A=f[Q],f.hasOwnProperty(Q)&&A!=null&&!m.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:Gt(o,c,Q,null,m,A)}for(z in m)if(A=m[z],S=f[z],m.hasOwnProperty(z)&&(A!=null||S!=null))switch(z){case"value":Ce=A;break;case"defaultValue":Se=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(n(91));break;default:A!==S&&Gt(o,c,z,A,m,S)}gA(o,Ce,Se);return;case"option":for(var ot in f)if(Ce=f[ot],f.hasOwnProperty(ot)&&Ce!=null&&!m.hasOwnProperty(ot))switch(ot){case"selected":o.selected=!1;break;default:Gt(o,c,ot,null,m,Ce)}for(ce in m)if(Ce=m[ce],Se=f[ce],m.hasOwnProperty(ce)&&Ce!==Se&&(Ce!=null||Se!=null))switch(ce){case"selected":o.selected=Ce&&typeof Ce!="function"&&typeof Ce!="symbol";break;default:Gt(o,c,ce,Ce,m,Se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var it in f)Ce=f[it],f.hasOwnProperty(it)&&Ce!=null&&!m.hasOwnProperty(it)&&Gt(o,c,it,null,m,Ce);for(Te in m)if(Ce=m[Te],Se=f[Te],m.hasOwnProperty(Te)&&Ce!==Se&&(Ce!=null||Se!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(n(137,c));break;default:Gt(o,c,Te,Ce,m,Se)}return;default:if(ix(c)){for(var $t in f)Ce=f[$t],f.hasOwnProperty($t)&&Ce!==void 0&&!m.hasOwnProperty($t)&&q1(o,c,$t,void 0,m,Ce);for(Ne in m)Ce=m[Ne],Se=f[Ne],!m.hasOwnProperty(Ne)||Ce===Se||Ce===void 0&&Se===void 0||q1(o,c,Ne,Ce,m,Se);return}}for(var xe in f)Ce=f[xe],f.hasOwnProperty(xe)&&Ce!=null&&!m.hasOwnProperty(xe)&&Gt(o,c,xe,null,m,Ce);for(Le in m)Ce=m[Le],Se=f[Le],!m.hasOwnProperty(Le)||Ce===Se||Ce==null&&Se==null||Gt(o,c,Le,Ce,m,Se)}var W1=null,j1=null;function My(o){return o.nodeType===9?o:o.ownerDocument}function yS(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vS(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function V1(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var H1=null;function GL(){var o=window.event;return o&&o.type==="popstate"?o===H1?!1:(H1=o,!0):(H1=null,!1)}var bS=typeof setTimeout=="function"?setTimeout:void 0,$L=typeof clearTimeout=="function"?clearTimeout:void 0,xS=typeof Promise=="function"?Promise:void 0,XL=typeof queueMicrotask=="function"?queueMicrotask:typeof xS<"u"?function(o){return xS.resolve(null).then(o).catch(QL)}:bS;function QL(o){setTimeout(function(){throw o})}function Ao(o){return o==="head"}function _S(o,c){var f=c,m=0,A=0;do{var S=f.nextSibling;if(o.removeChild(f),S&&S.nodeType===8)if(f=S.data,f==="/$"){if(0<m&&8>m){f=m;var z=o.ownerDocument;if(f&1&&Cf(z.documentElement),f&2&&Cf(z.body),f&4)for(f=z.head,Cf(f),z=f.firstChild;z;){var Q=z.nextSibling,ce=z.nodeName;z[yn]||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&z.rel.toLowerCase()==="stylesheet"||f.removeChild(z),z=Q}}if(A===0){o.removeChild(S),Ff(c);return}A--}else f==="$"||f==="$?"||f==="$!"?A++:m=f.charCodeAt(0)-48;else m=0;f=S}while(f);Ff(c)}function G1(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var f=c;switch(c=c.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":G1(f),wu(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function YL(o,c,f,m){for(;o.nodeType===1;){var A=f;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[yn])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(S=o.getAttribute("rel"),S==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(S!==A.rel||o.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||o.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||o.getAttribute("title")!==(A.title==null?null:A.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(S=o.getAttribute("src"),(S!==(A.src==null?null:A.src)||o.getAttribute("type")!==(A.type==null?null:A.type)||o.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&S&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var S=A.name==null?null:""+A.name;if(A.type==="hidden"&&o.getAttribute("name")===S)return o}else return o;if(o=$r(o.nextSibling),o===null)break}return null}function KL(o,c,f){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=$r(o.nextSibling),o===null))return null;return o}function $1(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function ZL(o,c){var f=o.ownerDocument;if(o.data!=="$?"||f.readyState==="complete")c();else{var m=function(){c(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function $r(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var X1=null;function wS(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return o;c--}else f==="/$"&&c++}o=o.previousSibling}return null}function TS(o,c,f){switch(c=My(f),o){case"html":if(o=c.documentElement,!o)throw Error(n(452));return o;case"head":if(o=c.head,!o)throw Error(n(453));return o;case"body":if(o=c.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function Cf(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);wu(o)}var Cr=new Map,DS=new Set;function Iy(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var ha=q.d;q.d={f:JL,r:e6,D:t6,C:n6,L:i6,m:r6,X:a6,S:s6,M:o6};function JL(){var o=ha.f(),c=Ay();return o||c}function e6(o){var c=Ks(o);c!==null&&c.tag===5&&c.type==="form"?VE(c):ha.r(o)}var nd=typeof document>"u"?null:document;function AS(o,c,f){var m=nd;if(m&&typeof c=="string"&&c){var A=xr(c);A='link[rel="'+o+'"][href="'+A+'"]',typeof f=="string"&&(A+='[crossorigin="'+f+'"]'),DS.has(A)||(DS.add(A),o={rel:o,crossOrigin:f,href:c},m.querySelector(A)===null&&(c=m.createElement("link"),ei(c,"link",o),qn(c),m.head.appendChild(c)))}}function t6(o){ha.D(o),AS("dns-prefetch",o,null)}function n6(o,c){ha.C(o,c),AS("preconnect",o,c)}function i6(o,c,f){ha.L(o,c,f);var m=nd;if(m&&o&&c){var A='link[rel="preload"][as="'+xr(c)+'"]';c==="image"&&f&&f.imageSrcSet?(A+='[imagesrcset="'+xr(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(A+='[imagesizes="'+xr(f.imageSizes)+'"]')):A+='[href="'+xr(o)+'"]';var S=A;switch(c){case"style":S=id(o);break;case"script":S=rd(o)}Cr.has(S)||(o=h({rel:"preload",href:c==="image"&&f&&f.imageSrcSet?void 0:o,as:c},f),Cr.set(S,o),m.querySelector(A)!==null||c==="style"&&m.querySelector(Sf(S))||c==="script"&&m.querySelector(Uf(S))||(c=m.createElement("link"),ei(c,"link",o),qn(c),m.head.appendChild(c)))}}function r6(o,c){ha.m(o,c);var f=nd;if(f&&o){var m=c&&typeof c.as=="string"?c.as:"script",A='link[rel="modulepreload"][as="'+xr(m)+'"][href="'+xr(o)+'"]',S=A;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=rd(o)}if(!Cr.has(S)&&(o=h({rel:"modulepreload",href:o},c),Cr.set(S,o),f.querySelector(A)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Uf(S)))return}m=f.createElement("link"),ei(m,"link",o),qn(m),f.head.appendChild(m)}}}function s6(o,c,f){ha.S(o,c,f);var m=nd;if(m&&o){var A=Tu(m).hoistableStyles,S=id(o);c=c||"default";var z=A.get(S);if(!z){var Q={loading:0,preload:null};if(z=m.querySelector(Sf(S)))Q.loading=5;else{o=h({rel:"stylesheet",href:o,"data-precedence":c},f),(f=Cr.get(S))&&Q1(o,f);var ce=z=m.createElement("link");qn(ce),ei(ce,"link",o),ce._p=new Promise(function(Te,Ne){ce.onload=Te,ce.onerror=Ne}),ce.addEventListener("load",function(){Q.loading|=1}),ce.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,Fy(z,c,m)}z={type:"stylesheet",instance:z,count:1,state:Q},A.set(S,z)}}}function a6(o,c){ha.X(o,c);var f=nd;if(f&&o){var m=Tu(f).hoistableScripts,A=rd(o),S=m.get(A);S||(S=f.querySelector(Uf(A)),S||(o=h({src:o,async:!0},c),(c=Cr.get(A))&&Y1(o,c),S=f.createElement("script"),qn(S),ei(S,"link",o),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(A,S))}}function o6(o,c){ha.M(o,c);var f=nd;if(f&&o){var m=Tu(f).hoistableScripts,A=rd(o),S=m.get(A);S||(S=f.querySelector(Uf(A)),S||(o=h({src:o,async:!0,type:"module"},c),(c=Cr.get(A))&&Y1(o,c),S=f.createElement("script"),qn(S),ei(S,"link",o),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(A,S))}}function ES(o,c,f,m){var A=(A=Ee.current)?Iy(A):null;if(!A)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(c=id(f.href),f=Tu(A).hoistableStyles,m=f.get(c),m||(m={type:"style",instance:null,count:0,state:null},f.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=id(f.href);var S=Tu(A).hoistableStyles,z=S.get(o);if(z||(A=A.ownerDocument||A,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(o,z),(S=A.querySelector(Sf(o)))&&!S._p&&(z.instance=S,z.state.loading=5),Cr.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Cr.set(o,f),S||l6(A,o,f,z.state))),c&&m===null)throw Error(n(528,""));return z}if(c&&m!==null)throw Error(n(529,""));return null;case"script":return c=f.async,f=f.src,typeof f=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=rd(f),f=Tu(A).hoistableScripts,m=f.get(c),m||(m={type:"script",instance:null,count:0,state:null},f.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function id(o){return'href="'+xr(o)+'"'}function Sf(o){return'link[rel="stylesheet"]['+o+"]"}function CS(o){return h({},o,{"data-precedence":o.precedence,precedence:null})}function l6(o,c,f,m){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=o.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),ei(c,"link",f),qn(c),o.head.appendChild(c))}function rd(o){return'[src="'+xr(o)+'"]'}function Uf(o){return"script[async]"+o}function SS(o,c,f){if(c.count++,c.instance===null)switch(c.type){case"style":var m=o.querySelector('style[data-href~="'+xr(f.href)+'"]');if(m)return c.instance=m,qn(m),m;var A=h({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),qn(m),ei(m,"style",A),Fy(m,f.precedence,o),c.instance=m;case"stylesheet":A=id(f.href);var S=o.querySelector(Sf(A));if(S)return c.state.loading|=4,c.instance=S,qn(S),S;m=CS(f),(A=Cr.get(A))&&Q1(m,A),S=(o.ownerDocument||o).createElement("link"),qn(S);var z=S;return z._p=new Promise(function(Q,ce){z.onload=Q,z.onerror=ce}),ei(S,"link",m),c.state.loading|=4,Fy(S,f.precedence,o),c.instance=S;case"script":return S=rd(f.src),(A=o.querySelector(Uf(S)))?(c.instance=A,qn(A),A):(m=f,(A=Cr.get(S))&&(m=h({},f),Y1(m,A)),o=o.ownerDocument||o,A=o.createElement("script"),qn(A),ei(A,"link",m),o.head.appendChild(A),c.instance=A);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,Fy(m,f.precedence,o));return c.instance}function Fy(o,c,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=m.length?m[m.length-1]:null,S=A,z=0;z<m.length;z++){var Q=m[z];if(Q.dataset.precedence===c)S=Q;else if(S!==A)break}S?S.parentNode.insertBefore(o,S.nextSibling):(c=f.nodeType===9?f.head:f,c.insertBefore(o,c.firstChild))}function Q1(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function Y1(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var Ly=null;function US(o,c,f){if(Ly===null){var m=new Map,A=Ly=new Map;A.set(f,m)}else A=Ly,m=A.get(f),m||(m=new Map,A.set(f,m));if(m.has(o))return m;for(m.set(o,null),f=f.getElementsByTagName(o),A=0;A<f.length;A++){var S=f[A];if(!(S[yn]||S[en]||o==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var z=S.getAttribute(c)||"";z=o+z;var Q=m.get(z);Q?Q.push(S):m.set(z,[S])}}return m}function kS(o,c,f){o=o.ownerDocument||o,o.head.insertBefore(f,c==="title"?o.querySelector("head > title"):null)}function c6(o,c,f){if(f===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function RS(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var kf=null;function u6(){}function d6(o,c,f){if(kf===null)throw Error(n(475));var m=kf;if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var A=id(f.href),S=o.querySelector(Sf(A));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(m.count++,m=Oy.bind(m),o.then(m,m)),c.state.loading|=4,c.instance=S,qn(S);return}S=o.ownerDocument||o,f=CS(f),(A=Cr.get(A))&&Q1(f,A),S=S.createElement("link"),qn(S);var z=S;z._p=new Promise(function(Q,ce){z.onload=Q,z.onerror=ce}),ei(S,"link",f),c.instance=S}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(m.count++,c=Oy.bind(m),o.addEventListener("load",c),o.addEventListener("error",c))}}function h6(){if(kf===null)throw Error(n(475));var o=kf;return o.stylesheets&&o.count===0&&K1(o,o.stylesheets),0<o.count?function(c){var f=setTimeout(function(){if(o.stylesheets&&K1(o,o.stylesheets),o.unsuspend){var m=o.unsuspend;o.unsuspend=null,m()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(f)}}:null}function Oy(){if(this.count--,this.count===0){if(this.stylesheets)K1(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Py=null;function K1(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Py=new Map,c.forEach(f6,o),Py=null,Oy.call(o))}function f6(o,c){if(!(c.state.loading&4)){var f=Py.get(o);if(f)var m=f.get(null);else{f=new Map,Py.set(o,f);for(var A=o.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<A.length;S++){var z=A[S];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(f.set(z.dataset.precedence,z),m=z)}m&&f.set(null,m)}A=c.instance,z=A.getAttribute("data-precedence"),S=f.get(z)||m,S===m&&f.set(null,A),f.set(z,A),this.count++,m=Oy.bind(this),A.addEventListener("load",m),A.addEventListener("error",m),S?S.parentNode.insertBefore(A,S.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(A,o.firstChild)),c.state.loading|=4}}var Rf={$$typeof:C,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function p6(o,c,f,m,A,S,z,Q){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=G(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=G(0),this.hiddenUpdates=G(null),this.identifierPrefix=m,this.onUncaughtError=A,this.onCaughtError=S,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function NS(o,c,f,m,A,S,z,Q,ce,Te,Ne,Le){return o=new p6(o,c,f,z,Q,ce,Te,Le),c=1,S===!0&&(c|=24),S=Ki(3,null,null,c),o.current=S,S.stateNode=o,c=Nx(),c.refCount++,o.pooledCache=c,c.refCount++,S.memoizedState={element:m,isDehydrated:f,cache:c},Lx(S),o}function MS(o){return o?(o=Fu,o):Fu}function IS(o,c,f,m,A,S){A=MS(A),m.context===null?m.context=A:m.pendingContext=A,m=ho(c),m.payload={element:f},S=S===void 0?null:S,S!==null&&(m.callback=S),f=fo(o,m,c),f!==null&&(nr(f,o,c),of(f,o,c))}function FS(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<c?f:c}}function Z1(o,c){FS(o,c),(o=o.alternate)&&FS(o,c)}function LS(o){if(o.tag===13){var c=Iu(o,67108864);c!==null&&nr(c,o,67108864),Z1(o,67108864)}}var By=!0;function g6(o,c,f,m){var A=P.T;P.T=null;var S=q.p;try{q.p=2,J1(o,c,f,m)}finally{q.p=S,P.T=A}}function m6(o,c,f,m){var A=P.T;P.T=null;var S=q.p;try{q.p=8,J1(o,c,f,m)}finally{q.p=S,P.T=A}}function J1(o,c,f,m){if(By){var A=e2(m);if(A===null)z1(o,c,m,zy,f),PS(o,m);else if(v6(A,o,c,f,m))m.stopPropagation();else if(PS(o,m),c&4&&-1<y6.indexOf(o)){for(;A!==null;){var S=Ks(A);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var z=Pt(S.pendingLanes);if(z!==0){var Q=S;for(Q.pendingLanes|=2,Q.entangledLanes|=2;z;){var ce=1<<31-ge(z);Q.entanglements[1]|=ce,z&=~ce}xs(S),(zt&6)===0&&(Ty=se()+500,Df(0))}}break;case 13:Q=Iu(S,2),Q!==null&&nr(Q,S,2),Ay(),Z1(S,2)}if(S=e2(m),S===null&&z1(o,c,m,zy,f),S===A)break;A=S}A!==null&&m.stopPropagation()}else z1(o,c,m,null,f)}}function e2(o){return o=sx(o),t2(o)}var zy=null;function t2(o){if(zy=null,o=Qi(o),o!==null){var c=s(o);if(c===null)o=null;else{var f=c.tag;if(f===13){if(o=a(c),o!==null)return o;o=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return zy=o,null}function OS(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(X()){case oe:return 2;case De:return 8;case _e:case fe:return 32;case ae:return 268435456;default:return 32}default:return 32}}var n2=!1,Eo=null,Co=null,So=null,Nf=new Map,Mf=new Map,Uo=[],y6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function PS(o,c){switch(o){case"focusin":case"focusout":Eo=null;break;case"dragenter":case"dragleave":Co=null;break;case"mouseover":case"mouseout":So=null;break;case"pointerover":case"pointerout":Nf.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mf.delete(c.pointerId)}}function If(o,c,f,m,A,S){return o===null||o.nativeEvent!==S?(o={blockedOn:c,domEventName:f,eventSystemFlags:m,nativeEvent:S,targetContainers:[A]},c!==null&&(c=Ks(c),c!==null&&LS(c)),o):(o.eventSystemFlags|=m,c=o.targetContainers,A!==null&&c.indexOf(A)===-1&&c.push(A),o)}function v6(o,c,f,m,A){switch(c){case"focusin":return Eo=If(Eo,o,c,f,m,A),!0;case"dragenter":return Co=If(Co,o,c,f,m,A),!0;case"mouseover":return So=If(So,o,c,f,m,A),!0;case"pointerover":var S=A.pointerId;return Nf.set(S,If(Nf.get(S)||null,o,c,f,m,A)),!0;case"gotpointercapture":return S=A.pointerId,Mf.set(S,If(Mf.get(S)||null,o,c,f,m,A)),!0}return!1}function BS(o){var c=Qi(o.target);if(c!==null){var f=s(c);if(f!==null){if(c=f.tag,c===13){if(c=a(f),c!==null){o.blockedOn=c,jr(o.priority,function(){if(f.tag===13){var m=tr();m=rt(m);var A=Iu(f,m);A!==null&&nr(A,f,m),Z1(f,m)}});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function qy(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var f=e2(o.nativeEvent);if(f===null){f=o.nativeEvent;var m=new f.constructor(f.type,f);rx=m,f.target.dispatchEvent(m),rx=null}else return c=Ks(f),c!==null&&LS(c),o.blockedOn=f,!1;c.shift()}return!0}function zS(o,c,f){qy(o)&&f.delete(c)}function b6(){n2=!1,Eo!==null&&qy(Eo)&&(Eo=null),Co!==null&&qy(Co)&&(Co=null),So!==null&&qy(So)&&(So=null),Nf.forEach(zS),Mf.forEach(zS)}function Wy(o,c){o.blockedOn===c&&(o.blockedOn=null,n2||(n2=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,b6)))}var jy=null;function qS(o){jy!==o&&(jy=o,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){jy===o&&(jy=null);for(var c=0;c<o.length;c+=3){var f=o[c],m=o[c+1],A=o[c+2];if(typeof m!="function"){if(t2(m||f)===null)continue;break}var S=Ks(f);S!==null&&(o.splice(c,3),c-=3,t1(S,{pending:!0,data:A,method:f.method,action:m},m,A))}}))}function Ff(o){function c(ce){return Wy(ce,o)}Eo!==null&&Wy(Eo,o),Co!==null&&Wy(Co,o),So!==null&&Wy(So,o),Nf.forEach(c),Mf.forEach(c);for(var f=0;f<Uo.length;f++){var m=Uo[f];m.blockedOn===o&&(m.blockedOn=null)}for(;0<Uo.length&&(f=Uo[0],f.blockedOn===null);)BS(f),f.blockedOn===null&&Uo.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var A=f[m],S=f[m+1],z=A[mn]||null;if(typeof S=="function")z||qS(f);else if(z){var Q=null;if(S&&S.hasAttribute("formAction")){if(A=S,z=S[mn]||null)Q=z.formAction;else if(t2(A)!==null)continue}else Q=z.action;typeof Q=="function"?f[m+1]=Q:(f.splice(m,3),m-=3),qS(f)}}}function i2(o){this._internalRoot=o}Vy.prototype.render=i2.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));var f=c.current,m=tr();IS(f,m,o,c,null,null)},Vy.prototype.unmount=i2.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;IS(o.current,2,null,o,null,null),Ay(),c[ki]=null}};function Vy(o){this._internalRoot=o}Vy.prototype.unstable_scheduleHydration=function(o){if(o){var c=Yn();o={blockedOn:null,target:o,priority:c};for(var f=0;f<Uo.length&&c!==0&&c<Uo[f].priority;f++);Uo.splice(f,0,o),f===0&&BS(o)}};var WS=e.version;if(WS!=="19.1.0")throw Error(n(527,WS,"19.1.0"));q.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=u(c),o=o!==null?d(o):null,o=o===null?null:o.stateNode,o};var x6={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hy.isDisabled&&Hy.supportsFiber)try{Ae=Hy.inject(x6),Ie=Hy}catch{}}return Of.createRoot=function(o,c){if(!i(o))throw Error(n(299));var f=!1,m="",A=rC,S=sC,z=aC,Q=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(A=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(z=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(Q=c.unstable_transitionCallbacks)),c=NS(o,1,!1,null,null,f,m,A,S,z,Q,null),o[ki]=c.current,B1(o),new i2(c)},Of.hydrateRoot=function(o,c,f){if(!i(o))throw Error(n(299));var m=!1,A="",S=rC,z=sC,Q=aC,ce=null,Te=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(A=f.identifierPrefix),f.onUncaughtError!==void 0&&(S=f.onUncaughtError),f.onCaughtError!==void 0&&(z=f.onCaughtError),f.onRecoverableError!==void 0&&(Q=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(ce=f.unstable_transitionCallbacks),f.formState!==void 0&&(Te=f.formState)),c=NS(o,1,!0,c,f??null,m,A,S,z,Q,ce,Te),c.context=MS(null),f=c.current,m=tr(),m=rt(m),A=ho(m),A.callback=null,fo(f,A,m),f=m,c.current.lanes=f,J(c,f),xs(c),o[ki]=c.current,B1(o),new Vy(c)},Of.version="19.1.0",Of}var JS;function R6(){if(JS)return o2.exports;JS=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),o2.exports=k6(),o2.exports}var N6=R6();const M6=Tm(N6);var Pf={},eU;function I6(){if(eU)return Pf;eU=1,Object.defineProperty(Pf,"__esModule",{value:!0}),Pf.parse=a,Pf.serialize=d;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function a(g,y){const v=new s,x=g.length;if(x<2)return v;const T=(y==null?void 0:y.decode)||h;let D=0;do{const E=g.indexOf("=",D);if(E===-1)break;const C=g.indexOf(";",D),R=C===-1?x:C;if(E>R){D=g.lastIndexOf(";",E-1)+1;continue}const U=l(g,D,E),M=u(g,E,U),O=g.slice(U,M);if(v[O]===void 0){let W=l(g,E+1,R),L=u(g,R,W);const H=T(g.slice(W,L));v[O]=H}D=R+1}while(D<x);return v}function l(g,y,v){do{const x=g.charCodeAt(y);if(x!==32&&x!==9)return y}while(++y<v);return v}function u(g,y,v){for(;y>v;){const x=g.charCodeAt(--y);if(x!==32&&x!==9)return y+1}return v}function d(g,y,v){const x=(v==null?void 0:v.encode)||encodeURIComponent;if(!r.test(g))throw new TypeError(`argument name is invalid: ${g}`);const T=x(y);if(!e.test(T))throw new TypeError(`argument val is invalid: ${y}`);let D=g+"="+T;if(!v)return D;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);D+="; Max-Age="+v.maxAge}if(v.domain){if(!t.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);D+="; Domain="+v.domain}if(v.path){if(!n.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);D+="; Path="+v.path}if(v.expires){if(!p(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);D+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(D+="; HttpOnly"),v.secure&&(D+="; Secure"),v.partitioned&&(D+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return D}function h(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function p(g){return i.call(g)==="[object Date]"}return Pf}I6();var tU="popstate";function F6(r={}){function e(i,s){let{pathname:a="/",search:l="",hash:u=""}=hu(i.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),z_("",{pathname:a,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let a=i.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let u=i.location.href,d=u.indexOf("#");l=d===-1?u:u.slice(0,d)}return l+"#"+(typeof s=="string"?s:Np(s))}function n(i,s){ps(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return O6(e,t,n,r)}function gn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ps(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L6(){return Math.random().toString(36).substring(2,10)}function nU(r,e){return{usr:r.state,key:r.key,idx:e}}function z_(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?hu(e):e,state:t,key:e&&e.key||n||L6()}}function Np({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function hu(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function O6(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,l="POP",u=null,d=h();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function h(){return(a.state||{idx:null}).idx}function p(){l="POP";let T=h(),D=T==null?null:T-d;d=T,u&&u({action:l,location:x.location,delta:D})}function g(T,D){l="PUSH";let E=z_(x.location,T,D);t&&t(E,T),d=h()+1;let C=nU(E,d),R=x.createHref(E);try{a.pushState(C,"",R)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(R)}s&&u&&u({action:l,location:x.location,delta:1})}function y(T,D){l="REPLACE";let E=z_(x.location,T,D);t&&t(E,T),d=h();let C=nU(E,d),R=x.createHref(E);a.replaceState(C,"",R),s&&u&&u({action:l,location:x.location,delta:0})}function v(T){return P6(T)}let x={get action(){return l},get location(){return r(i,a)},listen(T){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(tU,p),u=T,()=>{i.removeEventListener(tU,p),u=null}},createHref(T){return e(i,T)},createURL:v,encodeLocation(T){let D=v(T);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:g,replace:y,go(T){return a.go(T)}};return x}function P6(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),gn(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:Np(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function JN(r,e,t="/"){return B6(r,e,t,!1)}function B6(r,e,t,n){let i=typeof e=="string"?hu(e):e,s=eo(i.pathname||"/",t);if(s==null)return null;let a=e5(r);z6(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let d=K6(s);l=Q6(a[u],d,n)}return l}function e5(r,e=[],t=[],n=""){let i=(s,a,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(gn(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length));let d=Xa([n,u.relativePath]),h=t.concat(u);s.children&&s.children.length>0&&(gn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),e5(s.children,e,h,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:$6(d,s.index),routesMeta:h})};return r.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let u of t5(s.path))i(s,a,u)}),e}function t5(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=t5(n.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...a),l.map(u=>r.startsWith("/")&&u===""?"/":u)}function z6(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:X6(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var q6=/^:[\w-]+$/,W6=3,j6=2,V6=1,H6=10,G6=-2,iU=r=>r==="*";function $6(r,e){let t=r.split("/"),n=t.length;return t.some(iU)&&(n+=G6),e&&(n+=j6),t.filter(i=>!iU(i)).reduce((i,s)=>i+(q6.test(s)?W6:s===""?V6:H6),n)}function X6(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function Q6(r,e,t=!1){let{routesMeta:n}=r,i={},s="/",a=[];for(let l=0;l<n.length;++l){let u=n[l],d=l===n.length-1,h=s==="/"?e:e.slice(s.length)||"/",p=v0({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),g=u.route;if(!p&&d&&t&&!n[n.length-1].route.index&&(p=v0({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:Xa([s,p.pathname]),pathnameBase:tO(Xa([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=Xa([s,p.pathnameBase]))}return a}function v0(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=Y6(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,{paramName:h,isOptional:p},g)=>{if(h==="*"){let v=l[g]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const y=l[g];return p&&!y?d[h]=void 0:d[h]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:r}}function Y6(r,e=!1,t=!0){ps(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function K6(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ps(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function eo(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function Z6(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?hu(r):r;return{pathname:t?t.startsWith("/")?t:J6(t,e):e,search:nO(n),hash:iO(i)}}function J6(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function d2(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eO(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function n5(r){let e=eO(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function i5(r,e,t,n=!1){let i;typeof r=="string"?i=hu(r):(i={...r},gn(!i.pathname||!i.pathname.includes("?"),d2("?","pathname","search",i)),gn(!i.pathname||!i.pathname.includes("#"),d2("#","pathname","hash",i)),gn(!i.search||!i.search.includes("#"),d2("#","search","hash",i)));let s=r===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=t;else{let p=e.length-1;if(!n&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}l=p>=0?e[p]:"/"}let u=Z6(i,l),d=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var Xa=r=>r.join("/").replace(/\/\/+/g,"/"),tO=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),nO=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,iO=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function rO(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var r5=["POST","PUT","PATCH","DELETE"];new Set(r5);var sO=["GET",...r5];new Set(sO);var Lh=de.createContext(null);Lh.displayName="DataRouter";var ub=de.createContext(null);ub.displayName="DataRouterState";var s5=de.createContext({isTransitioning:!1});s5.displayName="ViewTransition";var aO=de.createContext(new Map);aO.displayName="Fetchers";var oO=de.createContext(null);oO.displayName="Await";var Xs=de.createContext(null);Xs.displayName="Navigation";var Dm=de.createContext(null);Dm.displayName="Location";var Qs=de.createContext({outlet:null,matches:[],isDataRoute:!1});Qs.displayName="Route";var OT=de.createContext(null);OT.displayName="RouteError";function lO(r,{relative:e}={}){gn(Am(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=de.useContext(Xs),{hash:i,pathname:s,search:a}=Em(r,{relative:e}),l=s;return t!=="/"&&(l=s==="/"?t:Xa([t,s])),n.createHref({pathname:l,search:a,hash:i})}function Am(){return de.useContext(Dm)!=null}function zr(){return gn(Am(),"useLocation() may be used only in the context of a <Router> component."),de.useContext(Dm).location}var a5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function o5(r){de.useContext(Xs).static||de.useLayoutEffect(r)}function Hi(){let{isDataRoute:r}=de.useContext(Qs);return r?_O():cO()}function cO(){gn(Am(),"useNavigate() may be used only in the context of a <Router> component.");let r=de.useContext(Lh),{basename:e,navigator:t}=de.useContext(Xs),{matches:n}=de.useContext(Qs),{pathname:i}=zr(),s=JSON.stringify(n5(n)),a=de.useRef(!1);return o5(()=>{a.current=!0}),de.useCallback((u,d={})=>{if(ps(a.current,a5),!a.current)return;if(typeof u=="number"){t.go(u);return}let h=i5(u,JSON.parse(s),i,d.relative==="path");r==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Xa([e,h.pathname])),(d.replace?t.replace:t.push)(h,d.state,d)},[e,t,s,i,r])}de.createContext(null);function Oh(){let{matches:r}=de.useContext(Qs),e=r[r.length-1];return e?e.params:{}}function Em(r,{relative:e}={}){let{matches:t}=de.useContext(Qs),{pathname:n}=zr(),i=JSON.stringify(n5(t));return de.useMemo(()=>i5(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function uO(r,e){return l5(r,e)}function l5(r,e,t,n){var D;gn(Am(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=de.useContext(Xs),{matches:s}=de.useContext(Qs),a=s[s.length-1],l=a?a.params:{},u=a?a.pathname:"/",d=a?a.pathnameBase:"/",h=a&&a.route;{let E=h&&h.path||"";c5(u,!h||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let p=zr(),g;if(e){let E=typeof e=="string"?hu(e):e;gn(d==="/"||((D=E.pathname)==null?void 0:D.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${E.pathname}" was given in the \`location\` prop.`),g=E}else g=p;let y=g.pathname||"/",v=y;if(d!=="/"){let E=d.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(E.length).join("/")}let x=JN(r,{pathname:v});ps(h||x!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),ps(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=gO(x&&x.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:Xa([d,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:Xa([d,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,t,n);return e&&T?de.createElement(Dm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},T):T}function dO(){let r=xO(),e=rO(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",r),a=de.createElement(de.Fragment,null,de.createElement("p",null,"💿 Hey developer 👋"),de.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",de.createElement("code",{style:s},"ErrorBoundary")," or"," ",de.createElement("code",{style:s},"errorElement")," prop on your route.")),de.createElement(de.Fragment,null,de.createElement("h2",null,"Unexpected Application Error!"),de.createElement("h3",{style:{fontStyle:"italic"}},e),t?de.createElement("pre",{style:i},t):null,a)}var hO=de.createElement(dO,null),fO=class extends de.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?de.createElement(Qs.Provider,{value:this.props.routeContext},de.createElement(OT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pO({routeContext:r,match:e,children:t}){let n=de.useContext(Lh);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),de.createElement(Qs.Provider,{value:r},t)}function gO(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,s=t==null?void 0:t.errors;if(s!=null){let u=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);gn(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let a=!1,l=-1;if(t)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:h,errors:p}=t,g=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,d,h)=>{let p,g=!1,y=null,v=null;t&&(p=s&&d.route.id?s[d.route.id]:void 0,y=d.route.errorElement||hO,a&&(l<0&&h===0?(c5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):l===h&&(g=!0,v=d.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,h+1)),T=()=>{let D;return p?D=y:g?D=v:d.route.Component?D=de.createElement(d.route.Component,null):d.route.element?D=d.route.element:D=u,de.createElement(pO,{match:d,routeContext:{outlet:u,matches:x,isDataRoute:t!=null},children:D})};return t&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?de.createElement(fO,{location:t.location,revalidation:t.revalidation,component:y,error:p,children:T(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):T()},null)}function PT(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mO(r){let e=de.useContext(Lh);return gn(e,PT(r)),e}function yO(r){let e=de.useContext(ub);return gn(e,PT(r)),e}function vO(r){let e=de.useContext(Qs);return gn(e,PT(r)),e}function BT(r){let e=vO(r),t=e.matches[e.matches.length-1];return gn(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function bO(){return BT("useRouteId")}function xO(){var n;let r=de.useContext(OT),e=yO("useRouteError"),t=BT("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function _O(){let{router:r}=mO("useNavigate"),e=BT("useNavigate"),t=de.useRef(!1);return o5(()=>{t.current=!0}),de.useCallback(async(i,s={})=>{ps(t.current,a5),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...s}))},[r,e])}var rU={};function c5(r,e,t){!e&&!rU[r]&&(rU[r]=!0,ps(!1,t))}de.memo(wO);function wO({routes:r,future:e,state:t}){return l5(r,void 0,t,e)}function sr(r){gn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TO({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:s=!1}){gn(!Am(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=r.replace(/^\/*/,"/"),l=de.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof t=="string"&&(t=hu(t));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:g="default"}=t,y=de.useMemo(()=>{let v=eo(u,a);return v==null?null:{location:{pathname:v,search:d,hash:h,state:p,key:g},navigationType:n}},[a,u,d,h,p,g,n]);return ps(y!=null,`<Router basename="${a}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:de.createElement(Xs.Provider,{value:l},de.createElement(Dm.Provider,{children:e,value:y}))}function DO({children:r,location:e}){return uO(q_(r),e)}function q_(r,e=[]){let t=[];return de.Children.forEach(r,(n,i)=>{if(!de.isValidElement(n))return;let s=[...e,i];if(n.type===de.Fragment){t.push.apply(t,q_(n.props.children,s));return}gn(n.type===sr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=q_(n.props.children,s)),t.push(a)}),t}var vv="get",bv="application/x-www-form-urlencoded";function db(r){return r!=null&&typeof r.tagName=="string"}function AO(r){return db(r)&&r.tagName.toLowerCase()==="button"}function EO(r){return db(r)&&r.tagName.toLowerCase()==="form"}function CO(r){return db(r)&&r.tagName.toLowerCase()==="input"}function SO(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function UO(r,e){return r.button===0&&(!e||e==="_self")&&!SO(r)}var Gy=null;function kO(){if(Gy===null)try{new FormData(document.createElement("form"),0),Gy=!1}catch{Gy=!0}return Gy}var RO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function h2(r){return r!=null&&!RO.has(r)?(ps(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bv}"`),null):r}function NO(r,e){let t,n,i,s,a;if(EO(r)){let l=r.getAttribute("action");n=l?eo(l,e):null,t=r.getAttribute("method")||vv,i=h2(r.getAttribute("enctype"))||bv,s=new FormData(r)}else if(AO(r)||CO(r)&&(r.type==="submit"||r.type==="image")){let l=r.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=r.getAttribute("formaction")||l.getAttribute("action");if(n=u?eo(u,e):null,t=r.getAttribute("formmethod")||l.getAttribute("method")||vv,i=h2(r.getAttribute("formenctype"))||h2(l.getAttribute("enctype"))||bv,s=new FormData(l,r),!kO()){let{name:d,type:h,value:p}=r;if(h==="image"){let g=d?`${d}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else d&&s.append(d,p)}}else{if(db(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=vv,n=null,i=bv,a=r}return s&&i==="text/plain"&&(a=s,s=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:s,body:a}}function zT(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function MO(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IO(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function FO(r,e,t){let n=await Promise.all(r.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await MO(s,t);return a.links?a.links():[]}return[]}));return BO(n.flat(1).filter(IO).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function sU(r,e,t,n,i,s){let a=(u,d)=>t[d]?u.route.id!==t[d].route.id:!0,l=(u,d)=>{var h;return t[d].pathname!==u.pathname||((h=t[d].route.path)==null?void 0:h.endsWith("*"))&&t[d].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,d)=>a(u,d)||l(u,d)):s==="data"?e.filter((u,d)=>{var p;let h=n.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(a(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=t[0])==null?void 0:p.params)||{},nextUrl:new URL(r,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function LO(r,e,{includeHydrateFallback:t}={}){return OO(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function OO(r){return[...new Set(r)]}function PO(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function BO(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let s=JSON.stringify(PO(i));return t.has(s)||(t.add(s),n.push({key:s,link:i})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var zO=new Set([100,101,204,205]);function qO(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&eo(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function u5(){let r=de.useContext(Lh);return zT(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function WO(){let r=de.useContext(ub);return zT(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var qT=de.createContext(void 0);qT.displayName="FrameworkContext";function d5(){let r=de.useContext(qT);return zT(r,"You must render this element inside a <HydratedRouter> element"),r}function jO(r,e){let t=de.useContext(qT),[n,i]=de.useState(!1),[s,a]=de.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:p}=e,g=de.useRef(null);de.useEffect(()=>{if(r==="render"&&a(!0),r==="viewport"){let x=D=>{D.forEach(E=>{a(E.isIntersecting)})},T=new IntersectionObserver(x,{threshold:.5});return g.current&&T.observe(g.current),()=>{T.disconnect()}}},[r]),de.useEffect(()=>{if(n){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[n]);let y=()=>{i(!0)},v=()=>{i(!1),a(!1)};return t?r!=="intent"?[s,g,{}]:[s,g,{onFocus:Bf(l,y),onBlur:Bf(u,v),onMouseEnter:Bf(d,y),onMouseLeave:Bf(h,v),onTouchStart:Bf(p,y)}]:[!1,g,{}]}function Bf(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function VO({page:r,...e}){let{router:t}=u5(),n=de.useMemo(()=>JN(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?de.createElement(GO,{page:r,matches:n,...e}):null}function HO(r){let{manifest:e,routeModules:t}=d5(),[n,i]=de.useState([]);return de.useEffect(()=>{let s=!1;return FO(r,e,t).then(a=>{s||i(a)}),()=>{s=!0}},[r,e,t]),n}function GO({page:r,matches:e,...t}){let n=zr(),{manifest:i,routeModules:s}=d5(),{basename:a}=u5(),{loaderData:l,matches:u}=WO(),d=de.useMemo(()=>sU(r,e,u,i,n,"data"),[r,e,u,i,n]),h=de.useMemo(()=>sU(r,e,u,i,n,"assets"),[r,e,u,i,n]),p=de.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let v=new Set,x=!1;if(e.forEach(D=>{var C;let E=i.routes[D.route.id];!E||!E.hasLoader||(!d.some(R=>R.route.id===D.route.id)&&D.route.id in l&&((C=s[D.route.id])!=null&&C.shouldRevalidate)||E.hasClientLoader?x=!0:v.add(D.route.id))}),v.size===0)return[];let T=qO(r,a);return x&&v.size>0&&T.searchParams.set("_routes",e.filter(D=>v.has(D.route.id)).map(D=>D.route.id).join(",")),[T.pathname+T.search]},[a,l,n,i,d,e,r,s]),g=de.useMemo(()=>LO(h,i),[h,i]),y=HO(h);return de.createElement(de.Fragment,null,p.map(v=>de.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...t})),g.map(v=>de.createElement("link",{key:v,rel:"modulepreload",href:v,...t})),y.map(({key:v,link:x})=>de.createElement("link",{key:v,...x})))}function $O(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var h5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{h5&&(window.__reactRouterVersion="7.6.1")}catch{}function XO({basename:r,children:e,window:t}){let n=de.useRef();n.current==null&&(n.current=F6({window:t,v5Compat:!0}));let i=n.current,[s,a]=de.useState({action:i.action,location:i.location}),l=de.useCallback(u=>{de.startTransition(()=>a(u))},[a]);return de.useLayoutEffect(()=>i.listen(l),[i,l]),de.createElement(TO,{basename:r,children:e,location:s.location,navigationType:s.action,navigator:i})}var f5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p5=de.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:s,replace:a,state:l,target:u,to:d,preventScrollReset:h,viewTransition:p,...g},y){let{basename:v}=de.useContext(Xs),x=typeof d=="string"&&f5.test(d),T,D=!1;if(typeof d=="string"&&x&&(T=d,h5))try{let L=new URL(window.location.href),H=d.startsWith("//")?new URL(L.protocol+d):new URL(d),ne=eo(H.pathname,v);H.origin===L.origin&&ne!=null?d=ne+H.search+H.hash:D=!0}catch{ps(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=lO(d,{relative:i}),[C,R,U]=jO(n,g),M=KO(d,{replace:a,state:l,target:u,preventScrollReset:h,relative:i,viewTransition:p});function O(L){e&&e(L),L.defaultPrevented||M(L)}let W=de.createElement("a",{...g,...U,href:T||E,onClick:D||s?e:O,ref:$O(y,R),target:u,"data-discover":!x&&t==="render"?"true":void 0});return C&&!x?de.createElement(de.Fragment,null,W,de.createElement(VO,{page:E})):W});p5.displayName="Link";var g5=de.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:s,to:a,viewTransition:l,children:u,...d},h){let p=Em(a,{relative:d.relative}),g=zr(),y=de.useContext(ub),{navigator:v,basename:x}=de.useContext(Xs),T=y!=null&&nP(p)&&l===!0,D=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,E=g.pathname,C=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(E=E.toLowerCase(),C=C?C.toLowerCase():null,D=D.toLowerCase()),C&&x&&(C=eo(C,x)||C);const R=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let U=E===D||!i&&E.startsWith(D)&&E.charAt(R)==="/",M=C!=null&&(C===D||!i&&C.startsWith(D)&&C.charAt(D.length)==="/"),O={isActive:U,isPending:M,isTransitioning:T},W=U?e:void 0,L;typeof n=="function"?L=n(O):L=[n,U?"active":null,M?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let H=typeof s=="function"?s(O):s;return de.createElement(p5,{...d,"aria-current":W,className:L,ref:h,style:H,to:a,viewTransition:l},typeof u=="function"?u(O):u)});g5.displayName="NavLink";var QO=de.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:s,method:a=vv,action:l,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:p,...g},y)=>{let v=eP(),x=tP(l,{relative:d}),T=a.toLowerCase()==="get"?"get":"post",D=typeof l=="string"&&f5.test(l),E=C=>{if(u&&u(C),C.defaultPrevented)return;C.preventDefault();let R=C.nativeEvent.submitter,U=(R==null?void 0:R.getAttribute("formmethod"))||a;v(R||C.currentTarget,{fetcherKey:e,method:U,navigate:t,replace:i,state:s,relative:d,preventScrollReset:h,viewTransition:p})};return de.createElement("form",{ref:y,method:T,action:x,onSubmit:n?u:E,...g,"data-discover":!D&&r==="render"?"true":void 0})});QO.displayName="Form";function YO(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m5(r){let e=de.useContext(Lh);return gn(e,YO(r)),e}function KO(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:s,viewTransition:a}={}){let l=Hi(),u=zr(),d=Em(r,{relative:s});return de.useCallback(h=>{if(UO(h,e)){h.preventDefault();let p=t!==void 0?t:Np(u)===Np(d);l(r,{replace:p,state:n,preventScrollReset:i,relative:s,viewTransition:a})}},[u,l,d,t,n,e,r,i,s,a])}var ZO=0,JO=()=>`__${String(++ZO)}__`;function eP(){let{router:r}=m5("useSubmit"),{basename:e}=de.useContext(Xs),t=bO();return de.useCallback(async(n,i={})=>{let{action:s,method:a,encType:l,formData:u,body:d}=NO(n,e);if(i.navigate===!1){let h=i.fetcherKey||JO();await r.fetch(h,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||a,formEncType:i.encType||l,flushSync:i.flushSync})}else await r.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||a,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function tP(r,{relative:e}={}){let{basename:t}=de.useContext(Xs),n=de.useContext(Qs);gn(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Em(r||".",{relative:e})},a=zr();if(r==null){s.search=a.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let h=l.toString();s.search=h?`?${h}`:""}}return(!r||r===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Xa([t,s.pathname])),Np(s)}function nP(r,e={}){let t=de.useContext(s5);gn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=m5("useViewTransitionState"),i=Em(r,{relative:e.relative});if(!t.isTransitioning)return!1;let s=eo(t.currentLocation.pathname,n)||t.currentLocation.pathname,a=eo(t.nextLocation.pathname,n)||t.nextLocation.pathname;return v0(i.pathname,a)!=null||v0(i.pathname,s)!=null}[...zO];var iP=ZN();const rP=Tm(iP);function sP(r={}){const{nonce:e,onScriptLoadSuccess:t,onScriptLoadError:n}=r,[i,s]=de.useState(!1),a=de.useRef(t);a.current=t;const l=de.useRef(n);return l.current=n,de.useEffect(()=>{const u=document.createElement("script");return u.src="https://accounts.google.com/gsi/client",u.async=!0,u.defer=!0,u.nonce=e,u.onload=()=>{var d;s(!0),(d=a.current)===null||d===void 0||d.call(a)},u.onerror=()=>{var d;s(!1),(d=l.current)===null||d===void 0||d.call(l)},document.body.appendChild(u),()=>{document.body.removeChild(u)}},[e]),i}const aP=de.createContext(null);function oP({clientId:r,nonce:e,onScriptLoadSuccess:t,onScriptLoadError:n,children:i}){const s=sP({nonce:e,onScriptLoadSuccess:t,onScriptLoadError:n}),a=de.useMemo(()=>({clientId:r,scriptLoadedSuccessfully:s}),[r,s]);return Pr.createElement(aP.Provider,{value:a},i)}function lP(){var r,e,t;(t=(e=(r=window==null?void 0:window.google)===null||r===void 0?void 0:r.accounts)===null||e===void 0?void 0:e.id)===null||t===void 0||t.disableAutoSelect()}const aU="QuizAI",Ts="gemini",y5="gemini-2.5-flash-preview-04-17",cP=({className:r="w-6 h-6",strokeWidth:e=1.5})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:e,stroke:"currentColor",className:r,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v12"})}),uP=({className:r="w-6 h-6",strokeWidth:e=1.5})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:e,stroke:"currentColor",className:r,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186l9.566-5.314m-9.566 7.5l9.566 5.314m0 0a2.25 2.25 0 103.935 2.186 2.25 2.25 0 00-3.935-2.186zm0-12.814a2.25 2.25 0 103.933-2.185 2.25 2.25 0 00-3.933 2.185z"})}),W_=({className:r="w-6 h-6",strokeWidth:e=1.5})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:e,stroke:"currentColor",className:r,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),xv=({className:r="w-6 h-6"})=>k.jsx("img",{src:"https://img.icons8.com/?size=256&id=XWoSyGbnshH2&format=png",alt:"File",className:r}),v5=({className:r="w-6 h-6"})=>k.jsx("img",{src:"https://img.icons8.com/?size=256&id=UD9nG7mgbuXZ&format=png",alt:"Dashboard",className:r}),dP=({className:r="w-5 h-5",strokeWidth:e=1.5})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:e,stroke:"currentColor",className:r,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),j_=({className:r="w-5 h-5"})=>k.jsx("img",{src:"https://img.icons8.com/?size=256&id=OZuepOQd0omj&format=png",alt:"Delete",className:r}),f2=({className:r="w-6 h-6 text-green-500",strokeWidth:e=1.5,isFilled:t})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:t?"currentColor":"none",stroke:t?"none":"currentColor",strokeWidth:t?void 0:e,className:r,children:t?k.jsx("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.06-1.06l-3.25 3.25-1.5-1.5a.75.75 0 00-1.06 1.06l2 2a.75.75 0 001.06 0l3.75-3.75z",clipRule:"evenodd"}):k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),b5=({className:r="w-6 h-6 text-red-500",strokeWidth:e=1.5})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:e,stroke:"currentColor",className:r,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),x5=({className:r="w-6 h-6",strokeWidth:e=1.5})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:e,stroke:"currentColor",className:r,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.355a7.5 7.5 0 01-4.5 0m4.5 0v.75A2.25 2.25 0 0113.5 21h-3a2.25 2.25 0 01-2.25-2.25v-.75m4.5 0A7.468 7.468 0 0016.5 12c0-1.806-.666-3.445-1.757-4.687M12 18c-2.064 0-3.93.901-5.243 2.313M12 3.75c2.353 0 4.48.834 6.033 2.198M12 3.75c-2.353 0-4.48.834-6.033 2.198m12.066 0A12.028 12.028 0 0012 3.75z"})}),_5=({className:r="w-5 h-5"})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:r,children:k.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.23 8.29a.75.75 0 01.02-1.06z",clipRule:"evenodd"})}),eu=({className:r="w-5 h-5",strokeWidth:e=2})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:e,stroke:"currentColor",className:r,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})}),b0=({className:r="w-5 h-5",strokeWidth:e=2})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:e,stroke:"currentColor",className:r,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),hP=({className:r="w-5 h-5",strokeWidth:e=1.5})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:e,stroke:"currentColor",className:r,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 3.75H6.912a2.25 2.25 0 00-2.15 1.588L2.35 13.177a2.25 2.25 0 00-.1.663V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18v-4.162c0-.224-.034-.447-.1-.663L18.24 5.338a2.25 2.25 0 00-2.15-1.588H15M2.25 13.5h3.86a2.25 2.25 0 012.012 1.244l.256.512a2.25 2.25 0 002.013 1.244h3.218a2.25 2.25 0 002.013-1.244l.256-.512a2.25 2.25 0 012.013-1.244h3.859M12 3v8.25m0 0l-3-3m3 3l3-3"})}),WT=({className:r="w-5 h-5",strokeWidth:e=1.5})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:e,stroke:"currentColor",className:r,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"})}),jT=({className:r="w-5 h-5"})=>k.jsx("img",{src:"https://img.icons8.com/?size=256&id=wFfu6zXx15Yk&format=png",alt:"Home",className:r}),oU=({className:r="w-5 h-5"})=>k.jsx("img",{src:"https://img.icons8.com/?size=256&id=VQOfeAx5KWTK&format=png",alt:"Information",className:r}),Mp=({className:r="w-6 h-6"})=>k.jsx("img",{src:"https://img.icons8.com/?size=256&id=7LhMaNDFgoYK&format=png",alt:"Create Quiz",className:r}),Tp=({className:r="w-5 h-5",strokeWidth:e=2,isFilled:t})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:t?"currentColor":"none",viewBox:"0 0 24 24",strokeWidth:e,stroke:"currentColor",className:r,children:k.jsx("circle",{cx:"12",cy:"12",r:"7.5"})}),VT=({className:r="w-6 h-6",strokeWidth:e=1.5})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:e,stroke:"currentColor",className:r,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})}),w5=({className:r="w-4 h-4",strokeWidth:e=1.5})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:e,stroke:"currentColor",className:r,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"})}),fP=({className:r="w-5 h-5",strokeWidth:e=1.5})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:e,stroke:"currentColor",className:r,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"})}),pP=({className:r="w-5 h-5"})=>k.jsx("img",{src:"https://img.icons8.com/?size=256&id=rByZVfKrdkJo&format=png",alt:"Copy",className:r}),gP=({className:r="w-5 h-5",strokeWidth:e=1.5})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:e,stroke:"currentColor",className:r,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),mP=({className:r="w-5 h-5"})=>k.jsx("img",{src:"https://239114911.e.cdneverest.net/cdnazota/azt-assets/core-mod-assets/images/og_image.png",alt:"Export",className:r}),yP=({className:r="w-5 h-5"})=>k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[k.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),k.jsx("path",{d:"M21 3v5h-5"}),k.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),k.jsx("path",{d:"M3 21v-5h5"})]}),li=({content:r,placement:e="top",children:t,wrapperClassName:n="",tooltipClassName:i="",delayDuration:s=100})=>{const[a,l]=de.useState(!1),u=de.useRef(null),d=()=>{u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{l(!0)},s)},h=()=>{u.current&&clearTimeout(u.current),l(!1)},p="absolute z-50 whitespace-nowrap rounded-lg bg-slate-800 px-3 py-1.5 text-xs font-semibold text-slate-100 shadow-xl ring-1 ring-slate-700/50 transition-opacity duration-200 ease-out pointer-events-none",g={top:"bottom-full left-1/2 -translate-x-1/2 mb-2","top-start":"bottom-full left-0 mb-2","top-end":"bottom-full right-0 mb-2",bottom:"top-full left-1/2 -translate-x-1/2 mt-2","bottom-start":"top-full left-0 mt-2","bottom-end":"top-full right-0 mt-2",left:"right-full top-1/2 -translate-y-1/2 mr-2","left-start":"right-full top-0 mr-2","left-end":"right-full bottom-0 mr-2",right:"left-full top-1/2 -translate-y-1/2 ml-2","right-start":"left-full top-0 ml-2","right-end":"left-full bottom-0 ml-2"},y=x=>{if(Pr.isValidElement(x)){const T=["button","input","select","textarea","a"];if(typeof x.type=="string"&&T.includes(x.type)||x.props&&typeof x.props.tabIndex<"u"&&x.props.tabIndex>=0)return!0}return!1},v=de.Children.count(t)===1?!y(de.Children.only(t)):!1;return k.jsxs("div",{className:`relative inline-block ${n}`,onMouseEnter:d,onMouseLeave:h,onFocus:d,onBlur:h,tabIndex:v?0:void 0,children:[t,a&&r&&k.jsx("div",{role:"tooltip",className:`${p} ${g[e]} ${i} opacity-100`,children:r})]})};li.displayName="Tooltip";const Je=Pr.forwardRef(({children:r,variant:e="primary",size:t="md",leftIcon:n,rightIcon:i,isLoading:s=!1,fullWidth:a=!1,className:l="",tooltip:u,tooltipPlacement:d,...h},p)=>{const g="inline-flex items-center justify-center font-semibold rounded-lg focus:outline-none transition-colors transition-transform transition-opacity transition-shadow duration-200 ease-out transform active:scale-[0.97] disabled:opacity-60 disabled:cursor-not-allowed disabled:shadow-none",y={primary:"bg-sky-500 hover:bg-sky-400 text-white shadow-lg hover:shadow-sky-400/40 focus-visible:ring-4 focus-visible:ring-sky-400/30 disabled:bg-sky-500/50 border border-transparent",secondary:"bg-slate-700 hover:bg-slate-600 text-slate-100 shadow-md hover:shadow-slate-900/50 focus-visible:ring-4 focus-visible:ring-slate-400/20 disabled:bg-slate-700/70 disabled:text-slate-400 border border-transparent",outline:"border-2 border-sky-400 text-sky-300 hover:bg-sky-400/15 hover:text-sky-200 focus-visible:ring-4 focus-visible:ring-sky-400/20 shadow-none disabled:border-slate-600 disabled:text-slate-500",subtle:"bg-slate-700/60 hover:bg-slate-600/80 text-slate-200 focus-visible:ring-4 focus-visible:ring-slate-400/20 shadow-none border border-transparent disabled:text-slate-500",danger:"bg-red-500 hover:bg-red-600 text-white shadow-lg hover:shadow-red-500/40 focus-visible:ring-4 focus-visible:ring-red-500/30 disabled:bg-red-500/50 border border-transparent",ghost:"bg-transparent hover:bg-slate-400/10 text-slate-300 hover:text-sky-300 focus-visible:ring-4 focus-visible:ring-slate-400/20 disabled:text-slate-500 shadow-none border border-transparent",link:"bg-transparent text-sky-400 hover:text-sky-300 hover:underline focus-visible:ring-1 focus-visible:ring-sky-400/50 focus-visible:ring-offset-1 focus-visible:ring-offset-slate-900 rounded-sm shadow-none p-0 border border-transparent disabled:text-sky-400/70 disabled:no-underline"},T=!r&&(n||i)?{xs:"p-2",sm:"p-2.5",md:"p-2.5",lg:"p-3"}[t]:e==="link"?"":{xs:"px-3 py-1.5 text-xs",sm:"px-4 py-2 text-sm",md:"px-5 py-2.5 text-sm",lg:"px-6 py-3 text-base"}[t],D=a?"w-full":"",E=t==="xs"||t==="sm"?"h-4 w-4":"h-5 w-5",C=r?t==="xs"||t==="sm"?"mr-1.5":"mr-2":"",R=r?t==="xs"||t==="sm"?"ml-1.5":"ml-2":"",U=k.jsxs(k.Fragment,{children:[s&&k.jsxs("svg",{className:`animate-spin ${r?"-ml-1 mr-2.5":""} ${E}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[k.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),k.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n&&!s&&k.jsx("span",{className:`${C} ${E} flex-shrink-0`,children:n}),r,i&&!s&&k.jsx("span",{className:`${R} ${E} flex-shrink-0`,children:i})]}),M=k.jsx("button",{ref:p,className:`${g} ${y[e]} ${T} ${D} ${l}`,disabled:s||h.disabled,...h,children:U});return u?k.jsx(li,{content:u,placement:d,wrapperClassName:"inline-flex",children:M}):M});Je.displayName="Button";const pn=({children:r,className:e="",onClick:t,useGlassEffect:n=!1,style:i})=>{const u=`rounded-xl p-6 md:p-8 card-float-hover ${n?"glass-effect":"bg-slate-800 shadow-slate-950/50 border border-slate-700/70"} ${t?"cursor-pointer":""} ${e}`.trim().replace(/\s+/g," ");return k.jsx("div",{className:u,onClick:t,style:i,children:r})};pn.displayName="Card";const Ip=({label:r,name:e,error:t,className:n="",icon:i,containerClassName:s="",inputClassName:a="",...l})=>k.jsxs("div",{className:`w-full ${s}`,children:[r&&k.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-slate-200 mb-2",children:r}),k.jsxs("div",{className:"relative",children:[i&&k.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-500",children:i}),k.jsx("input",{id:e,name:e,className:`block w-full bg-slate-700/40 border ${t?"border-red-500/80 focus:ring-red-500/50 focus:border-red-500":"border-slate-600 focus:ring-sky-400/50 focus:border-sky-400"} text-slate-100 rounded-lg shadow-sm py-3 ${i?"pl-12":"px-4"} focus:outline-none sm:text-sm transition-colors transition-border-color transition-shadow duration-200 ease-out placeholder-slate-500 hover:border-slate-500 focus:bg-slate-700/70 disabled:opacity-60 disabled:bg-slate-700/20 disabled:cursor-not-allowed ${a} ${n}`,...l})]}),t&&k.jsx("p",{className:"mt-2 text-xs text-red-500",children:t})]});Ip.displayName="Input";const Qa=({label:r,name:e,error:t,className:n="",containerClassName:i="",...s})=>k.jsxs("div",{className:`w-full ${i}`,children:[r&&k.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-slate-200 mb-2",children:r}),k.jsx("textarea",{id:e,name:e,rows:4,className:`block w-full bg-slate-700/40 border ${t?"border-red-500/80 focus:ring-red-500/50 focus:border-red-500":"border-slate-600 focus:ring-sky-400/50 focus:border-sky-400"} text-slate-100 rounded-lg shadow-sm py-3 px-4 focus:outline-none sm:text-sm transition-colors transition-border-color transition-shadow duration-200 ease-out placeholder-slate-500 hover:border-slate-500 focus:bg-slate-700/70 disabled:opacity-60 disabled:bg-slate-700/20 disabled:cursor-not-allowed resize-none ${n}`,...s}),t&&k.jsx("p",{className:"mt-2 text-xs text-red-500",children:t})]});Qa.displayName="Textarea";const Fp=({label:r,name:e,error:t,options:n,className:i="",containerClassName:s="",disabled:a,...l})=>k.jsxs("div",{className:`w-full ${s}`,children:[r&&k.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-slate-200 mb-2",children:r}),k.jsxs("div",{className:"relative",children:[k.jsx("select",{id:e,name:e,disabled:a,className:`block w-full bg-slate-700/40 border ${t?"border-red-500/80 focus:ring-red-500/50 focus:border-red-500":"border-slate-600 focus:ring-sky-400/50 focus:border-sky-400"} text-slate-100 rounded-lg shadow-sm py-3 px-4 focus:outline-none sm:text-sm transition-colors transition-border-color transition-shadow duration-200 ease-out appearance-none pr-10 hover:border-slate-500 focus:bg-slate-700/70 ${a?"opacity-60 bg-slate-700/30 text-slate-400 cursor-not-allowed":""} ${i}`,...l,children:n.map(u=>k.jsx("option",{value:u.value,className:"bg-slate-800 text-slate-100",children:u.label},u.value))}),k.jsx(_5,{className:`absolute right-4 top-1/2 transform -translate-y-1/2 w-5 h-5 ${a?"text-slate-600":"text-slate-500"} pointer-events-none`})]}),t&&k.jsx("p",{className:"mt-2 text-xs text-red-500",children:t})]});Fp.displayName="Select";const ul=({isOpen:r,onClose:e,title:t,children:n,size:i="md",footerContent:s,titleClassName:a="",hideCloseButton:l=!1})=>{const[u,d]=de.useState(!1);if(de.useEffect(()=>{if(d(!0),!r)return;const g=y=>{y.key==="Escape"&&e()};return document.addEventListener("keydown",g),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",g),document.body.style.overflow="auto"}},[r,e]),!r||!u)return null;const h={sm:"max-w-md",md:"max-w-lg",lg:"max-w-xl",xl:"max-w-3xl","2xl":"max-w-5xl","3xl":"max-w-7xl",full:"max-w-full h-full !rounded-none sm:!rounded-2xl"},p=typeof t=="string"&&t?"modal-title":void 0;return rP.createPortal(k.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center modal-backdrop-enhanced opacity-100",onClick:g=>{g.target===g.currentTarget&&e()},role:"dialog","aria-modal":"true","aria-labelledby":p,children:k.jsxs("div",{className:`bg-slate-800/85 rounded-2xl shadow-2xl w-full ${h[i]} flex flex-col max-h-[90vh] !border-slate-700/30 overflow-hidden m-4 border opacity-100`,onClick:g=>g.stopPropagation(),children:[(t||!l)&&k.jsxs("div",{className:"flex items-center justify-between p-5 sm:p-6 border-b border-slate-700/70",children:[t&&k.jsx("h3",{id:p,className:`text-lg md:text-xl font-semibold text-slate-50 ${a}`,children:t}),!l&&k.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:text-slate-200 rounded-lg hover:bg-slate-400/10 transition-colors duration-200 focus-visible:ring-2 focus-visible:ring-sky-400 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-800","aria-label":"Close modal",children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),k.jsx("div",{className:"p-5 sm:p-6 flex-grow modal-content-scrollable",children:n}),s&&k.jsx("div",{className:"p-5 sm:p-6 border-t border-slate-700/70 bg-slate-700/20 rounded-b-2xl",children:s})]})}),document.body)};ul.displayName="Modal";const dl=({text:r,size:e="md",className:t,textClassName:n})=>{const i={sm:"w-7 h-7",md:"w-10 h-10",lg:"w-14 h-14",xl:"w-20 h-20"},s={sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"};return k.jsxs("div",{className:`flex flex-col items-center justify-center space-y-3.5 p-4 ${t||""}`,children:[k.jsxs("svg",{className:`animate-spin text-sky-400 ${i[e]}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[k.jsx("circle",{className:"opacity-20",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),k.jsx("path",{className:"opacity-80",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r&&k.jsx("p",{className:`text-slate-300 font-medium ${s[e]} ${n||""}`,children:r})]})};dl.displayName="LoadingSpinner";const nu=({progress:r,label:e,className:t,size:n="md",barClassName:i,showPercentage:s=!0})=>{const a=Math.max(0,Math.min(100,r)),l=n==="sm"?"h-2":n==="md"?"h-2.5":"h-3";return k.jsxs("div",{className:`w-full ${t||""}`,children:[(e||s)&&k.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mb-1.5",children:[e&&k.jsx("span",{className:"font-medium",children:e}),s&&k.jsxs("span",{className:"font-semibold text-slate-200",children:[a.toFixed(0),"%"]})]}),k.jsx("div",{className:`w-full bg-slate-700/80 rounded-full ${l} overflow-hidden shadow-inner`,children:k.jsx("div",{className:`${i||"bg-sky-400"} ${l} rounded-full transition-all duration-300 ease-out`,style:{width:`${a}%`},role:"progressbar","aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":100,"aria-label":e||"Progress"})})]})};nu.displayName="ProgressBar";const HT=({title:r,children:e,initiallyOpen:t=!1,titleClassName:n,icon:i,containerClassName:s,contentClassName:a,chevronIcon:l})=>{const[u,d]=de.useState(t);return k.jsxs("div",{className:`border border-slate-700/70 rounded-xl overflow-hidden bg-slate-800 shadow-lg ${s||""}`,children:[k.jsxs("button",{onClick:()=>d(!u),className:`w-full flex justify-between items-center p-4 sm:p-5 hover:bg-slate-700/50 transition-colors duration-200 text-left focus-visible:ring-2 focus-visible:ring-sky-400 focus-visible:ring-inset
         ${u?"bg-slate-700/30 border-b border-slate-700/60":"bg-transparent"} ${n||""}`,"aria-expanded":u,children:[k.jsxs("div",{className:"flex items-center flex-grow min-w-0 mr-2",children:[" ",i&&k.jsx("span",{className:"mr-3.5 text-sky-400 flex-shrink-0",children:i}),k.jsx("span",{className:"font-semibold text-slate-100 text-sm sm:text-base block min-w-0 w-full",children:r})," "]}),l?Pr.cloneElement(l,{className:`transform transition-transform duration-250 ease-out ${u?"rotate-180":""} ${l.props.className||""}`}):k.jsx(_5,{className:`w-5 h-5 text-slate-400 transform transition-transform duration-250 ease-out ${u?"rotate-180":""}`})]}),u&&k.jsxs("div",{className:`p-4 sm:p-5 bg-slate-700/20 opacity-100 ${a||""}`,children:[" ",e]})]})};HT.displayName="Accordion";const x0=({label:r,checked:e,onChange:t,name:n,description:i,labelClassName:s="",containerClassName:a="",disabled:l=!1})=>{const u=n||(typeof r=="string"?r.replace(/\s+/g,"-").toLowerCase():`toggle-${Math.random().toString(36).substring(2,9)}`);return k.jsxs("div",{className:`flex items-start ${l?"opacity-50 cursor-not-allowed":""} ${a}`,children:[k.jsxs("button",{role:"switch","aria-checked":e,onClick:()=>!l&&t(!e),id:u,className:`relative inline-flex flex-shrink-0 h-6 w-11 items-center rounded-full transition-colors duration-250 ease-in-out cursor-pointer focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-800 ${e?"bg-sky-400":"bg-slate-600"}`,disabled:l,children:[k.jsx("span",{className:"sr-only",children:"Use setting"}),k.jsx("span",{"aria-hidden":"true",className:`dot pointer-events-none inline-block h-5 w-5 transform rounded-full shadow-lg ring-0 transition-transform duration-250 ease-in-out ${e?"translate-x-[1.375rem]":"translate-x-[0.125rem]"}`})]}),(r||i)&&k.jsxs("div",{className:"ml-3.5",children:[typeof r=="string"?k.jsx("label",{htmlFor:u,className:`text-slate-100 text-sm font-medium ${l?"cursor-not-allowed":"cursor-pointer"} ${s}`,children:r}):k.jsx("div",{className:`${l?"cursor-not-allowed":"cursor-pointer"} ${s}`,onClick:()=>!l&&t(!e),children:r}),i&&k.jsx("p",{className:"text-xs text-slate-400 mt-1",children:i})]})]})};x0.displayName="Toggle";const T5=({onFileUpload:r,acceptedFileTypes:e=".pdf,.txt,.docx,.jpg,.png,.jpeg",maxFileSizeMB:t=10,label:n,icon:i=k.jsx(cP,{className:"w-10 h-10 sm:w-12 sm:h-12 mb-3 text-slate-500 group-hover:text-sky-400 transition-colors duration-200",strokeWidth:1}),isLoading:s=!1,currentFile:a=null})=>{const[l,u]=de.useState(!1),[d,h]=de.useState(null),p=de.useRef(null),{t:g}=Ui(),y=C=>{C.preventDefault(),C.stopPropagation(),u(!0),h(null)},v=C=>{C.preventDefault(),C.stopPropagation(),u(!1)},x=C=>{C.preventDefault(),C.stopPropagation()},T=C=>{C.preventDefault(),C.stopPropagation(),u(!1),h(null);const R=C.dataTransfer.files;R&&R.length>0&&E(R[0])},D=C=>{h(null);const R=C.target.files;R&&R.length>0&&E(R[0]),p.current&&(p.current.value="")},E=C=>{var W;if(C.size>t*1024*1024){h(g("step1ErrorProcessingFile")+` ${g("error")}: Max size ${t}MB.`);return}const R=e.split(",").map(L=>L.trim().toLowerCase()),U="."+((W=C.name.split(".").pop())==null?void 0:W.toLowerCase())||"",M=C.type.toLowerCase();let O=R.includes(U);if(O||(O=R.some(L=>L.startsWith(".")?!1:L.endsWith("/*")?M.startsWith(L.slice(0,-2)):M===L)),!O&&U===".docx"&&e.includes(".docx")&&(O=!0),!O&&U===".pdf"&&e.includes(".pdf")&&(O=!0),!O){h(`${g("step1ErrorUnsupportedFile")} ${g("error")}: Accepted types are ${e.replace(/\./g,"").toUpperCase()}`);return}r(C)};return k.jsxs("div",{className:"w-full",children:[n&&k.jsx("div",{className:"block text-sm font-medium text-slate-200 mb-2.5",children:n}),k.jsxs("label",{htmlFor:"file-upload-dropzone",onDragEnter:y,onDragLeave:v,onDragOver:x,onDrop:T,className:`group flex flex-col items-center justify-center w-full min-h-[220px] sm:min-h-[260px] border-2 ${l?"border-sky-400 bg-sky-400/15 ring-4 ring-sky-400/20 ring-offset-1 ring-offset-slate-900 shadow-2xl":"border-slate-600 border-dashed"} rounded-xl cursor-pointer bg-slate-700/50 hover:bg-slate-700/70 hover:border-slate-500 transition-colors transition-border-color duration-200 ease-out relative p-5`,tabIndex:0,onKeyDown:C=>{var R;(C.key==="Enter"||C.key===" ")&&((R=p.current)==null||R.click())},children:[s||a?k.jsxs("div",{className:"text-center",children:[k.jsx(dl,{size:"md",className:"mb-3.5"}),k.jsx("p",{className:"text-sm text-slate-300 font-semibold",children:g(s?"step1ProcessingFile":"loading")}),a&&k.jsx("p",{className:"text-xs text-slate-400 mt-1.5 truncate max-w-[200px] sm:max-w-xs",children:a.name})]}):k.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[i,k.jsxs("p",{className:"mb-2 text-xs sm:text-sm text-slate-300 group-hover:text-slate-200 transition-colors",children:[k.jsx("span",{className:"font-semibold text-sky-400 group-hover:text-sky-300",children:g("step1UploadOrDrag").split(" ")[0]})," ",g("step1UploadOrDrag").substring(g("step1UploadOrDrag").indexOf(" ")+1)]}),k.jsx("p",{className:"text-[0.7rem] sm:text-xs text-slate-400 group-hover:text-slate-300 transition-colors",children:g("step1AcceptedFiles",{maxFileSizeMB:t})})]}),k.jsx("input",{id:"file-upload-dropzone",ref:p,type:"file",className:"hidden",onChange:D,accept:e,disabled:s||!!a}),d&&!s&&!a&&k.jsx("div",{role:"alert",className:"absolute bottom-3 left-3 right-3 p-2 bg-red-500/30 border border-red-500/60 rounded-lg text-xs text-red-200 text-center shadow-md",children:d})]})]})};T5.displayName="Dropzone";const on=({text:r,className:e})=>r===null||typeof r>"u"||r.trim()===""?null:k.jsx("span",{className:e,children:r}),p2={shuffleQuestions:!1,shuffleAnswers:!1,timeLimit:0},D5=({quiz:r,onDelete:e,onEditQuiz:t})=>{var ne,F;const{t:n,language:i}=Ui(),[s,a]=de.useState(!1),[l,u]=de.useState(!1),[d,h]=de.useState(p2),{setActiveQuiz:p,setQuizResult:g}=Xi(),y=Hi(),v=(ne=r.config)==null?void 0:ne.difficulty;let x;v==="Easy"||v==="Medium"||v==="Hard"?x=`step2Difficulty${v}`:x="dashboardQuizCardDifficulty";const T=n(x),D=new Date(r.createdAt).toLocaleDateString(i,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),E=B=>{const N=localStorage.getItem(`attemptSettings_${B}`);if(N)try{return JSON.parse(N)}catch(K){return console.error("Failed to parse stored attempt settings:",K),p2}return p2},C=()=>{a(!0)},R=()=>{e(r.id),a(!1)},U=()=>{a(!1)},M=()=>{h(E(r.id)),u(!0)},O=(B,N)=>{h(K=>({...K,[B]:N}))},W=()=>{try{localStorage.setItem(`attemptSettings_${r.id}`,JSON.stringify(d))}catch(B){console.error("Failed to save attempt settings to localStorage:",B)}u(!1)},L=B=>{const N=E(r.id);p(r),B==="take"?(g(null),y(`/quiz/${r.id}`,{state:{attemptSettings:N}})):y(`/practice/${r.id}`,{state:{attemptSettings:N}})},H="https://img.icons8.com/?size=256&id=s5NUIabJrb4C&format=png";return k.jsxs(k.Fragment,{children:[k.jsxs(pn,{className:"flex flex-col justify-between transition-all duration-200 ease-out group relative overflow-hidden !p-0 !rounded-2xl h-full",useGlassEffect:!0,children:[k.jsxs("div",{className:"p-5 sm:p-6 flex-grow pb-4",children:[k.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-slate-50 mb-3 group-hover:text-sky-300 transition-colors duration-150 line-clamp-2",title:r.title,children:k.jsx(on,{text:r.title})}),k.jsxs("div",{className:"mb-4 space-y-2.5",children:[k.jsxs("div",{className:"text-xs text-slate-400 flex items-center flex-wrap gap-x-3.5 gap-y-1.5",children:[k.jsx("span",{className:"font-medium text-slate-300",children:n("dashboardQuizCardQuestions",{count:r.questions.length})}),k.jsx("span",{className:"text-slate-600 text-lg",children:"•"}),k.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-semibold shadow-sm bg-sky-400/20 text-sky-300",children:T}),((F=r.config)==null?void 0:F.language)&&k.jsxs(k.Fragment,{children:[k.jsx("span",{className:"text-slate-600 text-lg",children:"•"}),k.jsx("span",{className:"uppercase text-[0.7rem] font-bold tracking-wider px-2.5 py-1 rounded-full shadow-sm bg-indigo-400/20 text-indigo-300",children:r.config.language.substring(0,2)})]})]}),r.sourceContentSnippet&&k.jsxs("p",{className:"text-xs text-slate-500 italic line-clamp-1",title:r.sourceContentSnippet,children:[n("dashboardQuizCardSource",{snippet:""}),k.jsx(on,{text:r.sourceContentSnippet})]}),k.jsx("p",{className:"text-xs text-slate-500 pt-1.5",children:n("dashboardQuizCardCreated",{date:D})})]})]}),k.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-center justify-between mt-auto border-t border-slate-700/50 p-4 sm:p-5 bg-slate-800/30 rounded-b-2xl",children:[k.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-2 w-full sm:w-auto justify-center sm:justify-start",children:[k.jsx(Je,{size:"sm",variant:"primary",onClick:()=>L("take"),className:"flex-grow xs:flex-grow-0 shadow-lg hover:shadow-sky-400/40 py-2 px-4 rounded-lg",children:n("dashboardQuizCardTakeQuiz")}),k.jsx(Je,{size:"sm",variant:"secondary",onClick:()=>L("practice"),className:"flex-grow xs:flex-grow-0 py-2 px-4 rounded-lg bg-purple-500/80 hover:bg-purple-500/100 text-white hover:shadow-purple-400/40",children:n("practiceModeCardButton")}),k.jsx(li,{content:n("edit"),wrapperClassName:"inline-flex flex-grow xs:flex-grow-0",children:k.jsx(Je,{size:"sm",variant:"outline",onClick:()=>t(r),className:"w-full py-2 px-4 rounded-lg border-slate-500/70 hover:border-sky-400","aria-label":n("edit"),children:k.jsx(dP,{className:"w-4 h-4"})})}),k.jsx(li,{content:n("settings"),wrapperClassName:"inline-flex flex-grow xs:flex-grow-0",children:k.jsx(Je,{size:"sm",variant:"outline",onClick:M,className:"w-full py-2 px-4 rounded-lg border-slate-500/70 hover:border-sky-400","aria-label":n("settings"),children:k.jsx("img",{src:H,alt:n("settings"),className:"w-4 h-4"})})})]}),k.jsxs("div",{className:"flex items-center gap-1.5 w-full sm:w-auto justify-center sm:justify-end",children:[k.jsx(li,{content:n("share"),wrapperClassName:"inline-flex",children:k.jsx(Je,{size:"sm",variant:"ghost",onClick:()=>alert(n("dashboardShareAlert",{quizId:r.id})),className:"text-slate-400 hover:text-green-400 !p-2.5 rounded-lg",children:k.jsx(uP,{className:"w-4 h-4"})})}),k.jsx(li,{content:n("delete"),wrapperClassName:"inline-flex",children:k.jsx(Je,{size:"sm",variant:"ghost",onClick:C,className:"text-slate-400 hover:text-red-500 !p-2.5 rounded-lg",children:k.jsx(j_,{className:"w-4 h-4"})})})]})]})]}),s&&k.jsx(ul,{isOpen:s,onClose:U,title:n("confirmDeletionTitle"),size:"md",footerContent:k.jsxs("div",{className:"flex justify-end gap-3.5",children:[k.jsx(Je,{variant:"secondary",onClick:U,size:"md",children:n("cancel")}),k.jsx(Je,{variant:"danger",onClick:R,size:"md",children:n("confirmDeleteButton")})]}),children:k.jsxs("div",{className:"flex items-start",children:[k.jsx(b5,{className:"w-10 h-10 text-red-400/80 mr-4 flex-shrink-0 mt-1"}),k.jsx("p",{className:"text-slate-200 text-base leading-relaxed",children:k.jsx(on,{text:n("confirmDeletionMessage",{quizName:r.title})})})]})}),l&&k.jsx(ul,{isOpen:l,onClose:()=>u(!1),title:k.jsxs("div",{className:"flex items-center",children:[k.jsx("img",{src:H,alt:n("settings"),className:"w-6 h-6 mr-3"}),n("attemptSettingsModalTitle")]}),size:"lg",footerContent:k.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3.5",children:[k.jsx(Je,{variant:"secondary",onClick:()=>u(!1),size:"md",className:"w-full sm:w-auto",children:n("cancel")}),k.jsx(Je,{variant:"primary",onClick:W,size:"md",className:"w-full sm:w-auto",children:n("saveSettingsButtonText")})]}),children:k.jsxs("div",{className:"space-y-6 p-2",children:[k.jsx(x0,{label:n("attemptShuffleQuestionsLabel"),checked:d.shuffleQuestions,onChange:B=>O("shuffleQuestions",B),labelClassName:"font-medium text-slate-100"}),k.jsx(x0,{label:n("attemptShuffleAnswersLabel"),checked:d.shuffleAnswers,onChange:B=>O("shuffleAnswers",B),labelClassName:"font-medium text-slate-100"}),k.jsx(Ip,{label:k.jsx("span",{className:"font-medium text-slate-100",children:n("attemptTimeLimitLabel")}),type:"number",value:d.timeLimit,onChange:B=>O("timeLimit",parseInt(B.target.value,10)>=0?parseInt(B.target.value,10):0),min:"0",inputClassName:"text-sm",containerClassName:"mt-1"}),k.jsx("p",{className:"text-xs text-slate-400 -mt-4 pl-1",children:n("attemptTimeLimitInfo")})]})})]})},g2=3,lU=()=>{const{currentUser:r,setCurrentView:e}=Xi(),{t}=Ui(),[n,i]=de.useState(""),s=()=>{if(!r||!n.trim())return;const a="teosushi1014@gmail.com",l=encodeURIComponent(t("feedbackMailSubject",{appName:t("appName")})),u=encodeURIComponent(`${t("feedbackMailBodyUser",{userName:r.name||"N/A",userEmail:r.email||"N/A"})}

${t("feedbackMailBodyContentLabel")}
${n}`);window.location.href=`mailto:${a}?subject=${l}&body=${u}`,i("")};return k.jsx("section",{className:"py-12 md:py-16",children:k.jsxs(pn,{className:"max-w-2xl mx-auto shadow-2xl !rounded-2xl glass-effect !border-slate-700/40",useGlassEffect:!0,children:[k.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[k.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-50 mb-2.5 sm:mb-3",children:t("feedbackSectionTitle")}),k.jsx("p",{className:"text-slate-300/80 text-sm sm:text-base max-w-xl mx-auto",children:t("feedbackSectionSubtitle")})]}),r?k.jsxs("div",{className:"space-y-5",children:[k.jsx(Qa,{label:k.jsx("span",{className:"text-sm font-medium text-slate-200",children:t("feedbackTextareaLabel")}),value:n,onChange:a=>i(a.target.value),placeholder:t("feedbackTextareaPlaceholder"),rows:4,className:"min-h-[100px] sm:min-h-[120px]"}),k.jsx(Je,{onClick:s,disabled:!n.trim(),fullWidth:!0,size:"md",variant:"secondary",className:"py-2.5 sm:py-3 shadow-lg",children:t("feedbackSendButton")})]}):k.jsxs("div",{className:"text-center bg-slate-700/50 p-5 sm:p-6 rounded-xl border border-slate-600/70 shadow-inner",children:[k.jsx(VT,{className:"w-12 h-12 sm:w-16 sm:h-16 text-slate-500 mx-auto mb-4 sm:mb-6"}),k.jsx("p",{className:"text-base sm:text-lg font-semibold text-slate-200 mb-2 sm:mb-3",children:t("feedbackLoginPromptTitle")}),k.jsx("p",{className:"text-slate-400 text-xs sm:text-sm mb-6 sm:mb-8 max-w-md mx-auto",children:t("feedbackLoginPromptSubtitle")}),k.jsx(Je,{onClick:()=>e("/signin"),variant:"primary",size:"sm",className:"py-2.5 px-5 sm:px-6 rounded-lg",children:t("signIn")})]})]})})},cU=()=>{const{quizzes:r,currentUser:e,setCurrentView:t,deleteQuiz:n}=Xi(),{t:i}=Ui(),s=Hi(),a=r.length>0?"heroCTACreateAnother":"heroCTA",l=i(a),u=p=>{n(p)},d=p=>{s(`/review/${p.id}`,{state:{existingQuiz:p}})};if(r.length===0)return k.jsxs("div",{className:"space-y-12 md:space-y-16",children:[k.jsx("section",{className:`relative text-center py-20 md:py-28 rounded-2xl sm:rounded-3xl overflow-hidden shadow-2xl
          bg-gradient-to-br from-sky-600/20 via-slate-800/50 to-purple-600/20
          border border-slate-700/40`,children:k.jsxs("div",{className:"relative z-10 container mx-auto px-4",children:[k.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl xl:text-6xl font-extrabold text-slate-50 leading-tight mb-6 sm:mb-8",children:[i("heroTitle").split(": ")[0],": ",k.jsx("br",{className:"sm:hidden"})," ",k.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-sky-400 via-indigo-400 to-purple-400",children:i("heroTitle").split(": ")[1]})]}),k.jsx("p",{className:"text-sm sm:text-base md:text-lg text-slate-300/80 max-w-xl md:max-w-2xl xl:max-w-3xl mx-auto mb-10 sm:mb-12",children:i("heroSubtitle")}),k.jsx(Je,{size:"md",variant:"primary",onClick:()=>t("/create"),leftIcon:k.jsx(W_,{className:"w-5 h-5",strokeWidth:2.5}),className:"shadow-2xl hover:shadow-sky-400/50 transform hover:scale-105 focus:ring-offset-transparent py-3 px-8 sm:py-3.5 sm:px-10 text-sm sm:text-base rounded-xl",children:l})]})}),k.jsx(lU,{})]});const h=r.slice(0,g2);return k.jsxs("div",{className:"space-y-12 md:space-y-16",children:[k.jsx("section",{children:k.jsx(pn,{useGlassEffect:!0,className:"!p-6 sm:!p-8 text-center sm:text-left !rounded-2xl shadow-2xl !border-slate-700/40",children:k.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-6",children:[k.jsxs("div",{children:[k.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-50 mb-2",children:e?i("homeDashboardUserTitle",{name:e.name||i("user")}):i("homeDashboardTitle")}),k.jsxs("p",{className:"text-slate-300 text-sm sm:text-base",children:[i("homeStatsQuizzes",{count:r.length})," "]})]}),k.jsx(Je,{variant:"primary",size:"lg",onClick:()=>s("/create"),leftIcon:k.jsx(W_,{className:"w-5 h-5",strokeWidth:2.5}),className:"shadow-xl hover:shadow-sky-400/50 transform hover:scale-105 py-3 px-7 rounded-xl w-full sm:w-auto flex-shrink-0",children:i("dashboardCreateNew")})]})})}),h.length>0&&k.jsxs("section",{children:[k.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6 sm:mb-8 gap-4",children:[k.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold text-slate-100",children:i("homeRecentQuizzesTitle")}),r.length>g2&&k.jsx(Je,{variant:"link",onClick:()=>s("/dashboard"),className:"text-sm text-sky-300 hover:text-sky-200",rightIcon:k.jsx(eu,{className:"w-4 h-4"}),children:i("homeViewAllQuizzes")})]}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 xl:gap-8",children:h.map(p=>k.jsx("div",{children:k.jsx(D5,{quiz:p,onDelete:u,onEditQuiz:d})},p.id))}),r.length>0&&r.length<=g2&&k.jsx("div",{className:"mt-8 sm:mt-10 text-center",children:k.jsx(Je,{variant:"secondary",onClick:()=>s("/dashboard"),size:"md",className:"py-2.5 px-6 rounded-lg shadow-lg hover:shadow-slate-900/50",rightIcon:k.jsx(eu,{className:"w-4 h-4"}),children:i("homeViewAllQuizzes")})})]}),k.jsx(lU,{})]})},vP="modulepreload",bP=function(r){return"/quizai/"+r},uU={},hs=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){let a=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=a(t.map(d=>{if(d=bP(d),d in uU)return;uU[d]=!0;const h=d.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":vP,h||(g.as="script"),g.crossOrigin="",g.href=d,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((y,v)=>{g.addEventListener("load",y),g.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},xP=()=>{const{quizzes:r,deleteQuiz:e,setActiveQuiz:t,setCurrentView:n,currentUser:i,isLoading:s}=Xi(),{t:a}=Ui(),l=Hi(),[u,d]=de.useState(!1),[h,p]=de.useState(null),g=x=>{l(`/review/${x.id}`,{state:{existingQuiz:x}})},y=async()=>{if(i!=null&&i.id){d(!0);try{const{fetchUserQuizzes:x,fetchUserResults:T}=await hs(async()=>{const{fetchUserQuizzes:D,fetchUserResults:E}=await Promise.resolve().then(()=>ZY);return{fetchUserQuizzes:D,fetchUserResults:E}},[]);await Promise.all([x(i.id),T(i.id)]),console.log("Đã làm mới dữ liệu từ server")}catch(x){console.error("Lỗi khi làm mới dữ liệu:",x)}finally{d(!1)}}};de.useEffect(()=>{y()},[i]);const v=Pr.useMemo(()=>[...r].sort((x,T)=>new Date(T.createdAt).getTime()-new Date(x.createdAt).getTime()),[r]);return k.jsxs("div",{className:"space-y-10 md:space-y-12",children:[k.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-5 border-b border-slate-700/50 pb-8 sm:pb-10",children:[k.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-slate-50 tracking-tight",children:a("dashboardTitle")}),k.jsxs("div",{className:"flex flex-wrap gap-3 sm:gap-4",children:[k.jsx(Je,{variant:"secondary",onClick:y,disabled:u||!i,icon:k.jsx(yP,{className:`w-4 h-4 mr-1.5 ${u?"animate-spin":""}`}),children:a(u?"refreshing":"refresh")}),k.jsx(Je,{variant:"primary",size:"md",leftIcon:k.jsx(Mp,{className:"w-5 h-5",strokeWidth:2.5}),onClick:()=>l("/create"),className:"shadow-xl hover:shadow-sky-400/50 transform hover:scale-105 py-3 px-6 rounded-xl",children:a("dashboardCreateNew")})]})]}),v.length===0?k.jsxs("div",{className:"text-center py-24 sm:py-28 bg-slate-800 rounded-3xl shadow-2xl border border-slate-700/70 glass-effect",children:[k.jsx("h3",{className:"mt-2 text-2xl sm:text-3xl font-semibold text-slate-100 mb-4 pt-10",children:a("dashboardNoQuizzes")}),k.jsx("p",{className:"mt-1 text-base text-slate-400 max-w-lg mx-auto mb-12",children:a("dashboardNoQuizzesDesc")}),k.jsx(Je,{variant:"secondary",size:"lg",leftIcon:k.jsx(Mp,{className:"w-5 h-5",strokeWidth:2}),onClick:()=>l("/create"),className:"shadow-lg hover:shadow-black/30 py-3.5 px-8 text-base rounded-xl",children:a("createQuiz")})]}):k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 xl:gap-8",children:v.map(x=>k.jsx("div",{children:k.jsx(D5,{quiz:x,onDelete:e,onEditQuiz:g})},x.id))})]})};var Mt;(function(r){r.assertEqual=i=>{};function e(i){}r.assertIs=e;function t(i){throw new Error}r.assertNever=t,r.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},r.getValidEnumValues=i=>{const s=r.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),a={};for(const l of s)a[l]=i[l];return r.objectValues(a)},r.objectValues=i=>r.objectKeys(i).map(function(s){return i[s]}),r.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},r.find=(i,s)=>{for(const a of i)if(s(a))return a},r.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}r.joinValues=n,r.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Mt||(Mt={}));var dU;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(dU||(dU={}));const Qe=Mt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Oo=r=>{switch(typeof r){case"undefined":return Qe.undefined;case"string":return Qe.string;case"number":return Number.isNaN(r)?Qe.nan:Qe.number;case"boolean":return Qe.boolean;case"function":return Qe.function;case"bigint":return Qe.bigint;case"symbol":return Qe.symbol;case"object":return Array.isArray(r)?Qe.array:r===null?Qe.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?Qe.promise:typeof Map<"u"&&r instanceof Map?Qe.map:typeof Set<"u"&&r instanceof Set?Qe.set:typeof Date<"u"&&r instanceof Date?Qe.date:Qe.object;default:return Qe.unknown}},Pe=Mt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class to extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(t(a));else{let l=n,u=0;for(;u<a.path.length;){const d=a.path[u];u===a.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(t(a))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return i(this),n}static assert(e){if(!(e instanceof to))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Mt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},n=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}to.create=r=>new to(r);const V_=(r,e)=>{let t;switch(r.code){case Pe.invalid_type:r.received===Qe.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case Pe.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,Mt.jsonStringifyReplacer)}`;break;case Pe.unrecognized_keys:t=`Unrecognized key(s) in object: ${Mt.joinValues(r.keys,", ")}`;break;case Pe.invalid_union:t="Invalid input";break;case Pe.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Mt.joinValues(r.options)}`;break;case Pe.invalid_enum_value:t=`Invalid enum value. Expected ${Mt.joinValues(r.options)}, received '${r.received}'`;break;case Pe.invalid_arguments:t="Invalid function arguments";break;case Pe.invalid_return_type:t="Invalid function return type";break;case Pe.invalid_date:t="Invalid date";break;case Pe.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:Mt.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case Pe.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case Pe.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case Pe.custom:t="Invalid input";break;case Pe.invalid_intersection_types:t="Intersection results could not be merged";break;case Pe.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case Pe.not_finite:t="Number must be finite";break;default:t=e.defaultError,Mt.assertNever(r)}return{message:t}};let _P=V_;function wP(){return _P}const TP=r=>{const{data:e,path:t,errorMaps:n,issueData:i}=r,s=[...t,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const u=n.filter(d=>!!d).slice().reverse();for(const d of u)l=d(a,{data:e,defaultError:l}).message;return{...i,path:s,message:l}};function He(r,e){const t=wP(),n=TP({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===V_?void 0:V_].filter(i=>!!i)});r.common.issues.push(n)}class Ci{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const i of t){if(i.status==="aborted")return gt;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const i of t){const s=await i.key,a=await i.value;n.push({key:s,value:a})}return Ci.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const i of t){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return gt;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(n[s.value]=a.value)}return{status:e.value,value:n}}}const gt=Object.freeze({status:"aborted"}),ip=r=>({status:"dirty",value:r}),qr=r=>({status:"valid",value:r}),hU=r=>r.status==="aborted",fU=r=>r.status==="dirty",Eh=r=>r.status==="valid",_0=r=>typeof Promise<"u"&&r instanceof Promise;var Ze;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ze||(Ze={}));var w0=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},A5=function(r,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(r,t):i?i.value=t:e.set(r,t),t},rp,sp;class Gs{constructor(e,t,n,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const pU=(r,e)=>{if(Eh(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new to(r.common.issues);return this._error=t,this._error}}};function vt(r){if(!r)return{};const{errorMap:e,invalid_type_error:t,required_error:n,description:i}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,l)=>{const{message:u}=r;return a.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:u??n??l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:u??t??l.defaultError}},description:i}}class St{get description(){return this._def.description}_getType(e){return Oo(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Oo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ci,ctx:{common:e.parent.common,data:e.data,parsedType:Oo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(_0(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){const n={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Oo(e)},i=this._parseSync({data:e,path:n.path,parent:n});return pU(n,i)}"~validate"(e){var n,i;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Oo(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:t});return Eh(s)?{value:s.value}:{issues:t.common.issues}}catch(s){(i=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(s=>Eh(s)?{value:s.value}:{issues:t.common.issues})}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Oo(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(_0(i)?i:Promise.resolve(i));return pU(n,s)}refine(e,t){const n=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,s)=>{const a=e(i),l=()=>s.addIssue({code:Pe.custom,...n(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,t){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof t=="function"?t(n,i):t),!1))}_refinement(e){return new Uh({schema:this,typeName:ut.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return cl.create(this,this._def)}nullable(){return kh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return js.create(this)}promise(){return C0.create(this,this._def)}or(e){return D0.create([this,e],this._def)}and(e){return A0.create(this,e,this._def)}transform(e){return new Uh({...vt(this._def),schema:this,typeName:ut.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new X_({...vt(this._def),innerType:this,defaultValue:t,typeName:ut.ZodDefault})}brand(){return new GP({typeName:ut.ZodBranded,type:this,...vt(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Q_({...vt(this._def),innerType:this,catchValue:t,typeName:ut.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return GT.create(this,e)}readonly(){return Y_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const DP=/^c[^\s-]{8,}$/i,AP=/^[0-9a-z]+$/,EP=/^[0-9A-HJKMNP-TV-Z]{26}$/i,CP=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,SP=/^[a-z0-9_-]{21}$/i,UP=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,kP=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,RP=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,NP="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let m2;const MP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,IP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,FP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,LP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,OP=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,PP=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,E5="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",BP=new RegExp(`^${E5}$`);function C5(r){let e="[0-5]\\d";r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`);const t=r.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function zP(r){return new RegExp(`^${C5(r)}$`)}function qP(r){let e=`${E5}T${C5(r)}`;const t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function WP(r,e){return!!((e==="v4"||!e)&&MP.test(r)||(e==="v6"||!e)&&FP.test(r))}function jP(r,e){if(!UP.test(r))return!1;try{const[t]=r.split("."),n=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function VP(r,e){return!!((e==="v4"||!e)&&IP.test(r)||(e==="v6"||!e)&&LP.test(r))}class Ws extends St{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Qe.string){const s=this._getOrReturnCtx(e);return He(s,{code:Pe.invalid_type,expected:Qe.string,received:s.parsedType}),gt}const n=new Ci;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),He(i,{code:Pe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),He(i,{code:Pe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,l=e.data.length<s.value;(a||l)&&(i=this._getOrReturnCtx(e,i),a?He(i,{code:Pe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&He(i,{code:Pe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")RP.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"email",code:Pe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")m2||(m2=new RegExp(NP,"u")),m2.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"emoji",code:Pe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")CP.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"uuid",code:Pe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")SP.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"nanoid",code:Pe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")DP.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"cuid",code:Pe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")AP.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"cuid2",code:Pe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")EP.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"ulid",code:Pe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),He(i,{validation:"url",code:Pe.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"regex",code:Pe.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),He(i,{code:Pe.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),He(i,{code:Pe.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),He(i,{code:Pe.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?qP(s).test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{code:Pe.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?BP.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{code:Pe.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?zP(s).test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{code:Pe.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?kP.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"duration",code:Pe.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?WP(e.data,s.version)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"ip",code:Pe.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?jP(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"jwt",code:Pe.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?VP(e.data,s.version)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"cidr",code:Pe.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?OP.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"base64",code:Pe.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?PP.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"base64url",code:Pe.invalid_string,message:s.message}),n.dirty()):Mt.assertNever(s);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(i=>e.test(i),{validation:t,code:Pe.invalid_string,...Ze.errToObj(n)})}_addCheck(e){return new Ws({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ze.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ze.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ze.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ze.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ze.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ze.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ze.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ze.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ze.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ze.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ze.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ze.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ze.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Ze.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ze.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ze.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Ze.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Ze.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Ze.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Ze.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Ze.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Ze.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Ze.errToObj(t)})}nonempty(e){return this.min(1,Ze.errToObj(e))}trim(){return new Ws({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ws({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ws({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ws.create=r=>new Ws({checks:[],typeName:ut.ZodString,coerce:(r==null?void 0:r.coerce)??!1,...vt(r)});function HP(r,e){const t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=t>n?t:n,s=Number.parseInt(r.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return s%a/10**i}class iu extends St{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Qe.number){const s=this._getOrReturnCtx(e);return He(s,{code:Pe.invalid_type,expected:Qe.number,received:s.parsedType}),gt}let n;const i=new Ci;for(const s of this._def.checks)s.kind==="int"?Mt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),He(n,{code:Pe.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),He(n,{code:Pe.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),He(n,{code:Pe.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?HP(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),He(n,{code:Pe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),He(n,{code:Pe.not_finite,message:s.message}),i.dirty()):Mt.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Ze.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ze.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ze.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ze.toString(t))}setLimit(e,t,n,i){return new iu({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Ze.toString(i)}]})}_addCheck(e){return new iu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ze.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ze.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ze.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ze.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ze.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ze.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Ze.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ze.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ze.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Mt.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}iu.create=r=>new iu({checks:[],typeName:ut.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...vt(r)});class ru extends St{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Qe.bigint)return this._getInvalidInput(e);let n;const i=new Ci;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),He(n,{code:Pe.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),He(n,{code:Pe.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),He(n,{code:Pe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Mt.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return He(t,{code:Pe.invalid_type,expected:Qe.bigint,received:t.parsedType}),gt}gte(e,t){return this.setLimit("min",e,!0,Ze.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ze.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ze.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ze.toString(t))}setLimit(e,t,n,i){return new ru({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Ze.toString(i)}]})}_addCheck(e){return new ru({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ze.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ze.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ze.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ze.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ze.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}ru.create=r=>new ru({checks:[],typeName:ut.ZodBigInt,coerce:(r==null?void 0:r.coerce)??!1,...vt(r)});class T0 extends St{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Qe.boolean){const n=this._getOrReturnCtx(e);return He(n,{code:Pe.invalid_type,expected:Qe.boolean,received:n.parsedType}),gt}return qr(e.data)}}T0.create=r=>new T0({typeName:ut.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...vt(r)});class Ch extends St{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Qe.date){const s=this._getOrReturnCtx(e);return He(s,{code:Pe.invalid_type,expected:Qe.date,received:s.parsedType}),gt}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return He(s,{code:Pe.invalid_date}),gt}const n=new Ci;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),He(i,{code:Pe.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),He(i,{code:Pe.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):Mt.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ch({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Ze.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Ze.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Ch.create=r=>new Ch({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:ut.ZodDate,...vt(r)});class gU extends St{_parse(e){if(this._getType(e)!==Qe.symbol){const n=this._getOrReturnCtx(e);return He(n,{code:Pe.invalid_type,expected:Qe.symbol,received:n.parsedType}),gt}return qr(e.data)}}gU.create=r=>new gU({typeName:ut.ZodSymbol,...vt(r)});class mU extends St{_parse(e){if(this._getType(e)!==Qe.undefined){const n=this._getOrReturnCtx(e);return He(n,{code:Pe.invalid_type,expected:Qe.undefined,received:n.parsedType}),gt}return qr(e.data)}}mU.create=r=>new mU({typeName:ut.ZodUndefined,...vt(r)});class yU extends St{_parse(e){if(this._getType(e)!==Qe.null){const n=this._getOrReturnCtx(e);return He(n,{code:Pe.invalid_type,expected:Qe.null,received:n.parsedType}),gt}return qr(e.data)}}yU.create=r=>new yU({typeName:ut.ZodNull,...vt(r)});class vU extends St{constructor(){super(...arguments),this._any=!0}_parse(e){return qr(e.data)}}vU.create=r=>new vU({typeName:ut.ZodAny,...vt(r)});class H_ extends St{constructor(){super(...arguments),this._unknown=!0}_parse(e){return qr(e.data)}}H_.create=r=>new H_({typeName:ut.ZodUnknown,...vt(r)});class hl extends St{_parse(e){const t=this._getOrReturnCtx(e);return He(t,{code:Pe.invalid_type,expected:Qe.never,received:t.parsedType}),gt}}hl.create=r=>new hl({typeName:ut.ZodNever,...vt(r)});class bU extends St{_parse(e){if(this._getType(e)!==Qe.undefined){const n=this._getOrReturnCtx(e);return He(n,{code:Pe.invalid_type,expected:Qe.void,received:n.parsedType}),gt}return qr(e.data)}}bU.create=r=>new bU({typeName:ut.ZodVoid,...vt(r)});class js extends St{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),i=this._def;if(t.parsedType!==Qe.array)return He(t,{code:Pe.invalid_type,expected:Qe.array,received:t.parsedType}),gt;if(i.exactLength!==null){const a=t.data.length>i.exactLength.value,l=t.data.length<i.exactLength.value;(a||l)&&(He(t,{code:a?Pe.too_big:Pe.too_small,minimum:l?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(He(t,{code:Pe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(He(t,{code:Pe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((a,l)=>i.type._parseAsync(new Gs(t,a,t.path,l)))).then(a=>Ci.mergeArray(n,a));const s=[...t.data].map((a,l)=>i.type._parseSync(new Gs(t,a,t.path,l)));return Ci.mergeArray(n,s)}get element(){return this._def.type}min(e,t){return new js({...this._def,minLength:{value:e,message:Ze.toString(t)}})}max(e,t){return new js({...this._def,maxLength:{value:e,message:Ze.toString(t)}})}length(e,t){return new js({...this._def,exactLength:{value:e,message:Ze.toString(t)}})}nonempty(e){return this.min(1,e)}}js.create=(r,e)=>new js({type:r,minLength:null,maxLength:null,exactLength:null,typeName:ut.ZodArray,...vt(e)});function md(r){if(r instanceof Un){const e={};for(const t in r.shape){const n=r.shape[t];e[t]=cl.create(md(n))}return new Un({...r._def,shape:()=>e})}else return r instanceof js?new js({...r._def,type:md(r.element)}):r instanceof cl?cl.create(md(r.unwrap())):r instanceof kh?kh.create(md(r.unwrap())):r instanceof su?su.create(r.items.map(e=>md(e))):r}class Un extends St{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Mt.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==Qe.object){const d=this._getOrReturnCtx(e);return He(d,{code:Pe.invalid_type,expected:Qe.object,received:d.parsedType}),gt}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof hl&&this._def.unknownKeys==="strip"))for(const d in i.data)a.includes(d)||l.push(d);const u=[];for(const d of a){const h=s[d],p=i.data[d];u.push({key:{status:"valid",value:d},value:h._parse(new Gs(i,p,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof hl){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of l)u.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(d==="strict")l.length>0&&(He(i,{code:Pe.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of l){const p=i.data[h];u.push({key:{status:"valid",value:h},value:d._parse(new Gs(i,p,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of u){const p=await h.key,g=await h.value;d.push({key:p,value:g,alwaysSet:h.alwaysSet})}return d}).then(d=>Ci.mergeObjectSync(n,d)):Ci.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return Ze.errToObj,new Un({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{var s,a;const i=((a=(s=this._def).errorMap)==null?void 0:a.call(s,t,n).message)??n.defaultError;return t.code==="unrecognized_keys"?{message:Ze.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Un({...this._def,unknownKeys:"strip"})}passthrough(){return new Un({...this._def,unknownKeys:"passthrough"})}extend(e){return new Un({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Un({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ut.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Un({...this._def,catchall:e})}pick(e){const t={};for(const n of Mt.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new Un({...this._def,shape:()=>t})}omit(e){const t={};for(const n of Mt.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new Un({...this._def,shape:()=>t})}deepPartial(){return md(this)}partial(e){const t={};for(const n of Mt.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?t[n]=i:t[n]=i.optional()}return new Un({...this._def,shape:()=>t})}required(e){const t={};for(const n of Mt.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof cl;)s=s._def.innerType;t[n]=s}return new Un({...this._def,shape:()=>t})}keyof(){return S5(Mt.objectKeys(this.shape))}}Un.create=(r,e)=>new Un({shape:()=>r,unknownKeys:"strip",catchall:hl.create(),typeName:ut.ZodObject,...vt(e)});Un.strictCreate=(r,e)=>new Un({shape:()=>r,unknownKeys:"strict",catchall:hl.create(),typeName:ut.ZodObject,...vt(e)});Un.lazycreate=(r,e)=>new Un({shape:r,unknownKeys:"strip",catchall:hl.create(),typeName:ut.ZodObject,...vt(e)});class D0 extends St{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return t.common.issues.push(...l.ctx.common.issues),l.result;const a=s.map(l=>new to(l.ctx.common.issues));return He(t,{code:Pe.invalid_union,unionErrors:a}),gt}if(t.common.async)return Promise.all(n.map(async s=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const u of n){const d={...t,common:{...t.common,issues:[]},parent:null},h=u._parseSync({data:t.data,path:t.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const l=a.map(u=>new to(u));return He(t,{code:Pe.invalid_union,unionErrors:l}),gt}}get options(){return this._def.options}}D0.create=(r,e)=>new D0({options:r,typeName:ut.ZodUnion,...vt(e)});function G_(r,e){const t=Oo(r),n=Oo(e);if(r===e)return{valid:!0,data:r};if(t===Qe.object&&n===Qe.object){const i=Mt.objectKeys(e),s=Mt.objectKeys(r).filter(l=>i.indexOf(l)!==-1),a={...r,...e};for(const l of s){const u=G_(r[l],e[l]);if(!u.valid)return{valid:!1};a[l]=u.data}return{valid:!0,data:a}}else if(t===Qe.array&&n===Qe.array){if(r.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<r.length;s++){const a=r[s],l=e[s],u=G_(a,l);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return t===Qe.date&&n===Qe.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}class A0 extends St{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),i=(s,a)=>{if(hU(s)||hU(a))return gt;const l=G_(s.value,a.value);return l.valid?((fU(s)||fU(a))&&t.dirty(),{status:t.value,value:l.data}):(He(n,{code:Pe.invalid_intersection_types}),gt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}A0.create=(r,e,t)=>new A0({left:r,right:e,typeName:ut.ZodIntersection,...vt(t)});class su extends St{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Qe.array)return He(n,{code:Pe.invalid_type,expected:Qe.array,received:n.parsedType}),gt;if(n.data.length<this._def.items.length)return He(n,{code:Pe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),gt;!this._def.rest&&n.data.length>this._def.items.length&&(He(n,{code:Pe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...n.data].map((a,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new Gs(n,a,n.path,l)):null}).filter(a=>!!a);return n.common.async?Promise.all(s).then(a=>Ci.mergeArray(t,a)):Ci.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new su({...this._def,rest:e})}}su.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new su({items:r,typeName:ut.ZodTuple,rest:null,...vt(e)})};class E0 extends St{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Qe.object)return He(n,{code:Pe.invalid_type,expected:Qe.object,received:n.parsedType}),gt;const i=[],s=this._def.keyType,a=this._def.valueType;for(const l in n.data)i.push({key:s._parse(new Gs(n,l,n.path,l)),value:a._parse(new Gs(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?Ci.mergeObjectAsync(t,i):Ci.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof St?new E0({keyType:e,valueType:t,typeName:ut.ZodRecord,...vt(n)}):new E0({keyType:Ws.create(),valueType:e,typeName:ut.ZodRecord,...vt(t)})}}class xU extends St{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Qe.map)return He(n,{code:Pe.invalid_type,expected:Qe.map,received:n.parsedType}),gt;const i=this._def.keyType,s=this._def.valueType,a=[...n.data.entries()].map(([l,u],d)=>({key:i._parse(new Gs(n,l,n.path,[d,"key"])),value:s._parse(new Gs(n,u,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of a){const d=await u.key,h=await u.value;if(d.status==="aborted"||h.status==="aborted")return gt;(d.status==="dirty"||h.status==="dirty")&&t.dirty(),l.set(d.value,h.value)}return{status:t.value,value:l}})}else{const l=new Map;for(const u of a){const d=u.key,h=u.value;if(d.status==="aborted"||h.status==="aborted")return gt;(d.status==="dirty"||h.status==="dirty")&&t.dirty(),l.set(d.value,h.value)}return{status:t.value,value:l}}}}xU.create=(r,e,t)=>new xU({valueType:e,keyType:r,typeName:ut.ZodMap,...vt(t)});class Lp extends St{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Qe.set)return He(n,{code:Pe.invalid_type,expected:Qe.set,received:n.parsedType}),gt;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(He(n,{code:Pe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(He(n,{code:Pe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const s=this._def.valueType;function a(u){const d=new Set;for(const h of u){if(h.status==="aborted")return gt;h.status==="dirty"&&t.dirty(),d.add(h.value)}return{status:t.value,value:d}}const l=[...n.data.values()].map((u,d)=>s._parse(new Gs(n,u,n.path,d)));return n.common.async?Promise.all(l).then(u=>a(u)):a(l)}min(e,t){return new Lp({...this._def,minSize:{value:e,message:Ze.toString(t)}})}max(e,t){return new Lp({...this._def,maxSize:{value:e,message:Ze.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Lp.create=(r,e)=>new Lp({valueType:r,minSize:null,maxSize:null,typeName:ut.ZodSet,...vt(e)});class $_ extends St{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}$_.create=(r,e)=>new $_({getter:r,typeName:ut.ZodLazy,...vt(e)});class _U extends St{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return He(t,{received:t.data,code:Pe.invalid_literal,expected:this._def.value}),gt}return{status:"valid",value:e.data}}get value(){return this._def.value}}_U.create=(r,e)=>new _U({value:r,typeName:ut.ZodLiteral,...vt(e)});function S5(r,e){return new Sh({values:r,typeName:ut.ZodEnum,...vt(e)})}class Sh extends St{constructor(){super(...arguments),rp.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),n=this._def.values;return He(t,{expected:Mt.joinValues(n),received:t.parsedType,code:Pe.invalid_type}),gt}if(w0(this,rp,"f")||A5(this,rp,new Set(this._def.values),"f"),!w0(this,rp,"f").has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return He(t,{received:t.data,code:Pe.invalid_enum_value,options:n}),gt}return qr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Sh.create(e,{...this._def,...t})}exclude(e,t=this._def){return Sh.create(this.options.filter(n=>!e.includes(n)),{...this._def,...t})}}rp=new WeakMap;Sh.create=S5;class wU extends St{constructor(){super(...arguments),sp.set(this,void 0)}_parse(e){const t=Mt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Qe.string&&n.parsedType!==Qe.number){const i=Mt.objectValues(t);return He(n,{expected:Mt.joinValues(i),received:n.parsedType,code:Pe.invalid_type}),gt}if(w0(this,sp,"f")||A5(this,sp,new Set(Mt.getValidEnumValues(this._def.values)),"f"),!w0(this,sp,"f").has(e.data)){const i=Mt.objectValues(t);return He(n,{received:n.data,code:Pe.invalid_enum_value,options:i}),gt}return qr(e.data)}get enum(){return this._def.values}}sp=new WeakMap;wU.create=(r,e)=>new wU({values:r,typeName:ut.ZodNativeEnum,...vt(e)});class C0 extends St{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Qe.promise&&t.common.async===!1)return He(t,{code:Pe.invalid_type,expected:Qe.promise,received:t.parsedType}),gt;const n=t.parsedType===Qe.promise?t.data:Promise.resolve(t.data);return qr(n.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}C0.create=(r,e)=>new C0({type:r,typeName:ut.ZodPromise,...vt(e)});class Uh extends St{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ut.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{He(n,a),a.fatal?t.abort():t.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(n.data,s);if(n.common.async)return Promise.resolve(a).then(async l=>{if(t.value==="aborted")return gt;const u=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return u.status==="aborted"?gt:u.status==="dirty"||t.value==="dirty"?ip(u.value):u});{if(t.value==="aborted")return gt;const l=this._def.schema._parseSync({data:a,path:n.path,parent:n});return l.status==="aborted"?gt:l.status==="dirty"||t.value==="dirty"?ip(l.value):l}}if(i.type==="refinement"){const a=l=>{const u=i.refinement(l,s);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?gt:(l.status==="dirty"&&t.dirty(),a(l.value),{status:t.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?gt:(l.status==="dirty"&&t.dirty(),a(l.value).then(()=>({status:t.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Eh(a))return a;const l=i.transform(a.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>Eh(a)?Promise.resolve(i.transform(a.value,s)).then(l=>({status:t.value,value:l})):a);Mt.assertNever(i)}}Uh.create=(r,e,t)=>new Uh({schema:r,typeName:ut.ZodEffects,effect:e,...vt(t)});Uh.createWithPreprocess=(r,e,t)=>new Uh({schema:e,effect:{type:"preprocess",transform:r},typeName:ut.ZodEffects,...vt(t)});class cl extends St{_parse(e){return this._getType(e)===Qe.undefined?qr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}cl.create=(r,e)=>new cl({innerType:r,typeName:ut.ZodOptional,...vt(e)});class kh extends St{_parse(e){return this._getType(e)===Qe.null?qr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}kh.create=(r,e)=>new kh({innerType:r,typeName:ut.ZodNullable,...vt(e)});class X_ extends St{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===Qe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}X_.create=(r,e)=>new X_({innerType:r,typeName:ut.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...vt(e)});class Q_ extends St{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return _0(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new to(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new to(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Q_.create=(r,e)=>new Q_({innerType:r,typeName:ut.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...vt(e)});class TU extends St{_parse(e){if(this._getType(e)!==Qe.nan){const n=this._getOrReturnCtx(e);return He(n,{code:Pe.invalid_type,expected:Qe.nan,received:n.parsedType}),gt}return{status:"valid",value:e.data}}}TU.create=r=>new TU({typeName:ut.ZodNaN,...vt(r)});class GP extends St{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class GT extends St{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?gt:s.status==="dirty"?(t.dirty(),ip(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?gt:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,t){return new GT({in:e,out:t,typeName:ut.ZodPipeline})}}class Y_ extends St{_parse(e){const t=this._def.innerType._parse(e),n=i=>(Eh(i)&&(i.value=Object.freeze(i.value)),i);return _0(t)?t.then(i=>n(i)):n(t)}unwrap(){return this._def.innerType}}Y_.create=(r,e)=>new Y_({innerType:r,typeName:ut.ZodReadonly,...vt(e)});var ut;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(ut||(ut={}));const Hl=Ws.create,DU=iu.create;ru.create;const $P=T0.create;Ch.create;const AU=H_.create;hl.create;const ap=js.create,XP=Un.create,QP=D0.create;A0.create;su.create;const YP=E0.create,KP=$_.create,ZP=Sh.create;C0.create;cl.create;kh.create;const sd={string:r=>Ws.create({...r,coerce:!0}),number:r=>iu.create({...r,coerce:!0}),boolean:r=>T0.create({...r,coerce:!0}),bigint:r=>ru.create({...r,coerce:!0}),date:r=>Ch.create({...r,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let JP,e9;function t9(){return{geminiUrl:JP,vertexUrl:e9}}function n9(r,e,t){var n,i,s;if(!(!((n=r.httpOptions)===null||n===void 0)&&n.baseUrl)){const a=t9();return r.vertexai?(i=a.vertexUrl)!==null&&i!==void 0?i:e:(s=a.geminiUrl)!==null&&s!==void 0?s:t}return r.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cm{}function lt(r,e){const t=/\{([^}]+)\}/g;return r.replace(t,(n,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function w(r,e,t){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const l=a.slice(0,-2);if(!(l in r))if(Array.isArray(t))r[l]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(r[l])){const u=r[l];if(Array.isArray(t))for(let d=0;d<u.length;d++){const h=u[d];w(h,e.slice(s+1),t[d])}else for(const d of u)w(d,e.slice(s+1),t)}return}else if(a.endsWith("[0]")){const l=a.slice(0,-3);l in r||(r[l]=[{}]);const u=r[l];w(u[0],e.slice(s+1),t);return}(!r[a]||typeof r[a]!="object")&&(r[a]={}),r=r[a]}const n=e[e.length-1],i=r[n];if(i!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===i)return;if(typeof i=="object"&&typeof t=="object"&&i!==null&&t!==null)Object.assign(i,t);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else r[n]=t}function b(r,e){try{if(e.length===1&&e[0]==="_self")return r;for(let t=0;t<e.length;t++){if(typeof r!="object"||r===null)return;const n=e[t];if(n.endsWith("[]")){const i=n.slice(0,-2);if(i in r){const s=r[i];return Array.isArray(s)?s.map(a=>b(a,e.slice(t+1))):void 0}else return}else r=r[n]}return r}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var EU;(function(r){r.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",r.OUTCOME_OK="OUTCOME_OK",r.OUTCOME_FAILED="OUTCOME_FAILED",r.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(EU||(EU={}));var CU;(function(r){r.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",r.PYTHON="PYTHON"})(CU||(CU={}));var qs;(function(r){r.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",r.STRING="STRING",r.NUMBER="NUMBER",r.INTEGER="INTEGER",r.BOOLEAN="BOOLEAN",r.ARRAY="ARRAY",r.OBJECT="OBJECT",r.NULL="NULL"})(qs||(qs={}));var SU;(function(r){r.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",r.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",r.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",r.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",r.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",r.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(SU||(SU={}));var UU;(function(r){r.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",r.SEVERITY="SEVERITY",r.PROBABILITY="PROBABILITY"})(UU||(UU={}));var kU;(function(r){r.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE",r.OFF="OFF"})(kU||(kU={}));var RU;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.MODE_DYNAMIC="MODE_DYNAMIC"})(RU||(RU={}));var NU;(function(r){r.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",r.NO_AUTH="NO_AUTH",r.API_KEY_AUTH="API_KEY_AUTH",r.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",r.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",r.OAUTH="OAUTH",r.OIDC_AUTH="OIDC_AUTH"})(NU||(NU={}));var MU;(function(r){r.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",r.STOP="STOP",r.MAX_TOKENS="MAX_TOKENS",r.SAFETY="SAFETY",r.RECITATION="RECITATION",r.LANGUAGE="LANGUAGE",r.OTHER="OTHER",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT",r.SPII="SPII",r.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",r.IMAGE_SAFETY="IMAGE_SAFETY"})(MU||(MU={}));var IU;(function(r){r.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",r.NEGLIGIBLE="NEGLIGIBLE",r.LOW="LOW",r.MEDIUM="MEDIUM",r.HIGH="HIGH"})(IU||(IU={}));var FU;(function(r){r.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",r.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",r.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",r.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",r.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(FU||(FU={}));var LU;(function(r){r.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",r.SAFETY="SAFETY",r.OTHER="OTHER",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(LU||(LU={}));var OU;(function(r){r.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",r.ON_DEMAND="ON_DEMAND",r.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(OU||(OU={}));var S0;(function(r){r.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",r.TEXT="TEXT",r.IMAGE="IMAGE",r.AUDIO="AUDIO"})(S0||(S0={}));var PU;(function(r){r.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",r.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",r.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",r.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(PU||(PU={}));var K_;(function(r){r.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",r.JOB_STATE_QUEUED="JOB_STATE_QUEUED",r.JOB_STATE_PENDING="JOB_STATE_PENDING",r.JOB_STATE_RUNNING="JOB_STATE_RUNNING",r.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",r.JOB_STATE_FAILED="JOB_STATE_FAILED",r.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",r.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",r.JOB_STATE_PAUSED="JOB_STATE_PAUSED",r.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",r.JOB_STATE_UPDATING="JOB_STATE_UPDATING",r.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(K_||(K_={}));var BU;(function(r){r.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",r.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",r.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",r.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",r.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",r.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",r.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(BU||(BU={}));var zU;(function(r){r.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",r.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",r.BALANCED="BALANCED",r.PRIORITIZE_COST="PRIORITIZE_COST"})(zU||(zU={}));var qU;(function(r){r.UNSPECIFIED="UNSPECIFIED",r.BLOCKING="BLOCKING",r.NON_BLOCKING="NON_BLOCKING"})(qU||(qU={}));var WU;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.MODE_DYNAMIC="MODE_DYNAMIC"})(WU||(WU={}));var jU;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.AUTO="AUTO",r.ANY="ANY",r.NONE="NONE"})(jU||(jU={}));var VU;(function(r){r.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",r.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",r.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(VU||(VU={}));var HU;(function(r){r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE"})(HU||(HU={}));var GU;(function(r){r.DONT_ALLOW="DONT_ALLOW",r.ALLOW_ADULT="ALLOW_ADULT",r.ALLOW_ALL="ALLOW_ALL"})(GU||(GU={}));var $U;(function(r){r.auto="auto",r.en="en",r.ja="ja",r.ko="ko",r.hi="hi"})($U||($U={}));var XU;(function(r){r.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",r.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",r.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",r.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",r.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(XU||(XU={}));var QU;(function(r){r.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",r.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",r.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",r.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(QU||(QU={}));var YU;(function(r){r.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",r.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",r.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",r.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(YU||(YU={}));var KU;(function(r){r.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",r.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",r.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",r.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",r.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",r.EDIT_MODE_STYLE="EDIT_MODE_STYLE",r.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",r.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(KU||(KU={}));var ZU;(function(r){r.STATE_UNSPECIFIED="STATE_UNSPECIFIED",r.PROCESSING="PROCESSING",r.ACTIVE="ACTIVE",r.FAILED="FAILED"})(ZU||(ZU={}));var JU;(function(r){r.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",r.UPLOADED="UPLOADED",r.GENERATED="GENERATED"})(JU||(JU={}));var ek;(function(r){r.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",r.TEXT="TEXT",r.IMAGE="IMAGE",r.VIDEO="VIDEO",r.AUDIO="AUDIO",r.DOCUMENT="DOCUMENT"})(ek||(ek={}));var tk;(function(r){r.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",r.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",r.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(tk||(tk={}));var nk;(function(r){r.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",r.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",r.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(nk||(nk={}));var ik;(function(r){r.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",r.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",r.NO_INTERRUPTION="NO_INTERRUPTION"})(ik||(ik={}));var rk;(function(r){r.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",r.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",r.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(rk||(rk={}));var sk;(function(r){r.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",r.SILENT="SILENT",r.WHEN_IDLE="WHEN_IDLE",r.INTERRUPT="INTERRUPT"})(sk||(sk={}));var ak;(function(r){r.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",r.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",r.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",r.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",r.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",r.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",r.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",r.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",r.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",r.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",r.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",r.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",r.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ak||(ak={}));var ok;(function(r){r.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",r.QUALITY="QUALITY",r.DIVERSITY="DIVERSITY"})(ok||(ok={}));var Dd;(function(r){r.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",r.PLAY="PLAY",r.PAUSE="PAUSE",r.STOP="STOP",r.RESET_CONTEXT="RESET_CONTEXT"})(Dd||(Dd={}));class zf{get text(){var e,t,n,i,s,a,l,u;if(((i=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const p=[];for(const g of(u=(l=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)!==null&&u!==void 0?u:[]){for(const[y,v]of Object.entries(g))y!=="text"&&y!=="thought"&&(v!==null||v!==void 0)&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,d+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var e,t,n,i,s,a,l,u;if(((i=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const p of(u=(l=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)!==null&&u!==void 0?u:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&(y!==null||y!==void 0)&&h.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,t,n,i,s,a,l,u;if(((i=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(u=(l=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,t,n,i,s,a,l,u,d;if(((i=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(u=(l=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,t,n,i,s,a,l,u,d;if(((i=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(u=(l=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class lk{}class ck{}class i9{}class r9{}class uk{}class dk{}class hk{}class s9{}class fk{}class pk{}class gk{}class a9{}class Z_{constructor(e){const t={};for(const n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class o9{}class l9{}class c9{get text(){var e,t,n;let i="",s=!1;const a=[];for(const l of(n=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&n!==void 0?n:[]){for(const[u,d]of Object.entries(l))u!=="text"&&u!=="thought"&&d!==null&&a.push(u);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;s=!0,i+=l.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,t,n;let i="";const s=[];for(const a of(n=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&n!==void 0?n:[]){for(const[l,u]of Object.entries(a))l!=="inlineData"&&u!==null&&s.push(l);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class u9{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ln(r,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(r.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function U5(r,e){const t=ln(r,e);return t?t.startsWith("publishers/")&&r.isVertexAI()?`projects/${r.getProject()}/locations/${r.getLocation()}/${t}`:t.startsWith("models/")&&r.isVertexAI()?`projects/${r.getProject()}/locations/${r.getLocation()}/publishers/google/${t}`:t:""}function k5(r,e){return Array.isArray(e)?e.map(t=>U0(r,t)):[U0(r,e)]}function U0(r,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function d9(r,e){const t=U0(r,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function h9(r,e){const t=U0(r,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function mk(r,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function R5(r,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>mk(r,t)):[mk(r,e)]}function J_(r){return r!=null&&typeof r=="object"&&"parts"in r&&Array.isArray(r.parts)}function yk(r){return r!=null&&typeof r=="object"&&"functionCall"in r}function vk(r){return r!=null&&typeof r=="object"&&"functionResponse"in r}function zi(r,e){if(e==null)throw new Error("ContentUnion is required");return J_(e)?e:{role:"user",parts:R5(r,e)}}function N5(r,e){if(!e)return[];if(r.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const n=zi(r,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(r.isVertexAI()){const t=zi(r,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>zi(r,t)):[zi(r,e)]}function fs(r,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(yk(e)||vk(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[zi(r,e)]}const t=[],n=[],i=J_(e[0]);for(const s of e){const a=J_(s);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(s);else{if(yk(s)||vk(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return i||t.push({role:"user",parts:R5(r,n)}),t}const bk=ZP(["string","number","integer","object","array","boolean","null"]),f9=QP([bk,ap(bk)]);function p9(r=!0){const e=KP(()=>{const t=XP({type:f9.optional(),format:Hl().optional(),title:Hl().optional(),description:Hl().optional(),default:AU().optional(),items:e.optional(),minItems:sd.string().optional(),maxItems:sd.string().optional(),enum:ap(AU()).optional(),properties:YP(Hl(),e).optional(),required:ap(Hl()).optional(),minProperties:sd.string().optional(),maxProperties:sd.string().optional(),propertyOrdering:ap(Hl()).optional(),minimum:DU().optional(),maximum:DU().optional(),minLength:sd.string().optional(),maxLength:sd.string().optional(),pattern:Hl().optional(),anyOf:ap(e).optional(),additionalProperties:$P().optional()});return r?t.strict():t});return e}function g9(r,e){r.includes("null")&&(e.nullable=!0);const t=r.filter(n=>n!=="null");if(t.length===1)e.type=Object.keys(qs).includes(t[0].toUpperCase())?qs[t[0].toUpperCase()]:qs.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const n of t)e.anyOf.push({type:Object.keys(qs).includes(n.toUpperCase())?qs[n.toUpperCase()]:qs.TYPE_UNSPECIFIED})}}function Dp(r){const e={},t=["items"],n=["anyOf"],i=["properties"];if(r.type&&r.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=r.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,r=s[1]):s[1].type==="null"&&(e.nullable=!0,r=s[0])),r.type instanceof Array&&g9(r.type,e);for(const[a,l]of Object.entries(r))if(l!=null)if(a=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.keys(qs).includes(l.toUpperCase())?l.toUpperCase():qs.TYPE_UNSPECIFIED}else if(t.includes(a))e[a]=Dp(l);else if(n.includes(a)){const u=[];for(const d of l){if(d.type=="null"){e.nullable=!0;continue}u.push(Dp(d))}e[a]=u}else if(i.includes(a)){const u={};for(const[d,h]of Object.entries(l))u[d]=Dp(h);e[a]=u}else{if(a==="additionalProperties")continue;e[a]=l}return e}function k0(r,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=p9().parse(e);return Dp(t)}else return Dp(e)}function M5(r,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function I5(r,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function hb(r,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=k0(r,t.parameters)),t.response&&(t.response=k0(r,t.response));return e}function fb(r,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function m9(r,e,t,n=1){const i=!e.startsWith(`${t}/`)&&e.split("/").length===n;return r.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${r.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${r.getProject()}/locations/${r.getLocation()}/${e}`:i?`projects/${r.getProject()}/locations/${r.getLocation()}/${t}/${e}`:e:i?`${t}/${e}`:e}function vl(r,e){if(typeof e!="string")throw new Error("name must be a string");return m9(r,e,"cachedContents")}function F5(r,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function bl(r,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function y9(r){return r!=null&&typeof r=="object"&&"name"in r}function v9(r){return r!=null&&typeof r=="object"&&"video"in r}function b9(r){return r!=null&&typeof r=="object"&&"uri"in r}function L5(r,e){var t;let n;if(y9(e)&&(n=e.name),!(b9(e)&&(n=e.uri,n===void 0))&&!(v9(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function O5(r,e){let t;return r.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function P5(r,e){for(const t of["models","tunedModels","publisherModels"])if(x9(e,t))return e[t];return[]}function x9(r,e){return r!==null&&typeof r=="object"&&e in r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _9(r,e){const t={},n=b(e,["fps"]);n!=null&&w(t,["fps"],n);const i=b(e,["endOffset"]);i!=null&&w(t,["endOffset"],i);const s=b(e,["startOffset"]);return s!=null&&w(t,["startOffset"],s),t}function w9(r,e){const t={};if(b(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(e,["data"]);n!=null&&w(t,["data"],n);const i=b(e,["mimeType"]);return i!=null&&w(t,["mimeType"],i),t}function T9(r,e){const t={};if(b(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(e,["fileUri"]);n!=null&&w(t,["fileUri"],n);const i=b(e,["mimeType"]);return i!=null&&w(t,["mimeType"],i),t}function D9(r,e){const t={},n=b(e,["videoMetadata"]);n!=null&&w(t,["videoMetadata"],_9(r,n));const i=b(e,["thought"]);i!=null&&w(t,["thought"],i);const s=b(e,["inlineData"]);s!=null&&w(t,["inlineData"],w9(r,s));const a=b(e,["fileData"]);a!=null&&w(t,["fileData"],T9(r,a));const l=b(e,["codeExecutionResult"]);l!=null&&w(t,["codeExecutionResult"],l);const u=b(e,["executableCode"]);u!=null&&w(t,["executableCode"],u);const d=b(e,["functionCall"]);d!=null&&w(t,["functionCall"],d);const h=b(e,["functionResponse"]);h!=null&&w(t,["functionResponse"],h);const p=b(e,["text"]);return p!=null&&w(t,["text"],p),t}function xk(r,e){const t={},n=b(e,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>D9(r,a))),w(t,["parts"],s)}const i=b(e,["role"]);return i!=null&&w(t,["role"],i),t}function A9(r,e){const t={},n=b(e,["behavior"]);n!=null&&w(t,["behavior"],n);const i=b(e,["description"]);i!=null&&w(t,["description"],i);const s=b(e,["name"]);s!=null&&w(t,["name"],s);const a=b(e,["parameters"]);a!=null&&w(t,["parameters"],a);const l=b(e,["response"]);return l!=null&&w(t,["response"],l),t}function E9(r,e){const t={},n=b(e,["startTime"]);n!=null&&w(t,["startTime"],n);const i=b(e,["endTime"]);return i!=null&&w(t,["endTime"],i),t}function C9(r,e){const t={},n=b(e,["timeRangeFilter"]);return n!=null&&w(t,["timeRangeFilter"],E9(r,n)),t}function S9(r,e){const t={},n=b(e,["mode"]);n!=null&&w(t,["mode"],n);const i=b(e,["dynamicThreshold"]);return i!=null&&w(t,["dynamicThreshold"],i),t}function U9(r,e){const t={},n=b(e,["dynamicRetrievalConfig"]);return n!=null&&w(t,["dynamicRetrievalConfig"],S9(r,n)),t}function k9(){return{}}function R9(r,e){const t={},n=b(e,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>A9(r,d))),w(t,["functionDeclarations"],u)}if(b(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=b(e,["googleSearch"]);i!=null&&w(t,["googleSearch"],C9(r,i));const s=b(e,["googleSearchRetrieval"]);if(s!=null&&w(t,["googleSearchRetrieval"],U9(r,s)),b(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(b(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");b(e,["urlContext"])!=null&&w(t,["urlContext"],k9());const l=b(e,["codeExecution"]);return l!=null&&w(t,["codeExecution"],l),t}function N9(r,e){const t={},n=b(e,["mode"]);n!=null&&w(t,["mode"],n);const i=b(e,["allowedFunctionNames"]);return i!=null&&w(t,["allowedFunctionNames"],i),t}function M9(r,e){const t={},n=b(e,["latitude"]);n!=null&&w(t,["latitude"],n);const i=b(e,["longitude"]);return i!=null&&w(t,["longitude"],i),t}function I9(r,e){const t={},n=b(e,["latLng"]);n!=null&&w(t,["latLng"],M9(r,n));const i=b(e,["languageCode"]);return i!=null&&w(t,["languageCode"],i),t}function F9(r,e){const t={},n=b(e,["functionCallingConfig"]);n!=null&&w(t,["functionCallingConfig"],N9(r,n));const i=b(e,["retrievalConfig"]);return i!=null&&w(t,["retrievalConfig"],I9(r,i)),t}function L9(r,e,t){const n={},i=b(e,["ttl"]);t!==void 0&&i!=null&&w(t,["ttl"],i);const s=b(e,["expireTime"]);t!==void 0&&s!=null&&w(t,["expireTime"],s);const a=b(e,["displayName"]);t!==void 0&&a!=null&&w(t,["displayName"],a);const l=b(e,["contents"]);if(t!==void 0&&l!=null){let p=fs(r,l);Array.isArray(p)&&(p=p.map(g=>xk(r,g))),w(t,["contents"],p)}const u=b(e,["systemInstruction"]);t!==void 0&&u!=null&&w(t,["systemInstruction"],xk(r,zi(r,u)));const d=b(e,["tools"]);if(t!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>R9(r,g))),w(t,["tools"],p)}const h=b(e,["toolConfig"]);if(t!==void 0&&h!=null&&w(t,["toolConfig"],F9(r,h)),b(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function O9(r,e){const t={},n=b(e,["model"]);n!=null&&w(t,["model"],U5(r,n));const i=b(e,["config"]);return i!=null&&w(t,["config"],L9(r,i,t)),t}function P9(r,e){const t={},n=b(e,["name"]);n!=null&&w(t,["_url","name"],vl(r,n));const i=b(e,["config"]);return i!=null&&w(t,["config"],i),t}function B9(r,e){const t={},n=b(e,["name"]);n!=null&&w(t,["_url","name"],vl(r,n));const i=b(e,["config"]);return i!=null&&w(t,["config"],i),t}function z9(r,e,t){const n={},i=b(e,["ttl"]);t!==void 0&&i!=null&&w(t,["ttl"],i);const s=b(e,["expireTime"]);return t!==void 0&&s!=null&&w(t,["expireTime"],s),n}function q9(r,e){const t={},n=b(e,["name"]);n!=null&&w(t,["_url","name"],vl(r,n));const i=b(e,["config"]);return i!=null&&w(t,["config"],z9(r,i,t)),t}function W9(r,e,t){const n={},i=b(e,["pageSize"]);t!==void 0&&i!=null&&w(t,["_query","pageSize"],i);const s=b(e,["pageToken"]);return t!==void 0&&s!=null&&w(t,["_query","pageToken"],s),n}function j9(r,e){const t={},n=b(e,["config"]);return n!=null&&w(t,["config"],W9(r,n,t)),t}function V9(r,e){const t={},n=b(e,["fps"]);n!=null&&w(t,["fps"],n);const i=b(e,["endOffset"]);i!=null&&w(t,["endOffset"],i);const s=b(e,["startOffset"]);return s!=null&&w(t,["startOffset"],s),t}function H9(r,e){const t={},n=b(e,["displayName"]);n!=null&&w(t,["displayName"],n);const i=b(e,["data"]);i!=null&&w(t,["data"],i);const s=b(e,["mimeType"]);return s!=null&&w(t,["mimeType"],s),t}function G9(r,e){const t={},n=b(e,["displayName"]);n!=null&&w(t,["displayName"],n);const i=b(e,["fileUri"]);i!=null&&w(t,["fileUri"],i);const s=b(e,["mimeType"]);return s!=null&&w(t,["mimeType"],s),t}function $9(r,e){const t={},n=b(e,["videoMetadata"]);n!=null&&w(t,["videoMetadata"],V9(r,n));const i=b(e,["thought"]);i!=null&&w(t,["thought"],i);const s=b(e,["inlineData"]);s!=null&&w(t,["inlineData"],H9(r,s));const a=b(e,["fileData"]);a!=null&&w(t,["fileData"],G9(r,a));const l=b(e,["codeExecutionResult"]);l!=null&&w(t,["codeExecutionResult"],l);const u=b(e,["executableCode"]);u!=null&&w(t,["executableCode"],u);const d=b(e,["functionCall"]);d!=null&&w(t,["functionCall"],d);const h=b(e,["functionResponse"]);h!=null&&w(t,["functionResponse"],h);const p=b(e,["text"]);return p!=null&&w(t,["text"],p),t}function _k(r,e){const t={},n=b(e,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>$9(r,a))),w(t,["parts"],s)}const i=b(e,["role"]);return i!=null&&w(t,["role"],i),t}function X9(r,e){const t={};if(b(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=b(e,["description"]);n!=null&&w(t,["description"],n);const i=b(e,["name"]);i!=null&&w(t,["name"],i);const s=b(e,["parameters"]);s!=null&&w(t,["parameters"],s);const a=b(e,["response"]);return a!=null&&w(t,["response"],a),t}function Q9(r,e){const t={},n=b(e,["startTime"]);n!=null&&w(t,["startTime"],n);const i=b(e,["endTime"]);return i!=null&&w(t,["endTime"],i),t}function Y9(r,e){const t={},n=b(e,["timeRangeFilter"]);return n!=null&&w(t,["timeRangeFilter"],Q9(r,n)),t}function K9(r,e){const t={},n=b(e,["mode"]);n!=null&&w(t,["mode"],n);const i=b(e,["dynamicThreshold"]);return i!=null&&w(t,["dynamicThreshold"],i),t}function Z9(r,e){const t={},n=b(e,["dynamicRetrievalConfig"]);return n!=null&&w(t,["dynamicRetrievalConfig"],K9(r,n)),t}function J9(){return{}}function eB(r,e){const t={},n=b(e,["apiKeyString"]);return n!=null&&w(t,["apiKeyString"],n),t}function tB(r,e){const t={},n=b(e,["apiKeyConfig"]);n!=null&&w(t,["apiKeyConfig"],eB(r,n));const i=b(e,["authType"]);i!=null&&w(t,["authType"],i);const s=b(e,["googleServiceAccountConfig"]);s!=null&&w(t,["googleServiceAccountConfig"],s);const a=b(e,["httpBasicAuthConfig"]);a!=null&&w(t,["httpBasicAuthConfig"],a);const l=b(e,["oauthConfig"]);l!=null&&w(t,["oauthConfig"],l);const u=b(e,["oidcConfig"]);return u!=null&&w(t,["oidcConfig"],u),t}function nB(r,e){const t={},n=b(e,["authConfig"]);return n!=null&&w(t,["authConfig"],tB(r,n)),t}function iB(r,e){const t={},n=b(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>X9(r,p))),w(t,["functionDeclarations"],h)}const i=b(e,["retrieval"]);i!=null&&w(t,["retrieval"],i);const s=b(e,["googleSearch"]);s!=null&&w(t,["googleSearch"],Y9(r,s));const a=b(e,["googleSearchRetrieval"]);a!=null&&w(t,["googleSearchRetrieval"],Z9(r,a)),b(e,["enterpriseWebSearch"])!=null&&w(t,["enterpriseWebSearch"],J9());const u=b(e,["googleMaps"]);if(u!=null&&w(t,["googleMaps"],nB(r,u)),b(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const d=b(e,["codeExecution"]);return d!=null&&w(t,["codeExecution"],d),t}function rB(r,e){const t={},n=b(e,["mode"]);n!=null&&w(t,["mode"],n);const i=b(e,["allowedFunctionNames"]);return i!=null&&w(t,["allowedFunctionNames"],i),t}function sB(r,e){const t={},n=b(e,["latitude"]);n!=null&&w(t,["latitude"],n);const i=b(e,["longitude"]);return i!=null&&w(t,["longitude"],i),t}function aB(r,e){const t={},n=b(e,["latLng"]);n!=null&&w(t,["latLng"],sB(r,n));const i=b(e,["languageCode"]);return i!=null&&w(t,["languageCode"],i),t}function oB(r,e){const t={},n=b(e,["functionCallingConfig"]);n!=null&&w(t,["functionCallingConfig"],rB(r,n));const i=b(e,["retrievalConfig"]);return i!=null&&w(t,["retrievalConfig"],aB(r,i)),t}function lB(r,e,t){const n={},i=b(e,["ttl"]);t!==void 0&&i!=null&&w(t,["ttl"],i);const s=b(e,["expireTime"]);t!==void 0&&s!=null&&w(t,["expireTime"],s);const a=b(e,["displayName"]);t!==void 0&&a!=null&&w(t,["displayName"],a);const l=b(e,["contents"]);if(t!==void 0&&l!=null){let g=fs(r,l);Array.isArray(g)&&(g=g.map(y=>_k(r,y))),w(t,["contents"],g)}const u=b(e,["systemInstruction"]);t!==void 0&&u!=null&&w(t,["systemInstruction"],_k(r,zi(r,u)));const d=b(e,["tools"]);if(t!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>iB(r,y))),w(t,["tools"],g)}const h=b(e,["toolConfig"]);t!==void 0&&h!=null&&w(t,["toolConfig"],oB(r,h));const p=b(e,["kmsKeyName"]);return t!==void 0&&p!=null&&w(t,["encryption_spec","kmsKeyName"],p),n}function cB(r,e){const t={},n=b(e,["model"]);n!=null&&w(t,["model"],U5(r,n));const i=b(e,["config"]);return i!=null&&w(t,["config"],lB(r,i,t)),t}function uB(r,e){const t={},n=b(e,["name"]);n!=null&&w(t,["_url","name"],vl(r,n));const i=b(e,["config"]);return i!=null&&w(t,["config"],i),t}function dB(r,e){const t={},n=b(e,["name"]);n!=null&&w(t,["_url","name"],vl(r,n));const i=b(e,["config"]);return i!=null&&w(t,["config"],i),t}function hB(r,e,t){const n={},i=b(e,["ttl"]);t!==void 0&&i!=null&&w(t,["ttl"],i);const s=b(e,["expireTime"]);return t!==void 0&&s!=null&&w(t,["expireTime"],s),n}function fB(r,e){const t={},n=b(e,["name"]);n!=null&&w(t,["_url","name"],vl(r,n));const i=b(e,["config"]);return i!=null&&w(t,["config"],hB(r,i,t)),t}function pB(r,e,t){const n={},i=b(e,["pageSize"]);t!==void 0&&i!=null&&w(t,["_query","pageSize"],i);const s=b(e,["pageToken"]);return t!==void 0&&s!=null&&w(t,["_query","pageToken"],s),n}function gB(r,e){const t={},n=b(e,["config"]);return n!=null&&w(t,["config"],pB(r,n,t)),t}function _v(r,e){const t={},n=b(e,["name"]);n!=null&&w(t,["name"],n);const i=b(e,["displayName"]);i!=null&&w(t,["displayName"],i);const s=b(e,["model"]);s!=null&&w(t,["model"],s);const a=b(e,["createTime"]);a!=null&&w(t,["createTime"],a);const l=b(e,["updateTime"]);l!=null&&w(t,["updateTime"],l);const u=b(e,["expireTime"]);u!=null&&w(t,["expireTime"],u);const d=b(e,["usageMetadata"]);return d!=null&&w(t,["usageMetadata"],d),t}function mB(){return{}}function yB(r,e){const t={},n=b(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=b(e,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>_v(r,a))),w(t,["cachedContents"],s)}return t}function wv(r,e){const t={},n=b(e,["name"]);n!=null&&w(t,["name"],n);const i=b(e,["displayName"]);i!=null&&w(t,["displayName"],i);const s=b(e,["model"]);s!=null&&w(t,["model"],s);const a=b(e,["createTime"]);a!=null&&w(t,["createTime"],a);const l=b(e,["updateTime"]);l!=null&&w(t,["updateTime"],l);const u=b(e,["expireTime"]);u!=null&&w(t,["expireTime"],u);const d=b(e,["usageMetadata"]);return d!=null&&w(t,["usageMetadata"],d),t}function vB(){return{}}function bB(r,e){const t={},n=b(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=b(e,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>wv(r,a))),w(t,["cachedContents"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Rh;(function(r){r.PAGED_ITEM_BATCH_JOBS="batchJobs",r.PAGED_ITEM_MODELS="models",r.PAGED_ITEM_TUNING_JOBS="tuningJobs",r.PAGED_ITEM_FILES="files",r.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Rh||(Rh={}));class pb{constructor(e,t,n,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,i)}init(e,t,n){var i,s;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let a={config:{}};n?typeof n=="object"?a=Object.assign({},n):a=n:a={config:{}},a.config&&(a.config.pageToken=t.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xB extends Cm{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new pb(Rh.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(t),t)}async create(e){var t,n,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=cB(this.apiClient,e);return l=lt("cachedContents",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),a.then(h=>wv(this.apiClient,h))}else{const d=O9(this.apiClient,e);return l=lt("cachedContents",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>_v(this.apiClient,h))}}async get(e){var t,n,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=uB(this.apiClient,e);return l=lt("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),a.then(h=>wv(this.apiClient,h))}else{const d=P9(this.apiClient,e);return l=lt("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>_v(this.apiClient,h))}}async delete(e){var t,n,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=dB(this.apiClient,e);return l=lt("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),a.then(()=>{const h=vB(),p=new pk;return Object.assign(p,h),p})}else{const d=B9(this.apiClient,e);return l=lt("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(()=>{const h=mB(),p=new pk;return Object.assign(p,h),p})}}async update(e){var t,n,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=fB(this.apiClient,e);return l=lt("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),a.then(h=>wv(this.apiClient,h))}else{const d=q9(this.apiClient,e);return l=lt("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>_v(this.apiClient,h))}}async listInternal(e){var t,n,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=gB(this.apiClient,e);return l=lt("cachedContents",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),a.then(h=>{const p=bB(this.apiClient,h),g=new gk;return Object.assign(g,p),g})}else{const d=j9(this.apiClient,e);return l=lt("cachedContents",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>{const p=yB(this.apiClient,h),g=new gk;return Object.assign(g,p),g})}}}function wk(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fn(r){return this instanceof fn?(this.v=r,this):new fn(r)}function Ap(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(y){return function(v){return Promise.resolve(v).then(y,p)}}function l(y,v){n[y]&&(i[y]=function(x){return new Promise(function(T,D){s.push([y,x,T,D])>1||u(y,x)})},v&&(i[y]=v(i[y])))}function u(y,v){try{d(n[y](v))}catch(x){g(s[0][3],x)}}function d(y){y.value instanceof fn?Promise.resolve(y.value.v).then(h,p):g(s[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,v){y(v),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Tv(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof wk=="function"?wk(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=r[s]&&function(a){return new Promise(function(l,u){a=r[s](a),i(l,u,a.done,a.value)})}}function i(s,a,l,u){Promise.resolve(u).then(function(d){s({value:d,done:l})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _B(r){var e;if(r.candidates==null||r.candidates.length===0)return!1;const t=(e=r.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:B5(t)}function B5(r){if(r.parts===void 0||r.parts.length===0)return!1;for(const e of r.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function wB(r){if(r.length!==0){for(const e of r)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Tk(r){if(r===void 0||r.length===0)return[];const e=[],t=r.length;let n=0;for(;n<t;)if(r[n].role==="user")e.push(r[n]),n++;else{const i=[];let s=!0;for(;n<t&&r[n].role==="model";)i.push(r[n]),s&&!B5(r[n])&&(s=!1),n++;s?e.push(...i):e.pop()}return e}class TB{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new DB(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class DB{constructor(e,t,n,i={},s=[]){this.apiClient=e,this.modelsModule=t,this.model=n,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),wB(s)}async sendMessage(e){var t;await this.sendPromise;const n=zi(this.apiClient,e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var s,a,l;const u=await i,d=(a=(s=u.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,h=u.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let g=[];h!=null&&(g=(l=h.slice(p))!==null&&l!==void 0?l:[]);const y=d?[d]:[];this.recordHistory(n,y,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var t;await this.sendPromise;const n=zi(this.apiClient,e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,n)}getHistory(e=!1){const t=e?Tk(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var n,i;return Ap(this,arguments,function*(){var a,l,u,d;const h=[];try{for(var p=!0,g=Tv(e),y;y=yield fn(g.next()),a=y.done,!a;p=!0){d=y.value,p=!1;const v=d;if(_B(v)){const x=(i=(n=v.candidates)===null||n===void 0?void 0:n[0])===null||i===void 0?void 0:i.content;x!==void 0&&h.push(x)}yield yield fn(v)}}catch(v){l={error:v}}finally{try{!p&&!a&&(u=g.return)&&(yield fn(u.call(g)))}finally{if(l)throw l.error}}this.recordHistory(t,h)})}recordHistory(e,t,n){let i=[];t.length>0&&t.every(s=>s.role!==void 0)?i=t:i.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...Tk(n)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AB(r,e,t){const n={},i=b(e,["pageSize"]);t!==void 0&&i!=null&&w(t,["_query","pageSize"],i);const s=b(e,["pageToken"]);return t!==void 0&&s!=null&&w(t,["_query","pageToken"],s),n}function EB(r,e){const t={},n=b(e,["config"]);return n!=null&&w(t,["config"],AB(r,n,t)),t}function CB(r,e){const t={},n=b(e,["details"]);n!=null&&w(t,["details"],n);const i=b(e,["message"]);i!=null&&w(t,["message"],i);const s=b(e,["code"]);return s!=null&&w(t,["code"],s),t}function SB(r,e){const t={},n=b(e,["name"]);n!=null&&w(t,["name"],n);const i=b(e,["displayName"]);i!=null&&w(t,["displayName"],i);const s=b(e,["mimeType"]);s!=null&&w(t,["mimeType"],s);const a=b(e,["sizeBytes"]);a!=null&&w(t,["sizeBytes"],a);const l=b(e,["createTime"]);l!=null&&w(t,["createTime"],l);const u=b(e,["expirationTime"]);u!=null&&w(t,["expirationTime"],u);const d=b(e,["updateTime"]);d!=null&&w(t,["updateTime"],d);const h=b(e,["sha256Hash"]);h!=null&&w(t,["sha256Hash"],h);const p=b(e,["uri"]);p!=null&&w(t,["uri"],p);const g=b(e,["downloadUri"]);g!=null&&w(t,["downloadUri"],g);const y=b(e,["state"]);y!=null&&w(t,["state"],y);const v=b(e,["source"]);v!=null&&w(t,["source"],v);const x=b(e,["videoMetadata"]);x!=null&&w(t,["videoMetadata"],x);const T=b(e,["error"]);return T!=null&&w(t,["error"],CB(r,T)),t}function UB(r,e){const t={},n=b(e,["file"]);n!=null&&w(t,["file"],SB(r,n));const i=b(e,["config"]);return i!=null&&w(t,["config"],i),t}function kB(r,e){const t={},n=b(e,["name"]);n!=null&&w(t,["_url","file"],L5(r,n));const i=b(e,["config"]);return i!=null&&w(t,["config"],i),t}function RB(r,e){const t={},n=b(e,["name"]);n!=null&&w(t,["_url","file"],L5(r,n));const i=b(e,["config"]);return i!=null&&w(t,["config"],i),t}function NB(r,e){const t={},n=b(e,["details"]);n!=null&&w(t,["details"],n);const i=b(e,["message"]);i!=null&&w(t,["message"],i);const s=b(e,["code"]);return s!=null&&w(t,["code"],s),t}function ew(r,e){const t={},n=b(e,["name"]);n!=null&&w(t,["name"],n);const i=b(e,["displayName"]);i!=null&&w(t,["displayName"],i);const s=b(e,["mimeType"]);s!=null&&w(t,["mimeType"],s);const a=b(e,["sizeBytes"]);a!=null&&w(t,["sizeBytes"],a);const l=b(e,["createTime"]);l!=null&&w(t,["createTime"],l);const u=b(e,["expirationTime"]);u!=null&&w(t,["expirationTime"],u);const d=b(e,["updateTime"]);d!=null&&w(t,["updateTime"],d);const h=b(e,["sha256Hash"]);h!=null&&w(t,["sha256Hash"],h);const p=b(e,["uri"]);p!=null&&w(t,["uri"],p);const g=b(e,["downloadUri"]);g!=null&&w(t,["downloadUri"],g);const y=b(e,["state"]);y!=null&&w(t,["state"],y);const v=b(e,["source"]);v!=null&&w(t,["source"],v);const x=b(e,["videoMetadata"]);x!=null&&w(t,["videoMetadata"],x);const T=b(e,["error"]);return T!=null&&w(t,["error"],NB(r,T)),t}function MB(r,e){const t={},n=b(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=b(e,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>ew(r,a))),w(t,["files"],s)}return t}function IB(){return{}}function FB(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LB extends Cm{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new pb(Rh.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>ew(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,n;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=EB(this.apiClient,e);return s=lt("files",l._url),a=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),i.then(u=>{const d=MB(this.apiClient,u),h=new a9;return Object.assign(h,d),h})}}async createInternal(e){var t,n;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=UB(this.apiClient,e);return s=lt("upload/v1beta/files",l._url),a=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),i.then(()=>{const u=IB(),d=new o9;return Object.assign(d,u),d})}}async get(e){var t,n;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=kB(this.apiClient,e);return s=lt("files/{file}",l._url),a=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),i.then(u=>ew(this.apiClient,u))}}async delete(e){var t,n;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=RB(this.apiClient,e);return s=lt("files/{file}",l._url),a=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),i.then(()=>{const u=FB(),d=new l9;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OB(r,e){const t={},n=b(e,["voiceName"]);return n!=null&&w(t,["voiceName"],n),t}function PB(r,e){const t={},n=b(e,["voiceName"]);return n!=null&&w(t,["voiceName"],n),t}function z5(r,e){const t={},n=b(e,["prebuiltVoiceConfig"]);return n!=null&&w(t,["prebuiltVoiceConfig"],OB(r,n)),t}function BB(r,e){const t={},n=b(e,["prebuiltVoiceConfig"]);return n!=null&&w(t,["prebuiltVoiceConfig"],PB(r,n)),t}function zB(r,e){const t={},n=b(e,["speaker"]);n!=null&&w(t,["speaker"],n);const i=b(e,["voiceConfig"]);return i!=null&&w(t,["voiceConfig"],z5(r,i)),t}function qB(r,e){const t={},n=b(e,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>zB(r,s))),w(t,["speakerVoiceConfigs"],i)}return t}function WB(r,e){const t={},n=b(e,["voiceConfig"]);n!=null&&w(t,["voiceConfig"],z5(r,n));const i=b(e,["multiSpeakerVoiceConfig"]);i!=null&&w(t,["multiSpeakerVoiceConfig"],qB(r,i));const s=b(e,["languageCode"]);return s!=null&&w(t,["languageCode"],s),t}function jB(r,e){const t={},n=b(e,["voiceConfig"]);if(n!=null&&w(t,["voiceConfig"],BB(r,n)),b(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=b(e,["languageCode"]);return i!=null&&w(t,["languageCode"],i),t}function VB(r,e){const t={},n=b(e,["fps"]);n!=null&&w(t,["fps"],n);const i=b(e,["endOffset"]);i!=null&&w(t,["endOffset"],i);const s=b(e,["startOffset"]);return s!=null&&w(t,["startOffset"],s),t}function HB(r,e){const t={},n=b(e,["fps"]);n!=null&&w(t,["fps"],n);const i=b(e,["endOffset"]);i!=null&&w(t,["endOffset"],i);const s=b(e,["startOffset"]);return s!=null&&w(t,["startOffset"],s),t}function GB(r,e){const t={};if(b(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(e,["data"]);n!=null&&w(t,["data"],n);const i=b(e,["mimeType"]);return i!=null&&w(t,["mimeType"],i),t}function $B(r,e){const t={},n=b(e,["displayName"]);n!=null&&w(t,["displayName"],n);const i=b(e,["data"]);i!=null&&w(t,["data"],i);const s=b(e,["mimeType"]);return s!=null&&w(t,["mimeType"],s),t}function XB(r,e){const t={};if(b(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(e,["fileUri"]);n!=null&&w(t,["fileUri"],n);const i=b(e,["mimeType"]);return i!=null&&w(t,["mimeType"],i),t}function QB(r,e){const t={},n=b(e,["displayName"]);n!=null&&w(t,["displayName"],n);const i=b(e,["fileUri"]);i!=null&&w(t,["fileUri"],i);const s=b(e,["mimeType"]);return s!=null&&w(t,["mimeType"],s),t}function YB(r,e){const t={},n=b(e,["videoMetadata"]);n!=null&&w(t,["videoMetadata"],VB(r,n));const i=b(e,["thought"]);i!=null&&w(t,["thought"],i);const s=b(e,["inlineData"]);s!=null&&w(t,["inlineData"],GB(r,s));const a=b(e,["fileData"]);a!=null&&w(t,["fileData"],XB(r,a));const l=b(e,["codeExecutionResult"]);l!=null&&w(t,["codeExecutionResult"],l);const u=b(e,["executableCode"]);u!=null&&w(t,["executableCode"],u);const d=b(e,["functionCall"]);d!=null&&w(t,["functionCall"],d);const h=b(e,["functionResponse"]);h!=null&&w(t,["functionResponse"],h);const p=b(e,["text"]);return p!=null&&w(t,["text"],p),t}function KB(r,e){const t={},n=b(e,["videoMetadata"]);n!=null&&w(t,["videoMetadata"],HB(r,n));const i=b(e,["thought"]);i!=null&&w(t,["thought"],i);const s=b(e,["inlineData"]);s!=null&&w(t,["inlineData"],$B(r,s));const a=b(e,["fileData"]);a!=null&&w(t,["fileData"],QB(r,a));const l=b(e,["codeExecutionResult"]);l!=null&&w(t,["codeExecutionResult"],l);const u=b(e,["executableCode"]);u!=null&&w(t,["executableCode"],u);const d=b(e,["functionCall"]);d!=null&&w(t,["functionCall"],d);const h=b(e,["functionResponse"]);h!=null&&w(t,["functionResponse"],h);const p=b(e,["text"]);return p!=null&&w(t,["text"],p),t}function ZB(r,e){const t={},n=b(e,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>YB(r,a))),w(t,["parts"],s)}const i=b(e,["role"]);return i!=null&&w(t,["role"],i),t}function JB(r,e){const t={},n=b(e,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>KB(r,a))),w(t,["parts"],s)}const i=b(e,["role"]);return i!=null&&w(t,["role"],i),t}function e7(r,e){const t={},n=b(e,["behavior"]);n!=null&&w(t,["behavior"],n);const i=b(e,["description"]);i!=null&&w(t,["description"],i);const s=b(e,["name"]);s!=null&&w(t,["name"],s);const a=b(e,["parameters"]);a!=null&&w(t,["parameters"],a);const l=b(e,["response"]);return l!=null&&w(t,["response"],l),t}function t7(r,e){const t={};if(b(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=b(e,["description"]);n!=null&&w(t,["description"],n);const i=b(e,["name"]);i!=null&&w(t,["name"],i);const s=b(e,["parameters"]);s!=null&&w(t,["parameters"],s);const a=b(e,["response"]);return a!=null&&w(t,["response"],a),t}function n7(r,e){const t={},n=b(e,["startTime"]);n!=null&&w(t,["startTime"],n);const i=b(e,["endTime"]);return i!=null&&w(t,["endTime"],i),t}function i7(r,e){const t={},n=b(e,["startTime"]);n!=null&&w(t,["startTime"],n);const i=b(e,["endTime"]);return i!=null&&w(t,["endTime"],i),t}function r7(r,e){const t={},n=b(e,["timeRangeFilter"]);return n!=null&&w(t,["timeRangeFilter"],n7(r,n)),t}function s7(r,e){const t={},n=b(e,["timeRangeFilter"]);return n!=null&&w(t,["timeRangeFilter"],i7(r,n)),t}function a7(r,e){const t={},n=b(e,["mode"]);n!=null&&w(t,["mode"],n);const i=b(e,["dynamicThreshold"]);return i!=null&&w(t,["dynamicThreshold"],i),t}function o7(r,e){const t={},n=b(e,["mode"]);n!=null&&w(t,["mode"],n);const i=b(e,["dynamicThreshold"]);return i!=null&&w(t,["dynamicThreshold"],i),t}function l7(r,e){const t={},n=b(e,["dynamicRetrievalConfig"]);return n!=null&&w(t,["dynamicRetrievalConfig"],a7(r,n)),t}function c7(r,e){const t={},n=b(e,["dynamicRetrievalConfig"]);return n!=null&&w(t,["dynamicRetrievalConfig"],o7(r,n)),t}function u7(){return{}}function d7(r,e){const t={},n=b(e,["apiKeyString"]);return n!=null&&w(t,["apiKeyString"],n),t}function h7(r,e){const t={},n=b(e,["apiKeyConfig"]);n!=null&&w(t,["apiKeyConfig"],d7(r,n));const i=b(e,["authType"]);i!=null&&w(t,["authType"],i);const s=b(e,["googleServiceAccountConfig"]);s!=null&&w(t,["googleServiceAccountConfig"],s);const a=b(e,["httpBasicAuthConfig"]);a!=null&&w(t,["httpBasicAuthConfig"],a);const l=b(e,["oauthConfig"]);l!=null&&w(t,["oauthConfig"],l);const u=b(e,["oidcConfig"]);return u!=null&&w(t,["oidcConfig"],u),t}function f7(r,e){const t={},n=b(e,["authConfig"]);return n!=null&&w(t,["authConfig"],h7(r,n)),t}function p7(){return{}}function g7(r,e){const t={},n=b(e,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>e7(r,d))),w(t,["functionDeclarations"],u)}if(b(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=b(e,["googleSearch"]);i!=null&&w(t,["googleSearch"],r7(r,i));const s=b(e,["googleSearchRetrieval"]);if(s!=null&&w(t,["googleSearchRetrieval"],l7(r,s)),b(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(b(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");b(e,["urlContext"])!=null&&w(t,["urlContext"],p7());const l=b(e,["codeExecution"]);return l!=null&&w(t,["codeExecution"],l),t}function m7(r,e){const t={},n=b(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>t7(r,p))),w(t,["functionDeclarations"],h)}const i=b(e,["retrieval"]);i!=null&&w(t,["retrieval"],i);const s=b(e,["googleSearch"]);s!=null&&w(t,["googleSearch"],s7(r,s));const a=b(e,["googleSearchRetrieval"]);a!=null&&w(t,["googleSearchRetrieval"],c7(r,a)),b(e,["enterpriseWebSearch"])!=null&&w(t,["enterpriseWebSearch"],u7());const u=b(e,["googleMaps"]);if(u!=null&&w(t,["googleMaps"],f7(r,u)),b(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const d=b(e,["codeExecution"]);return d!=null&&w(t,["codeExecution"],d),t}function y7(r,e){const t={},n=b(e,["handle"]);if(n!=null&&w(t,["handle"],n),b(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function v7(r,e){const t={},n=b(e,["handle"]);n!=null&&w(t,["handle"],n);const i=b(e,["transparent"]);return i!=null&&w(t,["transparent"],i),t}function Dk(){return{}}function Ak(){return{}}function b7(r,e){const t={},n=b(e,["disabled"]);n!=null&&w(t,["disabled"],n);const i=b(e,["startOfSpeechSensitivity"]);i!=null&&w(t,["startOfSpeechSensitivity"],i);const s=b(e,["endOfSpeechSensitivity"]);s!=null&&w(t,["endOfSpeechSensitivity"],s);const a=b(e,["prefixPaddingMs"]);a!=null&&w(t,["prefixPaddingMs"],a);const l=b(e,["silenceDurationMs"]);return l!=null&&w(t,["silenceDurationMs"],l),t}function x7(r,e){const t={},n=b(e,["disabled"]);n!=null&&w(t,["disabled"],n);const i=b(e,["startOfSpeechSensitivity"]);i!=null&&w(t,["startOfSpeechSensitivity"],i);const s=b(e,["endOfSpeechSensitivity"]);s!=null&&w(t,["endOfSpeechSensitivity"],s);const a=b(e,["prefixPaddingMs"]);a!=null&&w(t,["prefixPaddingMs"],a);const l=b(e,["silenceDurationMs"]);return l!=null&&w(t,["silenceDurationMs"],l),t}function _7(r,e){const t={},n=b(e,["automaticActivityDetection"]);n!=null&&w(t,["automaticActivityDetection"],b7(r,n));const i=b(e,["activityHandling"]);i!=null&&w(t,["activityHandling"],i);const s=b(e,["turnCoverage"]);return s!=null&&w(t,["turnCoverage"],s),t}function w7(r,e){const t={},n=b(e,["automaticActivityDetection"]);n!=null&&w(t,["automaticActivityDetection"],x7(r,n));const i=b(e,["activityHandling"]);i!=null&&w(t,["activityHandling"],i);const s=b(e,["turnCoverage"]);return s!=null&&w(t,["turnCoverage"],s),t}function T7(r,e){const t={},n=b(e,["targetTokens"]);return n!=null&&w(t,["targetTokens"],n),t}function D7(r,e){const t={},n=b(e,["targetTokens"]);return n!=null&&w(t,["targetTokens"],n),t}function A7(r,e){const t={},n=b(e,["triggerTokens"]);n!=null&&w(t,["triggerTokens"],n);const i=b(e,["slidingWindow"]);return i!=null&&w(t,["slidingWindow"],T7(r,i)),t}function E7(r,e){const t={},n=b(e,["triggerTokens"]);n!=null&&w(t,["triggerTokens"],n);const i=b(e,["slidingWindow"]);return i!=null&&w(t,["slidingWindow"],D7(r,i)),t}function C7(r,e){const t={},n=b(e,["proactiveAudio"]);return n!=null&&w(t,["proactiveAudio"],n),t}function S7(r,e){const t={},n=b(e,["proactiveAudio"]);return n!=null&&w(t,["proactiveAudio"],n),t}function U7(r,e,t){const n={},i=b(e,["generationConfig"]);t!==void 0&&i!=null&&w(t,["setup","generationConfig"],i);const s=b(e,["responseModalities"]);t!==void 0&&s!=null&&w(t,["setup","generationConfig","responseModalities"],s);const a=b(e,["temperature"]);t!==void 0&&a!=null&&w(t,["setup","generationConfig","temperature"],a);const l=b(e,["topP"]);t!==void 0&&l!=null&&w(t,["setup","generationConfig","topP"],l);const u=b(e,["topK"]);t!==void 0&&u!=null&&w(t,["setup","generationConfig","topK"],u);const d=b(e,["maxOutputTokens"]);t!==void 0&&d!=null&&w(t,["setup","generationConfig","maxOutputTokens"],d);const h=b(e,["mediaResolution"]);t!==void 0&&h!=null&&w(t,["setup","generationConfig","mediaResolution"],h);const p=b(e,["seed"]);t!==void 0&&p!=null&&w(t,["setup","generationConfig","seed"],p);const g=b(e,["speechConfig"]);t!==void 0&&g!=null&&w(t,["setup","generationConfig","speechConfig"],WB(r,I5(r,g)));const y=b(e,["enableAffectiveDialog"]);t!==void 0&&y!=null&&w(t,["setup","generationConfig","enableAffectiveDialog"],y);const v=b(e,["systemInstruction"]);t!==void 0&&v!=null&&w(t,["setup","systemInstruction"],ZB(r,zi(r,v)));const x=b(e,["tools"]);if(t!==void 0&&x!=null){let M=fb(r,x);Array.isArray(M)&&(M=M.map(O=>g7(r,hb(r,O)))),w(t,["setup","tools"],M)}const T=b(e,["sessionResumption"]);t!==void 0&&T!=null&&w(t,["setup","sessionResumption"],y7(r,T));const D=b(e,["inputAudioTranscription"]);t!==void 0&&D!=null&&w(t,["setup","inputAudioTranscription"],Dk());const E=b(e,["outputAudioTranscription"]);t!==void 0&&E!=null&&w(t,["setup","outputAudioTranscription"],Dk());const C=b(e,["realtimeInputConfig"]);t!==void 0&&C!=null&&w(t,["setup","realtimeInputConfig"],_7(r,C));const R=b(e,["contextWindowCompression"]);t!==void 0&&R!=null&&w(t,["setup","contextWindowCompression"],A7(r,R));const U=b(e,["proactivity"]);return t!==void 0&&U!=null&&w(t,["setup","proactivity"],C7(r,U)),n}function k7(r,e,t){const n={},i=b(e,["generationConfig"]);t!==void 0&&i!=null&&w(t,["setup","generationConfig"],i);const s=b(e,["responseModalities"]);t!==void 0&&s!=null&&w(t,["setup","generationConfig","responseModalities"],s);const a=b(e,["temperature"]);t!==void 0&&a!=null&&w(t,["setup","generationConfig","temperature"],a);const l=b(e,["topP"]);t!==void 0&&l!=null&&w(t,["setup","generationConfig","topP"],l);const u=b(e,["topK"]);t!==void 0&&u!=null&&w(t,["setup","generationConfig","topK"],u);const d=b(e,["maxOutputTokens"]);t!==void 0&&d!=null&&w(t,["setup","generationConfig","maxOutputTokens"],d);const h=b(e,["mediaResolution"]);t!==void 0&&h!=null&&w(t,["setup","generationConfig","mediaResolution"],h);const p=b(e,["seed"]);t!==void 0&&p!=null&&w(t,["setup","generationConfig","seed"],p);const g=b(e,["speechConfig"]);t!==void 0&&g!=null&&w(t,["setup","generationConfig","speechConfig"],jB(r,I5(r,g)));const y=b(e,["enableAffectiveDialog"]);t!==void 0&&y!=null&&w(t,["setup","generationConfig","enableAffectiveDialog"],y);const v=b(e,["systemInstruction"]);t!==void 0&&v!=null&&w(t,["setup","systemInstruction"],JB(r,zi(r,v)));const x=b(e,["tools"]);if(t!==void 0&&x!=null){let M=fb(r,x);Array.isArray(M)&&(M=M.map(O=>m7(r,hb(r,O)))),w(t,["setup","tools"],M)}const T=b(e,["sessionResumption"]);t!==void 0&&T!=null&&w(t,["setup","sessionResumption"],v7(r,T));const D=b(e,["inputAudioTranscription"]);t!==void 0&&D!=null&&w(t,["setup","inputAudioTranscription"],Ak());const E=b(e,["outputAudioTranscription"]);t!==void 0&&E!=null&&w(t,["setup","outputAudioTranscription"],Ak());const C=b(e,["realtimeInputConfig"]);t!==void 0&&C!=null&&w(t,["setup","realtimeInputConfig"],w7(r,C));const R=b(e,["contextWindowCompression"]);t!==void 0&&R!=null&&w(t,["setup","contextWindowCompression"],E7(r,R));const U=b(e,["proactivity"]);return t!==void 0&&U!=null&&w(t,["setup","proactivity"],S7(r,U)),n}function R7(r,e){const t={},n=b(e,["model"]);n!=null&&w(t,["setup","model"],ln(r,n));const i=b(e,["config"]);return i!=null&&w(t,["config"],U7(r,i,t)),t}function N7(r,e){const t={},n=b(e,["model"]);n!=null&&w(t,["setup","model"],ln(r,n));const i=b(e,["config"]);return i!=null&&w(t,["config"],k7(r,i,t)),t}function M7(){return{}}function I7(){return{}}function F7(){return{}}function L7(){return{}}function O7(r,e){const t={},n=b(e,["media"]);n!=null&&w(t,["mediaChunks"],k5(r,n));const i=b(e,["audio"]);i!=null&&w(t,["audio"],h9(r,i));const s=b(e,["audioStreamEnd"]);s!=null&&w(t,["audioStreamEnd"],s);const a=b(e,["video"]);a!=null&&w(t,["video"],d9(r,a));const l=b(e,["text"]);return l!=null&&w(t,["text"],l),b(e,["activityStart"])!=null&&w(t,["activityStart"],M7()),b(e,["activityEnd"])!=null&&w(t,["activityEnd"],F7()),t}function P7(r,e){const t={},n=b(e,["media"]);if(n!=null&&w(t,["mediaChunks"],k5(r,n)),b(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const i=b(e,["audioStreamEnd"]);if(i!=null&&w(t,["audioStreamEnd"],i),b(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(b(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return b(e,["activityStart"])!=null&&w(t,["activityStart"],I7()),b(e,["activityEnd"])!=null&&w(t,["activityEnd"],L7()),t}function q5(r,e){const t={},n=b(e,["text"]);n!=null&&w(t,["text"],n);const i=b(e,["weight"]);return i!=null&&w(t,["weight"],i),t}function B7(r,e){const t={},n=b(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>q5(r,s))),w(t,["weightedPrompts"],i)}return t}function W5(r,e){const t={},n=b(e,["temperature"]);n!=null&&w(t,["temperature"],n);const i=b(e,["topK"]);i!=null&&w(t,["topK"],i);const s=b(e,["seed"]);s!=null&&w(t,["seed"],s);const a=b(e,["guidance"]);a!=null&&w(t,["guidance"],a);const l=b(e,["bpm"]);l!=null&&w(t,["bpm"],l);const u=b(e,["density"]);u!=null&&w(t,["density"],u);const d=b(e,["brightness"]);d!=null&&w(t,["brightness"],d);const h=b(e,["scale"]);h!=null&&w(t,["scale"],h);const p=b(e,["muteBass"]);p!=null&&w(t,["muteBass"],p);const g=b(e,["muteDrums"]);g!=null&&w(t,["muteDrums"],g);const y=b(e,["onlyBassAndDrums"]);y!=null&&w(t,["onlyBassAndDrums"],y);const v=b(e,["musicGenerationMode"]);return v!=null&&w(t,["musicGenerationMode"],v),t}function z7(r,e){const t={},n=b(e,["musicGenerationConfig"]);return n!=null&&w(t,["musicGenerationConfig"],W5(r,n)),t}function j5(r,e){const t={},n=b(e,["model"]);return n!=null&&w(t,["model"],n),t}function V5(r,e){const t={},n=b(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>q5(r,s))),w(t,["weightedPrompts"],i)}return t}function tw(r,e){const t={},n=b(e,["setup"]);n!=null&&w(t,["setup"],j5(r,n));const i=b(e,["clientContent"]);i!=null&&w(t,["clientContent"],V5(r,i));const s=b(e,["musicGenerationConfig"]);s!=null&&w(t,["musicGenerationConfig"],W5(r,s));const a=b(e,["playbackControl"]);return a!=null&&w(t,["playbackControl"],a),t}function q7(){return{}}function W7(){return{}}function j7(r,e){const t={},n=b(e,["fps"]);n!=null&&w(t,["fps"],n);const i=b(e,["endOffset"]);i!=null&&w(t,["endOffset"],i);const s=b(e,["startOffset"]);return s!=null&&w(t,["startOffset"],s),t}function V7(r,e){const t={},n=b(e,["fps"]);n!=null&&w(t,["fps"],n);const i=b(e,["endOffset"]);i!=null&&w(t,["endOffset"],i);const s=b(e,["startOffset"]);return s!=null&&w(t,["startOffset"],s),t}function H7(r,e){const t={},n=b(e,["data"]);n!=null&&w(t,["data"],n);const i=b(e,["mimeType"]);return i!=null&&w(t,["mimeType"],i),t}function G7(r,e){const t={},n=b(e,["displayName"]);n!=null&&w(t,["displayName"],n);const i=b(e,["data"]);i!=null&&w(t,["data"],i);const s=b(e,["mimeType"]);return s!=null&&w(t,["mimeType"],s),t}function $7(r,e){const t={},n=b(e,["fileUri"]);n!=null&&w(t,["fileUri"],n);const i=b(e,["mimeType"]);return i!=null&&w(t,["mimeType"],i),t}function X7(r,e){const t={},n=b(e,["displayName"]);n!=null&&w(t,["displayName"],n);const i=b(e,["fileUri"]);i!=null&&w(t,["fileUri"],i);const s=b(e,["mimeType"]);return s!=null&&w(t,["mimeType"],s),t}function Q7(r,e){const t={},n=b(e,["videoMetadata"]);n!=null&&w(t,["videoMetadata"],j7(r,n));const i=b(e,["thought"]);i!=null&&w(t,["thought"],i);const s=b(e,["inlineData"]);s!=null&&w(t,["inlineData"],H7(r,s));const a=b(e,["fileData"]);a!=null&&w(t,["fileData"],$7(r,a));const l=b(e,["codeExecutionResult"]);l!=null&&w(t,["codeExecutionResult"],l);const u=b(e,["executableCode"]);u!=null&&w(t,["executableCode"],u);const d=b(e,["functionCall"]);d!=null&&w(t,["functionCall"],d);const h=b(e,["functionResponse"]);h!=null&&w(t,["functionResponse"],h);const p=b(e,["text"]);return p!=null&&w(t,["text"],p),t}function Y7(r,e){const t={},n=b(e,["videoMetadata"]);n!=null&&w(t,["videoMetadata"],V7(r,n));const i=b(e,["thought"]);i!=null&&w(t,["thought"],i);const s=b(e,["inlineData"]);s!=null&&w(t,["inlineData"],G7(r,s));const a=b(e,["fileData"]);a!=null&&w(t,["fileData"],X7(r,a));const l=b(e,["codeExecutionResult"]);l!=null&&w(t,["codeExecutionResult"],l);const u=b(e,["executableCode"]);u!=null&&w(t,["executableCode"],u);const d=b(e,["functionCall"]);d!=null&&w(t,["functionCall"],d);const h=b(e,["functionResponse"]);h!=null&&w(t,["functionResponse"],h);const p=b(e,["text"]);return p!=null&&w(t,["text"],p),t}function K7(r,e){const t={},n=b(e,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Q7(r,a))),w(t,["parts"],s)}const i=b(e,["role"]);return i!=null&&w(t,["role"],i),t}function Z7(r,e){const t={},n=b(e,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Y7(r,a))),w(t,["parts"],s)}const i=b(e,["role"]);return i!=null&&w(t,["role"],i),t}function Ek(r,e){const t={},n=b(e,["text"]);n!=null&&w(t,["text"],n);const i=b(e,["finished"]);return i!=null&&w(t,["finished"],i),t}function Ck(r,e){const t={},n=b(e,["text"]);n!=null&&w(t,["text"],n);const i=b(e,["finished"]);return i!=null&&w(t,["finished"],i),t}function J7(r,e){const t={},n=b(e,["retrievedUrl"]);n!=null&&w(t,["retrievedUrl"],n);const i=b(e,["urlRetrievalStatus"]);return i!=null&&w(t,["urlRetrievalStatus"],i),t}function ez(r,e){const t={},n=b(e,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>J7(r,s))),w(t,["urlMetadata"],i)}return t}function tz(r,e){const t={},n=b(e,["modelTurn"]);n!=null&&w(t,["modelTurn"],K7(r,n));const i=b(e,["turnComplete"]);i!=null&&w(t,["turnComplete"],i);const s=b(e,["interrupted"]);s!=null&&w(t,["interrupted"],s);const a=b(e,["groundingMetadata"]);a!=null&&w(t,["groundingMetadata"],a);const l=b(e,["generationComplete"]);l!=null&&w(t,["generationComplete"],l);const u=b(e,["inputTranscription"]);u!=null&&w(t,["inputTranscription"],Ek(r,u));const d=b(e,["outputTranscription"]);d!=null&&w(t,["outputTranscription"],Ek(r,d));const h=b(e,["urlContextMetadata"]);return h!=null&&w(t,["urlContextMetadata"],ez(r,h)),t}function nz(r,e){const t={},n=b(e,["modelTurn"]);n!=null&&w(t,["modelTurn"],Z7(r,n));const i=b(e,["turnComplete"]);i!=null&&w(t,["turnComplete"],i);const s=b(e,["interrupted"]);s!=null&&w(t,["interrupted"],s);const a=b(e,["groundingMetadata"]);a!=null&&w(t,["groundingMetadata"],a);const l=b(e,["generationComplete"]);l!=null&&w(t,["generationComplete"],l);const u=b(e,["inputTranscription"]);u!=null&&w(t,["inputTranscription"],Ck(r,u));const d=b(e,["outputTranscription"]);return d!=null&&w(t,["outputTranscription"],Ck(r,d)),t}function iz(r,e){const t={},n=b(e,["id"]);n!=null&&w(t,["id"],n);const i=b(e,["args"]);i!=null&&w(t,["args"],i);const s=b(e,["name"]);return s!=null&&w(t,["name"],s),t}function rz(r,e){const t={},n=b(e,["args"]);n!=null&&w(t,["args"],n);const i=b(e,["name"]);return i!=null&&w(t,["name"],i),t}function sz(r,e){const t={},n=b(e,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>iz(r,s))),w(t,["functionCalls"],i)}return t}function az(r,e){const t={},n=b(e,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>rz(r,s))),w(t,["functionCalls"],i)}return t}function oz(r,e){const t={},n=b(e,["ids"]);return n!=null&&w(t,["ids"],n),t}function lz(r,e){const t={},n=b(e,["ids"]);return n!=null&&w(t,["ids"],n),t}function $y(r,e){const t={},n=b(e,["modality"]);n!=null&&w(t,["modality"],n);const i=b(e,["tokenCount"]);return i!=null&&w(t,["tokenCount"],i),t}function Xy(r,e){const t={},n=b(e,["modality"]);n!=null&&w(t,["modality"],n);const i=b(e,["tokenCount"]);return i!=null&&w(t,["tokenCount"],i),t}function cz(r,e){const t={},n=b(e,["promptTokenCount"]);n!=null&&w(t,["promptTokenCount"],n);const i=b(e,["cachedContentTokenCount"]);i!=null&&w(t,["cachedContentTokenCount"],i);const s=b(e,["responseTokenCount"]);s!=null&&w(t,["responseTokenCount"],s);const a=b(e,["toolUsePromptTokenCount"]);a!=null&&w(t,["toolUsePromptTokenCount"],a);const l=b(e,["thoughtsTokenCount"]);l!=null&&w(t,["thoughtsTokenCount"],l);const u=b(e,["totalTokenCount"]);u!=null&&w(t,["totalTokenCount"],u);const d=b(e,["promptTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(v=>$y(r,v))),w(t,["promptTokensDetails"],y)}const h=b(e,["cacheTokensDetails"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(v=>$y(r,v))),w(t,["cacheTokensDetails"],y)}const p=b(e,["responseTokensDetails"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(v=>$y(r,v))),w(t,["responseTokensDetails"],y)}const g=b(e,["toolUsePromptTokensDetails"]);if(g!=null){let y=g;Array.isArray(y)&&(y=y.map(v=>$y(r,v))),w(t,["toolUsePromptTokensDetails"],y)}return t}function uz(r,e){const t={},n=b(e,["promptTokenCount"]);n!=null&&w(t,["promptTokenCount"],n);const i=b(e,["cachedContentTokenCount"]);i!=null&&w(t,["cachedContentTokenCount"],i);const s=b(e,["candidatesTokenCount"]);s!=null&&w(t,["responseTokenCount"],s);const a=b(e,["toolUsePromptTokenCount"]);a!=null&&w(t,["toolUsePromptTokenCount"],a);const l=b(e,["thoughtsTokenCount"]);l!=null&&w(t,["thoughtsTokenCount"],l);const u=b(e,["totalTokenCount"]);u!=null&&w(t,["totalTokenCount"],u);const d=b(e,["promptTokensDetails"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(x=>Xy(r,x))),w(t,["promptTokensDetails"],v)}const h=b(e,["cacheTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(x=>Xy(r,x))),w(t,["cacheTokensDetails"],v)}const p=b(e,["candidatesTokensDetails"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(x=>Xy(r,x))),w(t,["responseTokensDetails"],v)}const g=b(e,["toolUsePromptTokensDetails"]);if(g!=null){let v=g;Array.isArray(v)&&(v=v.map(x=>Xy(r,x))),w(t,["toolUsePromptTokensDetails"],v)}const y=b(e,["trafficType"]);return y!=null&&w(t,["trafficType"],y),t}function dz(r,e){const t={},n=b(e,["timeLeft"]);return n!=null&&w(t,["timeLeft"],n),t}function hz(r,e){const t={},n=b(e,["timeLeft"]);return n!=null&&w(t,["timeLeft"],n),t}function fz(r,e){const t={},n=b(e,["newHandle"]);n!=null&&w(t,["newHandle"],n);const i=b(e,["resumable"]);i!=null&&w(t,["resumable"],i);const s=b(e,["lastConsumedClientMessageIndex"]);return s!=null&&w(t,["lastConsumedClientMessageIndex"],s),t}function pz(r,e){const t={},n=b(e,["newHandle"]);n!=null&&w(t,["newHandle"],n);const i=b(e,["resumable"]);i!=null&&w(t,["resumable"],i);const s=b(e,["lastConsumedClientMessageIndex"]);return s!=null&&w(t,["lastConsumedClientMessageIndex"],s),t}function gz(r,e){const t={};b(e,["setupComplete"])!=null&&w(t,["setupComplete"],q7());const i=b(e,["serverContent"]);i!=null&&w(t,["serverContent"],tz(r,i));const s=b(e,["toolCall"]);s!=null&&w(t,["toolCall"],sz(r,s));const a=b(e,["toolCallCancellation"]);a!=null&&w(t,["toolCallCancellation"],oz(r,a));const l=b(e,["usageMetadata"]);l!=null&&w(t,["usageMetadata"],cz(r,l));const u=b(e,["goAway"]);u!=null&&w(t,["goAway"],dz(r,u));const d=b(e,["sessionResumptionUpdate"]);return d!=null&&w(t,["sessionResumptionUpdate"],fz(r,d)),t}function mz(r,e){const t={};b(e,["setupComplete"])!=null&&w(t,["setupComplete"],W7());const i=b(e,["serverContent"]);i!=null&&w(t,["serverContent"],nz(r,i));const s=b(e,["toolCall"]);s!=null&&w(t,["toolCall"],az(r,s));const a=b(e,["toolCallCancellation"]);a!=null&&w(t,["toolCallCancellation"],lz(r,a));const l=b(e,["usageMetadata"]);l!=null&&w(t,["usageMetadata"],uz(r,l));const u=b(e,["goAway"]);u!=null&&w(t,["goAway"],hz(r,u));const d=b(e,["sessionResumptionUpdate"]);return d!=null&&w(t,["sessionResumptionUpdate"],pz(r,d)),t}function yz(){return{}}function vz(r,e){const t={},n=b(e,["text"]);n!=null&&w(t,["text"],n);const i=b(e,["weight"]);return i!=null&&w(t,["weight"],i),t}function bz(r,e){const t={},n=b(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>vz(r,s))),w(t,["weightedPrompts"],i)}return t}function xz(r,e){const t={},n=b(e,["temperature"]);n!=null&&w(t,["temperature"],n);const i=b(e,["topK"]);i!=null&&w(t,["topK"],i);const s=b(e,["seed"]);s!=null&&w(t,["seed"],s);const a=b(e,["guidance"]);a!=null&&w(t,["guidance"],a);const l=b(e,["bpm"]);l!=null&&w(t,["bpm"],l);const u=b(e,["density"]);u!=null&&w(t,["density"],u);const d=b(e,["brightness"]);d!=null&&w(t,["brightness"],d);const h=b(e,["scale"]);h!=null&&w(t,["scale"],h);const p=b(e,["muteBass"]);p!=null&&w(t,["muteBass"],p);const g=b(e,["muteDrums"]);g!=null&&w(t,["muteDrums"],g);const y=b(e,["onlyBassAndDrums"]);y!=null&&w(t,["onlyBassAndDrums"],y);const v=b(e,["musicGenerationMode"]);return v!=null&&w(t,["musicGenerationMode"],v),t}function _z(r,e){const t={},n=b(e,["clientContent"]);n!=null&&w(t,["clientContent"],bz(r,n));const i=b(e,["musicGenerationConfig"]);return i!=null&&w(t,["musicGenerationConfig"],xz(r,i)),t}function wz(r,e){const t={},n=b(e,["data"]);n!=null&&w(t,["data"],n);const i=b(e,["mimeType"]);i!=null&&w(t,["mimeType"],i);const s=b(e,["sourceMetadata"]);return s!=null&&w(t,["sourceMetadata"],_z(r,s)),t}function Tz(r,e){const t={},n=b(e,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>wz(r,s))),w(t,["audioChunks"],i)}return t}function Dz(r,e){const t={},n=b(e,["text"]);n!=null&&w(t,["text"],n);const i=b(e,["filteredReason"]);return i!=null&&w(t,["filteredReason"],i),t}function Az(r,e){const t={};b(e,["setupComplete"])!=null&&w(t,["setupComplete"],yz());const i=b(e,["serverContent"]);i!=null&&w(t,["serverContent"],Tz(r,i));const s=b(e,["filteredPrompt"]);return s!=null&&w(t,["filteredPrompt"],Dz(r,s)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ez(r,e){const t={},n=b(e,["fps"]);n!=null&&w(t,["fps"],n);const i=b(e,["endOffset"]);i!=null&&w(t,["endOffset"],i);const s=b(e,["startOffset"]);return s!=null&&w(t,["startOffset"],s),t}function Cz(r,e){const t={};if(b(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(e,["data"]);n!=null&&w(t,["data"],n);const i=b(e,["mimeType"]);return i!=null&&w(t,["mimeType"],i),t}function Sz(r,e){const t={};if(b(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(e,["fileUri"]);n!=null&&w(t,["fileUri"],n);const i=b(e,["mimeType"]);return i!=null&&w(t,["mimeType"],i),t}function Uz(r,e){const t={},n=b(e,["videoMetadata"]);n!=null&&w(t,["videoMetadata"],Ez(r,n));const i=b(e,["thought"]);i!=null&&w(t,["thought"],i);const s=b(e,["inlineData"]);s!=null&&w(t,["inlineData"],Cz(r,s));const a=b(e,["fileData"]);a!=null&&w(t,["fileData"],Sz(r,a));const l=b(e,["codeExecutionResult"]);l!=null&&w(t,["codeExecutionResult"],l);const u=b(e,["executableCode"]);u!=null&&w(t,["executableCode"],u);const d=b(e,["functionCall"]);d!=null&&w(t,["functionCall"],d);const h=b(e,["functionResponse"]);h!=null&&w(t,["functionResponse"],h);const p=b(e,["text"]);return p!=null&&w(t,["text"],p),t}function gb(r,e){const t={},n=b(e,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Uz(r,a))),w(t,["parts"],s)}const i=b(e,["role"]);return i!=null&&w(t,["role"],i),t}function kz(r,e){const t={},n=b(e,["anyOf"]);n!=null&&w(t,["anyOf"],n);const i=b(e,["default"]);i!=null&&w(t,["default"],i);const s=b(e,["description"]);s!=null&&w(t,["description"],s);const a=b(e,["enum"]);a!=null&&w(t,["enum"],a);const l=b(e,["example"]);l!=null&&w(t,["example"],l);const u=b(e,["format"]);u!=null&&w(t,["format"],u);const d=b(e,["items"]);d!=null&&w(t,["items"],d);const h=b(e,["maxItems"]);h!=null&&w(t,["maxItems"],h);const p=b(e,["maxLength"]);p!=null&&w(t,["maxLength"],p);const g=b(e,["maxProperties"]);g!=null&&w(t,["maxProperties"],g);const y=b(e,["maximum"]);y!=null&&w(t,["maximum"],y);const v=b(e,["minItems"]);v!=null&&w(t,["minItems"],v);const x=b(e,["minLength"]);x!=null&&w(t,["minLength"],x);const T=b(e,["minProperties"]);T!=null&&w(t,["minProperties"],T);const D=b(e,["minimum"]);D!=null&&w(t,["minimum"],D);const E=b(e,["nullable"]);E!=null&&w(t,["nullable"],E);const C=b(e,["pattern"]);C!=null&&w(t,["pattern"],C);const R=b(e,["properties"]);R!=null&&w(t,["properties"],R);const U=b(e,["propertyOrdering"]);U!=null&&w(t,["propertyOrdering"],U);const M=b(e,["required"]);M!=null&&w(t,["required"],M);const O=b(e,["title"]);O!=null&&w(t,["title"],O);const W=b(e,["type"]);return W!=null&&w(t,["type"],W),t}function Rz(r,e){const t={};if(b(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=b(e,["category"]);n!=null&&w(t,["category"],n);const i=b(e,["threshold"]);return i!=null&&w(t,["threshold"],i),t}function Nz(r,e){const t={},n=b(e,["behavior"]);n!=null&&w(t,["behavior"],n);const i=b(e,["description"]);i!=null&&w(t,["description"],i);const s=b(e,["name"]);s!=null&&w(t,["name"],s);const a=b(e,["parameters"]);a!=null&&w(t,["parameters"],a);const l=b(e,["response"]);return l!=null&&w(t,["response"],l),t}function Mz(r,e){const t={},n=b(e,["startTime"]);n!=null&&w(t,["startTime"],n);const i=b(e,["endTime"]);return i!=null&&w(t,["endTime"],i),t}function Iz(r,e){const t={},n=b(e,["timeRangeFilter"]);return n!=null&&w(t,["timeRangeFilter"],Mz(r,n)),t}function Fz(r,e){const t={},n=b(e,["mode"]);n!=null&&w(t,["mode"],n);const i=b(e,["dynamicThreshold"]);return i!=null&&w(t,["dynamicThreshold"],i),t}function Lz(r,e){const t={},n=b(e,["dynamicRetrievalConfig"]);return n!=null&&w(t,["dynamicRetrievalConfig"],Fz(r,n)),t}function Oz(){return{}}function Pz(r,e){const t={},n=b(e,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>Nz(r,d))),w(t,["functionDeclarations"],u)}if(b(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=b(e,["googleSearch"]);i!=null&&w(t,["googleSearch"],Iz(r,i));const s=b(e,["googleSearchRetrieval"]);if(s!=null&&w(t,["googleSearchRetrieval"],Lz(r,s)),b(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(b(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");b(e,["urlContext"])!=null&&w(t,["urlContext"],Oz());const l=b(e,["codeExecution"]);return l!=null&&w(t,["codeExecution"],l),t}function Bz(r,e){const t={},n=b(e,["mode"]);n!=null&&w(t,["mode"],n);const i=b(e,["allowedFunctionNames"]);return i!=null&&w(t,["allowedFunctionNames"],i),t}function zz(r,e){const t={},n=b(e,["latitude"]);n!=null&&w(t,["latitude"],n);const i=b(e,["longitude"]);return i!=null&&w(t,["longitude"],i),t}function qz(r,e){const t={},n=b(e,["latLng"]);n!=null&&w(t,["latLng"],zz(r,n));const i=b(e,["languageCode"]);return i!=null&&w(t,["languageCode"],i),t}function Wz(r,e){const t={},n=b(e,["functionCallingConfig"]);n!=null&&w(t,["functionCallingConfig"],Bz(r,n));const i=b(e,["retrievalConfig"]);return i!=null&&w(t,["retrievalConfig"],qz(r,i)),t}function jz(r,e){const t={},n=b(e,["voiceName"]);return n!=null&&w(t,["voiceName"],n),t}function H5(r,e){const t={},n=b(e,["prebuiltVoiceConfig"]);return n!=null&&w(t,["prebuiltVoiceConfig"],jz(r,n)),t}function Vz(r,e){const t={},n=b(e,["speaker"]);n!=null&&w(t,["speaker"],n);const i=b(e,["voiceConfig"]);return i!=null&&w(t,["voiceConfig"],H5(r,i)),t}function Hz(r,e){const t={},n=b(e,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Vz(r,s))),w(t,["speakerVoiceConfigs"],i)}return t}function Gz(r,e){const t={},n=b(e,["voiceConfig"]);n!=null&&w(t,["voiceConfig"],H5(r,n));const i=b(e,["multiSpeakerVoiceConfig"]);i!=null&&w(t,["multiSpeakerVoiceConfig"],Hz(r,i));const s=b(e,["languageCode"]);return s!=null&&w(t,["languageCode"],s),t}function $z(r,e){const t={},n=b(e,["includeThoughts"]);n!=null&&w(t,["includeThoughts"],n);const i=b(e,["thinkingBudget"]);return i!=null&&w(t,["thinkingBudget"],i),t}function Xz(r,e,t){const n={},i=b(e,["systemInstruction"]);t!==void 0&&i!=null&&w(t,["systemInstruction"],gb(r,zi(r,i)));const s=b(e,["temperature"]);s!=null&&w(n,["temperature"],s);const a=b(e,["topP"]);a!=null&&w(n,["topP"],a);const l=b(e,["topK"]);l!=null&&w(n,["topK"],l);const u=b(e,["candidateCount"]);u!=null&&w(n,["candidateCount"],u);const d=b(e,["maxOutputTokens"]);d!=null&&w(n,["maxOutputTokens"],d);const h=b(e,["stopSequences"]);h!=null&&w(n,["stopSequences"],h);const p=b(e,["responseLogprobs"]);p!=null&&w(n,["responseLogprobs"],p);const g=b(e,["logprobs"]);g!=null&&w(n,["logprobs"],g);const y=b(e,["presencePenalty"]);y!=null&&w(n,["presencePenalty"],y);const v=b(e,["frequencyPenalty"]);v!=null&&w(n,["frequencyPenalty"],v);const x=b(e,["seed"]);x!=null&&w(n,["seed"],x);const T=b(e,["responseMimeType"]);T!=null&&w(n,["responseMimeType"],T);const D=b(e,["responseSchema"]);if(D!=null&&w(n,["responseSchema"],kz(r,k0(r,D))),b(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(b(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=b(e,["safetySettings"]);if(t!==void 0&&E!=null){let H=E;Array.isArray(H)&&(H=H.map(ne=>Rz(r,ne))),w(t,["safetySettings"],H)}const C=b(e,["tools"]);if(t!==void 0&&C!=null){let H=fb(r,C);Array.isArray(H)&&(H=H.map(ne=>Pz(r,hb(r,ne)))),w(t,["tools"],H)}const R=b(e,["toolConfig"]);if(t!==void 0&&R!=null&&w(t,["toolConfig"],Wz(r,R)),b(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=b(e,["cachedContent"]);t!==void 0&&U!=null&&w(t,["cachedContent"],vl(r,U));const M=b(e,["responseModalities"]);M!=null&&w(n,["responseModalities"],M);const O=b(e,["mediaResolution"]);O!=null&&w(n,["mediaResolution"],O);const W=b(e,["speechConfig"]);if(W!=null&&w(n,["speechConfig"],Gz(r,M5(r,W))),b(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const L=b(e,["thinkingConfig"]);return L!=null&&w(n,["thinkingConfig"],$z(r,L)),n}function Sk(r,e){const t={},n=b(e,["model"]);n!=null&&w(t,["_url","model"],ln(r,n));const i=b(e,["contents"]);if(i!=null){let a=fs(r,i);Array.isArray(a)&&(a=a.map(l=>gb(r,l))),w(t,["contents"],a)}const s=b(e,["config"]);return s!=null&&w(t,["generationConfig"],Xz(r,s,t)),t}function Qz(r,e,t){const n={},i=b(e,["taskType"]);t!==void 0&&i!=null&&w(t,["requests[]","taskType"],i);const s=b(e,["title"]);t!==void 0&&s!=null&&w(t,["requests[]","title"],s);const a=b(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&w(t,["requests[]","outputDimensionality"],a),b(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(b(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Yz(r,e){const t={},n=b(e,["model"]);n!=null&&w(t,["_url","model"],ln(r,n));const i=b(e,["contents"]);i!=null&&w(t,["requests[]","content"],N5(r,i));const s=b(e,["config"]);s!=null&&w(t,["config"],Qz(r,s,t));const a=b(e,["model"]);return a!==void 0&&w(t,["requests[]","model"],ln(r,a)),t}function Kz(r,e,t){const n={};if(b(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(b(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=b(e,["numberOfImages"]);t!==void 0&&i!=null&&w(t,["parameters","sampleCount"],i);const s=b(e,["aspectRatio"]);t!==void 0&&s!=null&&w(t,["parameters","aspectRatio"],s);const a=b(e,["guidanceScale"]);if(t!==void 0&&a!=null&&w(t,["parameters","guidanceScale"],a),b(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=b(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&w(t,["parameters","safetySetting"],l);const u=b(e,["personGeneration"]);t!==void 0&&u!=null&&w(t,["parameters","personGeneration"],u);const d=b(e,["includeSafetyAttributes"]);t!==void 0&&d!=null&&w(t,["parameters","includeSafetyAttributes"],d);const h=b(e,["includeRaiReason"]);t!==void 0&&h!=null&&w(t,["parameters","includeRaiReason"],h);const p=b(e,["language"]);t!==void 0&&p!=null&&w(t,["parameters","language"],p);const g=b(e,["outputMimeType"]);t!==void 0&&g!=null&&w(t,["parameters","outputOptions","mimeType"],g);const y=b(e,["outputCompressionQuality"]);if(t!==void 0&&y!=null&&w(t,["parameters","outputOptions","compressionQuality"],y),b(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(b(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Zz(r,e){const t={},n=b(e,["model"]);n!=null&&w(t,["_url","model"],ln(r,n));const i=b(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=b(e,["config"]);return s!=null&&w(t,["config"],Kz(r,s,t)),t}function Jz(r,e){const t={},n=b(e,["model"]);n!=null&&w(t,["_url","name"],ln(r,n));const i=b(e,["config"]);return i!=null&&w(t,["config"],i),t}function eq(r,e,t){const n={},i=b(e,["pageSize"]);t!==void 0&&i!=null&&w(t,["_query","pageSize"],i);const s=b(e,["pageToken"]);t!==void 0&&s!=null&&w(t,["_query","pageToken"],s);const a=b(e,["filter"]);t!==void 0&&a!=null&&w(t,["_query","filter"],a);const l=b(e,["queryBase"]);return t!==void 0&&l!=null&&w(t,["_url","models_url"],O5(r,l)),n}function tq(r,e){const t={},n=b(e,["config"]);return n!=null&&w(t,["config"],eq(r,n,t)),t}function nq(r,e,t){const n={},i=b(e,["displayName"]);t!==void 0&&i!=null&&w(t,["displayName"],i);const s=b(e,["description"]);t!==void 0&&s!=null&&w(t,["description"],s);const a=b(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&w(t,["defaultCheckpointId"],a),n}function iq(r,e){const t={},n=b(e,["model"]);n!=null&&w(t,["_url","name"],ln(r,n));const i=b(e,["config"]);return i!=null&&w(t,["config"],nq(r,i,t)),t}function rq(r,e){const t={},n=b(e,["model"]);n!=null&&w(t,["_url","name"],ln(r,n));const i=b(e,["config"]);return i!=null&&w(t,["config"],i),t}function sq(r,e){const t={};if(b(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(b(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(b(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function aq(r,e){const t={},n=b(e,["model"]);n!=null&&w(t,["_url","model"],ln(r,n));const i=b(e,["contents"]);if(i!=null){let a=fs(r,i);Array.isArray(a)&&(a=a.map(l=>gb(r,l))),w(t,["contents"],a)}const s=b(e,["config"]);return s!=null&&w(t,["config"],sq(r,s)),t}function oq(r,e){const t={};if(b(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=b(e,["imageBytes"]);n!=null&&w(t,["bytesBase64Encoded"],bl(r,n));const i=b(e,["mimeType"]);return i!=null&&w(t,["mimeType"],i),t}function lq(r,e,t){const n={},i=b(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&w(t,["parameters","sampleCount"],i),b(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(b(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=b(e,["durationSeconds"]);if(t!==void 0&&s!=null&&w(t,["parameters","durationSeconds"],s),b(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=b(e,["aspectRatio"]);if(t!==void 0&&a!=null&&w(t,["parameters","aspectRatio"],a),b(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const l=b(e,["personGeneration"]);if(t!==void 0&&l!=null&&w(t,["parameters","personGeneration"],l),b(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=b(e,["negativePrompt"]);if(t!==void 0&&u!=null&&w(t,["parameters","negativePrompt"],u),b(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function cq(r,e){const t={},n=b(e,["model"]);n!=null&&w(t,["_url","model"],ln(r,n));const i=b(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=b(e,["image"]);s!=null&&w(t,["instances[0]","image"],oq(r,s));const a=b(e,["config"]);return a!=null&&w(t,["config"],lq(r,a,t)),t}function uq(r,e){const t={},n=b(e,["fps"]);n!=null&&w(t,["fps"],n);const i=b(e,["endOffset"]);i!=null&&w(t,["endOffset"],i);const s=b(e,["startOffset"]);return s!=null&&w(t,["startOffset"],s),t}function dq(r,e){const t={},n=b(e,["displayName"]);n!=null&&w(t,["displayName"],n);const i=b(e,["data"]);i!=null&&w(t,["data"],i);const s=b(e,["mimeType"]);return s!=null&&w(t,["mimeType"],s),t}function hq(r,e){const t={},n=b(e,["displayName"]);n!=null&&w(t,["displayName"],n);const i=b(e,["fileUri"]);i!=null&&w(t,["fileUri"],i);const s=b(e,["mimeType"]);return s!=null&&w(t,["mimeType"],s),t}function fq(r,e){const t={},n=b(e,["videoMetadata"]);n!=null&&w(t,["videoMetadata"],uq(r,n));const i=b(e,["thought"]);i!=null&&w(t,["thought"],i);const s=b(e,["inlineData"]);s!=null&&w(t,["inlineData"],dq(r,s));const a=b(e,["fileData"]);a!=null&&w(t,["fileData"],hq(r,a));const l=b(e,["codeExecutionResult"]);l!=null&&w(t,["codeExecutionResult"],l);const u=b(e,["executableCode"]);u!=null&&w(t,["executableCode"],u);const d=b(e,["functionCall"]);d!=null&&w(t,["functionCall"],d);const h=b(e,["functionResponse"]);h!=null&&w(t,["functionResponse"],h);const p=b(e,["text"]);return p!=null&&w(t,["text"],p),t}function Ph(r,e){const t={},n=b(e,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>fq(r,a))),w(t,["parts"],s)}const i=b(e,["role"]);return i!=null&&w(t,["role"],i),t}function pq(r,e){const t={},n=b(e,["anyOf"]);n!=null&&w(t,["anyOf"],n);const i=b(e,["default"]);i!=null&&w(t,["default"],i);const s=b(e,["description"]);s!=null&&w(t,["description"],s);const a=b(e,["enum"]);a!=null&&w(t,["enum"],a);const l=b(e,["example"]);l!=null&&w(t,["example"],l);const u=b(e,["format"]);u!=null&&w(t,["format"],u);const d=b(e,["items"]);d!=null&&w(t,["items"],d);const h=b(e,["maxItems"]);h!=null&&w(t,["maxItems"],h);const p=b(e,["maxLength"]);p!=null&&w(t,["maxLength"],p);const g=b(e,["maxProperties"]);g!=null&&w(t,["maxProperties"],g);const y=b(e,["maximum"]);y!=null&&w(t,["maximum"],y);const v=b(e,["minItems"]);v!=null&&w(t,["minItems"],v);const x=b(e,["minLength"]);x!=null&&w(t,["minLength"],x);const T=b(e,["minProperties"]);T!=null&&w(t,["minProperties"],T);const D=b(e,["minimum"]);D!=null&&w(t,["minimum"],D);const E=b(e,["nullable"]);E!=null&&w(t,["nullable"],E);const C=b(e,["pattern"]);C!=null&&w(t,["pattern"],C);const R=b(e,["properties"]);R!=null&&w(t,["properties"],R);const U=b(e,["propertyOrdering"]);U!=null&&w(t,["propertyOrdering"],U);const M=b(e,["required"]);M!=null&&w(t,["required"],M);const O=b(e,["title"]);O!=null&&w(t,["title"],O);const W=b(e,["type"]);return W!=null&&w(t,["type"],W),t}function gq(r,e){const t={},n=b(e,["featureSelectionPreference"]);return n!=null&&w(t,["featureSelectionPreference"],n),t}function mq(r,e){const t={},n=b(e,["method"]);n!=null&&w(t,["method"],n);const i=b(e,["category"]);i!=null&&w(t,["category"],i);const s=b(e,["threshold"]);return s!=null&&w(t,["threshold"],s),t}function yq(r,e){const t={};if(b(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=b(e,["description"]);n!=null&&w(t,["description"],n);const i=b(e,["name"]);i!=null&&w(t,["name"],i);const s=b(e,["parameters"]);s!=null&&w(t,["parameters"],s);const a=b(e,["response"]);return a!=null&&w(t,["response"],a),t}function vq(r,e){const t={},n=b(e,["startTime"]);n!=null&&w(t,["startTime"],n);const i=b(e,["endTime"]);return i!=null&&w(t,["endTime"],i),t}function bq(r,e){const t={},n=b(e,["timeRangeFilter"]);return n!=null&&w(t,["timeRangeFilter"],vq(r,n)),t}function xq(r,e){const t={},n=b(e,["mode"]);n!=null&&w(t,["mode"],n);const i=b(e,["dynamicThreshold"]);return i!=null&&w(t,["dynamicThreshold"],i),t}function _q(r,e){const t={},n=b(e,["dynamicRetrievalConfig"]);return n!=null&&w(t,["dynamicRetrievalConfig"],xq(r,n)),t}function wq(){return{}}function Tq(r,e){const t={},n=b(e,["apiKeyString"]);return n!=null&&w(t,["apiKeyString"],n),t}function Dq(r,e){const t={},n=b(e,["apiKeyConfig"]);n!=null&&w(t,["apiKeyConfig"],Tq(r,n));const i=b(e,["authType"]);i!=null&&w(t,["authType"],i);const s=b(e,["googleServiceAccountConfig"]);s!=null&&w(t,["googleServiceAccountConfig"],s);const a=b(e,["httpBasicAuthConfig"]);a!=null&&w(t,["httpBasicAuthConfig"],a);const l=b(e,["oauthConfig"]);l!=null&&w(t,["oauthConfig"],l);const u=b(e,["oidcConfig"]);return u!=null&&w(t,["oidcConfig"],u),t}function Aq(r,e){const t={},n=b(e,["authConfig"]);return n!=null&&w(t,["authConfig"],Dq(r,n)),t}function G5(r,e){const t={},n=b(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>yq(r,p))),w(t,["functionDeclarations"],h)}const i=b(e,["retrieval"]);i!=null&&w(t,["retrieval"],i);const s=b(e,["googleSearch"]);s!=null&&w(t,["googleSearch"],bq(r,s));const a=b(e,["googleSearchRetrieval"]);a!=null&&w(t,["googleSearchRetrieval"],_q(r,a)),b(e,["enterpriseWebSearch"])!=null&&w(t,["enterpriseWebSearch"],wq());const u=b(e,["googleMaps"]);if(u!=null&&w(t,["googleMaps"],Aq(r,u)),b(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const d=b(e,["codeExecution"]);return d!=null&&w(t,["codeExecution"],d),t}function Eq(r,e){const t={},n=b(e,["mode"]);n!=null&&w(t,["mode"],n);const i=b(e,["allowedFunctionNames"]);return i!=null&&w(t,["allowedFunctionNames"],i),t}function Cq(r,e){const t={},n=b(e,["latitude"]);n!=null&&w(t,["latitude"],n);const i=b(e,["longitude"]);return i!=null&&w(t,["longitude"],i),t}function Sq(r,e){const t={},n=b(e,["latLng"]);n!=null&&w(t,["latLng"],Cq(r,n));const i=b(e,["languageCode"]);return i!=null&&w(t,["languageCode"],i),t}function Uq(r,e){const t={},n=b(e,["functionCallingConfig"]);n!=null&&w(t,["functionCallingConfig"],Eq(r,n));const i=b(e,["retrievalConfig"]);return i!=null&&w(t,["retrievalConfig"],Sq(r,i)),t}function kq(r,e){const t={},n=b(e,["voiceName"]);return n!=null&&w(t,["voiceName"],n),t}function Rq(r,e){const t={},n=b(e,["prebuiltVoiceConfig"]);return n!=null&&w(t,["prebuiltVoiceConfig"],kq(r,n)),t}function Nq(r,e){const t={},n=b(e,["voiceConfig"]);if(n!=null&&w(t,["voiceConfig"],Rq(r,n)),b(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=b(e,["languageCode"]);return i!=null&&w(t,["languageCode"],i),t}function Mq(r,e){const t={},n=b(e,["includeThoughts"]);n!=null&&w(t,["includeThoughts"],n);const i=b(e,["thinkingBudget"]);return i!=null&&w(t,["thinkingBudget"],i),t}function Iq(r,e,t){const n={},i=b(e,["systemInstruction"]);t!==void 0&&i!=null&&w(t,["systemInstruction"],Ph(r,zi(r,i)));const s=b(e,["temperature"]);s!=null&&w(n,["temperature"],s);const a=b(e,["topP"]);a!=null&&w(n,["topP"],a);const l=b(e,["topK"]);l!=null&&w(n,["topK"],l);const u=b(e,["candidateCount"]);u!=null&&w(n,["candidateCount"],u);const d=b(e,["maxOutputTokens"]);d!=null&&w(n,["maxOutputTokens"],d);const h=b(e,["stopSequences"]);h!=null&&w(n,["stopSequences"],h);const p=b(e,["responseLogprobs"]);p!=null&&w(n,["responseLogprobs"],p);const g=b(e,["logprobs"]);g!=null&&w(n,["logprobs"],g);const y=b(e,["presencePenalty"]);y!=null&&w(n,["presencePenalty"],y);const v=b(e,["frequencyPenalty"]);v!=null&&w(n,["frequencyPenalty"],v);const x=b(e,["seed"]);x!=null&&w(n,["seed"],x);const T=b(e,["responseMimeType"]);T!=null&&w(n,["responseMimeType"],T);const D=b(e,["responseSchema"]);D!=null&&w(n,["responseSchema"],pq(r,k0(r,D)));const E=b(e,["routingConfig"]);E!=null&&w(n,["routingConfig"],E);const C=b(e,["modelSelectionConfig"]);C!=null&&w(n,["modelConfig"],gq(r,C));const R=b(e,["safetySettings"]);if(t!==void 0&&R!=null){let N=R;Array.isArray(N)&&(N=N.map(K=>mq(r,K))),w(t,["safetySettings"],N)}const U=b(e,["tools"]);if(t!==void 0&&U!=null){let N=fb(r,U);Array.isArray(N)&&(N=N.map(K=>G5(r,hb(r,K)))),w(t,["tools"],N)}const M=b(e,["toolConfig"]);t!==void 0&&M!=null&&w(t,["toolConfig"],Uq(r,M));const O=b(e,["labels"]);t!==void 0&&O!=null&&w(t,["labels"],O);const W=b(e,["cachedContent"]);t!==void 0&&W!=null&&w(t,["cachedContent"],vl(r,W));const L=b(e,["responseModalities"]);L!=null&&w(n,["responseModalities"],L);const H=b(e,["mediaResolution"]);H!=null&&w(n,["mediaResolution"],H);const ne=b(e,["speechConfig"]);ne!=null&&w(n,["speechConfig"],Nq(r,M5(r,ne)));const F=b(e,["audioTimestamp"]);F!=null&&w(n,["audioTimestamp"],F);const B=b(e,["thinkingConfig"]);return B!=null&&w(n,["thinkingConfig"],Mq(r,B)),n}function Uk(r,e){const t={},n=b(e,["model"]);n!=null&&w(t,["_url","model"],ln(r,n));const i=b(e,["contents"]);if(i!=null){let a=fs(r,i);Array.isArray(a)&&(a=a.map(l=>Ph(r,l))),w(t,["contents"],a)}const s=b(e,["config"]);return s!=null&&w(t,["generationConfig"],Iq(r,s,t)),t}function Fq(r,e,t){const n={},i=b(e,["taskType"]);t!==void 0&&i!=null&&w(t,["instances[]","task_type"],i);const s=b(e,["title"]);t!==void 0&&s!=null&&w(t,["instances[]","title"],s);const a=b(e,["outputDimensionality"]);t!==void 0&&a!=null&&w(t,["parameters","outputDimensionality"],a);const l=b(e,["mimeType"]);t!==void 0&&l!=null&&w(t,["instances[]","mimeType"],l);const u=b(e,["autoTruncate"]);return t!==void 0&&u!=null&&w(t,["parameters","autoTruncate"],u),n}function Lq(r,e){const t={},n=b(e,["model"]);n!=null&&w(t,["_url","model"],ln(r,n));const i=b(e,["contents"]);i!=null&&w(t,["instances[]","content"],N5(r,i));const s=b(e,["config"]);return s!=null&&w(t,["config"],Fq(r,s,t)),t}function Oq(r,e,t){const n={},i=b(e,["outputGcsUri"]);t!==void 0&&i!=null&&w(t,["parameters","storageUri"],i);const s=b(e,["negativePrompt"]);t!==void 0&&s!=null&&w(t,["parameters","negativePrompt"],s);const a=b(e,["numberOfImages"]);t!==void 0&&a!=null&&w(t,["parameters","sampleCount"],a);const l=b(e,["aspectRatio"]);t!==void 0&&l!=null&&w(t,["parameters","aspectRatio"],l);const u=b(e,["guidanceScale"]);t!==void 0&&u!=null&&w(t,["parameters","guidanceScale"],u);const d=b(e,["seed"]);t!==void 0&&d!=null&&w(t,["parameters","seed"],d);const h=b(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&w(t,["parameters","safetySetting"],h);const p=b(e,["personGeneration"]);t!==void 0&&p!=null&&w(t,["parameters","personGeneration"],p);const g=b(e,["includeSafetyAttributes"]);t!==void 0&&g!=null&&w(t,["parameters","includeSafetyAttributes"],g);const y=b(e,["includeRaiReason"]);t!==void 0&&y!=null&&w(t,["parameters","includeRaiReason"],y);const v=b(e,["language"]);t!==void 0&&v!=null&&w(t,["parameters","language"],v);const x=b(e,["outputMimeType"]);t!==void 0&&x!=null&&w(t,["parameters","outputOptions","mimeType"],x);const T=b(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&w(t,["parameters","outputOptions","compressionQuality"],T);const D=b(e,["addWatermark"]);t!==void 0&&D!=null&&w(t,["parameters","addWatermark"],D);const E=b(e,["enhancePrompt"]);return t!==void 0&&E!=null&&w(t,["parameters","enhancePrompt"],E),n}function Pq(r,e){const t={},n=b(e,["model"]);n!=null&&w(t,["_url","model"],ln(r,n));const i=b(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=b(e,["config"]);return s!=null&&w(t,["config"],Oq(r,s,t)),t}function $T(r,e){const t={},n=b(e,["gcsUri"]);n!=null&&w(t,["gcsUri"],n);const i=b(e,["imageBytes"]);i!=null&&w(t,["bytesBase64Encoded"],bl(r,i));const s=b(e,["mimeType"]);return s!=null&&w(t,["mimeType"],s),t}function Bq(r,e){const t={},n=b(e,["maskMode"]);n!=null&&w(t,["maskMode"],n);const i=b(e,["segmentationClasses"]);i!=null&&w(t,["maskClasses"],i);const s=b(e,["maskDilation"]);return s!=null&&w(t,["dilation"],s),t}function zq(r,e){const t={},n=b(e,["controlType"]);n!=null&&w(t,["controlType"],n);const i=b(e,["enableControlImageComputation"]);return i!=null&&w(t,["computeControl"],i),t}function qq(r,e){const t={},n=b(e,["styleDescription"]);return n!=null&&w(t,["styleDescription"],n),t}function Wq(r,e){const t={},n=b(e,["subjectType"]);n!=null&&w(t,["subjectType"],n);const i=b(e,["subjectDescription"]);return i!=null&&w(t,["subjectDescription"],i),t}function jq(r,e){const t={},n=b(e,["referenceImage"]);n!=null&&w(t,["referenceImage"],$T(r,n));const i=b(e,["referenceId"]);i!=null&&w(t,["referenceId"],i);const s=b(e,["referenceType"]);s!=null&&w(t,["referenceType"],s);const a=b(e,["maskImageConfig"]);a!=null&&w(t,["maskImageConfig"],Bq(r,a));const l=b(e,["controlImageConfig"]);l!=null&&w(t,["controlImageConfig"],zq(r,l));const u=b(e,["styleImageConfig"]);u!=null&&w(t,["styleImageConfig"],qq(r,u));const d=b(e,["subjectImageConfig"]);return d!=null&&w(t,["subjectImageConfig"],Wq(r,d)),t}function Vq(r,e,t){const n={},i=b(e,["outputGcsUri"]);t!==void 0&&i!=null&&w(t,["parameters","storageUri"],i);const s=b(e,["negativePrompt"]);t!==void 0&&s!=null&&w(t,["parameters","negativePrompt"],s);const a=b(e,["numberOfImages"]);t!==void 0&&a!=null&&w(t,["parameters","sampleCount"],a);const l=b(e,["aspectRatio"]);t!==void 0&&l!=null&&w(t,["parameters","aspectRatio"],l);const u=b(e,["guidanceScale"]);t!==void 0&&u!=null&&w(t,["parameters","guidanceScale"],u);const d=b(e,["seed"]);t!==void 0&&d!=null&&w(t,["parameters","seed"],d);const h=b(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&w(t,["parameters","safetySetting"],h);const p=b(e,["personGeneration"]);t!==void 0&&p!=null&&w(t,["parameters","personGeneration"],p);const g=b(e,["includeSafetyAttributes"]);t!==void 0&&g!=null&&w(t,["parameters","includeSafetyAttributes"],g);const y=b(e,["includeRaiReason"]);t!==void 0&&y!=null&&w(t,["parameters","includeRaiReason"],y);const v=b(e,["language"]);t!==void 0&&v!=null&&w(t,["parameters","language"],v);const x=b(e,["outputMimeType"]);t!==void 0&&x!=null&&w(t,["parameters","outputOptions","mimeType"],x);const T=b(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&w(t,["parameters","outputOptions","compressionQuality"],T);const D=b(e,["editMode"]);t!==void 0&&D!=null&&w(t,["parameters","editMode"],D);const E=b(e,["baseSteps"]);return t!==void 0&&E!=null&&w(t,["parameters","editConfig","baseSteps"],E),n}function Hq(r,e){const t={},n=b(e,["model"]);n!=null&&w(t,["_url","model"],ln(r,n));const i=b(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=b(e,["referenceImages"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>jq(r,u))),w(t,["instances[0]","referenceImages"],l)}const a=b(e,["config"]);return a!=null&&w(t,["config"],Vq(r,a,t)),t}function Gq(r,e,t){const n={},i=b(e,["includeRaiReason"]);t!==void 0&&i!=null&&w(t,["parameters","includeRaiReason"],i);const s=b(e,["outputMimeType"]);t!==void 0&&s!=null&&w(t,["parameters","outputOptions","mimeType"],s);const a=b(e,["outputCompressionQuality"]);t!==void 0&&a!=null&&w(t,["parameters","outputOptions","compressionQuality"],a);const l=b(e,["numberOfImages"]);t!==void 0&&l!=null&&w(t,["parameters","sampleCount"],l);const u=b(e,["mode"]);return t!==void 0&&u!=null&&w(t,["parameters","mode"],u),n}function $q(r,e){const t={},n=b(e,["model"]);n!=null&&w(t,["_url","model"],ln(r,n));const i=b(e,["image"]);i!=null&&w(t,["instances[0]","image"],$T(r,i));const s=b(e,["upscaleFactor"]);s!=null&&w(t,["parameters","upscaleConfig","upscaleFactor"],s);const a=b(e,["config"]);return a!=null&&w(t,["config"],Gq(r,a,t)),t}function Xq(r,e){const t={},n=b(e,["model"]);n!=null&&w(t,["_url","name"],ln(r,n));const i=b(e,["config"]);return i!=null&&w(t,["config"],i),t}function Qq(r,e,t){const n={},i=b(e,["pageSize"]);t!==void 0&&i!=null&&w(t,["_query","pageSize"],i);const s=b(e,["pageToken"]);t!==void 0&&s!=null&&w(t,["_query","pageToken"],s);const a=b(e,["filter"]);t!==void 0&&a!=null&&w(t,["_query","filter"],a);const l=b(e,["queryBase"]);return t!==void 0&&l!=null&&w(t,["_url","models_url"],O5(r,l)),n}function Yq(r,e){const t={},n=b(e,["config"]);return n!=null&&w(t,["config"],Qq(r,n,t)),t}function Kq(r,e,t){const n={},i=b(e,["displayName"]);t!==void 0&&i!=null&&w(t,["displayName"],i);const s=b(e,["description"]);t!==void 0&&s!=null&&w(t,["description"],s);const a=b(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&w(t,["defaultCheckpointId"],a),n}function Zq(r,e){const t={},n=b(e,["model"]);n!=null&&w(t,["_url","model"],ln(r,n));const i=b(e,["config"]);return i!=null&&w(t,["config"],Kq(r,i,t)),t}function Jq(r,e){const t={},n=b(e,["model"]);n!=null&&w(t,["_url","name"],ln(r,n));const i=b(e,["config"]);return i!=null&&w(t,["config"],i),t}function eW(r,e,t){const n={},i=b(e,["systemInstruction"]);t!==void 0&&i!=null&&w(t,["systemInstruction"],Ph(r,zi(r,i)));const s=b(e,["tools"]);if(t!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>G5(r,u))),w(t,["tools"],l)}const a=b(e,["generationConfig"]);return t!==void 0&&a!=null&&w(t,["generationConfig"],a),n}function tW(r,e){const t={},n=b(e,["model"]);n!=null&&w(t,["_url","model"],ln(r,n));const i=b(e,["contents"]);if(i!=null){let a=fs(r,i);Array.isArray(a)&&(a=a.map(l=>Ph(r,l))),w(t,["contents"],a)}const s=b(e,["config"]);return s!=null&&w(t,["config"],eW(r,s,t)),t}function nW(r,e){const t={},n=b(e,["model"]);n!=null&&w(t,["_url","model"],ln(r,n));const i=b(e,["contents"]);if(i!=null){let a=fs(r,i);Array.isArray(a)&&(a=a.map(l=>Ph(r,l))),w(t,["contents"],a)}const s=b(e,["config"]);return s!=null&&w(t,["config"],s),t}function iW(r,e,t){const n={},i=b(e,["numberOfVideos"]);t!==void 0&&i!=null&&w(t,["parameters","sampleCount"],i);const s=b(e,["outputGcsUri"]);t!==void 0&&s!=null&&w(t,["parameters","storageUri"],s);const a=b(e,["fps"]);t!==void 0&&a!=null&&w(t,["parameters","fps"],a);const l=b(e,["durationSeconds"]);t!==void 0&&l!=null&&w(t,["parameters","durationSeconds"],l);const u=b(e,["seed"]);t!==void 0&&u!=null&&w(t,["parameters","seed"],u);const d=b(e,["aspectRatio"]);t!==void 0&&d!=null&&w(t,["parameters","aspectRatio"],d);const h=b(e,["resolution"]);t!==void 0&&h!=null&&w(t,["parameters","resolution"],h);const p=b(e,["personGeneration"]);t!==void 0&&p!=null&&w(t,["parameters","personGeneration"],p);const g=b(e,["pubsubTopic"]);t!==void 0&&g!=null&&w(t,["parameters","pubsubTopic"],g);const y=b(e,["negativePrompt"]);t!==void 0&&y!=null&&w(t,["parameters","negativePrompt"],y);const v=b(e,["enhancePrompt"]);return t!==void 0&&v!=null&&w(t,["parameters","enhancePrompt"],v),n}function rW(r,e){const t={},n=b(e,["model"]);n!=null&&w(t,["_url","model"],ln(r,n));const i=b(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=b(e,["image"]);s!=null&&w(t,["instances[0]","image"],$T(r,s));const a=b(e,["config"]);return a!=null&&w(t,["config"],iW(r,a,t)),t}function sW(r,e){const t={},n=b(e,["fps"]);n!=null&&w(t,["fps"],n);const i=b(e,["endOffset"]);i!=null&&w(t,["endOffset"],i);const s=b(e,["startOffset"]);return s!=null&&w(t,["startOffset"],s),t}function aW(r,e){const t={},n=b(e,["data"]);n!=null&&w(t,["data"],n);const i=b(e,["mimeType"]);return i!=null&&w(t,["mimeType"],i),t}function oW(r,e){const t={},n=b(e,["fileUri"]);n!=null&&w(t,["fileUri"],n);const i=b(e,["mimeType"]);return i!=null&&w(t,["mimeType"],i),t}function lW(r,e){const t={},n=b(e,["videoMetadata"]);n!=null&&w(t,["videoMetadata"],sW(r,n));const i=b(e,["thought"]);i!=null&&w(t,["thought"],i);const s=b(e,["inlineData"]);s!=null&&w(t,["inlineData"],aW(r,s));const a=b(e,["fileData"]);a!=null&&w(t,["fileData"],oW(r,a));const l=b(e,["codeExecutionResult"]);l!=null&&w(t,["codeExecutionResult"],l);const u=b(e,["executableCode"]);u!=null&&w(t,["executableCode"],u);const d=b(e,["functionCall"]);d!=null&&w(t,["functionCall"],d);const h=b(e,["functionResponse"]);h!=null&&w(t,["functionResponse"],h);const p=b(e,["text"]);return p!=null&&w(t,["text"],p),t}function cW(r,e){const t={},n=b(e,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>lW(r,a))),w(t,["parts"],s)}const i=b(e,["role"]);return i!=null&&w(t,["role"],i),t}function uW(r,e){const t={},n=b(e,["citationSources"]);return n!=null&&w(t,["citations"],n),t}function dW(r,e){const t={},n=b(e,["retrievedUrl"]);n!=null&&w(t,["retrievedUrl"],n);const i=b(e,["urlRetrievalStatus"]);return i!=null&&w(t,["urlRetrievalStatus"],i),t}function hW(r,e){const t={},n=b(e,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>dW(r,s))),w(t,["urlMetadata"],i)}return t}function fW(r,e){const t={},n=b(e,["content"]);n!=null&&w(t,["content"],cW(r,n));const i=b(e,["citationMetadata"]);i!=null&&w(t,["citationMetadata"],uW(r,i));const s=b(e,["tokenCount"]);s!=null&&w(t,["tokenCount"],s);const a=b(e,["finishReason"]);a!=null&&w(t,["finishReason"],a);const l=b(e,["urlContextMetadata"]);l!=null&&w(t,["urlContextMetadata"],hW(r,l));const u=b(e,["avgLogprobs"]);u!=null&&w(t,["avgLogprobs"],u);const d=b(e,["groundingMetadata"]);d!=null&&w(t,["groundingMetadata"],d);const h=b(e,["index"]);h!=null&&w(t,["index"],h);const p=b(e,["logprobsResult"]);p!=null&&w(t,["logprobsResult"],p);const g=b(e,["safetyRatings"]);return g!=null&&w(t,["safetyRatings"],g),t}function kk(r,e){const t={},n=b(e,["candidates"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>fW(r,u))),w(t,["candidates"],l)}const i=b(e,["modelVersion"]);i!=null&&w(t,["modelVersion"],i);const s=b(e,["promptFeedback"]);s!=null&&w(t,["promptFeedback"],s);const a=b(e,["usageMetadata"]);return a!=null&&w(t,["usageMetadata"],a),t}function pW(r,e){const t={},n=b(e,["values"]);return n!=null&&w(t,["values"],n),t}function gW(){return{}}function mW(r,e){const t={},n=b(e,["embeddings"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>pW(r,a))),w(t,["embeddings"],s)}return b(e,["metadata"])!=null&&w(t,["metadata"],gW()),t}function yW(r,e){const t={},n=b(e,["bytesBase64Encoded"]);n!=null&&w(t,["imageBytes"],bl(r,n));const i=b(e,["mimeType"]);return i!=null&&w(t,["mimeType"],i),t}function $5(r,e){const t={},n=b(e,["safetyAttributes","categories"]);n!=null&&w(t,["categories"],n);const i=b(e,["safetyAttributes","scores"]);i!=null&&w(t,["scores"],i);const s=b(e,["contentType"]);return s!=null&&w(t,["contentType"],s),t}function vW(r,e){const t={},n=b(e,["_self"]);n!=null&&w(t,["image"],yW(r,n));const i=b(e,["raiFilteredReason"]);i!=null&&w(t,["raiFilteredReason"],i);const s=b(e,["_self"]);return s!=null&&w(t,["safetyAttributes"],$5(r,s)),t}function bW(r,e){const t={},n=b(e,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>vW(r,a))),w(t,["generatedImages"],s)}const i=b(e,["positivePromptSafetyAttributes"]);return i!=null&&w(t,["positivePromptSafetyAttributes"],$5(r,i)),t}function xW(r,e){const t={},n=b(e,["baseModel"]);n!=null&&w(t,["baseModel"],n);const i=b(e,["createTime"]);i!=null&&w(t,["createTime"],i);const s=b(e,["updateTime"]);return s!=null&&w(t,["updateTime"],s),t}function nw(r,e){const t={},n=b(e,["name"]);n!=null&&w(t,["name"],n);const i=b(e,["displayName"]);i!=null&&w(t,["displayName"],i);const s=b(e,["description"]);s!=null&&w(t,["description"],s);const a=b(e,["version"]);a!=null&&w(t,["version"],a);const l=b(e,["_self"]);l!=null&&w(t,["tunedModelInfo"],xW(r,l));const u=b(e,["inputTokenLimit"]);u!=null&&w(t,["inputTokenLimit"],u);const d=b(e,["outputTokenLimit"]);d!=null&&w(t,["outputTokenLimit"],d);const h=b(e,["supportedGenerationMethods"]);return h!=null&&w(t,["supportedActions"],h),t}function _W(r,e){const t={},n=b(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=b(e,["_self"]);if(i!=null){let s=P5(r,i);Array.isArray(s)&&(s=s.map(a=>nw(r,a))),w(t,["models"],s)}return t}function wW(){return{}}function TW(r,e){const t={},n=b(e,["totalTokens"]);n!=null&&w(t,["totalTokens"],n);const i=b(e,["cachedContentTokenCount"]);return i!=null&&w(t,["cachedContentTokenCount"],i),t}function DW(r,e){const t={},n=b(e,["video","uri"]);n!=null&&w(t,["uri"],n);const i=b(e,["video","encodedVideo"]);i!=null&&w(t,["videoBytes"],bl(r,i));const s=b(e,["encoding"]);return s!=null&&w(t,["mimeType"],s),t}function AW(r,e){const t={},n=b(e,["_self"]);return n!=null&&w(t,["video"],DW(r,n)),t}function EW(r,e){const t={},n=b(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>AW(r,l))),w(t,["generatedVideos"],a)}const i=b(e,["raiMediaFilteredCount"]);i!=null&&w(t,["raiMediaFilteredCount"],i);const s=b(e,["raiMediaFilteredReasons"]);return s!=null&&w(t,["raiMediaFilteredReasons"],s),t}function CW(r,e){const t={},n=b(e,["name"]);n!=null&&w(t,["name"],n);const i=b(e,["metadata"]);i!=null&&w(t,["metadata"],i);const s=b(e,["done"]);s!=null&&w(t,["done"],s);const a=b(e,["error"]);a!=null&&w(t,["error"],a);const l=b(e,["response","generateVideoResponse"]);return l!=null&&w(t,["response"],EW(r,l)),t}function SW(r,e){const t={},n=b(e,["fps"]);n!=null&&w(t,["fps"],n);const i=b(e,["endOffset"]);i!=null&&w(t,["endOffset"],i);const s=b(e,["startOffset"]);return s!=null&&w(t,["startOffset"],s),t}function UW(r,e){const t={},n=b(e,["displayName"]);n!=null&&w(t,["displayName"],n);const i=b(e,["data"]);i!=null&&w(t,["data"],i);const s=b(e,["mimeType"]);return s!=null&&w(t,["mimeType"],s),t}function kW(r,e){const t={},n=b(e,["displayName"]);n!=null&&w(t,["displayName"],n);const i=b(e,["fileUri"]);i!=null&&w(t,["fileUri"],i);const s=b(e,["mimeType"]);return s!=null&&w(t,["mimeType"],s),t}function RW(r,e){const t={},n=b(e,["videoMetadata"]);n!=null&&w(t,["videoMetadata"],SW(r,n));const i=b(e,["thought"]);i!=null&&w(t,["thought"],i);const s=b(e,["inlineData"]);s!=null&&w(t,["inlineData"],UW(r,s));const a=b(e,["fileData"]);a!=null&&w(t,["fileData"],kW(r,a));const l=b(e,["codeExecutionResult"]);l!=null&&w(t,["codeExecutionResult"],l);const u=b(e,["executableCode"]);u!=null&&w(t,["executableCode"],u);const d=b(e,["functionCall"]);d!=null&&w(t,["functionCall"],d);const h=b(e,["functionResponse"]);h!=null&&w(t,["functionResponse"],h);const p=b(e,["text"]);return p!=null&&w(t,["text"],p),t}function NW(r,e){const t={},n=b(e,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>RW(r,a))),w(t,["parts"],s)}const i=b(e,["role"]);return i!=null&&w(t,["role"],i),t}function MW(r,e){const t={},n=b(e,["citations"]);return n!=null&&w(t,["citations"],n),t}function IW(r,e){const t={},n=b(e,["content"]);n!=null&&w(t,["content"],NW(r,n));const i=b(e,["citationMetadata"]);i!=null&&w(t,["citationMetadata"],MW(r,i));const s=b(e,["finishMessage"]);s!=null&&w(t,["finishMessage"],s);const a=b(e,["finishReason"]);a!=null&&w(t,["finishReason"],a);const l=b(e,["avgLogprobs"]);l!=null&&w(t,["avgLogprobs"],l);const u=b(e,["groundingMetadata"]);u!=null&&w(t,["groundingMetadata"],u);const d=b(e,["index"]);d!=null&&w(t,["index"],d);const h=b(e,["logprobsResult"]);h!=null&&w(t,["logprobsResult"],h);const p=b(e,["safetyRatings"]);return p!=null&&w(t,["safetyRatings"],p),t}function Rk(r,e){const t={},n=b(e,["candidates"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>IW(r,h))),w(t,["candidates"],d)}const i=b(e,["createTime"]);i!=null&&w(t,["createTime"],i);const s=b(e,["responseId"]);s!=null&&w(t,["responseId"],s);const a=b(e,["modelVersion"]);a!=null&&w(t,["modelVersion"],a);const l=b(e,["promptFeedback"]);l!=null&&w(t,["promptFeedback"],l);const u=b(e,["usageMetadata"]);return u!=null&&w(t,["usageMetadata"],u),t}function FW(r,e){const t={},n=b(e,["truncated"]);n!=null&&w(t,["truncated"],n);const i=b(e,["token_count"]);return i!=null&&w(t,["tokenCount"],i),t}function LW(r,e){const t={},n=b(e,["values"]);n!=null&&w(t,["values"],n);const i=b(e,["statistics"]);return i!=null&&w(t,["statistics"],FW(r,i)),t}function OW(r,e){const t={},n=b(e,["billableCharacterCount"]);return n!=null&&w(t,["billableCharacterCount"],n),t}function PW(r,e){const t={},n=b(e,["predictions[]","embeddings"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>LW(r,a))),w(t,["embeddings"],s)}const i=b(e,["metadata"]);return i!=null&&w(t,["metadata"],OW(r,i)),t}function BW(r,e){const t={},n=b(e,["gcsUri"]);n!=null&&w(t,["gcsUri"],n);const i=b(e,["bytesBase64Encoded"]);i!=null&&w(t,["imageBytes"],bl(r,i));const s=b(e,["mimeType"]);return s!=null&&w(t,["mimeType"],s),t}function X5(r,e){const t={},n=b(e,["safetyAttributes","categories"]);n!=null&&w(t,["categories"],n);const i=b(e,["safetyAttributes","scores"]);i!=null&&w(t,["scores"],i);const s=b(e,["contentType"]);return s!=null&&w(t,["contentType"],s),t}function XT(r,e){const t={},n=b(e,["_self"]);n!=null&&w(t,["image"],BW(r,n));const i=b(e,["raiFilteredReason"]);i!=null&&w(t,["raiFilteredReason"],i);const s=b(e,["_self"]);s!=null&&w(t,["safetyAttributes"],X5(r,s));const a=b(e,["prompt"]);return a!=null&&w(t,["enhancedPrompt"],a),t}function zW(r,e){const t={},n=b(e,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>XT(r,a))),w(t,["generatedImages"],s)}const i=b(e,["positivePromptSafetyAttributes"]);return i!=null&&w(t,["positivePromptSafetyAttributes"],X5(r,i)),t}function qW(r,e){const t={},n=b(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>XT(r,s))),w(t,["generatedImages"],i)}return t}function WW(r,e){const t={},n=b(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>XT(r,s))),w(t,["generatedImages"],i)}return t}function jW(r,e){const t={},n=b(e,["endpoint"]);n!=null&&w(t,["name"],n);const i=b(e,["deployedModelId"]);return i!=null&&w(t,["deployedModelId"],i),t}function VW(r,e){const t={},n=b(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&w(t,["baseModel"],n);const i=b(e,["createTime"]);i!=null&&w(t,["createTime"],i);const s=b(e,["updateTime"]);return s!=null&&w(t,["updateTime"],s),t}function HW(r,e){const t={},n=b(e,["checkpointId"]);n!=null&&w(t,["checkpointId"],n);const i=b(e,["epoch"]);i!=null&&w(t,["epoch"],i);const s=b(e,["step"]);return s!=null&&w(t,["step"],s),t}function iw(r,e){const t={},n=b(e,["name"]);n!=null&&w(t,["name"],n);const i=b(e,["displayName"]);i!=null&&w(t,["displayName"],i);const s=b(e,["description"]);s!=null&&w(t,["description"],s);const a=b(e,["versionId"]);a!=null&&w(t,["version"],a);const l=b(e,["deployedModels"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>jW(r,y))),w(t,["endpoints"],g)}const u=b(e,["labels"]);u!=null&&w(t,["labels"],u);const d=b(e,["_self"]);d!=null&&w(t,["tunedModelInfo"],VW(r,d));const h=b(e,["defaultCheckpointId"]);h!=null&&w(t,["defaultCheckpointId"],h);const p=b(e,["checkpoints"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(y=>HW(r,y))),w(t,["checkpoints"],g)}return t}function GW(r,e){const t={},n=b(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=b(e,["_self"]);if(i!=null){let s=P5(r,i);Array.isArray(s)&&(s=s.map(a=>iw(r,a))),w(t,["models"],s)}return t}function $W(){return{}}function XW(r,e){const t={},n=b(e,["totalTokens"]);return n!=null&&w(t,["totalTokens"],n),t}function QW(r,e){const t={},n=b(e,["tokensInfo"]);return n!=null&&w(t,["tokensInfo"],n),t}function YW(r,e){const t={},n=b(e,["gcsUri"]);n!=null&&w(t,["uri"],n);const i=b(e,["bytesBase64Encoded"]);i!=null&&w(t,["videoBytes"],bl(r,i));const s=b(e,["mimeType"]);return s!=null&&w(t,["mimeType"],s),t}function KW(r,e){const t={},n=b(e,["_self"]);return n!=null&&w(t,["video"],YW(r,n)),t}function ZW(r,e){const t={},n=b(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>KW(r,l))),w(t,["generatedVideos"],a)}const i=b(e,["raiMediaFilteredCount"]);i!=null&&w(t,["raiMediaFilteredCount"],i);const s=b(e,["raiMediaFilteredReasons"]);return s!=null&&w(t,["raiMediaFilteredReasons"],s),t}function JW(r,e){const t={},n=b(e,["name"]);n!=null&&w(t,["name"],n);const i=b(e,["metadata"]);i!=null&&w(t,["metadata"],i);const s=b(e,["done"]);s!=null&&w(t,["done"],s);const a=b(e,["error"]);a!=null&&w(t,["error"],a);const l=b(e,["response"]);return l!=null&&w(t,["response"],ZW(r,l)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ej="Content-Type",tj="X-Server-Timeout",nj="User-Agent",rw="x-goog-api-client",ij="1.1.0",rj=`google-genai-sdk/${ij}`,sj="v1beta1",aj="v1beta",Nk=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Q5 extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class sw extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class oj{constructor(e){var t,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:sj,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:aj,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&n.push(e.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,n){const i=[this.getRequestUrlInternal(t)];return n&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,n);if(e.queryParams)for(const[a,l]of Object.entries(e.queryParams))i.searchParams.append(a,String(l));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,t,e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,t){const n=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(t))typeof s=="object"?n[i]=Object.assign(Object.assign({},n[i]),s):s!==void 0&&(n[i]=s);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,n);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,t,e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n){if(t&&t.timeout||n){const i=new AbortController,s=i.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>i.abort(),t.timeout),n&&n.addEventListener("abort",()=>{i.abort()}),e.signal=s}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async i=>(await Mk(i),new Z_(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async i=>(await Mk(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var t;return Ap(this,arguments,function*(){const i=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:l,value:u}=yield fn(i.read());if(l){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=s.decode(u);try{const p=JSON.parse(d);if("error"in p){const g=JSON.parse(JSON.stringify(p.error)),y=g.status,v=g.code,x=`got status: ${y}. ${JSON.stringify(p)}`;if(v>=400&&v<500)throw new Q5(x);if(v>=500&&v<600)throw new sw(x)}}catch(p){const g=p;if(g.name==="ClientError"||g.name==="ServerError")throw p}a+=d;let h=a.match(Nk);for(;h;){const p=h[1];try{const g=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield fn(new Z_(g)),a=a.slice(h[0].length),h=a.match(Nk)}catch(g){throw new Error(`exception parsing stream chunk ${p}. ${g}`)}}}}finally{i.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(n=>{throw new Error(`exception ${n} sending request`)})}getDefaultHeaders(){const e={},t=rj+" "+this.clientOptions.userAgentExtra;return e[nj]=t,e[rw]=t,e[ej]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[n,i]of Object.entries(e.headers))t.append(n,i);e.timeout&&e.timeout>0&&t.append(tj,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var n;const i={};t!=null&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);i.sizeBytes=String(a.size);const l=(n=t==null?void 0:t.mimeType)!==null&&n!==void 0?n:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const u=await this.fetchUploadUrl(i,t);return s.upload(e,u,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var n;let i={};t!=null&&t.httpOptions?i=t.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},a=await this.request({path:lt("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:i});if(!a||!(a!=null&&a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const l=(n=a==null?void 0:a.headers)===null||n===void 0?void 0:n["x-goog-upload-url"];if(l===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return l}}async function Mk(r){var e;if(r===void 0)throw new sw("response is undefined");if(!r.ok){const t=r.status,n=r.statusText;let i;!((e=r.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await r.json():i={error:{message:await r.text(),code:r.status,status:r.statusText}};const s=`got status: ${t} ${n}. ${JSON.stringify(i)}`;throw t>=400&&t<500?new Q5(s):t>=500&&t<600?new sw(s):new Error(s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ik="mcp_used/unknown";function Y5(r){for(const e of r)if(QT(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function K5(r){var e;const t=(e=r[rw])!==null&&e!==void 0?e:"";t.includes(Ik)||(r[rw]=(t+` ${Ik}`).trimStart())}function lj(r){var e,t,n;return(n=(t=(e=r.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>QT(i)))!==null&&n!==void 0?n:!1}function cj(r){var e,t,n;return(n=(t=(e=r.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>!QT(i)))!==null&&n!==void 0?n:!1}function QT(r){return r!==null&&typeof r=="object"&&"tool"in r&&"callTool"in r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function uj(r,e,t){const n=new u9;let i;t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data);const s=Az(r,i);Object.assign(n,s),e(n)}class dj{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){var t,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=pj(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),u=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${l}`;let d=()=>{};const h=new Promise(C=>{d=C}),p=e.callbacks,g=function(){d({})},y=this.apiClient,v={onopen:g,onmessage:C=>{uj(y,p.onmessage,C)},onerror:(t=p==null?void 0:p.onerror)!==null&&t!==void 0?t:function(C){},onclose:(n=p==null?void 0:p.onclose)!==null&&n!==void 0?n:function(C){}},x=this.webSocketFactory.create(u,fj(a),v);x.connect(),await h;const T=ln(this.apiClient,e.model),D=j5(this.apiClient,{model:T}),E=tw(this.apiClient,{setup:D});return x.send(JSON.stringify(E)),new hj(x,this.apiClient)}}class hj{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=B7(this.apiClient,e),n=V5(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=z7(this.apiClient,e),n=tw(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const t=tw(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Dd.PLAY)}pause(){this.sendPlaybackControl(Dd.PAUSE)}stop(){this.sendPlaybackControl(Dd.STOP)}resetContext(){this.sendPlaybackControl(Dd.RESET_CONTEXT)}close(){this.conn.close()}}function fj(r){const e={};return r.forEach((t,n)=>{e[n]=t}),e}function pj(r){const e=new Headers;for(const[t,n]of Object.entries(r))e.append(t,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gj="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function mj(r,e,t){const n=new c9;let i;if(t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data),r.isVertexAI()){const s=mz(r,i);Object.assign(n,s)}else{const s=gz(r,i);Object.assign(n,s)}e(n)}class yj{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new dj(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,n,i,s,a,l;const u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const p=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Y5(e.config.tools)&&K5(p);const g=_j(p);if(this.apiClient.isVertexAI())h=`${u}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g);else{const L=this.apiClient.getApiKey();h=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateContent?key=${L}`}let y=()=>{};const v=new Promise(L=>{y=L}),x=e.callbacks,T=function(){var L;(L=x==null?void 0:x.onopen)===null||L===void 0||L.call(x),y({})},D=this.apiClient,E={onopen:T,onmessage:L=>{mj(D,x.onmessage,L)},onerror:(t=x==null?void 0:x.onerror)!==null&&t!==void 0?t:function(L){},onclose:(n=x==null?void 0:x.onclose)!==null&&n!==void 0?n:function(L){}},C=this.webSocketFactory.create(h,xj(g),E);C.connect(),await v;let R=ln(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&R.startsWith("publishers/")){const L=this.apiClient.getProject(),H=this.apiClient.getLocation();R=`projects/${L}/locations/${H}/`+R}let U={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[S0.AUDIO]}:e.config.responseModalities=[S0.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const M=(l=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&l!==void 0?l:[],O=[];for(const L of M)if(this.isCallableTool(L)){const H=L;O.push(await H.tool())}else O.push(L);O.length>0&&(e.config.tools=O);const W={model:R,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?U=N7(this.apiClient,W):U=R7(this.apiClient,W),delete U.config,C.send(JSON.stringify(U)),new bj(C,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const vj={turnComplete:!0};class bj{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let n=[];try{n=fs(e,t.turns),e.isVertexAI()?n=n.map(i=>Ph(e,i)):n=n.map(i=>gb(e,i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:n,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?n=t.functionResponses:n=[t.functionResponses],n.length===0)throw new Error("functionResponses is required.");for(const s of n){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(gj)}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},vj),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:P7(this.apiClient,e)}:t={realtimeInput:O7(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function xj(r){const e={};return r.forEach((t,n)=>{e[n]=t}),e}function _j(r){const e=new Headers;for(const[t,n]of Object.entries(r))e.append(t,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fk=10;function Lk(r){var e,t,n;if(!((e=r==null?void 0:r.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(t=r==null?void 0:r.tools)!==null&&t!==void 0?t:[])if(Dv(a)){i=!0;break}if(!i)return!0;const s=(n=r==null?void 0:r.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Dv(r){return"callTool"in r&&typeof r.callTool=="function"}function Ok(r){var e;return!(!((e=r==null?void 0:r.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wj extends Cm{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var n,i,s,a,l;const u=await this.processParamsForMcpUsage(t);if(!lj(t)||Lk(t.config))return await this.generateContentInternal(u);if(cj(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let d,h;const p=fs(this.apiClient,u.contents),g=(s=(i=(n=u.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:Fk;let y=0;for(;y<g&&(d=await this.generateContentInternal(u),!(!d.functionCalls||d.functionCalls.length===0));){const v=d.candidates[0].content,x=[];for(const T of(l=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&l!==void 0?l:[])if(Dv(T)){const E=await T.callTool(d.functionCalls);x.push(...E)}y++,h={role:"user",parts:x},u.contents=fs(this.apiClient,u.contents),u.contents.push(v),u.contents.push(h),Ok(u.config)&&(p.push(v),p.push(h))}return Ok(u.config)&&(d.automaticFunctionCallingHistory=p),d},this.generateContentStream=async t=>{if(Lk(t.config)){const n=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(n)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(n=>{var i;let s;const a=[];if(n!=null&&n.generatedImages)for(const u of n.generatedImages)u&&(u!=null&&u.safetyAttributes)&&((i=u==null?void 0:u.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=u==null?void 0:u.safetyAttributes:a.push(u);let l;return s?l={generatedImages:a,positivePromptSafetyAttributes:s}:l={generatedImages:a},l}),this.list=async t=>{var n;const a={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((n=a.config)===null||n===void 0)&&n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new pb(Rh.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(a),a)},this.editImage=async t=>{const n={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(n.referenceImages=t.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async t=>{let n={numberOfImages:1,mode:"upscale"};t.config&&(n=Object.assign(Object.assign({},n),t.config));const i={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:n};return await this.upscaleImageInternal(i)}}async processParamsForMcpUsage(e){var t,n,i;const s=(t=e.config)===null||t===void 0?void 0:t.tools;if(!s)return e;const a=await Promise.all(s.map(async u=>Dv(u)?await u.tool():u)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(l.config.tools=a,e.config&&e.config.tools&&Y5(e.config.tools)){const u=(i=(n=e.config.httpOptions)===null||n===void 0?void 0:n.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},u);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),K5(d),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return l}async initAfcToolsMap(e){var t,n,i;const s=new Map;for(const a of(n=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&n!==void 0?n:[])if(Dv(a)){const l=a,u=await l.tool();for(const d of(i=u.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(s.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);s.set(d.name,l)}}return s}async processAfcStream(e){var t,n,i;const s=(i=(n=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls)!==null&&i!==void 0?i:Fk;let a=!1,l=0;const u=await this.initAfcToolsMap(e);return function(d,h,p){var g,y;return Ap(this,arguments,function*(){for(var v,x,T,D;l<s;){a&&(l++,a=!1);const U=yield fn(d.processParamsForMcpUsage(p)),M=yield fn(d.generateContentStreamInternal(U)),O=[],W=[];try{for(var E=!0,C=(x=void 0,Tv(M)),R;R=yield fn(C.next()),v=R.done,!v;E=!0){D=R.value,E=!1;const L=D;if(yield yield fn(L),L.candidates&&(!((g=L.candidates[0])===null||g===void 0)&&g.content)){W.push(L.candidates[0].content);for(const H of(y=L.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(l<s&&H.functionCall){if(!H.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(H.functionCall.name)){const ne=yield fn(h.get(H.functionCall.name).callTool([H.functionCall]));O.push(...ne)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${H.functionCall.name}`)}}}}catch(L){x={error:L}}finally{try{!E&&!v&&(T=C.return)&&(yield fn(T.call(C)))}finally{if(x)throw x.error}}if(O.length>0){a=!0;const L=new zf;L.candidates=[{content:{role:"user",parts:O}}],yield yield fn(L);const H=[];H.push(...W),H.push({role:"user",parts:O});const ne=fs(d.apiClient,p.contents).concat(H);p.contents=ne}else break}})}(this,u,e)}async generateContentInternal(e){var t,n,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=Uk(this.apiClient,e);return l=lt("{model}:generateContent",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),a.then(h=>{const p=Rk(this.apiClient,h),g=new zf;return Object.assign(g,p),g})}else{const d=Sk(this.apiClient,e);return l=lt("{model}:generateContent",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>{const p=kk(this.apiClient,h),g=new zf;return Object.assign(g,p),g})}}async generateContentStreamInternal(e){var t,n,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=Uk(this.apiClient,e);l=lt("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d.config,delete d._url,delete d._query;const h=this.apiClient;return a=h.requestStream({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}),a.then(function(p){return Ap(this,arguments,function*(){var g,y,v,x;try{for(var T=!0,D=Tv(p),E;E=yield fn(D.next()),g=E.done,!g;T=!0){x=E.value,T=!1;const R=Rk(h,yield fn(x.json())),U=new zf;Object.assign(U,R),yield yield fn(U)}}catch(C){y={error:C}}finally{try{!T&&!g&&(v=D.return)&&(yield fn(v.call(D)))}finally{if(y)throw y.error}}})})}else{const d=Sk(this.apiClient,e);l=lt("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d.config,delete d._url,delete d._query;const h=this.apiClient;return a=h.requestStream({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(p){return Ap(this,arguments,function*(){var g,y,v,x;try{for(var T=!0,D=Tv(p),E;E=yield fn(D.next()),g=E.done,!g;T=!0){x=E.value,T=!1;const R=kk(h,yield fn(x.json())),U=new zf;Object.assign(U,R),yield yield fn(U)}}catch(C){y={error:C}}finally{try{!T&&!g&&(v=D.return)&&(yield fn(v.call(D)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var t,n,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=Lq(this.apiClient,e);return l=lt("{model}:predict",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),a.then(h=>{const p=PW(this.apiClient,h),g=new lk;return Object.assign(g,p),g})}else{const d=Yz(this.apiClient,e);return l=lt("{model}:batchEmbedContents",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>{const p=mW(this.apiClient,h),g=new lk;return Object.assign(g,p),g})}}async generateImagesInternal(e){var t,n,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=Pq(this.apiClient,e);return l=lt("{model}:predict",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),a.then(h=>{const p=zW(this.apiClient,h),g=new ck;return Object.assign(g,p),g})}else{const d=Zz(this.apiClient,e);return l=lt("{model}:predict",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>{const p=bW(this.apiClient,h),g=new ck;return Object.assign(g,p),g})}}async editImageInternal(e){var t,n;let i,s="",a={};if(this.apiClient.isVertexAI()){const l=Hq(this.apiClient,e);return s=lt("{model}:predict",l._url),a=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),i.then(u=>{const d=qW(this.apiClient,u),h=new i9;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,n;let i,s="",a={};if(this.apiClient.isVertexAI()){const l=$q(this.apiClient,e);return s=lt("{model}:predict",l._url),a=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),i.then(u=>{const d=WW(this.apiClient,u),h=new r9;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,n,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=Xq(this.apiClient,e);return l=lt("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),a.then(h=>iw(this.apiClient,h))}else{const d=Jz(this.apiClient,e);return l=lt("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>nw(this.apiClient,h))}}async listInternal(e){var t,n,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=Yq(this.apiClient,e);return l=lt("{models_url}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),a.then(h=>{const p=GW(this.apiClient,h),g=new uk;return Object.assign(g,p),g})}else{const d=tq(this.apiClient,e);return l=lt("{models_url}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>{const p=_W(this.apiClient,h),g=new uk;return Object.assign(g,p),g})}}async update(e){var t,n,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=Zq(this.apiClient,e);return l=lt("{model}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),a.then(h=>iw(this.apiClient,h))}else{const d=iq(this.apiClient,e);return l=lt("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>nw(this.apiClient,h))}}async delete(e){var t,n,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=Jq(this.apiClient,e);return l=lt("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),a.then(()=>{const h=$W(),p=new dk;return Object.assign(p,h),p})}else{const d=rq(this.apiClient,e);return l=lt("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(()=>{const h=wW(),p=new dk;return Object.assign(p,h),p})}}async countTokens(e){var t,n,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=tW(this.apiClient,e);return l=lt("{model}:countTokens",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),a.then(h=>{const p=XW(this.apiClient,h),g=new hk;return Object.assign(g,p),g})}else{const d=aq(this.apiClient,e);return l=lt("{model}:countTokens",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>{const p=TW(this.apiClient,h),g=new hk;return Object.assign(g,p),g})}}async computeTokens(e){var t,n;let i,s="",a={};if(this.apiClient.isVertexAI()){const l=nW(this.apiClient,e);return s=lt("{model}:computeTokens",l._url),a=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),i.then(u=>{const d=QW(this.apiClient,u),h=new s9;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,n,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=rW(this.apiClient,e);return l=lt("{model}:predictLongRunning",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),a.then(h=>JW(this.apiClient,h))}else{const d=cq(this.apiClient,e);return l=lt("{model}:predictLongRunning",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>CW(this.apiClient,h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tj(r,e){const t={},n=b(e,["operationName"]);n!=null&&w(t,["_url","operationName"],n);const i=b(e,["config"]);return i!=null&&w(t,["config"],i),t}function Dj(r,e){const t={},n=b(e,["operationName"]);n!=null&&w(t,["_url","operationName"],n);const i=b(e,["config"]);return i!=null&&w(t,["config"],i),t}function Aj(r,e){const t={},n=b(e,["operationName"]);n!=null&&w(t,["operationName"],n);const i=b(e,["resourceName"]);i!=null&&w(t,["_url","resourceName"],i);const s=b(e,["config"]);return s!=null&&w(t,["config"],s),t}function Ej(r,e){const t={},n=b(e,["video","uri"]);n!=null&&w(t,["uri"],n);const i=b(e,["video","encodedVideo"]);i!=null&&w(t,["videoBytes"],bl(r,i));const s=b(e,["encoding"]);return s!=null&&w(t,["mimeType"],s),t}function Cj(r,e){const t={},n=b(e,["_self"]);return n!=null&&w(t,["video"],Ej(r,n)),t}function Sj(r,e){const t={},n=b(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>Cj(r,l))),w(t,["generatedVideos"],a)}const i=b(e,["raiMediaFilteredCount"]);i!=null&&w(t,["raiMediaFilteredCount"],i);const s=b(e,["raiMediaFilteredReasons"]);return s!=null&&w(t,["raiMediaFilteredReasons"],s),t}function Uj(r,e){const t={},n=b(e,["name"]);n!=null&&w(t,["name"],n);const i=b(e,["metadata"]);i!=null&&w(t,["metadata"],i);const s=b(e,["done"]);s!=null&&w(t,["done"],s);const a=b(e,["error"]);a!=null&&w(t,["error"],a);const l=b(e,["response","generateVideoResponse"]);return l!=null&&w(t,["response"],Sj(r,l)),t}function kj(r,e){const t={},n=b(e,["gcsUri"]);n!=null&&w(t,["uri"],n);const i=b(e,["bytesBase64Encoded"]);i!=null&&w(t,["videoBytes"],bl(r,i));const s=b(e,["mimeType"]);return s!=null&&w(t,["mimeType"],s),t}function Rj(r,e){const t={},n=b(e,["_self"]);return n!=null&&w(t,["video"],kj(r,n)),t}function Nj(r,e){const t={},n=b(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>Rj(r,l))),w(t,["generatedVideos"],a)}const i=b(e,["raiMediaFilteredCount"]);i!=null&&w(t,["raiMediaFilteredCount"],i);const s=b(e,["raiMediaFilteredReasons"]);return s!=null&&w(t,["raiMediaFilteredReasons"],s),t}function Pk(r,e){const t={},n=b(e,["name"]);n!=null&&w(t,["name"],n);const i=b(e,["metadata"]);i!=null&&w(t,["metadata"],i);const s=b(e,["done"]);s!=null&&w(t,["done"],s);const a=b(e,["error"]);a!=null&&w(t,["error"],a);const l=b(e,["response"]);return l!=null&&w(t,["response"],Nj(r,l)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mj extends Cm{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,n=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let s;return n&&"httpOptions"in n&&(s=n.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:s}})}else return this.getVideosOperationInternal({operationName:t.name,config:n})}async getVideosOperationInternal(e){var t,n,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=Dj(this.apiClient,e);return l=lt("{operationName}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),a.then(h=>Pk(this.apiClient,h))}else{const d=Tj(this.apiClient,e);return l=lt("{operationName}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>Uj(this.apiClient,h))}}async fetchPredictVideosOperationInternal(e){var t,n;let i,s="",a={};if(this.apiClient.isVertexAI()){const l=Aj(this.apiClient,e);return s=lt("{resourceName}:fetchPredictOperation",l._url),a=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),i.then(u=>Pk(this.apiClient,u))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ij(r,e){const t={},n=b(e,["name"]);n!=null&&w(t,["_url","name"],n);const i=b(e,["config"]);return i!=null&&w(t,["config"],i),t}function Fj(r,e,t){const n={},i=b(e,["pageSize"]);t!==void 0&&i!=null&&w(t,["_query","pageSize"],i);const s=b(e,["pageToken"]);t!==void 0&&s!=null&&w(t,["_query","pageToken"],s);const a=b(e,["filter"]);return t!==void 0&&a!=null&&w(t,["_query","filter"],a),n}function Lj(r,e){const t={},n=b(e,["config"]);return n!=null&&w(t,["config"],Fj(r,n,t)),t}function Oj(r,e){const t={},n=b(e,["textInput"]);n!=null&&w(t,["textInput"],n);const i=b(e,["output"]);return i!=null&&w(t,["output"],i),t}function Pj(r,e){const t={};if(b(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=b(e,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Oj(r,s))),w(t,["examples","examples"],i)}return t}function Bj(r,e,t){const n={};if(b(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=b(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&w(t,["displayName"],i),b(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=b(e,["epochCount"]);t!==void 0&&s!=null&&w(t,["tuningTask","hyperparameters","epochCount"],s);const a=b(e,["learningRateMultiplier"]);if(a!=null&&w(n,["tuningTask","hyperparameters","learningRateMultiplier"],a),b(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(b(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=b(e,["batchSize"]);t!==void 0&&l!=null&&w(t,["tuningTask","hyperparameters","batchSize"],l);const u=b(e,["learningRate"]);return t!==void 0&&u!=null&&w(t,["tuningTask","hyperparameters","learningRate"],u),n}function zj(r,e){const t={},n=b(e,["baseModel"]);n!=null&&w(t,["baseModel"],n);const i=b(e,["trainingDataset"]);i!=null&&w(t,["tuningTask","trainingData"],Pj(r,i));const s=b(e,["config"]);return s!=null&&w(t,["config"],Bj(r,s,t)),t}function qj(r,e){const t={},n=b(e,["name"]);n!=null&&w(t,["_url","name"],n);const i=b(e,["config"]);return i!=null&&w(t,["config"],i),t}function Wj(r,e,t){const n={},i=b(e,["pageSize"]);t!==void 0&&i!=null&&w(t,["_query","pageSize"],i);const s=b(e,["pageToken"]);t!==void 0&&s!=null&&w(t,["_query","pageToken"],s);const a=b(e,["filter"]);return t!==void 0&&a!=null&&w(t,["_query","filter"],a),n}function jj(r,e){const t={},n=b(e,["config"]);return n!=null&&w(t,["config"],Wj(r,n,t)),t}function Vj(r,e,t){const n={},i=b(e,["gcsUri"]);if(t!==void 0&&i!=null&&w(t,["supervisedTuningSpec","trainingDatasetUri"],i),b(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function Hj(r,e){const t={},n=b(e,["gcsUri"]);return n!=null&&w(t,["validationDatasetUri"],n),t}function Gj(r,e,t){const n={},i=b(e,["validationDataset"]);t!==void 0&&i!=null&&w(t,["supervisedTuningSpec"],Hj(r,i));const s=b(e,["tunedModelDisplayName"]);t!==void 0&&s!=null&&w(t,["tunedModelDisplayName"],s);const a=b(e,["description"]);t!==void 0&&a!=null&&w(t,["description"],a);const l=b(e,["epochCount"]);t!==void 0&&l!=null&&w(t,["supervisedTuningSpec","hyperParameters","epochCount"],l);const u=b(e,["learningRateMultiplier"]);t!==void 0&&u!=null&&w(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const d=b(e,["exportLastCheckpointOnly"]);t!==void 0&&d!=null&&w(t,["supervisedTuningSpec","exportLastCheckpointOnly"],d);const h=b(e,["adapterSize"]);if(t!==void 0&&h!=null&&w(t,["supervisedTuningSpec","hyperParameters","adapterSize"],h),b(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(b(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function $j(r,e){const t={},n=b(e,["baseModel"]);n!=null&&w(t,["baseModel"],n);const i=b(e,["trainingDataset"]);i!=null&&w(t,["supervisedTuningSpec","trainingDatasetUri"],Vj(r,i,t));const s=b(e,["config"]);return s!=null&&w(t,["config"],Gj(r,s,t)),t}function Xj(r,e){const t={},n=b(e,["name"]);n!=null&&w(t,["model"],n);const i=b(e,["name"]);return i!=null&&w(t,["endpoint"],i),t}function Z5(r,e){const t={},n=b(e,["name"]);n!=null&&w(t,["name"],n);const i=b(e,["state"]);i!=null&&w(t,["state"],F5(r,i));const s=b(e,["createTime"]);s!=null&&w(t,["createTime"],s);const a=b(e,["tuningTask","startTime"]);a!=null&&w(t,["startTime"],a);const l=b(e,["tuningTask","completeTime"]);l!=null&&w(t,["endTime"],l);const u=b(e,["updateTime"]);u!=null&&w(t,["updateTime"],u);const d=b(e,["description"]);d!=null&&w(t,["description"],d);const h=b(e,["baseModel"]);h!=null&&w(t,["baseModel"],h);const p=b(e,["_self"]);p!=null&&w(t,["tunedModel"],Xj(r,p));const g=b(e,["distillationSpec"]);g!=null&&w(t,["distillationSpec"],g);const y=b(e,["experiment"]);y!=null&&w(t,["experiment"],y);const v=b(e,["labels"]);v!=null&&w(t,["labels"],v);const x=b(e,["pipelineJob"]);x!=null&&w(t,["pipelineJob"],x);const T=b(e,["serviceAccount"]);T!=null&&w(t,["serviceAccount"],T);const D=b(e,["tunedModelDisplayName"]);return D!=null&&w(t,["tunedModelDisplayName"],D),t}function Qj(r,e){const t={},n=b(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=b(e,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Z5(r,a))),w(t,["tuningJobs"],s)}return t}function Yj(r,e){const t={},n=b(e,["name"]);n!=null&&w(t,["name"],n);const i=b(e,["metadata"]);i!=null&&w(t,["metadata"],i);const s=b(e,["done"]);s!=null&&w(t,["done"],s);const a=b(e,["error"]);return a!=null&&w(t,["error"],a),t}function Kj(r,e){const t={},n=b(e,["checkpointId"]);n!=null&&w(t,["checkpointId"],n);const i=b(e,["epoch"]);i!=null&&w(t,["epoch"],i);const s=b(e,["step"]);s!=null&&w(t,["step"],s);const a=b(e,["endpoint"]);return a!=null&&w(t,["endpoint"],a),t}function Zj(r,e){const t={},n=b(e,["model"]);n!=null&&w(t,["model"],n);const i=b(e,["endpoint"]);i!=null&&w(t,["endpoint"],i);const s=b(e,["checkpoints"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>Kj(r,l))),w(t,["checkpoints"],a)}return t}function aw(r,e){const t={},n=b(e,["name"]);n!=null&&w(t,["name"],n);const i=b(e,["state"]);i!=null&&w(t,["state"],F5(r,i));const s=b(e,["createTime"]);s!=null&&w(t,["createTime"],s);const a=b(e,["startTime"]);a!=null&&w(t,["startTime"],a);const l=b(e,["endTime"]);l!=null&&w(t,["endTime"],l);const u=b(e,["updateTime"]);u!=null&&w(t,["updateTime"],u);const d=b(e,["error"]);d!=null&&w(t,["error"],d);const h=b(e,["description"]);h!=null&&w(t,["description"],h);const p=b(e,["baseModel"]);p!=null&&w(t,["baseModel"],p);const g=b(e,["tunedModel"]);g!=null&&w(t,["tunedModel"],Zj(r,g));const y=b(e,["supervisedTuningSpec"]);y!=null&&w(t,["supervisedTuningSpec"],y);const v=b(e,["tuningDataStats"]);v!=null&&w(t,["tuningDataStats"],v);const x=b(e,["encryptionSpec"]);x!=null&&w(t,["encryptionSpec"],x);const T=b(e,["partnerModelTuningSpec"]);T!=null&&w(t,["partnerModelTuningSpec"],T);const D=b(e,["distillationSpec"]);D!=null&&w(t,["distillationSpec"],D);const E=b(e,["experiment"]);E!=null&&w(t,["experiment"],E);const C=b(e,["labels"]);C!=null&&w(t,["labels"],C);const R=b(e,["pipelineJob"]);R!=null&&w(t,["pipelineJob"],R);const U=b(e,["serviceAccount"]);U!=null&&w(t,["serviceAccount"],U);const M=b(e,["tunedModelDisplayName"]);return M!=null&&w(t,["tunedModelDisplayName"],M),t}function Jj(r,e){const t={},n=b(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=b(e,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>aw(r,a))),w(t,["tuningJobs"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eV extends Cm{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new pb(Rh.PAGED_ITEM_TUNING_JOBS,n=>this.listInternal(n),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const n=await this.tuneMldevInternal(t);let i="";return n.metadata!==void 0&&n.metadata.tunedModel!==void 0?i=n.metadata.tunedModel:n.name!==void 0&&n.name.includes("/operations/")&&(i=n.name.split("/operations/")[0]),{name:i,state:K_.JOB_STATE_QUEUED}}}}async getInternal(e){var t,n,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=qj(this.apiClient,e);return l=lt("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),a.then(h=>aw(this.apiClient,h))}else{const d=Ij(this.apiClient,e);return l=lt("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>Z5(this.apiClient,h))}}async listInternal(e){var t,n,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=jj(this.apiClient,e);return l=lt("tuningJobs",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),a.then(h=>{const p=Jj(this.apiClient,h),g=new fk;return Object.assign(g,p),g})}else{const d=Lj(this.apiClient,e);return l=lt("tunedModels",d._url),u=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>{const p=Qj(this.apiClient,h),g=new fk;return Object.assign(g,p),g})}}async tuneInternal(e){var t,n;let i,s="",a={};if(this.apiClient.isVertexAI()){const l=$j(this.apiClient,e);return s=lt("tuningJobs",l._url),a=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),i.then(u=>aw(this.apiClient,u))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,n;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=zj(this.apiClient,e);return s=lt("tunedModels",l._url),a=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),i.then(u=>Yj(this.apiClient,u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tV{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const nV=1024*1024*8,iV=3,rV=1e3,sV=2,y2="x-goog-upload-status";async function aV(r,e,t){var n,i,s;let a=0,l=0,u=new Z_(new Response),d="upload";for(a=r.size;l<a;){const p=Math.min(nV,a-l),g=r.slice(l,l+p);l+p>=a&&(d+=", finalize");let y=0,v=rV;for(;y<iV&&(u=await t.request({path:"",body:g,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(p)}}}),!(!((n=u==null?void 0:u.headers)===null||n===void 0)&&n[y2]));)y++,await lV(v),v=v*sV;if(l+=p,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[y2])!=="active")break;if(a<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(u==null?void 0:u.json());if(((s=u==null?void 0:u.headers)===null||s===void 0?void 0:s[y2])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function oV(r){return{size:r.size,type:r.type}}function lV(r){return new Promise(e=>setTimeout(e,r))}class cV{async upload(e,t,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await aV(e,t,n)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await oV(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uV{create(e,t,n){return new dV(e,t,n)}}class dV{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bk="x-goog-api-key";class hV{constructor(e){this.apiKey=e}async addAuthHeaders(e){e.get(Bk)===null&&e.append(Bk,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fV="gl-node/";class pV{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const n=n9(e,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion;const i=new hV(this.apiKey);this.apiClient=new oj({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:fV+"web",uploader:new cV,downloader:new tV}),this.models=new wj(this.apiClient),this.live=new yj(this.apiClient,i,new uV),this.chats=new TB(this.models,this.apiClient),this.caches=new xB(this.apiClient),this.files=new LB(this.apiClient),this.operations=new Mj(this.apiClient),this.tunings=new eV(this.apiClient)}}let v2=null;const J5=()=>{if(!v2){const r="AIzaSyDDcYcb1JB-NKFRDC28KK0yVH_Z3GX9lU0";v2=new pV({apiKey:r})}return v2},gV=r=>{let e=r.trim();const n=/^```(?:json)?\s*\n?(.*?)\n?\s*```$/s.exec(e);n&&n[1]&&(e=n[1].trim()),e=e.replace(/侬/g,""),e=e.replace(/ܘ/g,""),e=e.replace(/对着/g,""),e=e.replace(/"\s*```\s*([\]\},])/g,'"$1'),e=e.replace(/"\s*```\s*(,"[^"]+")/g,'"$1');try{const i='("[^"\\\\]*(?:\\\\.[^"\\\\]*)*")\\s*\\n\\s*([a-zA-Z_][a-zA-Z0-9_]*(?:\\s+[a-zA-Z_][a-zA-Z0-9_]*)*\\s*)"',s=new RegExp(i,"g");e=e.replace(s,(a,l,u)=>`${l.slice(0,-1)} ${u.trim()}"`)}catch(i){console.warn("Error during string newline fixing regex replacement. Skipping this step.",i)}e=e.replace(/,\s*([\}\]])/g,"$1");try{return JSON.parse(e)}catch(i){console.error(`Primary JSON.parse failed for Gemini response. Error: ${i.message}. Attempting fallback parsing.`,"Cleaned jsonStr (up to 1000 chars) before primary parse attempt:",e.substring(0,1e3),"Original raw text (up to 1000 chars) received from AI:",r.substring(0,1e3));const s=e.indexOf("["),a=e.indexOf("{");let l=-1;if(s!==-1&&(a===-1||s<a)?l=s:a!==-1&&(l=a),l!==-1){let u=0,d=0,h=-1,p=!1;const g=e[l];for(let y=l;y<e.length;y++){const v=e[y];if(v==='"'&&(y===0||e[y-1]!=="\\"||e[y-1]==="\\"&&y>1&&e[y-2]==="\\")&&(e[y-1]==="\\"&&y>1&&e[y-2]==="\\"||e[y-1]!=="\\"&&(p=!p)),!p){if(v==="{"?d++:v==="}"?d--:v==="["?u++:v==="]"&&u--,g==="{"&&d===0&&u===0&&y>=l){h=y;break}if(g==="["&&u===0&&d===0&&y>=l){h=y;break}}}if(h!==-1)try{let y=e.substring(l,h+1);return y=y.replace(/,\s*([\}\]])/g,"$1"),console.log("Fallback parsing attempting with substring:",y.substring(0,500)+(y.length>500?"...":"")),JSON.parse(y)}catch(y){console.error("Fallback JSON.parse also failed (Gemini). Error: ",y.message,"Substring attempted:",e.substring(l,h+1).substring(0,500))}else console.warn("Fallback parsing: Could not determine a valid JSON substring (Gemini). This might be due to severe truncation or malformation.")}else console.warn("Fallback parsing: No JSON start characters ([ or {) found in the response (Gemini).");return null}},mV=r=>`
        CRITICAL JSON Output Schema (MUST follow strictly):
        {
          "title": "string (creative and relevant quiz title in ${r})",
          "questions": [
            {
              "id": "string (unique identifier, e.g., 'q1', 'q2'. Make this reasonably unique.)",
              "questionText": "string (clear, unambiguous multiple-choice question in ${r}. Do not truncate.)",
              "options": ["string (A JSON array of 3-5 distinct, plausible option strings in ${r}. Each option MUST be a complete, valid JSON string, properly quoted and NOT TRUNCATED. Options MUST be comma-separated. No extraneous text should appear within or after this array before the closing ']'.)"],
              "correctAnswer": "string (The exact text of the correct option from the 'options' array. All in ${r})",
              "explanation": "string (Detailed explanation in ${r}, ideally 2-4 concise sentences. Explain correctness and why distractors are wrong. Refer to source content if possible. This field can ALSO include supplementary information as requested by custom user prompts, such as IPA transcriptions, etymologies, or example sentences, integrated naturally with the main explanation. Ensure this string is valid JSON content and not truncated.)"
            }
          ]
        }
`,yV=(r,e,t)=>{let n="";const i=[];let s=`You are an Expert Quiz Designer specializing in MULTIPLE-CHOICE questions.
Your primary goal is to create high-quality multiple-choice quizzes based on the provided content and user specifications.
Output format MUST be a single, valid JSON object as per the schema. No other text or markdown outside this JSON object.
The quiz, including all titles, questions, options, and explanations, MUST be in ${e.language||"English"}.

Your behavior regarding quiz content and style MUST be guided by the user's specific instructions, if provided.

PRIMARY TASK MODIFICATION BASED ON USER INPUT:
Review the 'USER-PROVIDED INSTRUCTIONS' block below.

IF THE 'USER-PROVIDED INSTRUCTIONS' BLOCK CONTAINS TEXT:
  - These user instructions define the REQUIRED *content, style, tone, and focus* for all quiz elements (questions, options, explanations).
  - These instructions take ABSOLUTE PRECEDENCE. They OVERRIDE any conflicting general guidelines or suggestions found elsewhere regarding quiz content and style.
  - Your main task becomes: meticulously implement these user instructions to shape the quiz.
  - If user instructions request specific textual additions related to a question (e.g., IPA transcriptions, etymologies, example sentences), you SHOULD integrate these naturally within the 'explanation' field for the relevant question. This is in addition to the core explanation of why the answer is correct and why distractors are wrong. Ensure the primary explanation remains clear and complete.
  - However, you MUST still strictly adhere to the required JSON output format and structure, and ensure all questions are multiple-choice.

ELSE (if the 'USER-PROVIDED INSTRUCTIONS' block is empty or explicitly states no custom instructions):
  - Generate the quiz based on the general guidelines and the provided source content, focusing on accuracy and relevance to the source.

---
BEGIN USER-PROVIDED INSTRUCTIONS:
${e.customUserPrompt&&e.customUserPrompt.trim()?e.customUserPrompt.trim():"No specific user instructions provided beyond quiz configuration. Default quiz generation guidelines apply."}
END USER-PROVIDED INSTRUCTIONS
---

Regardless of custom instructions, always ensure the output JSON format is strictly correct and complete, and all questions are multiple-choice.
Ensure there is NO extraneous text or characters between JSON properties or after string values before the expected comma or closing brace/bracket.
Each string value, especially within arrays like 'options', must be complete, correctly quoted, and escaped. Pay EXTREME attention to not truncating strings or omitting closing quotes/brackets.
Every part of the JSON response, especially strings, must be correctly formatted and escaped. Check for and remove any accidental truncation or data leakage between fields.`;const a=t?`The quiz title should be relevant to "${t}".`:"Suggest a creative and relevant title for this quiz.",l=e.difficulty==="AI-Determined"?`Determine the optimal number of multiple-choice questions (aim for ${e.numQuestions>0?e.numQuestions:"between 5 and 10, but adjust based on content length/complexity"}) and their difficulty levels based on the provided content. Strive for a balanced mix of difficulties if appropriate.`:`The quiz should have exactly ${e.numQuestions} multiple-choice questions. The difficulty for all questions should be ${e.difficulty}. `,u=!!(e.customUserPrompt&&e.customUserPrompt.trim());let d;u?d=`
IMPORTANT: Your primary guide for quiz *content, style, tone, and focus* is the 'USER-PROVIDED INSTRUCTIONS' block found in the System Instructions for this task. You MUST meticulously follow them.
The instructions below define the REQUIRED *structural and formatting* aspects for the quiz output.
ALL questions MUST be multiple-choice.
The quiz, including all titles, questions, options, and explanations, MUST be in ${e.language||"English"}.
${a}
${l}
`:d=`
General multiple-choice quiz generation guidelines:
The quiz, including all titles, questions, options, and explanations, MUST be in ${e.language||"English"}.
${a}
${l}
ALL questions MUST be multiple-choice.
`;const p=`
        ${d}
        ${mV(e.language||"English")}

        Key Quality Guidelines (Always Apply for JSON Structure and Validity):
        1.  Questions: Clear and unambiguous multiple-choice questions. Each question must have 3-5 distinct, plausible options.
        2.  Options Array: The "options" field MUST be a valid JSON array of strings. Each string option within the 'options' array must be COMPLETE and correctly terminated with a quote, followed by a comma (if not the last item) or the closing square bracket. Incomplete or truncated strings within this array will break the JSON. Do NOT leave strings unterminated.
        3.  Explanations: Concise (ideally 2-4 sentences for the core part), comprehensive, explaining correctness and incorrectness for options. If custom instructions request additional information (like IPA), include it here as well. Ensure explanations are valid JSON string content and not truncated.
        4.  Language: Strictly in ${e.language||"English"}.
        5.  Completeness: All required JSON fields must be present for each question.
        6.  String Integrity: All string values within the JSON must be properly escaped and not contain raw newlines or characters that break JSON. This is especially critical for strings within arrays. Ensure every string is fully formed and terminated. For LaTeX content within string values, a single LaTeX backslash (e.g., in \\sqrt) MUST be represented as a double backslash (e.g., \\\\sqrt) in the JSON string value so that it's a valid JSON string and parses correctly.
        7.  Strict JSON Adherence: Your entire response must be a single, valid JSON object with no surrounding text or markdown. Ensure no truncation, especially within string values or arrays. There should be no characters between a string value and the following comma or closing brace/bracket. Double-check for any truncated strings or missing closing quotes/brackets, especially if the content is long or contains special characters.
        8.  Internal Cleanliness: Ensure no non-JSON characters (e.g., stray unicode characters, incomplete markdown markers like \`\`\`) are present *within* the JSON structure itself, particularly not after string values or before closing delimiters like ']' or '}'.
        9.  Array Element Purity: When constructing JSON arrays (e.g., the "options" array), ensure that only valid JSON elements (typically strings in quotes) are present. DO NOT include any unquoted text, extraneous phrases, or non-JSON data between valid array elements, or between the last valid element and the closing square bracket (']'). For example, an array like \`"options": ["Option A", "Option B" extraneous text here, "Option C"]\` is INVALID. It MUST be \`"options": ["Option A", "Option B", "Option C"]\`. Any text within an array must be part of a properly quoted and comma-separated string element.
        10. Handling Response Length Limits: It is CRITICAL that the entire JSON response is valid. If the content to be included in a field, especially the 'explanation' field, is very long and risks exceeding response limits, you MUST prioritize JSON validity. This means:
            a. Shorten the content of the field (e.g., the explanation) to ensure it fits, RATHER THAN truncating the JSON structure itself or a string value mid-way.
            b. Ensure the shortened content is still a valid, properly quoted JSON string (e.g., "A shorter but complete explanation.").
            c. Never allow an unterminated string or an incomplete JSON object/array. If you must cut content, do it within the text of a field and ensure that field is still correctly formatted as a JSON string with a closing quote.
    `;return typeof r=="string"?(n=r.substring(0,500)+(r.length>500?"...":""),i.push({text:`Source Text: """${r}"""

Instructions for multiple-choice quiz generation: """${p}"""`})):(n=`Image content (${r.mimeType})`,i.push({inlineData:{data:r.base64Data,mimeType:r.mimeType}}),i.push({text:`Instructions for multiple-choice quiz based on the preceding image: """${p}"""`})),{requestContents:{parts:i},sourceContentSnippet:n,systemInstructionString:s}},vV=async(r,e,t)=>{const n=J5(),{requestContents:i,sourceContentSnippet:s,systemInstructionString:a}=yV(r,e,t);try{const u=(await n.models.generateContent({model:y5,contents:i,config:{responseMimeType:"application/json",systemInstruction:a}})).text,d=gV(u);if(!d||!d.questions||!d.title||!Array.isArray(d.questions)||d.questions.length===0)throw console.error("Failed to parse quiz data or data is incomplete/invalid structure (Gemini).","Parsed Data (if any):",d),new Error("Gemini AI failed to generate quiz in the expected format or returned an empty/invalid quiz. Please check the console for the raw AI response and parsing attempts.");const h=d.questions.map((p,g)=>{const y=p.id||`gq${g+1}-${Date.now()}`;let v=p.options;(!Array.isArray(p.options)||p.options.length<2)&&(console.warn(`Question ${y} has invalid options, providing defaults. Original options:`,p.options),v=[`Generated Option A for ${y}`,`Generated Option B for ${y}`,`Generated Option C for ${y}`]);let x=typeof p.correctAnswer=="string"?p.correctAnswer:"";return!v.includes(x)&&v.length>0?(console.warn(`Correct answer for ${y} ('${p.correctAnswer}') not in options. Defaulting to first option. Options:`,v),x=v[0]):v.length===0&&(x="A model answer should be provided here."),{...p,id:y,options:v,correctAnswer:x,explanation:p.explanation||"No explanation provided by AI. Consider regenerating or editing."}});return{...d,questions:h,sourceContentSnippet:s}}catch(l){console.error("Error generating quiz with Gemini:",l);let u="Failed to generate quiz with Gemini. An unexpected error occurred. Please try again later.";if(l instanceof Error){const d=l.message,h=d.toLowerCase();h.includes("api key not valid")||h.includes("api_key_invalid")||h.includes("api_key is not configured")?u="Invalid or Missing Gemini API Key. Please ensure the API_KEY environment variable is correctly configured.":h.includes("deadline exceeded")?u="The Gemini AI took too long to respond. This might be due to complex content or a temporary issue. Please try again or simplify the content.":h.includes("quota")?u="Gemini API quota exceeded. Please check your Google AI Platform quotas or try again later.":h.includes("500")||h.includes("unknown")||h.includes("rpc failed")||h.includes("xhr error")?u="An unexpected error occurred while communicating with the AI service (Server Error or Network Issue). Please check your internet connection and try again in a few moments. If the problem persists, the AI service might be temporarily unavailable.":(h.includes("ai failed to generate quiz")||h.includes("empty/invalid quiz"))&&(u=d)}throw new Error(u)}},bV=async r=>{const e=J5(),i={parts:[{inlineData:{data:r.base64Data,mimeType:r.mimeType}},{text:"Extract all visible text from this image. Respond with only the extracted text, without any additional commentary, formatting, or markdown. Just return the raw text content found in the image."}]};try{return(await e.models.generateContent({model:y5,contents:i})).text.trim()}catch(s){if(console.error("Error extracting text from image with Gemini:",s),s instanceof Error){const a=s.message.toLowerCase();if(a.includes("api key not valid")||a.includes("api_key_invalid")||a.includes("api_key is not configured"))throw new Error("Invalid or Missing Gemini API Key for text extraction. Please ensure the API_KEY environment variable is correctly configured.");if(a.includes("500")||a.includes("unknown")||a.includes("rpc failed")||a.includes("xhr error"))throw new Error("Failed to extract text from image due to a server or network error. Please try again.")}return null}},xV=async(r,e,t)=>(e.selectedModel!==Ts&&console.warn(`Unsupported model selected: ${e.selectedModel}. Defaulting to Gemini.`),vV(r,e,t));var Ep={};Ep.d=(r,e)=>{for(var t in e)Ep.o(e,t)&&!Ep.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})};Ep.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var ct=globalThis.pdfjsLib={};Ep.d(ct,{AbortException:()=>pu,AnnotationEditorLayer:()=>mT,AnnotationEditorParamsType:()=>ht,AnnotationEditorType:()=>kt,AnnotationEditorUIManager:()=>ou,AnnotationLayer:()=>vG,AnnotationMode:()=>Bo,CMapCompressionType:()=>lw,ColorPicker:()=>L0,DOMSVGFactory:()=>ZT,DrawLayer:()=>xT,FeatureTest:()=>qi,GlobalWorkerOptions:()=>Ya,ImageKind:()=>Av,InvalidPDFException:()=>tM,MissingPDFException:()=>fu,OPS:()=>Kr,Outliner:()=>Kw,PDFDataRangeTransport:()=>YM,PDFDateString:()=>lM,PDFWorker:()=>Cd,PasswordResponses:()=>DV,PermissionFlag:()=>TV,PixelsPerInch:()=>fl,RenderingCancelledException:()=>JT,TextLayer:()=>Nh,UnexpectedResponseException:()=>bb,Util:()=>et,VerbosityLevel:()=>mb,XfaLayer:()=>ZM,build:()=>ZH,createValidAbsoluteUrl:()=>SV,fetchData:()=>Db,getDocument:()=>jH,getFilenameFromUrl:()=>PV,getPdfFilenameFromUrl:()=>BV,getXfaPageViewport:()=>zV,isDataScheme:()=>eD,isPdfFile:()=>tD,noContextMenu:()=>ji,normalizeUnicode:()=>IV,renderTextLayer:()=>IH,setLayerDimensions:()=>au,shadow:()=>Rt,updateTextLayer:()=>FH,version:()=>KH});const yi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),eM=[1,0,0,1,0,0],ow=[.001,0,0,.001,0,0],_V=1e7,b2=1.35,Fr={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},Bo={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},wV="pdfjs_internal_editor_",kt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},ht={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},TV={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},hi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Av={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Mn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},qf={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},mb={ERRORS:0,WARNINGS:1,INFOS:5},lw={NONE:0,BINARY:1},Kr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},DV={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let yb=mb.WARNINGS;function AV(r){Number.isInteger(r)&&(yb=r)}function EV(){return yb}function vb(r){yb>=mb.INFOS&&console.log(`Info: ${r}`)}function _t(r){yb>=mb.WARNINGS&&console.log(`Warning: ${r}`)}function Qt(r){throw new Error(r)}function Pn(r,e){r||Qt(e)}function CV(r){switch(r==null?void 0:r.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function SV(r,e=null,t=null){if(!r)return null;try{if(t&&typeof r=="string"){if(t.addDefaultProtocol&&r.startsWith("www.")){const i=r.match(/\./g);(i==null?void 0:i.length)>=2&&(r=`http://${r}`)}if(t.tryConvertEncoding)try{r=MV(r)}catch{}}const n=e?new URL(r,e):new URL(r);if(CV(n))return n}catch{}return null}function Rt(r,e,t,n=!1){return Object.defineProperty(r,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const xl=function(){function e(t,n){this.constructor===e&&Qt("Cannot initialize BaseException."),this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class cw extends xl{constructor(e,t){super(e,"PasswordException"),this.code=t}}class uw extends xl{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class tM extends xl{constructor(e){super(e,"InvalidPDFException")}}class fu extends xl{constructor(e){super(e,"MissingPDFException")}}class bb extends xl{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class UV extends xl{constructor(e){super(e,"FormatError")}}class pu extends xl{constructor(e){super(e,"AbortException")}}function nM(r){(typeof r!="object"||(r==null?void 0:r.length)===void 0)&&Qt("Invalid argument for bytesToString");const e=r.length,t=8192;if(e<t)return String.fromCharCode.apply(null,r);const n=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),a=r.subarray(i,s);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function xb(r){typeof r!="string"&&Qt("Invalid argument for stringToBytes");const e=r.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=r.charCodeAt(n)&255;return t}function kV(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function YT(r){const e=Object.create(null);for(const[t,n]of r)e[t]=n;return e}function RV(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function NV(){try{return new Function(""),!0}catch{return!1}}class qi{static get isLittleEndian(){return Rt(this,"isLittleEndian",RV())}static get isEvalSupported(){return Rt(this,"isEvalSupported",NV())}static get isOffscreenCanvasSupported(){return Rt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Rt(this,"platform",{isMac:navigator.platform.includes("Mac")}):Rt(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return Rt(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const x2=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));var Za,Ev,dw;class et{static makeHexColor(e,t,n){return`#${x2[e]}${x2[t]}${x2[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const n=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[n,i]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n;return[i,s]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],i[0],s[0],a[0]),Math.min(n[1],i[1],s[1],a[1]),Math.max(n[0],i[0],s[0],a[0]),Math.max(n[1],i[1],s[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],l=(n+a)/2,u=Math.sqrt((n+a)**2-4*(n*a-s*i))/2,d=l+u||1,h=l-u||1;return[Math.sqrt(d),Math.sqrt(h)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[n,s,i,a]}static bezierBoundingBox(e,t,n,i,s,a,l,u,d){return d?(d[0]=Math.min(d[0],e,l),d[1]=Math.min(d[1],t,u),d[2]=Math.max(d[2],e,l),d[3]=Math.max(d[3],t,u)):d=[Math.min(e,l),Math.min(t,u),Math.max(e,l),Math.max(t,u)],Y(this,Za,dw).call(this,e,n,s,l,t,i,a,u,3*(-e+3*(n-s)+l),6*(e-2*n+s),3*(n-e),d),Y(this,Za,dw).call(this,e,n,s,l,t,i,a,u,3*(-t+3*(i-a)+u),6*(t-2*i+a),3*(i-t),d),d}}Za=new WeakSet,Ev=function(e,t,n,i,s,a,l,u,d,h){if(d<=0||d>=1)return;const p=1-d,g=d*d,y=g*d,v=p*(p*(p*e+3*d*t)+3*g*n)+y*i,x=p*(p*(p*s+3*d*a)+3*g*l)+y*u;h[0]=Math.min(h[0],v),h[1]=Math.min(h[1],x),h[2]=Math.max(h[2],v),h[3]=Math.max(h[3],x)},dw=function(e,t,n,i,s,a,l,u,d,h,p,g){if(Math.abs(d)<1e-12){Math.abs(h)>=1e-12&&Y(this,Za,Ev).call(this,e,t,n,i,s,a,l,u,-p/h,g);return}const y=h**2-4*p*d;if(y<0)return;const v=Math.sqrt(y),x=2*d;Y(this,Za,Ev).call(this,e,t,n,i,s,a,l,u,(-h+v)/x,g),Y(this,Za,Ev).call(this,e,t,n,i,s,a,l,u,(-h-v)/x,g)},Z(et,Za);function MV(r){return decodeURIComponent(escape(r))}let _2=null,zk=null;function IV(r){return _2||(_2=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,zk=new Map([["ﬅ","ſt"]])),r.replaceAll(_2,(e,t,n)=>t?t.normalize("NFKC"):zk.get(n))}function FV(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const r=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(r);else for(let e=0;e<32;e++)r[e]=Math.floor(Math.random()*255);return nM(r)}const iM="pdfjs_internal_id_",fa={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class _b{constructor(){this.constructor===_b&&Qt("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,s){return"none"}destroy(e=!1){}}var Hp;const nA=class nA{constructor({enableHWA:e=!1}={}){Z(this,Hp,!1);this.constructor===nA&&Qt("Cannot initialize BaseCanvasFactory."),$(this,Hp,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!_(this,Hp)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Qt("Abstract method `_createCanvas` called.")}};Hp=new WeakMap;let R0=nA;class wb{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===wb&&Qt("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),n=this.isCompressed?lw.BINARY:lw.NONE;return this._fetchData(t,n).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){Qt("Abstract method `_fetchData` called.")}}class Tb{constructor({baseUrl:e=null}){this.constructor===Tb&&Qt("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){Qt("Abstract method `_fetchData` called.")}}class KT{constructor(){this.constructor===KT&&Qt("Cannot initialize BaseSVGFactory.")}create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Qt("Abstract method `_createSVG` called.")}}const ya="http://www.w3.org/2000/svg",ic=class ic{};pt(ic,"CSS",96),pt(ic,"PDF",72),pt(ic,"PDF_TO_CSS_UNITS",ic.CSS/ic.PDF);let fl=ic;var sc,As,Da,Oi,H0,ac,Ye,fi,yd,vd,Cv,rM,hw,bd,op,lp,fw,cp;class LV extends _b{constructor({docId:t,ownerDocument:n=globalThis.document}={}){super();Z(this,Ye);Z(this,sc);Z(this,As);Z(this,Da);Z(this,Oi);Z(this,H0);Z(this,ac,0);$(this,Da,t),$(this,Oi,n)}addFilter(t){if(!t)return"none";let n=_(this,Ye,fi).get(t);if(n)return n;const[i,s,a]=Y(this,Ye,Cv).call(this,t),l=t.length===1?i:`${i}${s}${a}`;if(n=_(this,Ye,fi).get(l),n)return _(this,Ye,fi).set(t,n),n;const u=`g_${_(this,Da)}_transfer_map_${ir(this,ac)._++}`,d=`url(#${u})`;_(this,Ye,fi).set(t,d),_(this,Ye,fi).set(l,d);const h=Y(this,Ye,bd).call(this,u);return Y(this,Ye,lp).call(this,i,s,a,h),d}addHCMFilter(t,n){var v;const i=`${t}-${n}`,s="base";let a=_(this,Ye,yd).get(s);if((a==null?void 0:a.key)===i||(a?((v=a.filter)==null||v.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},_(this,Ye,yd).set(s,a)),!t||!n))return a.url;const l=Y(this,Ye,cp).call(this,t);t=et.makeHexColor(...l);const u=Y(this,Ye,cp).call(this,n);if(n=et.makeHexColor(...u),_(this,Ye,vd).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return a.url;const d=new Array(256);for(let x=0;x<=255;x++){const T=x/255;d[x]=T<=.03928?T/12.92:((T+.055)/1.055)**2.4}const h=d.join(","),p=`g_${_(this,Da)}_hcm_filter`,g=a.filter=Y(this,Ye,bd).call(this,p);Y(this,Ye,lp).call(this,h,h,h,g),Y(this,Ye,hw).call(this,g);const y=(x,T)=>{const D=l[x]/255,E=u[x]/255,C=new Array(T+1);for(let R=0;R<=T;R++)C[R]=D+R/T*(E-D);return C.join(",")};return Y(this,Ye,lp).call(this,y(0,5),y(1,5),y(2,5),g),a.url=`url(#${p})`,a.url}addAlphaFilter(t){let n=_(this,Ye,fi).get(t);if(n)return n;const[i]=Y(this,Ye,Cv).call(this,[t]),s=`alpha_${i}`;if(n=_(this,Ye,fi).get(s),n)return _(this,Ye,fi).set(t,n),n;const a=`g_${_(this,Da)}_alpha_map_${ir(this,ac)._++}`,l=`url(#${a})`;_(this,Ye,fi).set(t,l),_(this,Ye,fi).set(s,l);const u=Y(this,Ye,bd).call(this,a);return Y(this,Ye,fw).call(this,i,u),l}addLuminosityFilter(t){let n=_(this,Ye,fi).get(t||"luminosity");if(n)return n;let i,s;if(t?([i]=Y(this,Ye,Cv).call(this,[t]),s=`luminosity_${i}`):s="luminosity",n=_(this,Ye,fi).get(s),n)return _(this,Ye,fi).set(t,n),n;const a=`g_${_(this,Da)}_luminosity_map_${ir(this,ac)._++}`,l=`url(#${a})`;_(this,Ye,fi).set(t,l),_(this,Ye,fi).set(s,l);const u=Y(this,Ye,bd).call(this,a);return Y(this,Ye,rM).call(this,u),t&&Y(this,Ye,fw).call(this,i,u),l}addHighlightHCMFilter(t,n,i,s,a){var E;const l=`${n}-${i}-${s}-${a}`;let u=_(this,Ye,yd).get(t);if((u==null?void 0:u.key)===l||(u?((E=u.filter)==null||E.remove(),u.key=l,u.url="none",u.filter=null):(u={key:l,url:"none",filter:null},_(this,Ye,yd).set(t,u)),!n||!i))return u.url;const[d,h]=[n,i].map(Y(this,Ye,cp).bind(this));let p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),g=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[y,v]=[s,a].map(Y(this,Ye,cp).bind(this));g<p&&([p,g,y,v]=[g,p,v,y]),_(this,Ye,vd).style.color="";const x=(C,R,U)=>{const M=new Array(256),O=(g-p)/U,W=C/255,L=(R-C)/(255*U);let H=0;for(let ne=0;ne<=U;ne++){const F=Math.round(p+ne*O),B=W+ne*L;for(let N=H;N<=F;N++)M[N]=B;H=F+1}for(let ne=H;ne<256;ne++)M[ne]=M[H-1];return M.join(",")},T=`g_${_(this,Da)}_hcm_${t}_filter`,D=u.filter=Y(this,Ye,bd).call(this,T);return Y(this,Ye,hw).call(this,D),Y(this,Ye,lp).call(this,x(y[0],v[0],5),x(y[1],v[1],5),x(y[2],v[2],5),D),u.url=`url(#${T})`,u.url}destroy(t=!1){t&&_(this,Ye,yd).size!==0||(_(this,As)&&(_(this,As).parentNode.parentNode.remove(),$(this,As,null)),_(this,sc)&&(_(this,sc).clear(),$(this,sc,null)),$(this,ac,0))}}sc=new WeakMap,As=new WeakMap,Da=new WeakMap,Oi=new WeakMap,H0=new WeakMap,ac=new WeakMap,Ye=new WeakSet,fi=function(){return _(this,sc)||$(this,sc,new Map)},yd=function(){return _(this,H0)||$(this,H0,new Map)},vd=function(){if(!_(this,As)){const t=_(this,Oi).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=_(this,Oi).createElementNS(ya,"svg");i.setAttribute("width",0),i.setAttribute("height",0),$(this,As,_(this,Oi).createElementNS(ya,"defs")),t.append(i),i.append(_(this,As)),_(this,Oi).body.append(t)}return _(this,As)},Cv=function(t){if(t.length===1){const d=t[0],h=new Array(256);for(let g=0;g<256;g++)h[g]=d[g]/255;const p=h.join(",");return[p,p,p]}const[n,i,s]=t,a=new Array(256),l=new Array(256),u=new Array(256);for(let d=0;d<256;d++)a[d]=n[d]/255,l[d]=i[d]/255,u[d]=s[d]/255;return[a.join(","),l.join(","),u.join(",")]},rM=function(t){const n=_(this,Oi).createElementNS(ya,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},hw=function(t){const n=_(this,Oi).createElementNS(ya,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},bd=function(t){const n=_(this,Oi).createElementNS(ya,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),_(this,Ye,vd).append(n),n},op=function(t,n,i){const s=_(this,Oi).createElementNS(ya,n);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},lp=function(t,n,i,s){const a=_(this,Oi).createElementNS(ya,"feComponentTransfer");s.append(a),Y(this,Ye,op).call(this,a,"feFuncR",t),Y(this,Ye,op).call(this,a,"feFuncG",n),Y(this,Ye,op).call(this,a,"feFuncB",i)},fw=function(t,n){const i=_(this,Oi).createElementNS(ya,"feComponentTransfer");n.append(i),Y(this,Ye,op).call(this,i,"feFuncA",t)},cp=function(t){return _(this,Ye,vd).style.color=t,nD(getComputedStyle(_(this,Ye,vd)).getPropertyValue("color"))};class OV extends R0{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}async function Db(r,e="text"){if(up(r,document.baseURI)){const t=await fetch(r);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const i=new XMLHttpRequest;i.open("GET",r,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class sM extends wb{_fetchData(e,t){return Db(e,this.isCompressed?"arraybuffer":"text").then(n=>({cMapData:n instanceof ArrayBuffer?new Uint8Array(n):xb(n),compressionType:t}))}}class aM extends Tb{_fetchData(e){return Db(e,"arraybuffer").then(t=>new Uint8Array(t))}}class ZT extends KT{_createSVG(e){return document.createElementNS(ya,e)}}class Sm{constructor({viewBox:e,scale:t,rotation:n,offsetX:i=0,offsetY:s=0,dontFlip:a=!1}){this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=i,this.offsetY=s;const l=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,h,p,g;switch(n%=360,n<0&&(n+=360),n){case 180:d=-1,h=0,p=0,g=1;break;case 90:d=0,h=1,p=1,g=0;break;case 270:d=0,h=-1,p=-1,g=0;break;case 0:d=1,h=0,p=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(p=-p,g=-g);let y,v,x,T;d===0?(y=Math.abs(u-e[1])*t+i,v=Math.abs(l-e[0])*t+s,x=(e[3]-e[1])*t,T=(e[2]-e[0])*t):(y=Math.abs(l-e[0])*t+i,v=Math.abs(u-e[1])*t+s,x=(e[2]-e[0])*t,T=(e[3]-e[1])*t),this.transform=[d*t,h*t,p*t,g*t,y-d*t*l-p*t*u,v-h*t*l-g*t*u],this.width=x,this.height=T}get rawDims(){const{viewBox:e}=this;return Rt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new Sm({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return et.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=et.applyTransform([e[0],e[1]],this.transform),n=et.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return et.applyInverseTransform([e,t],this.transform)}}class JT extends xl{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function eD(r){const e=r.length;let t=0;for(;t<e&&r[t].trim()==="";)t++;return r.substring(t,t+5).toLowerCase()==="data:"}function tD(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function PV(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function BV(r,e="document.pdf"){if(typeof r!="string")return e;if(eD(r))return _t('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(r);let s=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=n.exec(decodeURIComponent(s))[0]}catch{}return s||e}class qk{constructor(){pt(this,"started",Object.create(null));pt(this,"times",[])}time(e){e in this.started&&_t(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||_t(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:s}of this.times)e.push(`${n.padEnd(t)} ${s-i}ms
`);return e.join("")}}function up(r,e){try{const{protocol:t}=e?new URL(r,e):new URL(r);return t==="http:"||t==="https:"}catch{return!1}}function ji(r){r.preventDefault()}function oM(r){console.log("Deprecated API usage: "+r)}let Wk;class lM{static toDateObject(e){if(!e||typeof e!="string")return null;Wk||(Wk=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=Wk.exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let l=parseInt(t[5],10);l=l>=0&&l<=59?l:0;let u=parseInt(t[6],10);u=u>=0&&u<=59?u:0;const d=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,d==="-"?(a+=h,l+=p):d==="+"&&(a-=h,l-=p),new Date(Date.UTC(n,i,s,a,l,u))}}function zV(r,{scale:e=1,rotation:t=0}){const{width:n,height:i}=r.attributes.style,s=[0,0,parseInt(n),parseInt(i)];return new Sm({viewBox:s,scale:e,rotation:t})}function nD(r){if(r.startsWith("#")){const e=parseInt(r.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(e=>parseInt(e)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(_t(`Not a valid color format: "${r}"`),[0,0,0])}function qV(r){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of r.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;r.set(t,nD(n))}e.remove()}function hn(r){const{a:e,b:t,c:n,d:i,e:s,f:a}=r.getTransform();return[e,t,n,i,s,a]}function pa(r){const{a:e,b:t,c:n,d:i,e:s,f:a}=r.getTransform().invertSelf();return[e,t,n,i,s,a]}function au(r,e,t=!1,n=!0){if(e instanceof Sm){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=r,l=qi.isCSSRoundSupported,u=`var(--scale-factor) * ${i}px`,d=`var(--scale-factor) * ${s}px`,h=l?`round(${u}, 1px)`:`calc(${u})`,p=l?`round(${d}, 1px)`:`calc(${d})`;!t||e.rotation%180===0?(a.width=h,a.height=p):(a.width=p,a.height=h)}n&&r.setAttribute("data-main-rotation",e.rotation)}var oc,lc,lr,cc,G0,cM,Ai,uM,dM,Sv,hM,gw;const $0=class $0{constructor(e){Z(this,Ai);Z(this,oc,null);Z(this,lc,null);Z(this,lr);Z(this,cc,null);$(this,lr,e)}render(){const e=$(this,oc,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=_(this,lr)._uiManager._signal;e.addEventListener("contextmenu",ji,{signal:t}),e.addEventListener("pointerdown",Y($0,G0,cM),{signal:t});const n=$(this,cc,document.createElement("div"));n.className="buttons",e.append(n);const i=_(this,lr).toolbarPosition;if(i){const{style:s}=e,a=_(this,lr)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return Y(this,Ai,hM).call(this),e}hide(){var e;_(this,oc).classList.add("hidden"),(e=_(this,lc))==null||e.hideDropdown()}show(){_(this,oc).classList.remove("hidden")}addAltTextButton(e){Y(this,Ai,Sv).call(this,e),_(this,cc).prepend(e,_(this,Ai,gw))}addColorPicker(e){$(this,lc,e);const t=e.renderButton();Y(this,Ai,Sv).call(this,t),_(this,cc).prepend(t,_(this,Ai,gw))}remove(){var e;_(this,oc).remove(),(e=_(this,lc))==null||e.destroy(),$(this,lc,null)}};oc=new WeakMap,lc=new WeakMap,lr=new WeakMap,cc=new WeakMap,G0=new WeakSet,cM=function(e){e.stopPropagation()},Ai=new WeakSet,uM=function(e){_(this,lr)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},dM=function(e){_(this,lr)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Sv=function(e){const t=_(this,lr)._uiManager._signal;e.addEventListener("focusin",Y(this,Ai,uM).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",Y(this,Ai,dM).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",ji,{signal:t})},hM=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${_(this,lr).editorType}-button`),Y(this,Ai,Sv).call(this,e),e.addEventListener("click",t=>{_(this,lr)._uiManager.delete()},{signal:_(this,lr)._uiManager._signal}),_(this,cc).append(e)},gw=function(){const e=document.createElement("div");return e.className="divider",e},Z($0,G0);let pw=$0;var Gp,uc,dc,ml,fM,pM,gM;class WV{constructor(e){Z(this,ml);Z(this,Gp,null);Z(this,uc,null);Z(this,dc);$(this,dc,e)}show(e,t,n){const[i,s]=Y(this,ml,pM).call(this,t,n),{style:a}=_(this,uc)||$(this,uc,Y(this,ml,fM).call(this));e.append(_(this,uc)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){_(this,uc).remove()}}Gp=new WeakMap,uc=new WeakMap,dc=new WeakMap,ml=new WeakSet,fM=function(){const e=$(this,uc,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",ji,{signal:_(this,dc)._signal});const t=$(this,Gp,document.createElement("div"));return t.className="buttons",e.append(t),Y(this,ml,gM).call(this),e},pM=function(e,t){let n=0,i=0;for(const s of e){const a=s.y+s.height;if(a<n)continue;const l=s.x+(t?s.width:0);if(a>n){i=l,n=a;continue}t?l>i&&(i=l):l<i&&(i=l)}return[t?1-i:i,n]},gM=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=_(this,dc)._signal;e.addEventListener("contextmenu",ji,{signal:n}),e.addEventListener("click",()=>{_(this,dc).highlightSelection("floating_button")},{signal:n}),_(this,Gp).append(e)};function N0(r,e,t){for(const n of t)e.addEventListener(n,r[n].bind(r))}function jV(r){return Math.round(Math.min(255,Math.max(1,255*r))).toString(16).padStart(2,"0")}var X0;class VV{constructor(){Z(this,X0,0)}get id(){return`${wV}${ir(this,X0)._++}`}}X0=new WeakMap;var $p,Q0,Rr,Xp,yw;const iA=class iA{constructor(){Z(this,Xp);Z(this,$p,FV());Z(this,Q0,0);Z(this,Rr,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Rt(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:n,size:i,type:s}=e;return Y(this,Xp,yw).call(this,`${t}_${n}_${i}_${s}`,e)}async getFromUrl(e){return Y(this,Xp,yw).call(this,e,e)}async getFromId(e){_(this,Rr)||$(this,Rr,new Map);const t=_(this,Rr).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=_(this,Rr).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){_(this,Rr)||$(this,Rr,new Map);const t=_(this,Rr).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${_(this,$p)}_`)}};$p=new WeakMap,Q0=new WeakMap,Rr=new WeakMap,Xp=new WeakSet,yw=async function(e,t){_(this,Rr)||$(this,Rr,new Map);let n=_(this,Rr).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${_(this,$p)}_${ir(this,Q0)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(n.url=t,i=await Db(t,"blob")):i=n.file=t,i.type==="image/svg+xml"){const s=iA._isSVGFittingCanvas,a=new FileReader,l=new Image,u=new Promise((d,h)=>{l.onload=()=>{n.bitmap=l,n.isSvg=!0,d()},a.onload=async()=>{const p=n.svgUrl=a.result;l.src=await s?`${p}#svgView(preserveAspectRatio(none))`:p},l.onerror=a.onerror=h});a.readAsDataURL(i),await u}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){console.error(i),n=null}return _(this,Rr).set(e,n),n&&_(this,Rr).set(n.id,n),n};let mw=iA;var $n,qo,Qp,Xn;class HV{constructor(e=128){Z(this,$n,[]);Z(this,qo,!1);Z(this,Qp);Z(this,Xn,-1);$(this,Qp,e)}add({cmd:e,undo:t,post:n,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:l=!1}){if(i&&e(),_(this,qo))return;const u={cmd:e,undo:t,post:n,type:s};if(_(this,Xn)===-1){_(this,$n).length>0&&(_(this,$n).length=0),$(this,Xn,0),_(this,$n).push(u);return}if(a&&_(this,$n)[_(this,Xn)].type===s){l&&(u.undo=_(this,$n)[_(this,Xn)].undo),_(this,$n)[_(this,Xn)]=u;return}const d=_(this,Xn)+1;d===_(this,Qp)?_(this,$n).splice(0,1):($(this,Xn,d),d<_(this,$n).length&&_(this,$n).splice(d)),_(this,$n).push(u)}undo(){if(_(this,Xn)===-1)return;$(this,qo,!0);const{undo:e,post:t}=_(this,$n)[_(this,Xn)];e(),t==null||t(),$(this,qo,!1),$(this,Xn,_(this,Xn)-1)}redo(){if(_(this,Xn)<_(this,$n).length-1){$(this,Xn,_(this,Xn)+1),$(this,qo,!0);const{cmd:e,post:t}=_(this,$n)[_(this,Xn)];e(),t==null||t(),$(this,qo,!1)}}hasSomethingToUndo(){return _(this,Xn)!==-1}hasSomethingToRedo(){return _(this,Xn)<_(this,$n).length-1}destroy(){$(this,$n,null)}}$n=new WeakMap,qo=new WeakMap,Qp=new WeakMap,Xn=new WeakMap;var Y0,mM;class Um{constructor(e){Z(this,Y0);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=qi.platform;for(const[n,i,s={}]of e)for(const a of n){const l=a.startsWith("mac+");t&&l?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!l&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(Y(this,Y0,mM).call(this,t));if(!n)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:l=null}}=n;l&&!l(e,t)||(i.bind(e,...a,t)(),s||(t.stopPropagation(),t.preventDefault()))}}Y0=new WeakSet,mM=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const K0=class K0{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return qV(e),Rt(this,"_colors",e)}convert(e){const t=nD(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every((s,a)=>s===t[a]))return K0._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?et.makeHexColor(...t):e}};pt(K0,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let vw=K0;var Rd,cr,In,ni,Nd,Aa,Md,Zr,Id,hc,Es,Jr,fc,Yp,Kp,Cs,Fd,Wo,Ss,Z0,jo,Zp,pc,Jp,Ld,ii,jt,Ea,gc,eg,tg,ng,ig,rg,sg,ag,og,lg,cg,ug,dg,hg,Vo,Us,Ca,fg,We,Uv,yM,vM,kv,bM,xM,_M,bw,wM,xw,_w,TM,_i,No,DM,AM,ww,EM,dp,Tw;const Ad=class Ad{constructor(e,t,n,i,s,a,l,u,d){Z(this,We);Z(this,Rd,new AbortController);Z(this,cr,null);Z(this,In,new Map);Z(this,ni,new Map);Z(this,Nd,null);Z(this,Aa,null);Z(this,Md,null);Z(this,Zr,new HV);Z(this,Id,0);Z(this,hc,new Set);Z(this,Es,null);Z(this,Jr,null);Z(this,fc,new Set);Z(this,Yp,!1);Z(this,Kp,null);Z(this,Cs,null);Z(this,Fd,null);Z(this,Wo,!1);Z(this,Ss,null);Z(this,Z0,new VV);Z(this,jo,!1);Z(this,Zp,!1);Z(this,pc,null);Z(this,Jp,null);Z(this,Ld,null);Z(this,ii,kt.NONE);Z(this,jt,new Set);Z(this,Ea,null);Z(this,gc,null);Z(this,eg,null);Z(this,tg,this.blur.bind(this));Z(this,ng,this.focus.bind(this));Z(this,ig,this.copy.bind(this));Z(this,rg,this.cut.bind(this));Z(this,sg,this.paste.bind(this));Z(this,ag,this.keydown.bind(this));Z(this,og,this.keyup.bind(this));Z(this,lg,this.onEditingAction.bind(this));Z(this,cg,this.onPageChanging.bind(this));Z(this,ug,this.onScaleChanging.bind(this));Z(this,dg,this.onRotationChanging.bind(this));Z(this,hg,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});Z(this,Vo,[0,0]);Z(this,Us,null);Z(this,Ca,null);Z(this,fg,null);this._signal=_(this,Rd).signal,$(this,Ca,e),$(this,fg,t),$(this,Nd,n),this._eventBus=i,this._eventBus._on("editingaction",_(this,lg)),this._eventBus._on("pagechanging",_(this,cg)),this._eventBus._on("scalechanging",_(this,ug)),this._eventBus._on("rotationchanging",_(this,dg)),Y(this,We,bM).call(this),Y(this,We,TM).call(this),Y(this,We,bw).call(this),$(this,Aa,s.annotationStorage),$(this,Kp,s.filterFactory),$(this,gc,a),$(this,Fd,l||null),$(this,Yp,u),$(this,Ld,d||null),this.viewParameters={realScale:fl.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Ad.prototype,t=a=>_(a,Ca).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),n=(a,{target:l})=>{if(l instanceof HTMLInputElement){const{type:u}=l;return u!=="text"&&u!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Rt(this,"_keyboardManager",new Um([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&_(a,Ca).contains(l)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&_(a,Ca).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,n;(e=_(this,Rd))==null||e.abort(),$(this,Rd,null),this._signal=null,this._eventBus._off("editingaction",_(this,lg)),this._eventBus._off("pagechanging",_(this,cg)),this._eventBus._off("scalechanging",_(this,ug)),this._eventBus._off("rotationchanging",_(this,dg));for(const i of _(this,ni).values())i.destroy();_(this,ni).clear(),_(this,In).clear(),_(this,fc).clear(),$(this,cr,null),_(this,jt).clear(),_(this,Zr).destroy(),(t=_(this,Nd))==null||t.destroy(),(n=_(this,Ss))==null||n.hide(),$(this,Ss,null),_(this,Cs)&&(clearTimeout(_(this,Cs)),$(this,Cs,null)),_(this,Us)&&(clearTimeout(_(this,Us)),$(this,Us,null))}async mlGuess(e){var t;return((t=_(this,Ld))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!_(this,Ld)}get hcmFilter(){return Rt(this,"hcmFilter",_(this,gc)?_(this,Kp).addHCMFilter(_(this,gc).foreground,_(this,gc).background):"none")}get direction(){return Rt(this,"direction",getComputedStyle(_(this,Ca)).direction)}get highlightColors(){return Rt(this,"highlightColors",_(this,Fd)?new Map(_(this,Fd).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Rt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){$(this,Jp,e)}editAltText(e){var t;(t=_(this,Nd))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){$(this,Id,e-1)}focusMainContainer(){_(this,Ca).focus()}findParent(e,t){for(const n of _(this,ni).values()){const{x:i,y:s,width:a,height:l}=n.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=s&&t<=s+l)return n}return null}disableUserSelect(e=!1){_(this,fg).classList.toggle("noUserSelect",e)}addShouldRescale(e){_(this,fc).add(e)}removeShouldRescale(e){_(this,fc).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*fl.PDF_TO_CSS_UNITS;for(const t of _(this,fc))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:a}=t,l=t.toString(),d=Y(this,We,Uv).call(this,t).closest(".textLayer"),h=this.getSelectionBoxes(d);if(h){t.empty(),_(this,ii)===kt.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:kt.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const p of _(this,ni).values())if(p.hasTextLayer(d)){p.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:a,text:l});break}}}addToAnnotationStorage(e){!e.isEmpty()&&_(this,Aa)&&!_(this,Aa).has(e.id)&&_(this,Aa).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,_(this,Wo)&&($(this,Wo,!1),Y(this,We,kv).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of _(this,jt))if(t.div.contains(e)){$(this,pc,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!_(this,pc))return;const[e,t]=_(this,pc);$(this,pc,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){Y(this,We,bw).call(this),Y(this,We,xw).call(this)}removeEditListeners(){Y(this,We,wM).call(this),Y(this,We,_w).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of _(this,Jr))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of _(this,Jr))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=_(this,cr))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of _(this,jt)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of _(this,Jr))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){_t(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const u of n){const d=i.deserialize(u);if(!d)return;s.push(d)}const a=()=>{for(const u of s)Y(this,We,ww).call(this,u);Y(this,We,Tw).call(this,s)},l=()=>{for(const u of s)u.remove()};this.addCommands({cmd:a,undo:l,mustExec:!0})}catch(s){_t(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),_(this,ii)!==kt.NONE&&!this.isEditorHandlingKeyboard&&Ad._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,_(this,Wo)&&($(this,Wo,!1),Y(this,We,kv).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(Y(this,We,xM).call(this),Y(this,We,xw).call(this),Y(this,We,_i).call(this,{isEditing:_(this,ii)!==kt.NONE,isEmpty:Y(this,We,dp).call(this),hasSomethingToUndo:_(this,Zr).hasSomethingToUndo(),hasSomethingToRedo:_(this,Zr).hasSomethingToRedo(),hasSelectedEditor:!1})):(Y(this,We,_M).call(this),Y(this,We,_w).call(this),Y(this,We,_i).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!_(this,Jr)){$(this,Jr,e);for(const t of _(this,Jr))Y(this,We,No).call(this,t.defaultPropertiesToUpdate)}}getId(){return _(this,Z0).id}get currentLayer(){return _(this,ni).get(_(this,Id))}getLayer(e){return _(this,ni).get(e)}get currentPageIndex(){return _(this,Id)}addLayer(e){_(this,ni).set(e.pageIndex,e),_(this,jo)?e.enable():e.disable()}removeLayer(e){_(this,ni).delete(e.pageIndex)}updateMode(e,t=null,n=!1){if(_(this,ii)!==e){if($(this,ii,e),e===kt.NONE){this.setEditingState(!1),Y(this,We,AM).call(this);return}this.setEditingState(!0),Y(this,We,DM).call(this),this.unselectAll();for(const i of _(this,ni).values())i.updateMode(e);if(!t&&n){this.addNewEditorFromKeyboard();return}if(t){for(const i of _(this,In).values())if(i.annotationElementId===t){this.setSelected(i),i.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==_(this,ii)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var n;if(_(this,Jr)){switch(e){case ht.CREATE:this.currentLayer.addNewEditor();return;case ht.HIGHLIGHT_DEFAULT_COLOR:(n=_(this,Jp))==null||n.updateColor(t);break;case ht.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(_(this,eg)||$(this,eg,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of _(this,jt))i.updateParams(e,t);for(const i of _(this,Jr))i.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var s;for(const a of _(this,In).values())a.editorType===e&&a.show(t);(((s=_(this,eg))==null?void 0:s.get(ht.HIGHLIGHT_SHOW_ALL))??!0)!==t&&Y(this,We,No).call(this,[[ht.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(_(this,Zp)!==e){$(this,Zp,e);for(const t of _(this,ni).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of _(this,In).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return _(this,In).get(e)}addEditor(e){_(this,In).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(_(this,Cs)&&clearTimeout(_(this,Cs)),$(this,Cs,setTimeout(()=>{this.focusMainContainer(),$(this,Cs,null)},0))),_(this,In).delete(e.id),this.unselect(e),(!e.annotationElementId||!_(this,hc).has(e.annotationElementId))&&((t=_(this,Aa))==null||t.remove(e.id))}addDeletedAnnotationElement(e){_(this,hc).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return _(this,hc).has(e)}removeDeletedAnnotationElement(e){_(this,hc).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){_(this,cr)!==e&&($(this,cr,e),e&&Y(this,We,No).call(this,e.propertiesToUpdate))}updateUI(e){_(this,We,EM)===e&&Y(this,We,No).call(this,e.propertiesToUpdate)}toggleSelected(e){if(_(this,jt).has(e)){_(this,jt).delete(e),e.unselect(),Y(this,We,_i).call(this,{hasSelectedEditor:this.hasSelection});return}_(this,jt).add(e),e.select(),Y(this,We,No).call(this,e.propertiesToUpdate),Y(this,We,_i).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of _(this,jt))t!==e&&t.unselect();_(this,jt).clear(),_(this,jt).add(e),e.select(),Y(this,We,No).call(this,e.propertiesToUpdate),Y(this,We,_i).call(this,{hasSelectedEditor:!0})}isSelected(e){return _(this,jt).has(e)}get firstSelectedEditor(){return _(this,jt).values().next().value}unselect(e){e.unselect(),_(this,jt).delete(e),Y(this,We,_i).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return _(this,jt).size!==0}get isEnterHandled(){return _(this,jt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){_(this,Zr).undo(),Y(this,We,_i).call(this,{hasSomethingToUndo:_(this,Zr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Y(this,We,dp).call(this)})}redo(){_(this,Zr).redo(),Y(this,We,_i).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:_(this,Zr).hasSomethingToRedo(),isEmpty:Y(this,We,dp).call(this)})}addCommands(e){_(this,Zr).add(e),Y(this,We,_i).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Y(this,We,dp).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[..._(this,jt)],t=()=>{for(const i of e)i.remove()},n=()=>{for(const i of e)Y(this,We,ww).call(this,i)};this.addCommands({cmd:t,undo:n,mustExec:!0})}commitOrRemove(){var e;(e=_(this,cr))==null||e.commitOrRemove()}hasSomethingToControl(){return _(this,cr)||this.hasSelection}selectAll(){for(const e of _(this,jt))e.commit();Y(this,We,Tw).call(this,_(this,In).values())}unselectAll(){if(!(_(this,cr)&&(_(this,cr).commitOrRemove(),_(this,ii)!==kt.NONE))&&this.hasSelection){for(const e of _(this,jt))e.unselect();_(this,jt).clear(),Y(this,We,_i).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;_(this,Vo)[0]+=e,_(this,Vo)[1]+=t;const[i,s]=_(this,Vo),a=[..._(this,jt)],l=1e3;_(this,Us)&&clearTimeout(_(this,Us)),$(this,Us,setTimeout(()=>{$(this,Us,null),_(this,Vo)[0]=_(this,Vo)[1]=0,this.addCommands({cmd:()=>{for(const u of a)_(this,In).has(u.id)&&u.translateInPage(i,s)},undo:()=>{for(const u of a)_(this,In).has(u.id)&&u.translateInPage(-i,-s)},mustExec:!1})},l));for(const u of a)u.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),$(this,Es,new Map);for(const e of _(this,jt))_(this,Es).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!_(this,Es))return!1;this.disableUserSelect(!1);const e=_(this,Es);$(this,Es,null);let t=!1;for(const[{x:i,y:s,pageIndex:a},l]of e)l.newX=i,l.newY=s,l.newPageIndex=a,t||(t=i!==l.savedX||s!==l.savedY||a!==l.savedPageIndex);if(!t)return!1;const n=(i,s,a,l)=>{if(_(this,In).has(i.id)){const u=_(this,ni).get(l);u?i._setParentAndPosition(u,s,a):(i.pageIndex=l,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:l}]of e)n(i,s,a,l)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:l}]of e)n(i,s,a,l)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(_(this,Es))for(const n of _(this,Es).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||_(this,jt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return _(this,cr)===e}getActive(){return _(this,cr)}getMode(){return _(this,ii)}get imageManager(){return Rt(this,"imageManager",new mw)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let d=0,h=t.rangeCount;d<h;d++)if(!e.contains(t.getRangeAt(d).commonAncestorContainer))return null;const{x:n,y:i,width:s,height:a}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(d,h,p,g)=>({x:(h-i)/a,y:1-(d+p-n)/s,width:g/a,height:p/s});break;case"180":l=(d,h,p,g)=>({x:1-(d+p-n)/s,y:1-(h+g-i)/a,width:p/s,height:g/a});break;case"270":l=(d,h,p,g)=>({x:1-(h+g-i)/a,y:(d-n)/s,width:g/a,height:p/s});break;default:l=(d,h,p,g)=>({x:(d-n)/s,y:(h-i)/a,width:p/s,height:g/a});break}const u=[];for(let d=0,h=t.rangeCount;d<h;d++){const p=t.getRangeAt(d);if(!p.collapsed)for(const{x:g,y,width:v,height:x}of p.getClientRects())v===0||x===0||u.push(l(g,y,v,x))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:e,id:t}){(_(this,Md)||$(this,Md,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=_(this,Md))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=_(this,Md))==null?void 0:i.get(e.data.id);if(!t)return;const n=_(this,Aa).getRawValue(t);n&&(_(this,ii)===kt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};Rd=new WeakMap,cr=new WeakMap,In=new WeakMap,ni=new WeakMap,Nd=new WeakMap,Aa=new WeakMap,Md=new WeakMap,Zr=new WeakMap,Id=new WeakMap,hc=new WeakMap,Es=new WeakMap,Jr=new WeakMap,fc=new WeakMap,Yp=new WeakMap,Kp=new WeakMap,Cs=new WeakMap,Fd=new WeakMap,Wo=new WeakMap,Ss=new WeakMap,Z0=new WeakMap,jo=new WeakMap,Zp=new WeakMap,pc=new WeakMap,Jp=new WeakMap,Ld=new WeakMap,ii=new WeakMap,jt=new WeakMap,Ea=new WeakMap,gc=new WeakMap,eg=new WeakMap,tg=new WeakMap,ng=new WeakMap,ig=new WeakMap,rg=new WeakMap,sg=new WeakMap,ag=new WeakMap,og=new WeakMap,lg=new WeakMap,cg=new WeakMap,ug=new WeakMap,dg=new WeakMap,hg=new WeakMap,Vo=new WeakMap,Us=new WeakMap,Ca=new WeakMap,fg=new WeakMap,We=new WeakSet,Uv=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},yM=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=Y(this,We,Uv).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(_(this,Ss)||$(this,Ss,new WV(this)),_(this,Ss).show(n,i,this.direction==="ltr"))},vM=function(){var s,a,l;const e=document.getSelection();if(!e||e.isCollapsed){_(this,Ea)&&((s=_(this,Ss))==null||s.hide(),$(this,Ea,null),Y(this,We,_i).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===_(this,Ea))return;if(!Y(this,We,Uv).call(this,e).closest(".textLayer")){_(this,Ea)&&((a=_(this,Ss))==null||a.hide(),$(this,Ea,null),Y(this,We,_i).call(this,{hasSelectedText:!1}));return}if((l=_(this,Ss))==null||l.hide(),$(this,Ea,t),Y(this,We,_i).call(this,{hasSelectedText:!0}),!(_(this,ii)!==kt.HIGHLIGHT&&_(this,ii)!==kt.NONE)&&(_(this,ii)===kt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),$(this,Wo,this.isShiftKeyDown),!this.isShiftKeyDown)){const u=this._signal,d=h=>{h.type==="pointerup"&&h.button!==0||(window.removeEventListener("pointerup",d),window.removeEventListener("blur",d),h.type==="pointerup"&&Y(this,We,kv).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}},kv=function(e=""){_(this,ii)===kt.HIGHLIGHT?this.highlightSelection(e):_(this,Yp)&&Y(this,We,yM).call(this)},bM=function(){document.addEventListener("selectionchange",Y(this,We,vM).bind(this),{signal:this._signal})},xM=function(){const e=this._signal;window.addEventListener("focus",_(this,ng),{signal:e}),window.addEventListener("blur",_(this,tg),{signal:e})},_M=function(){window.removeEventListener("focus",_(this,ng)),window.removeEventListener("blur",_(this,tg))},bw=function(){const e=this._signal;window.addEventListener("keydown",_(this,ag),{signal:e}),window.addEventListener("keyup",_(this,og),{signal:e})},wM=function(){window.removeEventListener("keydown",_(this,ag)),window.removeEventListener("keyup",_(this,og))},xw=function(){const e=this._signal;document.addEventListener("copy",_(this,ig),{signal:e}),document.addEventListener("cut",_(this,rg),{signal:e}),document.addEventListener("paste",_(this,sg),{signal:e})},_w=function(){document.removeEventListener("copy",_(this,ig)),document.removeEventListener("cut",_(this,rg)),document.removeEventListener("paste",_(this,sg))},TM=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},_i=function(e){Object.entries(e).some(([n,i])=>_(this,hg)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(_(this,hg),e)}),_(this,ii)===kt.HIGHLIGHT&&e.hasSelectedEditor===!1&&Y(this,We,No).call(this,[[ht.HIGHLIGHT_FREE,!0]]))},No=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},DM=function(){if(!_(this,jo)){$(this,jo,!0);for(const e of _(this,ni).values())e.enable();for(const e of _(this,In).values())e.enable()}},AM=function(){if(this.unselectAll(),_(this,jo)){$(this,jo,!1);for(const e of _(this,ni).values())e.disable();for(const e of _(this,In).values())e.disable()}},ww=function(e){const t=_(this,ni).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},EM=function(){let e=null;for(e of _(this,jt));return e},dp=function(){if(_(this,In).size===0)return!0;if(_(this,In).size===1)for(const e of _(this,In).values())return e.isEmpty();return!1},Tw=function(e){for(const t of _(this,jt))t.unselect();_(this,jt).clear();for(const t of e)t.isEmpty()||(_(this,jt).add(t),t.select());Y(this,We,_i).call(this,{hasSelectedEditor:this.hasSelection})},pt(Ad,"TRANSLATE_SMALL",1),pt(Ad,"TRANSLATE_BIG",10);let ou=Ad;var Sa,Ua,es,ka,ur,Od,ts,pg,Dw;const xa=class xa{constructor(e){Z(this,pg);Z(this,Sa,"");Z(this,Ua,!1);Z(this,es,null);Z(this,ka,null);Z(this,ur,null);Z(this,Od,!1);Z(this,ts,null);$(this,ts,e)}static initialize(e){xa._l10nPromise||(xa._l10nPromise=e)}async render(){const e=$(this,es,document.createElement("button"));e.className="altText";const t=await xa._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0";const n=_(this,ts)._uiManager._signal;e.addEventListener("contextmenu",ji,{signal:n}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const i=s=>{s.preventDefault(),_(this,ts)._uiManager.editAltText(_(this,ts))};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&($(this,Od,!0),i(s))},{signal:n}),await Y(this,pg,Dw).call(this),e}finish(){_(this,es)&&(_(this,es).focus({focusVisible:_(this,Od)}),$(this,Od,!1))}isEmpty(){return!_(this,Sa)&&!_(this,Ua)}get data(){return{altText:_(this,Sa),decorative:_(this,Ua)}}set data({altText:e,decorative:t}){_(this,Sa)===e&&_(this,Ua)===t||($(this,Sa,e),$(this,Ua,t),Y(this,pg,Dw).call(this))}toggle(e=!1){_(this,es)&&(!e&&_(this,ur)&&(clearTimeout(_(this,ur)),$(this,ur,null)),_(this,es).disabled=!e)}destroy(){var e;(e=_(this,es))==null||e.remove(),$(this,es,null),$(this,ka,null)}};Sa=new WeakMap,Ua=new WeakMap,es=new WeakMap,ka=new WeakMap,ur=new WeakMap,Od=new WeakMap,ts=new WeakMap,pg=new WeakSet,Dw=async function(){var i;const e=_(this,es);if(!e)return;if(!_(this,Sa)&&!_(this,Ua)){e.classList.remove("done"),(i=_(this,ka))==null||i.remove();return}e.classList.add("done"),xa._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{e.setAttribute("aria-label",s)});let t=_(this,ka);if(!t){$(this,ka,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const s=t.id=`alt-text-tooltip-${_(this,ts).id}`;e.setAttribute("aria-describedby",s);const a=100,l=_(this,ts)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(_(this,ur)),$(this,ur,null)},{once:!0}),e.addEventListener("mouseenter",()=>{$(this,ur,setTimeout(()=>{$(this,ur,null),_(this,ka).classList.add("show"),_(this,ts)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;_(this,ur)&&(clearTimeout(_(this,ur)),$(this,ur,null)),(u=_(this,ka))==null||u.classList.remove("show")},{signal:l})}t.innerText=_(this,Ua)?await xa._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):_(this,Sa),t.parentNode||e.append(t);const n=_(this,ts).getImageForAltText();n==null||n.setAttribute("aria-describedby",t.id)},pt(xa,"_l10nPromise",null);let M0=xa;var mc,ns,gi,Pd,yc,ri,vc,Bd,zd,mi,gg,bc,Ho,mg,xc,Ra,ks,qd,Wd,Nr,yg,J0,Dt,Aw,vg,Ew,Cw,CM,SM,Sw,Uw,kw,UM,kM,RM,NM,Rw,hp;const Zt=class Zt{constructor(e){Z(this,Dt);Z(this,mc,null);Z(this,ns,null);Z(this,gi,null);Z(this,Pd,!1);Z(this,yc,!1);Z(this,ri,null);Z(this,vc,null);Z(this,Bd,this.focusin.bind(this));Z(this,zd,this.focusout.bind(this));Z(this,mi,null);Z(this,gg,"");Z(this,bc,!1);Z(this,Ho,null);Z(this,mg,!1);Z(this,xc,!1);Z(this,Ra,!1);Z(this,ks,null);Z(this,qd,0);Z(this,Wd,0);Z(this,Nr,null);pt(this,"_initialOptions",Object.create(null));pt(this,"_isVisible",!0);pt(this,"_uiManager",null);pt(this,"_focusEventsAllowed",!0);pt(this,"_l10nPromise",null);Z(this,yg,!1);Z(this,J0,Zt._zIndex++);this.constructor===Zt&&Qt("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[s,a];const[l,u]=this.parentDimensions;this.x=e.x/l,this.y=e.y/u,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Zt.prototype._resizeWithKeyboard,t=ou.TRANSLATE_SMALL,n=ou.TRANSLATE_BIG;return Rt(this,"_resizerKeyboardManager",new Um([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Zt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Rt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new GV({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,n){if(Zt._l10nPromise||(Zt._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,a=>`-${a.toLowerCase()}`))]))),n!=null&&n.strings)for(const s of n.strings)Zt._l10nPromise.set(s,e.get(s));if(Zt._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Zt._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Qt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return _(this,yg)}set _isDraggable(e){var t;$(this,yg,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=_(this,J0)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):Y(this,Dt,hp).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(_(this,bc)?$(this,bc,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[s,a]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/s,this.y=(t+i)/a,this.fixAndSetPosition()}translate(e,t){Y(this,Dt,Aw).call(this,this.parentDimensions,e,t)}translateInPage(e,t){_(this,Ho)||$(this,Ho,[this.x,this.y]),Y(this,Dt,Aw).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){_(this,Ho)||$(this,Ho,[this.x,this.y]);const[n,i]=this.parentDimensions;if(this.x+=e/n,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:a}=this;const[l,u]=this.getBaseTranslation();s+=l,a+=u,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!_(this,Ho)&&(_(this,Ho)[0]!==this.x||_(this,Ho)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Zt,i=n/e,s=n/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,n]=this.pageDimensions;let{x:i,y:s,width:a,height:l}=this;if(a*=t,l*=n,i*=t,s*=n,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-a,i)),s=Math.max(0,Math.min(n-l,s));break;case 90:i=Math.max(0,Math.min(t-l,i)),s=Math.min(n,Math.max(a,s));break;case 180:i=Math.min(t,Math.max(a,i)),s=Math.min(n,Math.max(l,s));break;case 270:i=Math.min(t,Math.max(l,i)),s=Math.max(0,Math.min(n-a,s));break}this.x=i/=t,this.y=s/=n;const[u,d]=this.getBaseTranslation();i+=u,s+=d;const{style:h}=this.div;h.left=`${(100*i).toFixed(2)}%`,h.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return Y(n=Zt,vg,Ew).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return Y(n=Zt,vg,Ew).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this,i=t*e,s=n*e;return qi.isCSSRoundSupported?[Math.round(i),Math.round(s)]:[i,s]}setDims(e,t){const[n,i]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,_(this,yc)||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,i=n.endsWith("%"),s=!_(this,yc)&&t.endsWith("%");if(i&&s)return;const[a,l]=this.parentDimensions;i||(e.width=`${(100*parseFloat(n)/a).toFixed(2)}%`),!_(this,yc)&&!s&&(e.height=`${(100*parseFloat(t)/l).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=_(this,gi))==null||e.finish()}async addEditToolbar(){return _(this,mi)||_(this,xc)?_(this,mi):($(this,mi,new pw(this)),this.div.append(_(this,mi).render()),_(this,gi)&&_(this,mi).addAltTextButton(await _(this,gi).render()),_(this,mi))}removeEditToolbar(){var e;_(this,mi)&&(_(this,mi).remove(),$(this,mi,null),(e=_(this,gi))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){_(this,gi)||(M0.initialize(Zt._l10nPromise),$(this,gi,new M0(this)),_(this,mc)&&(_(this,gi).data=_(this,mc),$(this,mc,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=_(this,gi))==null?void 0:e.data}set altTextData(e){_(this,gi)&&(_(this,gi).data=e)}hasAltText(){var e;return!((e=_(this,gi))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=_(this,Pd)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",_(this,Bd),{signal:e}),this.div.addEventListener("focusout",_(this,zd),{signal:e});const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),N0(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=qi.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if($(this,bc,!0),this._isDraggable){Y(this,Dt,UM).call(this,e);return}Y(this,Dt,kw).call(this,e)}moveInDOM(){_(this,ks)&&clearTimeout(_(this,ks)),$(this,ks,setTimeout(()=>{var e;$(this,ks,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t,n=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[l,u]=this.pageTranslation,d=e/i,h=t/i,p=this.x*s,g=this.y*a,y=this.width*s,v=this.height*a;switch(n){case 0:return[p+d+l,a-g-h-v+u,p+d+y+l,a-g-h+u];case 90:return[p+h+l,a-g+d+u,p+h+v+l,a-g+d+y+u];case 180:return[p-d-y+l,a-g+h+u,p-d+l,a-g+h+v+u];case 270:return[p-h-v+l,a-g-d-y+u,p-h+l,a-g-d+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,s,a]=e,l=s-n,u=a-i;switch(this.rotation){case 0:return[n,t-a,l,u];case 90:return[n,t-i,u,l];case 180:return[s,t-i,l,u];case 270:return[s,t-a,u,l];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){$(this,xc,!0)}disableEditMode(){$(this,xc,!1)}isInEditMode(){return _(this,xc)}shouldGetKeyboardEvents(){return _(this,Ra)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t,n;const e=this._uiManager._signal;(t=this.div)==null||t.addEventListener("focusin",_(this,Bd),{signal:e}),(n=this.div)==null||n.addEventListener("focusout",_(this,zd),{signal:e})}rotate(e){}serialize(e=!1,t=null){Qt("An editor must be serializable")}static deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});i.rotation=e.rotation,$(i,mc,e.accessibilityData);const[s,a]=i.pageDimensions,[l,u,d,h]=i.getRectInCurrentCoords(e.rect,a);return i.x=l/s,i.y=u/a,i.width=d/s,i.height=h/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",_(this,Bd)),this.div.removeEventListener("focusout",_(this,zd)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),_(this,ks)&&(clearTimeout(_(this,ks)),$(this,ks,null)),Y(this,Dt,hp).call(this),this.removeEditToolbar(),_(this,Nr)){for(const e of _(this,Nr).values())clearTimeout(e);$(this,Nr,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(Y(this,Dt,CM).call(this),_(this,ri).classList.remove("hidden"),N0(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),$(this,vc,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=_(this,ri).children;if(!_(this,ns)){$(this,ns,Array.from(t));const a=Y(this,Dt,kM).bind(this),l=Y(this,Dt,RM).bind(this),u=this._uiManager._signal;for(const d of _(this,ns)){const h=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",a,{signal:u}),d.addEventListener("blur",l,{signal:u}),d.addEventListener("focus",Y(this,Dt,NM).bind(this,h),{signal:u}),Zt._l10nPromise.get(`pdfjs-editor-resizer-label-${h}`).then(p=>d.setAttribute("aria-label",p))}}const n=_(this,ns)[0];let i=0;for(const a of t){if(a===n)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(_(this,ns).length/4);if(s!==i){if(s<i)for(let l=0;l<i-s;l++)_(this,ri).append(_(this,ri).firstChild);else if(s>i)for(let l=0;l<s-i;l++)_(this,ri).firstChild.before(_(this,ri).lastChild);let a=0;for(const l of t){const d=_(this,ns)[a++].getAttribute("data-resizer-name");Zt._l10nPromise.get(`pdfjs-editor-resizer-label-${d}`).then(h=>l.setAttribute("aria-label",h))}}Y(this,Dt,Rw).call(this,0),$(this,Ra,!0),_(this,ri).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){_(this,Ra)&&Y(this,Dt,Uw).call(this,_(this,gg),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){Y(this,Dt,hp).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!_(this,mi)){this.addEditToolbar().then(()=>{var n,i;(n=this.div)!=null&&n.classList.contains("selectedEditor")&&((i=_(this,mi))==null||i.show())});return}(t=_(this,mi))==null||t.show()}unselect(){var e,t,n,i;(e=_(this,ri))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=_(this,mi))==null||i.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return _(this,mg)}set isEditing(e){$(this,mg,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){$(this,yc,!0);const n=e/t,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){_(this,Nr)||$(this,Nr,new Map);const{action:n}=e;let i=_(this,Nr).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),_(this,Nr).delete(n),_(this,Nr).size===0&&$(this,Nr,null)},Zt._telemetryTimeout),_(this,Nr).set(n,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),$(this,Pd,!1)}disable(){this.div&&(this.div.tabIndex=-1),$(this,Pd,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};mc=new WeakMap,ns=new WeakMap,gi=new WeakMap,Pd=new WeakMap,yc=new WeakMap,ri=new WeakMap,vc=new WeakMap,Bd=new WeakMap,zd=new WeakMap,mi=new WeakMap,gg=new WeakMap,bc=new WeakMap,Ho=new WeakMap,mg=new WeakMap,xc=new WeakMap,Ra=new WeakMap,ks=new WeakMap,qd=new WeakMap,Wd=new WeakMap,Nr=new WeakMap,yg=new WeakMap,J0=new WeakMap,Dt=new WeakSet,Aw=function([e,t],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/t,this.fixAndSetPosition()},vg=new WeakSet,Ew=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Cw=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},CM=function(){if(_(this,ri))return;$(this,ri,document.createElement("div")),_(this,ri).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const i=document.createElement("div");_(this,ri).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",Y(this,Dt,SM).bind(this,n),{signal:t}),i.addEventListener("contextmenu",ji,{signal:t}),i.tabIndex=-1}this.div.prepend(_(this,ri))},SM=function(e,t){var x;t.preventDefault();const{isMac:n}=qi.platform;if(t.button!==0||t.ctrlKey&&n)return;(x=_(this,gi))==null||x.toggle(!1);const i=Y(this,Dt,Uw).bind(this,e),s=this._isDraggable;this._isDraggable=!1;const a=this._uiManager._signal,l={passive:!0,capture:!0,signal:a};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,l),window.addEventListener("contextmenu",ji,{signal:a});const u=this.x,d=this.y,h=this.width,p=this.height,g=this.parent.div.style.cursor,y=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const v=()=>{var T;this.parent.togglePointerEvents(!0),(T=_(this,gi))==null||T.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",v),window.removeEventListener("blur",v),window.removeEventListener("pointermove",i,l),window.removeEventListener("contextmenu",ji),this.parent.div.style.cursor=g,this.div.style.cursor=y,Y(this,Dt,Sw).call(this,u,d,h,p)};window.addEventListener("pointerup",v,{signal:a}),window.addEventListener("blur",v,{signal:a})},Sw=function(e,t,n,i){const s=this.x,a=this.y,l=this.width,u=this.height;s===e&&a===t&&l===n&&u===i||this.addCommands({cmd:()=>{this.width=l,this.height=u,this.x=s,this.y=a;const[d,h]=this.parentDimensions;this.setDims(d*l,h*u),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=i,this.x=e,this.y=t;const[d,h]=this.parentDimensions;this.setDims(d*n,h*i),this.fixAndSetPosition()},mustExec:!0})},Uw=function(e,t){const[n,i]=this.parentDimensions,s=this.x,a=this.y,l=this.width,u=this.height,d=Zt.MIN_SIZE/n,h=Zt.MIN_SIZE/i,p=q=>Math.round(q*1e4)/1e4,g=Y(this,Dt,Cw).call(this,this.rotation),y=(q,ie)=>[g[0]*q+g[2]*ie,g[1]*q+g[3]*ie],v=Y(this,Dt,Cw).call(this,360-this.rotation),x=(q,ie)=>[v[0]*q+v[2]*ie,v[1]*q+v[3]*ie];let T,D,E=!1,C=!1;switch(e){case"topLeft":E=!0,T=(q,ie)=>[0,0],D=(q,ie)=>[q,ie];break;case"topMiddle":T=(q,ie)=>[q/2,0],D=(q,ie)=>[q/2,ie];break;case"topRight":E=!0,T=(q,ie)=>[q,0],D=(q,ie)=>[0,ie];break;case"middleRight":C=!0,T=(q,ie)=>[q,ie/2],D=(q,ie)=>[0,ie/2];break;case"bottomRight":E=!0,T=(q,ie)=>[q,ie],D=(q,ie)=>[0,0];break;case"bottomMiddle":T=(q,ie)=>[q/2,ie],D=(q,ie)=>[q/2,0];break;case"bottomLeft":E=!0,T=(q,ie)=>[0,ie],D=(q,ie)=>[q,0];break;case"middleLeft":C=!0,T=(q,ie)=>[0,ie/2],D=(q,ie)=>[q,ie/2];break}const R=T(l,u),U=D(l,u);let M=y(...U);const O=p(s+M[0]),W=p(a+M[1]);let L=1,H=1,[ne,F]=this.screenToPageTranslation(t.movementX,t.movementY);if([ne,F]=x(ne/n,F/i),E){const q=Math.hypot(l,u);L=H=Math.max(Math.min(Math.hypot(U[0]-R[0]-ne,U[1]-R[1]-F)/q,1/l,1/u),d/l,h/u)}else C?L=Math.max(d,Math.min(1,Math.abs(U[0]-R[0]-ne)))/l:H=Math.max(h,Math.min(1,Math.abs(U[1]-R[1]-F)))/u;const B=p(l*L),N=p(u*H);M=y(...D(B,N));const K=O-M[0],P=W-M[1];this.width=B,this.height=N,this.x=K,this.y=P,this.setDims(n*B,i*N),this.fixAndSetPosition()},kw=function(e){const{isMac:t}=qi.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},UM=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let n,i;const s=this._uiManager._signal;t&&(this.div.classList.add("moving"),n={passive:!0,capture:!0,signal:s},$(this,qd,e.clientX),$(this,Wd,e.clientY),i=l=>{const{clientX:u,clientY:d}=l,[h,p]=this.screenToPageTranslation(u-_(this,qd),d-_(this,Wd));$(this,qd,u),$(this,Wd,d),this._uiManager.dragSelectedEditors(h,p)},window.addEventListener("pointermove",i,n));const a=()=>{window.removeEventListener("pointerup",a),window.removeEventListener("blur",a),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,n)),$(this,bc,!1),this._uiManager.endDragSession()||Y(this,Dt,kw).call(this,e)};window.addEventListener("pointerup",a,{signal:s}),window.addEventListener("blur",a,{signal:s})},kM=function(e){Zt._resizerKeyboardManager.exec(this,e)},RM=function(e){var t;_(this,Ra)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==_(this,ri)&&Y(this,Dt,hp).call(this)},NM=function(e){$(this,gg,_(this,Ra)?e:"")},Rw=function(e){if(_(this,ns))for(const t of _(this,ns))t.tabIndex=e},hp=function(){if($(this,Ra,!1),Y(this,Dt,Rw).call(this,-1),_(this,vc)){const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=_(this,vc);Y(this,Dt,Sw).call(this,e,t,n,i),$(this,vc,null)}},Z(Zt,vg),pt(Zt,"_borderLineWidth",-1),pt(Zt,"_colorManager",new vw),pt(Zt,"_zIndex",1),pt(Zt,"_telemetryTimeout",1e3);let Vt=Zt;class GV extends Vt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const jk=3285377520,Sr=4294901760,_s=65535;class MM{constructor(e){this.h1=e?e&4294967295:jk,this.h2=e?e&4294967295:jk}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let x=0,T=e.length;x<T;x++){const D=e.charCodeAt(x);D<=255?t[n++]=D:(t[n++]=D>>>8,t[n++]=D&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,s=n-i*4,a=new Uint32Array(t.buffer,0,i);let l=0,u=0,d=this.h1,h=this.h2;const p=3432918353,g=461845907,y=p&_s,v=g&_s;for(let x=0;x<i;x++)x&1?(l=a[x],l=l*p&Sr|l*y&_s,l=l<<15|l>>>17,l=l*g&Sr|l*v&_s,d^=l,d=d<<13|d>>>19,d=d*5+3864292196):(u=a[x],u=u*p&Sr|u*y&_s,u=u<<15|u>>>17,u=u*g&Sr|u*v&_s,h^=u,h=h<<13|h>>>19,h=h*5+3864292196);switch(l=0,s){case 3:l^=t[i*4+2]<<16;case 2:l^=t[i*4+1]<<8;case 1:l^=t[i*4],l=l*p&Sr|l*y&_s,l=l<<15|l>>>17,l=l*g&Sr|l*v&_s,i&1?d^=l:h^=l}this.h1=d,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Sr|e*36045&_s,t=t*4283543511&Sr|((t<<16|e>>>16)*2950163797&Sr)>>>16,e^=t>>>1,e=e*444984403&Sr|e*60499&_s,t=t*3301882366&Sr|((t<<16|e>>>16)*3120437893&Sr)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Nw=Object.freeze({map:null,hash:"",transfer:void 0});var _c,si,eb,IM;class iD{constructor(){Z(this,eb);Z(this,_c,!1);Z(this,si,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=_(this,si).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return _(this,si).get(e)}remove(e){if(_(this,si).delete(e),_(this,si).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of _(this,si).values())if(t instanceof Vt)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=_(this,si).get(e);let i=!1;if(n!==void 0)for(const[s,a]of Object.entries(t))n[s]!==a&&(i=!0,n[s]=a);else i=!0,_(this,si).set(e,t);i&&Y(this,eb,IM).call(this),t instanceof Vt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return _(this,si).has(e)}getAll(){return _(this,si).size>0?YT(_(this,si)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return _(this,si).size}resetModified(){_(this,_c)&&($(this,_c,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new FM(this)}get serializable(){if(_(this,si).size===0)return Nw;const e=new Map,t=new MM,n=[],i=Object.create(null);let s=!1;for(const[a,l]of _(this,si)){const u=l instanceof Vt?l.serialize(!1,i):l;u&&(e.set(a,u),t.update(`${a}:${JSON.stringify(u)}`),s||(s=!!u.bitmap))}if(s)for(const a of e.values())a.bitmap&&n.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:Nw}get editorStats(){let e=null;const t=new Map;for(const n of _(this,si).values()){if(!(n instanceof Vt))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const a=e[s]||(e[s]=new Map);for(const[l,u]of Object.entries(i)){if(l==="type")continue;let d=a.get(l);d||(d=new Map,a.set(l,d));const h=d.get(u)??0;d.set(u,h+1)}}for(const[n,i]of t)e[n]=i.computeTelemetryFinalData(e[n]);return e}}_c=new WeakMap,si=new WeakMap,eb=new WeakSet,IM=function(){_(this,_c)||($(this,_c,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var bg;class FM extends iD{constructor(t){super();Z(this,bg);const{map:n,hash:i,transfer:s}=t.serializable,a=structuredClone(n,s?{transfer:s}:null);$(this,bg,{map:a,hash:i,transfer:s})}get print(){Qt("Should not call PrintAnnotationStorage.print")}get serializable(){return _(this,bg)}}bg=new WeakMap;var jd;class $V{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){Z(this,jd,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),_(this,jd).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||_(this,jd).has(e.loadedName))){if(Pn(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:i,style:s}=e,a=new FontFace(n,i,s);this.addNativeFontFace(a);try{await a.load(),_(this,jd).add(n),t==null||t(e)}catch{_t(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}Qt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw _t(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Rt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(yi||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Rt(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Pn(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:t,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Rt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(R,U){return R.charCodeAt(U)<<24|R.charCodeAt(U+1)<<16|R.charCodeAt(U+2)<<8|R.charCodeAt(U+3)&255}function i(R,U,M,O){const W=R.substring(0,U),L=R.substring(U+M);return W+O+L}let s,a;const l=this._document.createElement("canvas");l.width=1,l.height=1;const u=l.getContext("2d");let d=0;function h(R,U){if(++d>30){_t("Load test font never loaded."),U();return}if(u.font="30px "+R,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){U();return}setTimeout(h.bind(null,R,U))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=i(g,976,p.length,p);const v=16,x=1482184792;let T=n(g,v);for(s=0,a=p.length-3;s<a;s+=4)T=T-x+n(p,s)|0;s<p.length&&(T=T-x+n(p+"XXX",s)|0),g=i(g,v,4,kV(T));const D=`url(data:font/opentype;base64,${btoa(g)});`,E=`@font-face {font-family:"${p}";src:${D}}`;this.insertRule(E);const C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(const R of[e.loadedName,p]){const U=this._document.createElement("span");U.textContent="Hi",U.style.fontFamily=R,C.append(U)}this._document.body.append(C),h(p,()=>{C.remove(),t.complete()})}}jd=new WeakMap;class XV{constructor(e,{disableFontFace:t=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=n}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=nM(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),n}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(s){_t(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[t]=function(s,a){};const i=[];for(let s=0,a=n.length;s<a;)switch(n[s++]){case fa.BEZIER_CURVE_TO:{const[l,u,d,h,p,g]=n.slice(s,s+6);i.push(y=>y.bezierCurveTo(l,u,d,h,p,g)),s+=6}break;case fa.MOVE_TO:{const[l,u]=n.slice(s,s+2);i.push(d=>d.moveTo(l,u)),s+=2}break;case fa.LINE_TO:{const[l,u]=n.slice(s,s+2);i.push(d=>d.lineTo(l,u)),s+=2}break;case fa.QUADRATIC_CURVE_TO:{const[l,u,d,h]=n.slice(s,s+4);i.push(p=>p.quadraticCurveTo(l,u,d,h)),s+=4}break;case fa.RESTORE:i.push(l=>l.restore());break;case fa.SAVE:i.push(l=>l.save());break;case fa.SCALE:Pn(i.length===2,"Scale command is only valid at the third position.");break;case fa.TRANSFORM:{const[l,u,d,h,p,g]=n.slice(s,s+6);i.push(y=>y.transform(l,u,d,h,p,g)),s+=6}break;case fa.TRANSLATE:{const[l,u]=n.slice(s,s+2);i.push(d=>d.translate(l,u)),s+=2}break}return this.compiledGlyphs[t]=function(a,l){i[0](a),i[1](a),a.scale(l,-l);for(let u=2,d=i.length;u<d;u++)i[u](a)}}}if(yi){var Mw=Promise.withResolvers(),Cp=null;(async()=>{const e=await hs(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await hs(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await hs(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await hs(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,a;return new Map(Object.entries({fs:e,http:t,https:n,url:i,canvas:s,path2d:a}))})().then(e=>{Cp=e,Mw.resolve()},e=>{_t(`loadPackages: ${e}`),Cp=new Map,Mw.resolve()})}class $s{static get promise(){return Mw.promise}static get(e){return Cp==null?void 0:Cp.get(e)}}const LM=function(r){return $s.get("fs").promises.readFile(r).then(t=>new Uint8Array(t))};class QV extends _b{}class YV extends R0{_createCanvas(e,t){return $s.get("canvas").createCanvas(e,t)}}class KV extends wb{_fetchData(e,t){return LM(e).then(n=>({cMapData:n,compressionType:t}))}}class ZV extends Tb{_fetchData(e){return LM(e)}}const Di={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Iw(r,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,n),r.clip(i)}class km{constructor(){this.constructor===km&&Qt("Cannot initialize BaseShadingPattern.")}getPattern(){Qt("Abstract method `getPattern` called.")}}class JV extends km{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,i){let s;if(i===Di.STROKE||i===Di.FILL){const a=t.current.getClippedPathBoundingBox(i,hn(e))||[0,0,0,0],l=Math.ceil(a[2]-a[0])||1,u=Math.ceil(a[3]-a[1])||1,d=t.cachedCanvases.getCanvas("pattern",l,u,!0),h=d.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-a[0],-a[1]),n=et.transform(n,[1,0,0,1,a[0],a[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),Iw(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=e.createPattern(d.canvas,"no-repeat");const p=new DOMMatrix(n);s.setTransform(p)}else Iw(e,this._bbox),s=this._createGradient(e);return s}}function w2(r,e,t,n,i,s,a,l){const u=e.coords,d=e.colors,h=r.data,p=r.width*4;let g;u[t+1]>u[n+1]&&(g=t,t=n,n=g,g=s,s=a,a=g),u[n+1]>u[i+1]&&(g=n,n=i,i=g,g=a,a=l,l=g),u[t+1]>u[n+1]&&(g=t,t=n,n=g,g=s,s=a,a=g);const y=(u[t]+e.offsetX)*e.scaleX,v=(u[t+1]+e.offsetY)*e.scaleY,x=(u[n]+e.offsetX)*e.scaleX,T=(u[n+1]+e.offsetY)*e.scaleY,D=(u[i]+e.offsetX)*e.scaleX,E=(u[i+1]+e.offsetY)*e.scaleY;if(v>=E)return;const C=d[s],R=d[s+1],U=d[s+2],M=d[a],O=d[a+1],W=d[a+2],L=d[l],H=d[l+1],ne=d[l+2],F=Math.round(v),B=Math.round(E);let N,K,P,q,ie,te,j,V;for(let ee=F;ee<=B;ee++){if(ee<T){const Re=ee<v?0:(v-ee)/(v-T);N=y-(y-x)*Re,K=C-(C-M)*Re,P=R-(R-O)*Re,q=U-(U-W)*Re}else{let Re;ee>E?Re=1:T===E?Re=0:Re=(T-ee)/(T-E),N=x-(x-D)*Re,K=M-(M-L)*Re,P=O-(O-H)*Re,q=W-(W-ne)*Re}let re;ee<v?re=0:ee>E?re=1:re=(v-ee)/(v-E),ie=y-(y-D)*re,te=C-(C-L)*re,j=R-(R-H)*re,V=U-(U-ne)*re;const pe=Math.round(Math.min(N,ie)),be=Math.round(Math.max(N,ie));let Ee=p*ee+pe*4;for(let Re=pe;Re<=be;Re++)re=(N-Re)/(N-ie),re<0?re=0:re>1&&(re=1),h[Ee++]=K-(K-te)*re|0,h[Ee++]=P-(P-j)*re|0,h[Ee++]=q-(q-V)*re|0,h[Ee++]=255}}function eH(r,e,t){const n=e.coords,i=e.colors;let s,a;switch(e.type){case"lattice":const l=e.verticesPerRow,u=Math.floor(n.length/l)-1,d=l-1;for(s=0;s<u;s++){let h=s*l;for(let p=0;p<d;p++,h++)w2(r,t,n[h],n[h+1],n[h+l],i[h],i[h+1],i[h+l]),w2(r,t,n[h+l+1],n[h+1],n[h+l],i[h+l+1],i[h+1],i[h+l])}break;case"triangles":for(s=0,a=n.length;s<a;s+=3)w2(r,t,n[s],n[s+1],n[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class tH extends km{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const l=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-l,h=Math.ceil(this._bounds[3])-u,p=Math.min(Math.ceil(Math.abs(d*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),y=d/p,v=h/g,x={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-u,scaleX:1/y,scaleY:1/v},T=p+2*2,D=g+2*2,E=n.getCanvas("mesh",T,D,!1),C=E.context,R=C.createImageData(p,g);if(t){const M=R.data;for(let O=0,W=M.length;O<W;O+=4)M[O]=t[0],M[O+1]=t[1],M[O+2]=t[2],M[O+3]=255}for(const M of this._figures)eH(R,M,x);return C.putImageData(R,2,2),{canvas:E.canvas,offsetX:l-2*y,offsetY:u-2*v,scaleX:y,scaleY:v}}getPattern(e,t,n,i){Iw(e,this._bbox);let s;if(i===Di.SHADING)s=et.singularValueDecompose2dScale(hn(e));else if(s=et.singularValueDecompose2dScale(t.baseTransform),this.matrix){const l=et.singularValueDecompose2dScale(this.matrix);s=[s[0]*l[0],s[1]*l[1]]}const a=this._createMeshCanvas(s,i===Di.SHADING?null:this._background,t.cachedCanvases);return i!==Di.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class nH extends km{getPattern(){return"hotpink"}}function iH(r){switch(r[0]){case"RadialAxial":return new JV(r);case"Mesh":return new tH(r);case"Dummy":return new nH}throw new Error(`Unknown IR type: ${r[0]}`)}const Vk={COLORED:1,UNCOLORED:2},tb=class tb{constructor(e,t,n,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const t=this.operatorList,n=this.bbox,i=this.xstep,s=this.ystep,a=this.paintType,l=this.tilingType,u=this.color,d=this.canvasGraphicsFactory;vb("TilingType: "+l);const h=n[0],p=n[1],g=n[2],y=n[3],v=et.singularValueDecompose2dScale(this.matrix),x=et.singularValueDecompose2dScale(this.baseTransform),T=[v[0]*x[0],v[1]*x[1]],D=this.getSizeAndScale(i,this.ctx.canvas.width,T[0]),E=this.getSizeAndScale(s,this.ctx.canvas.height,T[1]),C=e.cachedCanvases.getCanvas("pattern",D.size,E.size,!0),R=C.context,U=d.createCanvasGraphics(R);U.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(U,a,u);let M=h,O=p,W=g,L=y;return h<0&&(M=0,W+=Math.abs(h)),p<0&&(O=0,L+=Math.abs(p)),R.translate(-(D.scale*M),-(E.scale*O)),U.transform(D.scale,0,0,E.scale,0,0),R.save(),this.clipBbox(U,M,O,W,L),U.baseTransform=hn(U.ctx),U.executeOperatorList(t),U.endDrawing(),{canvas:C.canvas,scaleX:D.scale,scaleY:E.scale,offsetX:M,offsetY:O}}getSizeAndScale(e,t,n){e=Math.abs(e);const i=Math.max(tb.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*n);return s>=i?s=i:n=s/e,{scale:n,size:s}}clipBbox(e,t,n,i,s){const a=i-t,l=s-n;e.ctx.rect(t,n,a,l),e.current.updateRectMinMax(hn(e.ctx),[t,n,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,s=e.current;switch(t){case Vk.COLORED:const a=this.ctx;i.fillStyle=a.fillStyle,i.strokeStyle=a.strokeStyle,s.fillColor=a.fillStyle,s.strokeColor=a.strokeStyle;break;case Vk.UNCOLORED:const l=et.makeHexColor(n[0],n[1],n[2]);i.fillStyle=l,i.strokeStyle=l,s.fillColor=l,s.strokeColor=l;break;default:throw new UV(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,i){let s=n;i!==Di.SHADING&&(s=et.transform(s,t.baseTransform),this.matrix&&(s=et.transform(s,this.matrix)));const a=this.createPatternCanvas(t);let l=new DOMMatrix(s);l=l.translate(a.offsetX,a.offsetY),l=l.scale(1/a.scaleX,1/a.scaleY);const u=e.createPattern(a.canvas,"repeat");return u.setTransform(l),u}};pt(tb,"MAX_PATTERN_SIZE",3e3);let Fw=tb;function rH({src:r,srcPos:e=0,dest:t,width:n,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const l=qi.isLittleEndian?4278190080:255,[u,d]=a?[s,l]:[l,s],h=n>>3,p=n&7,g=r.length;t=new Uint32Array(t.buffer);let y=0;for(let v=0;v<i;v++){for(const T=e+h;e<T;e++){const D=e<g?r[e]:255;t[y++]=D&128?d:u,t[y++]=D&64?d:u,t[y++]=D&32?d:u,t[y++]=D&16?d:u,t[y++]=D&8?d:u,t[y++]=D&4?d:u,t[y++]=D&2?d:u,t[y++]=D&1?d:u}if(p===0)continue;const x=e<g?r[e++]:255;for(let T=0;T<p;T++)t[y++]=x&1<<7-T?d:u}return{srcPos:e,destPos:y}}const Hk=16,Gk=100,sH=15,$k=10,Xk=1e3,Bi=16;function aH(r,e){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){e.save(),this.__originalSave()},r.restore=function(){e.restore(),this.__originalRestore()},r.translate=function(n,i){e.translate(n,i),this.__originalTranslate(n,i)},r.scale=function(n,i){e.scale(n,i),this.__originalScale(n,i)},r.transform=function(n,i,s,a,l,u){e.transform(n,i,s,a,l,u),this.__originalTransform(n,i,s,a,l,u)},r.setTransform=function(n,i,s,a,l,u){e.setTransform(n,i,s,a,l,u),this.__originalSetTransform(n,i,s,a,l,u)},r.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},r.rotate=function(n){e.rotate(n),this.__originalRotate(n)},r.clip=function(n){e.clip(n),this.__originalClip(n)},r.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},r.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},r.bezierCurveTo=function(t,n,i,s,a,l){e.bezierCurveTo(t,n,i,s,a,l),this.__originalBezierCurveTo(t,n,i,s,a,l)},r.rect=function(t,n,i,s){e.rect(t,n,i,s),this.__originalRect(t,n,i,s)},r.closePath=function(){e.closePath(),this.__originalClosePath()},r.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class oH{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Qy(r,e,t,n,i,s,a,l,u,d){const[h,p,g,y,v,x]=hn(r);if(p===0&&g===0){const E=a*h+v,C=Math.round(E),R=l*y+x,U=Math.round(R),M=(a+u)*h+v,O=Math.abs(Math.round(M)-C)||1,W=(l+d)*y+x,L=Math.abs(Math.round(W)-U)||1;return r.setTransform(Math.sign(h),0,0,Math.sign(y),C,U),r.drawImage(e,t,n,i,s,0,0,O,L),r.setTransform(h,p,g,y,v,x),[O,L]}if(h===0&&y===0){const E=l*g+v,C=Math.round(E),R=a*p+x,U=Math.round(R),M=(l+d)*g+v,O=Math.abs(Math.round(M)-C)||1,W=(a+u)*p+x,L=Math.abs(Math.round(W)-U)||1;return r.setTransform(0,Math.sign(p),Math.sign(g),0,C,U),r.drawImage(e,t,n,i,s,0,0,L,O),r.setTransform(h,p,g,y,v,x),[L,O]}r.drawImage(e,t,n,i,s,a,l,u,d);const T=Math.hypot(h,p),D=Math.hypot(g,y);return[T*u,D*d]}function lH(r){const{width:e,height:t}=r;if(e>Xk||t>Xk)return null;const n=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let a=new Uint8Array(s*(t+1)),l,u,d;const h=e+7&-8;let p=new Uint8Array(h*t),g=0;for(const D of r.data){let E=128;for(;E>0;)p[g++]=D&E?0:255,E>>=1}let y=0;for(g=0,p[g]!==0&&(a[0]=1,++y),u=1;u<e;u++)p[g]!==p[g+1]&&(a[u]=p[g]?2:1,++y),g++;for(p[g]!==0&&(a[u]=2,++y),l=1;l<t;l++){g=l*h,d=l*s,p[g-h]!==p[g]&&(a[d]=p[g]?1:8,++y);let D=(p[g]?4:0)+(p[g-h]?8:0);for(u=1;u<e;u++)D=(D>>2)+(p[g+1]?4:0)+(p[g-h+1]?8:0),i[D]&&(a[d+u]=i[D],++y),g++;if(p[g-h]!==p[g]&&(a[d+u]=p[g]?2:4,++y),y>n)return null}for(g=h*(t-1),d=l*s,p[g]!==0&&(a[d]=8,++y),u=1;u<e;u++)p[g]!==p[g+1]&&(a[d+u]=p[g]?4:8,++y),g++;if(p[g]!==0&&(a[d+u]=4,++y),y>n)return null;const v=new Int32Array([0,s,-1,0,-s,0,0,0,1]),x=new Path2D;for(l=0;y&&l<=t;l++){let D=l*s;const E=D+e;for(;D<E&&!a[D];)D++;if(D===E)continue;x.moveTo(D%s,l);const C=D;let R=a[D];do{const U=v[R];do D+=U;while(!a[D]);const M=a[D];M!==5&&M!==10?(R=M,a[D]=0):(R=M&51*R>>4,a[D]&=R>>2|R<<2),x.lineTo(D%s,D/s|0),a[D]||--y}while(C!==D);--l}return p=null,a=null,function(D){D.save(),D.scale(1/e,-1/t),D.translate(0,-t),D.fill(x),D.beginPath(),D.restore()}}class Qk{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=eM,this.textMatrixScale=1,this.fontMatrix=ow,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=hi.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=et.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=et.applyTransform(t,e),i=et.applyTransform(t.slice(2),e),s=et.applyTransform([t[0],t[3]],e),a=et.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],i[0],s[0],a[0]),this.minY=Math.min(this.minY,n[1],i[1],s[1],a[1]),this.maxX=Math.max(this.maxX,n[0],i[0],s[0],a[0]),this.maxY=Math.max(this.maxY,n[1],i[1],s[1],a[1])}updateScalingPathMinMax(e,t){et.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,i,s,a,l,u,d,h){const p=et.bezierBoundingBox(t,n,i,s,a,l,u,d,h);h||this.updateRectMinMax(e,p)}getPathBoundingBox(e=Di.FILL,t=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===Di.STROKE){t||Qt("Stroke bounding box must include transform.");const i=et.singularValueDecompose2dScale(t),s=i[0]*this.lineWidth/2,a=i[1]*this.lineWidth/2;n[0]-=s,n[1]-=a,n[2]+=s,n[3]+=a}return n}updateClipFromPath(){const e=et.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Di.FILL,t=null){return et.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function Yk(r,e){if(typeof ImageData<"u"&&e instanceof ImageData){r.putImageData(e,0,0);return}const t=e.height,n=e.width,i=t%Bi,s=(t-i)/Bi,a=i===0?s:s+1,l=r.createImageData(n,Bi);let u=0,d;const h=e.data,p=l.data;let g,y,v,x;if(e.kind===Av.GRAYSCALE_1BPP){const T=h.byteLength,D=new Uint32Array(p.buffer,0,p.byteLength>>2),E=D.length,C=n+7>>3,R=4294967295,U=qi.isLittleEndian?4278190080:255;for(g=0;g<a;g++){for(v=g<s?Bi:i,d=0,y=0;y<v;y++){const M=T-u;let O=0;const W=M>C?n:M*8-7,L=W&-8;let H=0,ne=0;for(;O<L;O+=8)ne=h[u++],D[d++]=ne&128?R:U,D[d++]=ne&64?R:U,D[d++]=ne&32?R:U,D[d++]=ne&16?R:U,D[d++]=ne&8?R:U,D[d++]=ne&4?R:U,D[d++]=ne&2?R:U,D[d++]=ne&1?R:U;for(;O<W;O++)H===0&&(ne=h[u++],H=128),D[d++]=ne&H?R:U,H>>=1}for(;d<E;)D[d++]=0;r.putImageData(l,0,g*Bi)}}else if(e.kind===Av.RGBA_32BPP){for(y=0,x=n*Bi*4,g=0;g<s;g++)p.set(h.subarray(u,u+x)),u+=x,r.putImageData(l,0,y),y+=Bi;g<a&&(x=n*i*4,p.set(h.subarray(u,u+x)),r.putImageData(l,0,y))}else if(e.kind===Av.RGB_24BPP)for(v=Bi,x=n*v,g=0;g<a;g++){for(g>=s&&(v=i,x=n*v),d=0,y=x;y--;)p[d++]=h[u++],p[d++]=h[u++],p[d++]=h[u++],p[d++]=255;r.putImageData(l,0,g*Bi)}else throw new Error(`bad image kind: ${e.kind}`)}function Kk(r,e){if(e.bitmap){r.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,i=t%Bi,s=(t-i)/Bi,a=i===0?s:s+1,l=r.createImageData(n,Bi);let u=0;const d=e.data,h=l.data;for(let p=0;p<a;p++){const g=p<s?Bi:i;({srcPos:u}=rH({src:d,srcPos:u,dest:h,width:n,height:g,nonBlackColor:0})),r.putImageData(l,0,p*Bi)}}function Wf(r,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)r[n]!==void 0&&(e[n]=r[n]);r.setLineDash!==void 0&&(e.setLineDash(r.getLineDash()),e.lineDashOffset=r.lineDashOffset)}function Yy(r){if(r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0),!yi){const{filter:e}=r;e!=="none"&&e!==""&&(r.filter="none")}}function Zk(r,e){if(e)return!0;const t=et.singularValueDecompose2dScale(r);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*fl.PDF_TO_CSS_UNITS);return t[0]<=n&&t[1]<=n}const cH=["butt","round","square"],uH=["miter","round","bevel"],dH={},Jk={};var yl,Lw,Ow;const rA=class rA{constructor(e,t,n,i,s,{optionalContentConfig:a,markedContentStack:l=null},u,d){Z(this,yl);this.ctx=e,this.current=new Qk(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=a,this.cachedCanvases=new oH(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=l,n){const u=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...hn(this.compositeCtx))}this.ctx.save(),Yy(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=hn(this.ctx)}executeOperatorList(e,t,n,i){const s=e.argsArray,a=e.fnArray;let l=t||0;const u=s.length;if(u===l)return l;const d=u-l>$k&&typeof n=="function",h=d?Date.now()+sH:0;let p=0;const g=this.commonObjs,y=this.objs;let v;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,n),l;if(v=a[l],v!==Kr.dependency)this[v].apply(this,s[l]);else for(const x of s[l]){const T=x.startsWith("g_")?g:y;if(!T.has(x))return T.get(x,n),l}if(l++,l===u)return l;if(d&&++p>$k){if(Date.now()>h)return n(),l;p=0}}}endDrawing(){Y(this,yl,Lw).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),Y(this,yl,Ow).call(this)}_scaleImage(e,t){const n=e.width,i=e.height;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),l=n,u=i,d="prescale1",h,p;for(;s>2&&l>1||a>2&&u>1;){let g=l,y=u;s>2&&l>1&&(g=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),s/=l/g),a>2&&u>1&&(y=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,a/=u/y),h=this.cachedCanvases.getCanvas(d,g,y),p=h.context,p.clearRect(0,0,g,y),p.drawImage(e,0,0,l,u,0,0,g,y),e=h.canvas,l=g,u=y,d=d==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:u}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:i}=e,s=this.current.fillColor,a=this.current.patternFill,l=hn(t);let u,d,h,p;if((e.bitmap||e.data)&&e.count>1){const W=e.bitmap||e.data.buffer;d=JSON.stringify(a?l:[l.slice(0,4),s]),u=this._cachedBitmapsMap.get(W),u||(u=new Map,this._cachedBitmapsMap.set(W,u));const L=u.get(d);if(L&&!a){const H=Math.round(Math.min(l[0],l[2])+l[4]),ne=Math.round(Math.min(l[1],l[3])+l[5]);return{canvas:L,offsetX:H,offsetY:ne}}h=L}h||(p=this.cachedCanvases.getCanvas("maskCanvas",n,i),Kk(p.context,e));let g=et.transform(l,[1/n,0,0,-1/i,0,0]);g=et.transform(g,[1,0,0,1,0,-i]);const[y,v,x,T]=et.getAxialAlignedBoundingBox([0,0,n,i],g),D=Math.round(x-y)||1,E=Math.round(T-v)||1,C=this.cachedCanvases.getCanvas("fillCanvas",D,E),R=C.context,U=y,M=v;R.translate(-U,-M),R.transform(...g),h||(h=this._scaleImage(p.canvas,pa(R)),h=h.img,u&&a&&u.set(d,h)),R.imageSmoothingEnabled=Zk(hn(R),e.interpolate),Qy(R,h,0,0,h.width,h.height,0,0,n,i),R.globalCompositeOperation="source-in";const O=et.transform(pa(R),[1,0,0,1,-U,-M]);return R.fillStyle=a?s.getPattern(t,this,O,Di.FILL):s,R.fillRect(0,0,n,i),u&&!a&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,C.canvas)),{canvas:C.canvas,offsetX:Math.round(U),offsetY:Math.round(M)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=cH[e]}setLineJoin(e){this.ctx.lineJoin=uH[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...hn(this.suspendedCtx)),Wf(this.suspendedCtx,s),aH(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Wf(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const s=i[0],a=i[1],l=i[2]-s,u=i[3]-a;l===0||u===0||(this.genericComposeSMask(t.context,n,l,u,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,s,a,l,u,d,h,p){let g=e.canvas,y=u-h,v=d-p;if(a){if(y<0||v<0||y+n>g.width||v+i>g.height){const T=this.cachedCanvases.getCanvas("maskExtension",n,i),D=T.context;D.drawImage(g,-y,-v),a.some(E=>E!==0)&&(D.globalCompositeOperation="destination-atop",D.fillStyle=et.makeHexColor(...a),D.fillRect(0,0,n,i),D.globalCompositeOperation="source-over"),g=T.canvas,y=v=0}else if(a.some(T=>T!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const T=new Path2D;T.rect(y,v,n,i),e.clip(T),e.globalCompositeOperation="destination-atop",e.fillStyle=et.makeHexColor(...a),e.fillRect(y,v,n,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&l?t.filter=this.filterFactory.addAlphaFilter(l):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(l));const x=new Path2D;x.rect(u,d,n,i),t.clip(x),t.globalCompositeOperation="destination-in",t.drawImage(g,y,v,n,i,u,d,n,i),t.restore()}save(){this.inSMaskMode?(Wf(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Wf(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,i,s,a){this.ctx.transform(e,t,n,i,s,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const i=this.ctx,s=this.current;let a=s.x,l=s.y,u,d;const h=hn(i),p=h[0]===0&&h[3]===0||h[1]===0&&h[2]===0,g=p?n.slice(0):null;for(let y=0,v=0,x=e.length;y<x;y++)switch(e[y]|0){case Kr.rectangle:a=t[v++],l=t[v++];const T=t[v++],D=t[v++],E=a+T,C=l+D;i.moveTo(a,l),T===0||D===0?i.lineTo(E,C):(i.lineTo(E,l),i.lineTo(E,C),i.lineTo(a,C)),p||s.updateRectMinMax(h,[a,l,E,C]),i.closePath();break;case Kr.moveTo:a=t[v++],l=t[v++],i.moveTo(a,l),p||s.updatePathMinMax(h,a,l);break;case Kr.lineTo:a=t[v++],l=t[v++],i.lineTo(a,l),p||s.updatePathMinMax(h,a,l);break;case Kr.curveTo:u=a,d=l,a=t[v+4],l=t[v+5],i.bezierCurveTo(t[v],t[v+1],t[v+2],t[v+3],a,l),s.updateCurvePathMinMax(h,u,d,t[v],t[v+1],t[v+2],t[v+3],a,l,g),v+=6;break;case Kr.curveTo2:u=a,d=l,i.bezierCurveTo(a,l,t[v],t[v+1],t[v+2],t[v+3]),s.updateCurvePathMinMax(h,u,d,a,l,t[v],t[v+1],t[v+2],t[v+3],g),a=t[v+2],l=t[v+3],v+=4;break;case Kr.curveTo3:u=a,d=l,a=t[v+2],l=t[v+3],i.bezierCurveTo(t[v],t[v+1],a,l,a,l),s.updateCurvePathMinMax(h,u,d,t[v],t[v+1],a,l,a,l,g),v+=4;break;case Kr.closePath:i.closePath();break}p&&s.updateScalingPathMinMax(h,g),s.setCurrentPoint(a,l)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(t.save(),t.strokeStyle=n.getPattern(t,this,pa(t),Di.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(t.save(),t.fillStyle=n.getPattern(t,this,pa(t),Di.FILL),s=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=dH}eoClip(){this.pendingClip=Jk}beginText(){this.current.textMatrix=eM,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var h;const n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=n.fontMatrix||ow,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&_t("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const s=n.loadedName||"sans-serif",a=((h=n.systemFontInfo)==null?void 0:h.css)||`"${s}", ${n.fallbackName}`;let l="normal";n.black?l="900":n.bold&&(l="bold");const u=n.italic?"italic":"normal";let d=t;t<Hk?d=Hk:t>Gk&&(d=Gk),this.current.fontSizeScale=t/d,this.ctx.font=`${u} ${l} ${d}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,i,s,a){this.current.textMatrix=[e,t,n,i,s,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,i){const s=this.ctx,a=this.current,l=a.font,u=a.textRenderingMode,d=a.fontSize/a.fontSizeScale,h=u&hi.FILL_STROKE_MASK,p=!!(u&hi.ADD_TO_PATH_FLAG),g=a.patternFill&&!l.missingFile;let y;(l.disableFontFace||p||g)&&(y=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||g?(s.save(),s.translate(t,n),s.beginPath(),y(s,d),i&&s.setTransform(...i),(h===hi.FILL||h===hi.FILL_STROKE)&&s.fill(),(h===hi.STROKE||h===hi.FILL_STROKE)&&s.stroke(),s.restore()):((h===hi.FILL||h===hi.FILL_STROKE)&&s.fillText(e,t,n),(h===hi.STROKE||h===hi.FILL_STROKE)&&s.strokeText(e,t,n)),p&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:hn(s),x:t,y:n,fontSize:d,addToPath:y})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return Rt(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,a=t.fontSizeScale,l=t.charSpacing,u=t.wordSpacing,d=t.fontDirection,h=t.textHScale*d,p=e.length,g=n.vertical,y=g?1:-1,v=n.defaultVMetrics,x=i*t.fontMatrix[0],T=t.textRenderingMode===hi.FILL&&!n.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),d>0?s.scale(h,-1):s.scale(h,1);let D;if(t.patternFill){s.save();const M=t.fillColor.getPattern(s,this,pa(s),Di.FILL);D=hn(s),s.restore(),s.fillStyle=M}let E=t.lineWidth;const C=t.textMatrixScale;if(C===0||E===0){const M=t.textRenderingMode&hi.FILL_STROKE_MASK;(M===hi.STROKE||M===hi.FILL_STROKE)&&(E=this.getSinglePixelWidth())}else E/=C;if(a!==1&&(s.scale(a,a),E/=a),s.lineWidth=E,n.isInvalidPDFjsFont){const M=[];let O=0;for(const W of e)M.push(W.unicode),O+=W.width;s.fillText(M.join(""),0,0),t.x+=O*x*h,s.restore(),this.compose();return}let R=0,U;for(U=0;U<p;++U){const M=e[U];if(typeof M=="number"){R+=y*M*i/1e3;continue}let O=!1;const W=(M.isSpace?u:0)+l,L=M.fontChar,H=M.accent;let ne,F,B=M.width;if(g){const K=M.vmetric||v,P=-(M.vmetric?K[1]:B*.5)*x,q=K[2]*x;B=K?-K[0]:B,ne=P/a,F=(R+q)/a}else ne=R/a,F=0;if(n.remeasure&&B>0){const K=s.measureText(L).width*1e3/i*a;if(B<K&&this.isFontSubpixelAAEnabled){const P=B/K;O=!0,s.save(),s.scale(P,1),ne/=P}else B!==K&&(ne+=(B-K)/2e3*i/a)}if(this.contentVisible&&(M.isInFont||n.missingFile)){if(T&&!H)s.fillText(L,ne,F);else if(this.paintChar(L,ne,F,D),H){const K=ne+i*H.offset.x/a,P=F-i*H.offset.y/a;this.paintChar(H.fontChar,K,P,D)}}const N=g?B*x-W*d:B*x+W*d;R+=N,O&&s.restore()}g?t.y-=R:t.x+=R*h,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,i=n.font,s=n.fontSize,a=n.fontDirection,l=i.vertical?1:-1,u=n.charSpacing,d=n.wordSpacing,h=n.textHScale*a,p=n.fontMatrix||ow,g=e.length,y=n.textRenderingMode===hi.INVISIBLE;let v,x,T,D;if(!(y||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(h,a),v=0;v<g;++v){if(x=e[v],typeof x=="number"){D=l*x*s/1e3,this.ctx.translate(D,0),n.x+=D*h;continue}const E=(x.isSpace?d:0)+u,C=i.charProcOperatorList[x.operatorListId];if(!C){_t(`Type3 character "${x.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=x,this.save(),t.scale(s,s),t.transform(...p),this.executeOperatorList(C),this.restore()),T=et.applyTransform([x.width,0],p)[0]*s+E,t.translate(T,0),n.x+=T*h}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,i,s,a){this.ctx.rect(n,i,s-n,a-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=e[1],i=this.baseTransform||hn(this.ctx),s={createCanvasGraphics:a=>new rA(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Fw(e,n,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){const i=et.makeHexColor(e,t,n);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,t,n){const i=et.makeHexColor(e,t,n);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=iH(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,pa(t),Di.SHADING);const i=pa(t);if(i){const{width:s,height:a}=t.canvas,[l,u,d,h]=et.getAxialAlignedBoundingBox([0,0,s,a],i);this.ctx.fillRect(l,u,d-l,h-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Qt("Should not call beginInlineImage")}beginImageData(){Qt("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=hn(this.ctx),t)){const n=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],n,i),this.current.updateRectMinMax(hn(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||vb("TODO: Support non-isolated groups."),e.knockout&&_t("Knockout groups not supported.");const n=hn(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=et.getAxialAlignedBoundingBox(e.bbox,hn(t));const s=[0,0,t.canvas.width,t.canvas.height];i=et.intersect(i,s)||[0,0,0,0];const a=Math.floor(i[0]),l=Math.floor(i[1]),u=Math.max(Math.ceil(i[2])-a,1),d=Math.max(Math.ceil(i[3])-l,1);this.current.startNewPathAndClipBox([0,0,u,d]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(h,u,d),g=p.context;g.translate(-a,-l),g.transform(...n),e.smask?this.smaskStack.push({canvas:p.canvas,context:g,offsetX:a,offsetY:l,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,l),t.save()),Wf(t,g),this.ctx=g,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=hn(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=et.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,n,i,s){if(Y(this,yl,Lw).call(this),Yy(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const a=t[2]-t[0],l=t[3]-t[1];if(s&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=a,t[3]=l;const[u,d]=et.singularValueDecompose2dScale(hn(this.ctx)),{viewportScale:h}=this,p=Math.ceil(a*this.outputScaleX*h),g=Math.ceil(l*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(p,g);const{canvas:y,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(e,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(u,0,0,-d,0,l*d),Yy(this.ctx)}else Yy(this.ctx),this.ctx.rect(t[0],t[1],a,l),this.ctx.clip(),this.endPath()}this.current=new Qk(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Y(this,yl,Ow).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=lH(e)),i.compiled)){i.compiled(n);return}const s=this._createMaskCanvas(e),a=s.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,s.offsetX,s.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,i=0,s,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const l=this.ctx;l.save();const u=hn(l);l.transform(t,n,i,s,0,0);const d=this._createMaskCanvas(e);l.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]);for(let h=0,p=a.length;h<p;h+=2){const g=et.transform(u,[t,n,i,s,a[h],a[h+1]]),[y,v]=et.applyTransform([0,0],g);l.drawImage(d.canvas,y,v)}l.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:a,width:l,height:u,transform:d}=s,h=this.cachedCanvases.getCanvas("maskCanvas",l,u),p=h.context;p.save();const g=this.getObject(a,s);Kk(p,g),p.globalCompositeOperation="source-in",p.fillStyle=i?n.getPattern(p,this,pa(t),Di.FILL):n,p.fillRect(0,0,l,u),p.restore(),t.save(),t.transform(...d),t.scale(1,-1),Qy(t,h.canvas,0,0,l,u,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){_t("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){_t("Dependent image isn't ready yet");return}const a=s.width,l=s.height,u=[];for(let d=0,h=i.length;d<h;d+=2)u.push({transform:[t,0,0,n,i[d],i[d+1]],x:0,y:0,w:a,h:l});this.paintInlineImageXObjectGroup(s,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,i=this.ctx;if(this.save(),!yi){const{filter:l}=i;l!=="none"&&l!==""&&(i.filter="none")}i.scale(1/t,-1/n);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const u=this.cachedCanvases.getCanvas("inlineImage",t,n).context;Yk(u,e),s=this.applyTransferMapsToCanvas(u)}const a=this._scaleImage(s,pa(i));i.imageSmoothingEnabled=Zk(hn(i),e.interpolate),Qy(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,a=e.height,u=this.cachedCanvases.getCanvas("inlineImage",s,a).context;Yk(u,e),i=this.applyTransferMapsToCanvas(u)}for(const s of t)n.save(),n.transform(...s.transform),n.scale(1,-1),Qy(n,i,s.x,s.y,s.w,s.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===Jk?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=hn(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:s}=this.ctx.getTransform();let a,l;if(n===0&&i===0){const u=Math.abs(t),d=Math.abs(s);if(u===d)if(e===0)a=l=1/u;else{const h=u*e;a=l=h<1?1/h:1}else if(e===0)a=1/u,l=1/d;else{const h=u*e,p=d*e;a=h<1?1/h:1,l=p<1?1/p:1}}else{const u=Math.abs(t*s-n*i),d=Math.hypot(t,n),h=Math.hypot(i,s);if(e===0)a=h/u,l=d/u;else{const p=e*u;a=h>p?h/p:1,l=d>p?d/p:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=n||1,i===1&&s===1){t.stroke();return}const a=t.getLineDash();if(e&&t.save(),t.scale(i,s),a.length>0){const l=Math.max(i,s);t.setLineDash(a.map(u=>u/l)),t.lineDashOffset/=l}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};yl=new WeakSet,Lw=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Ow=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let Ed=rA;for(const r in Kr)Ed.prototype[r]!==void 0&&(Ed.prototype[Kr[r]]=Ed.prototype[r]);var xg,_g;class Ya{static get workerPort(){return _(this,xg)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");$(this,xg,e)}static get workerSrc(){return _(this,_g)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");$(this,_g,e)}}xg=new WeakMap,_g=new WeakMap,Z(Ya,xg,null),Z(Ya,_g,"");const Ky={DATA:1,ERROR:2},Sn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function rr(r){switch(r instanceof Error||typeof r=="object"&&r!==null||Qt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new pu(r.message);case"MissingPDFException":return new fu(r.message);case"PasswordException":return new cw(r.message,r.code);case"UnexpectedResponseException":return new bb(r.message,r.status);case"UnknownErrorException":return new uw(r.message,r.details);default:return new uw(r.message,r.toString())}}var Vs,OM,PM,Rv;class fp{constructor(e,t,n){Z(this,Vs);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=i=>{const s=i.data;if(s.targetName!==this.sourceName)return;if(s.stream){Y(this,Vs,PM).call(this,s);return}if(s.callback){const l=s.callbackId,u=this.callbackCapabilities[l];if(!u)throw new Error(`Cannot resolve callback ${l}`);if(delete this.callbackCapabilities[l],s.callback===Ky.DATA)u.resolve(s.data);else if(s.callback===Ky.ERROR)u.reject(rr(s.reason));else throw new Error("Unexpected callback case");return}const a=this.actionHandler[s.action];if(!a)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const l=this.sourceName,u=s.sourceName;new Promise(function(d){d(a(s.data))}).then(function(d){n.postMessage({sourceName:l,targetName:u,callback:Ky.DATA,callbackId:s.callbackId,data:d})},function(d){n.postMessage({sourceName:l,targetName:u,callback:Ky.ERROR,callbackId:s.callbackId,reason:rr(d)})});return}if(s.streamId){Y(this,Vs,OM).call(this,s);return}a(s.data)},n.addEventListener("message",this._onComObjOnMessage)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,n,i){const s=this.streamId++,a=this.sourceName,l=this.targetName,u=this.comObj;return new ReadableStream({start:d=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:d,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:a,targetName:l,action:e,streamId:s,data:t,desiredSize:d.desiredSize},i),h.promise},pull:d=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,u.postMessage({sourceName:a,targetName:l,stream:Sn.PULL,streamId:s,desiredSize:d.desiredSize}),h.promise},cancel:d=>{Pn(d instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,u.postMessage({sourceName:a,targetName:l,stream:Sn.CANCEL,streamId:s,reason:rr(d)}),h.promise}},n)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Vs=new WeakSet,OM=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this,l=this.actionHandler[e.action],u={enqueue(d,h=1,p){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=h,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:i,stream:Sn.ENQUEUE,streamId:t,chunk:d},p)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:Sn.CLOSE,streamId:t}),delete a.streamSinks[t])},error(d){Pn(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:Sn.ERROR,streamId:t,reason:rr(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[t]=u,new Promise(function(d){d(l(e.data,u))}).then(function(){s.postMessage({sourceName:n,targetName:i,stream:Sn.START_COMPLETE,streamId:t,success:!0})},function(d){s.postMessage({sourceName:n,targetName:i,stream:Sn.START_COMPLETE,streamId:t,reason:rr(d)})})},PM=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[t],l=this.streamSinks[t];switch(e.stream){case Sn.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(rr(e.reason));break;case Sn.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(rr(e.reason));break;case Sn.PULL:if(!l){s.postMessage({sourceName:n,targetName:i,stream:Sn.PULL_COMPLETE,streamId:t,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,new Promise(function(u){var d;u((d=l.onPull)==null?void 0:d.call(l))}).then(function(){s.postMessage({sourceName:n,targetName:i,stream:Sn.PULL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:n,targetName:i,stream:Sn.PULL_COMPLETE,streamId:t,reason:rr(u)})});break;case Sn.ENQUEUE:if(Pn(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Sn.CLOSE:if(Pn(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),Y(this,Vs,Rv).call(this,a,t);break;case Sn.ERROR:Pn(a,"error should have stream controller"),a.controller.error(rr(e.reason)),Y(this,Vs,Rv).call(this,a,t);break;case Sn.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(rr(e.reason)),Y(this,Vs,Rv).call(this,a,t);break;case Sn.CANCEL:if(!l)break;new Promise(function(u){var d;u((d=l.onCancel)==null?void 0:d.call(l,rr(e.reason)))}).then(function(){s.postMessage({sourceName:n,targetName:i,stream:Sn.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:n,targetName:i,stream:Sn.CANCEL_COMPLETE,streamId:t,reason:rr(u)})}),l.sinkCapability.reject(rr(e.reason)),l.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Rv=async function(e,t){var n,i,s;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var wc,wg;class hH{constructor({parsedData:e,rawData:t}){Z(this,wc);Z(this,wg);$(this,wc,e),$(this,wg,t)}getRaw(){return _(this,wg)}get(e){return _(this,wc).get(e)??null}getAll(){return YT(_(this,wc))}has(e){return _(this,wc).has(e)}}wc=new WeakMap,wg=new WeakMap;const Mo=Symbol("INTERNAL");var Tg,Dg,Ag,Vd;class fH{constructor(e,{name:t,intent:n,usage:i}){Z(this,Tg,!1);Z(this,Dg,!1);Z(this,Ag,!1);Z(this,Vd,!0);$(this,Tg,!!(e&Fr.DISPLAY)),$(this,Dg,!!(e&Fr.PRINT)),this.name=t,this.intent=n,this.usage=i}get visible(){if(_(this,Ag))return _(this,Vd);if(!_(this,Vd))return!1;const{print:e,view:t}=this.usage;return _(this,Tg)?(t==null?void 0:t.viewState)!=="OFF":_(this,Dg)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==Mo&&Qt("Internal method `_setVisible` called."),$(this,Ag,n),$(this,Vd,t)}}Tg=new WeakMap,Dg=new WeakMap,Ag=new WeakMap,Vd=new WeakMap;var Go,Xt,Hd,Gd,Eg,Pw;class pH{constructor(e,t=Fr.DISPLAY){Z(this,Eg);Z(this,Go,null);Z(this,Xt,new Map);Z(this,Hd,null);Z(this,Gd,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,$(this,Gd,e.order);for(const n of e.groups)_(this,Xt).set(n.id,new fH(t,n));if(e.baseState==="OFF")for(const n of _(this,Xt).values())n._setVisible(Mo,!1);for(const n of e.on)_(this,Xt).get(n)._setVisible(Mo,!0);for(const n of e.off)_(this,Xt).get(n)._setVisible(Mo,!1);$(this,Hd,this.getHash())}}isVisible(e){if(_(this,Xt).size===0)return!0;if(!e)return vb("Optional content group not defined."),!0;if(e.type==="OCG")return _(this,Xt).has(e.id)?_(this,Xt).get(e.id).visible:(_t(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return Y(this,Eg,Pw).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!_(this,Xt).has(t))return _t(`Optional content group not found: ${t}`),!0;if(_(this,Xt).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!_(this,Xt).has(t))return _t(`Optional content group not found: ${t}`),!0;if(!_(this,Xt).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!_(this,Xt).has(t))return _t(`Optional content group not found: ${t}`),!0;if(!_(this,Xt).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!_(this,Xt).has(t))return _t(`Optional content group not found: ${t}`),!0;if(_(this,Xt).get(t).visible)return!1}return!0}return _t(`Unknown optional content policy ${e.policy}.`),!0}return _t(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const n=_(this,Xt).get(e);if(!n){_t(`Optional content group not found: ${e}`);return}n._setVisible(Mo,!!t,!0),$(this,Go,null)}setOCGState({state:e,preserveRB:t}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const s=_(this,Xt).get(i);if(s)switch(n){case"ON":s._setVisible(Mo,!0);break;case"OFF":s._setVisible(Mo,!1);break;case"Toggle":s._setVisible(Mo,!s.visible);break}}$(this,Go,null)}get hasInitialVisibility(){return _(this,Hd)===null||this.getHash()===_(this,Hd)}getOrder(){return _(this,Xt).size?_(this,Gd)?_(this,Gd).slice():[..._(this,Xt).keys()]:null}getGroups(){return _(this,Xt).size>0?YT(_(this,Xt)):null}getGroup(e){return _(this,Xt).get(e)||null}getHash(){if(_(this,Go)!==null)return _(this,Go);const e=new MM;for(const[t,n]of _(this,Xt))e.update(`${t}:${n.visible}`);return $(this,Go,e.hexdigest())}}Go=new WeakMap,Xt=new WeakMap,Hd=new WeakMap,Gd=new WeakMap,Eg=new WeakSet,Pw=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const s=e[i];let a;if(Array.isArray(s))a=Y(this,Eg,Pw).call(this,s);else if(_(this,Xt).has(s))a=_(this,Xt).get(s).visible;else return _t(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return n==="And"};class gH{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Pn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=l,(s==null?void 0:s.length)>0){const u=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((u,d)=>{this._onReceiveData({begin:u,chunk:d})}),e.addProgressListener((u,d)=>{this._onProgress({loaded:u,total:d})}),e.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(n),!0)});Pn(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,i,s;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Pn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new mH(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new yH(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class mH{constructor(e,t,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=tD(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class yH{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function vH(r){let e=!0,t=n("filename\\*","i").exec(r);if(t){t=t[1];let h=l(t);return h=unescape(h),h=u(h),h=d(h),s(h)}if(t=a(r),t){const h=d(t);return s(h)}if(t=n("filename","i").exec(r),t){t=t[1];let h=l(t);return h=d(h),s(h)}function n(h,p){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function i(h,p){if(h){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const g=new TextDecoder(h,{fatal:!0}),y=xb(p);p=g.decode(y),e=!1}catch{}}return p}function s(h){return e&&/[\x80-\xff]/.test(h)&&(h=i("utf-8",h),e&&(h=i("iso-8859-1",h))),h}function a(h){const p=[];let g;const y=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=y.exec(h))!==null;){let[,x,T,D]=g;if(x=parseInt(x,10),x in p){if(x===0)break;continue}p[x]=[T,D]}const v=[];for(let x=0;x<p.length&&x in p;++x){let[T,D]=p[x];D=l(D),T&&(D=unescape(D),x===0&&(D=u(D))),v.push(D)}return v.join("")}function l(h){if(h.startsWith('"')){const p=h.slice(1).split('\\"');for(let g=0;g<p.length;++g){const y=p[g].indexOf('"');y!==-1&&(p[g]=p[g].slice(0,y),p.length=g+1),p[g]=p[g].replaceAll(/\\(.)/g,"$1")}h=p.join('"')}return h}function u(h){const p=h.indexOf("'");if(p===-1)return h;const g=h.slice(0,p),v=h.slice(p+1).replace(/^[^']*'/,"");return i(g,v)}function d(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,g,y,v){if(y==="q"||y==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,T){return String.fromCharCode(parseInt(T,16))}),i(g,v);try{v=atob(v)}catch{}return i(g,v)})}return""}function rD({getResponseHeader:r,isHttp:e,rangeChunkSize:t,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(r("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||n||!e||r("Accept-Ranges")!=="bytes"||(r("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function sD(r){const e=r("Content-Disposition");if(e){let t=vH(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(tD(t))return t}return null}function Ab(r,e){return r===404||r===0&&e.startsWith("file:")?new fu('Missing PDF "'+e+'".'):new bb(`Unexpected server response (${r}) while retrieving PDF "${e}".`,r)}function BM(r){return r===200||r===206}function zM(r,e,t){return{method:"GET",headers:r,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function qM(r){const e=new Headers;for(const t in r){const n=r[t];n!==void 0&&e.append(t,n)}return e}function WM(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(_t(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class e3{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Pn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new bH(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new xH(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class bH{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=qM(this._stream.httpHeaders);const n=t.url;fetch(n,zM(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!BM(i.status))throw Ab(i.status,n);this._reader=i.body.getReader(),this._headersCapability.resolve();const s=u=>i.headers.get(u),{allowRangeRequests:a,suggestedLength:l}=rD({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=sD(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new pu("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:WM(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class xH{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=qM(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${n-1}`);const s=i.url;fetch(s,zM(this._headers,this._withCredentials,this._abortController)).then(a=>{if(!BM(a.status))throw Ab(a.status,s);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:WM(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const T2=200,D2=206;function _H(r){const e=r.response;return typeof e!="string"?e:xb(e).buffer}class wH{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const i={begin:e,end:t};for(const s in n)i[s]=n[s];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const a=this.httpHeaders[s];a!==void 0&&t.setRequestHeader(s,a)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=D2):i.expectedStatus=T2,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var i;const n=this.pendingRequests[e];n&&((i=n.onProgress)==null||i.call(n,t))}onStateChange(e,t){var u,d,h;const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(u=n.onError)==null||u.call(n,i.status);return}const s=i.status||T2;if(!(s===T2&&n.expectedStatus===D2)&&s!==n.expectedStatus){(d=n.onError)==null||d.call(n,i.status);return}const l=_H(i);if(s===D2){const p=i.getResponseHeader("Content-Range"),g=/bytes (\d+)-(\d+)\/(\d+)/.exec(p);n.onDone({begin:parseInt(g[1],10),chunk:l})}else l?n.onDone({begin:0,chunk:l}):(h=n.onError)==null||h.call(n,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class TH{constructor(e){this._source=e,this._manager=new wH(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Pn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new DH(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new AH(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class DH{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=a=>t.getResponseHeader(a),{allowRangeRequests:i,suggestedLength:s}=rD({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=sD(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Ab(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class AH{constructor(e,t,n){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Ab(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const jM=/^file:\/\/\/[a-zA-Z]:\//;function EH(r){const e=$s.get("url"),t=e.parse(r);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(r)?e.parse(`file:///${r}`):(t.host||(t.protocol="file:"),t)}class CH{constructor(e){this.source=e,this.url=EH(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Pn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new kH(this):new SH(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new RH(this,e,t):new UH(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class VM{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new pu("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class HM{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function I0(r,e){return{protocol:r.protocol,auth:r.auth,host:r.hostname,port:r.port,path:r.path,method:"GET",headers:e}}class SH extends VM{constructor(e){super(e);const t=n=>{if(n.statusCode===404){const l=new fu(`Missing PDF "${this._url}".`);this._storedError=l,this._headersCapability.reject(l);return}this._headersCapability.resolve(),this._setReadableStream(n);const i=l=>this._readableStream.headers[l.toLowerCase()],{allowRangeRequests:s,suggestedLength:a}=rD({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=sD(i)};if(this._request=null,this._url.protocol==="http:"){const n=$s.get("http");this._request=n.request(I0(this._url,e.httpHeaders),t)}else{const n=$s.get("https");this._request=n.request(I0(this._url,e.httpHeaders),t)}this._request.on("error",n=>{this._storedError=n,this._headersCapability.reject(n)}),this._request.end()}}class UH extends HM{constructor(e,t,n){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const a=e.httpHeaders[s];a!==void 0&&(this._httpHeaders[s]=a)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;const i=s=>{if(s.statusCode===404){const a=new fu(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=$s.get("http");this._request=s.request(I0(this._url,this._httpHeaders),i)}else{const s=$s.get("https");this._request=s.request(I0(this._url,this._httpHeaders),i)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class kH extends VM{constructor(e){super(e);let t=decodeURIComponent(this._url.path);jM.test(this._url.href)&&(t=t.replace(/^\//,""));const n=$s.get("fs");n.promises.lstat(t).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(t)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new fu(`Missing PDF "${t}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class RH extends HM{constructor(e,t,n){super(e);let i=decodeURIComponent(this._url.path);jM.test(this._url.href)&&(i=i.replace(/^\//,""));const s=$s.get("fs");this._setReadableStream(s.createReadStream(i,{start:t,end:n-1}))}}const NH=1e5,Fi=30,MH=.8;var YN,$o,Pi,Cg,Sg,Tc,Na,Ug,kg,Dc,$d,Xd,Xo,Qd,Rg,Yd,Ac,Ng,Mg,Ec,Cc,Qo,Kd,ro,GM,$M,Bw,Hs,Nv,XM,QM;const pi=class pi{constructor({textContentSource:e,container:t,viewport:n}){Z(this,ro);Z(this,$o,Promise.withResolvers());Z(this,Pi,null);Z(this,Cg,!1);Z(this,Sg,!!((YN=globalThis.FontInspector)!=null&&YN.enabled));Z(this,Tc,null);Z(this,Na,null);Z(this,Ug,0);Z(this,kg,0);Z(this,Dc,null);Z(this,$d,null);Z(this,Xd,0);Z(this,Xo,0);Z(this,Qd,Object.create(null));Z(this,Rg,[]);Z(this,Yd,null);Z(this,Ac,[]);Z(this,Ng,new WeakMap);Z(this,Mg,null);var u;if(e instanceof ReadableStream)$(this,Yd,e);else if(typeof e=="object")$(this,Yd,new ReadableStream({start(d){d.enqueue(e),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');$(this,Pi,$(this,$d,t)),$(this,Xo,n.scale*(globalThis.devicePixelRatio||1)),$(this,Xd,n.rotation),$(this,Na,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:l}=n.rawDims;$(this,Mg,[1,0,0,-1,-a,l+s]),$(this,kg,i),$(this,Ug,s),Y(u=pi,Hs,XM).call(u),au(t,n),_(this,$o).promise.catch(()=>{}).then(()=>{_(pi,Kd).delete(this),$(this,Na,null),$(this,Qd,null)})}render(){const e=()=>{_(this,Dc).read().then(({value:t,done:n})=>{if(n){_(this,$o).resolve();return}_(this,Tc)??$(this,Tc,t.lang),Object.assign(_(this,Qd),t.styles),Y(this,ro,GM).call(this,t.items),e()},_(this,$o).reject)};return $(this,Dc,_(this,Yd).getReader()),_(pi,Kd).add(this),e(),_(this,$o).promise}update({viewport:e,onBefore:t=null}){var s;const n=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==_(this,Xd)&&(t==null||t(),$(this,Xd,i),au(_(this,$d),{rotation:i})),n!==_(this,Xo)){t==null||t(),$(this,Xo,n);const a={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:Y(s=pi,Hs,Nv).call(s,_(this,Tc))};for(const l of _(this,Ac))a.properties=_(this,Ng).get(l),a.div=l,Y(this,ro,Bw).call(this,a)}}cancel(){var t;const e=new pu("TextLayer task cancelled.");(t=_(this,Dc))==null||t.cancel(e).catch(()=>{}),$(this,Dc,null),_(this,$o).reject(e)}get textDivs(){return _(this,Ac)}get textContentItemsStr(){return _(this,Rg)}static cleanup(){if(!(_(this,Kd).size>0)){_(this,Ec).clear();for(const{canvas:e}of _(this,Cc).values())e.remove();_(this,Cc).clear()}}};$o=new WeakMap,Pi=new WeakMap,Cg=new WeakMap,Sg=new WeakMap,Tc=new WeakMap,Na=new WeakMap,Ug=new WeakMap,kg=new WeakMap,Dc=new WeakMap,$d=new WeakMap,Xd=new WeakMap,Xo=new WeakMap,Qd=new WeakMap,Rg=new WeakMap,Yd=new WeakMap,Ac=new WeakMap,Ng=new WeakMap,Mg=new WeakMap,Ec=new WeakMap,Cc=new WeakMap,Qo=new WeakMap,Kd=new WeakMap,ro=new WeakSet,GM=function(e){var i,s;if(_(this,Cg))return;(s=_(this,Na)).ctx??(s.ctx=Y(i=pi,Hs,Nv).call(i,_(this,Tc)));const t=_(this,Ac),n=_(this,Rg);for(const a of e){if(t.length>NH){_t("Ignoring additional textDivs for performance reasons."),$(this,Cg,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const l=_(this,Pi);$(this,Pi,document.createElement("span")),_(this,Pi).classList.add("markedContent"),a.id!==null&&_(this,Pi).setAttribute("id",`${a.id}`),l.append(_(this,Pi))}else a.type==="endMarkedContent"&&$(this,Pi,_(this,Pi).parentNode);continue}n.push(a.str),Y(this,ro,$M).call(this,a)}},$M=function(e){var x;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};_(this,Ac).push(t);const i=et.transform(_(this,Mg),e.transform);let s=Math.atan2(i[1],i[0]);const a=_(this,Qd)[e.fontName];a.vertical&&(s+=Math.PI/2);const l=_(this,Sg)&&a.fontSubstitution||a.fontFamily,u=Math.hypot(i[2],i[3]),d=u*Y(x=pi,Hs,QM).call(x,l,_(this,Tc));let h,p;s===0?(h=i[4],p=i[5]-d):(h=i[4]+d*Math.sin(s),p=i[5]-d*Math.cos(s));const g="calc(var(--scale-factor)*",y=t.style;_(this,Pi)===_(this,$d)?(y.left=`${(100*h/_(this,kg)).toFixed(2)}%`,y.top=`${(100*p/_(this,Ug)).toFixed(2)}%`):(y.left=`${g}${h.toFixed(2)}px)`,y.top=`${g}${p.toFixed(2)}px)`),y.fontSize=`${g}${(_(pi,Qo)*u).toFixed(2)}px)`,y.fontFamily=l,n.fontSize=u,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,_(this,Sg)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(n.angle=s*(180/Math.PI));let v=!1;if(e.str.length>1)v=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const T=Math.abs(e.transform[0]),D=Math.abs(e.transform[3]);T!==D&&Math.max(T,D)/Math.min(T,D)>1.5&&(v=!0)}if(v&&(n.canvasWidth=a.vertical?e.height:e.width),_(this,Ng).set(t,n),_(this,Na).div=t,_(this,Na).properties=n,Y(this,ro,Bw).call(this,_(this,Na)),n.hasText&&_(this,Pi).append(t),n.hasEOL){const T=document.createElement("br");T.setAttribute("role","presentation"),_(this,Pi).append(T)}},Bw=function(e){const{div:t,properties:n,ctx:i,prevFontSize:s,prevFontFamily:a}=e,{style:l}=t;let u="";if(_(pi,Qo)>1&&(u=`scale(${1/_(pi,Qo)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:d}=l,{canvasWidth:h,fontSize:p}=n;(s!==p||a!==d)&&(i.font=`${p*_(this,Xo)}px ${d}`,e.prevFontSize=p,e.prevFontFamily=d);const{width:g}=i.measureText(t.textContent);g>0&&(u=`scaleX(${h*_(this,Xo)/g}) ${u}`)}n.angle!==0&&(u=`rotate(${n.angle}deg) ${u}`),u.length>0&&(l.transform=u)},Hs=new WeakSet,Nv=function(e=null){let t=_(this,Cc).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),_(this,Cc).set(e,t)}return t},XM=function(){if(_(this,Qo)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),$(this,Qo,e.getBoundingClientRect().height),e.remove()},QM=function(e,t){const n=_(this,Ec).get(e);if(n)return n;const i=Y(this,Hs,Nv).call(this,t),s=i.font;i.canvas.width=i.canvas.height=Fi,i.font=`${Fi}px ${e}`;const a=i.measureText("");let l=a.fontBoundingBoxAscent,u=Math.abs(a.fontBoundingBoxDescent);if(l){const p=l/(l+u);return _(this,Ec).set(e,p),i.canvas.width=i.canvas.height=0,i.font=s,p}i.strokeStyle="red",i.clearRect(0,0,Fi,Fi),i.strokeText("g",0,0);let d=i.getImageData(0,0,Fi,Fi).data;u=0;for(let p=d.length-1-3;p>=0;p-=4)if(d[p]>0){u=Math.ceil(p/4/Fi);break}i.clearRect(0,0,Fi,Fi),i.strokeText("A",0,Fi),d=i.getImageData(0,0,Fi,Fi).data,l=0;for(let p=0,g=d.length;p<g;p+=4)if(d[p]>0){l=Fi-Math.floor(p/4/Fi);break}i.canvas.width=i.canvas.height=0,i.font=s;const h=l?l/(l+u):MH;return _(this,Ec).set(e,h),h},Z(pi,Hs),Z(pi,Ec,new Map),Z(pi,Cc,new Map),Z(pi,Qo,null),Z(pi,Kd,new Set);let Nh=pi;function IH(){oM("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:r,container:e,viewport:t,...n}=arguments[0],i=Object.keys(n);i.length>0&&_t("Ignoring `renderTextLayer` parameters: "+i.join(", "));const s=new Nh({textContentSource:r,container:e,viewport:t}),{textDivs:a,textContentItemsStr:l}=s;return{promise:s.render(),textDivs:a,textContentItemsStr:l}}function FH(){oM("`updateTextLayer`, please use `TextLayer` instead.")}class Op{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function i(s){var u;if(!s)return;let a=null;const l=s.name;if(l==="#text")a=s.value;else if(Op.shouldBuildText(l))(u=s==null?void 0:s.attributes)!=null&&u.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const d of s.children)i(d)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const LH=65536,OH=100,PH=5e3,BH=yi?YV:OV,zH=yi?KV:sM,qH=yi?QV:LV,WH=yi?ZV:aM;function jH(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const e=new zw,{docId:t}=e,n=r.url?VH(r.url):null,i=r.data?HH(r.data):null,s=r.httpHeaders||null,a=r.withCredentials===!0,l=r.password??null,u=r.range instanceof YM?r.range:null,d=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:LH;let h=r.worker instanceof Cd?r.worker:null;const p=r.verbosity,g=typeof r.docBaseUrl=="string"&&!eD(r.docBaseUrl)?r.docBaseUrl:null,y=typeof r.cMapUrl=="string"?r.cMapUrl:null,v=r.cMapPacked!==!1,x=r.CMapReaderFactory||zH,T=typeof r.standardFontDataUrl=="string"?r.standardFontDataUrl:null,D=r.StandardFontDataFactory||WH,E=r.stopAtErrors!==!0,C=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,R=r.isEvalSupported!==!1,U=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!yi,M=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,O=typeof r.disableFontFace=="boolean"?r.disableFontFace:yi,W=r.fontExtraProperties===!0,L=r.enableXfa===!0,H=r.ownerDocument||globalThis.document,ne=r.disableRange===!0,F=r.disableStream===!0,B=r.disableAutoFetch===!0,N=r.pdfBug===!0,K=r.enableHWA===!0,P=u?u.length:r.length??NaN,q=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!yi&&!O,ie=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:x===sM&&D===aM&&y&&T&&up(y,document.baseURI)&&up(T,document.baseURI),te=r.canvasFactory||new BH({ownerDocument:H,enableHWA:K}),j=r.filterFactory||new qH({docId:t,ownerDocument:H}),V=null;AV(p);const ee={canvasFactory:te,filterFactory:j};if(ie||(ee.cMapReaderFactory=new x({baseUrl:y,isCompressed:v}),ee.standardFontDataFactory=new D({baseUrl:T})),!h){const be={verbosity:p,port:Ya.workerPort};h=be.port?Cd.fromPort(be):new Cd(be),e._worker=h}const re={docId:t,apiVersion:"4.4.168",data:i,password:l,disableAutoFetch:B,rangeChunkSize:d,length:P,docBaseUrl:g,enableXfa:L,evaluatorOptions:{maxImageSize:C,disableFontFace:O,ignoreErrors:E,isEvalSupported:R,isOffscreenCanvasSupported:U,canvasMaxAreaInBytes:M,fontExtraProperties:W,useSystemFonts:q,cMapUrl:ie?y:null,standardFontDataUrl:ie?T:null}},pe={disableFontFace:O,fontExtraProperties:W,ownerDocument:H,pdfBug:N,styleElement:V,loadingParams:{disableAutoFetch:B,enableXfa:L}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const be=h.messageHandler.sendWithPromise("GetDocRequest",re,i?[i.buffer]:null);let Ee;if(u)Ee=new gH(u,{disableRange:ne,disableStream:F});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");Ee=(Me=>yi?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&up(Me.url)?new e3(Me):new CH(Me):up(Me.url)?new e3(Me):new TH(Me))({url:n,length:P,httpHeaders:s,withCredentials:a,rangeChunkSize:d,disableRange:ne,disableStream:F})}return be.then(Re=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Me=new fp(t,Re,h.port),ze=new QH(Me,e,Ee,pe,ee);e._transport=ze,Me.send("Ready",null)})}).catch(e._capability.reject),e}function VH(r){if(r instanceof URL)return r.href;try{return new URL(r,window.location).href}catch{if(yi&&typeof r=="string")return r}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function HH(r){if(yi&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return xb(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r==null?void 0:r.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function t3(r){return typeof r=="object"&&Number.isInteger(r==null?void 0:r.num)&&r.num>=0&&Number.isInteger(r==null?void 0:r.gen)&&r.gen>=0}var nb;const ib=class ib{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${ir(ib,nb)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,n;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};nb=new WeakMap,Z(ib,nb,0);let zw=ib;class YM{constructor(e,t,n=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Qt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class GH{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Rt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Yo,Ma,Lr,xd,Mv;class $H{constructor(e,t,n,i=!1){Z(this,Lr);Z(this,Yo,null);Z(this,Ma,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new qk:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new KM,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}={}){return new Sm({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Rt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:i=Bo.ENABLE,transform:s=null,background:a=null,optionalContentConfigPromise:l=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:h=null}){var C,R;(C=this._stats)==null||C.time("Overall");const p=this._transport.getRenderingIntent(n,i,h),{renderingIntent:g,cacheKey:y}=p;$(this,Ma,!1),Y(this,Lr,Mv).call(this),l||(l=this._transport.getOptionalContentConfig(g));let v=this._intentStates.get(y);v||(v=Object.create(null),this._intentStates.set(y,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const x=!!(g&Fr.PRINT);v.displayReadyCapability||(v.displayReadyCapability=Promise.withResolvers(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(R=this._stats)==null||R.time("Page Request"),this._pumpOperatorList(p));const T=U=>{var M;v.renderTasks.delete(D),(this._maybeCleanupAfterRender||x)&&$(this,Ma,!0),Y(this,Lr,xd).call(this,!x),U?(D.capability.reject(U),this._abortOperatorList({intentState:v,reason:U instanceof Error?U:new Error(U)})):D.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(M=globalThis.Stats)!=null&&M.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},D=new Ww({callback:T,params:{canvasContext:e,viewport:t,transform:s,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:d});(v.renderTasks||(v.renderTasks=new Set)).add(D);const E=D.task;return Promise.all([v.displayReadyCapability.promise,l]).then(([U,M])=>{var O;if(this.destroyed){T();return}if((O=this._stats)==null||O.time("Rendering"),!(M.renderingIntent&g))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");D.initializeGraphics({transparency:U,optionalContentConfig:M}),D.operatorListChanged()}).catch(T),E}getOperatorList({intent:e="display",annotationMode:t=Bo.ENABLE,printAnnotationStorage:n=null}={}){var u;function i(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}const s=this._transport.getRenderingIntent(e,t,n,!0);let a=this._intentStates.get(s.cacheKey);a||(a=Object.create(null),this._intentStates.set(s.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=i,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(s)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Op.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,i){function s(){a.read().then(function({value:u,done:d}){if(d){n(l);return}l.lang??(l.lang=u.lang),Object.assign(l.styles,u.styles),l.items.push(...u.items),s()},i)}const a=t.getReader(),l={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),$(this,Ma,!1),Y(this,Lr,Mv).call(this),Promise.all(e)}cleanup(e=!1){$(this,Ma,!0);const t=Y(this,Lr,xd).call(this,!1);return e&&t&&this._stats&&(this._stats=new qk),t}_startRenderPage(e,t){var i,s;const n=this._intentStates.get(t);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=n.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&Y(this,Lr,xd).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n}){const{map:i,transfer:s}=n,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i},s).getReader(),u=this._intentStates.get(t);u.streamReader=l;const d=()=>{l.read().then(({value:h,done:p})=>{if(p){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const p of u.renderTasks)p.operatorListChanged();Y(this,Lr,xd).call(this,!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof JT){let i=OH;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new pu(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Yo=new WeakMap,Ma=new WeakMap,Lr=new WeakSet,xd=function(e=!1){if(Y(this,Lr,Mv).call(this),!_(this,Ma)||this.destroyed)return!1;if(e)return $(this,Yo,setTimeout(()=>{$(this,Yo,null),Y(this,Lr,xd).call(this,!1)},PH)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),$(this,Ma,!1),!0},Mv=function(){_(this,Yo)&&(clearTimeout(_(this,Yo)),$(this,Yo,null))};var Sc,rb;class XH{constructor(){Z(this,Sc,new Set);Z(this,rb,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};_(this,rb).then(()=>{for(const i of _(this,Sc))i.call(this,n)})}addEventListener(e,t){_(this,Sc).add(t)}removeEventListener(e,t){_(this,Sc).delete(t)}terminate(){_(this,Sc).clear()}}Sc=new WeakMap,rb=new WeakMap;const Ta={isWorkerDisabled:!1,fakeWorkerId:0};yi&&(Ta.isWorkerDisabled=!0,Ya.workerSrc||(Ya.workerSrc="./pdf.worker.mjs")),Ta.isSameOrigin=function(r,e){let t;try{if(t=new URL(r),!t.origin||t.origin==="null")return!1}catch{return!1}const n=new URL(e,t);return t.origin===n.origin},Ta.createCDNWrapper=function(r){const e=`await import("${r}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var Uc,Zd,Iv,Jd,Fv;const or=class or{constructor({name:e=null,port:t=null,verbosity:n=EV()}={}){Z(this,Zd);var i;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=_(or,Uc))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(_(or,Uc)||$(or,Uc,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return yi?Promise.all([$s.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new fp("main","worker",e),this._messageHandler.on("ready",function(){}),Y(this,Zd,Iv).call(this)}_initialize(){if(Ta.isWorkerDisabled||_(or,Jd,Fv)){this._setupFakeWorker();return}let{workerSrc:e}=or;try{Ta.isSameOrigin(window.location.href,e)||(e=Ta.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new fp("main","worker",t),i=()=>{s.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:s.signal}),n.on("test",l=>{if(s.abort(),this.destroyed||!l){i();return}this._messageHandler=n,this._port=t,this._webWorker=t,Y(this,Zd,Iv).call(this)}),n.on("ready",l=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const l=new Uint8Array;n.send("test",l,[l.buffer])};a();return}catch{vb("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Ta.isWorkerDisabled||(_t("Setting up fake worker."),Ta.isWorkerDisabled=!0),or._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new XH;this._port=t;const n=`fake${Ta.fakeWorkerId++}`,i=new fp(n+"_worker",n,t);e.setup(i,t),this._messageHandler=new fp(n,n+"_worker",t),Y(this,Zd,Iv).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=_(or,Uc))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(n=_(this,Uc))==null?void 0:n.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new or(e)}static get workerSrc(){if(Ya.workerSrc)return Ya.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Rt(this,"_setupFakeWorkerGlobal",(async()=>_(this,Jd,Fv)?_(this,Jd,Fv):(await import(this.workerSrc)).WorkerMessageHandler)())}};Uc=new WeakMap,Zd=new WeakSet,Iv=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Jd=new WeakSet,Fv=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},Z(or,Jd),Z(or,Uc);let Cd=or;var Ia,Rs,eh,th,Ns,kc,pp;class QH{constructor(e,t,n,i,s){Z(this,kc);Z(this,Ia,new Map);Z(this,Rs,new Map);Z(this,eh,new Map);Z(this,th,new Map);Z(this,Ns,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new KM,this.fontLoader=new $V({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Rt(this,"annotationStorage",new iD)}getRenderingIntent(e,t=Bo.ENABLE,n=null,i=!1){let s=Fr.DISPLAY,a=Nw;switch(e){case"any":s=Fr.ANY;break;case"display":break;case"print":s=Fr.PRINT;break;default:_t(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case Bo.DISABLE:s+=Fr.ANNOTATIONS_DISABLE;break;case Bo.ENABLE:break;case Bo.ENABLE_FORMS:s+=Fr.ANNOTATIONS_FORMS;break;case Bo.ENABLE_STORAGE:s+=Fr.ANNOTATIONS_STORAGE,a=(s&Fr.PRINT&&n instanceof FM?n:this.annotationStorage).serializable;break;default:_t(`getRenderingIntent - invalid annotationMode: ${t}`)}return i&&(s+=Fr.OPLIST),{renderingIntent:s,cacheKey:`${s}_${a.hash}`,annotationStorageSerializable:a}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=_(this,Ns))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of _(this,Rs).values())e.push(i._destroy());_(this,Rs).clear(),_(this,eh).clear(),_(this,th).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),_(this,Ia).clear(),this.filterFactory.destroy(),Nh.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new pu("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,i)=>{Pn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}Pn(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",n=>{const i=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var a;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),s.onProgress=l=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:l.loaded,total:l.total})}),i.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(n,i)=>{Pn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:l}){if(l){i.close();return}Pn(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new GH(n,this))}),e.on("DocException",function(n){let i;switch(n.name){case"PasswordException":i=new cw(n.message,n.code);break;case"InvalidPDFException":i=new tM(n.message);break;case"MissingPDFException":i=new fu(n.message);break;case"UnexpectedResponseException":i=new bb(n.message,n.status);break;case"UnknownErrorException":i=new uw(n.message,n.details);break;default:Qt("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",n=>{if($(this,Ns,Promise.withResolvers()),t.onPassword){const i=s=>{s instanceof Error?_(this,Ns).reject(s):_(this,Ns).resolve({password:s})};try{t.onPassword(i,n.code)}catch(s){_(this,Ns).reject(s)}}else _(this,Ns).reject(new cw(n.message,n.code));return _(this,Ns).promise}),e.on("DataLoaded",n=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;_(this,Rs).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":const{disableFontFace:l,fontExtraProperties:u,pdfBug:d}=this._params;if("error"in s){const y=s.error;_t(`Error during font loading: ${y}`),this.commonObjs.resolve(n,y);break}const h=d&&((a=globalThis.FontInspector)!=null&&a.enabled)?(y,v)=>globalThis.FontInspector.fontAdded(y,v):null,p=new XV(s,{disableFontFace:l,inspectFont:h});this.fontLoader.bind(p).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!u&&p.data&&(p.data=null),this.commonObjs.resolve(n,p)});break;case"CopyLocalImage":const{imageRef:g}=s;Pn(g,"The imageRef must be defined.");for(const y of _(this,Rs).values())for(const[,v]of y.objs)if((v==null?void 0:v.ref)===g)return v.dataLen?(this.commonObjs.resolve(n,structuredClone(v)),v.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,s,a])=>{var u;if(this.destroyed)return;const l=_(this,Rs).get(i);if(!l.objs.has(n)){if(l._intentStates.size===0){(u=a==null?void 0:a.bitmap)==null||u.close();return}switch(s){case"Image":l.objs.resolve(n,a),(a==null?void 0:a.dataLen)>_V&&(l._maybeCleanupAfterRender=!0);break;case"Pattern":l.objs.resolve(n,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",n=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(n):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(n):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&_t("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=_(this,eh).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&_(this,th).set(s.refStr,e);const a=new $H(t,s,this,this._params.pdfBug);return _(this,Rs).set(t,a),a});return _(this,eh).set(t,i),i}getPageIndex(e){return t3(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return Y(this,kc,pp).call(this,"GetFieldObjects")}hasJSActions(){return Y(this,kc,pp).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Y(this,kc,pp).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return Y(this,kc,pp).call(this,"GetOptionalContentConfig").then(t=>new pH(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=_(this,Ia).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new hH(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return _(this,Ia).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of _(this,Rs).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),_(this,Ia).clear(),this.filterFactory.destroy(!0),Nh.cleanup()}}cachedPageNumber(e){if(!t3(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return _(this,th).get(t)??null}}Ia=new WeakMap,Rs=new WeakMap,eh=new WeakMap,th=new WeakMap,Ns=new WeakMap,kc=new WeakSet,pp=function(e,t=null){const n=_(this,Ia).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return _(this,Ia).set(e,i),i};const Zy=Symbol("INITIAL_DATA");var is,Ig,qw;class KM{constructor(){Z(this,Ig);Z(this,is,Object.create(null))}get(e,t=null){if(t){const i=Y(this,Ig,qw).call(this,e);return i.promise.then(()=>t(i.data)),null}const n=_(this,is)[e];if(!n||n.data===Zy)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=_(this,is)[e];return!!t&&t.data!==Zy}resolve(e,t=null){const n=Y(this,Ig,qw).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in _(this,is)){const{data:n}=_(this,is)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}$(this,is,Object.create(null))}*[Symbol.iterator](){for(const e in _(this,is)){const{data:t}=_(this,is)[e];t!==Zy&&(yield[e,t])}}}is=new WeakMap,Ig=new WeakSet,qw=function(e){var t;return(t=_(this,is))[e]||(t[e]={...Promise.withResolvers(),data:Zy})};var Ko;class YH{constructor(e){Z(this,Ko,null);$(this,Ko,e),this.onContinue=null}get promise(){return _(this,Ko).capability.promise}cancel(e=0){_(this,Ko).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=_(this,Ko).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=_(this,Ko);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Ko=new WeakMap;var Zo,Rc;const rc=class rc{constructor({callback:e,params:t,objs:n,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:l,canvasFactory:u,filterFactory:d,useRequestAnimationFrame:h=!1,pdfBug:p=!1,pageColors:g=null}){Z(this,Zo,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=l,this.canvasFactory=u,this.filterFactory=d,this._pdfBug=p,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new YH(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,u;if(this.cancelled)return;if(this._canvas){if(_(rc,Rc).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_(rc,Rc).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:i,transform:s,background:a}=this.params;this.gfx=new Ed(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,t=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),_(this,Zo)&&(window.cancelAnimationFrame(_(this,Zo)),$(this,Zo,null)),_(rc,Rc).delete(this._canvas),this.callback(e||new JT(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?$(this,Zo,window.requestAnimationFrame(()=>{$(this,Zo,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),_(rc,Rc).delete(this._canvas),this.callback())))}};Zo=new WeakMap,Rc=new WeakMap,Z(rc,Rc,new WeakSet);let Ww=rc;const KH="4.4.168",ZH="19fbc8998";function n3(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function jf(r){return Math.max(0,Math.min(255,255*r))}class i3{static CMYK_G([e,t,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=jf(e),[e,e,e]}static G_HTML([e]){const t=n3(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(jf)}static RGB_HTML(e){return`#${e.map(n3).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,n,i]){return[jf(1-Math.min(1,e+i)),jf(1-Math.min(1,n+i)),jf(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const i=1-e,s=1-t,a=1-n,l=Math.min(i,s,a);return["CMYK",i,s,a,l]}}class ZM{static setupStorage(e,t,n,i,s){const a=i.getValue(t,{value:null});switch(n.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",l=>{i.setValue(t,{value:l.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",l=>{i.setValue(t,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",l=>{i.setValue(t,{value:l.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const l of n.children)l.attributes.value===a.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const u=l.target.options,d=u.selectedIndex===-1?"":u[u.selectedIndex].value;i.setValue(t,{value:d})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:i,linkService:s}){const{attributes:a}=t,l=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[u,d]of Object.entries(a))if(d!=null)switch(u){case"class":d.length&&e.setAttribute(u,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!l||u!=="href"&&u!=="newWindow")&&e.setAttribute(u,d)}l&&s.addLinkAttributes(e,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(e,a.dataId,t,n)}static render(e){var p,g;const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:n});const l=s!=="richText",u=e.div;if(u.append(a),e.viewport){const y=`matrix(${e.viewport.transform.join(",")})`;u.style.transform=y}l&&u.setAttribute("class","xfaLayer xfaFont");const d=[];if(i.children.length===0){if(i.value){const y=document.createTextNode(i.value);a.append(y),l&&Op.shouldBuildText(i.name)&&d.push(y)}return{textDivs:d}}const h=[[i,-1,a]];for(;h.length>0;){const[y,v,x]=h.at(-1);if(v+1===y.children.length){h.pop();continue}const T=y.children[++h.at(-1)[1]];if(T===null)continue;const{name:D}=T;if(D==="#text"){const C=document.createTextNode(T.value);d.push(C),x.append(C);continue}const E=(p=T==null?void 0:T.attributes)!=null&&p.xmlns?document.createElementNS(T.attributes.xmlns,D):document.createElement(D);if(x.append(E),T.attributes&&this.setAttributes({html:E,element:T,storage:t,intent:s,linkService:n}),((g=T.children)==null?void 0:g.length)>0)h.push([T,-1,E]);else if(T.value){const C=document.createTextNode(T.value);l&&Op.shouldBuildText(D)&&d.push(C),E.append(C)}}for(const y of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))y.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Rm=1e3,JH=9,lu=new WeakSet;function Ka(r){return{width:r[2]-r[0],height:r[3]-r[1]}}class eG{static create(e){switch(e.data.annotationType){case Mn.LINK:return new JM(e);case Mn.TEXT:return new tG(e);case Mn.WIDGET:switch(e.data.fieldType){case"Tx":return new nG(e);case"Btn":return e.data.radioButton?new nI(e):e.data.checkBox?new rG(e):new sG(e);case"Ch":return new aG(e);case"Sig":return new iG(e)}return new gu(e);case Mn.POPUP:return new Vw(e);case Mn.FREETEXT:return new oI(e);case Mn.LINE:return new lG(e);case Mn.SQUARE:return new cG(e);case Mn.CIRCLE:return new uG(e);case Mn.POLYLINE:return new lI(e);case Mn.CARET:return new hG(e);case Mn.INK:return new cI(e);case Mn.POLYGON:return new dG(e);case Mn.HIGHLIGHT:return new fG(e);case Mn.UNDERLINE:return new pG(e);case Mn.SQUIGGLY:return new gG(e);case Mn.STRIKEOUT:return new mG(e);case Mn.STAMP:return new uI(e);case Mn.FILEATTACHMENT:return new yG(e);default:return new Dn(e)}}}var Nc,nh,ih,Fg,jw;const sA=class sA{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){Z(this,Fg);Z(this,Nc,null);Z(this,nh,!1);Z(this,ih,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:n}){return!!(e!=null&&e.str||t!=null&&t.str||n!=null&&n.str)}get hasPopupData(){return sA._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;_(this,Nc)||$(this,Nc,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&Y(this,Fg,jw).call(this,t),(n=_(this,ih))==null||n.popup.updateEdited(e)}resetEdited(){var e;_(this,Nc)&&(Y(this,Fg,jw).call(this,_(this,Nc).rect),(e=_(this,ih))==null||e.popup.resetEdited(),$(this,Nc,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof gu||(s.tabIndex=Rm);const{style:a}=s;if(a.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof Vw){const{rotation:x}=t;return!t.hasOwnCanvas&&x!==0&&this.setRotation(x,s),s}const{width:l,height:u}=Ka(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const x=t.borderStyle.horizontalCornerRadius,T=t.borderStyle.verticalCornerRadius;if(x>0||T>0){const E=`calc(${x}px * var(--scale-factor)) / calc(${T}px * var(--scale-factor))`;a.borderRadius=E}else if(this instanceof nI){const E=`calc(${l}px * var(--scale-factor)) / calc(${u}px * var(--scale-factor))`;a.borderRadius=E}switch(t.borderStyle.style){case qf.SOLID:a.borderStyle="solid";break;case qf.DASHED:a.borderStyle="dashed";break;case qf.BEVELED:_t("Unimplemented border style: beveled");break;case qf.INSET:_t("Unimplemented border style: inset");break;case qf.UNDERLINE:a.borderBottomStyle="solid";break}const D=t.borderColor||null;D?($(this,nh,!0),a.borderColor=et.makeHexColor(D[0]|0,D[1]|0,D[2]|0)):a.borderWidth=0}const d=et.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:h,pageHeight:p,pageX:g,pageY:y}=i.rawDims;a.left=`${100*(d[0]-g)/h}%`,a.top=`${100*(d[1]-y)/p}%`;const{rotation:v}=t;return t.hasOwnCanvas||v===0?(a.width=`${100*l/h}%`,a.height=`${100*u/p}%`):this.setRotation(v,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:a}=Ka(this.data.rect);let l,u;e%180===0?(l=100*s/n,u=100*a/i):(l=100*a/n,u=100*s/i),t.style.width=`${l}%`,t.style.height=`${u}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,i)=>{const s=i.detail[t],a=s[0],l=s.slice(1);i.target.style[n]=i3[`${a}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[n]:i3[`${a}_rgb`](l)})};return Rt(this,"_commonActions",{display:t=>{const{display:n}=t.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||n[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,s]of Object.entries(t)){const a=n[i];if(a){const l={detail:{[i]:s},target:e};a(l),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,s]=this.data.rect.map(x=>Math.fround(x));if(e.length===8){const[x,T,D,E]=e.subarray(2,6);if(i===x&&s===T&&t===D&&n===E)return}const{style:a}=this.container;let l;if(_(this,nh)){const{borderColor:x,borderWidth:T}=a;a.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${T}">`],this.container.classList.add("hasBorder")}const u=i-t,d=s-n,{svgFactory:h}=this,p=h.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0);const g=h.createElement("defs");p.append(g);const y=h.createElement("clipPath"),v=`clippath_${this.data.id}`;y.setAttribute("id",v),y.setAttribute("clipPathUnits","objectBoundingBox"),g.append(y);for(let x=2,T=e.length;x<T;x+=8){const D=e[x],E=e[x+1],C=e[x+2],R=e[x+3],U=h.createElement("rect"),M=(C-t)/u,O=(s-E)/d,W=(D-C)/u,L=(E-R)/d;U.setAttribute("x",M),U.setAttribute("y",O),U.setAttribute("width",W),U.setAttribute("height",L),y.append(U),l==null||l.push(`<rect vector-effect="non-scaling-stroke" x="${M}" y="${O}" width="${W}" height="${L}"/>`)}_(this,nh)&&(l.push("</g></svg>')"),a.backgroundImage=l.join("")),this.container.append(p),this.container.style.clipPath=`url(#${v})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const n=$(this,ih,new Vw({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(n.render())}render(){Qt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:l}of i){if(s===-1||a===t)continue;const u=typeof l=="string"?l:null,d=document.querySelector(`[data-element-id="${a}"]`);if(d&&!lu.has(d)){_t(`_getElementsByName - element not allowed: ${a}`);continue}n.push({id:a,exportValue:u,domElement:d})}return n}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==t&&lu.has(i)&&n.push({id:a,exportValue:s,domElement:i})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Nc=new WeakMap,nh=new WeakMap,ih=new WeakMap,Fg=new WeakSet,jw=function(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:l,pageY:u}}}}=this;n==null||n.splice(0,4,...e);const{width:d,height:h}=Ka(e);t.left=`${100*(e[0]-l)/s}%`,t.top=`${100*(a-e[3]+u)/a}%`,i===0?(t.width=`${100*d/s}%`,t.height=`${100*h/a}%`):this.setRotation(i)};let Dn=sA;var mr,Zl,eI,tI;class JM extends Dn{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});Z(this,mr);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(n.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(Y(this,mr,eI).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(Y(this,mr,tI).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&Y(this,mr,Zl).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),Y(this,mr,Zl).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(n.actions)){const a=i.get(s);a&&(t[a]=()=>{var l;return(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),Y(this,mr,Zl).call(this)}_bindResetFormAction(t,n){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),Y(this,mr,Zl).call(this),!this._fieldObjects){_t('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var p;i==null||i();const{fields:s,refs:a,include:l}=n,u=[];if(s.length!==0||a.length!==0){const g=new Set(a);for(const y of s){const v=this._fieldObjects[y]||[];for(const{id:x}of v)g.add(x)}for(const y of Object.values(this._fieldObjects))for(const v of y)g.has(v.id)===l&&u.push(v)}else for(const g of Object.values(this._fieldObjects))u.push(...g);const d=this.annotationStorage,h=[];for(const g of u){const{id:y}=g;switch(h.push(y),g.type){case"text":{const x=g.defaultValue||"";d.setValue(y,{value:x});break}case"checkbox":case"radiobutton":{const x=g.defaultValue===g.exportValues;d.setValue(y,{value:x});break}case"combobox":case"listbox":{const x=g.defaultValue||"";d.setValue(y,{value:x});break}default:continue}const v=document.querySelector(`[data-element-id="${y}"]`);if(v){if(!lu.has(v)){_t(`_bindResetFormAction - element not allowed: ${y}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}mr=new WeakSet,Zl=function(){this.container.setAttribute("data-internal-link","")},eI=function(t,n,i=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(n.content,n.filename,i),!1},Y(this,mr,Zl).call(this)},tI=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),Y(this,mr,Zl).call(this)};class tG extends Dn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class gu extends Dn{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return qi.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,s){n.includes("mouse")?e.addEventListener(n,a=>{var l;(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(n,a=>{var l;if(n==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}s&&((l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,t,n,i){var s,a,l;for(const[u,d]of n)(d==="Action"||(s=this.data.actions)!=null&&s[d])&&((d==="Focus"||d==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,u,d,i),d==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):d==="Blur"&&!((l=this.data.actions)!=null&&l.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":et.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||JH,s=e.style;let a;const l=2,u=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l),h=Math.round(d/(b2*i))||1,p=d/h;a=Math.min(i,u(p/b2))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l);a=Math.min(i,u(d/b2))}s.fontSize=`calc(${a}px * var(--scale-factor))`,s.color=et.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class nG extends gu{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=n),s.setValue(a.id,{[i]:n})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let l=a.value||"";const u=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;u&&l.length>u&&(l=l.slice(0,u));let d=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const h={userValue:l,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=d??l,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",d??l),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),lu.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=Rm,this._setRequired(n,this.data.required),u&&(n.maxLength=u),n.addEventListener("input",g=>{e.setValue(t,{value:g.target.value}),this.setPropertyOnSiblings(n,"value",g.target.value,"value"),h.formattedValue=null}),n.addEventListener("resetform",g=>{const y=this.data.defaultFieldValue??"";n.value=h.userValue=y,h.formattedValue=null});let p=g=>{const{formattedValue:y}=h;y!=null&&(g.target.value=y),g.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",y=>{var x;if(h.focused)return;const{target:v}=y;h.userValue&&(v.value=h.userValue),h.lastCommittedValue=v.value,h.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(h.focused=!0)}),n.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const v={value(x){h.userValue=x.detail.value??"",e.setValue(t,{value:h.userValue.toString()}),x.target.value=h.userValue},formattedValue(x){const{formattedValue:T}=x.detail;h.formattedValue=T,T!=null&&x.target!==document.activeElement&&(x.target.value=T),e.setValue(t,{formattedValue:T})},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var C;const{charLimit:T}=x.detail,{target:D}=x;if(T===0){D.removeAttribute("maxLength");return}D.setAttribute("maxLength",T);let E=h.userValue;!E||E.length<=T||(E=E.slice(0,T),D.value=h.userValue=E,e.setValue(t,{value:E}),(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,willCommit:!0,commitKey:1,selStart:D.selectionStart,selEnd:D.selectionEnd}}))}};this._dispatchEventFromSandbox(v,y)}),n.addEventListener("keydown",y=>{var T;h.commitKey=1;let v=-1;if(y.key==="Escape"?v=0:y.key==="Enter"&&!this.data.multiLine?v=2:y.key==="Tab"&&(h.commitKey=3),v===-1)return;const{value:x}=y.target;h.lastCommittedValue!==x&&(h.lastCommittedValue=x,h.userValue=x,(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:v,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const g=p;p=null,n.addEventListener("blur",y=>{var x,T;if(!h.focused||!y.relatedTarget)return;(x=this.data.actions)!=null&&x.Blur||(h.focused=!1);const{value:v}=y.target;h.userValue=v,h.lastCommittedValue!==v&&((T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:h.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}})),g(y)}),(s=this.data.actions)!=null&&s.Keystroke&&n.addEventListener("beforeinput",y=>{var U;h.lastCommittedValue=null;const{data:v,target:x}=y,{value:T,selectionStart:D,selectionEnd:E}=x;let C=D,R=E;switch(y.inputType){case"deleteWordBackward":{const M=T.substring(0,D).match(/\w*[^\w]*$/);M&&(C-=M[0].length);break}case"deleteWordForward":{const M=T.substring(D).match(/^[^\w]*\w*/);M&&(R+=M[0].length);break}case"deleteContentBackward":D===E&&(C-=1);break;case"deleteContentForward":D===E&&(R+=1);break}y.preventDefault(),(U=this.linkService.eventBus)==null||U.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,change:v||"",willCommit:!1,selStart:C,selEnd:R}})}),this._setEventListeners(n,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(p&&n.addEventListener("blur",p),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/u;n.classList.add("comb"),n.style.letterSpacing=`calc(${y}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class iG extends gu{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class rG extends gu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return lu.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=Rm,s.addEventListener("change",a=>{const{name:l,checked:u}=a.target;for(const d of this._getElementsByName(l,n)){const h=u&&d.exportValue===t.exportValue;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}e.setValue(n,{value:u})}),s.addEventListener("resetform",a=>{const l=t.defaultFieldValue||"Off";a.target.checked=l===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const l={value(u){u.target.checked=u.detail.value!=="Off",e.setValue(n,{value:u.target.checked})}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class nI extends gu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,n))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(lu.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=Rm,s.addEventListener("change",a=>{const{name:l,checked:u}=a.target;for(const d of this._getElementsByName(l,n))e.setValue(d.id,{value:!1});e.setValue(n,{value:u})}),s.addEventListener("resetform",a=>{const l=t.defaultFieldValue;a.target.checked=l!=null&&l===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",l=>{const u={value:d=>{const h=a===d.detail.value;for(const p of this._getElementsByName(d.target.name)){const g=h&&p.id===n;p.domElement&&(p.domElement.checked=g),e.setValue(p.id,{value:g})}}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class sG extends JM{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class aG extends gu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");lu.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=Rm;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",h=>{const p=this.data.defaultFieldValue;for(const g of i.options)g.selected=g.value===p});for(const h of this.data.options){const p=document.createElement("option");p.textContent=h.displayValue,p.value=h.exportValue,n.value.includes(h.exportValue)&&(p.setAttribute("selected",!0),s=!1),i.append(p)}let a=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),a=()=>{h.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const l=h=>{const p=h?"value":"textContent",{options:g,multiple:y}=i;return y?Array.prototype.filter.call(g,v=>v.selected).map(v=>v[p]):g.selectedIndex===-1?null:g[g.selectedIndex][p]};let u=l(!1);const d=h=>{const p=h.target.options;return Array.prototype.map.call(p,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",h=>{const p={value(g){a==null||a();const y=g.detail.value,v=new Set(Array.isArray(y)?y:[y]);for(const x of i.options)x.selected=v.has(x.value);e.setValue(t,{value:l(!0)}),u=l(!1)},multipleSelection(g){i.multiple=!0},remove(g){const y=i.options,v=g.detail.remove;y[v].selected=!1,i.remove(v),y.length>0&&Array.prototype.findIndex.call(y,T=>T.selected)===-1&&(y[0].selected=!0),e.setValue(t,{value:l(!0),items:d(g)}),u=l(!1)},clear(g){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),u=l(!1)},insert(g){const{index:y,displayValue:v,exportValue:x}=g.detail.insert,T=i.children[y],D=document.createElement("option");D.textContent=v,D.value=x,T?T.before(D):i.append(D),e.setValue(t,{value:l(!0),items:d(g)}),u=l(!1)},items(g){const{items:y}=g.detail;for(;i.length!==0;)i.remove(0);for(const v of y){const{displayValue:x,exportValue:T}=v,D=document.createElement("option");D.textContent=x,D.value=T,i.append(D)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:l(!0),items:d(g)}),u=l(!1)},indices(g){const y=new Set(g.detail.indices);for(const v of g.target.options)v.selected=y.has(v.index);e.setValue(t,{value:l(!0)}),u=l(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(p,h)}),i.addEventListener("input",h=>{var y;const p=l(!0),g=l(!1);e.setValue(t,{value:p}),h.preventDefault(),(y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:u,change:g,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):i.addEventListener("input",function(h){e.setValue(t,{value:l(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Vw extends Dn{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:Dn._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new oG({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(n=>`${iM}${n}`).join(",")),this.container}}var rh,sb,ab,sh,Mc,xn,Fa,Ic,Lg,Og,ah,La,rs,Oa,Pg,Pa,Bg,Fc,Lc,Yt,Lv,Hw,iI,rI,sI,aI,Ov,Pv,Gw;class oG{constructor({container:e,color:t,elements:n,titleObj:i,modificationDate:s,contentsObj:a,richText:l,parent:u,rect:d,parentRect:h,open:p}){Z(this,Yt);Z(this,rh,Y(this,Yt,sI).bind(this));Z(this,sb,Y(this,Yt,Gw).bind(this));Z(this,ab,Y(this,Yt,Pv).bind(this));Z(this,sh,Y(this,Yt,Ov).bind(this));Z(this,Mc,null);Z(this,xn,null);Z(this,Fa,null);Z(this,Ic,null);Z(this,Lg,null);Z(this,Og,null);Z(this,ah,null);Z(this,La,!1);Z(this,rs,null);Z(this,Oa,null);Z(this,Pg,null);Z(this,Pa,null);Z(this,Bg,null);Z(this,Fc,null);Z(this,Lc,!1);var g;$(this,xn,e),$(this,Bg,i),$(this,Fa,a),$(this,Pa,l),$(this,Og,u),$(this,Mc,t),$(this,Pg,d),$(this,ah,h),$(this,Lg,n),$(this,Ic,lM.toDateObject(s)),this.trigger=n.flatMap(y=>y.getElementsToTriggerPopup());for(const y of this.trigger)y.addEventListener("click",_(this,sh)),y.addEventListener("mouseenter",_(this,ab)),y.addEventListener("mouseleave",_(this,sb)),y.classList.add("popupTriggerArea");for(const y of n)(g=y.container)==null||g.addEventListener("keydown",_(this,rh));_(this,xn).hidden=!0,p&&Y(this,Yt,Ov).call(this)}render(){if(_(this,rs))return;const e=$(this,rs,document.createElement("div"));if(e.className="popup",_(this,Mc)){const s=e.style.outlineColor=et.makeHexColor(..._(this,Mc));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=et.makeHexColor(..._(this,Mc).map(l=>Math.floor(.7*(255-l)+l)))}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=_(this,Bg),e.append(t),_(this,Ic)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:_(this,Ic).toLocaleDateString(),time:_(this,Ic).toLocaleTimeString()})),t.append(s)}const i=_(this,Yt,Lv);if(i)ZM.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(_(this,Fa));e.append(s)}_(this,xn).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,a=i.length;s<a;++s){const l=i[s];n.append(document.createTextNode(l)),s<a-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;_(this,Fc)||$(this,Fc,{contentsObj:_(this,Fa),richText:_(this,Pa)}),e&&$(this,Oa,null),t&&($(this,Pa,Y(this,Yt,rI).call(this,t)),$(this,Fa,null)),(n=_(this,rs))==null||n.remove(),$(this,rs,null)}resetEdited(){var e;_(this,Fc)&&({contentsObj:ir(this,Fa)._,richText:ir(this,Pa)._}=_(this,Fc),$(this,Fc,null),(e=_(this,rs))==null||e.remove(),$(this,rs,null),$(this,Oa,null))}forceHide(){$(this,Lc,this.isVisible),_(this,Lc)&&(_(this,xn).hidden=!0)}maybeShow(){_(this,Lc)&&(_(this,rs)||Y(this,Yt,Pv).call(this),$(this,Lc,!1),_(this,xn).hidden=!1)}get isVisible(){return _(this,xn).hidden===!1}}rh=new WeakMap,sb=new WeakMap,ab=new WeakMap,sh=new WeakMap,Mc=new WeakMap,xn=new WeakMap,Fa=new WeakMap,Ic=new WeakMap,Lg=new WeakMap,Og=new WeakMap,ah=new WeakMap,La=new WeakMap,rs=new WeakMap,Oa=new WeakMap,Pg=new WeakMap,Pa=new WeakMap,Bg=new WeakMap,Fc=new WeakMap,Lc=new WeakMap,Yt=new WeakSet,Lv=function(){const e=_(this,Pa),t=_(this,Fa);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&_(this,Pa).html||null},Hw=function(){var e,t,n;return((n=(t=(e=_(this,Yt,Lv))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},iI=function(){var e,t,n;return((n=(t=(e=_(this,Yt,Lv))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},rI=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:_(this,Yt,iI),fontSize:_(this,Yt,Hw)?`calc(${_(this,Yt,Hw)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return n},sI=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&_(this,La))&&Y(this,Yt,Ov).call(this)},aI=function(){if(_(this,Oa)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:s}}}=_(this,Og);let a=!!_(this,ah),l=a?_(this,ah):_(this,Pg);for(const v of _(this,Lg))if(!l||et.intersect(v.data.rect,l)!==null){l=v.data.rect,a=!0;break}const u=et.normalizeRect([l[0],e[3]-l[1]+e[1],l[2],e[3]-l[3]+e[1]]),h=a?l[2]-l[0]+5:0,p=u[0]+h,g=u[1];$(this,Oa,[100*(p-i)/t,100*(g-s)/n]);const{style:y}=_(this,xn);y.left=`${_(this,Oa)[0]}%`,y.top=`${_(this,Oa)[1]}%`},Ov=function(){$(this,La,!_(this,La)),_(this,La)?(Y(this,Yt,Pv).call(this),_(this,xn).addEventListener("click",_(this,sh)),_(this,xn).addEventListener("keydown",_(this,rh))):(Y(this,Yt,Gw).call(this),_(this,xn).removeEventListener("click",_(this,sh)),_(this,xn).removeEventListener("keydown",_(this,rh)))},Pv=function(){_(this,rs)||this.render(),this.isVisible?_(this,La)&&_(this,xn).classList.add("focused"):(Y(this,Yt,aI).call(this),_(this,xn).hidden=!1,_(this,xn).style.zIndex=parseInt(_(this,xn).style.zIndex)+1e3)},Gw=function(){_(this,xn).classList.remove("focused"),!(_(this,La)||!this.isVisible)&&(_(this,xn).hidden=!0,_(this,xn).style.zIndex=parseInt(_(this,xn).style.zIndex)-1e3)};class oI extends Dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=kt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var zg;class lG extends Dn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Z(this,zg,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:n,height:i}=Ka(t.rect),s=this.svgFactory.create(n,i,!0),a=$(this,zg,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _(this,zg)}addHighlightArea(){this.container.classList.add("highlightArea")}}zg=new WeakMap;var qg;class cG extends Dn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Z(this,qg,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:n,height:i}=Ka(t.rect),s=this.svgFactory.create(n,i,!0),a=t.borderStyle.width,l=$(this,qg,this.svgFactory.createElement("svg:rect"));return l.setAttribute("x",a/2),l.setAttribute("y",a/2),l.setAttribute("width",n-a),l.setAttribute("height",i-a),l.setAttribute("stroke-width",a||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _(this,qg)}addHighlightArea(){this.container.classList.add("highlightArea")}}qg=new WeakMap;var Wg;class uG extends Dn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Z(this,Wg,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:n,height:i}=Ka(t.rect),s=this.svgFactory.create(n,i,!0),a=t.borderStyle.width,l=$(this,Wg,this.svgFactory.createElement("svg:ellipse"));return l.setAttribute("cx",n/2),l.setAttribute("cy",i/2),l.setAttribute("rx",n/2-a/2),l.setAttribute("ry",i/2-a/2),l.setAttribute("stroke-width",a||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _(this,Wg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Wg=new WeakMap;var jg;class lI extends Dn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Z(this,jg,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:i,popupRef:s}}=this;if(!n)return this.container;const{width:a,height:l}=Ka(t),u=this.svgFactory.create(a,l,!0);let d=[];for(let p=0,g=n.length;p<g;p+=2){const y=n[p]-t[0],v=t[3]-n[p+1];d.push(`${y},${v}`)}d=d.join(" ");const h=$(this,jg,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",d),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),u.append(h),this.container.append(u),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _(this,jg)}addHighlightArea(){this.container.classList.add("highlightArea")}}jg=new WeakMap;class dG extends lI{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class hG extends Dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Vg;class cI extends Dn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Z(this,Vg,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=kt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:n,borderStyle:i,popupRef:s}}=this,{width:a,height:l}=Ka(t),u=this.svgFactory.create(a,l,!0);for(const d of n){let h=[];for(let g=0,y=d.length;g<y;g+=2){const v=d[g]-t[0],x=t[3]-d[g+1];h.push(`${v},${x}`)}h=h.join(" ");const p=this.svgFactory.createElement(this.svgElementName);_(this,Vg).push(p),p.setAttribute("points",h),p.setAttribute("stroke-width",i.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),!s&&this.hasPopupData&&this._createPopup(),u.append(p)}return this.container.append(u),this.container}getElementsToTriggerPopup(){return _(this,Vg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vg=new WeakMap;class fG extends Dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class pG extends Dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class gG extends Dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class mG extends Dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class uI extends Dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Hg,Gg,$w;class yG extends Dn{constructor(t){var i;super(t,{isRenderable:!0});Z(this,Gg);Z(this,Hg,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",Y(this,Gg,$w).bind(this)),$(this,Hg,i);const{isMac:s}=qi.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&Y(this,Gg,$w).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return _(this,Hg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hg=new WeakMap,Gg=new WeakSet,$w=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var $g,Oc,oh,uu,dI,Xw;class vG{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:i,page:s,viewport:a}){Z(this,uu);Z(this,$g,null);Z(this,Oc,null);Z(this,oh,new Map);this.div=e,$(this,$g,t),$(this,Oc,n),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i}async render(e){var a;const{annotations:t}=e,n=this.div;au(n,this.viewport);const i=new Map,s={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new ZT,annotationStorage:e.annotationStorage||new iD,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const u=l.annotationType===Mn.POPUP;if(u){const p=i.get(l.id);if(!p)continue;s.elements=p}else{const{width:p,height:g}=Ka(l.rect);if(p<=0||g<=0)continue}s.data=l;const d=eG.create(s);if(!d.isRenderable)continue;if(!u&&l.popupRef){const p=i.get(l.popupRef);p?p.push(d):i.set(l.popupRef,[d])}const h=d.render();l.hidden&&(h.style.visibility="hidden"),Y(this,uu,dI).call(this,h,l.id),d.annotationEditorType>0&&(_(this,oh).set(d.data.id,d),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(d))}Y(this,uu,Xw).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,au(t,{rotation:e.rotation}),Y(this,uu,Xw).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(_(this,oh).values())}getEditableAnnotation(e){return _(this,oh).get(e)}}$g=new WeakMap,Oc=new WeakMap,oh=new WeakMap,uu=new WeakSet,dI=function(e,t){var i;const n=e.firstChild||e;n.id=`${iM}${t}`,this.div.append(e),(i=_(this,$g))==null||i.moveElementInDOM(this.div,e,n,!1)},Xw=function(){if(!_(this,Oc))return;const e=this.div;for(const[t,n]of _(this,Oc)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):i.append(n)}_(this,Oc).clear()};const Jy=/\r\n?|\n/g;var Xg,Qg,Yg,Kg,Zg,ss,dr,Jg,hr,lh,kn,hI,fI,pI,Bv,Ja,zv,qv,gI,Yw,mI;const rn=class rn extends Vt{constructor(t){super({...t,name:"freeTextEditor"});Z(this,kn);Z(this,Xg,this.editorDivBlur.bind(this));Z(this,Qg,this.editorDivFocus.bind(this));Z(this,Yg,this.editorDivInput.bind(this));Z(this,Kg,this.editorDivKeydown.bind(this));Z(this,Zg,this.editorDivPaste.bind(this));Z(this,ss);Z(this,dr,"");Z(this,Jg,`${this.id}-editor`);Z(this,hr);Z(this,lh,null);$(this,ss,t.color||rn._defaultColor||Vt._defaultLineColor),$(this,hr,t.fontSize||rn._defaultFontSize)}static get _keyboardManager(){const t=rn.prototype,n=a=>a.isEmpty(),i=ou.TRANSLATE_SMALL,s=ou.TRANSLATE_BIG;return Rt(this,"_keyboardManager",new Um([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:n}]]))}static initialize(t,n){Vt.initialize(t,n,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case ht.FREETEXT_SIZE:rn._defaultFontSize=n;break;case ht.FREETEXT_COLOR:rn._defaultColor=n;break}}updateParams(t,n){switch(t){case ht.FREETEXT_SIZE:Y(this,kn,hI).call(this,n);break;case ht.FREETEXT_COLOR:Y(this,kn,fI).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[ht.FREETEXT_SIZE,rn._defaultFontSize],[ht.FREETEXT_COLOR,rn._defaultColor||Vt._defaultLineColor]]}get propertiesToUpdate(){return[[ht.FREETEXT_SIZE,_(this,hr)],[ht.FREETEXT_COLOR,_(this,ss)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-rn._internalPadding*t,-(rn._internalPadding+_(this,hr))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(kt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const t=this._uiManager._signal;this.editorDiv.addEventListener("keydown",_(this,Kg),{signal:t}),this.editorDiv.addEventListener("focus",_(this,Qg),{signal:t}),this.editorDiv.addEventListener("blur",_(this,Xg),{signal:t}),this.editorDiv.addEventListener("input",_(this,Yg),{signal:t}),this.editorDiv.addEventListener("paste",_(this,Zg),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",_(this,Jg)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",_(this,Kg)),this.editorDiv.removeEventListener("focus",_(this,Qg)),this.editorDiv.removeEventListener("blur",_(this,Xg)),this.editorDiv.removeEventListener("input",_(this,Yg)),this.editorDiv.removeEventListener("paste",_(this,Zg)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=_(this,dr),n=$(this,dr,Y(this,kn,pI).call(this).trimEnd());if(t===n)return;const i=s=>{if($(this,dr,s),!s){this.remove();return}Y(this,kn,qv).call(this),this._uiManager.rebuild(this),Y(this,kn,Bv).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(t)},mustExec:!1}),Y(this,kn,Bv).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){rn._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",_(this,Jg)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Vt._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var a;return(a=this.editorDiv)==null?void 0:a.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${_(this,hr)}px * var(--scale-factor))`,i.color=_(this,ss),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),N0(this,this.div,["dblclick","keydown"]),this.width){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:l}=_(this,lh);let[u,d]=this.getInitialTranslation();[u,d]=this.pageTranslationToScreen(u,d);const[h,p]=this.pageDimensions,[g,y]=this.pageTranslation;let v,x;switch(this.rotation){case 0:v=t+(l[0]-g)/h,x=n+this.height-(l[1]-y)/p;break;case 90:v=t+(l[0]-g)/h,x=n-(l[1]-y)/p,[u,d]=[d,-u];break;case 180:v=t-this.width+(l[0]-g)/h,x=n-(l[1]-y)/p,[u,d]=[-u,-d];break;case 270:v=t+(l[0]-g-this.height*p)/h,x=n+(l[1]-y-this.width*h)/p,[u,d]=[-d,u];break}this.setAt(v*s,x*a,u,d)}else this.setAt(t*s,n*a,this.width*s,this.height*a);Y(this,kn,qv).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var v,x,T;const n=t.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=Y(v=rn,Ja,Yw).call(v,n.getData("text")||"").replaceAll(Jy,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const l=a.getRangeAt(0);if(!s.includes(`
`)){l.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:u,startOffset:d}=l,h=[],p=[];if(u.nodeType===Node.TEXT_NODE){const D=u.parentElement;if(p.push(u.nodeValue.slice(d).replaceAll(Jy,"")),D!==this.editorDiv){let E=h;for(const C of this.editorDiv.childNodes){if(C===D){E=p;continue}E.push(Y(x=rn,Ja,zv).call(x,C))}}h.push(u.nodeValue.slice(0,d).replaceAll(Jy,""))}else if(u===this.editorDiv){let D=h,E=0;for(const C of this.editorDiv.childNodes)E++===d&&(D=p),D.push(Y(T=rn,Ja,zv).call(T,C))}$(this,dr,`${h.join(`
`)}${s}${p.join(`
`)}`),Y(this,kn,qv).call(this);const g=new Range;let y=h.reduce((D,E)=>D+E.length,0);for(const{firstChild:D}of this.editorDiv.childNodes)if(D.nodeType===Node.TEXT_NODE){const E=D.nodeValue.length;if(y<=E){g.setStart(D,y),g.setEnd(D,y);break}y-=E}a.removeAllRanges(),a.addRange(g)}get contentDiv(){return this.editorDiv}static deserialize(t,n,i){var l;let s=null;if(t instanceof oI){const{data:{defaultAppearanceData:{fontSize:u,fontColor:d},rect:h,rotation:p,id:g},textContent:y,textPosition:v,parent:{page:{pageNumber:x}}}=t;if(!y||y.length===0)return null;s=t={annotationType:kt.FREETEXT,color:Array.from(d),fontSize:u,value:y.join(`
`),position:v,pageIndex:x-1,rect:h.slice(0),rotation:p,id:g,deleted:!1}}const a=super.deserialize(t,n,i);return $(a,hr,t.fontSize),$(a,ss,et.makeHexColor(...t.color)),$(a,dr,Y(l=rn,Ja,Yw).call(l,t.value)),a.annotationElementId=t.id||null,$(a,lh,s),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const n=rn._internalPadding*this.parentScale,i=this.getRect(n,n),s=Vt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:_(this,ss)),a={annotationType:kt.FREETEXT,color:s,fontSize:_(this,hr),value:Y(this,kn,gI).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?a:this.annotationElementId&&!Y(this,kn,mI).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:i}=n;i.fontSize=`calc(${_(this,hr)}px * var(--scale-factor))`,i.color=_(this,ss),n.replaceChildren();for(const a of _(this,dr).split(`
`)){const l=document.createElement("div");l.append(a?document.createTextNode(a):document.createElement("br")),n.append(l)}const s=rn._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:_(this,dr)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Xg=new WeakMap,Qg=new WeakMap,Yg=new WeakMap,Kg=new WeakMap,Zg=new WeakMap,ss=new WeakMap,dr=new WeakMap,Jg=new WeakMap,hr=new WeakMap,lh=new WeakMap,kn=new WeakSet,hI=function(t){const n=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-_(this,hr))*this.parentScale),$(this,hr,s),Y(this,kn,Bv).call(this)},i=_(this,hr);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ht.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},fI=function(t){const n=s=>{$(this,ss,this.editorDiv.style.color=s)},i=_(this,ss);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ht.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},pI=function(){var n;const t=[];this.editorDiv.normalize();for(const i of this.editorDiv.childNodes)t.push(Y(n=rn,Ja,zv).call(n,i));return t.join(`
`)},Bv=function(){const[t,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,l=a.style.display,u=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=l,a.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/n):(this.width=i.height/t,this.height=i.width/n),this.fixAndSetPosition()},Ja=new WeakSet,zv=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Jy,"")},qv=function(){if(this.editorDiv.replaceChildren(),!!_(this,dr))for(const t of _(this,dr).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},gI=function(){return _(this,dr).replaceAll(" "," ")},Yw=function(t){return t.replaceAll(" "," ")},mI=function(t){const{value:n,fontSize:i,color:s,pageIndex:a}=_(this,lh);return this._hasBeenMoved||t.value!==n||t.fontSize!==i||t.color.some((l,u)=>l!==s[u])||t.pageIndex!==a},Z(rn,Ja),pt(rn,"_freeTextDefaultContent",""),pt(rn,"_internalPadding",0),pt(rn,"_defaultColor",null),pt(rn,"_defaultFontSize",10),pt(rn,"_type","freetext"),pt(rn,"_editorType",kt.FREETEXT);let Qw=rn;var em,Jo,as,Ei,yI,Wv,vI,bI,Zw;class Kw{constructor(e,t=0,n=0,i=!0){Z(this,Ei);Z(this,em);Z(this,Jo,[]);Z(this,as,[]);let s=1/0,a=-1/0,l=1/0,u=-1/0;const d=10**-4;for(const{x:T,y:D,width:E,height:C}of e){const R=Math.floor((T-t)/d)*d,U=Math.ceil((T+E+t)/d)*d,M=Math.floor((D-t)/d)*d,O=Math.ceil((D+C+t)/d)*d,W=[R,M,O,!0],L=[U,M,O,!1];_(this,Jo).push(W,L),s=Math.min(s,R),a=Math.max(a,U),l=Math.min(l,M),u=Math.max(u,O)}const h=a-s+2*n,p=u-l+2*n,g=s-n,y=l-n,v=_(this,Jo).at(i?-1:-2),x=[v[0],v[2]];for(const T of _(this,Jo)){const[D,E,C]=T;T[0]=(D-g)/h,T[1]=(E-y)/p,T[2]=(C-y)/p}$(this,em,{x:g,y,width:h,height:p,lastPoint:x})}getOutlines(){_(this,Jo).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of _(this,Jo))t[3]?(e.push(...Y(this,Ei,Zw).call(this,t)),Y(this,Ei,vI).call(this,t)):(Y(this,Ei,bI).call(this,t),e.push(...Y(this,Ei,Zw).call(this,t)));return Y(this,Ei,yI).call(this,e)}}em=new WeakMap,Jo=new WeakMap,as=new WeakMap,Ei=new WeakSet,yI=function(e){const t=[],n=new Set;for(const a of e){const[l,u,d]=a;t.push([l,u,a],[l,d,a])}t.sort((a,l)=>a[1]-l[1]||a[0]-l[0]);for(let a=0,l=t.length;a<l;a+=2){const u=t[a][2],d=t[a+1][2];u.push(d),d.push(u),n.add(u),n.add(d)}const i=[];let s;for(;n.size>0;){const a=n.values().next().value;let[l,u,d,h,p]=a;n.delete(a);let g=l,y=u;for(s=[l,d],i.push(s);;){let v;if(n.has(h))v=h;else if(n.has(p))v=p;else break;n.delete(v),[l,u,d,h,p]=v,g!==l&&(s.push(g,y,l,y===u?u:d),g=l),y=y===u?d:u}s.push(g,y)}return new bG(i,_(this,em))},Wv=function(e){const t=_(this,as);let n=0,i=t.length-1;for(;n<=i;){const s=n+i>>1,a=t[s][0];if(a===e)return s;a<e?n=s+1:i=s-1}return i+1},vI=function([,e,t]){const n=Y(this,Ei,Wv).call(this,e);_(this,as).splice(n,0,[e,t])},bI=function([,e,t]){const n=Y(this,Ei,Wv).call(this,e);for(let i=n;i<_(this,as).length;i++){const[s,a]=_(this,as)[i];if(s!==e)break;if(s===e&&a===t){_(this,as).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[s,a]=_(this,as)[i];if(s!==e)break;if(s===e&&a===t){_(this,as).splice(i,1);return}}},Zw=function(e){const[t,n,i]=e,s=[[t,n,i]],a=Y(this,Ei,Wv).call(this,i);for(let l=0;l<a;l++){const[u,d]=_(this,as)[l];for(let h=0,p=s.length;h<p;h++){const[,g,y]=s[h];if(!(d<=g||y<=u)){if(g>=u){if(y>d)s[h][1]=d;else{if(p===1)return[];s.splice(h,1),h--,p--}continue}s[h][2]=u,y>d&&s.push([t,d,y])}}}return s};class xI{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof eT}}var tm,ch;class bG extends xI{constructor(t,n){super();Z(this,tm);Z(this,ch);$(this,ch,t),$(this,tm,n)}toSVGPath(){const t=[];for(const n of _(this,ch)){let[i,s]=n;t.push(`M${i} ${s}`);for(let a=2;a<n.length;a+=2){const l=n[a],u=n[a+1];l===i?(t.push(`V${u}`),s=u):u===s&&(t.push(`H${l}`),i=l)}t.push("Z")}return t.join(" ")}serialize([t,n,i,s],a){const l=[],u=i-t,d=s-n;for(const h of _(this,ch)){const p=new Array(h.length);for(let g=0;g<h.length;g+=2)p[g]=t+h[g]*u,p[g+1]=s-h[g+1]*d;l.push(p)}return l}get box(){return _(this,tm)}}tm=new WeakMap,ch=new WeakMap;var Ms,Ba,uh,dh,Is,Ct,Pc,Bc,nm,im,hh,fh,el,rm,ob,lb,sm,Jw;const _a=class _a{constructor({x:e,y:t},n,i,s,a,l=0){Z(this,sm);Z(this,Ms);Z(this,Ba,[]);Z(this,uh);Z(this,dh);Z(this,Is,[]);Z(this,Ct,new Float64Array(18));Z(this,Pc);Z(this,Bc);Z(this,nm);Z(this,im);Z(this,hh);Z(this,fh);Z(this,el,[]);$(this,Ms,n),$(this,fh,s*i),$(this,dh,a),_(this,Ct).set([NaN,NaN,NaN,NaN,e,t],6),$(this,uh,l),$(this,im,_(_a,rm)*i),$(this,nm,_(_a,lb)*i),$(this,hh,i),_(this,el).push(e,t)}get free(){return!0}isEmpty(){return isNaN(_(this,Ct)[8])}add({x:e,y:t}){var L;$(this,Pc,e),$(this,Bc,t);const[n,i,s,a]=_(this,Ms);let[l,u,d,h]=_(this,Ct).subarray(8,12);const p=e-d,g=t-h,y=Math.hypot(p,g);if(y<_(this,nm))return!1;const v=y-_(this,im),x=v/y,T=x*p,D=x*g;let E=l,C=u;l=d,u=h,d+=T,h+=D,(L=_(this,el))==null||L.push(e,t);const R=-D/v,U=T/v,M=R*_(this,fh),O=U*_(this,fh);return _(this,Ct).set(_(this,Ct).subarray(2,8),0),_(this,Ct).set([d+M,h+O],4),_(this,Ct).set(_(this,Ct).subarray(14,18),12),_(this,Ct).set([d-M,h-O],16),isNaN(_(this,Ct)[6])?(_(this,Is).length===0&&(_(this,Ct).set([l+M,u+O],2),_(this,Is).push(NaN,NaN,NaN,NaN,(l+M-n)/s,(u+O-i)/a),_(this,Ct).set([l-M,u-O],14),_(this,Ba).push(NaN,NaN,NaN,NaN,(l-M-n)/s,(u-O-i)/a)),_(this,Ct).set([E,C,l,u,d,h],6),!this.isEmpty()):(_(this,Ct).set([E,C,l,u,d,h],6),Math.abs(Math.atan2(C-u,E-l)-Math.atan2(D,T))<Math.PI/2?([l,u,d,h]=_(this,Ct).subarray(2,6),_(this,Is).push(NaN,NaN,NaN,NaN,((l+d)/2-n)/s,((u+h)/2-i)/a),[l,u,E,C]=_(this,Ct).subarray(14,18),_(this,Ba).push(NaN,NaN,NaN,NaN,((E+l)/2-n)/s,((C+u)/2-i)/a),!0):([E,C,l,u,d,h]=_(this,Ct).subarray(0,6),_(this,Is).push(((E+5*l)/6-n)/s,((C+5*u)/6-i)/a,((5*l+d)/6-n)/s,((5*u+h)/6-i)/a,((l+d)/2-n)/s,((u+h)/2-i)/a),[d,h,l,u,E,C]=_(this,Ct).subarray(12,18),_(this,Ba).push(((E+5*l)/6-n)/s,((C+5*u)/6-i)/a,((5*l+d)/6-n)/s,((5*u+h)/6-i)/a,((l+d)/2-n)/s,((u+h)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=_(this,Is),t=_(this,Ba),n=_(this,Ct).subarray(4,6),i=_(this,Ct).subarray(16,18),[s,a,l,u]=_(this,Ms),[d,h,p,g]=Y(this,sm,Jw).call(this);if(isNaN(_(this,Ct)[6])&&!this.isEmpty())return`M${(_(this,Ct)[2]-s)/l} ${(_(this,Ct)[3]-a)/u} L${(_(this,Ct)[4]-s)/l} ${(_(this,Ct)[5]-a)/u} L${d} ${h} L${p} ${g} L${(_(this,Ct)[16]-s)/l} ${(_(this,Ct)[17]-a)/u} L${(_(this,Ct)[14]-s)/l} ${(_(this,Ct)[15]-a)/u} Z`;const y=[];y.push(`M${e[4]} ${e[5]}`);for(let v=6;v<e.length;v+=6)isNaN(e[v])?y.push(`L${e[v+4]} ${e[v+5]}`):y.push(`C${e[v]} ${e[v+1]} ${e[v+2]} ${e[v+3]} ${e[v+4]} ${e[v+5]}`);y.push(`L${(n[0]-s)/l} ${(n[1]-a)/u} L${d} ${h} L${p} ${g} L${(i[0]-s)/l} ${(i[1]-a)/u}`);for(let v=t.length-6;v>=6;v-=6)isNaN(t[v])?y.push(`L${t[v+4]} ${t[v+5]}`):y.push(`C${t[v]} ${t[v+1]} ${t[v+2]} ${t[v+3]} ${t[v+4]} ${t[v+5]}`);return y.push(`L${t[4]} ${t[5]} Z`),y.join(" ")}getOutlines(){var D;const e=_(this,Is),t=_(this,Ba),n=_(this,Ct),i=n.subarray(4,6),s=n.subarray(16,18),[a,l,u,d]=_(this,Ms),h=new Float64Array((((D=_(this,el))==null?void 0:D.length)??0)+2);for(let E=0,C=h.length-2;E<C;E+=2)h[E]=(_(this,el)[E]-a)/u,h[E+1]=(_(this,el)[E+1]-l)/d;h[h.length-2]=(_(this,Pc)-a)/u,h[h.length-1]=(_(this,Bc)-l)/d;const[p,g,y,v]=Y(this,sm,Jw).call(this);if(isNaN(n[6])&&!this.isEmpty()){const E=new Float64Array(36);return E.set([NaN,NaN,NaN,NaN,(n[2]-a)/u,(n[3]-l)/d,NaN,NaN,NaN,NaN,(n[4]-a)/u,(n[5]-l)/d,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,y,v,NaN,NaN,NaN,NaN,(n[16]-a)/u,(n[17]-l)/d,NaN,NaN,NaN,NaN,(n[14]-a)/u,(n[15]-l)/d],0),new eT(E,h,_(this,Ms),_(this,hh),_(this,uh),_(this,dh))}const x=new Float64Array(_(this,Is).length+24+_(this,Ba).length);let T=e.length;for(let E=0;E<T;E+=2){if(isNaN(e[E])){x[E]=x[E+1]=NaN;continue}x[E]=e[E],x[E+1]=e[E+1]}x.set([NaN,NaN,NaN,NaN,(i[0]-a)/u,(i[1]-l)/d,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,y,v,NaN,NaN,NaN,NaN,(s[0]-a)/u,(s[1]-l)/d],T),T+=24;for(let E=t.length-6;E>=6;E-=6)for(let C=0;C<6;C+=2){if(isNaN(t[E+C])){x[T]=x[T+1]=NaN,T+=2;continue}x[T]=t[E+C],x[T+1]=t[E+C+1],T+=2}return x.set([NaN,NaN,NaN,NaN,t[4],t[5]],T),new eT(x,h,_(this,Ms),_(this,hh),_(this,uh),_(this,dh))}};Ms=new WeakMap,Ba=new WeakMap,uh=new WeakMap,dh=new WeakMap,Is=new WeakMap,Ct=new WeakMap,Pc=new WeakMap,Bc=new WeakMap,nm=new WeakMap,im=new WeakMap,hh=new WeakMap,fh=new WeakMap,el=new WeakMap,rm=new WeakMap,ob=new WeakMap,lb=new WeakMap,sm=new WeakSet,Jw=function(){const e=_(this,Ct).subarray(4,6),t=_(this,Ct).subarray(16,18),[n,i,s,a]=_(this,Ms);return[(_(this,Pc)+(e[0]-t[0])/2-n)/s,(_(this,Bc)+(e[1]-t[1])/2-i)/a,(_(this,Pc)+(t[0]-e[0])/2-n)/s,(_(this,Bc)+(t[1]-e[1])/2-i)/a]},Z(_a,rm,8),Z(_a,ob,2),Z(_a,lb,_(_a,rm)+_(_a,ob));let F0=_a;var ph,zc,za,am,fr,om,Tn,Wi,gp,mp,_I;class eT extends xI{constructor(t,n,i,s,a,l){super();Z(this,Wi);Z(this,ph);Z(this,zc,null);Z(this,za);Z(this,am);Z(this,fr);Z(this,om);Z(this,Tn);$(this,Tn,t),$(this,fr,n),$(this,ph,i),$(this,om,s),$(this,za,a),$(this,am,l),Y(this,Wi,_I).call(this,l);const{x:u,y:d,width:h,height:p}=_(this,zc);for(let g=0,y=t.length;g<y;g+=2)t[g]=(t[g]-u)/h,t[g+1]=(t[g+1]-d)/p;for(let g=0,y=n.length;g<y;g+=2)n[g]=(n[g]-u)/h,n[g+1]=(n[g+1]-d)/p}toSVGPath(){const t=[`M${_(this,Tn)[4]} ${_(this,Tn)[5]}`];for(let n=6,i=_(this,Tn).length;n<i;n+=6){if(isNaN(_(this,Tn)[n])){t.push(`L${_(this,Tn)[n+4]} ${_(this,Tn)[n+5]}`);continue}t.push(`C${_(this,Tn)[n]} ${_(this,Tn)[n+1]} ${_(this,Tn)[n+2]} ${_(this,Tn)[n+3]} ${_(this,Tn)[n+4]} ${_(this,Tn)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,i,s],a){const l=i-t,u=s-n;let d,h;switch(a){case 0:d=Y(this,Wi,gp).call(this,_(this,Tn),t,s,l,-u),h=Y(this,Wi,gp).call(this,_(this,fr),t,s,l,-u);break;case 90:d=Y(this,Wi,mp).call(this,_(this,Tn),t,n,l,u),h=Y(this,Wi,mp).call(this,_(this,fr),t,n,l,u);break;case 180:d=Y(this,Wi,gp).call(this,_(this,Tn),i,n,-l,u),h=Y(this,Wi,gp).call(this,_(this,fr),i,n,-l,u);break;case 270:d=Y(this,Wi,mp).call(this,_(this,Tn),i,s,-l,-u),h=Y(this,Wi,mp).call(this,_(this,fr),i,s,-l,-u);break}return{outline:Array.from(d),points:[Array.from(h)]}}get box(){return _(this,zc)}getNewOutline(t,n){const{x:i,y:s,width:a,height:l}=_(this,zc),[u,d,h,p]=_(this,ph),g=a*h,y=l*p,v=i*h+u,x=s*p+d,T=new F0({x:_(this,fr)[0]*g+v,y:_(this,fr)[1]*y+x},_(this,ph),_(this,om),t,_(this,am),n??_(this,za));for(let D=2;D<_(this,fr).length;D+=2)T.add({x:_(this,fr)[D]*g+v,y:_(this,fr)[D+1]*y+x});return T.getOutlines()}}ph=new WeakMap,zc=new WeakMap,za=new WeakMap,am=new WeakMap,fr=new WeakMap,om=new WeakMap,Tn=new WeakMap,Wi=new WeakSet,gp=function(t,n,i,s,a){const l=new Float64Array(t.length);for(let u=0,d=t.length;u<d;u+=2)l[u]=n+t[u]*s,l[u+1]=i+t[u+1]*a;return l},mp=function(t,n,i,s,a){const l=new Float64Array(t.length);for(let u=0,d=t.length;u<d;u+=2)l[u]=n+t[u+1]*s,l[u+1]=i+t[u]*a;return l},_I=function(t){const n=_(this,Tn);let i=n[4],s=n[5],a=i,l=s,u=i,d=s,h=i,p=s;const g=t?Math.max:Math.min;for(let D=6,E=n.length;D<E;D+=6){if(isNaN(n[D]))a=Math.min(a,n[D+4]),l=Math.min(l,n[D+5]),u=Math.max(u,n[D+4]),d=Math.max(d,n[D+5]),p<n[D+5]?(h=n[D+4],p=n[D+5]):p===n[D+5]&&(h=g(h,n[D+4]));else{const C=et.bezierBoundingBox(i,s,...n.slice(D,D+6));a=Math.min(a,C[0]),l=Math.min(l,C[1]),u=Math.max(u,C[2]),d=Math.max(d,C[3]),p<C[3]?(h=C[2],p=C[3]):p===C[3]&&(h=g(h,C[2]))}i=n[D+4],s=n[D+5]}const y=a-_(this,za),v=l-_(this,za),x=u-a+2*_(this,za),T=d-l+2*_(this,za);$(this,zc,{x:y,y:v,width:x,height:T,lastPoint:[h,p]})};var lm,cm,os,qc,gh,Fn,um,mh,dm,hm,ls,yh,Jt,tT,nT,wI,Jl,TI,Io;const wa=class wa{constructor({editor:e=null,uiManager:t=null}){Z(this,Jt);Z(this,lm,Y(this,Jt,wI).bind(this));Z(this,cm,Y(this,Jt,TI).bind(this));Z(this,os,null);Z(this,qc,null);Z(this,gh);Z(this,Fn,null);Z(this,um,!1);Z(this,mh,!1);Z(this,dm,null);Z(this,hm);Z(this,ls,null);Z(this,yh);var n;e?($(this,mh,!1),$(this,yh,ht.HIGHLIGHT_COLOR),$(this,dm,e)):($(this,mh,!0),$(this,yh,ht.HIGHLIGHT_DEFAULT_COLOR)),$(this,ls,(e==null?void 0:e._uiManager)||t),$(this,hm,_(this,ls)._eventBus),$(this,gh,(e==null?void 0:e.color)||((n=_(this,ls))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return Rt(this,"_keyboardManager",new Um([[["Escape","mac+Escape"],wa.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],wa.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],wa.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],wa.prototype._moveToPrevious],[["Home","mac+Home"],wa.prototype._moveToBeginning],[["End","mac+End"],wa.prototype._moveToEnd]]))}renderButton(){const e=$(this,os,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=_(this,ls)._signal;e.addEventListener("click",Y(this,Jt,Jl).bind(this),{signal:t}),e.addEventListener("keydown",_(this,lm),{signal:t});const n=$(this,qc,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=_(this,gh),e.append(n),e}renderMainDropdown(){const e=$(this,Fn,Y(this,Jt,tT).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===_(this,os)){Y(this,Jt,Jl).call(this,e);return}const t=e.target.getAttribute("data-color");t&&Y(this,Jt,nT).call(this,t,e)}_moveToNext(e){var t,n;if(!_(this,Jt,Io)){Y(this,Jt,Jl).call(this,e);return}if(e.target===_(this,os)){(t=_(this,Fn).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=_(this,Fn))==null?void 0:t.firstChild)||e.target===_(this,os)){_(this,Jt,Io)&&this._hideDropdownFromKeyboard();return}_(this,Jt,Io)||Y(this,Jt,Jl).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!_(this,Jt,Io)){Y(this,Jt,Jl).call(this,e);return}(t=_(this,Fn).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!_(this,Jt,Io)){Y(this,Jt,Jl).call(this,e);return}(t=_(this,Fn).lastChild)==null||t.focus()}hideDropdown(){var e;(e=_(this,Fn))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",_(this,cm))}_hideDropdownFromKeyboard(){var e;if(!_(this,mh)){if(!_(this,Jt,Io)){(e=_(this,dm))==null||e.unselect();return}this.hideDropdown(),_(this,os).focus({preventScroll:!0,focusVisible:_(this,um)})}}updateColor(e){if(_(this,qc)&&(_(this,qc).style.backgroundColor=e),!_(this,Fn))return;const t=_(this,ls).highlightColors.values();for(const n of _(this,Fn).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=_(this,os))==null||e.remove(),$(this,os,null),$(this,qc,null),(t=_(this,Fn))==null||t.remove(),$(this,Fn,null)}};lm=new WeakMap,cm=new WeakMap,os=new WeakMap,qc=new WeakMap,gh=new WeakMap,Fn=new WeakMap,um=new WeakMap,mh=new WeakMap,dm=new WeakMap,hm=new WeakMap,ls=new WeakMap,yh=new WeakMap,Jt=new WeakSet,tT=function(){const e=document.createElement("div"),t=_(this,ls)._signal;e.addEventListener("contextmenu",ji,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,i]of _(this,ls).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=n,s.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${n}`);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.setAttribute("aria-selected",i===_(this,gh)),s.addEventListener("click",Y(this,Jt,nT).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",_(this,lm),{signal:t}),e},nT=function(e,t){t.stopPropagation(),_(this,hm).dispatch("switchannotationeditorparams",{source:this,type:_(this,yh),value:e})},wI=function(e){wa._keyboardManager.exec(this,e)},Jl=function(e){if(_(this,Jt,Io)){this.hideDropdown();return}if($(this,um,e.detail===0),window.addEventListener("pointerdown",_(this,cm),{signal:_(this,ls)._signal}),_(this,Fn)){_(this,Fn).classList.remove("hidden");return}const t=$(this,Fn,Y(this,Jt,tT).call(this));_(this,os).append(t)},TI=function(e){var t;(t=_(this,Fn))!=null&&t.contains(e.target)||this.hideDropdown()},Io=function(){return _(this,Fn)&&!_(this,Fn).classList.contains("hidden")};let L0=wa;var vh,fm,tl,Wc,bh,Mr,pm,gm,jc,cs,wi,pr,cb,xh,Vc,Ln,_h,Fs,mm,At,iT,rT,DI,AI,EI,sT,yp,Or,_d,CI,jv,vp,SI,UI,kI,RI;const Lt=class Lt extends Vt{constructor(t){super({...t,name:"highlightEditor"});Z(this,At);Z(this,vh,null);Z(this,fm,0);Z(this,tl);Z(this,Wc,null);Z(this,bh,null);Z(this,Mr,null);Z(this,pm,null);Z(this,gm,0);Z(this,jc,null);Z(this,cs,null);Z(this,wi,null);Z(this,pr,!1);Z(this,cb,Y(this,At,CI).bind(this));Z(this,xh,null);Z(this,Vc);Z(this,Ln,null);Z(this,_h,"");Z(this,Fs);Z(this,mm,"");this.color=t.color||Lt._defaultColor,$(this,Fs,t.thickness||Lt._defaultThickness),$(this,Vc,t.opacity||Lt._defaultOpacity),$(this,tl,t.boxes||null),$(this,mm,t.methodOfCreation||""),$(this,_h,t.text||""),this._isDraggable=!1,t.highlightId>-1?($(this,pr,!0),Y(this,At,rT).call(this,t),Y(this,At,yp).call(this)):($(this,vh,t.anchorNode),$(this,fm,t.anchorOffset),$(this,pm,t.focusNode),$(this,gm,t.focusOffset),Y(this,At,iT).call(this),Y(this,At,yp).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Lt.prototype;return Rt(this,"_keyboardManager",new Um([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:_(this,pr)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:_(this,Fs),methodOfCreation:_(this,mm)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var i;Vt.initialize(t,n),Lt._defaultColor||(Lt._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case ht.HIGHLIGHT_DEFAULT_COLOR:Lt._defaultColor=n;break;case ht.HIGHLIGHT_THICKNESS:Lt._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return _(this,xh)}updateParams(t,n){switch(t){case ht.HIGHLIGHT_COLOR:Y(this,At,DI).call(this,n);break;case ht.HIGHLIGHT_THICKNESS:Y(this,At,AI).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[ht.HIGHLIGHT_DEFAULT_COLOR,Lt._defaultColor],[ht.HIGHLIGHT_THICKNESS,Lt._defaultThickness]]}get propertiesToUpdate(){return[[ht.HIGHLIGHT_COLOR,this.color||Lt._defaultColor],[ht.HIGHLIGHT_THICKNESS,_(this,Fs)||Lt._defaultThickness],[ht.HIGHLIGHT_FREE,_(this,pr)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&($(this,bh,new L0({editor:this})),t.addColorPicker(_(this,bh))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(Y(this,At,vp).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,Y(this,At,vp).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){Y(this,At,sT).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(Y(this,At,yp).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let n=!1;this.parent&&!t?Y(this,At,sT).call(this):t&&(Y(this,At,yp).call(this,t),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var s,a,l;const{drawLayer:n}=this.parent;let i;_(this,pr)?(t=(t-this.rotation+360)%360,i=Y(s=Lt,Or,_d).call(s,_(this,cs).box,t)):i=Y(a=Lt,Or,_d).call(a,this,t),n.rotate(_(this,wi),t),n.rotate(_(this,Ln),t),n.updateBox(_(this,wi),i),n.updateBox(_(this,Ln),Y(l=Lt,Or,_d).call(l,_(this,Mr).box,t))}render(){if(this.div)return this.div;const t=super.render();_(this,_h)&&(t.setAttribute("aria-label",_(this,_h)),t.setAttribute("role","mark")),_(this,pr)?t.classList.add("free"):this.div.addEventListener("keydown",_(this,cb),{signal:this._uiManager._signal});const n=$(this,jc,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=_(this,Wc);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),N0(this,_(this,jc),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(_(this,Ln),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(_(this,Ln),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:Y(this,At,jv).call(this,!0);break;case 1:case 3:Y(this,At,jv).call(this,!1);break}}select(){var t,n;super.select(),_(this,Ln)&&((t=this.parent)==null||t.drawLayer.removeClass(_(this,Ln),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(_(this,Ln),"selected"))}unselect(){var t;super.unselect(),_(this,Ln)&&((t=this.parent)==null||t.drawLayer.removeClass(_(this,Ln),"selected"),_(this,pr)||Y(this,At,jv).call(this,!1))}get _mustFixPosition(){return!_(this,pr)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(_(this,wi),t),this.parent.drawLayer.show(_(this,Ln),t))}static startHighlighting(t,n,{target:i,x:s,y:a}){const{x:l,y:u,width:d,height:h}=i.getBoundingClientRect(),p=T=>{Y(this,Or,kI).call(this,t,T)},g=t._signal,y={capture:!0,passive:!1,signal:g},v=T=>{T.preventDefault(),T.stopPropagation()},x=T=>{i.removeEventListener("pointermove",p),window.removeEventListener("blur",x),window.removeEventListener("pointerup",x),window.removeEventListener("pointerdown",v,y),window.removeEventListener("contextmenu",ji),Y(this,Or,RI).call(this,t,T)};window.addEventListener("blur",x,{signal:g}),window.addEventListener("pointerup",x,{signal:g}),window.addEventListener("pointerdown",v,y),window.addEventListener("contextmenu",ji,{signal:g}),i.addEventListener("pointermove",p,{signal:g}),this._freeHighlight=new F0({x:s,y:a},[l,u,d,h],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,n,i){var x;const s=super.deserialize(t,n,i),{rect:[a,l,u,d],color:h,quadPoints:p}=t;s.color=et.makeHexColor(...h),$(s,Vc,t.opacity);const[g,y]=s.pageDimensions;s.width=(u-a)/g,s.height=(d-l)/y;const v=$(s,tl,[]);for(let T=0;T<p.length;T+=8)v.push({x:(p[4]-u)/g,y:(d-(1-p[T+5]))/y,width:(p[T+2]-p[T])/g,height:(p[T+5]-p[T+1])/y});return Y(x=s,At,iT).call(x),s}serialize(t=!1){if(this.isEmpty()||t)return null;const n=this.getRect(0,0),i=Vt._colorManager.convert(this.color);return{annotationType:kt.HIGHLIGHT,color:i,opacity:_(this,Vc),thickness:_(this,Fs),quadPoints:Y(this,At,SI).call(this),outlines:Y(this,At,UI).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:Y(this,At,vp).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};vh=new WeakMap,fm=new WeakMap,tl=new WeakMap,Wc=new WeakMap,bh=new WeakMap,Mr=new WeakMap,pm=new WeakMap,gm=new WeakMap,jc=new WeakMap,cs=new WeakMap,wi=new WeakMap,pr=new WeakMap,cb=new WeakMap,xh=new WeakMap,Vc=new WeakMap,Ln=new WeakMap,_h=new WeakMap,Fs=new WeakMap,mm=new WeakMap,At=new WeakSet,iT=function(){const t=new Kw(_(this,tl),.001);$(this,cs,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=_(this,cs).box;const n=new Kw(_(this,tl),.0025,.001,this._uiManager.direction==="ltr");$(this,Mr,n.getOutlines());const{lastPoint:i}=_(this,Mr).box;$(this,xh,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},rT=function({highlightOutlines:t,highlightId:n,clipPathId:i}){var p,g;if($(this,cs,t),$(this,Mr,t.getNewOutline(_(this,Fs)/2+1.5,.0025)),n>=0)$(this,wi,n),$(this,Wc,i),this.parent.drawLayer.finalizeLine(n,t),$(this,Ln,this.parent.drawLayer.highlightOutline(_(this,Mr)));else if(this.parent){const y=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(_(this,wi),t),this.parent.drawLayer.updateBox(_(this,wi),Y(p=Lt,Or,_d).call(p,_(this,cs).box,(y-this.rotation+360)%360)),this.parent.drawLayer.updateLine(_(this,Ln),_(this,Mr)),this.parent.drawLayer.updateBox(_(this,Ln),Y(g=Lt,Or,_d).call(g,_(this,Mr).box,y))}const{x:a,y:l,width:u,height:d}=t.box;switch(this.rotation){case 0:this.x=a,this.y=l,this.width=u,this.height=d;break;case 90:{const[y,v]=this.parentDimensions;this.x=l,this.y=1-a,this.width=u*v/y,this.height=d*y/v;break}case 180:this.x=1-a,this.y=1-l,this.width=u,this.height=d;break;case 270:{const[y,v]=this.parentDimensions;this.x=1-l,this.y=a,this.width=u*v/y,this.height=d*y/v;break}}const{lastPoint:h}=_(this,Mr).box;$(this,xh,[(h[0]-a)/u,(h[1]-l)/d])},DI=function(t){const n=s=>{var a,l;this.color=s,(a=this.parent)==null||a.drawLayer.changeColor(_(this,wi),s),(l=_(this,bh))==null||l.updateColor(s)},i=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ht.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},AI=function(t){const n=_(this,Fs),i=s=>{$(this,Fs,s),Y(this,At,EI).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ht.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},EI=function(t){if(!_(this,pr))return;Y(this,At,rT).call(this,{highlightOutlines:_(this,cs).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)},sT=function(){_(this,wi)===null||!this.parent||(this.parent.drawLayer.remove(_(this,wi)),$(this,wi,null),this.parent.drawLayer.remove(_(this,Ln)),$(this,Ln,null))},yp=function(t=this.parent){_(this,wi)===null&&({id:ir(this,wi)._,clipPathId:ir(this,Wc)._}=t.drawLayer.highlight(_(this,cs),this.color,_(this,Vc)),$(this,Ln,t.drawLayer.highlightOutline(_(this,Mr))),_(this,jc)&&(_(this,jc).style.clipPath=_(this,Wc)))},Or=new WeakSet,_d=function({x:t,y:n,width:i,height:s},a){switch(a){case 90:return{x:1-n-s,y:t,width:s,height:i};case 180:return{x:1-t-i,y:1-n-s,width:i,height:s};case 270:return{x:n,y:1-t-i,width:s,height:i}}return{x:t,y:n,width:i,height:s}},CI=function(t){Lt._keyboardManager.exec(this,t)},jv=function(t){if(!_(this,vh))return;const n=window.getSelection();t?n.setPosition(_(this,vh),_(this,fm)):n.setPosition(_(this,pm),_(this,gm))},vp=function(){return _(this,pr)?this.rotation:0},SI=function(){if(_(this,pr))return null;const[t,n]=this.pageDimensions,i=_(this,tl),s=new Float32Array(i.length*8);let a=0;for(const{x:l,y:u,width:d,height:h}of i){const p=l*t,g=(1-u-h)*n;s[a]=s[a+4]=p,s[a+1]=s[a+3]=g,s[a+2]=s[a+6]=p+d*t,s[a+5]=s[a+7]=g+h*n,a+=8}return s},UI=function(t){return _(this,cs).serialize(t,Y(this,At,vp).call(this))},kI=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},RI=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Z(Lt,Or),pt(Lt,"_defaultColor",null),pt(Lt,"_defaultOpacity",1),pt(Lt,"_defaultThickness",12),pt(Lt,"_l10nPromise"),pt(Lt,"_type","highlight"),pt(Lt,"_editorType",kt.HIGHLIGHT),pt(Lt,"_freeHighlightId",-1),pt(Lt,"_freeHighlight",null),pt(Lt,"_freeHighlightClipId","");let O0=Lt;var Hc,Gc,ym,vm,bm,$c,Ls,qa,Ir,Xc,Qc,Wa,Yc,Kc,nl,je,NI,MI,II,FI,oT,LI,lT,OI,PI,BI,zI,qI,ec,cT,Vv,Hv,wd,uT,Gv,so,WI,dT,jI,VI,hT,$v,bp;const dn=class dn extends Vt{constructor(t){super({...t,name:"inkEditor"});Z(this,je);Z(this,Hc,0);Z(this,Gc,0);Z(this,ym,this.canvasPointermove.bind(this));Z(this,vm,this.canvasPointerleave.bind(this));Z(this,bm,this.canvasPointerup.bind(this));Z(this,$c,this.canvasPointerdown.bind(this));Z(this,Ls,null);Z(this,qa,new Path2D);Z(this,Ir,!1);Z(this,Xc,!1);Z(this,Qc,!1);Z(this,Wa,null);Z(this,Yc,0);Z(this,Kc,0);Z(this,nl,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,n){Vt.initialize(t,n)}static updateDefaultParams(t,n){switch(t){case ht.INK_THICKNESS:dn._defaultThickness=n;break;case ht.INK_COLOR:dn._defaultColor=n;break;case ht.INK_OPACITY:dn._defaultOpacity=n/100;break}}updateParams(t,n){switch(t){case ht.INK_THICKNESS:Y(this,je,NI).call(this,n);break;case ht.INK_COLOR:Y(this,je,MI).call(this,n);break;case ht.INK_OPACITY:Y(this,je,II).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[ht.INK_THICKNESS,dn._defaultThickness],[ht.INK_COLOR,dn._defaultColor||Vt._defaultLineColor],[ht.INK_OPACITY,Math.round(dn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[ht.INK_THICKNESS,this.thickness||dn._defaultThickness],[ht.INK_COLOR,this.color||dn._defaultColor||Vt._defaultLineColor],[ht.INK_OPACITY,Math.round(100*(this.opacity??dn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Y(this,je,Vv).call(this),Y(this,je,Hv).call(this)),this.isAttachedToDOM||(this.parent.add(this),Y(this,je,wd).call(this)),Y(this,je,bp).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,_(this,Ls)&&(clearTimeout(_(this,Ls)),$(this,Ls,null)),(t=_(this,Wa))==null||t.disconnect(),$(this,Wa,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,n]=this.parentDimensions,i=this.width*t,s=this.height*n;this.setDimensions(i,s)}enableEditMode(){_(this,Ir)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",_(this,$c),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",_(this,$c)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){_(this,Ir)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),$(this,Ir,!0),this.div.classList.add("disabled"),Y(this,je,bp).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||_(this,Ir)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),Y(this,je,LI).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),Y(this,je,lT).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),Y(this,je,cT).call(this,t)}canvasPointerleave(t){Y(this,je,cT).call(this,t)}get isResizable(){return!this.isEmpty()&&_(this,Ir)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,s,a,l]=Y(this,je,FI).call(this);if(this.setAt(i,s,0,0),this.setDims(a,l),Y(this,je,Vv).call(this),this.width){const[u,d]=this.parentDimensions;this.setAspectRatio(this.width*u,this.height*d),this.setAt(t*u,n*d,this.width*u,this.height*d),$(this,Qc,!0),Y(this,je,wd).call(this),this.setDims(this.width*u,this.height*d),Y(this,je,ec).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Y(this,je,Hv).call(this),this.div}setDimensions(t,n){const i=Math.round(t),s=Math.round(n);if(_(this,Yc)===i&&_(this,Kc)===s)return;$(this,Yc,i),$(this,Kc,s),this.canvas.style.visibility="hidden";const[a,l]=this.parentDimensions;this.width=t/a,this.height=n/l,this.fixAndSetPosition(),_(this,Ir)&&Y(this,je,uT).call(this,t,n),Y(this,je,wd).call(this),Y(this,je,ec).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,n,i){var T,D,E;if(t instanceof cI)return null;const s=super.deserialize(t,n,i);s.thickness=t.thickness,s.color=et.makeHexColor(...t.color),s.opacity=t.opacity;const[a,l]=s.pageDimensions,u=s.width*a,d=s.height*l,h=s.parentScale,p=t.thickness/2;$(s,Ir,!0),$(s,Yc,Math.round(u)),$(s,Kc,Math.round(d));const{paths:g,rect:y,rotation:v}=t;for(let{bezier:C}of g){C=Y(T=dn,so,jI).call(T,C,y,v);const R=[];s.paths.push(R);let U=h*(C[0]-p),M=h*(C[1]-p);for(let W=2,L=C.length;W<L;W+=6){const H=h*(C[W]-p),ne=h*(C[W+1]-p),F=h*(C[W+2]-p),B=h*(C[W+3]-p),N=h*(C[W+4]-p),K=h*(C[W+5]-p);R.push([[U,M],[H,ne],[F,B],[N,K]]),U=N,M=K}const O=Y(this,so,WI).call(this,R);s.bezierPath2D.push(O)}const x=Y(D=s,je,hT).call(D);return $(s,Gc,Math.max(Vt.MIN_SIZE,x[2]-x[0])),$(s,Hc,Math.max(Vt.MIN_SIZE,x[3]-x[1])),Y(E=s,je,uT).call(E,u,d),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),n=Vt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:kt.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:Y(this,je,VI).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Hc=new WeakMap,Gc=new WeakMap,ym=new WeakMap,vm=new WeakMap,bm=new WeakMap,$c=new WeakMap,Ls=new WeakMap,qa=new WeakMap,Ir=new WeakMap,Xc=new WeakMap,Qc=new WeakMap,Wa=new WeakMap,Yc=new WeakMap,Kc=new WeakMap,nl=new WeakMap,je=new WeakSet,NI=function(t){const n=s=>{this.thickness=s,Y(this,je,bp).call(this)},i=this.thickness;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ht.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},MI=function(t){const n=s=>{this.color=s,Y(this,je,ec).call(this)},i=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ht.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},II=function(t){const n=s=>{this.opacity=s,Y(this,je,ec).call(this)};t/=100;const i=this.opacity;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ht.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},FI=function(){const{parentRotation:t,parentDimensions:[n,i]}=this;switch(t){case 90:return[0,i,i,n];case 180:return[n,i,n,i];case 270:return[n,0,i,n];default:return[0,0,n,i]}},oT=function(){const{ctx:t,color:n,opacity:i,thickness:s,parentScale:a,scaleFactor:l}=this;t.lineWidth=s*a/l,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${n}${jV(i)}`},LI=function(t,n){const i=this._uiManager._signal;this.canvas.addEventListener("contextmenu",ji,{signal:i}),this.canvas.addEventListener("pointerleave",_(this,vm),{signal:i}),this.canvas.addEventListener("pointermove",_(this,ym),{signal:i}),this.canvas.addEventListener("pointerup",_(this,bm),{signal:i}),this.canvas.removeEventListener("pointerdown",_(this,$c)),this.isEditing=!0,_(this,Qc)||($(this,Qc,!0),Y(this,je,wd).call(this),this.thickness||(this.thickness=dn._defaultThickness),this.color||(this.color=dn._defaultColor||Vt._defaultLineColor),this.opacity??(this.opacity=dn._defaultOpacity)),this.currentPath.push([t,n]),$(this,Xc,!1),Y(this,je,oT).call(this),$(this,nl,()=>{Y(this,je,BI).call(this),_(this,nl)&&window.requestAnimationFrame(_(this,nl))}),window.requestAnimationFrame(_(this,nl))},lT=function(t,n){const[i,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===i&&n===s)return;const a=this.currentPath;let l=_(this,qa);if(a.push([t,n]),$(this,Xc,!0),a.length<=2){l.moveTo(...a[0]),l.lineTo(t,n);return}a.length===3&&($(this,qa,l=new Path2D),l.moveTo(...a[0])),Y(this,je,zI).call(this,l,...a.at(-3),...a.at(-2),t,n)},OI=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);_(this,qa).lineTo(...t)},PI=function(t,n){$(this,nl,null),t=Math.min(Math.max(t,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),Y(this,je,lT).call(this,t,n),Y(this,je,OI).call(this);let i;if(this.currentPath.length!==1)i=Y(this,je,qI).call(this);else{const d=[t,n];i=[[d,d.slice(),d.slice(),d]]}const s=_(this,qa),a=this.currentPath;this.currentPath=[],$(this,qa,new Path2D);const l=()=>{this.allRawPaths.push(a),this.paths.push(i),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},u=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Y(this,je,Vv).call(this),Y(this,je,Hv).call(this)),Y(this,je,bp).call(this))};this.addCommands({cmd:l,undo:u,mustExec:!0})},BI=function(){if(!_(this,Xc))return;$(this,Xc,!1);const t=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),i=n.map(l=>l[0]),s=n.map(l=>l[1]);Math.min(...i)-t,Math.max(...i)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:a}=this;a.save(),a.clearRect(0,0,this.canvas.width,this.canvas.height);for(const l of this.bezierPath2D)a.stroke(l);a.stroke(_(this,qa)),a.restore()},zI=function(t,n,i,s,a,l,u){const d=(n+s)/2,h=(i+a)/2,p=(s+l)/2,g=(a+u)/2;t.bezierCurveTo(d+2*(s-d)/3,h+2*(a-h)/3,p+2*(s-p)/3,g+2*(a-g)/3,p,g)},qI=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const n=[];let i,[s,a]=t[0];for(i=1;i<t.length-2;i++){const[y,v]=t[i],[x,T]=t[i+1],D=(y+x)/2,E=(v+T)/2,C=[s+2*(y-s)/3,a+2*(v-a)/3],R=[D+2*(y-D)/3,E+2*(v-E)/3];n.push([[s,a],C,R,[D,E]]),[s,a]=[D,E]}const[l,u]=t[i],[d,h]=t[i+1],p=[s+2*(l-s)/3,a+2*(u-a)/3],g=[d+2*(l-d)/3,h+2*(u-h)/3];return n.push([[s,a],p,g,[d,h]]),n},ec=function(){if(this.isEmpty()){Y(this,je,Gv).call(this);return}Y(this,je,oT).call(this);const{canvas:t,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height),Y(this,je,Gv).call(this);for(const i of this.bezierPath2D)n.stroke(i)},cT=function(t){this.canvas.removeEventListener("pointerleave",_(this,vm)),this.canvas.removeEventListener("pointermove",_(this,ym)),this.canvas.removeEventListener("pointerup",_(this,bm)),this.canvas.addEventListener("pointerdown",_(this,$c),{signal:this._uiManager._signal}),_(this,Ls)&&clearTimeout(_(this,Ls)),$(this,Ls,setTimeout(()=>{$(this,Ls,null),this.canvas.removeEventListener("contextmenu",ji)},10)),Y(this,je,PI).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Vv=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Hv=function(){$(this,Wa,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),_(this,Wa).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=_(this,Wa))==null||t.disconnect(),$(this,Wa,null)},{once:!0})},wd=function(){if(!_(this,Qc))return;const[t,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*n),Y(this,je,Gv).call(this)},uT=function(t,n){const i=Y(this,je,$v).call(this),s=(t-i)/_(this,Gc),a=(n-i)/_(this,Hc);this.scaleFactor=Math.min(s,a)},Gv=function(){const t=Y(this,je,$v).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},so=new WeakSet,WI=function(t){const n=new Path2D;for(let i=0,s=t.length;i<s;i++){const[a,l,u,d]=t[i];i===0&&n.moveTo(...a),n.bezierCurveTo(l[0],l[1],u[0],u[1],d[0],d[1])}return n},dT=function(t,n,i){const[s,a,l,u]=n;switch(i){case 0:for(let d=0,h=t.length;d<h;d+=2)t[d]+=s,t[d+1]=u-t[d+1];break;case 90:for(let d=0,h=t.length;d<h;d+=2){const p=t[d];t[d]=t[d+1]+s,t[d+1]=p+a}break;case 180:for(let d=0,h=t.length;d<h;d+=2)t[d]=l-t[d],t[d+1]+=a;break;case 270:for(let d=0,h=t.length;d<h;d+=2){const p=t[d];t[d]=l-t[d+1],t[d+1]=u-p}break;default:throw new Error("Invalid rotation")}return t},jI=function(t,n,i){const[s,a,l,u]=n;switch(i){case 0:for(let d=0,h=t.length;d<h;d+=2)t[d]-=s,t[d+1]=u-t[d+1];break;case 90:for(let d=0,h=t.length;d<h;d+=2){const p=t[d];t[d]=t[d+1]-a,t[d+1]=p-s}break;case 180:for(let d=0,h=t.length;d<h;d+=2)t[d]=l-t[d],t[d+1]-=a;break;case 270:for(let d=0,h=t.length;d<h;d+=2){const p=t[d];t[d]=u-t[d+1],t[d+1]=l-p}break;default:throw new Error("Invalid rotation")}return t},VI=function(t,n,i,s){var h,p;const a=[],l=this.thickness/2,u=t*n+l,d=t*i+l;for(const g of this.paths){const y=[],v=[];for(let x=0,T=g.length;x<T;x++){const[D,E,C,R]=g[x];if(D[0]===R[0]&&D[1]===R[1]&&T===1){const B=t*D[0]+u,N=t*D[1]+d;y.push(B,N),v.push(B,N);break}const U=t*D[0]+u,M=t*D[1]+d,O=t*E[0]+u,W=t*E[1]+d,L=t*C[0]+u,H=t*C[1]+d,ne=t*R[0]+u,F=t*R[1]+d;x===0&&(y.push(U,M),v.push(U,M)),y.push(O,W,L,H,ne,F),v.push(O,W),x===T-1&&v.push(ne,F)}a.push({bezier:Y(h=dn,so,dT).call(h,y,s,this.rotation),points:Y(p=dn,so,dT).call(p,v,s,this.rotation)})}return a},hT=function(){let t=1/0,n=-1/0,i=1/0,s=-1/0;for(const a of this.paths)for(const[l,u,d,h]of a){const p=et.bezierBoundingBox(...l,...u,...d,...h);t=Math.min(t,p[0]),i=Math.min(i,p[1]),n=Math.max(n,p[2]),s=Math.max(s,p[3])}return[t,i,n,s]},$v=function(){return _(this,Ir)?Math.ceil(this.thickness*this.parentScale):0},bp=function(t=!1){if(this.isEmpty())return;if(!_(this,Ir)){Y(this,je,ec).call(this);return}const n=Y(this,je,hT).call(this),i=Y(this,je,$v).call(this);$(this,Gc,Math.max(Vt.MIN_SIZE,n[2]-n[0])),$(this,Hc,Math.max(Vt.MIN_SIZE,n[3]-n[1]));const s=Math.ceil(i+_(this,Gc)*this.scaleFactor),a=Math.ceil(i+_(this,Hc)*this.scaleFactor),[l,u]=this.parentDimensions;this.width=s/l,this.height=a/u,this.setAspectRatio(s,a);const d=this.translationX,h=this.translationY;this.translationX=-n[0],this.translationY=-n[1],Y(this,je,wd).call(this),Y(this,je,ec).call(this),$(this,Yc,s),$(this,Kc,a),this.setDims(s,a);const p=t?i/this.scaleFactor/2:0;this.translate(d-this.translationX-p,h-this.translationY-p)},Z(dn,so),pt(dn,"_defaultColor",null),pt(dn,"_defaultOpacity",1),pt(dn,"_defaultThickness",1),pt(dn,"_type","ink"),pt(dn,"_editorType",kt.INK);let aT=dn;var ai,oi,il,ja,rl,wh,Os,Va,Ps,us,xm,It,xp,_p,Xv,pT,HI,GI,gT,Qv,$I;const Rp=class Rp extends Vt{constructor(t){super({...t,name:"stampEditor"});Z(this,It);Z(this,ai,null);Z(this,oi,null);Z(this,il,null);Z(this,ja,null);Z(this,rl,null);Z(this,wh,"");Z(this,Os,null);Z(this,Va,null);Z(this,Ps,null);Z(this,us,!1);Z(this,xm,!1);$(this,ja,t.bitmapUrl),$(this,rl,t.bitmapFile)}static initialize(t,n){Vt.initialize(t,n)}static get supportedTypes(){return Rt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Rt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,n){n.pasteEditor(kt.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,n;_(this,oi)&&($(this,ai,null),this._uiManager.imageManager.deleteId(_(this,oi)),(t=_(this,Os))==null||t.remove(),$(this,Os,null),(n=_(this,Va))==null||n.disconnect(),$(this,Va,null),_(this,Ps)&&(clearTimeout(_(this,Ps)),$(this,Ps,null))),super.remove()}rebuild(){if(!this.parent){_(this,oi)&&Y(this,It,Xv).call(this);return}super.rebuild(),this.div!==null&&(_(this,oi)&&_(this,Os)===null&&Y(this,It,Xv).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(_(this,il)||_(this,ai)||_(this,ja)||_(this,rl)||_(this,oi))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;if(this.width&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),_(this,ai)?Y(this,It,pT).call(this):Y(this,It,Xv).call(this),this.width){const[i,s]=this.parentDimensions;this.setAt(t*i,n*s,this.width*i,this.height*s)}return this.div}getImageForAltText(){return _(this,Os)}static deserialize(t,n,i){if(t instanceof uI)return null;const s=super.deserialize(t,n,i),{rect:a,bitmapUrl:l,bitmapId:u,isSvg:d,accessibilityData:h}=t;u&&i.imageManager.isValidId(u)?$(s,oi,u):$(s,ja,l),$(s,us,d);const[p,g]=s.pageDimensions;return s.width=(a[2]-a[0])/p,s.height=(a[3]-a[1])/g,h&&(s.altTextData=h),s}serialize(t=!1,n=null){if(this.isEmpty())return null;const i={annotationType:kt.STAMP,bitmapId:_(this,oi),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:_(this,us),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=Y(this,It,Qv).call(this,!0),i.accessibilityData=this.altTextData,i;const{decorative:s,altText:a}=this.altTextData;if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),n===null)return i;n.stamps||(n.stamps=new Map);const l=_(this,us)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(_(this,oi)))n.stamps.set(_(this,oi),{area:l,serialized:i}),i.bitmap=Y(this,It,Qv).call(this,!1);else if(_(this,us)){const u=n.stamps.get(_(this,oi));l>u.area&&(u.area=l,u.serialized.bitmap.close(),u.serialized.bitmap=Y(this,It,Qv).call(this,!1))}return i}};ai=new WeakMap,oi=new WeakMap,il=new WeakMap,ja=new WeakMap,rl=new WeakMap,wh=new WeakMap,Os=new WeakMap,Va=new WeakMap,Ps=new WeakMap,us=new WeakMap,xm=new WeakMap,It=new WeakSet,xp=function(t,n=!1){if(!t){this.remove();return}$(this,ai,t.bitmap),n||($(this,oi,t.id),$(this,us,t.isSvg)),t.file&&$(this,wh,t.file.name),Y(this,It,pT).call(this)},_p=function(){$(this,il,null),this._uiManager.enableWaiting(!1),_(this,Os)&&this.div.focus()},Xv=function(){if(_(this,oi)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(_(this,oi)).then(i=>Y(this,It,xp).call(this,i,!0)).finally(()=>Y(this,It,_p).call(this));return}if(_(this,ja)){const i=_(this,ja);$(this,ja,null),this._uiManager.enableWaiting(!0),$(this,il,this._uiManager.imageManager.getFromUrl(i).then(s=>Y(this,It,xp).call(this,s)).finally(()=>Y(this,It,_p).call(this)));return}if(_(this,rl)){const i=_(this,rl);$(this,rl,null),this._uiManager.enableWaiting(!0),$(this,il,this._uiManager.imageManager.getFromFile(i).then(s=>Y(this,It,xp).call(this,s)).finally(()=>Y(this,It,_p).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Rp.supportedTypesStr;const n=this._uiManager._signal;$(this,il,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);Y(this,It,xp).call(this,s)}i()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>Y(this,It,_p).call(this))),t.click()},pT=function(){const{div:t}=this;let{width:n,height:i}=_(this,ai);const[s,a]=this.pageDimensions,l=.75;if(this.width)n=this.width*s,i=this.height*a;else if(n>l*s||i>l*a){const p=Math.min(l*s/n,l*a/i);n*=p,i*=p}const[u,d]=this.parentDimensions;this.setDims(n*u/s,i*d/a),this._uiManager.enableWaiting(!1);const h=$(this,Os,document.createElement("canvas"));t.append(h),t.hidden=!1,Y(this,It,gT).call(this,n,i),Y(this,It,$I).call(this),_(this,xm)||(this.parent.addUndoableEditor(this),$(this,xm,!0)),this._reportTelemetry({action:"inserted_image"}),_(this,wh)&&h.setAttribute("aria-label",_(this,wh))},HI=function(t,n){var l;const[i,s]=this.parentDimensions;this.width=t/i,this.height=n/s,this.setDims(t,n),(l=this._initialOptions)!=null&&l.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,_(this,Ps)!==null&&clearTimeout(_(this,Ps)),$(this,Ps,setTimeout(()=>{$(this,Ps,null),Y(this,It,gT).call(this,t,n)},200))},GI=function(t,n){const{width:i,height:s}=_(this,ai);let a=i,l=s,u=_(this,ai);for(;a>2*t||l>2*n;){const d=a,h=l;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),l>2*n&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const p=new OffscreenCanvas(a,l);p.getContext("2d").drawImage(u,0,0,d,h,0,0,a,l),u=p.transferToImageBitmap()}return u},gT=function(t,n){t=Math.ceil(t),n=Math.ceil(n);const i=_(this,Os);if(!i||i.width===t&&i.height===n)return;i.width=t,i.height=n;const s=_(this,us)?_(this,ai):Y(this,It,GI).call(this,t,n);if(this._uiManager.hasMLManager&&!this.hasAltText()){const u=new OffscreenCanvas(t,n).getContext("2d");u.drawImage(s,0,0,s.width,s.height,0,0,t,n),this._uiManager.mlGuess({service:"image-to-text",request:{data:u.getImageData(0,0,t,n).data,width:t,height:n,channels:4}}).then(d=>{const h=(d==null?void 0:d.output)||"";this.parent&&h&&!this.hasAltText()&&(this.altTextData={altText:h,decorative:!1})})}const a=i.getContext("2d");a.filter=this._uiManager.hcmFilter,a.drawImage(s,0,0,s.width,s.height,0,0,t,n)},Qv=function(t){if(t){if(_(this,us)){const s=this._uiManager.imageManager.getSvgUrl(_(this,oi));if(s)return s}const n=document.createElement("canvas");return{width:n.width,height:n.height}=_(this,ai),n.getContext("2d").drawImage(_(this,ai),0,0),n.toDataURL()}if(_(this,us)){const[n,i]=this.pageDimensions,s=Math.round(this.width*n*fl.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*fl.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(s,a);return l.getContext("2d").drawImage(_(this,ai),0,0,_(this,ai).width,_(this,ai).height,0,0,s,a),l.transferToImageBitmap()}return structuredClone(_(this,ai))},$I=function(){this._uiManager._signal&&($(this,Va,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&Y(this,It,HI).call(this,n.width,n.height)})),_(this,Va).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=_(this,Va))==null||t.disconnect(),$(this,Va,null)},{once:!0}))},pt(Rp,"_type","stamp"),pt(Rp,"_editorType",kt.STAMP);let fT=Rp;var Zc,Th,Bs,Jc,Ha,Ga,$a,gr,sl,Dh,Ah,Ti,nt,al,ci,XI,yT,vT,bT,Yv;const Yr=class Yr{constructor({uiManager:e,pageIndex:t,div:n,accessibilityManager:i,annotationLayer:s,drawLayer:a,textLayer:l,viewport:u,l10n:d}){Z(this,ci);Z(this,Zc);Z(this,Th,!1);Z(this,Bs,null);Z(this,Jc,null);Z(this,Ha,null);Z(this,Ga,null);Z(this,$a,null);Z(this,gr,new Map);Z(this,sl,!1);Z(this,Dh,!1);Z(this,Ah,!1);Z(this,Ti,null);Z(this,nt);const h=[..._(Yr,al).values()];if(!Yr._initialized){Yr._initialized=!0;for(const p of h)p.initialize(d,e)}e.registerEditorTypes(h),$(this,nt,e),this.pageIndex=t,this.div=n,$(this,Zc,i),$(this,Bs,s),this.viewport=u,$(this,Ti,l),this.drawLayer=a,_(this,nt).addLayer(this)}get isEmpty(){return _(this,gr).size===0}get isInvisible(){return this.isEmpty&&_(this,nt).getMode()===kt.NONE}updateToolbar(e){_(this,nt).updateToolbar(e)}updateMode(e=_(this,nt).getMode()){switch(Y(this,ci,Yv).call(this),e){case kt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case kt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case kt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of _(Yr,al).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=_(this,Ti))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(_(this,nt).getMode()!==kt.INK)return;if(!e){for(const n of _(this,gr).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){_(this,nt).setEditingState(e)}addCommands(e){_(this,nt).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=_(this,Bs))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of _(this,gr).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(_(this,nt).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!_(this,Bs))return;const t=_(this,Bs).getEditableAnnotations();for(const n of t){if(n.hide(),_(this,nt).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const i=this.deserialize(n);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;$(this,Ah,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of _(this,gr).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(_(this,Bs)){const s=_(this,Bs).getEditableAnnotations();for(const a of s){const{id:l}=a.data;if(_(this,nt).isDeletedAnnotationElement(l))continue;let u=t.get(l);if(u){u.resetAnnotationElement(a),u.show(!1),a.show();continue}u=e.get(l),u&&(_(this,nt).addChangedExistingAnnotation(u),u.renderAnnotationElement(a),u.show(!1)),a.show()}}Y(this,ci,Yv).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const s of _(Yr,al).values())n.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),$(this,Ah,!1)}getEditableAnnotation(e){var t;return((t=_(this,Bs))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){_(this,nt).getActive()!==e&&_(this,nt).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=_(this,Ti))!=null&&e.div&&!_(this,Ga)&&($(this,Ga,Y(this,ci,XI).bind(this)),_(this,Ti).div.addEventListener("pointerdown",_(this,Ga),{signal:_(this,nt)._signal}),_(this,Ti).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=_(this,Ti))!=null&&e.div&&_(this,Ga)&&(_(this,Ti).div.removeEventListener("pointerdown",_(this,Ga)),$(this,Ga,null),_(this,Ti).div.classList.remove("highlighting"))}enableClick(){if(_(this,Ha))return;const e=_(this,nt)._signal;$(this,Ha,this.pointerdown.bind(this)),$(this,Jc,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",_(this,Ha),{signal:e}),this.div.addEventListener("pointerup",_(this,Jc),{signal:e})}disableClick(){_(this,Ha)&&(this.div.removeEventListener("pointerdown",_(this,Ha)),this.div.removeEventListener("pointerup",_(this,Jc)),$(this,Ha,null),$(this,Jc,null))}attach(e){_(this,gr).set(e.id,e);const{annotationElementId:t}=e;t&&_(this,nt).isDeletedAnnotationElement(t)&&_(this,nt).removeDeletedAnnotationElement(e)}detach(e){var t;_(this,gr).delete(e.id),(t=_(this,Zc))==null||t.removePointerInTextLayer(e.contentDiv),!_(this,Ah)&&e.annotationElementId&&_(this,nt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),_(this,nt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,_(this,Dh)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(_(this,nt).addDeletedAnnotationElement(e.annotationElementId),Vt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),_(this,nt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),_(this,nt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!_(this,$a)&&(e._focusEventsAllowed=!1,$(this,$a,setTimeout(()=>{$(this,$a,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:_(this,nt)._signal}),t.focus())},0))),e._structTreeParentId=(n=_(this,Zc))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return _(this,nt).getId()}get _signal(){return _(this,nt)._signal}canCreateNewEmptyEditor(){var e;return(e=_(this,ci,yT))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){_(this,nt).updateToolbar(e),_(this,nt).updateMode(e);const{offsetX:n,offsetY:i}=Y(this,ci,bT).call(this),s=this.getNextId(),a=Y(this,ci,vT).call(this,{parent:this,id:s,x:n,y:i,uiManager:_(this,nt),isCentered:!0,...t});a&&this.add(a)}deserialize(e){var t;return((t=_(Yr,al).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,_(this,nt)))||null}createAndAddNewEditor(e,t,n={}){const i=this.getNextId(),s=Y(this,ci,vT).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:_(this,nt),isCentered:t,...n});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(Y(this,ci,bT).call(this),!0)}setSelected(e){_(this,nt).setSelected(e)}toggleSelected(e){_(this,nt).toggleSelected(e)}isSelected(e){return _(this,nt).isSelected(e)}unselect(e){_(this,nt).unselect(e)}pointerup(e){const{isMac:t}=qi.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&_(this,sl)){if($(this,sl,!1),!_(this,Th)){$(this,Th,!0);return}if(_(this,nt).getMode()===kt.STAMP){_(this,nt).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(_(this,nt).getMode()===kt.HIGHLIGHT&&this.enableTextSelection(),_(this,sl)){$(this,sl,!1);return}const{isMac:t}=qi.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;$(this,sl,!0);const n=_(this,nt).getActive();$(this,Th,!n||n.isEmpty())}findNewParent(e,t,n){const i=_(this,nt).findParent(t,n);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,t;((e=_(this,nt).getActive())==null?void 0:e.parent)===this&&(_(this,nt).commitOrRemove(),_(this,nt).setActiveEditor(null)),_(this,$a)&&(clearTimeout(_(this,$a)),$(this,$a,null));for(const n of _(this,gr).values())(t=_(this,Zc))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,_(this,gr).clear(),_(this,nt).removeLayer(this)}render({viewport:e}){this.viewport=e,au(this.div,e);for(const t of _(this,nt).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){_(this,nt).commitOrRemove(),Y(this,ci,Yv).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,au(this.div,{rotation:n}),t!==n)for(const i of _(this,gr).values())i.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return _(this,nt).viewParameters.realScale}};Zc=new WeakMap,Th=new WeakMap,Bs=new WeakMap,Jc=new WeakMap,Ha=new WeakMap,Ga=new WeakMap,$a=new WeakMap,gr=new WeakMap,sl=new WeakMap,Dh=new WeakMap,Ah=new WeakMap,Ti=new WeakMap,nt=new WeakMap,al=new WeakMap,ci=new WeakSet,XI=function(e){if(_(this,nt).unselectAll(),e.target===_(this,Ti).div){const{isMac:t}=qi.platform;if(e.button!==0||e.ctrlKey&&t)return;_(this,nt).showAllEditors("highlight",!0,!0),_(this,Ti).div.classList.add("free"),O0.startHighlighting(this,_(this,nt).direction==="ltr",e),_(this,Ti).div.addEventListener("pointerup",()=>{_(this,Ti).div.classList.remove("free")},{once:!0,signal:_(this,nt)._signal}),e.preventDefault()}},yT=function(){return _(Yr,al).get(_(this,nt).getMode())},vT=function(e){const t=_(this,ci,yT);return t?new t.prototype.constructor(e):null},bT=function(){const{x:e,y:t,width:n,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),a=Math.max(0,t),l=Math.min(window.innerWidth,e+n),u=Math.min(window.innerHeight,t+i),d=(s+l)/2-e,h=(a+u)/2-t,[p,g]=this.viewport.rotation%180===0?[d,h]:[h,d];return{offsetX:p,offsetY:g}},Yv=function(){$(this,Dh,!0);for(const e of _(this,gr).values())e.isEmpty()&&e.remove();$(this,Dh,!1)},pt(Yr,"_initialized",!1),Z(Yr,al,new Map([Qw,aT,fT,O0].map(e=>[e._editorType,e])));let mT=Yr;var zs,_m,On,ol,wm,_T,du,wT,QI;const ti=class ti{constructor({pageIndex:e}){Z(this,du);Z(this,zs,null);Z(this,_m,0);Z(this,On,new Map);Z(this,ol,new Map);this.pageIndex=e}setParent(e){if(!_(this,zs)){$(this,zs,e);return}if(_(this,zs)!==e){if(_(this,On).size>0)for(const t of _(this,On).values())t.remove(),e.append(t);$(this,zs,e)}}static get _svgFactory(){return Rt(this,"_svgFactory",new ZT)}highlight(e,t,n,i=!1){const s=ir(this,_m)._++,a=Y(this,du,wT).call(this,e.box);a.classList.add("highlight"),e.free&&a.classList.add("free");const l=ti._svgFactory.createElement("defs");a.append(l);const u=ti._svgFactory.createElement("path");l.append(u);const d=`path_p${this.pageIndex}_${s}`;u.setAttribute("id",d),u.setAttribute("d",e.toSVGPath()),i&&_(this,ol).set(s,u);const h=Y(this,du,QI).call(this,l,d),p=ti._svgFactory.createElement("use");return a.append(p),a.setAttribute("fill",t),a.setAttribute("fill-opacity",n),p.setAttribute("href",`#${d}`),_(this,On).set(s,a),{id:s,clipPathId:`url(#${h})`}}highlightOutline(e){const t=ir(this,_m)._++,n=Y(this,du,wT).call(this,e.box);n.classList.add("highlightOutline");const i=ti._svgFactory.createElement("defs");n.append(i);const s=ti._svgFactory.createElement("path");i.append(s);const a=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",a),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let l;if(e.free){n.classList.add("free");const h=ti._svgFactory.createElement("mask");i.append(h),l=`mask_p${this.pageIndex}_${t}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const p=ti._svgFactory.createElement("rect");h.append(p),p.setAttribute("width","1"),p.setAttribute("height","1"),p.setAttribute("fill","white");const g=ti._svgFactory.createElement("use");h.append(g),g.setAttribute("href",`#${a}`),g.setAttribute("stroke","none"),g.setAttribute("fill","black"),g.setAttribute("fill-rule","nonzero"),g.classList.add("mask")}const u=ti._svgFactory.createElement("use");n.append(u),u.setAttribute("href",`#${a}`),l&&u.setAttribute("mask",`url(#${l})`);const d=u.cloneNode();return n.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),_(this,On).set(t,n),t}finalizeLine(e,t){const n=_(this,ol).get(e);_(this,ol).delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){_(this,On).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),_(this,ol).delete(e)}updatePath(e,t){_(this,ol).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var n;Y(n=ti,wm,_T).call(n,_(this,On).get(e),t)}show(e,t){_(this,On).get(e).classList.toggle("hidden",!t)}rotate(e,t){_(this,On).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){_(this,On).get(e).setAttribute("fill",t)}changeOpacity(e,t){_(this,On).get(e).setAttribute("fill-opacity",t)}addClass(e,t){_(this,On).get(e).classList.add(t)}removeClass(e,t){_(this,On).get(e).classList.remove(t)}remove(e){_(this,zs)!==null&&(_(this,On).get(e).remove(),_(this,On).delete(e))}destroy(){$(this,zs,null);for(const e of _(this,On).values())e.remove();_(this,On).clear()}};zs=new WeakMap,_m=new WeakMap,On=new WeakMap,ol=new WeakMap,wm=new WeakSet,_T=function(e,{x:t=0,y:n=0,width:i=1,height:s=1}={}){const{style:a}=e;a.top=`${100*n}%`,a.left=`${100*t}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},du=new WeakSet,wT=function(e){var n;const t=ti._svgFactory.create(1,1,!0);return _(this,zs).append(t),t.setAttribute("aria-hidden",!0),Y(n=ti,wm,_T).call(n,t,e),t},QI=function(e,t){const n=ti._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const s=ti._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},Z(ti,wm);let xT=ti;ct.AbortException;ct.AnnotationEditorLayer;ct.AnnotationEditorParamsType;ct.AnnotationEditorType;ct.AnnotationEditorUIManager;ct.AnnotationLayer;ct.AnnotationMode;ct.CMapCompressionType;ct.ColorPicker;ct.DOMSVGFactory;ct.DrawLayer;ct.FeatureTest;var xG=ct.GlobalWorkerOptions;ct.ImageKind;ct.InvalidPDFException;ct.MissingPDFException;ct.OPS;ct.Outliner;ct.PDFDataRangeTransport;ct.PDFDateString;ct.PDFWorker;ct.PasswordResponses;ct.PermissionFlag;ct.PixelsPerInch;ct.RenderingCancelledException;ct.TextLayer;ct.UnexpectedResponseException;ct.Util;ct.VerbosityLevel;ct.XfaLayer;ct.build;ct.createValidAbsoluteUrl;ct.fetchData;var _G=ct.getDocument;ct.getFilenameFromUrl;ct.getPdfFilenameFromUrl;ct.getXfaPageViewport;ct.isDataScheme;ct.isPdfFile;ct.noContextMenu;ct.normalizeUnicode;ct.renderTextLayer;ct.setLayerDimensions;ct.shadow;ct.updateTextLayer;ct.version;var Ur={},aD="1.13.7",r3=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Eb=Array.prototype,oD=Object.prototype,s3=typeof Symbol<"u"?Symbol.prototype:null,wG=Eb.push,Nm=Eb.slice,Pp=oD.toString,TG=oD.hasOwnProperty,YI=typeof ArrayBuffer<"u",DG=typeof DataView<"u",AG=Array.isArray,a3=Object.keys,o3=Object.create,l3=YI&&ArrayBuffer.isView,EG=isNaN,CG=isFinite,KI=!{toString:null}.propertyIsEnumerable("toString"),c3=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],SG=Math.pow(2,53)-1;function Si(r,e){return e=e==null?r.length-1:+e,function(){for(var t=Math.max(arguments.length-e,0),n=Array(t),i=0;i<t;i++)n[i]=arguments[i+e];switch(e){case 0:return r.call(this,n);case 1:return r.call(this,arguments[0],n);case 2:return r.call(this,arguments[0],arguments[1],n)}var s=Array(e+1);for(i=0;i<e;i++)s[i]=arguments[i];return s[e]=n,r.apply(this,s)}}function _l(r){var e=typeof r;return e==="function"||e==="object"&&!!r}function ZI(r){return r===null}function lD(r){return r===void 0}function cD(r){return r===!0||r===!1||Pp.call(r)==="[object Boolean]"}function JI(r){return!!(r&&r.nodeType===1)}function bi(r){var e="[object "+r+"]";return function(t){return Pp.call(t)===e}}const Cb=bi("String"),uD=bi("Number"),eF=bi("Date"),tF=bi("RegExp"),nF=bi("Error"),dD=bi("Symbol"),hD=bi("ArrayBuffer");var iF=bi("Function"),UG=r3.document&&r3.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof UG!="function"&&(iF=function(r){return typeof r=="function"||!1});const vi=iF,rF=bi("Object");var sF=DG&&(!/\[native code\]/.test(String(DataView))||rF(new DataView(new ArrayBuffer(8)))),fD=typeof Map<"u"&&rF(new Map),kG=bi("DataView");function RG(r){return r!=null&&vi(r.getInt8)&&hD(r.buffer)}const Bp=sF?RG:kG,wl=AG||bi("Array");function Tl(r,e){return r!=null&&TG.call(r,e)}var TT=bi("Arguments");(function(){TT(arguments)||(TT=function(r){return Tl(r,"callee")})})();const Sb=TT;function aF(r){return!dD(r)&&CG(r)&&!isNaN(parseFloat(r))}function pD(r){return uD(r)&&EG(r)}function gD(r){return function(){return r}}function oF(r){return function(e){var t=r(e);return typeof t=="number"&&t>=0&&t<=SG}}function lF(r){return function(e){return e==null?void 0:e[r]}}const P0=lF("byteLength"),NG=oF(P0);var MG=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function IG(r){return l3?l3(r)&&!Bp(r):NG(r)&&MG.test(Pp.call(r))}const mD=YI?IG:gD(!1),Vi=lF("length");function FG(r){for(var e={},t=r.length,n=0;n<t;++n)e[r[n]]=!0;return{contains:function(i){return e[i]===!0},push:function(i){return e[i]=!0,r.push(i)}}}function cF(r,e){e=FG(e);var t=c3.length,n=r.constructor,i=vi(n)&&n.prototype||oD,s="constructor";for(Tl(r,s)&&!e.contains(s)&&e.push(s);t--;)s=c3[t],s in r&&r[s]!==i[s]&&!e.contains(s)&&e.push(s)}function Bn(r){if(!_l(r))return[];if(a3)return a3(r);var e=[];for(var t in r)Tl(r,t)&&e.push(t);return KI&&cF(r,e),e}function uF(r){if(r==null)return!0;var e=Vi(r);return typeof e=="number"&&(wl(r)||Cb(r)||Sb(r))?e===0:Vi(Bn(r))===0}function yD(r,e){var t=Bn(e),n=t.length;if(r==null)return!n;for(var i=Object(r),s=0;s<n;s++){var a=t[s];if(e[a]!==i[a]||!(a in i))return!1}return!0}function Ot(r){if(r instanceof Ot)return r;if(!(this instanceof Ot))return new Ot(r);this._wrapped=r}Ot.VERSION=aD;Ot.prototype.value=function(){return this._wrapped};Ot.prototype.valueOf=Ot.prototype.toJSON=Ot.prototype.value;Ot.prototype.toString=function(){return String(this._wrapped)};function u3(r){return new Uint8Array(r.buffer||r,r.byteOffset||0,P0(r))}var d3="[object DataView]";function DT(r,e,t,n){if(r===e)return r!==0||1/r===1/e;if(r==null||e==null)return!1;if(r!==r)return e!==e;var i=typeof r;return i!=="function"&&i!=="object"&&typeof e!="object"?!1:dF(r,e,t,n)}function dF(r,e,t,n){r instanceof Ot&&(r=r._wrapped),e instanceof Ot&&(e=e._wrapped);var i=Pp.call(r);if(i!==Pp.call(e))return!1;if(sF&&i=="[object Object]"&&Bp(r)){if(!Bp(e))return!1;i=d3}switch(i){case"[object RegExp]":case"[object String]":return""+r==""+e;case"[object Number]":return+r!=+r?+e!=+e:+r==0?1/+r===1/e:+r==+e;case"[object Date]":case"[object Boolean]":return+r==+e;case"[object Symbol]":return s3.valueOf.call(r)===s3.valueOf.call(e);case"[object ArrayBuffer]":case d3:return dF(u3(r),u3(e),t,n)}var s=i==="[object Array]";if(!s&&mD(r)){var a=P0(r);if(a!==P0(e))return!1;if(r.buffer===e.buffer&&r.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if(typeof r!="object"||typeof e!="object")return!1;var l=r.constructor,u=e.constructor;if(l!==u&&!(vi(l)&&l instanceof l&&vi(u)&&u instanceof u)&&"constructor"in r&&"constructor"in e)return!1}t=t||[],n=n||[];for(var d=t.length;d--;)if(t[d]===r)return n[d]===e;if(t.push(r),n.push(e),s){if(d=r.length,d!==e.length)return!1;for(;d--;)if(!DT(r[d],e[d],t,n))return!1}else{var h=Bn(r),p;if(d=h.length,Bn(e).length!==d)return!1;for(;d--;)if(p=h[d],!(Tl(e,p)&&DT(r[p],e[p],t,n)))return!1}return t.pop(),n.pop(),!0}function hF(r,e){return DT(r,e)}function Bh(r){if(!_l(r))return[];var e=[];for(var t in r)e.push(t);return KI&&cF(r,e),e}function vD(r){var e=Vi(r);return function(t){if(t==null)return!1;var n=Bh(t);if(Vi(n))return!1;for(var i=0;i<e;i++)if(!vi(t[r[i]]))return!1;return r!==gF||!vi(t[bD])}}var bD="forEach",fF="has",xD=["clear","delete"],pF=["get",fF,"set"],LG=xD.concat(bD,pF),gF=xD.concat(pF),OG=["add"].concat(xD,bD,fF);const mF=fD?vD(LG):bi("Map"),yF=fD?vD(gF):bi("WeakMap"),vF=fD?vD(OG):bi("Set"),bF=bi("WeakSet");function mu(r){for(var e=Bn(r),t=e.length,n=Array(t),i=0;i<t;i++)n[i]=r[e[i]];return n}function xF(r){for(var e=Bn(r),t=e.length,n=Array(t),i=0;i<t;i++)n[i]=[e[i],r[e[i]]];return n}function _D(r){for(var e={},t=Bn(r),n=0,i=t.length;n<i;n++)e[r[t[n]]]=t[n];return e}function zp(r){var e=[];for(var t in r)vi(r[t])&&e.push(t);return e.sort()}function wD(r,e){return function(t){var n=arguments.length;if(e&&(t=Object(t)),n<2||t==null)return t;for(var i=1;i<n;i++)for(var s=arguments[i],a=r(s),l=a.length,u=0;u<l;u++){var d=a[u];(!e||t[d]===void 0)&&(t[d]=s[d])}return t}}const TD=wD(Bh),Mh=wD(Bn),DD=wD(Bh,!0);function PG(){return function(){}}function _F(r){if(!_l(r))return{};if(o3)return o3(r);var e=PG();e.prototype=r;var t=new e;return e.prototype=null,t}function wF(r,e){var t=_F(r);return e&&Mh(t,e),t}function TF(r){return _l(r)?wl(r)?r.slice():TD({},r):r}function DF(r,e){return e(r),r}function AD(r){return wl(r)?r:[r]}Ot.toPath=AD;function Mm(r){return Ot.toPath(r)}function ED(r,e){for(var t=e.length,n=0;n<t;n++){if(r==null)return;r=r[e[n]]}return t?r:void 0}function CD(r,e,t){var n=ED(r,Mm(e));return lD(n)?t:n}function AF(r,e){e=Mm(e);for(var t=e.length,n=0;n<t;n++){var i=e[n];if(!Tl(r,i))return!1;r=r[i]}return!!t}function Ub(r){return r}function cu(r){return r=Mh({},r),function(e){return yD(e,r)}}function kb(r){return r=Mm(r),function(e){return ED(e,r)}}function Im(r,e,t){if(e===void 0)return r;switch(t??3){case 1:return function(n){return r.call(e,n)};case 3:return function(n,i,s){return r.call(e,n,i,s)};case 4:return function(n,i,s,a){return r.call(e,n,i,s,a)}}return function(){return r.apply(e,arguments)}}function EF(r,e,t){return r==null?Ub:vi(r)?Im(r,e,t):_l(r)&&!wl(r)?cu(r):kb(r)}function Rb(r,e){return EF(r,e,1/0)}Ot.iteratee=Rb;function Gi(r,e,t){return Ot.iteratee!==Rb?Ot.iteratee(r,e):EF(r,e,t)}function CF(r,e,t){e=Gi(e,t);for(var n=Bn(r),i=n.length,s={},a=0;a<i;a++){var l=n[a];s[l]=e(r[l],l,r)}return s}function SD(){}function SF(r){return r==null?SD:function(e){return CD(r,e)}}function UF(r,e,t){var n=Array(Math.max(0,r));e=Im(e,t,1);for(var i=0;i<r;i++)n[i]=e(i);return n}function B0(r,e){return e==null&&(e=r,r=0),r+Math.floor(Math.random()*(e-r+1))}const Ih=Date.now||function(){return new Date().getTime()};function kF(r){var e=function(s){return r[s]},t="(?:"+Bn(r).join("|")+")",n=RegExp(t),i=RegExp(t,"g");return function(s){return s=s==null?"":""+s,n.test(s)?s.replace(i,e):s}}const RF={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},NF=kF(RF),BG=_D(RF),MF=kF(BG),IF=Ot.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var A2=/(.)^/,zG={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},qG=/\\|'|\r|\n|\u2028|\u2029/g;function WG(r){return"\\"+zG[r]}var jG=/^\s*(\w|\$)+\s*$/;function FF(r,e,t){!e&&t&&(e=t),e=DD({},e,Ot.templateSettings);var n=RegExp([(e.escape||A2).source,(e.interpolate||A2).source,(e.evaluate||A2).source].join("|")+"|$","g"),i=0,s="__p+='";r.replace(n,function(d,h,p,g,y){return s+=r.slice(i,y).replace(qG,WG),i=y+d.length,h?s+=`'+
((__t=(`+h+`))==null?'':_.escape(__t))+
'`:p?s+=`'+
((__t=(`+p+`))==null?'':__t)+
'`:g&&(s+=`';
`+g+`
__p+='`),d}),s+=`';
`;var a=e.variable;if(a){if(!jG.test(a))throw new Error("variable is not a bare identifier: "+a)}else s=`with(obj||{}){
`+s+`}
`,a="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var l;try{l=new Function(a,"_",s)}catch(d){throw d.source=s,d}var u=function(d){return l.call(this,d,Ot)};return u.source="function("+a+`){
`+s+"}",u}function LF(r,e,t){e=Mm(e);var n=e.length;if(!n)return vi(t)?t.call(r):t;for(var i=0;i<n;i++){var s=r==null?void 0:r[e[i]];s===void 0&&(s=t,i=n),r=vi(s)?s.call(r):s}return r}var VG=0;function OF(r){var e=++VG+"";return r?r+e:e}function PF(r){var e=Ot(r);return e._chain=!0,e}function BF(r,e,t,n,i){if(!(n instanceof e))return r.apply(t,i);var s=_F(r.prototype),a=r.apply(s,i);return _l(a)?a:s}var yu=Si(function(r,e){var t=yu.placeholder,n=function(){for(var i=0,s=e.length,a=Array(s),l=0;l<s;l++)a[l]=e[l]===t?arguments[i++]:e[l];for(;i<arguments.length;)a.push(arguments[i++]);return BF(r,n,this,this,a)};return n});yu.placeholder=Ot;const UD=Si(function(r,e,t){if(!vi(r))throw new TypeError("Bind must be called on a function");var n=Si(function(i){return BF(r,n,e,this,t.concat(i))});return n}),yr=oF(Vi);function vu(r,e,t,n){if(n=n||[],!e&&e!==0)e=1/0;else if(e<=0)return n.concat(r);for(var i=n.length,s=0,a=Vi(r);s<a;s++){var l=r[s];if(yr(l)&&(wl(l)||Sb(l)))if(e>1)vu(l,e-1,t,n),i=n.length;else for(var u=0,d=l.length;u<d;)n[i++]=l[u++];else t||(n[i++]=l)}return n}const zF=Si(function(r,e){e=vu(e,!1,!1);var t=e.length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var n=e[t];r[n]=UD(r[n],r)}return r});function qF(r,e){var t=function(n){var i=t.cache,s=""+(e?e.apply(this,arguments):n);return Tl(i,s)||(i[s]=r.apply(this,arguments)),i[s]};return t.cache={},t}const kD=Si(function(r,e,t){return setTimeout(function(){return r.apply(null,t)},e)}),WF=yu(kD,Ot,1);function jF(r,e,t){var n,i,s,a,l=0;t||(t={});var u=function(){l=t.leading===!1?0:Ih(),n=null,a=r.apply(i,s),n||(i=s=null)},d=function(){var h=Ih();!l&&t.leading===!1&&(l=h);var p=e-(h-l);return i=this,s=arguments,p<=0||p>e?(n&&(clearTimeout(n),n=null),l=h,a=r.apply(i,s),n||(i=s=null)):!n&&t.trailing!==!1&&(n=setTimeout(u,p)),a};return d.cancel=function(){clearTimeout(n),l=0,n=i=s=null},d}function VF(r,e,t){var n,i,s,a,l,u=function(){var h=Ih()-i;e>h?n=setTimeout(u,e-h):(n=null,t||(a=r.apply(l,s)),n||(s=l=null))},d=Si(function(h){return l=this,s=h,i=Ih(),n||(n=setTimeout(u,e),t&&(a=r.apply(l,s))),a});return d.cancel=function(){clearTimeout(n),n=s=l=null},d}function HF(r,e){return yu(e,r)}function Nb(r){return function(){return!r.apply(this,arguments)}}function GF(){var r=arguments,e=r.length-1;return function(){for(var t=e,n=r[e].apply(this,arguments);t--;)n=r[t].call(this,n);return n}}function $F(r,e){return function(){if(--r<1)return e.apply(this,arguments)}}function RD(r,e){var t;return function(){return--r>0&&(t=e.apply(this,arguments)),r<=1&&(e=null),t}}const XF=yu(RD,2);function ND(r,e,t){e=Gi(e,t);for(var n=Bn(r),i,s=0,a=n.length;s<a;s++)if(i=n[s],e(r[i],i,r))return i}function QF(r){return function(e,t,n){t=Gi(t,n);for(var i=Vi(e),s=r>0?0:i-1;s>=0&&s<i;s+=r)if(t(e[s],s,e))return s;return-1}}const Mb=QF(1),MD=QF(-1);function ID(r,e,t,n){t=Gi(t,n,1);for(var i=t(e),s=0,a=Vi(r);s<a;){var l=Math.floor((s+a)/2);t(r[l])<i?s=l+1:a=l}return s}function YF(r,e,t){return function(n,i,s){var a=0,l=Vi(n);if(typeof s=="number")r>0?a=s>=0?s:Math.max(s+l,a):l=s>=0?Math.min(s+1,l):s+l+1;else if(t&&s&&l)return s=t(n,i),n[s]===i?s:-1;if(i!==i)return s=e(Nm.call(n,a,l),pD),s>=0?s+a:-1;for(s=r>0?a:l-1;s>=0&&s<l;s+=r)if(n[s]===i)return s;return-1}}const FD=YF(1,Mb,ID),KF=YF(-1,MD);function qp(r,e,t){var n=yr(r)?Mb:ND,i=n(r,e,t);if(i!==void 0&&i!==-1)return r[i]}function ZF(r,e){return qp(r,cu(e))}function gs(r,e,t){e=Im(e,t);var n,i;if(yr(r))for(n=0,i=r.length;n<i;n++)e(r[n],n,r);else{var s=Bn(r);for(n=0,i=s.length;n<i;n++)e(r[s[n]],s[n],r)}return r}function no(r,e,t){e=Gi(e,t);for(var n=!yr(r)&&Bn(r),i=(n||r).length,s=Array(i),a=0;a<i;a++){var l=n?n[a]:a;s[a]=e(r[l],l,r)}return s}function JF(r){var e=function(t,n,i,s){var a=!yr(t)&&Bn(t),l=(a||t).length,u=r>0?0:l-1;for(s||(i=t[a?a[u]:u],u+=r);u>=0&&u<l;u+=r){var d=a?a[u]:u;i=n(i,t[d],d,t)}return i};return function(t,n,i,s){var a=arguments.length>=3;return e(t,Im(n,s,4),i,a)}}const Sd=JF(1),z0=JF(-1);function pl(r,e,t){var n=[];return e=Gi(e,t),gs(r,function(i,s,a){e(i,s,a)&&n.push(i)}),n}function e8(r,e,t){return pl(r,Nb(Gi(e)),t)}function q0(r,e,t){e=Gi(e,t);for(var n=!yr(r)&&Bn(r),i=(n||r).length,s=0;s<i;s++){var a=n?n[s]:s;if(!e(r[a],a,r))return!1}return!0}function W0(r,e,t){e=Gi(e,t);for(var n=!yr(r)&&Bn(r),i=(n||r).length,s=0;s<i;s++){var a=n?n[s]:s;if(e(r[a],a,r))return!0}return!1}function Br(r,e,t,n){return yr(r)||(r=mu(r)),(typeof t!="number"||n)&&(t=0),FD(r,e,t)>=0}const t8=Si(function(r,e,t){var n,i;return vi(e)?i=e:(e=Mm(e),n=e.slice(0,-1),e=e[e.length-1]),no(r,function(s){var a=i;if(!a){if(n&&n.length&&(s=ED(s,n)),s==null)return;a=s[e]}return a==null?a:a.apply(s,t)})});function Ib(r,e){return no(r,kb(e))}function n8(r,e){return pl(r,cu(e))}function LD(r,e,t){var n=-1/0,i=-1/0,s,a;if(e==null||typeof e=="number"&&typeof r[0]!="object"&&r!=null){r=yr(r)?r:mu(r);for(var l=0,u=r.length;l<u;l++)s=r[l],s!=null&&s>n&&(n=s)}else e=Gi(e,t),gs(r,function(d,h,p){a=e(d,h,p),(a>i||a===-1/0&&n===-1/0)&&(n=d,i=a)});return n}function i8(r,e,t){var n=1/0,i=1/0,s,a;if(e==null||typeof e=="number"&&typeof r[0]!="object"&&r!=null){r=yr(r)?r:mu(r);for(var l=0,u=r.length;l<u;l++)s=r[l],s!=null&&s<n&&(n=s)}else e=Gi(e,t),gs(r,function(d,h,p){a=e(d,h,p),(a<i||a===1/0&&n===1/0)&&(n=d,i=a)});return n}var HG=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function OD(r){return r?wl(r)?Nm.call(r):Cb(r)?r.match(HG):yr(r)?no(r,Ub):mu(r):[]}function PD(r,e,t){if(e==null||t)return yr(r)||(r=mu(r)),r[B0(r.length-1)];var n=OD(r),i=Vi(n);e=Math.max(Math.min(e,i),0);for(var s=i-1,a=0;a<e;a++){var l=B0(a,s),u=n[a];n[a]=n[l],n[l]=u}return n.slice(0,e)}function r8(r){return PD(r,1/0)}function s8(r,e,t){var n=0;return e=Gi(e,t),Ib(no(r,function(i,s,a){return{value:i,index:n++,criteria:e(i,s,a)}}).sort(function(i,s){var a=i.criteria,l=s.criteria;if(a!==l){if(a>l||a===void 0)return 1;if(a<l||l===void 0)return-1}return i.index-s.index}),"value")}function Fb(r,e){return function(t,n,i){var s=e?[[],[]]:{};return n=Gi(n,i),gs(t,function(a,l){var u=n(a,l,t);r(s,a,u)}),s}}const a8=Fb(function(r,e,t){Tl(r,t)?r[t].push(e):r[t]=[e]}),o8=Fb(function(r,e,t){r[t]=e}),l8=Fb(function(r,e,t){Tl(r,t)?r[t]++:r[t]=1}),c8=Fb(function(r,e,t){r[t?0:1].push(e)},!0);function u8(r){return r==null?0:yr(r)?r.length:Bn(r).length}function GG(r,e,t){return e in t}const BD=Si(function(r,e){var t={},n=e[0];if(r==null)return t;vi(n)?(e.length>1&&(n=Im(n,e[1])),e=Bh(r)):(n=GG,e=vu(e,!1,!1),r=Object(r));for(var i=0,s=e.length;i<s;i++){var a=e[i],l=r[a];n(l,a,r)&&(t[a]=l)}return t}),d8=Si(function(r,e){var t=e[0],n;return vi(t)?(t=Nb(t),e.length>1&&(n=e[1])):(e=no(vu(e,!1,!1),String),t=function(i,s){return!Br(e,s)}),BD(r,t,n)});function zD(r,e,t){return Nm.call(r,0,Math.max(0,r.length-(e==null||t?1:e)))}function Ud(r,e,t){return r==null||r.length<1?e==null||t?void 0:[]:e==null||t?r[0]:zD(r,r.length-e)}function tu(r,e,t){return Nm.call(r,e==null||t?1:e)}function h8(r,e,t){return r==null||r.length<1?e==null||t?void 0:[]:e==null||t?r[r.length-1]:tu(r,Math.max(0,r.length-e))}function f8(r){return pl(r,Boolean)}function p8(r,e){return vu(r,e,!1)}const qD=Si(function(r,e){return e=vu(e,!0,!0),pl(r,function(t){return!Br(e,t)})}),g8=Si(function(r,e){return qD(r,e)});function Wp(r,e,t,n){cD(e)||(n=t,t=e,e=!1),t!=null&&(t=Gi(t,n));for(var i=[],s=[],a=0,l=Vi(r);a<l;a++){var u=r[a],d=t?t(u,a,r):u;e&&!t?((!a||s!==d)&&i.push(u),s=d):t?Br(s,d)||(s.push(d),i.push(u)):Br(i,u)||i.push(u)}return i}const m8=Si(function(r){return Wp(vu(r,!0,!0))});function y8(r){for(var e=[],t=arguments.length,n=0,i=Vi(r);n<i;n++){var s=r[n];if(!Br(e,s)){var a;for(a=1;a<t&&Br(arguments[a],s);a++);a===t&&e.push(s)}}return e}function jp(r){for(var e=r&&LD(r,Vi).length||0,t=Array(e),n=0;n<e;n++)t[n]=Ib(r,n);return t}const v8=Si(jp);function b8(r,e){for(var t={},n=0,i=Vi(r);n<i;n++)e?t[r[n]]=e[n]:t[r[n][0]]=r[n][1];return t}function x8(r,e,t){e==null&&(e=r||0,r=0),t||(t=e<r?-1:1);for(var n=Math.max(Math.ceil((e-r)/t),0),i=Array(n),s=0;s<n;s++,r+=t)i[s]=r;return i}function _8(r,e){if(e==null||e<1)return[];for(var t=[],n=0,i=r.length;n<i;)t.push(Nm.call(r,n,n+=e));return t}function WD(r,e){return r._chain?Ot(e).chain():e}function jD(r){return gs(zp(r),function(e){var t=Ot[e]=r[e];Ot.prototype[e]=function(){var n=[this._wrapped];return wG.apply(n,arguments),WD(this,t.apply(Ot,n))}}),Ot}gs(["pop","push","reverse","shift","sort","splice","unshift"],function(r){var e=Eb[r];Ot.prototype[r]=function(){var t=this._wrapped;return t!=null&&(e.apply(t,arguments),(r==="shift"||r==="splice")&&t.length===0&&delete t[0]),WD(this,t)}});gs(["concat","join","slice"],function(r){var e=Eb[r];Ot.prototype[r]=function(){var t=this._wrapped;return t!=null&&(t=e.apply(t,arguments)),WD(this,t)}});const $G=Object.freeze(Object.defineProperty({__proto__:null,VERSION:aD,after:$F,all:q0,allKeys:Bh,any:W0,assign:Mh,before:RD,bind:UD,bindAll:zF,chain:PF,chunk:_8,clone:TF,collect:no,compact:f8,compose:GF,constant:gD,contains:Br,countBy:l8,create:wF,debounce:VF,default:Ot,defaults:DD,defer:WF,delay:kD,detect:qp,difference:qD,drop:tu,each:gs,escape:NF,every:q0,extend:TD,extendOwn:Mh,filter:pl,find:qp,findIndex:Mb,findKey:ND,findLastIndex:MD,findWhere:ZF,first:Ud,flatten:p8,foldl:Sd,foldr:z0,forEach:gs,functions:zp,get:CD,groupBy:a8,has:AF,head:Ud,identity:Ub,include:Br,includes:Br,indexBy:o8,indexOf:FD,initial:zD,inject:Sd,intersection:y8,invert:_D,invoke:t8,isArguments:Sb,isArray:wl,isArrayBuffer:hD,isBoolean:cD,isDataView:Bp,isDate:eF,isElement:JI,isEmpty:uF,isEqual:hF,isError:nF,isFinite:aF,isFunction:vi,isMap:mF,isMatch:yD,isNaN:pD,isNull:ZI,isNumber:uD,isObject:_l,isRegExp:tF,isSet:vF,isString:Cb,isSymbol:dD,isTypedArray:mD,isUndefined:lD,isWeakMap:yF,isWeakSet:bF,iteratee:Rb,keys:Bn,last:h8,lastIndexOf:KF,map:no,mapObject:CF,matcher:cu,matches:cu,max:LD,memoize:qF,methods:zp,min:i8,mixin:jD,negate:Nb,noop:SD,now:Ih,object:b8,omit:d8,once:XF,pairs:xF,partial:yu,partition:c8,pick:BD,pluck:Ib,property:kb,propertyOf:SF,random:B0,range:x8,reduce:Sd,reduceRight:z0,reject:e8,rest:tu,restArguments:Si,result:LF,sample:PD,select:pl,shuffle:r8,size:u8,some:W0,sortBy:s8,sortedIndex:ID,tail:tu,take:Ud,tap:DF,template:FF,templateSettings:IF,throttle:jF,times:UF,toArray:OD,toPath:AD,transpose:jp,unescape:MF,union:m8,uniq:Wp,unique:Wp,uniqueId:OF,unzip:jp,values:mu,where:n8,without:g8,wrap:HF,zip:v8},Symbol.toStringTag,{value:"Module"}));var AT=jD($G);AT._=AT;const XG=Object.freeze(Object.defineProperty({__proto__:null,VERSION:aD,after:$F,all:q0,allKeys:Bh,any:W0,assign:Mh,before:RD,bind:UD,bindAll:zF,chain:PF,chunk:_8,clone:TF,collect:no,compact:f8,compose:GF,constant:gD,contains:Br,countBy:l8,create:wF,debounce:VF,default:AT,defaults:DD,defer:WF,delay:kD,detect:qp,difference:qD,drop:tu,each:gs,escape:NF,every:q0,extend:TD,extendOwn:Mh,filter:pl,find:qp,findIndex:Mb,findKey:ND,findLastIndex:MD,findWhere:ZF,first:Ud,flatten:p8,foldl:Sd,foldr:z0,forEach:gs,functions:zp,get:CD,groupBy:a8,has:AF,head:Ud,identity:Ub,include:Br,includes:Br,indexBy:o8,indexOf:FD,initial:zD,inject:Sd,intersection:y8,invert:_D,invoke:t8,isArguments:Sb,isArray:wl,isArrayBuffer:hD,isBoolean:cD,isDataView:Bp,isDate:eF,isElement:JI,isEmpty:uF,isEqual:hF,isError:nF,isFinite:aF,isFunction:vi,isMap:mF,isMatch:yD,isNaN:pD,isNull:ZI,isNumber:uD,isObject:_l,isRegExp:tF,isSet:vF,isString:Cb,isSymbol:dD,isTypedArray:mD,isUndefined:lD,isWeakMap:yF,isWeakSet:bF,iteratee:Rb,keys:Bn,last:h8,lastIndexOf:KF,map:no,mapObject:CF,matcher:cu,matches:cu,max:LD,memoize:qF,methods:zp,min:i8,mixin:jD,negate:Nb,noop:SD,now:Ih,object:b8,omit:d8,once:XF,pairs:xF,partial:yu,partition:c8,pick:BD,pluck:Ib,property:kb,propertyOf:SF,random:B0,range:x8,reduce:Sd,reduceRight:z0,reject:e8,rest:tu,restArguments:Si,result:LF,sample:PD,select:pl,shuffle:r8,size:u8,some:W0,sortBy:s8,sortedIndex:ID,tail:tu,take:Ud,tap:DF,template:FF,templateSettings:IF,throttle:jF,times:UF,toArray:OD,toPath:AD,transpose:jp,unescape:MF,union:m8,uniq:Wp,unique:Wp,uniqueId:OF,unzip:jp,values:mu,where:n8,without:g8,wrap:HF,zip:v8},Symbol.toStringTag,{value:"Module"})),An=KN(XG);var ev={},kr={},E2={exports:{}},tv={exports:{}},h3;function zh(){if(h3)return tv.exports;h3=1;var r=function(){return this===void 0}();if(r)tv.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(h,p){var g=Object.getOwnPropertyDescriptor(h,p);return!!(!g||g.writable||g.set)}};else{var e={}.hasOwnProperty,t={}.toString,n={}.constructor.prototype,i=function(h){var p=[];for(var g in h)e.call(h,g)&&p.push(g);return p},s=function(h,p){return{value:h[p]}},a=function(h,p,g){return h[p]=g.value,h},l=function(h){return h},u=function(h){try{return Object(h).constructor.prototype}catch{return n}},d=function(h){try{return t.call(h)==="[object Array]"}catch{return!1}};tv.exports={isArray:d,keys:i,names:i,defineProperty:a,getDescriptor:s,freeze:l,getPrototypeOf:u,isES5:r,propertyIsWritable:function(){return!0}}}return tv.exports}var Vf,f3;function sn(){if(f3)return Vf;f3=1;var r={},e=zh(),t=typeof navigator>"u",n={e:{}},i,s=typeof self<"u"?self:typeof window<"u"?window:typeof ll<"u"?ll:Vf!==void 0?Vf:null;function a(){try{var re=i;return i=null,re.apply(this,arguments)}catch(pe){return n.e=pe,n}}function l(re){return i=re,a}var u=function(re,pe){var be={}.hasOwnProperty;function Ee(){this.constructor=re,this.constructor$=pe;for(var Re in pe.prototype)be.call(pe.prototype,Re)&&Re.charAt(Re.length-1)!=="$"&&(this[Re+"$"]=pe.prototype[Re])}return Ee.prototype=pe.prototype,re.prototype=new Ee,re.prototype};function d(re){return re==null||re===!0||re===!1||typeof re=="string"||typeof re=="number"}function h(re){return typeof re=="function"||typeof re=="object"&&re!==null}function p(re){return d(re)?new Error(O(re)):re}function g(re,pe){var be=re.length,Ee=new Array(be+1),Re;for(Re=0;Re<be;++Re)Ee[Re]=re[Re];return Ee[Re]=pe,Ee}function y(re,pe,be){if(e.isES5){var Ee=Object.getOwnPropertyDescriptor(re,pe);if(Ee!=null)return Ee.get==null&&Ee.set==null?Ee.value:be}else return{}.hasOwnProperty.call(re,pe)?re[pe]:void 0}function v(re,pe,be){if(d(re))return re;var Ee={value:be,configurable:!0,enumerable:!1,writable:!0};return e.defineProperty(re,pe,Ee),re}function x(re){throw re}var T=function(){var re=[Array.prototype,Object.prototype,Function.prototype],pe=function(Re){for(var Me=0;Me<re.length;++Me)if(re[Me]===Re)return!0;return!1};if(e.isES5){var be=Object.getOwnPropertyNames;return function(Re){for(var Me=[],ze=Object.create(null);Re!=null&&!pe(Re);){var Ge;try{Ge=be(Re)}catch{return Me}for(var Ke=0;Ke<Ge.length;++Ke){var ft=Ge[Ke];if(!ze[ft]){ze[ft]=!0;var at=Object.getOwnPropertyDescriptor(Re,ft);at!=null&&at.get==null&&at.set==null&&Me.push(ft)}}Re=e.getPrototypeOf(Re)}return Me}}else{var Ee={}.hasOwnProperty;return function(Re){if(pe(Re))return[];var Me=[];e:for(var ze in Re)if(Ee.call(Re,ze))Me.push(ze);else{for(var Ge=0;Ge<re.length;++Ge)if(Ee.call(re[Ge],ze))continue e;Me.push(ze)}return Me}}}(),D=/this\s*\.\s*\S+\s*=/;function E(re){try{if(typeof re=="function"){var pe=e.names(re.prototype),be=e.isES5&&pe.length>1,Ee=pe.length>0&&!(pe.length===1&&pe[0]==="constructor"),Re=D.test(re+"")&&e.names(re).length>0;if(be||Ee||Re)return!0}return!1}catch{return!1}}function C(re){return re}var R=/^[a-z$_][a-z$_0-9]*$/i;function U(re){return R.test(re)}function M(re,pe,be){for(var Ee=new Array(re),Re=0;Re<re;++Re)Ee[Re]=pe+Re+be;return Ee}function O(re){try{return re+""}catch{return"[no string representation]"}}function W(re){return re!==null&&typeof re=="object"&&typeof re.message=="string"&&typeof re.name=="string"}function L(re){try{v(re,"isOperational",!0)}catch{}}function H(re){return re==null?!1:re instanceof Error.__BluebirdErrorTypes__.OperationalError||re.isOperational===!0}function ne(re){return W(re)&&e.propertyIsWritable(re,"stack")}var F=function(){return"stack"in new Error?function(re){return ne(re)?re:new Error(O(re))}:function(re){if(ne(re))return re;try{throw new Error(O(re))}catch(pe){return pe}}}();function B(re){return{}.toString.call(re)}function N(re,pe,be){for(var Ee=e.names(re),Re=0;Re<Ee.length;++Re){var Me=Ee[Re];if(be(Me))try{e.defineProperty(pe,Me,e.getDescriptor(re,Me))}catch{}}}var K=function(re){return e.isArray(re)?re:null};if(typeof Symbol<"u"&&Symbol.iterator){var P=typeof Array.from=="function"?function(re){return Array.from(re)}:function(re){for(var pe=[],be=re[Symbol.iterator](),Ee;!(Ee=be.next()).done;)pe.push(Ee.value);return pe};K=function(re){return e.isArray(re)?re:re!=null&&typeof re[Symbol.iterator]=="function"?P(re):null}}var q=typeof process<"u"&&B(process).toLowerCase()==="[object process]",ie=typeof process<"u"&&typeof r<"u";function te(re){return ie?r[re]:void 0}function j(){if(typeof Promise=="function")try{var re=new Promise(function(){});if({}.toString.call(re)==="[object Promise]")return Promise}catch{}}function V(re,pe){return re.bind(pe)}var ee={isClass:E,isIdentifier:U,inheritedDataKeys:T,getDataPropertyOrDefault:y,thrower:x,isArray:e.isArray,asArray:K,notEnumerableProp:v,isPrimitive:d,isObject:h,isError:W,canEvaluate:t,errorObj:n,tryCatch:l,inherits:u,withAppended:g,maybeWrapAsError:p,toFastProperties:C,filledRange:M,toString:O,canAttachTrace:ne,ensureErrorObject:F,originatesFromRejection:H,markAsOriginatingFromRejection:L,classString:B,copyDescriptors:N,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:q,hasEnvVariables:ie,env:te,global:s,getNativePromise:j,domainBind:V};ee.isRecentNode=ee.isNode&&function(){var re=process.versions.node.split(".").map(Number);return re[0]===0&&re[1]>10||re[0]>0}(),ee.isNode&&ee.toFastProperties(process);try{throw new Error}catch(re){ee.lastLineError=re}return Vf=ee,Vf}var nv={exports:{}},C2,p3;function QG(){if(p3)return C2;p3=1;var r=sn(),e,t=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},n=r.getNativePromise();if(r.isNode&&typeof MutationObserver>"u"){var i=ll.setImmediate,s=process.nextTick;e=r.isRecentNode?function(l){i.call(ll,l)}:function(l){s.call(process,l)}}else if(typeof n=="function"&&typeof n.resolve=="function"){var a=n.resolve();e=function(l){a.then(l)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?e=function(){var l=document.createElement("div"),u={attributes:!0},d=!1,h=document.createElement("div"),p=new MutationObserver(function(){l.classList.toggle("foo"),d=!1});p.observe(h,u);var g=function(){d||(d=!0,h.classList.toggle("foo"))};return function(v){var x=new MutationObserver(function(){x.disconnect(),v()});x.observe(l,u),g()}}():typeof setImmediate<"u"?e=function(l){setImmediate(l)}:typeof setTimeout<"u"?e=function(l){setTimeout(l,0)}:e=t;return C2=e,C2}var S2,g3;function YG(){if(g3)return S2;g3=1;function r(t,n,i,s,a){for(var l=0;l<a;++l)i[l+s]=t[l+n],t[l+n]=void 0}function e(t){this._capacity=t,this._length=0,this._front=0}return e.prototype._willBeOverCapacity=function(t){return this._capacity<t},e.prototype._pushOne=function(t){var n=this.length();this._checkCapacity(n+1);var i=this._front+n&this._capacity-1;this[i]=t,this._length=n+1},e.prototype.push=function(t,n,i){var s=this.length()+3;if(this._willBeOverCapacity(s)){this._pushOne(t),this._pushOne(n),this._pushOne(i);return}var a=this._front+s-3;this._checkCapacity(s);var l=this._capacity-1;this[a+0&l]=t,this[a+1&l]=n,this[a+2&l]=i,this._length=s},e.prototype.shift=function(){var t=this._front,n=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,n},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(t){var n=this._capacity;this._capacity=t;var i=this._front,s=this._length,a=i+s&n-1;r(this,0,this,n,a)},S2=e,S2}var m3;function KG(){if(m3)return nv.exports;m3=1;var r;try{throw new Error}catch(u){r=u}var e=QG(),t=YG(),n=sn();function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new t(16),this._normalQueue=new t(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var u=this;this.drainQueues=function(){u._drainQueues()},this._schedule=e}i.prototype.setScheduler=function(u){var d=this._schedule;return this._schedule=u,this._customScheduler=!0,d},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){n.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(u,d){d?(process.stderr.write("Fatal "+(u instanceof Error?u.stack:u)+`
`),process.exit(2)):this.throwLater(u)},i.prototype.throwLater=function(u,d){if(arguments.length===1&&(d=u,u=function(){throw d}),typeof setTimeout<"u")setTimeout(function(){u(d)},0);else try{this._schedule(function(){u(d)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function s(u,d,h){this._lateQueue.push(u,d,h),this._queueTick()}function a(u,d,h){this._normalQueue.push(u,d,h),this._queueTick()}function l(u){this._normalQueue._pushOne(u),this._queueTick()}return n.hasDevTools?(i.prototype.invokeLater=function(u,d,h){this._trampolineEnabled?s.call(this,u,d,h):this._schedule(function(){setTimeout(function(){u.call(d,h)},100)})},i.prototype.invoke=function(u,d,h){this._trampolineEnabled?a.call(this,u,d,h):this._schedule(function(){u.call(d,h)})},i.prototype.settlePromises=function(u){this._trampolineEnabled?l.call(this,u):this._schedule(function(){u._settlePromises()})}):(i.prototype.invokeLater=s,i.prototype.invoke=a,i.prototype.settlePromises=l),i.prototype._drainQueue=function(u){for(;u.length()>0;){var d=u.shift();if(typeof d!="function"){d._settlePromises();continue}var h=u.shift(),p=u.shift();d.call(h,p)}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},nv.exports=i,nv.exports.firstLineError=r,nv.exports}var U2,y3;function gl(){if(y3)return U2;y3=1;var r=zh(),e=r.freeze,t=sn(),n=t.inherits,i=t.notEnumerableProp;function s(D,E){function C(R){if(!(this instanceof C))return new C(R);i(this,"message",typeof R=="string"?R:E),i(this,"name",D),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return n(C,Error),C}var a,l,u=s("Warning","warning"),d=s("CancellationError","cancellation error"),h=s("TimeoutError","timeout error"),p=s("AggregateError","aggregate error");try{a=TypeError,l=RangeError}catch{a=s("TypeError","type error"),l=s("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<g.length;++y)typeof Array.prototype[g[y]]=="function"&&(p.prototype[g[y]]=Array.prototype[g[y]]);r.defineProperty(p.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),p.prototype.isOperational=!0;var v=0;p.prototype.toString=function(){var D=Array(v*4+1).join(" "),E=`
`+D+`AggregateError of:
`;v++,D=Array(v*4+1).join(" ");for(var C=0;C<this.length;++C){for(var R=this[C]===this?"[Circular AggregateError]":this[C]+"",U=R.split(`
`),M=0;M<U.length;++M)U[M]=D+U[M];R=U.join(`
`),E+=R+`
`}return v--,E};function x(D){if(!(this instanceof x))return new x(D);i(this,"name","OperationalError"),i(this,"message",D),this.cause=D,this.isOperational=!0,D instanceof Error?(i(this,"message",D.message),i(this,"stack",D.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}n(x,Error);var T=Error.__BluebirdErrorTypes__;return T||(T=e({CancellationError:d,TimeoutError:h,OperationalError:x,RejectionError:x,AggregateError:p}),r.defineProperty(Error,"__BluebirdErrorTypes__",{value:T,writable:!1,enumerable:!1,configurable:!1})),U2={Error,TypeError:a,RangeError:l,CancellationError:T.CancellationError,OperationalError:T.OperationalError,TimeoutError:T.TimeoutError,AggregateError:T.AggregateError,Warning:u},U2}var k2,v3;function ZG(){return v3||(v3=1,k2=function(r,e){var t=sn(),n=t.errorObj,i=t.isObject;function s(p,g){if(i(p)){if(p instanceof r)return p;var y=l(p);if(y===n){g&&g._pushContext();var v=r.reject(y.e);return g&&g._popContext(),v}else if(typeof y=="function"){if(d(p)){var v=new r(e);return p._then(v._fulfill,v._reject,void 0,v,null),v}return h(p,y,g)}}return p}function a(p){return p.then}function l(p){try{return a(p)}catch(g){return n.e=g,n}}var u={}.hasOwnProperty;function d(p){try{return u.call(p,"_promise0")}catch{return!1}}function h(p,g,y){var v=new r(e),x=v;y&&y._pushContext(),v._captureStackTrace(),y&&y._popContext();var T=!0,D=t.tryCatch(g).call(p,E,C);T=!1,v&&D===n&&(v._rejectCallback(D.e,!0,!0),v=null);function E(R){v&&(v._resolveCallback(R),v=null)}function C(R){v&&(v._rejectCallback(R,T,!0),v=null)}return x}return s}),k2}var R2,b3;function JG(){return b3||(b3=1,R2=function(r,e,t,n,i){var s=sn();s.isArray;function a(u){switch(u){case-2:return[];case-3:return{}}}function l(u){var d=this._promise=new r(e);u instanceof r&&d._propagateFrom(u,3),d._setOnCancel(this),this._values=u,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.inherits(l,i),l.prototype.length=function(){return this._length},l.prototype.promise=function(){return this._promise},l.prototype._init=function u(d,h){var p=t(this._values,this._promise);if(p instanceof r){p=p._target();var g=p._bitField;if(this._values=p,(g&50397184)===0)return this._promise._setAsyncGuaranteed(),p._then(u,this._reject,void 0,this,h);if((g&33554432)!==0)p=p._value();else return(g&16777216)!==0?this._reject(p._reason()):this._cancel()}if(p=s.asArray(p),p===null){var y=n("expecting an array or an iterable object but got "+s.classString(p)).reason();this._promise._rejectCallback(y,!1);return}if(p.length===0){h===-5?this._resolveEmptyArray():this._resolve(a(h));return}this._iterate(p)},l.prototype._iterate=function(u){var d=this.getActualLength(u.length);this._length=d,this._values=this.shouldCopyValues()?new Array(d):this._values;for(var h=this._promise,p=!1,g=null,y=0;y<d;++y){var v=t(u[y],h);v instanceof r?(v=v._target(),g=v._bitField):g=null,p?g!==null&&v.suppressUnhandledRejections():g!==null?(g&50397184)===0?(v._proxy(this,y),this._values[y]=v):(g&33554432)!==0?p=this._promiseFulfilled(v._value(),y):(g&16777216)!==0?p=this._promiseRejected(v._reason(),y):p=this._promiseCancelled(y):p=this._promiseFulfilled(v,y)}p||h._setAsyncGuaranteed()},l.prototype._isResolved=function(){return this._values===null},l.prototype._resolve=function(u){this._values=null,this._promise._fulfill(u)},l.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},l.prototype._reject=function(u){this._values=null,this._promise._rejectCallback(u,!1)},l.prototype._promiseFulfilled=function(u,d){this._values[d]=u;var h=++this._totalResolved;return h>=this._length?(this._resolve(this._values),!0):!1},l.prototype._promiseCancelled=function(){return this._cancel(),!0},l.prototype._promiseRejected=function(u){return this._totalResolved++,this._reject(u),!0},l.prototype._resultCancelled=function(){if(!this._isResolved()){var u=this._values;if(this._cancel(),u instanceof r)u.cancel();else for(var d=0;d<u.length;++d)u[d]instanceof r&&u[d].cancel()}},l.prototype.shouldCopyValues=function(){return!0},l.prototype.getActualLength=function(u){return u},l}),R2}var N2,x3;function e$(){return x3||(x3=1,N2=function(r){var e=!1,t=[];r.prototype._promiseCreated=function(){},r.prototype._pushContext=function(){},r.prototype._popContext=function(){return null},r._peekContext=r.prototype._peekContext=function(){};function n(){this._trace=new n.CapturedTrace(s())}n.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,t.push(this._trace))},n.prototype._popContext=function(){if(this._trace!==void 0){var a=t.pop(),l=a._promiseCreated;return a._promiseCreated=null,l}return null};function i(){if(e)return new n}function s(){var a=t.length-1;if(a>=0)return t[a]}return n.CapturedTrace=null,n.create=i,n.deactivateLongStackTraces=function(){},n.activateLongStackTraces=function(){var a=r.prototype._pushContext,l=r.prototype._popContext,u=r._peekContext,d=r.prototype._peekContext,h=r.prototype._promiseCreated;n.deactivateLongStackTraces=function(){r.prototype._pushContext=a,r.prototype._popContext=l,r._peekContext=u,r.prototype._peekContext=d,r.prototype._promiseCreated=h,e=!1},e=!0,r.prototype._pushContext=n.prototype._pushContext,r.prototype._popContext=n.prototype._popContext,r._peekContext=r.prototype._peekContext=s,r.prototype._promiseCreated=function(){var p=this._peekContext();p&&p._promiseCreated==null&&(p._promiseCreated=this)}},n}),N2}var M2,_3;function t$(){return _3||(_3=1,M2=function(r,e){var t=r._getDomain,n=r._async,i=gl().Warning,s=sn(),a=s.canAttachTrace,l,u,d=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,h=/\((?:timers\.js):\d+:\d+\)/,p=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,g=null,y=null,v=!1,x,T=!!(s.env("BLUEBIRD_DEBUG")!=0&&(s.env("BLUEBIRD_DEBUG")||s.env("NODE_ENV")==="development")),D=!!(s.env("BLUEBIRD_WARNINGS")!=0&&(T||s.env("BLUEBIRD_WARNINGS"))),E=!!(s.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(T||s.env("BLUEBIRD_LONG_STACK_TRACES"))),C=s.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(D||!!s.env("BLUEBIRD_W_FORGOTTEN_RETURN"));r.prototype.suppressUnhandledRejections=function(){var ae=this._target();ae._bitField=ae._bitField&-1048577|524288},r.prototype._ensurePossibleRejectionHandled=function(){(this._bitField&524288)===0&&(this._setRejectionIsUnhandled(),n.invokeLater(this._notifyUnhandledRejection,this,void 0))},r.prototype._notifyUnhandledRejectionIsHandled=function(){ft("rejectionHandled",l,void 0,this)},r.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},r.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},r.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var ae=this._settledValue();this._setUnhandledRejectionIsNotified(),ft("unhandledRejection",u,ae,this)}},r.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},r.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},r.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},r.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},r.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},r.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},r.prototype._warn=function(ae,le,ve){return pe(ae,le,ve||this)},r.onPossiblyUnhandledRejection=function(ae){var le=t();u=typeof ae=="function"?le===null?ae:s.domainBind(le,ae):void 0},r.onUnhandledRejectionHandled=function(ae){var le=t();l=typeof ae=="function"?le===null?ae:s.domainBind(le,ae):void 0};var R=function(){};r.longStackTraces=function(){if(n.haveItemsQueued()&&!fe.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!fe.longStackTraces&&ye()){var ae=r.prototype._captureStackTrace,le=r.prototype._attachExtraTrace;fe.longStackTraces=!0,R=function(){if(n.haveItemsQueued()&&!fe.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);r.prototype._captureStackTrace=ae,r.prototype._attachExtraTrace=le,e.deactivateLongStackTraces(),n.enableTrampoline(),fe.longStackTraces=!1},r.prototype._captureStackTrace=j,r.prototype._attachExtraTrace=V,e.activateLongStackTraces(),n.disableTrampolineIfNecessary()}},r.hasLongStackTraces=function(){return fe.longStackTraces&&ye()};var U=function(){try{if(typeof CustomEvent=="function"){var ae=new CustomEvent("CustomEvent");return s.global.dispatchEvent(ae),function(le,ve){var Ae=new CustomEvent(le.toLowerCase(),{detail:ve,cancelable:!0});return!s.global.dispatchEvent(Ae)}}else if(typeof Event=="function"){var ae=new Event("CustomEvent");return s.global.dispatchEvent(ae),function(ve,Ae){var Ie=new Event(ve.toLowerCase(),{cancelable:!0});return Ie.detail=Ae,!s.global.dispatchEvent(Ie)}}else{var ae=document.createEvent("CustomEvent");return ae.initCustomEvent("testingtheevent",!1,!0,{}),s.global.dispatchEvent(ae),function(ve,Ae){var Ie=document.createEvent("CustomEvent");return Ie.initCustomEvent(ve.toLowerCase(),!1,!0,Ae),!s.global.dispatchEvent(Ie)}}}catch{}return function(){return!1}}(),M=function(){return s.isNode?function(){return process.emit.apply(process,arguments)}:s.global?function(ae){var le="on"+ae.toLowerCase(),ve=s.global[le];return ve?(ve.apply(s.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}();function O(ae,le){return{promise:le}}var W={promiseCreated:O,promiseFulfilled:O,promiseRejected:O,promiseResolved:O,promiseCancelled:O,promiseChained:function(ae,le,ve){return{promise:le,child:ve}},warning:function(ae,le){return{warning:le}},unhandledRejection:function(ae,le,ve){return{reason:le,promise:ve}},rejectionHandled:O},L=function(ae){var le=!1;try{le=M.apply(null,arguments)}catch(Ae){n.throwLater(Ae),le=!0}var ve=!1;try{ve=U(ae,W[ae].apply(null,arguments))}catch(Ae){n.throwLater(Ae),ve=!0}return ve||le};r.config=function(ae){if(ae=Object(ae),"longStackTraces"in ae&&(ae.longStackTraces?r.longStackTraces():!ae.longStackTraces&&r.hasLongStackTraces()&&R()),"warnings"in ae){var le=ae.warnings;fe.warnings=!!le,C=fe.warnings,s.isObject(le)&&"wForgottenReturn"in le&&(C=!!le.wForgottenReturn)}if("cancellation"in ae&&ae.cancellation&&!fe.cancellation){if(n.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");r.prototype._clearCancellationData=K,r.prototype._propagateFrom=P,r.prototype._onCancel=B,r.prototype._setOnCancel=N,r.prototype._attachCancellationCallback=F,r.prototype._execute=ne,ie=P,fe.cancellation=!0}return"monitoring"in ae&&(ae.monitoring&&!fe.monitoring?(fe.monitoring=!0,r.prototype._fireEvent=L):!ae.monitoring&&fe.monitoring&&(fe.monitoring=!1,r.prototype._fireEvent=H)),r};function H(){return!1}r.prototype._fireEvent=H,r.prototype._execute=function(ae,le,ve){try{ae(le,ve)}catch(Ae){return Ae}},r.prototype._onCancel=function(){},r.prototype._setOnCancel=function(ae){},r.prototype._attachCancellationCallback=function(ae){},r.prototype._captureStackTrace=function(){},r.prototype._attachExtraTrace=function(){},r.prototype._clearCancellationData=function(){},r.prototype._propagateFrom=function(ae,le){};function ne(ae,le,ve){var Ae=this;try{ae(le,ve,function(Ie){if(typeof Ie!="function")throw new TypeError("onCancel must be a function, got: "+s.toString(Ie));Ae._attachCancellationCallback(Ie)})}catch(Ie){return Ie}}function F(ae){if(!this._isCancellable())return this;var le=this._onCancel();le!==void 0?s.isArray(le)?le.push(ae):this._setOnCancel([le,ae]):this._setOnCancel(ae)}function B(){return this._onCancelField}function N(ae){this._onCancelField=ae}function K(){this._cancellationParent=void 0,this._onCancelField=void 0}function P(ae,le){if((le&1)!==0){this._cancellationParent=ae;var ve=ae._branchesRemainingToCancel;ve===void 0&&(ve=0),ae._branchesRemainingToCancel=ve+1}(le&2)!==0&&ae._isBound()&&this._setBoundTo(ae._boundTo)}function q(ae,le){(le&2)!==0&&ae._isBound()&&this._setBoundTo(ae._boundTo)}var ie=q;function te(){var ae=this._boundTo;return ae!==void 0&&ae instanceof r?ae.isFulfilled()?ae.value():void 0:ae}function j(){this._trace=new De(this._peekContext())}function V(ae,le){if(a(ae)){var ve=this._trace;if(ve!==void 0&&le&&(ve=ve._parent),ve!==void 0)ve.attachExtraTrace(ae);else if(!ae.__stackCleaned__){var Ae=Ge(ae);s.notEnumerableProp(ae,"stack",Ae.message+`
`+Ae.stack.join(`
`)),s.notEnumerableProp(ae,"__stackCleaned__",!0)}}}function ee(ae,le,ve,Ae,Ie){if(ae===void 0&&le!==null&&C){if(Ie!==void 0&&Ie._returnedNonUndefined()||(Ae._bitField&65535)===0)return;ve&&(ve=ve+" ");var qe="",ge="";if(le._trace){for(var ke=le._trace.stack.split(`
`),Oe=Me(ke),Ve=Oe.length-1;Ve>=0;--Ve){var $e=Oe[Ve];if(!h.test($e)){var dt=$e.match(p);dt&&(qe="at "+dt[1]+":"+dt[2]+":"+dt[3]+" ");break}}if(Oe.length>0){for(var Pt=Oe[0],Ve=0;Ve<ke.length;++Ve)if(ke[Ve]===Pt){Ve>0&&(ge=`
`+ke[Ve-1]);break}}}var an="a promise was created in a "+ve+"handler "+qe+"but was not returned from it, see http://goo.gl/rRqMUw"+ge;Ae._warn(an,!0,le)}}function re(ae,le){var ve=ae+" is deprecated and will be removed in a future version.";return le&&(ve+=" Use "+le+" instead."),pe(ve)}function pe(ae,le,ve){if(fe.warnings){var Ae=new i(ae),Ie;if(le)ve._attachExtraTrace(Ae);else if(fe.longStackTraces&&(Ie=r._peekContext()))Ie.attachExtraTrace(Ae);else{var qe=Ge(Ae);Ae.stack=qe.message+`
`+qe.stack.join(`
`)}L("warning",Ae)||Ke(Ae,"",!0)}}function be(ae,le){for(var ve=0;ve<le.length-1;++ve)le[ve].push("From previous event:"),le[ve]=le[ve].join(`
`);return ve<le.length&&(le[ve]=le[ve].join(`
`)),ae+`
`+le.join(`
`)}function Ee(ae){for(var le=0;le<ae.length;++le)(ae[le].length===0||le+1<ae.length&&ae[le][0]===ae[le+1][0])&&(ae.splice(le,1),le--)}function Re(ae){for(var le=ae[0],ve=1;ve<ae.length;++ve){for(var Ae=ae[ve],Ie=le.length-1,qe=le[Ie],ge=-1,ke=Ae.length-1;ke>=0;--ke)if(Ae[ke]===qe){ge=ke;break}for(var ke=ge;ke>=0;--ke){var Oe=Ae[ke];if(le[Ie]===Oe)le.pop(),Ie--;else break}le=Ae}}function Me(ae){for(var le=[],ve=0;ve<ae.length;++ve){var Ae=ae[ve],Ie=Ae==="    (No stack trace)"||g.test(Ae),qe=Ie&&he(Ae);Ie&&!qe&&(v&&Ae.charAt(0)!==" "&&(Ae="    "+Ae),le.push(Ae))}return le}function ze(ae){for(var le=ae.stack.replace(/\s+$/g,"").split(`
`),ve=0;ve<le.length;++ve){var Ae=le[ve];if(Ae==="    (No stack trace)"||g.test(Ae))break}return ve>0&&ae.name!="SyntaxError"&&(le=le.slice(ve)),le}function Ge(ae){var le=ae.stack,ve=ae.toString();return le=typeof le=="string"&&le.length>0?ze(ae):["    (No stack trace)"],{message:ve,stack:ae.name=="SyntaxError"?le:Me(le)}}function Ke(ae,le,ve){if(typeof console<"u"){var Ae;if(s.isObject(ae)){var Ie=ae.stack;Ae=le+y(Ie,ae)}else Ae=le+String(ae);typeof x=="function"?x(Ae,ve):(typeof console.log=="function"||typeof console.log=="object")&&console.log(Ae)}}function ft(ae,le,ve,Ae){var Ie=!1;try{typeof le=="function"&&(Ie=!0,ae==="rejectionHandled"?le(Ae):le(ve,Ae))}catch(qe){n.throwLater(qe)}ae==="unhandledRejection"?!L(ae,ve,Ae)&&!Ie&&Ke(ve,"Unhandled rejection "):L(ae,Ae)}function at(ae){var le;if(typeof ae=="function")le="[function "+(ae.name||"anonymous")+"]";else{le=ae&&typeof ae.toString=="function"?ae.toString():s.toString(ae);var ve=/\[object [a-zA-Z0-9$_]+\]/;if(ve.test(le))try{var Ae=JSON.stringify(ae);le=Ae}catch{}le.length===0&&(le="(empty array)")}return"(<"+I(le)+">, no stack trace)"}function I(ae){var le=41;return ae.length<le?ae:ae.substr(0,le-3)+"..."}function ye(){return typeof _e=="function"}var he=function(){return!1},se=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function X(ae){var le=ae.match(se);if(le)return{fileName:le[1],line:parseInt(le[2],10)}}function oe(ae,le){if(ye()){for(var ve=ae.stack.split(`
`),Ae=le.stack.split(`
`),Ie=-1,qe=-1,ge,ke,Oe=0;Oe<ve.length;++Oe){var Ve=X(ve[Oe]);if(Ve){ge=Ve.fileName,Ie=Ve.line;break}}for(var Oe=0;Oe<Ae.length;++Oe){var Ve=X(Ae[Oe]);if(Ve){ke=Ve.fileName,qe=Ve.line;break}}Ie<0||qe<0||!ge||!ke||ge!==ke||Ie>=qe||(he=function($e){if(d.test($e))return!0;var dt=X($e);return!!(dt&&dt.fileName===ge&&Ie<=dt.line&&dt.line<=qe)})}}function De(ae){this._parent=ae,this._promisesCreated=0;var le=this._length=1+(ae===void 0?0:ae._length);_e(this,De),le>32&&this.uncycle()}s.inherits(De,Error),e.CapturedTrace=De,De.prototype.uncycle=function(){var ae=this._length;if(!(ae<2)){for(var le=[],ve={},Ae=0,Ie=this;Ie!==void 0;++Ae)le.push(Ie),Ie=Ie._parent;ae=this._length=Ae;for(var Ae=ae-1;Ae>=0;--Ae){var qe=le[Ae].stack;ve[qe]===void 0&&(ve[qe]=Ae)}for(var Ae=0;Ae<ae;++Ae){var ge=le[Ae].stack,ke=ve[ge];if(ke!==void 0&&ke!==Ae){ke>0&&(le[ke-1]._parent=void 0,le[ke-1]._length=1),le[Ae]._parent=void 0,le[Ae]._length=1;var Oe=Ae>0?le[Ae-1]:this;ke<ae-1?(Oe._parent=le[ke+1],Oe._parent.uncycle(),Oe._length=Oe._parent._length+1):(Oe._parent=void 0,Oe._length=1);for(var Ve=Oe._length+1,$e=Ae-2;$e>=0;--$e)le[$e]._length=Ve,Ve++;return}}}},De.prototype.attachExtraTrace=function(ae){if(!ae.__stackCleaned__){this.uncycle();for(var le=Ge(ae),ve=le.message,Ae=[le.stack],Ie=this;Ie!==void 0;)Ae.push(Me(Ie.stack.split(`
`))),Ie=Ie._parent;Re(Ae),Ee(Ae),s.notEnumerableProp(ae,"stack",be(ve,Ae)),s.notEnumerableProp(ae,"__stackCleaned__",!0)}};var _e=function(){var le=/^\s*at\s*/,ve=function(ge,ke){return typeof ge=="string"?ge:ke.name!==void 0&&ke.message!==void 0?ke.toString():at(ke)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,g=le,y=ve;var Ae=Error.captureStackTrace;return he=function(ge){return d.test(ge)},function(ge,ke){Error.stackTraceLimit+=6,Ae(ge,ke),Error.stackTraceLimit-=6}}var Ie=new Error;if(typeof Ie.stack=="string"&&Ie.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return g=/@/,y=ve,v=!0,function(ke){ke.stack=new Error().stack};var qe;try{throw new Error}catch(ge){qe="stack"in ge}return!("stack"in Ie)&&qe&&typeof Error.stackTraceLimit=="number"?(g=le,y=ve,function(ke){Error.stackTraceLimit+=6;try{throw new Error}catch(Oe){ke.stack=Oe.stack}Error.stackTraceLimit-=6}):(y=function(ge,ke){return typeof ge=="string"?ge:(typeof ke=="object"||typeof ke=="function")&&ke.name!==void 0&&ke.message!==void 0?ke.toString():at(ke)},null)}();typeof console<"u"&&typeof console.warn<"u"&&(x=function(ae){console.warn(ae)},s.isNode&&process.stderr.isTTY?x=function(ae,le){var ve=le?"\x1B[33m":"\x1B[31m";console.warn(ve+ae+`\x1B[0m
`)}:!s.isNode&&typeof new Error().stack=="string"&&(x=function(ae,le){console.warn("%c"+ae,le?"color: darkorange":"color: red")}));var fe={warnings:D,longStackTraces:!1,cancellation:!1,monitoring:!1};return E&&r.longStackTraces(),{longStackTraces:function(){return fe.longStackTraces},warnings:function(){return fe.warnings},cancellation:function(){return fe.cancellation},monitoring:function(){return fe.monitoring},propagateFromFunction:function(){return ie},boundValueFunction:function(){return te},checkForgottenReturns:ee,setBounds:oe,warn:pe,deprecated:re,CapturedTrace:De,fireDomEvent:U,fireGlobalEvent:M}}),M2}var I2,w3;function n$(){return w3||(w3=1,I2=function(r,e){var t=sn(),n=r.CancellationError,i=t.errorObj;function s(p,g,y){this.promise=p,this.type=g,this.handler=y,this.called=!1,this.cancelPromise=null}s.prototype.isFinallyHandler=function(){return this.type===0};function a(p){this.finallyHandler=p}a.prototype._resultCancelled=function(){l(this.finallyHandler)};function l(p,g){return p.cancelPromise!=null?(arguments.length>1?p.cancelPromise._reject(g):p.cancelPromise._cancel(),p.cancelPromise=null,!0):!1}function u(){return h.call(this,this.promise._target()._settledValue())}function d(p){if(!l(this,p))return i.e=p,i}function h(p){var g=this.promise,y=this.handler;if(!this.called){this.called=!0;var v=this.isFinallyHandler()?y.call(g._boundValue()):y.call(g._boundValue(),p);if(v!==void 0){g._setReturnedNonUndefined();var x=e(v,g);if(x instanceof r){if(this.cancelPromise!=null)if(x._isCancelled()){var T=new n("late cancellation observer");return g._attachExtraTrace(T),i.e=T,i}else x.isPending()&&x._attachCancellationCallback(new a(this));return x._then(u,d,void 0,this,void 0)}}}return g.isRejected()?(l(this),i.e=p,i):(l(this),p)}return r.prototype._passThrough=function(p,g,y,v){return typeof p!="function"?this.then():this._then(y,v,void 0,new s(this,g,p),void 0)},r.prototype.lastly=r.prototype.finally=function(p){return this._passThrough(p,0,h,h)},r.prototype.tap=function(p){return this._passThrough(p,1,h)},s}),I2}var F2,T3;function i$(){return T3||(T3=1,F2=function(r){var e=sn(),t=zh().keys,n=e.tryCatch,i=e.errorObj;function s(a,l,u){return function(d){var h=u._boundValue();e:for(var p=0;p<a.length;++p){var g=a[p];if(g===Error||g!=null&&g.prototype instanceof Error){if(d instanceof g)return n(l).call(h,d)}else if(typeof g=="function"){var y=n(g).call(h,d);if(y===i)return y;if(y)return n(l).call(h,d)}else if(e.isObject(d)){for(var v=t(g),x=0;x<v.length;++x){var T=v[x];if(g[T]!=d[T])continue e}return n(l).call(h,d)}}return r}}return s}),F2}var L2,D3;function w8(){if(D3)return L2;D3=1;var r=sn(),e=r.maybeWrapAsError,t=gl(),n=t.OperationalError,i=zh();function s(d){return d instanceof Error&&i.getPrototypeOf(d)===Error.prototype}var a=/^(?:name|message|stack|cause)$/;function l(d){var h;if(s(d)){h=new n(d),h.name=d.name,h.message=d.message,h.stack=d.stack;for(var p=i.keys(d),g=0;g<p.length;++g){var y=p[g];a.test(y)||(h[y]=d[y])}return h}return r.markAsOriginatingFromRejection(d),d}function u(d,h){return function(p,g){if(d!==null){if(p){var y=l(e(p));d._attachExtraTrace(y),d._reject(y)}else if(!h)d._fulfill(g);else{for(var v=arguments.length,x=new Array(Math.max(v-1,0)),T=1;T<v;++T)x[T-1]=arguments[T];d._fulfill(x)}d=null}}}return L2=u,L2}var O2,A3;function r$(){return A3||(A3=1,O2=function(r,e,t,n,i){var s=sn(),a=s.tryCatch;r.method=function(l){if(typeof l!="function")throw new r.TypeError("expecting a function but got "+s.classString(l));return function(){var u=new r(e);u._captureStackTrace(),u._pushContext();var d=a(l).apply(this,arguments),h=u._popContext();return i.checkForgottenReturns(d,h,"Promise.method",u),u._resolveFromSyncValue(d),u}},r.attempt=r.try=function(l){if(typeof l!="function")return n("expecting a function but got "+s.classString(l));var u=new r(e);u._captureStackTrace(),u._pushContext();var d;if(arguments.length>1){i.deprecated("calling Promise.try with more than 1 argument");var h=arguments[1],p=arguments[2];d=s.isArray(h)?a(l).apply(p,h):a(l).call(p,h)}else d=a(l)();var g=u._popContext();return i.checkForgottenReturns(d,g,"Promise.try",u),u._resolveFromSyncValue(d),u},r.prototype._resolveFromSyncValue=function(l){l===s.errorObj?this._rejectCallback(l.e,!1):this._resolveCallback(l,!0)}}),O2}var P2,E3;function s$(){return E3||(E3=1,P2=function(r,e,t,n){var i=!1,s=function(d,h){this._reject(h)},a=function(d,h){h.promiseRejectionQueued=!0,h.bindingPromise._then(s,s,null,this,d)},l=function(d,h){(this._bitField&50397184)===0&&this._resolveCallback(h.target)},u=function(d,h){h.promiseRejectionQueued||this._reject(d)};r.prototype.bind=function(d){i||(i=!0,r.prototype._propagateFrom=n.propagateFromFunction(),r.prototype._boundValue=n.boundValueFunction());var h=t(d),p=new r(e);p._propagateFrom(this,1);var g=this._target();if(p._setBoundTo(h),h instanceof r){var y={promiseRejectionQueued:!1,promise:p,target:g,bindingPromise:h};g._then(e,a,void 0,p,y),h._then(l,u,void 0,p,y),p._setOnCancel(h)}else p._resolveCallback(g);return p},r.prototype._setBoundTo=function(d){d!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=d):this._bitField=this._bitField&-2097153},r.prototype._isBound=function(){return(this._bitField&2097152)===2097152},r.bind=function(d,h){return r.resolve(h).bind(d)}}),P2}var B2,C3;function a$(){return C3||(C3=1,B2=function(r,e,t,n){var i=sn(),s=i.tryCatch,a=i.errorObj,l=r._async;r.prototype.break=r.prototype.cancel=function(){if(!n.cancellation())return this._warn("cancellation is disabled");for(var u=this,d=u;u._isCancellable();){if(!u._cancelBy(d)){d._isFollowing()?d._followee().cancel():d._cancelBranched();break}var h=u._cancellationParent;if(h==null||!h._isCancellable()){u._isFollowing()?u._followee().cancel():u._cancelBranched();break}else u._isFollowing()&&u._followee().cancel(),u._setWillBeCancelled(),d=u,u=h}},r.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},r.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},r.prototype._cancelBy=function(u){return u===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},r.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},r.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),l.invoke(this._cancelPromises,this,void 0))},r.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},r.prototype._unsetOnCancel=function(){this._onCancelField=void 0},r.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},r.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},r.prototype._doInvokeOnCancel=function(u,d){if(i.isArray(u))for(var h=0;h<u.length;++h)this._doInvokeOnCancel(u[h],d);else if(u!==void 0)if(typeof u=="function"){if(!d){var p=s(u).call(this._boundValue());p===a&&(this._attachExtraTrace(p.e),l.throwLater(p.e))}}else u._resultCancelled(this)},r.prototype._invokeOnCancel=function(){var u=this._onCancel();this._unsetOnCancel(),l.invoke(this._doInvokeOnCancel,this,u)},r.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},r.prototype._resultCancelled=function(){this.cancel()}}),B2}var z2,S3;function o$(){return S3||(S3=1,z2=function(r){function e(){return this.value}function t(){throw this.reason}r.prototype.return=r.prototype.thenReturn=function(n){return n instanceof r&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},r.prototype.throw=r.prototype.thenThrow=function(n){return this._then(t,void 0,void 0,{reason:n},void 0)},r.prototype.catchThrow=function(n){if(arguments.length<=1)return this._then(void 0,t,void 0,{reason:n},void 0);var i=arguments[1],s=function(){throw i};return this.caught(n,s)},r.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof r&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var i=arguments[1];i instanceof r&&i.suppressUnhandledRejections();var s=function(){return i};return this.caught(n,s)}}),z2}var q2,U3;function l$(){return U3||(U3=1,q2=function(r){function e(u){u!==void 0?(u=u._target(),this._bitField=u._bitField,this._settledValueField=u._isFateSealed()?u._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var t=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},n=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},i=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},s=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},a=e.prototype.isPending=function(){return(this._bitField&50397184)===0},l=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},r.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},r.prototype._isCancelled=function(){return this._target().__isCancelled()},r.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},r.prototype.isPending=function(){return a.call(this._target())},r.prototype.isRejected=function(){return s.call(this._target())},r.prototype.isFulfilled=function(){return i.call(this._target())},r.prototype.isResolved=function(){return l.call(this._target())},r.prototype.value=function(){return t.call(this._target())},r.prototype.reason=function(){var u=this._target();return u._unsetRejectionIsUnhandled(),n.call(u)},r.prototype._value=function(){return this._settledValue()},r.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},r.PromiseInspection=e}),q2}var W2,k3;function c$(){return k3||(k3=1,W2=function(r,e,t,n,i,s){var a=sn(),l=a.canEvaluate,u=a.tryCatch,d=a.errorObj,h;if(l){for(var p=function(E){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,E))},g=function(E){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,E))},y=function(E){for(var C=new Array(E),R=0;R<C.length;++R)C[R]="this.p"+(R+1);var U=C.join(" = ")+" = null;",M=`var promise;
`+C.map(function(H){return`                                                         
	                promise = `+H+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),O=C.join(", "),W="Holder$"+E,L=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return L=L.replace(/\[TheName\]/g,W).replace(/\[TheTotal\]/g,E).replace(/\[ThePassedArguments\]/g,O).replace(/\[TheProperties\]/g,U).replace(/\[CancellationCode\]/g,M),new Function("tryCatch","errorObj","Promise","async",L)(u,d,r,i)},v=[],x=[],T=[],D=0;D<8;++D)v.push(y(D+1)),x.push(p(D+1)),T.push(g(D+1));h=function(E){this._reject(E)}}r.join=function(){var E=arguments.length-1,C;if(E>0&&typeof arguments[E]=="function"&&(C=arguments[E],E<=8&&l)){var N=new r(n);N._captureStackTrace();for(var R=v[E-1],U=new R(C),M=x,O=0;O<E;++O){var W=t(arguments[O],N);if(W instanceof r){W=W._target();var L=W._bitField;(L&50397184)===0?(W._then(M[O],h,void 0,N,U),T[O](W,U),U.asyncNeeded=!1):(L&33554432)!==0?M[O].call(N,W._value(),U):(L&16777216)!==0?N._reject(W._reason()):N._cancel()}else M[O].call(N,W,U)}if(!N._isFateSealed()){if(U.asyncNeeded){var H=s();H!==null&&(U.fn=a.domainBind(H,U.fn))}N._setAsyncGuaranteed(),N._setOnCancel(U)}return N}for(var ne=arguments.length,F=new Array(ne),B=0;B<ne;++B)F[B]=arguments[B];C&&F.pop();var N=new e(F).promise();return C!==void 0?N.spread(C):N}}),W2}var j2,R3;function u$(){return R3||(R3=1,j2=function(r,e,t,n,i,s){var a=r._getDomain,l=sn(),u=l.tryCatch,d=l.errorObj,h=r._async;function p(y,v,x,T){this.constructor$(y),this._promise._captureStackTrace();var D=a();this._callback=D===null?v:l.domainBind(D,v),this._preservedValues=T===i?new Array(this.length()):null,this._limit=x,this._inFlight=0,this._queue=[],h.invoke(this._asyncInit,this,void 0)}l.inherits(p,e),p.prototype._asyncInit=function(){this._init$(void 0,-2)},p.prototype._init=function(){},p.prototype._promiseFulfilled=function(y,v){var x=this._values,T=this.length(),D=this._preservedValues,E=this._limit;if(v<0){if(v=v*-1-1,x[v]=y,E>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(E>=1&&this._inFlight>=E)return x[v]=y,this._queue.push(v),!1;D!==null&&(D[v]=y);var C=this._promise,R=this._callback,U=C._boundValue();C._pushContext();var M=u(R).call(U,y,v,T),O=C._popContext();if(s.checkForgottenReturns(M,O,D!==null?"Promise.filter":"Promise.map",C),M===d)return this._reject(M.e),!0;var W=n(M,this._promise);if(W instanceof r){W=W._target();var L=W._bitField;if((L&50397184)===0)return E>=1&&this._inFlight++,x[v]=W,W._proxy(this,(v+1)*-1),!1;if((L&33554432)!==0)M=W._value();else return(L&16777216)!==0?(this._reject(W._reason()),!0):(this._cancel(),!0)}x[v]=M}var H=++this._totalResolved;return H>=T?(D!==null?this._filter(x,D):this._resolve(x),!0):!1},p.prototype._drainQueue=function(){for(var y=this._queue,v=this._limit,x=this._values;y.length>0&&this._inFlight<v;){if(this._isResolved())return;var T=y.pop();this._promiseFulfilled(x[T],T)}},p.prototype._filter=function(y,v){for(var x=v.length,T=new Array(x),D=0,E=0;E<x;++E)y[E]&&(T[D++]=v[E]);T.length=D,this._resolve(T)},p.prototype.preservedValues=function(){return this._preservedValues};function g(y,v,x,T){if(typeof v!="function")return t("expecting a function but got "+l.classString(v));var D=0;if(x!==void 0)if(typeof x=="object"&&x!==null){if(typeof x.concurrency!="number")return r.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(x.concurrency)));D=x.concurrency}else return r.reject(new TypeError("options argument must be an object but it is "+l.classString(x)));return D=typeof D=="number"&&isFinite(D)&&D>=1?D:0,new p(y,v,D,T).promise()}r.prototype.map=function(y,v){return g(this,y,v,null)},r.map=function(y,v,x,T){return g(y,v,x,T)}}),j2}var V2,N3;function d$(){if(N3)return V2;N3=1;var r=Object.create;if(r){var e=r(null),t=r(null);e[" size"]=t[" size"]=0}return V2=function(n){var i=sn(),s=i.canEvaluate,a=i.isIdentifier,l,u;{var d=function(T){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,T))(g)},h=function(T){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",T))},p=function(T,D,E){var C=E[T];if(typeof C!="function"){if(!a(T))return null;if(C=D(T),E[T]=C,E[" size"]++,E[" size"]>512){for(var R=Object.keys(E),U=0;U<256;++U)delete E[R[U]];E[" size"]=R.length-256}}return C};l=function(T){return p(T,d,e)},u=function(T){return p(T,h,t)}}function g(T,D){var E;if(T!=null&&(E=T[D]),typeof E!="function"){var C="Object "+i.classString(T)+" has no method '"+i.toString(D)+"'";throw new n.TypeError(C)}return E}function y(T){var D=this.pop(),E=g(T,D);return E.apply(T,this)}n.prototype.call=function(T){for(var D=arguments.length,E=new Array(Math.max(D-1,0)),C=1;C<D;++C)E[C-1]=arguments[C];if(s){var R=l(T);if(R!==null)return this._then(R,void 0,void 0,E,void 0)}return E.push(T),this._then(y,void 0,void 0,E,void 0)};function v(T){return T[this]}function x(T){var D=+this;return D<0&&(D=Math.max(0,D+T.length)),T[D]}n.prototype.get=function(T){var D=typeof T=="number",E;if(D)E=x;else if(s){var C=u(T);E=C!==null?C:v}else E=v;return this._then(E,void 0,void 0,T,void 0)}},V2}var H2,M3;function h$(){return M3||(M3=1,H2=function(r,e,t,n,i,s){var a=sn(),l=gl().TypeError,u=sn().inherits,d=a.errorObj,h=a.tryCatch,p={};function g(C){setTimeout(function(){throw C},0)}function y(C){var R=t(C);return R!==C&&typeof C._isDisposable=="function"&&typeof C._getDisposer=="function"&&C._isDisposable()&&R._setDisposable(C._getDisposer()),R}function v(C,R){var U=0,M=C.length,O=new r(i);function W(){if(U>=M)return O._fulfill();var L=y(C[U++]);if(L instanceof r&&L._isDisposable()){try{L=t(L._getDisposer().tryDispose(R),C.promise)}catch(H){return g(H)}if(L instanceof r)return L._then(W,g,null,null,null)}W()}return W(),O}function x(C,R,U){this._data=C,this._promise=R,this._context=U}x.prototype.data=function(){return this._data},x.prototype.promise=function(){return this._promise},x.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():p},x.prototype.tryDispose=function(C){var R=this.resource(),U=this._context;U!==void 0&&U._pushContext();var M=R!==p?this.doDispose(R,C):null;return U!==void 0&&U._popContext(),this._promise._unsetDisposable(),this._data=null,M},x.isDisposer=function(C){return C!=null&&typeof C.resource=="function"&&typeof C.tryDispose=="function"};function T(C,R,U){this.constructor$(C,R,U)}u(T,x),T.prototype.doDispose=function(C,R){var U=this.data();return U.call(C,C,R)};function D(C){return x.isDisposer(C)?(this.resources[this.index]._setDisposable(C),C.promise()):C}function E(C){this.length=C,this.promise=null,this[C-1]=null}E.prototype._resultCancelled=function(){for(var C=this.length,R=0;R<C;++R){var U=this[R];U instanceof r&&U.cancel()}},r.using=function(){var C=arguments.length;if(C<2)return e("you must pass at least 2 arguments to Promise.using");var R=arguments[C-1];if(typeof R!="function")return e("expecting a function but got "+a.classString(R));var U,M=!0;C===2&&Array.isArray(arguments[0])?(U=arguments[0],C=U.length,M=!1):(U=arguments,C--);for(var O=new E(C),W=0;W<C;++W){var L=U[W];if(x.isDisposer(L)){var H=L;L=L.promise(),L._setDisposable(H)}else{var ne=t(L);ne instanceof r&&(L=ne._then(D,null,null,{resources:O,index:W},void 0))}O[W]=L}for(var F=new Array(O.length),W=0;W<F.length;++W)F[W]=r.resolve(O[W]).reflect();var B=r.all(F).then(function(K){for(var P=0;P<K.length;++P){var q=K[P];if(q.isRejected())return d.e=q.error(),d;if(!q.isFulfilled()){B.cancel();return}K[P]=q.value()}N._pushContext(),R=h(R);var ie=M?R.apply(void 0,K):R(K),te=N._popContext();return s.checkForgottenReturns(ie,te,"Promise.using",N),ie}),N=B.lastly(function(){var K=new r.PromiseInspection(B);return v(O,K)});return O.promise=N,N._setOnCancel(O),N},r.prototype._setDisposable=function(C){this._bitField=this._bitField|131072,this._disposer=C},r.prototype._isDisposable=function(){return(this._bitField&131072)>0},r.prototype._getDisposer=function(){return this._disposer},r.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},r.prototype.disposer=function(C){if(typeof C=="function")return new T(C,this,n());throw new l}}),H2}var G2,I3;function f$(){return I3||(I3=1,G2=function(r,e,t){var n=sn(),i=r.TimeoutError;function s(p){this.handle=p}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(p){return l(+this).thenReturn(p)},l=r.delay=function(p,g){var y,v;return g!==void 0?(y=r.resolve(g)._then(a,null,null,p,void 0),t.cancellation()&&g instanceof r&&y._setOnCancel(g)):(y=new r(e),v=setTimeout(function(){y._fulfill()},+p),t.cancellation()&&y._setOnCancel(new s(v)),y._captureStackTrace()),y._setAsyncGuaranteed(),y};r.prototype.delay=function(p){return l(p,this)};var u=function(p,g,y){var v;typeof g!="string"?g instanceof Error?v=g:v=new i("operation timed out"):v=new i(g),n.markAsOriginatingFromRejection(v),p._attachExtraTrace(v),p._reject(v),y!=null&&y.cancel()};function d(p){return clearTimeout(this.handle),p}function h(p){throw clearTimeout(this.handle),p}r.prototype.timeout=function(p,g){p=+p;var y,v,x=new s(setTimeout(function(){y.isPending()&&u(y,g,v)},p));return t.cancellation()?(v=this.then(),y=v._then(d,h,void 0,x,void 0),y._setOnCancel(x)):y=this._then(d,h,void 0,x,void 0),y}}),G2}var $2,F3;function p$(){return F3||(F3=1,$2=function(r,e,t,n,i,s){var a=gl(),l=a.TypeError,u=sn(),d=u.errorObj,h=u.tryCatch,p=[];function g(v,x,T){for(var D=0;D<x.length;++D){T._pushContext();var E=h(x[D])(v);if(T._popContext(),E===d){T._pushContext();var C=r.reject(d.e);return T._popContext(),C}var R=n(E,T);if(R instanceof r)return R}return null}function y(v,x,T,D){if(s.cancellation()){var E=new r(t),C=this._finallyPromise=new r(t);this._promise=E.lastly(function(){return C}),E._captureStackTrace(),E._setOnCancel(this)}else{var R=this._promise=new r(t);R._captureStackTrace()}this._stack=D,this._generatorFunction=v,this._receiver=x,this._generator=void 0,this._yieldHandlers=typeof T=="function"?[T].concat(p):p,this._yieldedPromise=null,this._cancellationPhase=!1}u.inherits(y,i),y.prototype._isResolved=function(){return this._promise===null},y.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},y.prototype._promiseCancelled=function(){if(!this._isResolved()){var v=typeof this._generator.return<"u",x;if(v)this._promise._pushContext(),x=h(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var T=new r.CancellationError("generator .return() sentinel");r.coroutine.returnSentinel=T,this._promise._attachExtraTrace(T),this._promise._pushContext(),x=h(this._generator.throw).call(this._generator,T),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(x)}},y.prototype._promiseFulfilled=function(v){this._yieldedPromise=null,this._promise._pushContext();var x=h(this._generator.next).call(this._generator,v);this._promise._popContext(),this._continue(x)},y.prototype._promiseRejected=function(v){this._yieldedPromise=null,this._promise._attachExtraTrace(v),this._promise._pushContext();var x=h(this._generator.throw).call(this._generator,v);this._promise._popContext(),this._continue(x)},y.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof r){var v=this._yieldedPromise;this._yieldedPromise=null,v.cancel()}},y.prototype.promise=function(){return this._promise},y.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},y.prototype._continue=function(v){var x=this._promise;if(v===d)return this._cleanup(),this._cancellationPhase?x.cancel():x._rejectCallback(v.e,!1);var T=v.value;if(v.done===!0)return this._cleanup(),this._cancellationPhase?x.cancel():x._resolveCallback(T);var D=n(T,this._promise);if(!(D instanceof r)&&(D=g(D,this._yieldHandlers,this._promise),D===null)){this._promiseRejected(new l(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",T)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}D=D._target();var E=D._bitField;(E&50397184)===0?(this._yieldedPromise=D,D._proxy(this,null)):(E&33554432)!==0?r._async.invoke(this._promiseFulfilled,this,D._value()):(E&16777216)!==0?r._async.invoke(this._promiseRejected,this,D._reason()):this._promiseCancelled()},r.coroutine=function(v,x){if(typeof v!="function")throw new l(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var T=Object(x).yieldHandler,D=y,E=new Error().stack;return function(){var C=v.apply(this,arguments),R=new D(void 0,void 0,T,E),U=R.promise();return R._generator=C,R._promiseFulfilled(void 0),U}},r.coroutine.addYieldHandler=function(v){if(typeof v!="function")throw new l("expecting a function but got "+u.classString(v));p.push(v)},r.spawn=function(v){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),typeof v!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var x=new y(v,this),T=x.promise();return x._run(r.spawn),T}}),$2}var X2,L3;function g$(){return L3||(L3=1,X2=function(r){var e=sn(),t=r._async,n=e.tryCatch,i=e.errorObj;function s(u,d){var h=this;if(!e.isArray(u))return a.call(h,u,d);var p=n(d).apply(h._boundValue(),[null].concat(u));p===i&&t.throwLater(p.e)}function a(u,d){var h=this,p=h._boundValue(),g=u===void 0?n(d).call(p,null):n(d).call(p,null,u);g===i&&t.throwLater(g.e)}function l(u,d){var h=this;if(!u){var p=new Error(u+"");p.cause=u,u=p}var g=n(d).call(h._boundValue(),u);g===i&&t.throwLater(g.e)}r.prototype.asCallback=r.prototype.nodeify=function(u,d){if(typeof u=="function"){var h=a;d!==void 0&&Object(d).spread&&(h=s),this._then(h,l,void 0,this,u)}return this}}),X2}var Q2,O3;function m$(){return O3||(O3=1,Q2=function(r,e){var t={},n=sn(),i=w8(),s=n.withAppended,a=n.maybeWrapAsError,l=n.canEvaluate,u=gl().TypeError,d="Async",h={__isPromisified__:!0},p=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],g=new RegExp("^(?:"+p.join("|")+")$"),y=function(B){return n.isIdentifier(B)&&B.charAt(0)!=="_"&&B!=="constructor"};function v(B){return!g.test(B)}function x(B){try{return B.__isPromisified__===!0}catch{return!1}}function T(B,N,K){var P=n.getDataPropertyOrDefault(B,N+K,h);return P?x(P):!1}function D(B,N,K){for(var P=0;P<B.length;P+=2){var q=B[P];if(K.test(q)){for(var ie=q.replace(K,""),te=0;te<B.length;te+=2)if(B[te]===ie)throw new u(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",N))}}}function E(B,N,K,P){for(var q=n.inheritedDataKeys(B),ie=[],te=0;te<q.length;++te){var j=q[te],V=B[j],ee=P===y?!0:y(j);typeof V=="function"&&!x(V)&&!T(B,j,N)&&P(j,V,B,ee)&&ie.push(j,V)}return D(ie,N,K),ie}var C=function(B){return B.replace(/([$])/,"\\$")},R;{var U=function(B){for(var N=[B],K=Math.max(0,B-1-3),P=B-1;P>=K;--P)N.push(P);for(var P=B+1;P<=3;++P)N.push(P);return N},M=function(B){return n.filledRange(B,"_arg","")},O=function(B){return n.filledRange(Math.max(B,3),"_arg","")},W=function(B){return typeof B.length=="number"?Math.max(Math.min(B.length,1024),0):0};R=function(B,N,K,P,q,ie){var te=Math.max(0,W(P)-1),j=U(te),V=typeof B=="string"||N===t;function ee(Ee){var Re=M(Ee).join(", "),Me=Ee>0?", ":"",ze;return V?ze=`ret = callback.call(this, {{args}}, nodeback); break;
`:ze=N===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,ze.replace("{{args}}",Re).replace(", ",Me)}function re(){for(var Ee="",Re=0;Re<j.length;++Re)Ee+="case "+j[Re]+":"+ee(j[Re]);return Ee+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",V?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),Ee}var pe=typeof B=="string"?"this != null ? this['"+B+"'] : fn":"fn",be=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+ie+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",re()).replace("[GetFunctionCode]",pe);return be=be.replace("Parameters",O(te)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",be)(r,P,N,s,a,i,n.tryCatch,n.errorObj,n.notEnumerableProp,e)}}function L(B,N,K,P,q,ie){var te=function(){return this}(),j=B;typeof j=="string"&&(B=P);function V(){var ee=N;N===t&&(ee=this);var re=new r(e);re._captureStackTrace();var pe=typeof j=="string"&&this!==te?this[j]:B,be=i(re,ie);try{pe.apply(ee,s(arguments,be))}catch(Ee){re._rejectCallback(a(Ee),!0,!0)}return re._isFateSealed()||re._setAsyncGuaranteed(),re}return n.notEnumerableProp(V,"__isPromisified__",!0),V}var H=l?R:L;function ne(B,N,K,P,q){for(var ie=new RegExp(C(N)+"$"),te=E(B,N,ie,K),j=0,V=te.length;j<V;j+=2){var ee=te[j],re=te[j+1],pe=ee+N;if(P===H)B[pe]=H(ee,t,ee,re,N,q);else{var be=P(re,function(){return H(ee,t,ee,re,N,q)});n.notEnumerableProp(be,"__isPromisified__",!0),B[pe]=be}}return n.toFastProperties(B),B}function F(B,N,K){return H(B,N,void 0,B,null,K)}r.promisify=function(B,N){if(typeof B!="function")throw new u("expecting a function but got "+n.classString(B));if(x(B))return B;N=Object(N);var K=N.context===void 0?t:N.context,P=!!N.multiArgs,q=F(B,K,P);return n.copyDescriptors(B,q,v),q},r.promisifyAll=function(B,N){if(typeof B!="function"&&typeof B!="object")throw new u(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);N=Object(N);var K=!!N.multiArgs,P=N.suffix;typeof P!="string"&&(P=d);var q=N.filter;typeof q!="function"&&(q=y);var ie=N.promisifier;if(typeof ie!="function"&&(ie=H),!n.isIdentifier(P))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var te=n.inheritedDataKeys(B),j=0;j<te.length;++j){var V=B[te[j]];te[j]!=="constructor"&&n.isClass(V)&&(ne(V.prototype,P,q,ie,K),ne(V,P,q,ie,K))}return ne(B,P,q,ie,K)}}),Q2}var Y2,P3;function y$(){return P3||(P3=1,Y2=function(r,e,t,n){var i=sn(),s=i.isObject,a=zh(),l;typeof Map=="function"&&(l=Map);var u=function(){var g=0,y=0;function v(x,T){this[g]=x,this[g+y]=T,g++}return function(T){y=T.size,g=0;var D=new Array(T.size*2);return T.forEach(v,D),D}}(),d=function(g){for(var y=new l,v=g.length/2|0,x=0;x<v;++x){var T=g[v+x],D=g[x];y.set(T,D)}return y};function h(g){var y=!1,v;if(l!==void 0&&g instanceof l)v=u(g),y=!0;else{var x=a.keys(g),T=x.length;v=new Array(T*2);for(var D=0;D<T;++D){var E=x[D];v[D]=g[E],v[D+T]=E}}this.constructor$(v),this._isMap=y,this._init$(void 0,-3)}i.inherits(h,e),h.prototype._init=function(){},h.prototype._promiseFulfilled=function(g,y){this._values[y]=g;var v=++this._totalResolved;if(v>=this._length){var x;if(this._isMap)x=d(this._values);else{x={};for(var T=this.length(),D=0,E=this.length();D<E;++D)x[this._values[D+T]]=this._values[D]}return this._resolve(x),!0}return!1},h.prototype.shouldCopyValues=function(){return!1},h.prototype.getActualLength=function(g){return g>>1};function p(g){var y,v=t(g);if(s(v))v instanceof r?y=v._then(r.props,void 0,void 0,void 0,void 0):y=new h(v).promise();else return n(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return v instanceof r&&y._propagateFrom(v,2),y}r.prototype.props=function(){return p(this)},r.props=function(g){return p(g)}}),Y2}var K2,B3;function v$(){return B3||(B3=1,K2=function(r,e,t,n){var i=sn(),s=function(l){return l.then(function(u){return a(u,l)})};function a(l,u){var d=t(l);if(d instanceof r)return s(d);if(l=i.asArray(l),l===null)return n("expecting an array or an iterable object but got "+i.classString(l));var h=new r(e);u!==void 0&&h._propagateFrom(u,3);for(var p=h._fulfill,g=h._reject,y=0,v=l.length;y<v;++y){var x=l[y];x===void 0&&!(y in l)||r.cast(x)._then(p,g,void 0,h,null)}return h}r.race=function(l){return a(l,void 0)},r.prototype.race=function(){return a(this,void 0)}}),K2}var Z2,z3;function b$(){return z3||(z3=1,Z2=function(r,e,t,n,i,s){var a=r._getDomain,l=sn(),u=l.tryCatch;function d(v,x,T,D){this.constructor$(v);var E=a();this._fn=E===null?x:l.domainBind(E,x),T!==void 0&&(T=r.resolve(T),T._attachCancellationCallback(this)),this._initialValue=T,this._currentCancellable=null,D===i?this._eachValues=Array(this._length):D===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}l.inherits(d,e),d.prototype._gotAccum=function(v){this._eachValues!==void 0&&this._eachValues!==null&&v!==i&&this._eachValues.push(v)},d.prototype._eachComplete=function(v){return this._eachValues!==null&&this._eachValues.push(v),this._eachValues},d.prototype._init=function(){},d.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},d.prototype.shouldCopyValues=function(){return!1},d.prototype._resolve=function(v){this._promise._resolveCallback(v),this._values=null},d.prototype._resultCancelled=function(v){if(v===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof r&&this._currentCancellable.cancel(),this._initialValue instanceof r&&this._initialValue.cancel())},d.prototype._iterate=function(v){this._values=v;var x,T,D=v.length;if(this._initialValue!==void 0?(x=this._initialValue,T=0):(x=r.resolve(v[0]),T=1),this._currentCancellable=x,!x.isRejected())for(;T<D;++T){var E={accum:null,value:v[T],index:T,length:D,array:this};x=x._then(g,void 0,void 0,E,void 0)}this._eachValues!==void 0&&(x=x._then(this._eachComplete,void 0,void 0,this,void 0)),x._then(h,h,void 0,x,this)},r.prototype.reduce=function(v,x){return p(this,v,x,null)},r.reduce=function(v,x,T,D){return p(v,x,T,D)};function h(v,x){this.isFulfilled()?x._resolve(v):x._reject(v)}function p(v,x,T,D){if(typeof x!="function")return t("expecting a function but got "+l.classString(x));var E=new d(v,x,T,D);return E.promise()}function g(v){this.accum=v,this.array._gotAccum(v);var x=n(this.value,this.array._promise);return x instanceof r?(this.array._currentCancellable=x,x._then(y,void 0,void 0,this,void 0)):y.call(this,x)}function y(v){var x=this.array,T=x._promise,D=u(x._fn);T._pushContext();var E;x._eachValues!==void 0?E=D.call(T._boundValue(),v,this.index,this.length):E=D.call(T._boundValue(),this.accum,v,this.index,this.length),E instanceof r&&(x._currentCancellable=E);var C=T._popContext();return s.checkForgottenReturns(E,C,x._eachValues!==void 0?"Promise.each":"Promise.reduce",T),E}}),Z2}var J2,q3;function x$(){return q3||(q3=1,J2=function(r,e,t){var n=r.PromiseInspection,i=sn();function s(a){this.constructor$(a)}i.inherits(s,e),s.prototype._promiseResolved=function(a,l){this._values[a]=l;var u=++this._totalResolved;return u>=this._length?(this._resolve(this._values),!0):!1},s.prototype._promiseFulfilled=function(a,l){var u=new n;return u._bitField=33554432,u._settledValueField=a,this._promiseResolved(l,u)},s.prototype._promiseRejected=function(a,l){var u=new n;return u._bitField=16777216,u._settledValueField=a,this._promiseResolved(l,u)},r.settle=function(a){return t.deprecated(".settle()",".reflect()"),new s(a).promise()},r.prototype.settle=function(){return r.settle(this)}}),J2}var e_,W3;function _$(){return W3||(W3=1,e_=function(r,e,t){var n=sn(),i=gl().RangeError,s=gl().AggregateError,a=n.isArray,l={};function u(h){this.constructor$(h),this._howMany=0,this._unwrap=!1,this._initialized=!1}n.inherits(u,e),u.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var h=a(this._values);!this._isResolved()&&h&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},u.prototype.init=function(){this._initialized=!0,this._init()},u.prototype.setUnwrap=function(){this._unwrap=!0},u.prototype.howMany=function(){return this._howMany},u.prototype.setHowMany=function(h){this._howMany=h},u.prototype._promiseFulfilled=function(h){return this._addFulfilled(h),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},u.prototype._promiseRejected=function(h){return this._addRejected(h),this._checkOutcome()},u.prototype._promiseCancelled=function(){return this._values instanceof r||this._values==null?this._cancel():(this._addRejected(l),this._checkOutcome())},u.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var h=new s,p=this.length();p<this._values.length;++p)this._values[p]!==l&&h.push(this._values[p]);return h.length>0?this._reject(h):this._cancel(),!0}return!1},u.prototype._fulfilled=function(){return this._totalResolved},u.prototype._rejected=function(){return this._values.length-this.length()},u.prototype._addRejected=function(h){this._values.push(h)},u.prototype._addFulfilled=function(h){this._values[this._totalResolved++]=h},u.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},u.prototype._getRangeError=function(h){var p="Input array must contain at least "+this._howMany+" items but contains only "+h+" items";return new i(p)},u.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function d(h,p){if((p|0)!==p||p<0)return t(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var g=new u(h),y=g.promise();return g.setHowMany(p),g.init(),y}r.some=function(h,p){return d(h,p)},r.prototype.some=function(h){return d(this,h)},r._SomePromiseArray=u}),e_}var t_,j3;function w$(){return j3||(j3=1,t_=function(r,e){var t=r.map;r.prototype.filter=function(n,i){return t(this,n,i,e)},r.filter=function(n,i,s){return t(n,i,s,e)}}),t_}var n_,V3;function T$(){return V3||(V3=1,n_=function(r,e){var t=r.reduce,n=r.all;function i(){return n(this)}function s(a,l){return t(a,l,e,e)}r.prototype.each=function(a){return t(this,a,e,0)._then(i,void 0,void 0,this,void 0)},r.prototype.mapSeries=function(a){return t(this,a,e,e)},r.each=function(a,l){return t(a,l,e,0)._then(i,void 0,void 0,a,void 0)},r.mapSeries=s}),n_}var i_,H3;function D$(){return H3||(H3=1,i_=function(r){var e=r._SomePromiseArray;function t(n){var i=new e(n),s=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),s}r.any=function(n){return t(n)},r.prototype.any=function(){return t(this)}}),i_}var G3;function A$(){return G3||(G3=1,function(r){r.exports=function(){var e=function(){return new g(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},t=function(){return new F.PromiseInspection(this._target())},n=function(P){return F.reject(new g(P))};function i(){}var s={},a=sn(),l;a.isNode?l=function(){var P=process.domain;return P===void 0&&(P=null),P}:l=function(){return null},a.notEnumerableProp(F,"_getDomain",l);var u=zh(),d=KG(),h=new d;u.defineProperty(F,"_async",{value:h});var p=gl(),g=F.TypeError=p.TypeError;F.RangeError=p.RangeError;var y=F.CancellationError=p.CancellationError;F.TimeoutError=p.TimeoutError,F.OperationalError=p.OperationalError,F.RejectionError=p.OperationalError,F.AggregateError=p.AggregateError;var v=function(){},x={},T={},D=ZG()(F,v),E=JG()(F,v,D,n,i),C=e$()(F),R=C.create,U=t$()(F,C);U.CapturedTrace;var M=n$()(F,D),O=i$()(T),W=w8(),L=a.errorObj,H=a.tryCatch;function ne(P,q){if(typeof q!="function")throw new g("expecting a function but got "+a.classString(q));if(P.constructor!==F)throw new g(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function F(P){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,P!==v&&(ne(this,P),this._resolveFromExecutor(P)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}F.prototype.toString=function(){return"[object Promise]"},F.prototype.caught=F.prototype.catch=function(P){var q=arguments.length;if(q>1){var ie=new Array(q-1),te=0,j;for(j=0;j<q-1;++j){var V=arguments[j];if(a.isObject(V))ie[te++]=V;else return n("expecting an object but got A catch statement predicate "+a.classString(V))}return ie.length=te,P=arguments[j],this.then(void 0,O(ie,P,this))}return this.then(void 0,P)},F.prototype.reflect=function(){return this._then(t,t,void 0,this,void 0)},F.prototype.then=function(P,q){if(U.warnings()&&arguments.length>0&&typeof P!="function"&&typeof q!="function"){var ie=".then() only accepts functions but was passed: "+a.classString(P);arguments.length>1&&(ie+=", "+a.classString(q)),this._warn(ie)}return this._then(P,q,void 0,void 0,void 0)},F.prototype.done=function(P,q){var ie=this._then(P,q,void 0,void 0,void 0);ie._setIsFinal()},F.prototype.spread=function(P){return typeof P!="function"?n("expecting a function but got "+a.classString(P)):this.all()._then(P,void 0,void 0,x,void 0)},F.prototype.toJSON=function(){var P={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(P.fulfillmentValue=this.value(),P.isFulfilled=!0):this.isRejected()&&(P.rejectionReason=this.reason(),P.isRejected=!0),P},F.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new E(this).promise()},F.prototype.error=function(P){return this.caught(a.originatesFromRejection,P)},F.getNewLibraryCopy=r.exports,F.is=function(P){return P instanceof F},F.fromNode=F.fromCallback=function(P){var q=new F(v);q._captureStackTrace();var ie=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,te=H(P)(W(q,ie));return te===L&&q._rejectCallback(te.e,!0),q._isFateSealed()||q._setAsyncGuaranteed(),q},F.all=function(P){return new E(P).promise()},F.cast=function(P){var q=D(P);return q instanceof F||(q=new F(v),q._captureStackTrace(),q._setFulfilled(),q._rejectionHandler0=P),q},F.resolve=F.fulfilled=F.cast,F.reject=F.rejected=function(P){var q=new F(v);return q._captureStackTrace(),q._rejectCallback(P,!0),q},F.setScheduler=function(P){if(typeof P!="function")throw new g("expecting a function but got "+a.classString(P));return h.setScheduler(P)},F.prototype._then=function(P,q,ie,te,j){var V=j!==void 0,ee=V?j:new F(v),re=this._target(),pe=re._bitField;V||(ee._propagateFrom(this,3),ee._captureStackTrace(),te===void 0&&(this._bitField&2097152)!==0&&((pe&50397184)!==0?te=this._boundValue():te=re===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,ee));var be=l();if((pe&50397184)!==0){var Ee,Re,Me=re._settlePromiseCtx;(pe&33554432)!==0?(Re=re._rejectionHandler0,Ee=P):(pe&16777216)!==0?(Re=re._fulfillmentHandler0,Ee=q,re._unsetRejectionIsUnhandled()):(Me=re._settlePromiseLateCancellationObserver,Re=new y("late cancellation observer"),re._attachExtraTrace(Re),Ee=q),h.invoke(Me,re,{handler:be===null?Ee:typeof Ee=="function"&&a.domainBind(be,Ee),promise:ee,receiver:te,value:Re})}else re._addCallbacks(P,q,ee,te,be);return ee},F.prototype._length=function(){return this._bitField&65535},F.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},F.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},F.prototype._setLength=function(P){this._bitField=this._bitField&-65536|P&65535},F.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},F.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},F.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},F.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},F.prototype._isFinal=function(){return(this._bitField&4194304)>0},F.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},F.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},F.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},F.prototype._setAsyncGuaranteed=function(){h.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},F.prototype._receiverAt=function(P){var q=P===0?this._receiver0:this[P*4-4+3];if(q!==s)return q===void 0&&this._isBound()?this._boundValue():q},F.prototype._promiseAt=function(P){return this[P*4-4+2]},F.prototype._fulfillmentHandlerAt=function(P){return this[P*4-4+0]},F.prototype._rejectionHandlerAt=function(P){return this[P*4-4+1]},F.prototype._boundValue=function(){},F.prototype._migrateCallback0=function(P){P._bitField;var q=P._fulfillmentHandler0,ie=P._rejectionHandler0,te=P._promise0,j=P._receiverAt(0);j===void 0&&(j=s),this._addCallbacks(q,ie,te,j,null)},F.prototype._migrateCallbackAt=function(P,q){var ie=P._fulfillmentHandlerAt(q),te=P._rejectionHandlerAt(q),j=P._promiseAt(q),V=P._receiverAt(q);V===void 0&&(V=s),this._addCallbacks(ie,te,j,V,null)},F.prototype._addCallbacks=function(P,q,ie,te,j){var V=this._length();if(V>=65531&&(V=0,this._setLength(0)),V===0)this._promise0=ie,this._receiver0=te,typeof P=="function"&&(this._fulfillmentHandler0=j===null?P:a.domainBind(j,P)),typeof q=="function"&&(this._rejectionHandler0=j===null?q:a.domainBind(j,q));else{var ee=V*4-4;this[ee+2]=ie,this[ee+3]=te,typeof P=="function"&&(this[ee+0]=j===null?P:a.domainBind(j,P)),typeof q=="function"&&(this[ee+1]=j===null?q:a.domainBind(j,q))}return this._setLength(V+1),V},F.prototype._proxy=function(P,q){this._addCallbacks(void 0,void 0,q,P,null)},F.prototype._resolveCallback=function(P,q){if((this._bitField&117506048)===0){if(P===this)return this._rejectCallback(e(),!1);var ie=D(P,this);if(!(ie instanceof F))return this._fulfill(P);q&&this._propagateFrom(ie,2);var te=ie._target();if(te===this){this._reject(e());return}var j=te._bitField;if((j&50397184)===0){var V=this._length();V>0&&te._migrateCallback0(this);for(var ee=1;ee<V;++ee)te._migrateCallbackAt(this,ee);this._setFollowing(),this._setLength(0),this._setFollowee(te)}else if((j&33554432)!==0)this._fulfill(te._value());else if((j&16777216)!==0)this._reject(te._reason());else{var re=new y("late cancellation observer");te._attachExtraTrace(re),this._reject(re)}}},F.prototype._rejectCallback=function(P,q,ie){var te=a.ensureErrorObject(P),j=te===P;if(!j&&!ie&&U.warnings()){var V="a promise was rejected with a non-error: "+a.classString(P);this._warn(V,!0)}this._attachExtraTrace(te,q?j:!1),this._reject(P)},F.prototype._resolveFromExecutor=function(P){var q=this;this._captureStackTrace(),this._pushContext();var ie=!0,te=this._execute(P,function(j){q._resolveCallback(j)},function(j){q._rejectCallback(j,ie)});ie=!1,this._popContext(),te!==void 0&&q._rejectCallback(te,!0)},F.prototype._settlePromiseFromHandler=function(P,q,ie,te){var j=te._bitField;if((j&65536)===0){te._pushContext();var V;q===x?!ie||typeof ie.length!="number"?(V=L,V.e=new g("cannot .spread() a non-array: "+a.classString(ie))):V=H(P).apply(this._boundValue(),ie):V=H(P).call(q,ie);var ee=te._popContext();j=te._bitField,(j&65536)===0&&(V===T?te._reject(ie):V===L?te._rejectCallback(V.e,!1):(U.checkForgottenReturns(V,ee,"",te,this),te._resolveCallback(V)))}},F.prototype._target=function(){for(var P=this;P._isFollowing();)P=P._followee();return P},F.prototype._followee=function(){return this._rejectionHandler0},F.prototype._setFollowee=function(P){this._rejectionHandler0=P},F.prototype._settlePromise=function(P,q,ie,te){var j=P instanceof F,V=this._bitField,ee=(V&134217728)!==0;(V&65536)!==0?(j&&P._invokeInternalOnCancel(),ie instanceof M&&ie.isFinallyHandler()?(ie.cancelPromise=P,H(q).call(ie,te)===L&&P._reject(L.e)):q===t?P._fulfill(t.call(ie)):ie instanceof i?ie._promiseCancelled(P):j||P instanceof E?P._cancel():ie.cancel()):typeof q=="function"?j?(ee&&P._setAsyncGuaranteed(),this._settlePromiseFromHandler(q,ie,te,P)):q.call(ie,te,P):ie instanceof i?ie._isResolved()||((V&33554432)!==0?ie._promiseFulfilled(te,P):ie._promiseRejected(te,P)):j&&(ee&&P._setAsyncGuaranteed(),(V&33554432)!==0?P._fulfill(te):P._reject(te))},F.prototype._settlePromiseLateCancellationObserver=function(P){var q=P.handler,ie=P.promise,te=P.receiver,j=P.value;typeof q=="function"?ie instanceof F?this._settlePromiseFromHandler(q,te,j,ie):q.call(te,j,ie):ie instanceof F&&ie._reject(j)},F.prototype._settlePromiseCtx=function(P){this._settlePromise(P.promise,P.handler,P.receiver,P.value)},F.prototype._settlePromise0=function(P,q,ie){var te=this._promise0,j=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(te,P,j,q)},F.prototype._clearCallbackDataAtIndex=function(P){var q=P*4-4;this[q+2]=this[q+3]=this[q+0]=this[q+1]=void 0},F.prototype._fulfill=function(P){var q=this._bitField;if(!((q&117506048)>>>16)){if(P===this){var ie=e();return this._attachExtraTrace(ie),this._reject(ie)}this._setFulfilled(),this._rejectionHandler0=P,(q&65535)>0&&((q&134217728)!==0?this._settlePromises():h.settlePromises(this))}},F.prototype._reject=function(P){var q=this._bitField;if(!((q&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=P,this._isFinal())return h.fatalError(P,a.isNode);(q&65535)>0?h.settlePromises(this):this._ensurePossibleRejectionHandled()}},F.prototype._fulfillPromises=function(P,q){for(var ie=1;ie<P;ie++){var te=this._fulfillmentHandlerAt(ie),j=this._promiseAt(ie),V=this._receiverAt(ie);this._clearCallbackDataAtIndex(ie),this._settlePromise(j,te,V,q)}},F.prototype._rejectPromises=function(P,q){for(var ie=1;ie<P;ie++){var te=this._rejectionHandlerAt(ie),j=this._promiseAt(ie),V=this._receiverAt(ie);this._clearCallbackDataAtIndex(ie),this._settlePromise(j,te,V,q)}},F.prototype._settlePromises=function(){var P=this._bitField,q=P&65535;if(q>0){if((P&16842752)!==0){var ie=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,ie,P),this._rejectPromises(q,ie)}else{var te=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,te,P),this._fulfillPromises(q,te)}this._setLength(0)}this._clearCancellationData()},F.prototype._settledValue=function(){var P=this._bitField;if((P&33554432)!==0)return this._rejectionHandler0;if((P&16777216)!==0)return this._fulfillmentHandler0};function B(P){this.promise._resolveCallback(P)}function N(P){this.promise._rejectCallback(P,!1)}F.defer=F.pending=function(){U.deprecated("Promise.defer","new Promise");var P=new F(v);return{promise:P,resolve:B,reject:N}},a.notEnumerableProp(F,"_makeSelfResolutionError",e),r$()(F,v,D,n,U),s$()(F,v,D,U),a$()(F,E,n,U),o$()(F),l$()(F),c$()(F,E,D,v,h,l),F.Promise=F,F.version="3.4.7",u$()(F,E,n,D,v,U),d$()(F),h$()(F,n,D,R,v,U),f$()(F,v,U),p$()(F,n,v,D,i,U),g$()(F),m$()(F,v),y$()(F,E,D,n),v$()(F,v,D,n),b$()(F,E,n,D,v,U),x$()(F,E,U),_$()(F,E,n),w$()(F,v),T$()(F,v),D$()(F),a.toFastProperties(F),a.toFastProperties(F.prototype);function K(P){var q=new F(v);q._fulfillmentHandler0=P,q._rejectionHandler0=P,q._promise0=P,q._receiver0=P}return K({a:1}),K({b:2}),K({c:3}),K(1),K(function(){}),K(void 0),K(!1),K(new F(v)),U.setBounds(d.firstLineError,a.lastLineError),F}}(E2)),E2.exports}var $3;function Dl(){if($3)return kr;$3=1;var r=An,e=A$()();kr.defer=t,kr.when=e.resolve,kr.resolve=e.resolve,kr.all=e.all,kr.props=e.props,kr.reject=e.reject,kr.promisify=e.promisify,kr.mapSeries=e.mapSeries,kr.attempt=e.attempt,kr.nfcall=function(n){var i=Array.prototype.slice.call(arguments,1),s=e.promisify(n);return s.apply(null,i)},e.prototype.fail=e.prototype.caught,e.prototype.also=function(n){return this.then(function(i){var s=r.extend({},i,n(i));return e.props(s)})};function t(){var n,i,s=new e.Promise(function(a,l){n=a,i=l});return{resolve:n,reject:i,promise:s}}return kr}var Wt={},X3;function bu(){if(X3)return Wt;X3=1;var r=An,e=Wt.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function t(U,M){return M=M||{},{type:e.document,children:U,notes:M.notes||new h({}),comments:M.comments||[]}}function n(U,M){M=M||{};var O=M.indent||{};return{type:e.paragraph,children:U,styleId:M.styleId||null,styleName:M.styleName||null,numbering:M.numbering||null,alignment:M.alignment||null,indent:{start:O.start||null,end:O.end||null,firstLine:O.firstLine||null,hanging:O.hanging||null}}}function i(U,M){return M=M||{},{type:e.run,children:U,styleId:M.styleId||null,styleName:M.styleName||null,isBold:!!M.isBold,isUnderline:!!M.isUnderline,isItalic:!!M.isItalic,isStrikethrough:!!M.isStrikethrough,isAllCaps:!!M.isAllCaps,isSmallCaps:!!M.isSmallCaps,verticalAlignment:M.verticalAlignment||s.baseline,font:M.font||null,fontSize:M.fontSize||null,highlight:M.highlight||null}}var s={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function a(U){return{type:e.text,value:U}}function l(){return{type:e.tab}}function u(U,M){return{type:e.hyperlink,children:U,href:M.href,anchor:M.anchor,targetFrame:M.targetFrame}}function d(U){return{type:e.noteReference,noteType:U.noteType,noteId:U.noteId}}function h(U){this._notes=r.indexBy(U,function(M){return v(M.noteType,M.noteId)})}h.prototype.resolve=function(U){return this.findNoteByKey(v(U.noteType,U.noteId))},h.prototype.findNoteByKey=function(U){return this._notes[U]||null};function p(U){return{type:e.note,noteType:U.noteType,noteId:U.noteId,body:U.body}}function g(U){return{type:e.commentReference,commentId:U.commentId}}function y(U){return{type:e.comment,commentId:U.commentId,body:U.body,authorName:U.authorName,authorInitials:U.authorInitials}}function v(U,M){return U+"-"+M}function x(U){return{type:e.image,read:function(M){return M?U.readImage(M):U.readImage().then(function(O){return Buffer.from(O)})},readAsArrayBuffer:function(){return U.readImage()},readAsBase64String:function(){return U.readImage("base64")},readAsBuffer:function(){return U.readImage().then(function(M){return Buffer.from(M)})},altText:U.altText,contentType:U.contentType}}function T(U,M){return M=M||{},{type:e.table,children:U,styleId:M.styleId||null,styleName:M.styleName||null}}function D(U,M){return M=M||{},{type:e.tableRow,children:U,isHeader:M.isHeader||!1}}function E(U,M){return M=M||{},{type:e.tableCell,children:U,colSpan:M.colSpan==null?1:M.colSpan,rowSpan:M.rowSpan==null?1:M.rowSpan}}function C(U){return{type:e.break,breakType:U}}function R(U){return{type:e.bookmarkStart,name:U.name}}return Wt.document=Wt.Document=t,Wt.paragraph=Wt.Paragraph=n,Wt.run=Wt.Run=i,Wt.text=Wt.Text=a,Wt.tab=Wt.Tab=l,Wt.Hyperlink=u,Wt.noteReference=Wt.NoteReference=d,Wt.Notes=h,Wt.Note=p,Wt.commentReference=g,Wt.comment=y,Wt.Image=x,Wt.Table=T,Wt.TableRow=D,Wt.TableCell=E,Wt.lineBreak=C("line"),Wt.pageBreak=C("page"),Wt.columnBreak=C("column"),Wt.BookmarkStart=R,Wt.verticalAlignment=s,Wt}var ad={},Q3;function io(){if(Q3)return ad;Q3=1;var r=An;ad.Result=e,ad.success=t,ad.warning=n,ad.error=i;function e(u,d){this.value=u,this.messages=d||[]}e.prototype.map=function(u){return new e(u(this.value),this.messages)},e.prototype.flatMap=function(u){var d=u(this.value);return new e(d.value,s([this,d]))},e.prototype.flatMapThen=function(u){var d=this;return u(this.value).then(function(h){return new e(h.value,s([d,h]))})},e.combine=function(u){var d=r.flatten(r.pluck(u,"value")),h=s(u);return new e(d,h)};function t(u){return new e(u,[])}function n(u){return{type:"warning",message:u}}function i(u){return{type:"error",message:u.message,error:u}}function s(u){var d=[];return r.flatten(r.pluck(u,"messages"),!0).forEach(function(h){a(d,h)||d.push(h)}),d}function a(u,d){return r.find(u,l.bind(null,d))!==void 0}function l(u,d){return u.type===d.type&&u.message===d.message}return ad}var Hf={},Gf={},Y3;function E$(){if(Y3)return Gf;Y3=1,Gf.byteLength=l,Gf.toByteArray=d,Gf.fromByteArray=g;for(var r=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)r[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function a(y){var v=y.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=y.indexOf("=");x===-1&&(x=v);var T=x===v?0:4-x%4;return[x,T]}function l(y){var v=a(y),x=v[0],T=v[1];return(x+T)*3/4-T}function u(y,v,x){return(v+x)*3/4-x}function d(y){var v,x=a(y),T=x[0],D=x[1],E=new t(u(y,T,D)),C=0,R=D>0?T-4:T,U;for(U=0;U<R;U+=4)v=e[y.charCodeAt(U)]<<18|e[y.charCodeAt(U+1)]<<12|e[y.charCodeAt(U+2)]<<6|e[y.charCodeAt(U+3)],E[C++]=v>>16&255,E[C++]=v>>8&255,E[C++]=v&255;return D===2&&(v=e[y.charCodeAt(U)]<<2|e[y.charCodeAt(U+1)]>>4,E[C++]=v&255),D===1&&(v=e[y.charCodeAt(U)]<<10|e[y.charCodeAt(U+1)]<<4|e[y.charCodeAt(U+2)]>>2,E[C++]=v>>8&255,E[C++]=v&255),E}function h(y){return r[y>>18&63]+r[y>>12&63]+r[y>>6&63]+r[y&63]}function p(y,v,x){for(var T,D=[],E=v;E<x;E+=3)T=(y[E]<<16&16711680)+(y[E+1]<<8&65280)+(y[E+2]&255),D.push(h(T));return D.join("")}function g(y){for(var v,x=y.length,T=x%3,D=[],E=16383,C=0,R=x-T;C<R;C+=E)D.push(p(y,C,C+E>R?R:C+E));return T===1?(v=y[x-1],D.push(r[v>>2]+r[v<<4&63]+"==")):T===2&&(v=(y[x-2]<<8)+y[x-1],D.push(r[v>>10]+r[v>>4&63]+r[v<<2&63]+"=")),D.join("")}return Gf}function iv(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var r_={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var K3;function C$(){return K3||(K3=1,function(r,e){(function(t){r.exports=t()})(function(){return function t(n,i,s){function a(d,h){if(!i[d]){if(!n[d]){var p=typeof iv=="function"&&iv;if(!h&&p)return p(d,!0);if(l)return l(d,!0);var g=new Error("Cannot find module '"+d+"'");throw g.code="MODULE_NOT_FOUND",g}var y=i[d]={exports:{}};n[d][0].call(y.exports,function(v){var x=n[d][1][v];return a(x||v)},y,y.exports,t,n,i,s)}return i[d].exports}for(var l=typeof iv=="function"&&iv,u=0;u<s.length;u++)a(s[u]);return a}({1:[function(t,n,i){var s=t("./utils"),a=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(u){for(var d,h,p,g,y,v,x,T=[],D=0,E=u.length,C=E,R=s.getTypeOf(u)!=="string";D<u.length;)C=E-D,p=R?(d=u[D++],h=D<E?u[D++]:0,D<E?u[D++]:0):(d=u.charCodeAt(D++),h=D<E?u.charCodeAt(D++):0,D<E?u.charCodeAt(D++):0),g=d>>2,y=(3&d)<<4|h>>4,v=1<C?(15&h)<<2|p>>6:64,x=2<C?63&p:64,T.push(l.charAt(g)+l.charAt(y)+l.charAt(v)+l.charAt(x));return T.join("")},i.decode=function(u){var d,h,p,g,y,v,x=0,T=0,D="data:";if(u.substr(0,D.length)===D)throw new Error("Invalid base64 input, it looks like a data url.");var E,C=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===l.charAt(64)&&C--,u.charAt(u.length-2)===l.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(E=a.uint8array?new Uint8Array(0|C):new Array(0|C);x<u.length;)d=l.indexOf(u.charAt(x++))<<2|(g=l.indexOf(u.charAt(x++)))>>4,h=(15&g)<<4|(y=l.indexOf(u.charAt(x++)))>>2,p=(3&y)<<6|(v=l.indexOf(u.charAt(x++))),E[T++]=d,y!==64&&(E[T++]=h),v!==64&&(E[T++]=p);return E}},{"./support":30,"./utils":32}],2:[function(t,n,i){var s=t("./external"),a=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function d(h,p,g,y,v){this.compressedSize=h,this.uncompressedSize=p,this.crc32=g,this.compression=y,this.compressedContent=v}d.prototype={getContentWorker:function(){var h=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),p=this;return h.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(h,p,g){return h.pipe(new l).pipe(new u("uncompressedSize")).pipe(p.compressWorker(g)).pipe(new u("compressedSize")).withStreamInfo("compression",p)},n.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,i){var s=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,i){var s=t("./utils"),a=function(){for(var l,u=[],d=0;d<256;d++){l=d;for(var h=0;h<8;h++)l=1&l?3988292384^l>>>1:l>>>1;u[d]=l}return u}();n.exports=function(l,u){return l!==void 0&&l.length?s.getTypeOf(l)!=="string"?function(d,h,p,g){var y=a,v=g+p;d^=-1;for(var x=g;x<v;x++)d=d>>>8^y[255&(d^h[x])];return-1^d}(0|u,l,l.length,0):function(d,h,p,g){var y=a,v=g+p;d^=-1;for(var x=g;x<v;x++)d=d>>>8^y[255&(d^h.charCodeAt(x))];return-1^d}(0|u,l,l.length,0):0}},{"./utils":32}],5:[function(t,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,n,i){var s=null;s=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:s}},{lie:37}],7:[function(t,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=t("pako"),l=t("./utils"),u=t("./stream/GenericWorker"),d=s?"uint8array":"array";function h(p,g){u.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=g,this.meta={}}i.magic="\b\0",l.inherits(h,u),h.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(d,p.data),!1)},h.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(g){p.push({data:g,meta:p.meta})}},i.compressWorker=function(p){return new h("Deflate",p)},i.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,i){function s(y,v){var x,T="";for(x=0;x<v;x++)T+=String.fromCharCode(255&y),y>>>=8;return T}function a(y,v,x,T,D,E){var C,R,U=y.file,M=y.compression,O=E!==d.utf8encode,W=l.transformTo("string",E(U.name)),L=l.transformTo("string",d.utf8encode(U.name)),H=U.comment,ne=l.transformTo("string",E(H)),F=l.transformTo("string",d.utf8encode(H)),B=L.length!==U.name.length,N=F.length!==H.length,K="",P="",q="",ie=U.dir,te=U.date,j={crc32:0,compressedSize:0,uncompressedSize:0};v&&!x||(j.crc32=y.crc32,j.compressedSize=y.compressedSize,j.uncompressedSize=y.uncompressedSize);var V=0;v&&(V|=8),O||!B&&!N||(V|=2048);var ee=0,re=0;ie&&(ee|=16),D==="UNIX"?(re=798,ee|=function(be,Ee){var Re=be;return be||(Re=Ee?16893:33204),(65535&Re)<<16}(U.unixPermissions,ie)):(re=20,ee|=function(be){return 63&(be||0)}(U.dosPermissions)),C=te.getUTCHours(),C<<=6,C|=te.getUTCMinutes(),C<<=5,C|=te.getUTCSeconds()/2,R=te.getUTCFullYear()-1980,R<<=4,R|=te.getUTCMonth()+1,R<<=5,R|=te.getUTCDate(),B&&(P=s(1,1)+s(h(W),4)+L,K+="up"+s(P.length,2)+P),N&&(q=s(1,1)+s(h(ne),4)+F,K+="uc"+s(q.length,2)+q);var pe="";return pe+=`
\0`,pe+=s(V,2),pe+=M.magic,pe+=s(C,2),pe+=s(R,2),pe+=s(j.crc32,4),pe+=s(j.compressedSize,4),pe+=s(j.uncompressedSize,4),pe+=s(W.length,2),pe+=s(K.length,2),{fileRecord:p.LOCAL_FILE_HEADER+pe+W+K,dirRecord:p.CENTRAL_FILE_HEADER+s(re,2)+pe+s(ne.length,2)+"\0\0\0\0"+s(ee,4)+s(T,4)+W+K+ne}}var l=t("../utils"),u=t("../stream/GenericWorker"),d=t("../utf8"),h=t("../crc32"),p=t("../signature");function g(y,v,x,T){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=x,this.encodeFileName=T,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(g,u),g.prototype.push=function(y){var v=y.meta.percent||0,x=this.entriesCount,T=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,u.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:x?(v+100*(x-T-1))/x:100}}))},g.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var v=this.streamFiles&&!y.file.dir;if(v){var x=a(y,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:x.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(y){this.accumulate=!1;var v=this.streamFiles&&!y.file.dir,x=a(y,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(x.dirRecord),v)this.push({data:function(T){return p.DATA_DESCRIPTOR+s(T.crc32,4)+s(T.compressedSize,4)+s(T.uncompressedSize,4)}(y),meta:{percent:100}});else for(this.push({data:x.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var y=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var x=this.bytesWritten-y,T=function(D,E,C,R,U){var M=l.transformTo("string",U(R));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(D,2)+s(D,2)+s(E,4)+s(C,4)+s(M.length,2)+M}(this.dirRecords.length,x,y,this.zipComment,this.encodeFileName);this.push({data:T,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(y){this._sources.push(y);var v=this;return y.on("data",function(x){v.processChunk(x)}),y.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),y.on("error",function(x){v.error(x)}),this},g.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(y){var v=this._sources;if(!u.prototype.error.call(this,y))return!1;for(var x=0;x<v.length;x++)try{v[x].error(y)}catch{}return!0},g.prototype.lock=function(){u.prototype.lock.call(this);for(var y=this._sources,v=0;v<y.length;v++)y[v].lock()},n.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,i){var s=t("../compressions"),a=t("./ZipFileWorker");i.generateWorker=function(l,u,d){var h=new a(u.streamFiles,d,u.platform,u.encodeFileName),p=0;try{l.forEach(function(g,y){p++;var v=function(E,C){var R=E||C,U=s[R];if(!U)throw new Error(R+" is not a valid compression method !");return U}(y.options.compression,u.compression),x=y.options.compressionOptions||u.compressionOptions||{},T=y.dir,D=y.date;y._compressWorker(v,x).withStreamInfo("file",{name:g,dir:T,date:D,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(h)}),h.entriesCount=p}catch(g){h.error(g)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var l in this)typeof this[l]!="function"&&(a[l]=this[l]);return a}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(a,l){return new s().loadAsync(a,l)},s.external=t("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,i){var s=t("./utils"),a=t("./external"),l=t("./utf8"),u=t("./zipEntries"),d=t("./stream/Crc32Probe"),h=t("./nodejsUtils");function p(g){return new a.Promise(function(y,v){var x=g.decompressed.getContentWorker().pipe(new d);x.on("error",function(T){v(T)}).on("end",function(){x.streamInfo.crc32!==g.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}n.exports=function(g,y){var v=this;return y=s.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),h.isNode&&h.isStream(g)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",g,!0,y.optimizedBinaryString,y.base64).then(function(x){var T=new u(y);return T.load(x),T}).then(function(x){var T=[a.Promise.resolve(x)],D=x.files;if(y.checkCRC32)for(var E=0;E<D.length;E++)T.push(p(D[E]));return a.Promise.all(T)}).then(function(x){for(var T=x.shift(),D=T.files,E=0;E<D.length;E++){var C=D[E],R=C.fileNameStr,U=s.resolve(C.fileNameStr);v.file(U,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:y.createFolders}),C.dir||(v.file(U).unsafeOriginalName=R)}return T.zipComment.length&&(v.comment=T.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,i){var s=t("../utils"),a=t("../stream/GenericWorker");function l(u,d){a.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(d)}s.inherits(l,a),l.prototype._bindStream=function(u){var d=this;(this._stream=u).pause(),u.on("data",function(h){d.push({data:h,meta:{percent:0}})}).on("error",function(h){d.isPaused?this.generatedError=h:d.error(h)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},l.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,i){var s=t("readable-stream").Readable;function a(l,u,d){s.call(this,u),this._helper=l;var h=this;l.on("data",function(p,g){h.push(p)||h._helper.pause(),d&&d(g)}).on("error",function(p){h.emit("error",p)}).on("end",function(){h.push(null)})}t("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},n.exports=a},{"../utils":32,"readable-stream":16}],14:[function(t,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,n,i){function s(U,M,O){var W,L=l.getTypeOf(M),H=l.extend(O||{},h);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(U=D(U)),H.createFolders&&(W=T(U))&&E.call(this,W,!0);var ne=L==="string"&&H.binary===!1&&H.base64===!1;O&&O.binary!==void 0||(H.binary=!ne),(M instanceof p&&M.uncompressedSize===0||H.dir||!M||M.length===0)&&(H.base64=!1,H.binary=!0,M="",H.compression="STORE",L="string");var F=null;F=M instanceof p||M instanceof u?M:v.isNode&&v.isStream(M)?new x(U,M):l.prepareContent(U,M,H.binary,H.optimizedBinaryString,H.base64);var B=new g(U,F,H);this.files[U]=B}var a=t("./utf8"),l=t("./utils"),u=t("./stream/GenericWorker"),d=t("./stream/StreamHelper"),h=t("./defaults"),p=t("./compressedObject"),g=t("./zipObject"),y=t("./generate"),v=t("./nodejsUtils"),x=t("./nodejs/NodejsStreamInputAdapter"),T=function(U){U.slice(-1)==="/"&&(U=U.substring(0,U.length-1));var M=U.lastIndexOf("/");return 0<M?U.substring(0,M):""},D=function(U){return U.slice(-1)!=="/"&&(U+="/"),U},E=function(U,M){return M=M!==void 0?M:h.createFolders,U=D(U),this.files[U]||s.call(this,U,null,{dir:!0,createFolders:M}),this.files[U]};function C(U){return Object.prototype.toString.call(U)==="[object RegExp]"}var R={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(U){var M,O,W;for(M in this.files)W=this.files[M],(O=M.slice(this.root.length,M.length))&&M.slice(0,this.root.length)===this.root&&U(O,W)},filter:function(U){var M=[];return this.forEach(function(O,W){U(O,W)&&M.push(W)}),M},file:function(U,M,O){if(arguments.length!==1)return U=this.root+U,s.call(this,U,M,O),this;if(C(U)){var W=U;return this.filter(function(H,ne){return!ne.dir&&W.test(H)})}var L=this.files[this.root+U];return L&&!L.dir?L:null},folder:function(U){if(!U)return this;if(C(U))return this.filter(function(L,H){return H.dir&&U.test(L)});var M=this.root+U,O=E.call(this,M),W=this.clone();return W.root=O.name,W},remove:function(U){U=this.root+U;var M=this.files[U];if(M||(U.slice(-1)!=="/"&&(U+="/"),M=this.files[U]),M&&!M.dir)delete this.files[U];else for(var O=this.filter(function(L,H){return H.name.slice(0,U.length)===U}),W=0;W<O.length;W++)delete this.files[O[W].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(U){var M,O={};try{if((O=l.extend(U||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");l.checkSupport(O.type),O.platform!=="darwin"&&O.platform!=="freebsd"&&O.platform!=="linux"&&O.platform!=="sunos"||(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var W=O.comment||this.comment||"";M=y.generateWorker(this,O,W)}catch(L){(M=new u("error")).error(L)}return new d(M,O.type||"string",O.mimeType)},generateAsync:function(U,M){return this.generateInternalStream(U).accumulate(M)},generateNodeStream:function(U,M){return(U=U||{}).type||(U.type="nodebuffer"),this.generateInternalStream(U).toNodejsStream(M)}};n.exports=R},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,i){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,i){var s=t("./DataReader");function a(l){s.call(this,l);for(var u=0;u<this.data.length;u++)l[u]=255&l[u]}t("../utils").inherits(a,s),a.prototype.byteAt=function(l){return this.data[this.zero+l]},a.prototype.lastIndexOfSignature=function(l){for(var u=l.charCodeAt(0),d=l.charCodeAt(1),h=l.charCodeAt(2),p=l.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===u&&this.data[g+1]===d&&this.data[g+2]===h&&this.data[g+3]===p)return g-this.zero;return-1},a.prototype.readAndCheckSignature=function(l){var u=l.charCodeAt(0),d=l.charCodeAt(1),h=l.charCodeAt(2),p=l.charCodeAt(3),g=this.readData(4);return u===g[0]&&d===g[1]&&h===g[2]&&p===g[3]},a.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=a},{"../utils":32,"./DataReader":18}],18:[function(t,n,i){var s=t("../utils");function a(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var u,d=0;for(this.checkOffset(l),u=this.index+l-1;u>=this.index;u--)d=(d<<8)+this.byteAt(u);return this.index+=l,d},readString:function(l){return s.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},n.exports=a},{"../utils":32}],19:[function(t,n,i){var s=t("./Uint8ArrayReader");function a(l){s.call(this,l)}t("../utils").inherits(a,s),a.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,i){var s=t("./DataReader");function a(l){s.call(this,l)}t("../utils").inherits(a,s),a.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},a.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},a.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},a.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=a},{"../utils":32,"./DataReader":18}],21:[function(t,n,i){var s=t("./ArrayReader");function a(l){s.call(this,l)}t("../utils").inherits(a,s),a.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,i){var s=t("../utils"),a=t("../support"),l=t("./ArrayReader"),u=t("./StringReader"),d=t("./NodeBufferReader"),h=t("./Uint8ArrayReader");n.exports=function(p){var g=s.getTypeOf(p);return s.checkSupport(g),g!=="string"||a.uint8array?g==="nodebuffer"?new d(p):a.uint8array?new h(s.transformTo("uint8array",p)):new l(s.transformTo("array",p)):new u(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,i){var s=t("./GenericWorker"),a=t("../utils");function l(u){s.call(this,"ConvertWorker to "+u),this.destType=u}a.inherits(l,s),l.prototype.processChunk=function(u){this.push({data:a.transformTo(this.destType,u.data),meta:u.meta})},n.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,i){var s=t("./GenericWorker"),a=t("../crc32");function l(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,s),l.prototype.processChunk=function(u){this.streamInfo.crc32=a(u.data,this.streamInfo.crc32||0),this.push(u)},n.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,i){var s=t("../utils"),a=t("./GenericWorker");function l(u){a.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}s.inherits(l,a),l.prototype.processChunk=function(u){if(u){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+u.data.length}a.prototype.processChunk.call(this,u)},n.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,i){var s=t("../utils"),a=t("./GenericWorker");function l(u){a.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(h){d.dataIsReady=!0,d.data=h,d.max=h&&h.length||0,d.type=s.getTypeOf(h),d.isPaused||d._tickAndRepeat()},function(h){d.error(h)})}s.inherits(l,a),l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,d);break;case"uint8array":u=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":u=this.data.slice(this.index,d)}return this.index=d,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,l){return this._listeners[a].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,l){if(this._listeners[a])for(var u=0;u<this._listeners[a].length;u++)this._listeners[a][u].call(this,l)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var l=this;return a.on("data",function(u){l.processChunk(u)}),a.on("end",function(){l.end()}),a.on("error",function(u){l.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,l){return this.extraStreamInfo[a]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=s},{}],29:[function(t,n,i){var s=t("../utils"),a=t("./ConvertWorker"),l=t("./GenericWorker"),u=t("../base64"),d=t("../support"),h=t("../external"),p=null;if(d.nodestream)try{p=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(v,x){return new h.Promise(function(T,D){var E=[],C=v._internalType,R=v._outputType,U=v._mimeType;v.on("data",function(M,O){E.push(M),x&&x(O)}).on("error",function(M){E=[],D(M)}).on("end",function(){try{var M=function(O,W,L){switch(O){case"blob":return s.newBlob(s.transformTo("arraybuffer",W),L);case"base64":return u.encode(W);default:return s.transformTo(O,W)}}(R,function(O,W){var L,H=0,ne=null,F=0;for(L=0;L<W.length;L++)F+=W[L].length;switch(O){case"string":return W.join("");case"array":return Array.prototype.concat.apply([],W);case"uint8array":for(ne=new Uint8Array(F),L=0;L<W.length;L++)ne.set(W[L],H),H+=W[L].length;return ne;case"nodebuffer":return Buffer.concat(W);default:throw new Error("concat : unsupported type '"+O+"'")}}(C,E),U);T(M)}catch(O){D(O)}E=[]}).resume()})}function y(v,x,T){var D=x;switch(x){case"blob":case"arraybuffer":D="uint8array";break;case"base64":D="string"}try{this._internalType=D,this._outputType=x,this._mimeType=T,s.checkSupport(D),this._worker=v.pipe(new a(D)),v.lock()}catch(E){this._worker=new l("error"),this._worker.error(E)}}y.prototype={accumulate:function(v){return g(this,v)},on:function(v,x){var T=this;return v==="data"?this._worker.on(v,function(D){x.call(T,D.data,D.meta)}):this._worker.on(v,function(){s.delay(x,arguments,T)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},v)}},n.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,i){for(var s=t("./utils"),a=t("./support"),l=t("./nodejsUtils"),u=t("./stream/GenericWorker"),d=new Array(256),h=0;h<256;h++)d[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;d[254]=d[254]=1;function p(){u.call(this,"utf-8 decode"),this.leftOver=null}function g(){u.call(this,"utf-8 encode")}i.utf8encode=function(y){return a.nodebuffer?l.newBufferFrom(y,"utf-8"):function(v){var x,T,D,E,C,R=v.length,U=0;for(E=0;E<R;E++)(64512&(T=v.charCodeAt(E)))==55296&&E+1<R&&(64512&(D=v.charCodeAt(E+1)))==56320&&(T=65536+(T-55296<<10)+(D-56320),E++),U+=T<128?1:T<2048?2:T<65536?3:4;for(x=a.uint8array?new Uint8Array(U):new Array(U),E=C=0;C<U;E++)(64512&(T=v.charCodeAt(E)))==55296&&E+1<R&&(64512&(D=v.charCodeAt(E+1)))==56320&&(T=65536+(T-55296<<10)+(D-56320),E++),T<128?x[C++]=T:(T<2048?x[C++]=192|T>>>6:(T<65536?x[C++]=224|T>>>12:(x[C++]=240|T>>>18,x[C++]=128|T>>>12&63),x[C++]=128|T>>>6&63),x[C++]=128|63&T);return x}(y)},i.utf8decode=function(y){return a.nodebuffer?s.transformTo("nodebuffer",y).toString("utf-8"):function(v){var x,T,D,E,C=v.length,R=new Array(2*C);for(x=T=0;x<C;)if((D=v[x++])<128)R[T++]=D;else if(4<(E=d[D]))R[T++]=65533,x+=E-1;else{for(D&=E===2?31:E===3?15:7;1<E&&x<C;)D=D<<6|63&v[x++],E--;1<E?R[T++]=65533:D<65536?R[T++]=D:(D-=65536,R[T++]=55296|D>>10&1023,R[T++]=56320|1023&D)}return R.length!==T&&(R.subarray?R=R.subarray(0,T):R.length=T),s.applyFromCharCode(R)}(y=s.transformTo(a.uint8array?"uint8array":"array",y))},s.inherits(p,u),p.prototype.processChunk=function(y){var v=s.transformTo(a.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var x=v;(v=new Uint8Array(x.length+this.leftOver.length)).set(this.leftOver,0),v.set(x,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var T=function(E,C){var R;for((C=C||E.length)>E.length&&(C=E.length),R=C-1;0<=R&&(192&E[R])==128;)R--;return R<0||R===0?C:R+d[E[R]]>C?R:C}(v),D=v;T!==v.length&&(a.uint8array?(D=v.subarray(0,T),this.leftOver=v.subarray(T,v.length)):(D=v.slice(0,T),this.leftOver=v.slice(T,v.length))),this.push({data:i.utf8decode(D),meta:y.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=p,s.inherits(g,u),g.prototype.processChunk=function(y){this.push({data:i.utf8encode(y.data),meta:y.meta})},i.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,i){var s=t("./support"),a=t("./base64"),l=t("./nodejsUtils"),u=t("./external");function d(x){return x}function h(x,T){for(var D=0;D<x.length;++D)T[D]=255&x.charCodeAt(D);return T}t("setimmediate"),i.newBlob=function(x,T){i.checkSupport("blob");try{return new Blob([x],{type:T})}catch{try{var D=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return D.append(x),D.getBlob(T)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(x,T,D){var E=[],C=0,R=x.length;if(R<=D)return String.fromCharCode.apply(null,x);for(;C<R;)T==="array"||T==="nodebuffer"?E.push(String.fromCharCode.apply(null,x.slice(C,Math.min(C+D,R)))):E.push(String.fromCharCode.apply(null,x.subarray(C,Math.min(C+D,R)))),C+=D;return E.join("")},stringifyByChar:function(x){for(var T="",D=0;D<x.length;D++)T+=String.fromCharCode(x[D]);return T},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function g(x){var T=65536,D=i.getTypeOf(x),E=!0;if(D==="uint8array"?E=p.applyCanBeUsed.uint8array:D==="nodebuffer"&&(E=p.applyCanBeUsed.nodebuffer),E)for(;1<T;)try{return p.stringifyByChunk(x,D,T)}catch{T=Math.floor(T/2)}return p.stringifyByChar(x)}function y(x,T){for(var D=0;D<x.length;D++)T[D]=x[D];return T}i.applyFromCharCode=g;var v={};v.string={string:d,array:function(x){return h(x,new Array(x.length))},arraybuffer:function(x){return v.string.uint8array(x).buffer},uint8array:function(x){return h(x,new Uint8Array(x.length))},nodebuffer:function(x){return h(x,l.allocBuffer(x.length))}},v.array={string:g,array:d,arraybuffer:function(x){return new Uint8Array(x).buffer},uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return l.newBufferFrom(x)}},v.arraybuffer={string:function(x){return g(new Uint8Array(x))},array:function(x){return y(new Uint8Array(x),new Array(x.byteLength))},arraybuffer:d,uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return l.newBufferFrom(new Uint8Array(x))}},v.uint8array={string:g,array:function(x){return y(x,new Array(x.length))},arraybuffer:function(x){return x.buffer},uint8array:d,nodebuffer:function(x){return l.newBufferFrom(x)}},v.nodebuffer={string:g,array:function(x){return y(x,new Array(x.length))},arraybuffer:function(x){return v.nodebuffer.uint8array(x).buffer},uint8array:function(x){return y(x,new Uint8Array(x.length))},nodebuffer:d},i.transformTo=function(x,T){if(T=T||"",!x)return T;i.checkSupport(x);var D=i.getTypeOf(T);return v[D][x](T)},i.resolve=function(x){for(var T=x.split("/"),D=[],E=0;E<T.length;E++){var C=T[E];C==="."||C===""&&E!==0&&E!==T.length-1||(C===".."?D.pop():D.push(C))}return D.join("/")},i.getTypeOf=function(x){return typeof x=="string"?"string":Object.prototype.toString.call(x)==="[object Array]"?"array":s.nodebuffer&&l.isBuffer(x)?"nodebuffer":s.uint8array&&x instanceof Uint8Array?"uint8array":s.arraybuffer&&x instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(x){if(!s[x.toLowerCase()])throw new Error(x+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(x){var T,D,E="";for(D=0;D<(x||"").length;D++)E+="\\x"+((T=x.charCodeAt(D))<16?"0":"")+T.toString(16).toUpperCase();return E},i.delay=function(x,T,D){setImmediate(function(){x.apply(D||null,T||[])})},i.inherits=function(x,T){function D(){}D.prototype=T.prototype,x.prototype=new D},i.extend=function(){var x,T,D={};for(x=0;x<arguments.length;x++)for(T in arguments[x])Object.prototype.hasOwnProperty.call(arguments[x],T)&&D[T]===void 0&&(D[T]=arguments[x][T]);return D},i.prepareContent=function(x,T,D,E,C){return u.Promise.resolve(T).then(function(R){return s.blob&&(R instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(R))!==-1)&&typeof FileReader<"u"?new u.Promise(function(U,M){var O=new FileReader;O.onload=function(W){U(W.target.result)},O.onerror=function(W){M(W.target.error)},O.readAsArrayBuffer(R)}):R}).then(function(R){var U=i.getTypeOf(R);return U?(U==="arraybuffer"?R=i.transformTo("uint8array",R):U==="string"&&(C?R=a.decode(R):D&&E!==!0&&(R=function(M){return h(M,s.uint8array?new Uint8Array(M.length):new Array(M.length))}(R))),R):u.Promise.reject(new Error("Can't read the data of '"+x+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,i){var s=t("./reader/readerFor"),a=t("./utils"),l=t("./signature"),u=t("./zipEntry"),d=t("./support");function h(p){this.files=[],this.loadOptions=p}h.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(g)+", expected "+a.pretty(p)+")")}},isSignature:function(p,g){var y=this.reader.index;this.reader.setIndex(p);var v=this.reader.readString(4)===g;return this.reader.setIndex(y),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),g=d.uint8array?"uint8array":"array",y=a.transformTo(g,p);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,g,y,v=this.zip64EndOfCentralSize-44;0<v;)p=this.reader.readInt(2),g=this.reader.readInt(4),y=this.reader.readData(g),this.zip64ExtensibleData[p]={id:p,length:g,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,g;for(p=0;p<this.files.length;p++)g=this.files[p],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(p=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var g=p;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var v=g-y;if(0<v)this.isSignature(g,l.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(p){this.reader=s(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,i){var s=t("./reader/readerFor"),a=t("./utils"),l=t("./compressedObject"),u=t("./crc32"),d=t("./utf8"),h=t("./compressions"),p=t("./support");function g(y,v){this.options=y,this.loadOptions=v}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var v,x;if(y.skip(22),this.fileNameLength=y.readInt(2),x=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(x),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=function(T){for(var D in h)if(Object.prototype.hasOwnProperty.call(h,D)&&h[D].magic===T)return h[D];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,v,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var v=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(v),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var v,x,T,D=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<D;)v=y.readInt(2),x=y.readInt(2),T=y.readData(x),this.extraFields[v]={id:v,length:x,value:T};y.setIndex(D)},handleUTF8:function(){var y=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var x=a.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(x)}var T=this.findExtraFieldUnicodeComment();if(T!==null)this.fileCommentStr=T;else{var D=a.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(D)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var v=s(y.value);return v.readInt(1)!==1||u(this.fileName)!==v.readInt(4)?null:d.utf8decode(v.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var v=s(y.value);return v.readInt(1)!==1||u(this.fileComment)!==v.readInt(4)?null:d.utf8decode(v.readData(y.length-5))}return null}},n.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,i){function s(v,x,T){this.name=v,this.dir=T.dir,this.date=T.date,this.comment=T.comment,this.unixPermissions=T.unixPermissions,this.dosPermissions=T.dosPermissions,this._data=x,this._dataBinary=T.binary,this.options={compression:T.compression,compressionOptions:T.compressionOptions}}var a=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),u=t("./utf8"),d=t("./compressedObject"),h=t("./stream/GenericWorker");s.prototype={internalStream:function(v){var x=null,T="string";try{if(!v)throw new Error("No output type specified.");var D=(T=v.toLowerCase())==="string"||T==="text";T!=="binarystring"&&T!=="text"||(T="string"),x=this._decompressWorker();var E=!this._dataBinary;E&&!D&&(x=x.pipe(new u.Utf8EncodeWorker)),!E&&D&&(x=x.pipe(new u.Utf8DecodeWorker))}catch(C){(x=new h("error")).error(C)}return new a(x,T,"")},async:function(v,x){return this.internalStream(v).accumulate(x)},nodeStream:function(v,x){return this.internalStream(v||"nodebuffer").toNodejsStream(x)},_compressWorker:function(v,x){if(this._data instanceof d&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var T=this._decompressWorker();return this._dataBinary||(T=T.pipe(new u.Utf8EncodeWorker)),d.createWorkerFrom(T,v,x)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof h?this._data:new l(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<p.length;y++)s.prototype[p[y]]=g;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,i){(function(s){var a,l,u=s.MutationObserver||s.WebKitMutationObserver;if(u){var d=0,h=new u(v),p=s.document.createTextNode("");h.observe(p,{characterData:!0}),a=function(){p.data=d=++d%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var x=s.document.createElement("script");x.onreadystatechange=function(){v(),x.onreadystatechange=null,x.parentNode.removeChild(x),x=null},s.document.documentElement.appendChild(x)}:function(){setTimeout(v,0)};else{var g=new s.MessageChannel;g.port1.onmessage=v,a=function(){g.port2.postMessage(0)}}var y=[];function v(){var x,T;l=!0;for(var D=y.length;D;){for(T=y,y=[],x=-1;++x<D;)T[x]();D=y.length}l=!1}n.exports=function(x){y.push(x)!==1||l||a()}}).call(this,typeof ll<"u"?ll:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,i){var s=t("immediate");function a(){}var l={},u=["REJECTED"],d=["FULFILLED"],h=["PENDING"];function p(D){if(typeof D!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,D!==a&&x(this,D)}function g(D,E,C){this.promise=D,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function y(D,E,C){s(function(){var R;try{R=E(C)}catch(U){return l.reject(D,U)}R===D?l.reject(D,new TypeError("Cannot resolve promise with itself")):l.resolve(D,R)})}function v(D){var E=D&&D.then;if(D&&(typeof D=="object"||typeof D=="function")&&typeof E=="function")return function(){E.apply(D,arguments)}}function x(D,E){var C=!1;function R(O){C||(C=!0,l.reject(D,O))}function U(O){C||(C=!0,l.resolve(D,O))}var M=T(function(){E(U,R)});M.status==="error"&&R(M.value)}function T(D,E){var C={};try{C.value=D(E),C.status="success"}catch(R){C.status="error",C.value=R}return C}(n.exports=p).prototype.finally=function(D){if(typeof D!="function")return this;var E=this.constructor;return this.then(function(C){return E.resolve(D()).then(function(){return C})},function(C){return E.resolve(D()).then(function(){throw C})})},p.prototype.catch=function(D){return this.then(null,D)},p.prototype.then=function(D,E){if(typeof D!="function"&&this.state===d||typeof E!="function"&&this.state===u)return this;var C=new this.constructor(a);return this.state!==h?y(C,this.state===d?D:E,this.outcome):this.queue.push(new g(C,D,E)),C},g.prototype.callFulfilled=function(D){l.resolve(this.promise,D)},g.prototype.otherCallFulfilled=function(D){y(this.promise,this.onFulfilled,D)},g.prototype.callRejected=function(D){l.reject(this.promise,D)},g.prototype.otherCallRejected=function(D){y(this.promise,this.onRejected,D)},l.resolve=function(D,E){var C=T(v,E);if(C.status==="error")return l.reject(D,C.value);var R=C.value;if(R)x(D,R);else{D.state=d,D.outcome=E;for(var U=-1,M=D.queue.length;++U<M;)D.queue[U].callFulfilled(E)}return D},l.reject=function(D,E){D.state=u,D.outcome=E;for(var C=-1,R=D.queue.length;++C<R;)D.queue[C].callRejected(E);return D},p.resolve=function(D){return D instanceof this?D:l.resolve(new this(a),D)},p.reject=function(D){var E=new this(a);return l.reject(E,D)},p.all=function(D){var E=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=D.length,R=!1;if(!C)return this.resolve([]);for(var U=new Array(C),M=0,O=-1,W=new this(a);++O<C;)L(D[O],O);return W;function L(H,ne){E.resolve(H).then(function(F){U[ne]=F,++M!==C||R||(R=!0,l.resolve(W,U))},function(F){R||(R=!0,l.reject(W,F))})}},p.race=function(D){var E=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=D.length,R=!1;if(!C)return this.resolve([]);for(var U=-1,M=new this(a);++U<C;)O=D[U],E.resolve(O).then(function(W){R||(R=!0,l.resolve(M,W))},function(W){R||(R=!0,l.reject(M,W))});var O;return M}},{immediate:36}],38:[function(t,n,i){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,i){var s=t("./zlib/deflate"),a=t("./utils/common"),l=t("./utils/strings"),u=t("./zlib/messages"),d=t("./zlib/zstream"),h=Object.prototype.toString,p=0,g=-1,y=0,v=8;function x(D){if(!(this instanceof x))return new x(D);this.options=a.assign({level:g,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},D||{});var E=this.options;E.raw&&0<E.windowBits?E.windowBits=-E.windowBits:E.gzip&&0<E.windowBits&&E.windowBits<16&&(E.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var C=s.deflateInit2(this.strm,E.level,E.method,E.windowBits,E.memLevel,E.strategy);if(C!==p)throw new Error(u[C]);if(E.header&&s.deflateSetHeader(this.strm,E.header),E.dictionary){var R;if(R=typeof E.dictionary=="string"?l.string2buf(E.dictionary):h.call(E.dictionary)==="[object ArrayBuffer]"?new Uint8Array(E.dictionary):E.dictionary,(C=s.deflateSetDictionary(this.strm,R))!==p)throw new Error(u[C]);this._dict_set=!0}}function T(D,E){var C=new x(E);if(C.push(D,!0),C.err)throw C.msg||u[C.err];return C.result}x.prototype.push=function(D,E){var C,R,U=this.strm,M=this.options.chunkSize;if(this.ended)return!1;R=E===~~E?E:E===!0?4:0,typeof D=="string"?U.input=l.string2buf(D):h.call(D)==="[object ArrayBuffer]"?U.input=new Uint8Array(D):U.input=D,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new a.Buf8(M),U.next_out=0,U.avail_out=M),(C=s.deflate(U,R))!==1&&C!==p)return this.onEnd(C),!(this.ended=!0);U.avail_out!==0&&(U.avail_in!==0||R!==4&&R!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(a.shrinkBuf(U.output,U.next_out))):this.onData(a.shrinkBuf(U.output,U.next_out)))}while((0<U.avail_in||U.avail_out===0)&&C!==1);return R===4?(C=s.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===p):R!==2||(this.onEnd(p),!(U.avail_out=0))},x.prototype.onData=function(D){this.chunks.push(D)},x.prototype.onEnd=function(D){D===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=D,this.msg=this.strm.msg},i.Deflate=x,i.deflate=T,i.deflateRaw=function(D,E){return(E=E||{}).raw=!0,T(D,E)},i.gzip=function(D,E){return(E=E||{}).gzip=!0,T(D,E)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,i){var s=t("./zlib/inflate"),a=t("./utils/common"),l=t("./utils/strings"),u=t("./zlib/constants"),d=t("./zlib/messages"),h=t("./zlib/zstream"),p=t("./zlib/gzheader"),g=Object.prototype.toString;function y(x){if(!(this instanceof y))return new y(x);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},x||{});var T=this.options;T.raw&&0<=T.windowBits&&T.windowBits<16&&(T.windowBits=-T.windowBits,T.windowBits===0&&(T.windowBits=-15)),!(0<=T.windowBits&&T.windowBits<16)||x&&x.windowBits||(T.windowBits+=32),15<T.windowBits&&T.windowBits<48&&(15&T.windowBits)==0&&(T.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var D=s.inflateInit2(this.strm,T.windowBits);if(D!==u.Z_OK)throw new Error(d[D]);this.header=new p,s.inflateGetHeader(this.strm,this.header)}function v(x,T){var D=new y(T);if(D.push(x,!0),D.err)throw D.msg||d[D.err];return D.result}y.prototype.push=function(x,T){var D,E,C,R,U,M,O=this.strm,W=this.options.chunkSize,L=this.options.dictionary,H=!1;if(this.ended)return!1;E=T===~~T?T:T===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof x=="string"?O.input=l.binstring2buf(x):g.call(x)==="[object ArrayBuffer]"?O.input=new Uint8Array(x):O.input=x,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new a.Buf8(W),O.next_out=0,O.avail_out=W),(D=s.inflate(O,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&L&&(M=typeof L=="string"?l.string2buf(L):g.call(L)==="[object ArrayBuffer]"?new Uint8Array(L):L,D=s.inflateSetDictionary(this.strm,M)),D===u.Z_BUF_ERROR&&H===!0&&(D=u.Z_OK,H=!1),D!==u.Z_STREAM_END&&D!==u.Z_OK)return this.onEnd(D),!(this.ended=!0);O.next_out&&(O.avail_out!==0&&D!==u.Z_STREAM_END&&(O.avail_in!==0||E!==u.Z_FINISH&&E!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=l.utf8border(O.output,O.next_out),R=O.next_out-C,U=l.buf2string(O.output,C),O.next_out=R,O.avail_out=W-R,R&&a.arraySet(O.output,O.output,C,R,0),this.onData(U)):this.onData(a.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&(H=!0)}while((0<O.avail_in||O.avail_out===0)&&D!==u.Z_STREAM_END);return D===u.Z_STREAM_END&&(E=u.Z_FINISH),E===u.Z_FINISH?(D=s.inflateEnd(this.strm),this.onEnd(D),this.ended=!0,D===u.Z_OK):E!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(O.avail_out=0))},y.prototype.onData=function(x){this.chunks.push(x)},y.prototype.onEnd=function(x){x===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},i.Inflate=y,i.inflate=v,i.inflateRaw=function(x,T){return(T=T||{}).raw=!0,v(x,T)},i.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(u){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var h=d.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var p in h)h.hasOwnProperty(p)&&(u[p]=h[p])}}return u},i.shrinkBuf=function(u,d){return u.length===d?u:u.subarray?u.subarray(0,d):(u.length=d,u)};var a={arraySet:function(u,d,h,p,g){if(d.subarray&&u.subarray)u.set(d.subarray(h,h+p),g);else for(var y=0;y<p;y++)u[g+y]=d[h+y]},flattenChunks:function(u){var d,h,p,g,y,v;for(d=p=0,h=u.length;d<h;d++)p+=u[d].length;for(v=new Uint8Array(p),d=g=0,h=u.length;d<h;d++)y=u[d],v.set(y,g),g+=y.length;return v}},l={arraySet:function(u,d,h,p,g){for(var y=0;y<p;y++)u[g+y]=d[h+y]},flattenChunks:function(u){return[].concat.apply([],u)}};i.setTyped=function(u){u?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(s)},{}],42:[function(t,n,i){var s=t("./common"),a=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var u=new s.Buf8(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function h(p,g){if(g<65537&&(p.subarray&&l||!p.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(p,g));for(var y="",v=0;v<g;v++)y+=String.fromCharCode(p[v]);return y}u[254]=u[254]=1,i.string2buf=function(p){var g,y,v,x,T,D=p.length,E=0;for(x=0;x<D;x++)(64512&(y=p.charCodeAt(x)))==55296&&x+1<D&&(64512&(v=p.charCodeAt(x+1)))==56320&&(y=65536+(y-55296<<10)+(v-56320),x++),E+=y<128?1:y<2048?2:y<65536?3:4;for(g=new s.Buf8(E),x=T=0;T<E;x++)(64512&(y=p.charCodeAt(x)))==55296&&x+1<D&&(64512&(v=p.charCodeAt(x+1)))==56320&&(y=65536+(y-55296<<10)+(v-56320),x++),y<128?g[T++]=y:(y<2048?g[T++]=192|y>>>6:(y<65536?g[T++]=224|y>>>12:(g[T++]=240|y>>>18,g[T++]=128|y>>>12&63),g[T++]=128|y>>>6&63),g[T++]=128|63&y);return g},i.buf2binstring=function(p){return h(p,p.length)},i.binstring2buf=function(p){for(var g=new s.Buf8(p.length),y=0,v=g.length;y<v;y++)g[y]=p.charCodeAt(y);return g},i.buf2string=function(p,g){var y,v,x,T,D=g||p.length,E=new Array(2*D);for(y=v=0;y<D;)if((x=p[y++])<128)E[v++]=x;else if(4<(T=u[x]))E[v++]=65533,y+=T-1;else{for(x&=T===2?31:T===3?15:7;1<T&&y<D;)x=x<<6|63&p[y++],T--;1<T?E[v++]=65533:x<65536?E[v++]=x:(x-=65536,E[v++]=55296|x>>10&1023,E[v++]=56320|1023&x)}return h(E,v)},i.utf8border=function(p,g){var y;for((g=g||p.length)>p.length&&(g=p.length),y=g-1;0<=y&&(192&p[y])==128;)y--;return y<0||y===0?g:y+u[p[y]]>g?y:g}},{"./common":41}],43:[function(t,n,i){n.exports=function(s,a,l,u){for(var d=65535&s|0,h=s>>>16&65535|0,p=0;l!==0;){for(l-=p=2e3<l?2e3:l;h=h+(d=d+a[u++]|0)|0,--p;);d%=65521,h%=65521}return d|h<<16|0}},{}],44:[function(t,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,i){var s=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();n.exports=function(a,l,u,d){var h=s,p=d+u;a^=-1;for(var g=d;g<p;g++)a=a>>>8^h[255&(a^l[g])];return-1^a}},{}],46:[function(t,n,i){var s,a=t("../utils/common"),l=t("./trees"),u=t("./adler32"),d=t("./crc32"),h=t("./messages"),p=0,g=4,y=0,v=-2,x=-1,T=4,D=2,E=8,C=9,R=286,U=30,M=19,O=2*R+1,W=15,L=3,H=258,ne=H+L+1,F=42,B=113,N=1,K=2,P=3,q=4;function ie(I,ye){return I.msg=h[ye],ye}function te(I){return(I<<1)-(4<I?9:0)}function j(I){for(var ye=I.length;0<=--ye;)I[ye]=0}function V(I){var ye=I.state,he=ye.pending;he>I.avail_out&&(he=I.avail_out),he!==0&&(a.arraySet(I.output,ye.pending_buf,ye.pending_out,he,I.next_out),I.next_out+=he,ye.pending_out+=he,I.total_out+=he,I.avail_out-=he,ye.pending-=he,ye.pending===0&&(ye.pending_out=0))}function ee(I,ye){l._tr_flush_block(I,0<=I.block_start?I.block_start:-1,I.strstart-I.block_start,ye),I.block_start=I.strstart,V(I.strm)}function re(I,ye){I.pending_buf[I.pending++]=ye}function pe(I,ye){I.pending_buf[I.pending++]=ye>>>8&255,I.pending_buf[I.pending++]=255&ye}function be(I,ye){var he,se,X=I.max_chain_length,oe=I.strstart,De=I.prev_length,_e=I.nice_match,fe=I.strstart>I.w_size-ne?I.strstart-(I.w_size-ne):0,ae=I.window,le=I.w_mask,ve=I.prev,Ae=I.strstart+H,Ie=ae[oe+De-1],qe=ae[oe+De];I.prev_length>=I.good_match&&(X>>=2),_e>I.lookahead&&(_e=I.lookahead);do if(ae[(he=ye)+De]===qe&&ae[he+De-1]===Ie&&ae[he]===ae[oe]&&ae[++he]===ae[oe+1]){oe+=2,he++;do;while(ae[++oe]===ae[++he]&&ae[++oe]===ae[++he]&&ae[++oe]===ae[++he]&&ae[++oe]===ae[++he]&&ae[++oe]===ae[++he]&&ae[++oe]===ae[++he]&&ae[++oe]===ae[++he]&&ae[++oe]===ae[++he]&&oe<Ae);if(se=H-(Ae-oe),oe=Ae-H,De<se){if(I.match_start=ye,_e<=(De=se))break;Ie=ae[oe+De-1],qe=ae[oe+De]}}while((ye=ve[ye&le])>fe&&--X!=0);return De<=I.lookahead?De:I.lookahead}function Ee(I){var ye,he,se,X,oe,De,_e,fe,ae,le,ve=I.w_size;do{if(X=I.window_size-I.lookahead-I.strstart,I.strstart>=ve+(ve-ne)){for(a.arraySet(I.window,I.window,ve,ve,0),I.match_start-=ve,I.strstart-=ve,I.block_start-=ve,ye=he=I.hash_size;se=I.head[--ye],I.head[ye]=ve<=se?se-ve:0,--he;);for(ye=he=ve;se=I.prev[--ye],I.prev[ye]=ve<=se?se-ve:0,--he;);X+=ve}if(I.strm.avail_in===0)break;if(De=I.strm,_e=I.window,fe=I.strstart+I.lookahead,ae=X,le=void 0,le=De.avail_in,ae<le&&(le=ae),he=le===0?0:(De.avail_in-=le,a.arraySet(_e,De.input,De.next_in,le,fe),De.state.wrap===1?De.adler=u(De.adler,_e,le,fe):De.state.wrap===2&&(De.adler=d(De.adler,_e,le,fe)),De.next_in+=le,De.total_in+=le,le),I.lookahead+=he,I.lookahead+I.insert>=L)for(oe=I.strstart-I.insert,I.ins_h=I.window[oe],I.ins_h=(I.ins_h<<I.hash_shift^I.window[oe+1])&I.hash_mask;I.insert&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[oe+L-1])&I.hash_mask,I.prev[oe&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=oe,oe++,I.insert--,!(I.lookahead+I.insert<L)););}while(I.lookahead<ne&&I.strm.avail_in!==0)}function Re(I,ye){for(var he,se;;){if(I.lookahead<ne){if(Ee(I),I.lookahead<ne&&ye===p)return N;if(I.lookahead===0)break}if(he=0,I.lookahead>=L&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+L-1])&I.hash_mask,he=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),he!==0&&I.strstart-he<=I.w_size-ne&&(I.match_length=be(I,he)),I.match_length>=L)if(se=l._tr_tally(I,I.strstart-I.match_start,I.match_length-L),I.lookahead-=I.match_length,I.match_length<=I.max_lazy_match&&I.lookahead>=L){for(I.match_length--;I.strstart++,I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+L-1])&I.hash_mask,he=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart,--I.match_length!=0;);I.strstart++}else I.strstart+=I.match_length,I.match_length=0,I.ins_h=I.window[I.strstart],I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+1])&I.hash_mask;else se=l._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++;if(se&&(ee(I,!1),I.strm.avail_out===0))return N}return I.insert=I.strstart<L-1?I.strstart:L-1,ye===g?(ee(I,!0),I.strm.avail_out===0?P:q):I.last_lit&&(ee(I,!1),I.strm.avail_out===0)?N:K}function Me(I,ye){for(var he,se,X;;){if(I.lookahead<ne){if(Ee(I),I.lookahead<ne&&ye===p)return N;if(I.lookahead===0)break}if(he=0,I.lookahead>=L&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+L-1])&I.hash_mask,he=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),I.prev_length=I.match_length,I.prev_match=I.match_start,I.match_length=L-1,he!==0&&I.prev_length<I.max_lazy_match&&I.strstart-he<=I.w_size-ne&&(I.match_length=be(I,he),I.match_length<=5&&(I.strategy===1||I.match_length===L&&4096<I.strstart-I.match_start)&&(I.match_length=L-1)),I.prev_length>=L&&I.match_length<=I.prev_length){for(X=I.strstart+I.lookahead-L,se=l._tr_tally(I,I.strstart-1-I.prev_match,I.prev_length-L),I.lookahead-=I.prev_length-1,I.prev_length-=2;++I.strstart<=X&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+L-1])&I.hash_mask,he=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),--I.prev_length!=0;);if(I.match_available=0,I.match_length=L-1,I.strstart++,se&&(ee(I,!1),I.strm.avail_out===0))return N}else if(I.match_available){if((se=l._tr_tally(I,0,I.window[I.strstart-1]))&&ee(I,!1),I.strstart++,I.lookahead--,I.strm.avail_out===0)return N}else I.match_available=1,I.strstart++,I.lookahead--}return I.match_available&&(se=l._tr_tally(I,0,I.window[I.strstart-1]),I.match_available=0),I.insert=I.strstart<L-1?I.strstart:L-1,ye===g?(ee(I,!0),I.strm.avail_out===0?P:q):I.last_lit&&(ee(I,!1),I.strm.avail_out===0)?N:K}function ze(I,ye,he,se,X){this.good_length=I,this.max_lazy=ye,this.nice_length=he,this.max_chain=se,this.func=X}function Ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=E,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*O),this.dyn_dtree=new a.Buf16(2*(2*U+1)),this.bl_tree=new a.Buf16(2*(2*M+1)),j(this.dyn_ltree),j(this.dyn_dtree),j(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(W+1),this.heap=new a.Buf16(2*R+1),j(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*R+1),j(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ke(I){var ye;return I&&I.state?(I.total_in=I.total_out=0,I.data_type=D,(ye=I.state).pending=0,ye.pending_out=0,ye.wrap<0&&(ye.wrap=-ye.wrap),ye.status=ye.wrap?F:B,I.adler=ye.wrap===2?0:1,ye.last_flush=p,l._tr_init(ye),y):ie(I,v)}function ft(I){var ye=Ke(I);return ye===y&&function(he){he.window_size=2*he.w_size,j(he.head),he.max_lazy_match=s[he.level].max_lazy,he.good_match=s[he.level].good_length,he.nice_match=s[he.level].nice_length,he.max_chain_length=s[he.level].max_chain,he.strstart=0,he.block_start=0,he.lookahead=0,he.insert=0,he.match_length=he.prev_length=L-1,he.match_available=0,he.ins_h=0}(I.state),ye}function at(I,ye,he,se,X,oe){if(!I)return v;var De=1;if(ye===x&&(ye=6),se<0?(De=0,se=-se):15<se&&(De=2,se-=16),X<1||C<X||he!==E||se<8||15<se||ye<0||9<ye||oe<0||T<oe)return ie(I,v);se===8&&(se=9);var _e=new Ge;return(I.state=_e).strm=I,_e.wrap=De,_e.gzhead=null,_e.w_bits=se,_e.w_size=1<<_e.w_bits,_e.w_mask=_e.w_size-1,_e.hash_bits=X+7,_e.hash_size=1<<_e.hash_bits,_e.hash_mask=_e.hash_size-1,_e.hash_shift=~~((_e.hash_bits+L-1)/L),_e.window=new a.Buf8(2*_e.w_size),_e.head=new a.Buf16(_e.hash_size),_e.prev=new a.Buf16(_e.w_size),_e.lit_bufsize=1<<X+6,_e.pending_buf_size=4*_e.lit_bufsize,_e.pending_buf=new a.Buf8(_e.pending_buf_size),_e.d_buf=1*_e.lit_bufsize,_e.l_buf=3*_e.lit_bufsize,_e.level=ye,_e.strategy=oe,_e.method=he,ft(I)}s=[new ze(0,0,0,0,function(I,ye){var he=65535;for(he>I.pending_buf_size-5&&(he=I.pending_buf_size-5);;){if(I.lookahead<=1){if(Ee(I),I.lookahead===0&&ye===p)return N;if(I.lookahead===0)break}I.strstart+=I.lookahead,I.lookahead=0;var se=I.block_start+he;if((I.strstart===0||I.strstart>=se)&&(I.lookahead=I.strstart-se,I.strstart=se,ee(I,!1),I.strm.avail_out===0)||I.strstart-I.block_start>=I.w_size-ne&&(ee(I,!1),I.strm.avail_out===0))return N}return I.insert=0,ye===g?(ee(I,!0),I.strm.avail_out===0?P:q):(I.strstart>I.block_start&&(ee(I,!1),I.strm.avail_out),N)}),new ze(4,4,8,4,Re),new ze(4,5,16,8,Re),new ze(4,6,32,32,Re),new ze(4,4,16,16,Me),new ze(8,16,32,32,Me),new ze(8,16,128,128,Me),new ze(8,32,128,256,Me),new ze(32,128,258,1024,Me),new ze(32,258,258,4096,Me)],i.deflateInit=function(I,ye){return at(I,ye,E,15,8,0)},i.deflateInit2=at,i.deflateReset=ft,i.deflateResetKeep=Ke,i.deflateSetHeader=function(I,ye){return I&&I.state?I.state.wrap!==2?v:(I.state.gzhead=ye,y):v},i.deflate=function(I,ye){var he,se,X,oe;if(!I||!I.state||5<ye||ye<0)return I?ie(I,v):v;if(se=I.state,!I.output||!I.input&&I.avail_in!==0||se.status===666&&ye!==g)return ie(I,I.avail_out===0?-5:v);if(se.strm=I,he=se.last_flush,se.last_flush=ye,se.status===F)if(se.wrap===2)I.adler=0,re(se,31),re(se,139),re(se,8),se.gzhead?(re(se,(se.gzhead.text?1:0)+(se.gzhead.hcrc?2:0)+(se.gzhead.extra?4:0)+(se.gzhead.name?8:0)+(se.gzhead.comment?16:0)),re(se,255&se.gzhead.time),re(se,se.gzhead.time>>8&255),re(se,se.gzhead.time>>16&255),re(se,se.gzhead.time>>24&255),re(se,se.level===9?2:2<=se.strategy||se.level<2?4:0),re(se,255&se.gzhead.os),se.gzhead.extra&&se.gzhead.extra.length&&(re(se,255&se.gzhead.extra.length),re(se,se.gzhead.extra.length>>8&255)),se.gzhead.hcrc&&(I.adler=d(I.adler,se.pending_buf,se.pending,0)),se.gzindex=0,se.status=69):(re(se,0),re(se,0),re(se,0),re(se,0),re(se,0),re(se,se.level===9?2:2<=se.strategy||se.level<2?4:0),re(se,3),se.status=B);else{var De=E+(se.w_bits-8<<4)<<8;De|=(2<=se.strategy||se.level<2?0:se.level<6?1:se.level===6?2:3)<<6,se.strstart!==0&&(De|=32),De+=31-De%31,se.status=B,pe(se,De),se.strstart!==0&&(pe(se,I.adler>>>16),pe(se,65535&I.adler)),I.adler=1}if(se.status===69)if(se.gzhead.extra){for(X=se.pending;se.gzindex<(65535&se.gzhead.extra.length)&&(se.pending!==se.pending_buf_size||(se.gzhead.hcrc&&se.pending>X&&(I.adler=d(I.adler,se.pending_buf,se.pending-X,X)),V(I),X=se.pending,se.pending!==se.pending_buf_size));)re(se,255&se.gzhead.extra[se.gzindex]),se.gzindex++;se.gzhead.hcrc&&se.pending>X&&(I.adler=d(I.adler,se.pending_buf,se.pending-X,X)),se.gzindex===se.gzhead.extra.length&&(se.gzindex=0,se.status=73)}else se.status=73;if(se.status===73)if(se.gzhead.name){X=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>X&&(I.adler=d(I.adler,se.pending_buf,se.pending-X,X)),V(I),X=se.pending,se.pending===se.pending_buf_size)){oe=1;break}oe=se.gzindex<se.gzhead.name.length?255&se.gzhead.name.charCodeAt(se.gzindex++):0,re(se,oe)}while(oe!==0);se.gzhead.hcrc&&se.pending>X&&(I.adler=d(I.adler,se.pending_buf,se.pending-X,X)),oe===0&&(se.gzindex=0,se.status=91)}else se.status=91;if(se.status===91)if(se.gzhead.comment){X=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>X&&(I.adler=d(I.adler,se.pending_buf,se.pending-X,X)),V(I),X=se.pending,se.pending===se.pending_buf_size)){oe=1;break}oe=se.gzindex<se.gzhead.comment.length?255&se.gzhead.comment.charCodeAt(se.gzindex++):0,re(se,oe)}while(oe!==0);se.gzhead.hcrc&&se.pending>X&&(I.adler=d(I.adler,se.pending_buf,se.pending-X,X)),oe===0&&(se.status=103)}else se.status=103;if(se.status===103&&(se.gzhead.hcrc?(se.pending+2>se.pending_buf_size&&V(I),se.pending+2<=se.pending_buf_size&&(re(se,255&I.adler),re(se,I.adler>>8&255),I.adler=0,se.status=B)):se.status=B),se.pending!==0){if(V(I),I.avail_out===0)return se.last_flush=-1,y}else if(I.avail_in===0&&te(ye)<=te(he)&&ye!==g)return ie(I,-5);if(se.status===666&&I.avail_in!==0)return ie(I,-5);if(I.avail_in!==0||se.lookahead!==0||ye!==p&&se.status!==666){var _e=se.strategy===2?function(fe,ae){for(var le;;){if(fe.lookahead===0&&(Ee(fe),fe.lookahead===0)){if(ae===p)return N;break}if(fe.match_length=0,le=l._tr_tally(fe,0,fe.window[fe.strstart]),fe.lookahead--,fe.strstart++,le&&(ee(fe,!1),fe.strm.avail_out===0))return N}return fe.insert=0,ae===g?(ee(fe,!0),fe.strm.avail_out===0?P:q):fe.last_lit&&(ee(fe,!1),fe.strm.avail_out===0)?N:K}(se,ye):se.strategy===3?function(fe,ae){for(var le,ve,Ae,Ie,qe=fe.window;;){if(fe.lookahead<=H){if(Ee(fe),fe.lookahead<=H&&ae===p)return N;if(fe.lookahead===0)break}if(fe.match_length=0,fe.lookahead>=L&&0<fe.strstart&&(ve=qe[Ae=fe.strstart-1])===qe[++Ae]&&ve===qe[++Ae]&&ve===qe[++Ae]){Ie=fe.strstart+H;do;while(ve===qe[++Ae]&&ve===qe[++Ae]&&ve===qe[++Ae]&&ve===qe[++Ae]&&ve===qe[++Ae]&&ve===qe[++Ae]&&ve===qe[++Ae]&&ve===qe[++Ae]&&Ae<Ie);fe.match_length=H-(Ie-Ae),fe.match_length>fe.lookahead&&(fe.match_length=fe.lookahead)}if(fe.match_length>=L?(le=l._tr_tally(fe,1,fe.match_length-L),fe.lookahead-=fe.match_length,fe.strstart+=fe.match_length,fe.match_length=0):(le=l._tr_tally(fe,0,fe.window[fe.strstart]),fe.lookahead--,fe.strstart++),le&&(ee(fe,!1),fe.strm.avail_out===0))return N}return fe.insert=0,ae===g?(ee(fe,!0),fe.strm.avail_out===0?P:q):fe.last_lit&&(ee(fe,!1),fe.strm.avail_out===0)?N:K}(se,ye):s[se.level].func(se,ye);if(_e!==P&&_e!==q||(se.status=666),_e===N||_e===P)return I.avail_out===0&&(se.last_flush=-1),y;if(_e===K&&(ye===1?l._tr_align(se):ye!==5&&(l._tr_stored_block(se,0,0,!1),ye===3&&(j(se.head),se.lookahead===0&&(se.strstart=0,se.block_start=0,se.insert=0))),V(I),I.avail_out===0))return se.last_flush=-1,y}return ye!==g?y:se.wrap<=0?1:(se.wrap===2?(re(se,255&I.adler),re(se,I.adler>>8&255),re(se,I.adler>>16&255),re(se,I.adler>>24&255),re(se,255&I.total_in),re(se,I.total_in>>8&255),re(se,I.total_in>>16&255),re(se,I.total_in>>24&255)):(pe(se,I.adler>>>16),pe(se,65535&I.adler)),V(I),0<se.wrap&&(se.wrap=-se.wrap),se.pending!==0?y:1)},i.deflateEnd=function(I){var ye;return I&&I.state?(ye=I.state.status)!==F&&ye!==69&&ye!==73&&ye!==91&&ye!==103&&ye!==B&&ye!==666?ie(I,v):(I.state=null,ye===B?ie(I,-3):y):v},i.deflateSetDictionary=function(I,ye){var he,se,X,oe,De,_e,fe,ae,le=ye.length;if(!I||!I.state||(oe=(he=I.state).wrap)===2||oe===1&&he.status!==F||he.lookahead)return v;for(oe===1&&(I.adler=u(I.adler,ye,le,0)),he.wrap=0,le>=he.w_size&&(oe===0&&(j(he.head),he.strstart=0,he.block_start=0,he.insert=0),ae=new a.Buf8(he.w_size),a.arraySet(ae,ye,le-he.w_size,he.w_size,0),ye=ae,le=he.w_size),De=I.avail_in,_e=I.next_in,fe=I.input,I.avail_in=le,I.next_in=0,I.input=ye,Ee(he);he.lookahead>=L;){for(se=he.strstart,X=he.lookahead-(L-1);he.ins_h=(he.ins_h<<he.hash_shift^he.window[se+L-1])&he.hash_mask,he.prev[se&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=se,se++,--X;);he.strstart=se,he.lookahead=L-1,Ee(he)}return he.strstart+=he.lookahead,he.block_start=he.strstart,he.insert=he.lookahead,he.lookahead=0,he.match_length=he.prev_length=L-1,he.match_available=0,I.next_in=_e,I.input=fe,I.avail_in=De,he.wrap=oe,y},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,i){n.exports=function(s,a){var l,u,d,h,p,g,y,v,x,T,D,E,C,R,U,M,O,W,L,H,ne,F,B,N,K;l=s.state,u=s.next_in,N=s.input,d=u+(s.avail_in-5),h=s.next_out,K=s.output,p=h-(a-s.avail_out),g=h+(s.avail_out-257),y=l.dmax,v=l.wsize,x=l.whave,T=l.wnext,D=l.window,E=l.hold,C=l.bits,R=l.lencode,U=l.distcode,M=(1<<l.lenbits)-1,O=(1<<l.distbits)-1;e:do{C<15&&(E+=N[u++]<<C,C+=8,E+=N[u++]<<C,C+=8),W=R[E&M];t:for(;;){if(E>>>=L=W>>>24,C-=L,(L=W>>>16&255)===0)K[h++]=65535&W;else{if(!(16&L)){if((64&L)==0){W=R[(65535&W)+(E&(1<<L)-1)];continue t}if(32&L){l.mode=12;break e}s.msg="invalid literal/length code",l.mode=30;break e}H=65535&W,(L&=15)&&(C<L&&(E+=N[u++]<<C,C+=8),H+=E&(1<<L)-1,E>>>=L,C-=L),C<15&&(E+=N[u++]<<C,C+=8,E+=N[u++]<<C,C+=8),W=U[E&O];n:for(;;){if(E>>>=L=W>>>24,C-=L,!(16&(L=W>>>16&255))){if((64&L)==0){W=U[(65535&W)+(E&(1<<L)-1)];continue n}s.msg="invalid distance code",l.mode=30;break e}if(ne=65535&W,C<(L&=15)&&(E+=N[u++]<<C,(C+=8)<L&&(E+=N[u++]<<C,C+=8)),y<(ne+=E&(1<<L)-1)){s.msg="invalid distance too far back",l.mode=30;break e}if(E>>>=L,C-=L,(L=h-p)<ne){if(x<(L=ne-L)&&l.sane){s.msg="invalid distance too far back",l.mode=30;break e}if(B=D,(F=0)===T){if(F+=v-L,L<H){for(H-=L;K[h++]=D[F++],--L;);F=h-ne,B=K}}else if(T<L){if(F+=v+T-L,(L-=T)<H){for(H-=L;K[h++]=D[F++],--L;);if(F=0,T<H){for(H-=L=T;K[h++]=D[F++],--L;);F=h-ne,B=K}}}else if(F+=T-L,L<H){for(H-=L;K[h++]=D[F++],--L;);F=h-ne,B=K}for(;2<H;)K[h++]=B[F++],K[h++]=B[F++],K[h++]=B[F++],H-=3;H&&(K[h++]=B[F++],1<H&&(K[h++]=B[F++]))}else{for(F=h-ne;K[h++]=K[F++],K[h++]=K[F++],K[h++]=K[F++],2<(H-=3););H&&(K[h++]=K[F++],1<H&&(K[h++]=K[F++]))}break}}break}}while(u<d&&h<g);u-=H=C>>3,E&=(1<<(C-=H<<3))-1,s.next_in=u,s.next_out=h,s.avail_in=u<d?d-u+5:5-(u-d),s.avail_out=h<g?g-h+257:257-(h-g),l.hold=E,l.bits=C}},{}],49:[function(t,n,i){var s=t("../utils/common"),a=t("./adler32"),l=t("./crc32"),u=t("./inffast"),d=t("./inftrees"),h=1,p=2,g=0,y=-2,v=1,x=852,T=592;function D(F){return(F>>>24&255)+(F>>>8&65280)+((65280&F)<<8)+((255&F)<<24)}function E(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(F){var B;return F&&F.state?(B=F.state,F.total_in=F.total_out=B.total=0,F.msg="",B.wrap&&(F.adler=1&B.wrap),B.mode=v,B.last=0,B.havedict=0,B.dmax=32768,B.head=null,B.hold=0,B.bits=0,B.lencode=B.lendyn=new s.Buf32(x),B.distcode=B.distdyn=new s.Buf32(T),B.sane=1,B.back=-1,g):y}function R(F){var B;return F&&F.state?((B=F.state).wsize=0,B.whave=0,B.wnext=0,C(F)):y}function U(F,B){var N,K;return F&&F.state?(K=F.state,B<0?(N=0,B=-B):(N=1+(B>>4),B<48&&(B&=15)),B&&(B<8||15<B)?y:(K.window!==null&&K.wbits!==B&&(K.window=null),K.wrap=N,K.wbits=B,R(F))):y}function M(F,B){var N,K;return F?(K=new E,(F.state=K).window=null,(N=U(F,B))!==g&&(F.state=null),N):y}var O,W,L=!0;function H(F){if(L){var B;for(O=new s.Buf32(512),W=new s.Buf32(32),B=0;B<144;)F.lens[B++]=8;for(;B<256;)F.lens[B++]=9;for(;B<280;)F.lens[B++]=7;for(;B<288;)F.lens[B++]=8;for(d(h,F.lens,0,288,O,0,F.work,{bits:9}),B=0;B<32;)F.lens[B++]=5;d(p,F.lens,0,32,W,0,F.work,{bits:5}),L=!1}F.lencode=O,F.lenbits=9,F.distcode=W,F.distbits=5}function ne(F,B,N,K){var P,q=F.state;return q.window===null&&(q.wsize=1<<q.wbits,q.wnext=0,q.whave=0,q.window=new s.Buf8(q.wsize)),K>=q.wsize?(s.arraySet(q.window,B,N-q.wsize,q.wsize,0),q.wnext=0,q.whave=q.wsize):(K<(P=q.wsize-q.wnext)&&(P=K),s.arraySet(q.window,B,N-K,P,q.wnext),(K-=P)?(s.arraySet(q.window,B,N-K,K,0),q.wnext=K,q.whave=q.wsize):(q.wnext+=P,q.wnext===q.wsize&&(q.wnext=0),q.whave<q.wsize&&(q.whave+=P))),0}i.inflateReset=R,i.inflateReset2=U,i.inflateResetKeep=C,i.inflateInit=function(F){return M(F,15)},i.inflateInit2=M,i.inflate=function(F,B){var N,K,P,q,ie,te,j,V,ee,re,pe,be,Ee,Re,Me,ze,Ge,Ke,ft,at,I,ye,he,se,X=0,oe=new s.Buf8(4),De=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!F||!F.state||!F.output||!F.input&&F.avail_in!==0)return y;(N=F.state).mode===12&&(N.mode=13),ie=F.next_out,P=F.output,j=F.avail_out,q=F.next_in,K=F.input,te=F.avail_in,V=N.hold,ee=N.bits,re=te,pe=j,ye=g;e:for(;;)switch(N.mode){case v:if(N.wrap===0){N.mode=13;break}for(;ee<16;){if(te===0)break e;te--,V+=K[q++]<<ee,ee+=8}if(2&N.wrap&&V===35615){oe[N.check=0]=255&V,oe[1]=V>>>8&255,N.check=l(N.check,oe,2,0),ee=V=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&V)<<8)+(V>>8))%31){F.msg="incorrect header check",N.mode=30;break}if((15&V)!=8){F.msg="unknown compression method",N.mode=30;break}if(ee-=4,I=8+(15&(V>>>=4)),N.wbits===0)N.wbits=I;else if(I>N.wbits){F.msg="invalid window size",N.mode=30;break}N.dmax=1<<I,F.adler=N.check=1,N.mode=512&V?10:12,ee=V=0;break;case 2:for(;ee<16;){if(te===0)break e;te--,V+=K[q++]<<ee,ee+=8}if(N.flags=V,(255&N.flags)!=8){F.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){F.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=V>>8&1),512&N.flags&&(oe[0]=255&V,oe[1]=V>>>8&255,N.check=l(N.check,oe,2,0)),ee=V=0,N.mode=3;case 3:for(;ee<32;){if(te===0)break e;te--,V+=K[q++]<<ee,ee+=8}N.head&&(N.head.time=V),512&N.flags&&(oe[0]=255&V,oe[1]=V>>>8&255,oe[2]=V>>>16&255,oe[3]=V>>>24&255,N.check=l(N.check,oe,4,0)),ee=V=0,N.mode=4;case 4:for(;ee<16;){if(te===0)break e;te--,V+=K[q++]<<ee,ee+=8}N.head&&(N.head.xflags=255&V,N.head.os=V>>8),512&N.flags&&(oe[0]=255&V,oe[1]=V>>>8&255,N.check=l(N.check,oe,2,0)),ee=V=0,N.mode=5;case 5:if(1024&N.flags){for(;ee<16;){if(te===0)break e;te--,V+=K[q++]<<ee,ee+=8}N.length=V,N.head&&(N.head.extra_len=V),512&N.flags&&(oe[0]=255&V,oe[1]=V>>>8&255,N.check=l(N.check,oe,2,0)),ee=V=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(te<(be=N.length)&&(be=te),be&&(N.head&&(I=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),s.arraySet(N.head.extra,K,q,be,I)),512&N.flags&&(N.check=l(N.check,K,be,q)),te-=be,q+=be,N.length-=be),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(te===0)break e;for(be=0;I=K[q+be++],N.head&&I&&N.length<65536&&(N.head.name+=String.fromCharCode(I)),I&&be<te;);if(512&N.flags&&(N.check=l(N.check,K,be,q)),te-=be,q+=be,I)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(te===0)break e;for(be=0;I=K[q+be++],N.head&&I&&N.length<65536&&(N.head.comment+=String.fromCharCode(I)),I&&be<te;);if(512&N.flags&&(N.check=l(N.check,K,be,q)),te-=be,q+=be,I)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;ee<16;){if(te===0)break e;te--,V+=K[q++]<<ee,ee+=8}if(V!==(65535&N.check)){F.msg="header crc mismatch",N.mode=30;break}ee=V=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),F.adler=N.check=0,N.mode=12;break;case 10:for(;ee<32;){if(te===0)break e;te--,V+=K[q++]<<ee,ee+=8}F.adler=N.check=D(V),ee=V=0,N.mode=11;case 11:if(N.havedict===0)return F.next_out=ie,F.avail_out=j,F.next_in=q,F.avail_in=te,N.hold=V,N.bits=ee,2;F.adler=N.check=1,N.mode=12;case 12:if(B===5||B===6)break e;case 13:if(N.last){V>>>=7&ee,ee-=7&ee,N.mode=27;break}for(;ee<3;){if(te===0)break e;te--,V+=K[q++]<<ee,ee+=8}switch(N.last=1&V,ee-=1,3&(V>>>=1)){case 0:N.mode=14;break;case 1:if(H(N),N.mode=20,B!==6)break;V>>>=2,ee-=2;break e;case 2:N.mode=17;break;case 3:F.msg="invalid block type",N.mode=30}V>>>=2,ee-=2;break;case 14:for(V>>>=7&ee,ee-=7&ee;ee<32;){if(te===0)break e;te--,V+=K[q++]<<ee,ee+=8}if((65535&V)!=(V>>>16^65535)){F.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&V,ee=V=0,N.mode=15,B===6)break e;case 15:N.mode=16;case 16:if(be=N.length){if(te<be&&(be=te),j<be&&(be=j),be===0)break e;s.arraySet(P,K,q,be,ie),te-=be,q+=be,j-=be,ie+=be,N.length-=be;break}N.mode=12;break;case 17:for(;ee<14;){if(te===0)break e;te--,V+=K[q++]<<ee,ee+=8}if(N.nlen=257+(31&V),V>>>=5,ee-=5,N.ndist=1+(31&V),V>>>=5,ee-=5,N.ncode=4+(15&V),V>>>=4,ee-=4,286<N.nlen||30<N.ndist){F.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;ee<3;){if(te===0)break e;te--,V+=K[q++]<<ee,ee+=8}N.lens[De[N.have++]]=7&V,V>>>=3,ee-=3}for(;N.have<19;)N.lens[De[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,he={bits:N.lenbits},ye=d(0,N.lens,0,19,N.lencode,0,N.work,he),N.lenbits=he.bits,ye){F.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;ze=(X=N.lencode[V&(1<<N.lenbits)-1])>>>16&255,Ge=65535&X,!((Me=X>>>24)<=ee);){if(te===0)break e;te--,V+=K[q++]<<ee,ee+=8}if(Ge<16)V>>>=Me,ee-=Me,N.lens[N.have++]=Ge;else{if(Ge===16){for(se=Me+2;ee<se;){if(te===0)break e;te--,V+=K[q++]<<ee,ee+=8}if(V>>>=Me,ee-=Me,N.have===0){F.msg="invalid bit length repeat",N.mode=30;break}I=N.lens[N.have-1],be=3+(3&V),V>>>=2,ee-=2}else if(Ge===17){for(se=Me+3;ee<se;){if(te===0)break e;te--,V+=K[q++]<<ee,ee+=8}ee-=Me,I=0,be=3+(7&(V>>>=Me)),V>>>=3,ee-=3}else{for(se=Me+7;ee<se;){if(te===0)break e;te--,V+=K[q++]<<ee,ee+=8}ee-=Me,I=0,be=11+(127&(V>>>=Me)),V>>>=7,ee-=7}if(N.have+be>N.nlen+N.ndist){F.msg="invalid bit length repeat",N.mode=30;break}for(;be--;)N.lens[N.have++]=I}}if(N.mode===30)break;if(N.lens[256]===0){F.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,he={bits:N.lenbits},ye=d(h,N.lens,0,N.nlen,N.lencode,0,N.work,he),N.lenbits=he.bits,ye){F.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,he={bits:N.distbits},ye=d(p,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,he),N.distbits=he.bits,ye){F.msg="invalid distances set",N.mode=30;break}if(N.mode=20,B===6)break e;case 20:N.mode=21;case 21:if(6<=te&&258<=j){F.next_out=ie,F.avail_out=j,F.next_in=q,F.avail_in=te,N.hold=V,N.bits=ee,u(F,pe),ie=F.next_out,P=F.output,j=F.avail_out,q=F.next_in,K=F.input,te=F.avail_in,V=N.hold,ee=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;ze=(X=N.lencode[V&(1<<N.lenbits)-1])>>>16&255,Ge=65535&X,!((Me=X>>>24)<=ee);){if(te===0)break e;te--,V+=K[q++]<<ee,ee+=8}if(ze&&(240&ze)==0){for(Ke=Me,ft=ze,at=Ge;ze=(X=N.lencode[at+((V&(1<<Ke+ft)-1)>>Ke)])>>>16&255,Ge=65535&X,!(Ke+(Me=X>>>24)<=ee);){if(te===0)break e;te--,V+=K[q++]<<ee,ee+=8}V>>>=Ke,ee-=Ke,N.back+=Ke}if(V>>>=Me,ee-=Me,N.back+=Me,N.length=Ge,ze===0){N.mode=26;break}if(32&ze){N.back=-1,N.mode=12;break}if(64&ze){F.msg="invalid literal/length code",N.mode=30;break}N.extra=15&ze,N.mode=22;case 22:if(N.extra){for(se=N.extra;ee<se;){if(te===0)break e;te--,V+=K[q++]<<ee,ee+=8}N.length+=V&(1<<N.extra)-1,V>>>=N.extra,ee-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;ze=(X=N.distcode[V&(1<<N.distbits)-1])>>>16&255,Ge=65535&X,!((Me=X>>>24)<=ee);){if(te===0)break e;te--,V+=K[q++]<<ee,ee+=8}if((240&ze)==0){for(Ke=Me,ft=ze,at=Ge;ze=(X=N.distcode[at+((V&(1<<Ke+ft)-1)>>Ke)])>>>16&255,Ge=65535&X,!(Ke+(Me=X>>>24)<=ee);){if(te===0)break e;te--,V+=K[q++]<<ee,ee+=8}V>>>=Ke,ee-=Ke,N.back+=Ke}if(V>>>=Me,ee-=Me,N.back+=Me,64&ze){F.msg="invalid distance code",N.mode=30;break}N.offset=Ge,N.extra=15&ze,N.mode=24;case 24:if(N.extra){for(se=N.extra;ee<se;){if(te===0)break e;te--,V+=K[q++]<<ee,ee+=8}N.offset+=V&(1<<N.extra)-1,V>>>=N.extra,ee-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){F.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(j===0)break e;if(be=pe-j,N.offset>be){if((be=N.offset-be)>N.whave&&N.sane){F.msg="invalid distance too far back",N.mode=30;break}Ee=be>N.wnext?(be-=N.wnext,N.wsize-be):N.wnext-be,be>N.length&&(be=N.length),Re=N.window}else Re=P,Ee=ie-N.offset,be=N.length;for(j<be&&(be=j),j-=be,N.length-=be;P[ie++]=Re[Ee++],--be;);N.length===0&&(N.mode=21);break;case 26:if(j===0)break e;P[ie++]=N.length,j--,N.mode=21;break;case 27:if(N.wrap){for(;ee<32;){if(te===0)break e;te--,V|=K[q++]<<ee,ee+=8}if(pe-=j,F.total_out+=pe,N.total+=pe,pe&&(F.adler=N.check=N.flags?l(N.check,P,pe,ie-pe):a(N.check,P,pe,ie-pe)),pe=j,(N.flags?V:D(V))!==N.check){F.msg="incorrect data check",N.mode=30;break}ee=V=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;ee<32;){if(te===0)break e;te--,V+=K[q++]<<ee,ee+=8}if(V!==(4294967295&N.total)){F.msg="incorrect length check",N.mode=30;break}ee=V=0}N.mode=29;case 29:ye=1;break e;case 30:ye=-3;break e;case 31:return-4;case 32:default:return y}return F.next_out=ie,F.avail_out=j,F.next_in=q,F.avail_in=te,N.hold=V,N.bits=ee,(N.wsize||pe!==F.avail_out&&N.mode<30&&(N.mode<27||B!==4))&&ne(F,F.output,F.next_out,pe-F.avail_out)?(N.mode=31,-4):(re-=F.avail_in,pe-=F.avail_out,F.total_in+=re,F.total_out+=pe,N.total+=pe,N.wrap&&pe&&(F.adler=N.check=N.flags?l(N.check,P,pe,F.next_out-pe):a(N.check,P,pe,F.next_out-pe)),F.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),(re==0&&pe===0||B===4)&&ye===g&&(ye=-5),ye)},i.inflateEnd=function(F){if(!F||!F.state)return y;var B=F.state;return B.window&&(B.window=null),F.state=null,g},i.inflateGetHeader=function(F,B){var N;return F&&F.state?(2&(N=F.state).wrap)==0?y:((N.head=B).done=!1,g):y},i.inflateSetDictionary=function(F,B){var N,K=B.length;return F&&F.state?(N=F.state).wrap!==0&&N.mode!==11?y:N.mode===11&&a(1,B,K,0)!==N.check?-3:ne(F,B,K,K)?(N.mode=31,-4):(N.havedict=1,g):y},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,i){var s=t("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(h,p,g,y,v,x,T,D){var E,C,R,U,M,O,W,L,H,ne=D.bits,F=0,B=0,N=0,K=0,P=0,q=0,ie=0,te=0,j=0,V=0,ee=null,re=0,pe=new s.Buf16(16),be=new s.Buf16(16),Ee=null,Re=0;for(F=0;F<=15;F++)pe[F]=0;for(B=0;B<y;B++)pe[p[g+B]]++;for(P=ne,K=15;1<=K&&pe[K]===0;K--);if(K<P&&(P=K),K===0)return v[x++]=20971520,v[x++]=20971520,D.bits=1,0;for(N=1;N<K&&pe[N]===0;N++);for(P<N&&(P=N),F=te=1;F<=15;F++)if(te<<=1,(te-=pe[F])<0)return-1;if(0<te&&(h===0||K!==1))return-1;for(be[1]=0,F=1;F<15;F++)be[F+1]=be[F]+pe[F];for(B=0;B<y;B++)p[g+B]!==0&&(T[be[p[g+B]]++]=B);if(O=h===0?(ee=Ee=T,19):h===1?(ee=a,re-=257,Ee=l,Re-=257,256):(ee=u,Ee=d,-1),F=N,M=x,ie=B=V=0,R=-1,U=(j=1<<(q=P))-1,h===1&&852<j||h===2&&592<j)return 1;for(;;){for(W=F-ie,H=T[B]<O?(L=0,T[B]):T[B]>O?(L=Ee[Re+T[B]],ee[re+T[B]]):(L=96,0),E=1<<F-ie,N=C=1<<q;v[M+(V>>ie)+(C-=E)]=W<<24|L<<16|H|0,C!==0;);for(E=1<<F-1;V&E;)E>>=1;if(E!==0?(V&=E-1,V+=E):V=0,B++,--pe[F]==0){if(F===K)break;F=p[g+T[B]]}if(P<F&&(V&U)!==R){for(ie===0&&(ie=P),M+=N,te=1<<(q=F-ie);q+ie<K&&!((te-=pe[q+ie])<=0);)q++,te<<=1;if(j+=1<<q,h===1&&852<j||h===2&&592<j)return 1;v[R=V&U]=P<<24|q<<16|M-x|0}}return V!==0&&(v[M+V]=F-ie<<24|64<<16|0),D.bits=P,0}},{"../utils/common":41}],51:[function(t,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,i){var s=t("../utils/common"),a=0,l=1;function u(X){for(var oe=X.length;0<=--oe;)X[oe]=0}var d=0,h=29,p=256,g=p+1+h,y=30,v=19,x=2*g+1,T=15,D=16,E=7,C=256,R=16,U=17,M=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],W=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=new Array(2*(g+2));u(ne);var F=new Array(2*y);u(F);var B=new Array(512);u(B);var N=new Array(256);u(N);var K=new Array(h);u(K);var P,q,ie,te=new Array(y);function j(X,oe,De,_e,fe){this.static_tree=X,this.extra_bits=oe,this.extra_base=De,this.elems=_e,this.max_length=fe,this.has_stree=X&&X.length}function V(X,oe){this.dyn_tree=X,this.max_code=0,this.stat_desc=oe}function ee(X){return X<256?B[X]:B[256+(X>>>7)]}function re(X,oe){X.pending_buf[X.pending++]=255&oe,X.pending_buf[X.pending++]=oe>>>8&255}function pe(X,oe,De){X.bi_valid>D-De?(X.bi_buf|=oe<<X.bi_valid&65535,re(X,X.bi_buf),X.bi_buf=oe>>D-X.bi_valid,X.bi_valid+=De-D):(X.bi_buf|=oe<<X.bi_valid&65535,X.bi_valid+=De)}function be(X,oe,De){pe(X,De[2*oe],De[2*oe+1])}function Ee(X,oe){for(var De=0;De|=1&X,X>>>=1,De<<=1,0<--oe;);return De>>>1}function Re(X,oe,De){var _e,fe,ae=new Array(T+1),le=0;for(_e=1;_e<=T;_e++)ae[_e]=le=le+De[_e-1]<<1;for(fe=0;fe<=oe;fe++){var ve=X[2*fe+1];ve!==0&&(X[2*fe]=Ee(ae[ve]++,ve))}}function Me(X){var oe;for(oe=0;oe<g;oe++)X.dyn_ltree[2*oe]=0;for(oe=0;oe<y;oe++)X.dyn_dtree[2*oe]=0;for(oe=0;oe<v;oe++)X.bl_tree[2*oe]=0;X.dyn_ltree[2*C]=1,X.opt_len=X.static_len=0,X.last_lit=X.matches=0}function ze(X){8<X.bi_valid?re(X,X.bi_buf):0<X.bi_valid&&(X.pending_buf[X.pending++]=X.bi_buf),X.bi_buf=0,X.bi_valid=0}function Ge(X,oe,De,_e){var fe=2*oe,ae=2*De;return X[fe]<X[ae]||X[fe]===X[ae]&&_e[oe]<=_e[De]}function Ke(X,oe,De){for(var _e=X.heap[De],fe=De<<1;fe<=X.heap_len&&(fe<X.heap_len&&Ge(oe,X.heap[fe+1],X.heap[fe],X.depth)&&fe++,!Ge(oe,_e,X.heap[fe],X.depth));)X.heap[De]=X.heap[fe],De=fe,fe<<=1;X.heap[De]=_e}function ft(X,oe,De){var _e,fe,ae,le,ve=0;if(X.last_lit!==0)for(;_e=X.pending_buf[X.d_buf+2*ve]<<8|X.pending_buf[X.d_buf+2*ve+1],fe=X.pending_buf[X.l_buf+ve],ve++,_e===0?be(X,fe,oe):(be(X,(ae=N[fe])+p+1,oe),(le=O[ae])!==0&&pe(X,fe-=K[ae],le),be(X,ae=ee(--_e),De),(le=W[ae])!==0&&pe(X,_e-=te[ae],le)),ve<X.last_lit;);be(X,C,oe)}function at(X,oe){var De,_e,fe,ae=oe.dyn_tree,le=oe.stat_desc.static_tree,ve=oe.stat_desc.has_stree,Ae=oe.stat_desc.elems,Ie=-1;for(X.heap_len=0,X.heap_max=x,De=0;De<Ae;De++)ae[2*De]!==0?(X.heap[++X.heap_len]=Ie=De,X.depth[De]=0):ae[2*De+1]=0;for(;X.heap_len<2;)ae[2*(fe=X.heap[++X.heap_len]=Ie<2?++Ie:0)]=1,X.depth[fe]=0,X.opt_len--,ve&&(X.static_len-=le[2*fe+1]);for(oe.max_code=Ie,De=X.heap_len>>1;1<=De;De--)Ke(X,ae,De);for(fe=Ae;De=X.heap[1],X.heap[1]=X.heap[X.heap_len--],Ke(X,ae,1),_e=X.heap[1],X.heap[--X.heap_max]=De,X.heap[--X.heap_max]=_e,ae[2*fe]=ae[2*De]+ae[2*_e],X.depth[fe]=(X.depth[De]>=X.depth[_e]?X.depth[De]:X.depth[_e])+1,ae[2*De+1]=ae[2*_e+1]=fe,X.heap[1]=fe++,Ke(X,ae,1),2<=X.heap_len;);X.heap[--X.heap_max]=X.heap[1],function(qe,ge){var ke,Oe,Ve,$e,dt,Pt,an=ge.dyn_tree,zn=ge.max_code,_u=ge.stat_desc.static_tree,ao=ge.stat_desc.has_stree,Cl=ge.stat_desc.extra_bits,G=ge.stat_desc.extra_base,J=ge.stat_desc.max_length,ue=0;for($e=0;$e<=T;$e++)qe.bl_count[$e]=0;for(an[2*qe.heap[qe.heap_max]+1]=0,ke=qe.heap_max+1;ke<x;ke++)J<($e=an[2*an[2*(Oe=qe.heap[ke])+1]+1]+1)&&($e=J,ue++),an[2*Oe+1]=$e,zn<Oe||(qe.bl_count[$e]++,dt=0,G<=Oe&&(dt=Cl[Oe-G]),Pt=an[2*Oe],qe.opt_len+=Pt*($e+dt),ao&&(qe.static_len+=Pt*(_u[2*Oe+1]+dt)));if(ue!==0){do{for($e=J-1;qe.bl_count[$e]===0;)$e--;qe.bl_count[$e]--,qe.bl_count[$e+1]+=2,qe.bl_count[J]--,ue-=2}while(0<ue);for($e=J;$e!==0;$e--)for(Oe=qe.bl_count[$e];Oe!==0;)zn<(Ve=qe.heap[--ke])||(an[2*Ve+1]!==$e&&(qe.opt_len+=($e-an[2*Ve+1])*an[2*Ve],an[2*Ve+1]=$e),Oe--)}}(X,oe),Re(ae,Ie,X.bl_count)}function I(X,oe,De){var _e,fe,ae=-1,le=oe[1],ve=0,Ae=7,Ie=4;for(le===0&&(Ae=138,Ie=3),oe[2*(De+1)+1]=65535,_e=0;_e<=De;_e++)fe=le,le=oe[2*(_e+1)+1],++ve<Ae&&fe===le||(ve<Ie?X.bl_tree[2*fe]+=ve:fe!==0?(fe!==ae&&X.bl_tree[2*fe]++,X.bl_tree[2*R]++):ve<=10?X.bl_tree[2*U]++:X.bl_tree[2*M]++,ae=fe,Ie=(ve=0)===le?(Ae=138,3):fe===le?(Ae=6,3):(Ae=7,4))}function ye(X,oe,De){var _e,fe,ae=-1,le=oe[1],ve=0,Ae=7,Ie=4;for(le===0&&(Ae=138,Ie=3),_e=0;_e<=De;_e++)if(fe=le,le=oe[2*(_e+1)+1],!(++ve<Ae&&fe===le)){if(ve<Ie)for(;be(X,fe,X.bl_tree),--ve!=0;);else fe!==0?(fe!==ae&&(be(X,fe,X.bl_tree),ve--),be(X,R,X.bl_tree),pe(X,ve-3,2)):ve<=10?(be(X,U,X.bl_tree),pe(X,ve-3,3)):(be(X,M,X.bl_tree),pe(X,ve-11,7));ae=fe,Ie=(ve=0)===le?(Ae=138,3):fe===le?(Ae=6,3):(Ae=7,4)}}u(te);var he=!1;function se(X,oe,De,_e){pe(X,(d<<1)+(_e?1:0),3),function(fe,ae,le,ve){ze(fe),re(fe,le),re(fe,~le),s.arraySet(fe.pending_buf,fe.window,ae,le,fe.pending),fe.pending+=le}(X,oe,De)}i._tr_init=function(X){he||(function(){var oe,De,_e,fe,ae,le=new Array(T+1);for(fe=_e=0;fe<h-1;fe++)for(K[fe]=_e,oe=0;oe<1<<O[fe];oe++)N[_e++]=fe;for(N[_e-1]=fe,fe=ae=0;fe<16;fe++)for(te[fe]=ae,oe=0;oe<1<<W[fe];oe++)B[ae++]=fe;for(ae>>=7;fe<y;fe++)for(te[fe]=ae<<7,oe=0;oe<1<<W[fe]-7;oe++)B[256+ae++]=fe;for(De=0;De<=T;De++)le[De]=0;for(oe=0;oe<=143;)ne[2*oe+1]=8,oe++,le[8]++;for(;oe<=255;)ne[2*oe+1]=9,oe++,le[9]++;for(;oe<=279;)ne[2*oe+1]=7,oe++,le[7]++;for(;oe<=287;)ne[2*oe+1]=8,oe++,le[8]++;for(Re(ne,g+1,le),oe=0;oe<y;oe++)F[2*oe+1]=5,F[2*oe]=Ee(oe,5);P=new j(ne,O,p+1,g,T),q=new j(F,W,0,y,T),ie=new j(new Array(0),L,0,v,E)}(),he=!0),X.l_desc=new V(X.dyn_ltree,P),X.d_desc=new V(X.dyn_dtree,q),X.bl_desc=new V(X.bl_tree,ie),X.bi_buf=0,X.bi_valid=0,Me(X)},i._tr_stored_block=se,i._tr_flush_block=function(X,oe,De,_e){var fe,ae,le=0;0<X.level?(X.strm.data_type===2&&(X.strm.data_type=function(ve){var Ae,Ie=4093624447;for(Ae=0;Ae<=31;Ae++,Ie>>>=1)if(1&Ie&&ve.dyn_ltree[2*Ae]!==0)return a;if(ve.dyn_ltree[18]!==0||ve.dyn_ltree[20]!==0||ve.dyn_ltree[26]!==0)return l;for(Ae=32;Ae<p;Ae++)if(ve.dyn_ltree[2*Ae]!==0)return l;return a}(X)),at(X,X.l_desc),at(X,X.d_desc),le=function(ve){var Ae;for(I(ve,ve.dyn_ltree,ve.l_desc.max_code),I(ve,ve.dyn_dtree,ve.d_desc.max_code),at(ve,ve.bl_desc),Ae=v-1;3<=Ae&&ve.bl_tree[2*H[Ae]+1]===0;Ae--);return ve.opt_len+=3*(Ae+1)+5+5+4,Ae}(X),fe=X.opt_len+3+7>>>3,(ae=X.static_len+3+7>>>3)<=fe&&(fe=ae)):fe=ae=De+5,De+4<=fe&&oe!==-1?se(X,oe,De,_e):X.strategy===4||ae===fe?(pe(X,2+(_e?1:0),3),ft(X,ne,F)):(pe(X,4+(_e?1:0),3),function(ve,Ae,Ie,qe){var ge;for(pe(ve,Ae-257,5),pe(ve,Ie-1,5),pe(ve,qe-4,4),ge=0;ge<qe;ge++)pe(ve,ve.bl_tree[2*H[ge]+1],3);ye(ve,ve.dyn_ltree,Ae-1),ye(ve,ve.dyn_dtree,Ie-1)}(X,X.l_desc.max_code+1,X.d_desc.max_code+1,le+1),ft(X,X.dyn_ltree,X.dyn_dtree)),Me(X),_e&&ze(X)},i._tr_tally=function(X,oe,De){return X.pending_buf[X.d_buf+2*X.last_lit]=oe>>>8&255,X.pending_buf[X.d_buf+2*X.last_lit+1]=255&oe,X.pending_buf[X.l_buf+X.last_lit]=255&De,X.last_lit++,oe===0?X.dyn_ltree[2*De]++:(X.matches++,oe--,X.dyn_ltree[2*(N[De]+p+1)]++,X.dyn_dtree[2*ee(oe)]++),X.last_lit===X.lit_bufsize-1},i._tr_align=function(X){pe(X,2,3),be(X,C,ne),function(oe){oe.bi_valid===16?(re(oe,oe.bi_buf),oe.bi_buf=0,oe.bi_valid=0):8<=oe.bi_valid&&(oe.pending_buf[oe.pending++]=255&oe.bi_buf,oe.bi_buf>>=8,oe.bi_valid-=8)}(X)}},{"../utils/common":41}],53:[function(t,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,i){(function(s){(function(a,l){if(!a.setImmediate){var u,d,h,p,g=1,y={},v=!1,x=a.document,T=Object.getPrototypeOf&&Object.getPrototypeOf(a);T=T&&T.setTimeout?T:a,u={}.toString.call(a.process)==="[object process]"?function(R){process.nextTick(function(){E(R)})}:function(){if(a.postMessage&&!a.importScripts){var R=!0,U=a.onmessage;return a.onmessage=function(){R=!1},a.postMessage("","*"),a.onmessage=U,R}}()?(p="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",C,!1):a.attachEvent("onmessage",C),function(R){a.postMessage(p+R,"*")}):a.MessageChannel?((h=new MessageChannel).port1.onmessage=function(R){E(R.data)},function(R){h.port2.postMessage(R)}):x&&"onreadystatechange"in x.createElement("script")?(d=x.documentElement,function(R){var U=x.createElement("script");U.onreadystatechange=function(){E(R),U.onreadystatechange=null,d.removeChild(U),U=null},d.appendChild(U)}):function(R){setTimeout(E,0,R)},T.setImmediate=function(R){typeof R!="function"&&(R=new Function(""+R));for(var U=new Array(arguments.length-1),M=0;M<U.length;M++)U[M]=arguments[M+1];var O={callback:R,args:U};return y[g]=O,u(g),g++},T.clearImmediate=D}function D(R){delete y[R]}function E(R){if(v)setTimeout(E,0,R);else{var U=y[R];if(U){v=!0;try{(function(M){var O=M.callback,W=M.args;switch(W.length){case 0:O();break;case 1:O(W[0]);break;case 2:O(W[0],W[1]);break;case 3:O(W[0],W[1],W[2]);break;default:O.apply(l,W)}})(U)}finally{D(R),v=!1}}}}function C(R){R.source===a&&typeof R.data=="string"&&R.data.indexOf(p)===0&&E(+R.data.slice(p.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof ll<"u"?ll:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(r_)),r_.exports}var Z3;function T8(){if(Z3)return Hf;Z3=1;var r=E$(),e=C$();Hf.openArrayBuffer=t,Hf.splitPath=n,Hf.joinPath=i;function t(s){return e.loadAsync(s).then(function(a){function l(p){return a.file(p)!==null}function u(p,g){return a.file(p).async("uint8array").then(function(y){if(g==="base64")return r.fromByteArray(y);if(g){var v=new TextDecoder(g);return v.decode(y)}else return y})}function d(p,g){a.file(p,g)}function h(){return a.generateAsync({type:"arraybuffer"})}return{exists:l,read:u,write:d,toArrayBuffer:h}})}function n(s){var a=s.lastIndexOf("/");return a===-1?{dirname:"",basename:s}:{dirname:s.substring(0,a),basename:s.substring(a+1)}}function i(){var s=Array.prototype.filter.call(arguments,function(l){return l}),a=[];return s.forEach(function(l){/^\//.test(l)?a=[l]:a.push(l)}),a.join("/")}return Hf}var rv={},Gl={},$f={},J3;function D8(){if(J3)return $f;J3=1;var r=An;$f.Element=t,$f.element=function(s,a,l){return new t(s,a,l)},$f.text=function(s){return{type:"text",value:s}};var e={first:function(){return null},firstOrEmpty:function(){return e},attributes:{}};function t(s,a,l){this.type="element",this.name=s,this.attributes=a||{},this.children=l||[]}t.prototype.first=function(s){return r.find(this.children,function(a){return a.name===s})},t.prototype.firstOrEmpty=function(s){return this.first(s)||e},t.prototype.getElementsByTagName=function(s){var a=r.filter(this.children,function(l){return l.name===s});return i(a)},t.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var n={getElementsByTagName:function(s){return i(r.flatten(this.map(function(a){return a.getElementsByTagName(s)},!0)))}};function i(s){return r.extend(s,n)}return $f}var s_={},sv={},Xf={},ga={},$l={},eR;function Lb(){if(eR)return $l;eR=1;function r(s,a,l){if(l===void 0&&(l=Array.prototype),s&&typeof l.find=="function")return l.find.call(s,a);for(var u=0;u<s.length;u++)if(Object.prototype.hasOwnProperty.call(s,u)){var d=s[u];if(a.call(void 0,d,u,s))return d}}function e(s,a){return a===void 0&&(a=Object),a&&typeof a.freeze=="function"?a.freeze(s):s}function t(s,a){if(s===null||typeof s!="object")throw new TypeError("target is not an object");for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l]);return s}var n=e({HTML:"text/html",isHTML:function(s){return s===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(s){return s===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return $l.assign=t,$l.find=r,$l.freeze=e,$l.MIME_TYPE=n,$l.NAMESPACE=i,$l}var tR;function VD(){if(tR)return ga;tR=1;var r=Lb(),e=r.find,t=r.NAMESPACE;function n(G){return G!==""}function i(G){return G?G.split(/[\t\n\f\r ]+/).filter(n):[]}function s(G,J){return G.hasOwnProperty(J)||(G[J]=!0),G}function a(G){if(!G)return[];var J=i(G);return Object.keys(J.reduce(s,{}))}function l(G){return function(J){return G&&G.indexOf(J)!==-1}}function u(G,J){for(var ue in G)Object.prototype.hasOwnProperty.call(G,ue)&&(J[ue]=G[ue])}function d(G,J){var ue=G.prototype;if(!(ue instanceof J)){let Ue=function(){};Ue.prototype=J.prototype,Ue=new Ue,u(ue,Ue),G.prototype=ue=Ue}ue.constructor!=G&&(typeof G!="function"&&console.error("unknown Class:"+G),ue.constructor=G)}var h={},p=h.ELEMENT_NODE=1,g=h.ATTRIBUTE_NODE=2,y=h.TEXT_NODE=3,v=h.CDATA_SECTION_NODE=4,x=h.ENTITY_REFERENCE_NODE=5,T=h.ENTITY_NODE=6,D=h.PROCESSING_INSTRUCTION_NODE=7,E=h.COMMENT_NODE=8,C=h.DOCUMENT_NODE=9,R=h.DOCUMENT_TYPE_NODE=10,U=h.DOCUMENT_FRAGMENT_NODE=11,M=h.NOTATION_NODE=12,O={},W={};O.INDEX_SIZE_ERR=(W[1]="Index size error",1),O.DOMSTRING_SIZE_ERR=(W[2]="DOMString size error",2);var L=O.HIERARCHY_REQUEST_ERR=(W[3]="Hierarchy request error",3);O.WRONG_DOCUMENT_ERR=(W[4]="Wrong document",4),O.INVALID_CHARACTER_ERR=(W[5]="Invalid character",5),O.NO_DATA_ALLOWED_ERR=(W[6]="No data allowed",6),O.NO_MODIFICATION_ALLOWED_ERR=(W[7]="No modification allowed",7);var H=O.NOT_FOUND_ERR=(W[8]="Not found",8);O.NOT_SUPPORTED_ERR=(W[9]="Not supported",9);var ne=O.INUSE_ATTRIBUTE_ERR=(W[10]="Attribute in use",10);O.INVALID_STATE_ERR=(W[11]="Invalid state",11),O.SYNTAX_ERR=(W[12]="Syntax error",12),O.INVALID_MODIFICATION_ERR=(W[13]="Invalid modification",13),O.NAMESPACE_ERR=(W[14]="Invalid namespace",14),O.INVALID_ACCESS_ERR=(W[15]="Invalid access",15);function F(G,J){if(J instanceof Error)var ue=J;else ue=this,Error.call(this,W[G]),this.message=W[G],Error.captureStackTrace&&Error.captureStackTrace(this,F);return ue.code=G,J&&(this.message=this.message+": "+J),ue}F.prototype=Error.prototype,u(O,F);function B(){}B.prototype={length:0,item:function(G){return G>=0&&G<this.length?this[G]:null},toString:function(G,J){for(var ue=[],Ue=0;Ue<this.length;Ue++)zn(this[Ue],ue,G,J);return ue.join("")},filter:function(G){return Array.prototype.filter.call(this,G)},indexOf:function(G){return Array.prototype.indexOf.call(this,G)}};function N(G,J){this._node=G,this._refresh=J,K(this)}function K(G){var J=G._node._inc||G._node.ownerDocument._inc;if(G._inc!==J){var ue=G._refresh(G._node);if(Cl(G,"length",ue.length),!G.$$length||ue.length<G.$$length)for(var Ue=ue.length;Ue in G;Ue++)Object.prototype.hasOwnProperty.call(G,Ue)&&delete G[Ue];u(ue,G),G._inc=J}}N.prototype.item=function(G){return K(this),this[G]||null},d(N,B);function P(){}function q(G,J){for(var ue=G.length;ue--;)if(G[ue]===J)return ue}function ie(G,J,ue,Ue){if(Ue?J[q(J,Ue)]=ue:J[J.length++]=ue,G){ue.ownerElement=G;var Be=G.ownerDocument;Be&&(Ue&&Ee(Be,G,Ue),be(Be,G,ue))}}function te(G,J,ue){var Ue=q(J,ue);if(Ue>=0){for(var Be=J.length-1;Ue<Be;)J[Ue]=J[++Ue];if(J.length=Be,G){var rt=G.ownerDocument;rt&&(Ee(rt,G,ue),ue.ownerElement=null)}}else throw new F(H,new Error(G.tagName+"@"+ue))}P.prototype={length:0,item:B.prototype.item,getNamedItem:function(G){for(var J=this.length;J--;){var ue=this[J];if(ue.nodeName==G)return ue}},setNamedItem:function(G){var J=G.ownerElement;if(J&&J!=this._ownerElement)throw new F(ne);var ue=this.getNamedItem(G.nodeName);return ie(this._ownerElement,this,G,ue),ue},setNamedItemNS:function(G){var J=G.ownerElement,ue;if(J&&J!=this._ownerElement)throw new F(ne);return ue=this.getNamedItemNS(G.namespaceURI,G.localName),ie(this._ownerElement,this,G,ue),ue},removeNamedItem:function(G){var J=this.getNamedItem(G);return te(this._ownerElement,this,J),J},removeNamedItemNS:function(G,J){var ue=this.getNamedItemNS(G,J);return te(this._ownerElement,this,ue),ue},getNamedItemNS:function(G,J){for(var ue=this.length;ue--;){var Ue=this[ue];if(Ue.localName==J&&Ue.namespaceURI==G)return Ue}return null}};function j(){}j.prototype={hasFeature:function(G,J){return!0},createDocument:function(G,J,ue){var Ue=new pe;if(Ue.implementation=this,Ue.childNodes=new B,Ue.doctype=ue||null,ue&&Ue.appendChild(ue),J){var Be=Ue.createElementNS(G,J);Ue.appendChild(Be)}return Ue},createDocumentType:function(G,J,ue){var Ue=new Ie;return Ue.name=G,Ue.nodeName=G,Ue.publicId=J||"",Ue.systemId=ue||"",Ue}};function V(){}V.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(G,J){return oe(this,G,J)},replaceChild:function(G,J){oe(this,G,J,X),J&&this.removeChild(J)},removeChild:function(G){return Me(this,G)},appendChild:function(G){return this.insertBefore(G,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(G){return ao(this.ownerDocument||this,this,G)},normalize:function(){for(var G=this.firstChild;G;){var J=G.nextSibling;J&&J.nodeType==y&&G.nodeType==y?(this.removeChild(J),G.appendData(J.data)):(G.normalize(),G=J)}},isSupported:function(G,J){return this.ownerDocument.implementation.hasFeature(G,J)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(G){for(var J=this;J;){var ue=J._nsMap;if(ue){for(var Ue in ue)if(Object.prototype.hasOwnProperty.call(ue,Ue)&&ue[Ue]===G)return Ue}J=J.nodeType==g?J.ownerDocument:J.parentNode}return null},lookupNamespaceURI:function(G){for(var J=this;J;){var ue=J._nsMap;if(ue&&Object.prototype.hasOwnProperty.call(ue,G))return ue[G];J=J.nodeType==g?J.ownerDocument:J.parentNode}return null},isDefaultNamespace:function(G){var J=this.lookupPrefix(G);return J==null}};function ee(G){return G=="<"&&"&lt;"||G==">"&&"&gt;"||G=="&"&&"&amp;"||G=='"'&&"&quot;"||"&#"+G.charCodeAt()+";"}u(h,V),u(h,V.prototype);function re(G,J){if(J(G))return!0;if(G=G.firstChild)do if(re(G,J))return!0;while(G=G.nextSibling)}function pe(){this.ownerDocument=this}function be(G,J,ue){G&&G._inc++;var Ue=ue.namespaceURI;Ue===t.XMLNS&&(J._nsMap[ue.prefix?ue.localName:""]=ue.value)}function Ee(G,J,ue,Ue){G&&G._inc++;var Be=ue.namespaceURI;Be===t.XMLNS&&delete J._nsMap[ue.prefix?ue.localName:""]}function Re(G,J,ue){if(G&&G._inc){G._inc++;var Ue=J.childNodes;if(ue)Ue[Ue.length++]=ue;else{for(var Be=J.firstChild,rt=0;Be;)Ue[rt++]=Be,Be=Be.nextSibling;Ue.length=rt,delete Ue[Ue.length]}}}function Me(G,J){var ue=J.previousSibling,Ue=J.nextSibling;return ue?ue.nextSibling=Ue:G.firstChild=Ue,Ue?Ue.previousSibling=ue:G.lastChild=ue,J.parentNode=null,J.previousSibling=null,J.nextSibling=null,Re(G.ownerDocument,G),J}function ze(G){return G&&(G.nodeType===V.DOCUMENT_NODE||G.nodeType===V.DOCUMENT_FRAGMENT_NODE||G.nodeType===V.ELEMENT_NODE)}function Ge(G){return G&&(ft(G)||at(G)||Ke(G)||G.nodeType===V.DOCUMENT_FRAGMENT_NODE||G.nodeType===V.COMMENT_NODE||G.nodeType===V.PROCESSING_INSTRUCTION_NODE)}function Ke(G){return G&&G.nodeType===V.DOCUMENT_TYPE_NODE}function ft(G){return G&&G.nodeType===V.ELEMENT_NODE}function at(G){return G&&G.nodeType===V.TEXT_NODE}function I(G,J){var ue=G.childNodes||[];if(e(ue,ft)||Ke(J))return!1;var Ue=e(ue,Ke);return!(J&&Ue&&ue.indexOf(Ue)>ue.indexOf(J))}function ye(G,J){var ue=G.childNodes||[];function Ue(rt){return ft(rt)&&rt!==J}if(e(ue,Ue))return!1;var Be=e(ue,Ke);return!(J&&Be&&ue.indexOf(Be)>ue.indexOf(J))}function he(G,J,ue){if(!ze(G))throw new F(L,"Unexpected parent node type "+G.nodeType);if(ue&&ue.parentNode!==G)throw new F(H,"child not in parent");if(!Ge(J)||Ke(J)&&G.nodeType!==V.DOCUMENT_NODE)throw new F(L,"Unexpected node type "+J.nodeType+" for parent node type "+G.nodeType)}function se(G,J,ue){var Ue=G.childNodes||[],Be=J.childNodes||[];if(J.nodeType===V.DOCUMENT_FRAGMENT_NODE){var rt=Be.filter(ft);if(rt.length>1||e(Be,at))throw new F(L,"More than one element or text in fragment");if(rt.length===1&&!I(G,ue))throw new F(L,"Element in fragment can not be inserted before doctype")}if(ft(J)&&!I(G,ue))throw new F(L,"Only one element can be added and only after doctype");if(Ke(J)){if(e(Ue,Ke))throw new F(L,"Only one doctype is allowed");var Bt=e(Ue,ft);if(ue&&Ue.indexOf(Bt)<Ue.indexOf(ue))throw new F(L,"Doctype can only be inserted before an element");if(!ue&&Bt)throw new F(L,"Doctype can not be appended since element is present")}}function X(G,J,ue){var Ue=G.childNodes||[],Be=J.childNodes||[];if(J.nodeType===V.DOCUMENT_FRAGMENT_NODE){var rt=Be.filter(ft);if(rt.length>1||e(Be,at))throw new F(L,"More than one element or text in fragment");if(rt.length===1&&!ye(G,ue))throw new F(L,"Element in fragment can not be inserted before doctype")}if(ft(J)&&!ye(G,ue))throw new F(L,"Only one element can be added and only after doctype");if(Ke(J)){if(e(Ue,function(jr){return Ke(jr)&&jr!==ue}))throw new F(L,"Only one doctype is allowed");var Bt=e(Ue,ft);if(ue&&Ue.indexOf(Bt)<Ue.indexOf(ue))throw new F(L,"Doctype can only be inserted before an element")}}function oe(G,J,ue,Ue){he(G,J,ue),G.nodeType===V.DOCUMENT_NODE&&(Ue||se)(G,J,ue);var Be=J.parentNode;if(Be&&Be.removeChild(J),J.nodeType===U){var rt=J.firstChild;if(rt==null)return J;var Bt=J.lastChild}else rt=Bt=J;var Yn=ue?ue.previousSibling:G.lastChild;rt.previousSibling=Yn,Bt.nextSibling=ue,Yn?Yn.nextSibling=rt:G.firstChild=rt,ue==null?G.lastChild=Bt:ue.previousSibling=Bt;do rt.parentNode=G;while(rt!==Bt&&(rt=rt.nextSibling));return Re(G.ownerDocument||G,G),J.nodeType==U&&(J.firstChild=J.lastChild=null),J}function De(G,J){return J.parentNode&&J.parentNode.removeChild(J),J.parentNode=G,J.previousSibling=G.lastChild,J.nextSibling=null,J.previousSibling?J.previousSibling.nextSibling=J:G.firstChild=J,G.lastChild=J,Re(G.ownerDocument,G,J),J}pe.prototype={nodeName:"#document",nodeType:C,doctype:null,documentElement:null,_inc:1,insertBefore:function(G,J){if(G.nodeType==U){for(var ue=G.firstChild;ue;){var Ue=ue.nextSibling;this.insertBefore(ue,J),ue=Ue}return G}return oe(this,G,J),G.ownerDocument=this,this.documentElement===null&&G.nodeType===p&&(this.documentElement=G),G},removeChild:function(G){return this.documentElement==G&&(this.documentElement=null),Me(this,G)},replaceChild:function(G,J){oe(this,G,J,X),G.ownerDocument=this,J&&this.removeChild(J),ft(G)&&(this.documentElement=G)},importNode:function(G,J){return _u(this,G,J)},getElementById:function(G){var J=null;return re(this.documentElement,function(ue){if(ue.nodeType==p&&ue.getAttribute("id")==G)return J=ue,!0}),J},getElementsByClassName:function(G){var J=a(G);return new N(this,function(ue){var Ue=[];return J.length>0&&re(ue.documentElement,function(Be){if(Be!==ue&&Be.nodeType===p){var rt=Be.getAttribute("class");if(rt){var Bt=G===rt;if(!Bt){var Yn=a(rt);Bt=J.every(l(Yn))}Bt&&Ue.push(Be)}}}),Ue})},createElement:function(G){var J=new _e;J.ownerDocument=this,J.nodeName=G,J.tagName=G,J.localName=G,J.childNodes=new B;var ue=J.attributes=new P;return ue._ownerElement=J,J},createDocumentFragment:function(){var G=new Oe;return G.ownerDocument=this,G.childNodes=new B,G},createTextNode:function(G){var J=new le;return J.ownerDocument=this,J.appendData(G),J},createComment:function(G){var J=new ve;return J.ownerDocument=this,J.appendData(G),J},createCDATASection:function(G){var J=new Ae;return J.ownerDocument=this,J.appendData(G),J},createProcessingInstruction:function(G,J){var ue=new Ve;return ue.ownerDocument=this,ue.tagName=ue.nodeName=ue.target=G,ue.nodeValue=ue.data=J,ue},createAttribute:function(G){var J=new fe;return J.ownerDocument=this,J.name=G,J.nodeName=G,J.localName=G,J.specified=!0,J},createEntityReference:function(G){var J=new ke;return J.ownerDocument=this,J.nodeName=G,J},createElementNS:function(G,J){var ue=new _e,Ue=J.split(":"),Be=ue.attributes=new P;return ue.childNodes=new B,ue.ownerDocument=this,ue.nodeName=J,ue.tagName=J,ue.namespaceURI=G,Ue.length==2?(ue.prefix=Ue[0],ue.localName=Ue[1]):ue.localName=J,Be._ownerElement=ue,ue},createAttributeNS:function(G,J){var ue=new fe,Ue=J.split(":");return ue.ownerDocument=this,ue.nodeName=J,ue.name=J,ue.namespaceURI=G,ue.specified=!0,Ue.length==2?(ue.prefix=Ue[0],ue.localName=Ue[1]):ue.localName=J,ue}},d(pe,V);function _e(){this._nsMap={}}_e.prototype={nodeType:p,hasAttribute:function(G){return this.getAttributeNode(G)!=null},getAttribute:function(G){var J=this.getAttributeNode(G);return J&&J.value||""},getAttributeNode:function(G){return this.attributes.getNamedItem(G)},setAttribute:function(G,J){var ue=this.ownerDocument.createAttribute(G);ue.value=ue.nodeValue=""+J,this.setAttributeNode(ue)},removeAttribute:function(G){var J=this.getAttributeNode(G);J&&this.removeAttributeNode(J)},appendChild:function(G){return G.nodeType===U?this.insertBefore(G,null):De(this,G)},setAttributeNode:function(G){return this.attributes.setNamedItem(G)},setAttributeNodeNS:function(G){return this.attributes.setNamedItemNS(G)},removeAttributeNode:function(G){return this.attributes.removeNamedItem(G.nodeName)},removeAttributeNS:function(G,J){var ue=this.getAttributeNodeNS(G,J);ue&&this.removeAttributeNode(ue)},hasAttributeNS:function(G,J){return this.getAttributeNodeNS(G,J)!=null},getAttributeNS:function(G,J){var ue=this.getAttributeNodeNS(G,J);return ue&&ue.value||""},setAttributeNS:function(G,J,ue){var Ue=this.ownerDocument.createAttributeNS(G,J);Ue.value=Ue.nodeValue=""+ue,this.setAttributeNode(Ue)},getAttributeNodeNS:function(G,J){return this.attributes.getNamedItemNS(G,J)},getElementsByTagName:function(G){return new N(this,function(J){var ue=[];return re(J,function(Ue){Ue!==J&&Ue.nodeType==p&&(G==="*"||Ue.tagName==G)&&ue.push(Ue)}),ue})},getElementsByTagNameNS:function(G,J){return new N(this,function(ue){var Ue=[];return re(ue,function(Be){Be!==ue&&Be.nodeType===p&&(G==="*"||Be.namespaceURI===G)&&(J==="*"||Be.localName==J)&&Ue.push(Be)}),Ue})}},pe.prototype.getElementsByTagName=_e.prototype.getElementsByTagName,pe.prototype.getElementsByTagNameNS=_e.prototype.getElementsByTagNameNS,d(_e,V);function fe(){}fe.prototype.nodeType=g,d(fe,V);function ae(){}ae.prototype={data:"",substringData:function(G,J){return this.data.substring(G,G+J)},appendData:function(G){G=this.data+G,this.nodeValue=this.data=G,this.length=G.length},insertData:function(G,J){this.replaceData(G,0,J)},appendChild:function(G){throw new Error(W[L])},deleteData:function(G,J){this.replaceData(G,J,"")},replaceData:function(G,J,ue){var Ue=this.data.substring(0,G),Be=this.data.substring(G+J);ue=Ue+ue+Be,this.nodeValue=this.data=ue,this.length=ue.length}},d(ae,V);function le(){}le.prototype={nodeName:"#text",nodeType:y,splitText:function(G){var J=this.data,ue=J.substring(G);J=J.substring(0,G),this.data=this.nodeValue=J,this.length=J.length;var Ue=this.ownerDocument.createTextNode(ue);return this.parentNode&&this.parentNode.insertBefore(Ue,this.nextSibling),Ue}},d(le,ae);function ve(){}ve.prototype={nodeName:"#comment",nodeType:E},d(ve,ae);function Ae(){}Ae.prototype={nodeName:"#cdata-section",nodeType:v},d(Ae,ae);function Ie(){}Ie.prototype.nodeType=R,d(Ie,V);function qe(){}qe.prototype.nodeType=M,d(qe,V);function ge(){}ge.prototype.nodeType=T,d(ge,V);function ke(){}ke.prototype.nodeType=x,d(ke,V);function Oe(){}Oe.prototype.nodeName="#document-fragment",Oe.prototype.nodeType=U,d(Oe,V);function Ve(){}Ve.prototype.nodeType=D,d(Ve,V);function $e(){}$e.prototype.serializeToString=function(G,J,ue){return dt.call(G,J,ue)},V.prototype.toString=dt;function dt(G,J){var ue=[],Ue=this.nodeType==9&&this.documentElement||this,Be=Ue.prefix,rt=Ue.namespaceURI;if(rt&&Be==null){var Be=Ue.lookupPrefix(rt);if(Be==null)var Bt=[{namespace:rt,prefix:null}]}return zn(this,ue,G,J,Bt),ue.join("")}function Pt(G,J,ue){var Ue=G.prefix||"",Be=G.namespaceURI;if(!Be||Ue==="xml"&&Be===t.XML||Be===t.XMLNS)return!1;for(var rt=ue.length;rt--;){var Bt=ue[rt];if(Bt.prefix===Ue)return Bt.namespace!==Be}return!0}function an(G,J,ue){G.push(" ",J,'="',ue.replace(/[<>&"\t\n\r]/g,ee),'"')}function zn(G,J,ue,Ue,Be){if(Be||(Be=[]),Ue)if(G=Ue(G),G){if(typeof G=="string"){J.push(G);return}}else return;switch(G.nodeType){case p:var rt=G.attributes,Bt=rt.length,yn=G.firstChild,Yn=G.tagName;ue=t.isHTML(G.namespaceURI)||ue;var jr=Yn;if(!ue&&!G.prefix&&G.namespaceURI){for(var Kn,en=0;en<rt.length;en++)if(rt.item(en).name==="xmlns"){Kn=rt.item(en).value;break}if(!Kn)for(var mn=Be.length-1;mn>=0;mn--){var ki=Be[mn];if(ki.prefix===""&&ki.namespace===G.namespaceURI){Kn=ki.namespace;break}}if(Kn!==G.namespaceURI)for(var mn=Be.length-1;mn>=0;mn--){var ki=Be[mn];if(ki.namespace===G.namespaceURI){ki.prefix&&(jr=ki.prefix+":"+Yn);break}}}J.push("<",jr);for(var Vr=0;Vr<Bt;Vr++){var vr=rt.item(Vr);vr.prefix=="xmlns"?Be.push({prefix:vr.localName,namespace:vr.value}):vr.nodeName=="xmlns"&&Be.push({prefix:"",namespace:vr.value})}for(var Vr=0;Vr<Bt;Vr++){var vr=rt.item(Vr);if(Pt(vr,ue,Be)){var Ys=vr.prefix||"",oo=vr.namespaceURI;an(J,Ys?"xmlns:"+Ys:"xmlns",oo),Be.push({prefix:Ys,namespace:oo})}zn(vr,J,ue,Ue,Be)}if(Yn===jr&&Pt(G,ue,Be)){var Ys=G.prefix||"",oo=G.namespaceURI;an(J,Ys?"xmlns:"+Ys:"xmlns",oo),Be.push({prefix:Ys,namespace:oo})}if(yn||ue&&!/^(?:meta|link|img|br|hr|input)$/i.test(Yn)){if(J.push(">"),ue&&/^script$/i.test(Yn))for(;yn;)yn.data?J.push(yn.data):zn(yn,J,ue,Ue,Be.slice()),yn=yn.nextSibling;else for(;yn;)zn(yn,J,ue,Ue,Be.slice()),yn=yn.nextSibling;J.push("</",jr,">")}else J.push("/>");return;case C:case U:for(var yn=G.firstChild;yn;)zn(yn,J,ue,Ue,Be.slice()),yn=yn.nextSibling;return;case g:return an(J,G.name,G.value);case y:return J.push(G.data.replace(/[<&>]/g,ee));case v:return J.push("<![CDATA[",G.data,"]]>");case E:return J.push("<!--",G.data,"-->");case R:var wu=G.publicId,Qi=G.systemId;if(J.push("<!DOCTYPE ",G.name),wu)J.push(" PUBLIC ",wu),Qi&&Qi!="."&&J.push(" ",Qi),J.push(">");else if(Qi&&Qi!=".")J.push(" SYSTEM ",Qi,">");else{var Ks=G.internalSubset;Ks&&J.push(" [",Ks,"]"),J.push(">")}return;case D:return J.push("<?",G.target," ",G.data,"?>");case x:return J.push("&",G.nodeName,";");default:J.push("??",G.nodeName)}}function _u(G,J,ue){var Ue;switch(J.nodeType){case p:Ue=J.cloneNode(!1),Ue.ownerDocument=G;case U:break;case g:ue=!0;break}if(Ue||(Ue=J.cloneNode(!1)),Ue.ownerDocument=G,Ue.parentNode=null,ue)for(var Be=J.firstChild;Be;)Ue.appendChild(_u(G,Be,ue)),Be=Be.nextSibling;return Ue}function ao(G,J,ue){var Ue=new J.constructor;for(var Be in J)if(Object.prototype.hasOwnProperty.call(J,Be)){var rt=J[Be];typeof rt!="object"&&rt!=Ue[Be]&&(Ue[Be]=rt)}switch(J.childNodes&&(Ue.childNodes=new B),Ue.ownerDocument=G,Ue.nodeType){case p:var Bt=J.attributes,Yn=Ue.attributes=new P,jr=Bt.length;Yn._ownerElement=Ue;for(var Kn=0;Kn<jr;Kn++)Ue.setAttributeNode(ao(G,Bt.item(Kn),!0));break;case g:ue=!0}if(ue)for(var en=J.firstChild;en;)Ue.appendChild(ao(G,en,ue)),en=en.nextSibling;return Ue}function Cl(G,J,ue){G[J]=ue}try{if(Object.defineProperty){let G=function(J){switch(J.nodeType){case p:case U:var ue=[];for(J=J.firstChild;J;)J.nodeType!==7&&J.nodeType!==8&&ue.push(G(J)),J=J.nextSibling;return ue.join("");default:return J.nodeValue}};Object.defineProperty(N.prototype,"length",{get:function(){return K(this),this.$$length}}),Object.defineProperty(V.prototype,"textContent",{get:function(){return G(this)},set:function(J){switch(this.nodeType){case p:case U:for(;this.firstChild;)this.removeChild(this.firstChild);(J||String(J))&&this.appendChild(this.ownerDocument.createTextNode(J));break;default:this.data=J,this.value=J,this.nodeValue=J}}}),Cl=function(J,ue,Ue){J["$$"+ue]=Ue}}}catch{}return ga.DocumentType=Ie,ga.DOMException=F,ga.DOMImplementation=j,ga.Element=_e,ga.Node=V,ga.NodeList=B,ga.XMLSerializer=$e,ga}var Qf={},a_={},nR;function S$(){return nR||(nR=1,function(r){var e=Lb().freeze;r.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),r.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),r.entityMap=r.HTML_ENTITIES}(a_)),a_}var av={},iR;function U$(){if(iR)return av;iR=1;var r=Lb().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,t=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),n=new RegExp("^"+e.source+t.source+"*(?::"+e.source+t.source+"*)?$"),i=0,s=1,a=2,l=3,u=4,d=5,h=6,p=7;function g(L,H){this.message=L,this.locator=H,Error.captureStackTrace&&Error.captureStackTrace(this,g)}g.prototype=new Error,g.prototype.name=g.name;function y(){}y.prototype={parse:function(L,H,ne){var F=this.domBuilder;F.startDocument(),R(H,H={}),v(L,H,ne,F,this.errorHandler),F.endDocument()}};function v(L,H,ne,F,B){function N(_e){if(_e>65535){_e-=65536;var fe=55296+(_e>>10),ae=56320+(_e&1023);return String.fromCharCode(fe,ae)}else return String.fromCharCode(_e)}function K(_e){var fe=_e.slice(1,-1);return Object.hasOwnProperty.call(ne,fe)?ne[fe]:fe.charAt(0)==="#"?N(parseInt(fe.substr(1).replace("x","0x"))):(B.error("entity not found:"+_e),_e)}function P(_e){if(_e>pe){var fe=L.substring(pe,_e).replace(/&#?\w+;/g,K);V&&q(pe),F.characters(fe,0,_e-pe),pe=_e}}function q(_e,fe){for(;_e>=te&&(fe=j.exec(L));)ie=fe.index,te=ie+fe[0].length,V.lineNumber++;V.columnNumber=_e-ie+1}for(var ie=0,te=0,j=/.*(?:\r\n?|\n)|.*$/g,V=F.locator,ee=[{currentNSMap:H}],re={},pe=0;;){try{var be=L.indexOf("<",pe);if(be<0){if(!L.substr(pe).match(/^\s*$/)){var Ee=F.doc,Re=Ee.createTextNode(L.substr(pe));Ee.appendChild(Re),F.currentElement=Re}return}switch(be>pe&&P(be),L.charAt(be+1)){case"/":var he=L.indexOf(">",be+3),Me=L.substring(be+2,he).replace(/[ \t\n\r]+$/g,""),ze=ee.pop();he<0?(Me=L.substring(be+2).replace(/[\s<].*/,""),B.error("end tag name: "+Me+" is not complete:"+ze.tagName),he=be+1+Me.length):Me.match(/\s</)&&(Me=Me.replace(/[\s<].*/,""),B.error("end tag name: "+Me+" maybe not complete"),he=be+1+Me.length);var Ge=ze.localNSMap,Ke=ze.tagName==Me,ft=Ke||ze.tagName&&ze.tagName.toLowerCase()==Me.toLowerCase();if(ft){if(F.endElement(ze.uri,ze.localName,Me),Ge)for(var at in Ge)Object.prototype.hasOwnProperty.call(Ge,at)&&F.endPrefixMapping(at);Ke||B.fatalError("end tag name: "+Me+" is not match the current start tagName:"+ze.tagName)}else ee.push(ze);he++;break;case"?":V&&q(be),he=M(L,be,F);break;case"!":V&&q(be),he=U(L,be,F,B);break;default:V&&q(be);var I=new O,ye=ee[ee.length-1].currentNSMap,he=T(L,be,I,ye,K,B),se=I.length;if(!I.closed&&C(L,he,I.tagName,re)&&(I.closed=!0,ne.nbsp||B.warning("unclosed xml attribute")),V&&se){for(var X=x(V,{}),oe=0;oe<se;oe++){var De=I[oe];q(De.offset),De.locator=x(V,{})}F.locator=X,D(I,F,ye)&&ee.push(I),F.locator=V}else D(I,F,ye)&&ee.push(I);r.isHTML(I.uri)&&!I.closed?he=E(L,he,I.tagName,K,F):he++}}catch(_e){if(_e instanceof g)throw _e;B.error("element parse error: "+_e),he=-1}he>pe?pe=he:P(Math.max(be,pe)+1)}}function x(L,H){return H.lineNumber=L.lineNumber,H.columnNumber=L.columnNumber,H}function T(L,H,ne,F,B,N){function K(V,ee,re){ne.attributeNames.hasOwnProperty(V)&&N.fatalError("Attribute "+V+" redefined"),ne.addValue(V,ee.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,B),re)}for(var P,q,ie=++H,te=i;;){var j=L.charAt(ie);switch(j){case"=":if(te===s)P=L.slice(H,ie),te=l;else if(te===a)te=l;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(te===l||te===s)if(te===s&&(N.warning('attribute value must after "="'),P=L.slice(H,ie)),H=ie+1,ie=L.indexOf(j,H),ie>0)q=L.slice(H,ie),K(P,q,H-1),te=d;else throw new Error("attribute value no end '"+j+"' match");else if(te==u)q=L.slice(H,ie),K(P,q,H),N.warning('attribute "'+P+'" missed start quot('+j+")!!"),H=ie+1,te=d;else throw new Error('attribute value must after "="');break;case"/":switch(te){case i:ne.setTagName(L.slice(H,ie));case d:case h:case p:te=p,ne.closed=!0;case u:case s:break;case a:ne.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return N.error("unexpected end of input"),te==i&&ne.setTagName(L.slice(H,ie)),ie;case">":switch(te){case i:ne.setTagName(L.slice(H,ie));case d:case h:case p:break;case u:case s:q=L.slice(H,ie),q.slice(-1)==="/"&&(ne.closed=!0,q=q.slice(0,-1));case a:te===a&&(q=P),te==u?(N.warning('attribute "'+q+'" missed quot(")!'),K(P,q,H)):((!r.isHTML(F[""])||!q.match(/^(?:disabled|checked|selected)$/i))&&N.warning('attribute "'+q+'" missed value!! "'+q+'" instead!!'),K(q,q,H));break;case l:throw new Error("attribute value missed!!")}return ie;case"":j=" ";default:if(j<=" ")switch(te){case i:ne.setTagName(L.slice(H,ie)),te=h;break;case s:P=L.slice(H,ie),te=a;break;case u:var q=L.slice(H,ie);N.warning('attribute "'+q+'" missed quot(")!!'),K(P,q,H);case d:te=h;break}else switch(te){case a:ne.tagName,(!r.isHTML(F[""])||!P.match(/^(?:disabled|checked|selected)$/i))&&N.warning('attribute "'+P+'" missed value!! "'+P+'" instead2!!'),K(P,P,H),H=ie,te=s;break;case d:N.warning('attribute space is required"'+P+'"!!');case h:te=s,H=ie;break;case l:te=u,H=ie;break;case p:throw new Error("elements closed character '/' and '>' must be connected to")}}ie++}}function D(L,H,ne){for(var F=L.tagName,B=null,j=L.length;j--;){var N=L[j],K=N.qName,P=N.value,V=K.indexOf(":");if(V>0)var q=N.prefix=K.slice(0,V),ie=K.slice(V+1),te=q==="xmlns"&&ie;else ie=K,q=null,te=K==="xmlns"&&"";N.localName=ie,te!==!1&&(B==null&&(B={},R(ne,ne={})),ne[te]=B[te]=P,N.uri=r.XMLNS,H.startPrefixMapping(te,P))}for(var j=L.length;j--;){N=L[j];var q=N.prefix;q&&(q==="xml"&&(N.uri=r.XML),q!=="xmlns"&&(N.uri=ne[q||""]))}var V=F.indexOf(":");V>0?(q=L.prefix=F.slice(0,V),ie=L.localName=F.slice(V+1)):(q=null,ie=L.localName=F);var ee=L.uri=ne[q||""];if(H.startElement(ee,ie,F,L),L.closed){if(H.endElement(ee,ie,F),B)for(q in B)Object.prototype.hasOwnProperty.call(B,q)&&H.endPrefixMapping(q)}else return L.currentNSMap=ne,L.localNSMap=B,!0}function E(L,H,ne,F,B){if(/^(?:script|textarea)$/i.test(ne)){var N=L.indexOf("</"+ne+">",H),K=L.substring(H+1,N);if(/[&<]/.test(K))return/^script$/i.test(ne)?(B.characters(K,0,K.length),N):(K=K.replace(/&#?\w+;/g,F),B.characters(K,0,K.length),N)}return H+1}function C(L,H,ne,F){var B=F[ne];return B==null&&(B=L.lastIndexOf("</"+ne+">"),B<H&&(B=L.lastIndexOf("</"+ne)),F[ne]=B),B<H}function R(L,H){for(var ne in L)Object.prototype.hasOwnProperty.call(L,ne)&&(H[ne]=L[ne])}function U(L,H,ne,F){var B=L.charAt(H+2);switch(B){case"-":if(L.charAt(H+3)==="-"){var N=L.indexOf("-->",H+4);return N>H?(ne.comment(L,H+4,N-H-4),N+3):(F.error("Unclosed comment"),-1)}else return-1;default:if(L.substr(H+3,6)=="CDATA["){var N=L.indexOf("]]>",H+9);return ne.startCDATA(),ne.characters(L,H+9,N-H-9),ne.endCDATA(),N+3}var K=W(L,H),P=K.length;if(P>1&&/!doctype/i.test(K[0][0])){var q=K[1][0],ie=!1,te=!1;P>3&&(/^public$/i.test(K[2][0])?(ie=K[3][0],te=P>4&&K[4][0]):/^system$/i.test(K[2][0])&&(te=K[3][0]));var j=K[P-1];return ne.startDTD(q,ie,te),ne.endDTD(),j.index+j[0].length}}return-1}function M(L,H,ne){var F=L.indexOf("?>",H);if(F){var B=L.substring(H,F).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return B?(B[0].length,ne.processingInstruction(B[1],B[2]),F+2):-1}return-1}function O(){this.attributeNames={}}O.prototype={setTagName:function(L){if(!n.test(L))throw new Error("invalid tagName:"+L);this.tagName=L},addValue:function(L,H,ne){if(!n.test(L))throw new Error("invalid attribute:"+L);this.attributeNames[L]=this.length,this[this.length++]={qName:L,value:H,offset:ne}},length:0,getLocalName:function(L){return this[L].localName},getLocator:function(L){return this[L].locator},getQName:function(L){return this[L].qName},getURI:function(L){return this[L].uri},getValue:function(L){return this[L].value}};function W(L,H){var ne,F=[],B=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(B.lastIndex=H,B.exec(L);ne=B.exec(L);)if(F.push(ne),ne[1])return F}return av.XMLReader=y,av.ParseError=g,av}var rR;function k$(){if(rR)return Qf;rR=1;var r=Lb(),e=VD(),t=S$(),n=U$(),i=e.DOMImplementation,s=r.NAMESPACE,a=n.ParseError,l=n.XMLReader;function u(T){return T.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function d(T){this.options=T||{locator:{}}}d.prototype.parseFromString=function(T,D){var E=this.options,C=new l,R=E.domBuilder||new p,U=E.errorHandler,M=E.locator,O=E.xmlns||{},W=/\/x?html?$/.test(D),L=W?t.HTML_ENTITIES:t.XML_ENTITIES;M&&R.setDocumentLocator(M),C.errorHandler=h(U,R,M),C.domBuilder=E.domBuilder||R,W&&(O[""]=s.HTML),O.xml=O.xml||s.XML;var H=E.normalizeLineEndings||u;return T&&typeof T=="string"?C.parse(H(T),O,L):C.errorHandler.error("invalid doc source"),R.doc};function h(T,D,E){if(!T){if(D instanceof p)return D;T=D}var C={},R=T instanceof Function;E=E||{};function U(M){var O=T[M];!O&&R&&(O=T.length==2?function(W){T(M,W)}:T),C[M]=O&&function(W){O("[xmldom "+M+"]	"+W+y(E))}||function(){}}return U("warning"),U("error"),U("fatalError"),C}function p(){this.cdata=!1}function g(T,D){D.lineNumber=T.lineNumber,D.columnNumber=T.columnNumber}p.prototype={startDocument:function(){this.doc=new i().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(T,D,E,C){var R=this.doc,U=R.createElementNS(T,E||D),M=C.length;x(this,U),this.currentElement=U,this.locator&&g(this.locator,U);for(var O=0;O<M;O++){var T=C.getURI(O),W=C.getValue(O),E=C.getQName(O),L=R.createAttributeNS(T,E);this.locator&&g(C.getLocator(O),L),L.value=L.nodeValue=W,U.setAttributeNode(L)}},endElement:function(T,D,E){var C=this.currentElement;C.tagName,this.currentElement=C.parentNode},startPrefixMapping:function(T,D){},endPrefixMapping:function(T){},processingInstruction:function(T,D){var E=this.doc.createProcessingInstruction(T,D);this.locator&&g(this.locator,E),x(this,E)},ignorableWhitespace:function(T,D,E){},characters:function(T,D,E){if(T=v.apply(this,arguments),T){if(this.cdata)var C=this.doc.createCDATASection(T);else var C=this.doc.createTextNode(T);this.currentElement?this.currentElement.appendChild(C):/^\s*$/.test(T)&&this.doc.appendChild(C),this.locator&&g(this.locator,C)}},skippedEntity:function(T){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(T){(this.locator=T)&&(T.lineNumber=0)},comment:function(T,D,E){T=v.apply(this,arguments);var C=this.doc.createComment(T);this.locator&&g(this.locator,C),x(this,C)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(T,D,E){var C=this.doc.implementation;if(C&&C.createDocumentType){var R=C.createDocumentType(T,D,E);this.locator&&g(this.locator,R),x(this,R),this.doc.doctype=R}},warning:function(T){console.warn("[xmldom warning]	"+T,y(this.locator))},error:function(T){console.error("[xmldom error]	"+T,y(this.locator))},fatalError:function(T){throw new a(T,this.locator)}};function y(T){if(T)return`
@`+(T.systemId||"")+"#[line:"+T.lineNumber+",col:"+T.columnNumber+"]"}function v(T,D,E){return typeof T=="string"?T.substr(D,E):T.length>=D+E||D?new java.lang.String(T,D,E)+"":T}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(T){p.prototype[T]=function(){return null}});function x(T,D){T.currentElement?T.currentElement.appendChild(D):T.doc.appendChild(D)}return Qf.__DOMHandler=p,Qf.normalizeLineEndings=u,Qf.DOMParser=d,Qf}var sR;function R$(){if(sR)return Xf;sR=1;var r=VD();return Xf.DOMImplementation=r.DOMImplementation,Xf.XMLSerializer=r.XMLSerializer,Xf.DOMParser=k$().DOMParser,Xf}var aR;function N$(){if(aR)return sv;aR=1;var r=R$(),e=VD();function t(n){var i=null,s=new r.DOMParser({errorHandler:function(l,u){i={level:l,message:u}}}),a=s.parseFromString(n);if(i===null)return a;throw new Error(i.level+": "+i.message)}return sv.parseFromString=t,sv.Node=e.Node,sv}var oR;function M$(){if(oR)return s_;oR=1;var r=Dl(),e=An,t=N$(),n=D8(),i=n.Element;s_.readString=a;var s=t.Node;function a(l,u){u=u||{};try{var d=t.parseFromString(l,"text/xml")}catch(y){return r.reject(y)}if(d.documentElement.tagName==="parsererror")return r.resolve(new Error(d.documentElement.textContent));function h(y){switch(y.nodeType){case s.ELEMENT_NODE:return p(y);case s.TEXT_NODE:return n.text(y.nodeValue)}}function p(y){var v=g(y),x=[];e.forEach(y.childNodes,function(D){var E=h(D);E&&x.push(E)});var T={};return e.forEach(y.attributes,function(D){T[g(D)]=D.value}),new i(v,T,x)}function g(y){if(y.namespaceURI){var v=u[y.namespaceURI],x;return v?x=v+":":x="{"+y.namespaceURI+"}",x+y.localName}else return y.localName}return r.resolve(h(d.documentElement))}return s_}var o_={},Xl={},ws={},lR;function Al(){return lR||(lR=1,(function(){var r,e,t,n,i,s,a,l=[].slice,u={}.hasOwnProperty;r=function(){var d,h,p,g,y,v;if(v=arguments[0],y=2<=arguments.length?l.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(d=0,p=y.length;d<p;d++)if(g=y[d],g!=null)for(h in g)u.call(g,h)&&(v[h]=g[h]);return v},i=function(d){return!!d&&Object.prototype.toString.call(d)==="[object Function]"},s=function(d){var h;return!!d&&((h=typeof d)=="function"||h==="object")},t=function(d){return i(Array.isArray)?Array.isArray(d):Object.prototype.toString.call(d)==="[object Array]"},n=function(d){var h;if(t(d))return!d.length;for(h in d)if(u.call(d,h))return!1;return!0},a=function(d){var h,p;return s(d)&&(p=Object.getPrototypeOf(d))&&(h=p.constructor)&&typeof h=="function"&&h instanceof h&&Function.prototype.toString.call(h)===Function.prototype.toString.call(Object)},e=function(d){return i(d.valueOf)?d.valueOf():d},ws.assign=r,ws.isFunction=i,ws.isObject=s,ws.isArray=t,ws.isEmpty=n,ws.isPlainObject=a,ws.getValue=e}).call(ws)),ws}var Kv={exports:{}},Zv={exports:{}},Jv={exports:{}},e0={exports:{}},I$=e0.exports,cR;function A8(){return cR||(cR=1,(function(){e0.exports=function(){function r(e,t,n){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,t==null)throw new Error("Missing attribute name. "+this.debugInfo(t));if(n==null)throw new Error("Missing attribute value. "+this.debugInfo(t));this.name=this.stringify.attName(t),this.value=this.stringify.attValue(n)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},r.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},r}()}).call(I$)),e0.exports}var F$=Jv.exports,uR;function Ob(){return uR||(uR=1,(function(){var r,e,t,n,i,s,a=function(u,d){for(var h in d)l.call(d,h)&&(u[h]=d[h]);function p(){this.constructor=u}return p.prototype=d.prototype,u.prototype=new p,u.__super__=d.prototype,u},l={}.hasOwnProperty;s=Al(),i=s.isObject,n=s.isFunction,t=s.getValue,e=$i(),r=A8(),Jv.exports=function(u){a(d,u);function d(h,p,g){if(d.__super__.constructor.call(this,h),p==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(p),this.attributes={},g!=null&&this.attribute(g),h.isDocument&&(this.isRoot=!0,this.documentObject=h,h.rootObject=this)}return d.prototype.clone=function(){var h,p,g,y;g=Object.create(this),g.isRoot&&(g.documentObject=null),g.attributes={},y=this.attributes;for(p in y)l.call(y,p)&&(h=y[p],g.attributes[p]=h.clone());return g.children=[],this.children.forEach(function(v){var x;return x=v.clone(),x.parent=g,g.children.push(x)}),g},d.prototype.attribute=function(h,p){var g,y;if(h!=null&&(h=t(h)),i(h))for(g in h)l.call(h,g)&&(y=h[g],this.attribute(g,y));else n(p)&&(p=p.apply()),(!this.options.skipNullAttributes||p!=null)&&(this.attributes[h]=new r(this,h,p));return this},d.prototype.removeAttribute=function(h){var p,g,y;if(h==null)throw new Error("Missing attribute name. "+this.debugInfo());if(h=t(h),Array.isArray(h))for(g=0,y=h.length;g<y;g++)p=h[g],delete this.attributes[p];else delete this.attributes[h];return this},d.prototype.toString=function(h){return this.options.writer.set(h).element(this)},d.prototype.att=function(h,p){return this.attribute(h,p)},d.prototype.a=function(h,p){return this.attribute(h,p)},d}(e)}).call(F$)),Jv.exports}var t0={exports:{}},L$=t0.exports,dR;function Pb(){return dR||(dR=1,(function(){var r,e=function(n,i){for(var s in i)t.call(i,s)&&(n[s]=i[s]);function a(){this.constructor=n}return a.prototype=i.prototype,n.prototype=new a,n.__super__=i.prototype,n},t={}.hasOwnProperty;r=$i(),t0.exports=function(n){e(i,n);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).cdata(this)},i}(r)}).call(L$)),t0.exports}var n0={exports:{}},O$=n0.exports,hR;function Bb(){return hR||(hR=1,(function(){var r,e=function(n,i){for(var s in i)t.call(i,s)&&(n[s]=i[s]);function a(){this.constructor=n}return a.prototype=i.prototype,n.prototype=new a,n.__super__=i.prototype,n},t={}.hasOwnProperty;r=$i(),n0.exports=function(n){e(i,n);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).comment(this)},i}(r)}).call(O$)),n0.exports}var i0={exports:{}},P$=i0.exports,fR;function zb(){return fR||(fR=1,(function(){var r,e,t=function(i,s){for(var a in s)n.call(s,a)&&(i[a]=s[a]);function l(){this.constructor=i}return l.prototype=s.prototype,i.prototype=new l,i.__super__=s.prototype,i},n={}.hasOwnProperty;e=Al().isObject,r=$i(),i0.exports=function(i){t(s,i);function s(a,l,u,d){var h;s.__super__.constructor.call(this,a),e(l)&&(h=l,l=h.version,u=h.encoding,d=h.standalone),l||(l="1.0"),this.version=this.stringify.xmlVersion(l),u!=null&&(this.encoding=this.stringify.xmlEncoding(u)),d!=null&&(this.standalone=this.stringify.xmlStandalone(d))}return s.prototype.toString=function(a){return this.options.writer.set(a).declaration(this)},s}(r)}).call(P$)),i0.exports}var r0={exports:{}},s0={exports:{}},B$=s0.exports,pR;function qb(){return pR||(pR=1,(function(){var r,e=function(n,i){for(var s in i)t.call(i,s)&&(n[s]=i[s]);function a(){this.constructor=n}return a.prototype=i.prototype,n.prototype=new a,n.__super__=i.prototype,n},t={}.hasOwnProperty;r=$i(),s0.exports=function(n){e(i,n);function i(s,a,l,u,d,h){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(l==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(a));if(!u)throw new Error("Missing DTD attribute type. "+this.debugInfo(a));if(!d)throw new Error("Missing DTD attribute default. "+this.debugInfo(a));if(d.indexOf("#")!==0&&(d="#"+d),!d.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(a));if(h&&!d.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(a));this.elementName=this.stringify.eleName(a),this.attributeName=this.stringify.attName(l),this.attributeType=this.stringify.dtdAttType(u),this.defaultValue=this.stringify.dtdAttDefault(h),this.defaultValueType=d}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdAttList(this)},i}(r)}).call(B$)),s0.exports}var a0={exports:{}},z$=a0.exports,gR;function Wb(){return gR||(gR=1,(function(){var r,e,t=function(i,s){for(var a in s)n.call(s,a)&&(i[a]=s[a]);function l(){this.constructor=i}return l.prototype=s.prototype,i.prototype=new l,i.__super__=s.prototype,i},n={}.hasOwnProperty;e=Al().isObject,r=$i(),a0.exports=function(i){t(s,i);function s(a,l,u,d){if(s.__super__.constructor.call(this,a),u==null)throw new Error("Missing DTD entity name. "+this.debugInfo(u));if(d==null)throw new Error("Missing DTD entity value. "+this.debugInfo(u));if(this.pe=!!l,this.name=this.stringify.eleName(u),!e(d))this.value=this.stringify.dtdEntityValue(d);else{if(!d.pubID&&!d.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(u));if(d.pubID&&!d.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(u));if(d.pubID!=null&&(this.pubID=this.stringify.dtdPubID(d.pubID)),d.sysID!=null&&(this.sysID=this.stringify.dtdSysID(d.sysID)),d.nData!=null&&(this.nData=this.stringify.dtdNData(d.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(u))}}return s.prototype.toString=function(a){return this.options.writer.set(a).dtdEntity(this)},s}(r)}).call(z$)),a0.exports}var o0={exports:{}},q$=o0.exports,mR;function jb(){return mR||(mR=1,(function(){var r,e=function(n,i){for(var s in i)t.call(i,s)&&(n[s]=i[s]);function a(){this.constructor=n}return a.prototype=i.prototype,n.prototype=new a,n.__super__=i.prototype,n},t={}.hasOwnProperty;r=$i(),o0.exports=function(n){e(i,n);function i(s,a,l){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD element name. "+this.debugInfo());l||(l="(#PCDATA)"),Array.isArray(l)&&(l="("+l.join(",")+")"),this.name=this.stringify.eleName(a),this.value=this.stringify.dtdElementValue(l)}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdElement(this)},i}(r)}).call(q$)),o0.exports}var l0={exports:{}},W$=l0.exports,yR;function Vb(){return yR||(yR=1,(function(){var r,e=function(n,i){for(var s in i)t.call(i,s)&&(n[s]=i[s]);function a(){this.constructor=n}return a.prototype=i.prototype,n.prototype=new a,n.__super__=i.prototype,n},t={}.hasOwnProperty;r=$i(),l0.exports=function(n){e(i,n);function i(s,a,l){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD notation name. "+this.debugInfo(a));if(!l.pubID&&!l.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(a));this.name=this.stringify.eleName(a),l.pubID!=null&&(this.pubID=this.stringify.dtdPubID(l.pubID)),l.sysID!=null&&(this.sysID=this.stringify.dtdSysID(l.sysID))}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdNotation(this)},i}(r)}).call(W$)),l0.exports}var j$=r0.exports,vR;function Hb(){return vR||(vR=1,(function(){var r,e,t,n,i,s,a=function(u,d){for(var h in d)l.call(d,h)&&(u[h]=d[h]);function p(){this.constructor=u}return p.prototype=d.prototype,u.prototype=new p,u.__super__=d.prototype,u},l={}.hasOwnProperty;s=Al().isObject,i=$i(),r=qb(),t=Wb(),e=jb(),n=Vb(),r0.exports=function(u){a(d,u);function d(h,p,g){var y,v;d.__super__.constructor.call(this,h),this.name="!DOCTYPE",this.documentObject=h,s(p)&&(y=p,p=y.pubID,g=y.sysID),g==null&&(v=[p,g],g=v[0],p=v[1]),p!=null&&(this.pubID=this.stringify.dtdPubID(p)),g!=null&&(this.sysID=this.stringify.dtdSysID(g))}return d.prototype.element=function(h,p){var g;return g=new e(this,h,p),this.children.push(g),this},d.prototype.attList=function(h,p,g,y,v){var x;return x=new r(this,h,p,g,y,v),this.children.push(x),this},d.prototype.entity=function(h,p){var g;return g=new t(this,!1,h,p),this.children.push(g),this},d.prototype.pEntity=function(h,p){var g;return g=new t(this,!0,h,p),this.children.push(g),this},d.prototype.notation=function(h,p){var g;return g=new n(this,h,p),this.children.push(g),this},d.prototype.toString=function(h){return this.options.writer.set(h).docType(this)},d.prototype.ele=function(h,p){return this.element(h,p)},d.prototype.att=function(h,p,g,y,v){return this.attList(h,p,g,y,v)},d.prototype.ent=function(h,p){return this.entity(h,p)},d.prototype.pent=function(h,p){return this.pEntity(h,p)},d.prototype.not=function(h,p){return this.notation(h,p)},d.prototype.up=function(){return this.root()||this.documentObject},d}(i)}).call(j$)),r0.exports}var c0={exports:{}},V$=c0.exports,bR;function Gb(){return bR||(bR=1,(function(){var r,e=function(n,i){for(var s in i)t.call(i,s)&&(n[s]=i[s]);function a(){this.constructor=n}return a.prototype=i.prototype,n.prototype=new a,n.__super__=i.prototype,n},t={}.hasOwnProperty;r=$i(),c0.exports=function(n){e(i,n);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).raw(this)},i}(r)}).call(V$)),c0.exports}var u0={exports:{}},H$=u0.exports,xR;function $b(){return xR||(xR=1,(function(){var r,e=function(n,i){for(var s in i)t.call(i,s)&&(n[s]=i[s]);function a(){this.constructor=n}return a.prototype=i.prototype,n.prototype=new a,n.__super__=i.prototype,n},t={}.hasOwnProperty;r=$i(),u0.exports=function(n){e(i,n);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).text(this)},i}(r)}).call(H$)),u0.exports}var d0={exports:{}},G$=d0.exports,_R;function Xb(){return _R||(_R=1,(function(){var r,e=function(n,i){for(var s in i)t.call(i,s)&&(n[s]=i[s]);function a(){this.constructor=n}return a.prototype=i.prototype,n.prototype=new a,n.__super__=i.prototype,n},t={}.hasOwnProperty;r=$i(),d0.exports=function(n){e(i,n);function i(s,a,l){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(a),l&&(this.value=this.stringify.insValue(l))}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).processingInstruction(this)},i}(r)}).call(G$)),d0.exports}var h0={exports:{}},$$=h0.exports,wR;function HD(){return wR||(wR=1,(function(){var r,e=function(n,i){for(var s in i)t.call(i,s)&&(n[s]=i[s]);function a(){this.constructor=n}return a.prototype=i.prototype,n.prototype=new a,n.__super__=i.prototype,n},t={}.hasOwnProperty;r=$i(),h0.exports=function(n){e(i,n);function i(s){i.__super__.constructor.call(this,s),this.isDummy=!0}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return""},i}(r)}).call($$)),h0.exports}var X$=Zv.exports,TR;function $i(){return TR||(TR=1,(function(){var r,e,t,n,i,s,a,l,u,d,h,p,g,y,v={}.hasOwnProperty;y=Al(),g=y.isObject,p=y.isFunction,h=y.isEmpty,d=y.getValue,s=null,r=null,e=null,t=null,n=null,l=null,u=null,a=null,i=null,Zv.exports=function(){function x(T){this.parent=T,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],s||(s=Ob(),r=Pb(),e=Bb(),t=zb(),n=Hb(),l=Gb(),u=$b(),a=Xb(),i=HD())}return x.prototype.element=function(T,D,E){var C,R,U,M,O,W,L,H,ne,F,B;if(W=null,D===null&&E==null&&(ne=[{},null],D=ne[0],E=ne[1]),D==null&&(D={}),D=d(D),g(D)||(F=[D,E],E=F[0],D=F[1]),T!=null&&(T=d(T)),Array.isArray(T))for(U=0,L=T.length;U<L;U++)R=T[U],W=this.element(R);else if(p(T))W=this.element(T.apply());else if(g(T)){for(O in T)if(v.call(T,O))if(B=T[O],p(B)&&(B=B.apply()),g(B)&&h(B)&&(B=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&O.indexOf(this.stringify.convertAttKey)===0)W=this.attribute(O.substr(this.stringify.convertAttKey.length),B);else if(!this.options.separateArrayItems&&Array.isArray(B))for(M=0,H=B.length;M<H;M++)R=B[M],C={},C[O]=R,W=this.element(C);else g(B)?(W=this.element(O),W.element(B)):W=this.element(O,B)}else this.options.skipNullNodes&&E===null?W=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&T.indexOf(this.stringify.convertTextKey)===0?W=this.text(E):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&T.indexOf(this.stringify.convertCDataKey)===0?W=this.cdata(E):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&T.indexOf(this.stringify.convertCommentKey)===0?W=this.comment(E):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&T.indexOf(this.stringify.convertRawKey)===0?W=this.raw(E):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&T.indexOf(this.stringify.convertPIKey)===0?W=this.instruction(T.substr(this.stringify.convertPIKey.length),E):W=this.node(T,D,E);if(W==null)throw new Error("Could not create any elements with: "+T+". "+this.debugInfo());return W},x.prototype.insertBefore=function(T,D,E){var C,R,U;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(T));return R=this.parent.children.indexOf(this),U=this.parent.children.splice(R),C=this.parent.element(T,D,E),Array.prototype.push.apply(this.parent.children,U),C},x.prototype.insertAfter=function(T,D,E){var C,R,U;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(T));return R=this.parent.children.indexOf(this),U=this.parent.children.splice(R+1),C=this.parent.element(T,D,E),Array.prototype.push.apply(this.parent.children,U),C},x.prototype.remove=function(){var T;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return T=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[T,T-T+1].concat([])),this.parent},x.prototype.node=function(T,D,E){var C,R;return T!=null&&(T=d(T)),D||(D={}),D=d(D),g(D)||(R=[D,E],E=R[0],D=R[1]),C=new s(this,T,D),E!=null&&C.text(E),this.children.push(C),C},x.prototype.text=function(T){var D;return D=new u(this,T),this.children.push(D),this},x.prototype.cdata=function(T){var D;return D=new r(this,T),this.children.push(D),this},x.prototype.comment=function(T){var D;return D=new e(this,T),this.children.push(D),this},x.prototype.commentBefore=function(T){var D,E;return D=this.parent.children.indexOf(this),E=this.parent.children.splice(D),this.parent.comment(T),Array.prototype.push.apply(this.parent.children,E),this},x.prototype.commentAfter=function(T){var D,E;return D=this.parent.children.indexOf(this),E=this.parent.children.splice(D+1),this.parent.comment(T),Array.prototype.push.apply(this.parent.children,E),this},x.prototype.raw=function(T){var D;return D=new l(this,T),this.children.push(D),this},x.prototype.dummy=function(){var T;return T=new i(this),this.children.push(T),T},x.prototype.instruction=function(T,D){var E,C,R,U,M;if(T!=null&&(T=d(T)),D!=null&&(D=d(D)),Array.isArray(T))for(U=0,M=T.length;U<M;U++)E=T[U],this.instruction(E);else if(g(T))for(E in T)v.call(T,E)&&(C=T[E],this.instruction(E,C));else p(D)&&(D=D.apply()),R=new a(this,T,D),this.children.push(R);return this},x.prototype.instructionBefore=function(T,D){var E,C;return E=this.parent.children.indexOf(this),C=this.parent.children.splice(E),this.parent.instruction(T,D),Array.prototype.push.apply(this.parent.children,C),this},x.prototype.instructionAfter=function(T,D){var E,C;return E=this.parent.children.indexOf(this),C=this.parent.children.splice(E+1),this.parent.instruction(T,D),Array.prototype.push.apply(this.parent.children,C),this},x.prototype.declaration=function(T,D,E){var C,R;return C=this.document(),R=new t(C,T,D,E),C.children[0]instanceof t?C.children[0]=R:C.children.unshift(R),C.root()||C},x.prototype.doctype=function(T,D){var E,C,R,U,M,O,W,L,H,ne;for(C=this.document(),R=new n(C,T,D),H=C.children,U=M=0,W=H.length;M<W;U=++M)if(E=H[U],E instanceof n)return C.children[U]=R,R;for(ne=C.children,U=O=0,L=ne.length;O<L;U=++O)if(E=ne[U],E.isRoot)return C.children.splice(U,0,R),R;return C.children.push(R),R},x.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},x.prototype.root=function(){var T;for(T=this;T;){if(T.isDocument)return T.rootObject;if(T.isRoot)return T;T=T.parent}},x.prototype.document=function(){var T;for(T=this;T;){if(T.isDocument)return T;T=T.parent}},x.prototype.end=function(T){return this.document().end(T)},x.prototype.prev=function(){var T;for(T=this.parent.children.indexOf(this);T>0&&this.parent.children[T-1].isDummy;)T=T-1;if(T<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[T-1]},x.prototype.next=function(){var T;for(T=this.parent.children.indexOf(this);T<this.parent.children.length-1&&this.parent.children[T+1].isDummy;)T=T+1;if(T===-1||T===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[T+1]},x.prototype.importDocument=function(T){var D;return D=T.root().clone(),D.parent=this,D.isRoot=!1,this.children.push(D),this},x.prototype.debugInfo=function(T){var D,E;return T=T||this.name,T==null&&!((D=this.parent)!=null&&D.name)?"":T==null?"parent: <"+this.parent.name+">":(E=this.parent)!=null&&E.name?"node: <"+T+">, parent: <"+this.parent.name+">":"node: <"+T+">"},x.prototype.ele=function(T,D,E){return this.element(T,D,E)},x.prototype.nod=function(T,D,E){return this.node(T,D,E)},x.prototype.txt=function(T){return this.text(T)},x.prototype.dat=function(T){return this.cdata(T)},x.prototype.com=function(T){return this.comment(T)},x.prototype.ins=function(T,D){return this.instruction(T,D)},x.prototype.doc=function(){return this.document()},x.prototype.dec=function(T,D,E){return this.declaration(T,D,E)},x.prototype.dtd=function(T,D){return this.doctype(T,D)},x.prototype.e=function(T,D,E){return this.element(T,D,E)},x.prototype.n=function(T,D,E){return this.node(T,D,E)},x.prototype.t=function(T){return this.text(T)},x.prototype.d=function(T){return this.cdata(T)},x.prototype.c=function(T){return this.comment(T)},x.prototype.r=function(T){return this.raw(T)},x.prototype.i=function(T,D){return this.instruction(T,D)},x.prototype.u=function(){return this.up()},x.prototype.importXMLBuilder=function(T){return this.importDocument(T)},x}()}).call(X$)),Zv.exports}var f0={exports:{}},Q$=f0.exports,DR;function E8(){return DR||(DR=1,(function(){var r=function(t,n){return function(){return t.apply(n,arguments)}},e={}.hasOwnProperty;f0.exports=function(){function t(n){this.assertLegalChar=r(this.assertLegalChar,this);var i,s,a;n||(n={}),this.noDoubleEncoding=n.noDoubleEncoding,s=n.stringify||{};for(i in s)e.call(s,i)&&(a=s[i],this[i]=a)}return t.prototype.eleName=function(n){return n=""+n||"",this.assertLegalChar(n)},t.prototype.eleText=function(n){return n=""+n||"",this.assertLegalChar(this.elEscape(n))},t.prototype.cdata=function(n){return n=""+n||"",n=n.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(n)},t.prototype.comment=function(n){if(n=""+n||"",n.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+n);return this.assertLegalChar(n)},t.prototype.raw=function(n){return""+n||""},t.prototype.attName=function(n){return n=""+n||""},t.prototype.attValue=function(n){return n=""+n||"",this.attEscape(n)},t.prototype.insTarget=function(n){return""+n||""},t.prototype.insValue=function(n){if(n=""+n||"",n.match(/\?>/))throw new Error("Invalid processing instruction value: "+n);return n},t.prototype.xmlVersion=function(n){if(n=""+n||"",!n.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+n);return n},t.prototype.xmlEncoding=function(n){if(n=""+n||"",!n.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+n);return n},t.prototype.xmlStandalone=function(n){return n?"yes":"no"},t.prototype.dtdPubID=function(n){return""+n||""},t.prototype.dtdSysID=function(n){return""+n||""},t.prototype.dtdElementValue=function(n){return""+n||""},t.prototype.dtdAttType=function(n){return""+n||""},t.prototype.dtdAttDefault=function(n){return n!=null?""+n||"":n},t.prototype.dtdEntityValue=function(n){return""+n||""},t.prototype.dtdNData=function(n){return""+n||""},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(n){var i;if(i=n.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),i)throw new Error("Invalid character in string: "+n+" at index "+i.index);return n},t.prototype.elEscape=function(n){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(i,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},t.prototype.attEscape=function(n){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(i,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},t}()}).call(Q$)),f0.exports}var p0={exports:{}},g0={exports:{}},Y$=g0.exports,AR;function C8(){return AR||(AR=1,(function(){var r={}.hasOwnProperty;g0.exports=function(){function e(t){var n,i,s,a,l,u,d,h,p;t||(t={}),this.pretty=t.pretty||!1,this.allowEmpty=(i=t.allowEmpty)!=null?i:!1,this.pretty?(this.indent=(s=t.indent)!=null?s:"  ",this.newline=(a=t.newline)!=null?a:`
`,this.offset=(l=t.offset)!=null?l:0,this.dontprettytextnodes=(u=t.dontprettytextnodes)!=null?u:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(d=t.spacebeforeslash)!=null?d:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,h=t.writer||{};for(n in h)r.call(h,n)&&(p=h[n],this[n]=p)}return e.prototype.set=function(t){var n,i,s;t||(t={}),"pretty"in t&&(this.pretty=t.pretty),"allowEmpty"in t&&(this.allowEmpty=t.allowEmpty),this.pretty?(this.indent="indent"in t?t.indent:"  ",this.newline="newline"in t?t.newline:`
`,this.offset="offset"in t?t.offset:0,this.dontprettytextnodes="dontprettytextnodes"in t?t.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in t?t.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,i=t.writer||{};for(n in i)r.call(i,n)&&(s=i[n],this[n]=s);return this},e.prototype.space=function(t){var n;return this.pretty?(n=(t||0)+this.offset+1,n>0?new Array(n).join(this.indent):""):""},e}()}).call(Y$)),g0.exports}var K$=p0.exports,ER;function GD(){return ER||(ER=1,(function(){var r,e,t,n,i,s,a,l,u,d,h,p,g,y,v=function(T,D){for(var E in D)x.call(D,E)&&(T[E]=D[E]);function C(){this.constructor=T}return C.prototype=D.prototype,T.prototype=new C,T.__super__=D.prototype,T},x={}.hasOwnProperty;a=zb(),l=Hb(),r=Pb(),e=Bb(),d=Ob(),p=Gb(),g=$b(),h=Xb(),u=HD(),t=qb(),n=jb(),i=Wb(),s=Vb(),y=C8(),p0.exports=function(T){v(D,T);function D(E){D.__super__.constructor.call(this,E)}return D.prototype.document=function(E){var C,R,U,M,O;for(this.textispresent=!1,M="",O=E.children,R=0,U=O.length;R<U;R++)C=O[R],!(C instanceof u)&&(M+=(function(){switch(!1){case!(C instanceof a):return this.declaration(C);case!(C instanceof l):return this.docType(C);case!(C instanceof e):return this.comment(C);case!(C instanceof h):return this.processingInstruction(C);default:return this.element(C,0)}}).call(this));return this.pretty&&M.slice(-this.newline.length)===this.newline&&(M=M.slice(0,-this.newline.length)),M},D.prototype.attribute=function(E){return" "+E.name+'="'+E.value+'"'},D.prototype.cdata=function(E,C){return this.space(C)+"<![CDATA["+E.text+"]]>"+this.newline},D.prototype.comment=function(E,C){return this.space(C)+"<!-- "+E.text+" -->"+this.newline},D.prototype.declaration=function(E,C){var R;return R=this.space(C),R+='<?xml version="'+E.version+'"',E.encoding!=null&&(R+=' encoding="'+E.encoding+'"'),E.standalone!=null&&(R+=' standalone="'+E.standalone+'"'),R+=this.spacebeforeslash+"?>",R+=this.newline,R},D.prototype.docType=function(E,C){var R,U,M,O,W;if(C||(C=0),O=this.space(C),O+="<!DOCTYPE "+E.root().name,E.pubID&&E.sysID?O+=' PUBLIC "'+E.pubID+'" "'+E.sysID+'"':E.sysID&&(O+=' SYSTEM "'+E.sysID+'"'),E.children.length>0){for(O+=" [",O+=this.newline,W=E.children,U=0,M=W.length;U<M;U++)R=W[U],O+=(function(){switch(!1){case!(R instanceof t):return this.dtdAttList(R,C+1);case!(R instanceof n):return this.dtdElement(R,C+1);case!(R instanceof i):return this.dtdEntity(R,C+1);case!(R instanceof s):return this.dtdNotation(R,C+1);case!(R instanceof r):return this.cdata(R,C+1);case!(R instanceof e):return this.comment(R,C+1);case!(R instanceof h):return this.processingInstruction(R,C+1);default:throw new Error("Unknown DTD node type: "+R.constructor.name)}}).call(this);O+="]"}return O+=this.spacebeforeslash+">",O+=this.newline,O},D.prototype.element=function(E,C){var R,U,M,O,W,L,H,ne,F,B,N,K,P;C||(C=0),P=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),K=this.space(C),ne="",ne+=K+"<"+E.name,F=E.attributes;for(H in F)x.call(F,H)&&(R=F[H],ne+=this.attribute(R));if(E.children.length===0||E.children.every(function(q){return q.value===""}))this.allowEmpty?ne+="></"+E.name+">"+this.newline:ne+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&E.children.length===1&&E.children[0].value!=null)ne+=">",ne+=E.children[0].value,ne+="</"+E.name+">"+this.newline;else{if(this.dontprettytextnodes){for(B=E.children,M=0,W=B.length;M<W;M++)if(U=B[M],U.value!=null){this.textispresent++,P=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,K=this.space(C)),ne+=">"+this.newline,N=E.children,O=0,L=N.length;O<L;O++)U=N[O],ne+=(function(){switch(!1){case!(U instanceof r):return this.cdata(U,C+1);case!(U instanceof e):return this.comment(U,C+1);case!(U instanceof d):return this.element(U,C+1);case!(U instanceof p):return this.raw(U,C+1);case!(U instanceof g):return this.text(U,C+1);case!(U instanceof h):return this.processingInstruction(U,C+1);case!(U instanceof u):return"";default:throw new Error("Unknown XML node type: "+U.constructor.name)}}).call(this);P&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),ne+=K+"</"+E.name+">"+this.newline}return ne},D.prototype.processingInstruction=function(E,C){var R;return R=this.space(C)+"<?"+E.target,E.value&&(R+=" "+E.value),R+=this.spacebeforeslash+"?>"+this.newline,R},D.prototype.raw=function(E,C){return this.space(C)+E.value+this.newline},D.prototype.text=function(E,C){return this.space(C)+E.value+this.newline},D.prototype.dtdAttList=function(E,C){var R;return R=this.space(C)+"<!ATTLIST "+E.elementName+" "+E.attributeName+" "+E.attributeType,E.defaultValueType!=="#DEFAULT"&&(R+=" "+E.defaultValueType),E.defaultValue&&(R+=' "'+E.defaultValue+'"'),R+=this.spacebeforeslash+">"+this.newline,R},D.prototype.dtdElement=function(E,C){return this.space(C)+"<!ELEMENT "+E.name+" "+E.value+this.spacebeforeslash+">"+this.newline},D.prototype.dtdEntity=function(E,C){var R;return R=this.space(C)+"<!ENTITY",E.pe&&(R+=" %"),R+=" "+E.name,E.value?R+=' "'+E.value+'"':(E.pubID&&E.sysID?R+=' PUBLIC "'+E.pubID+'" "'+E.sysID+'"':E.sysID&&(R+=' SYSTEM "'+E.sysID+'"'),E.nData&&(R+=" NDATA "+E.nData)),R+=this.spacebeforeslash+">"+this.newline,R},D.prototype.dtdNotation=function(E,C){var R;return R=this.space(C)+"<!NOTATION "+E.name,E.pubID&&E.sysID?R+=' PUBLIC "'+E.pubID+'" "'+E.sysID+'"':E.pubID?R+=' PUBLIC "'+E.pubID+'"':E.sysID&&(R+=' SYSTEM "'+E.sysID+'"'),R+=this.spacebeforeslash+">"+this.newline,R},D.prototype.openNode=function(E,C){var R,U,M,O;if(C||(C=0),E instanceof d){M=this.space(C)+"<"+E.name,O=E.attributes;for(U in O)x.call(O,U)&&(R=O[U],M+=this.attribute(R));return M+=(E.children?">":"/>")+this.newline,M}else return M=this.space(C)+"<!DOCTYPE "+E.rootNodeName,E.pubID&&E.sysID?M+=' PUBLIC "'+E.pubID+'" "'+E.sysID+'"':E.sysID&&(M+=' SYSTEM "'+E.sysID+'"'),M+=(E.children?" [":">")+this.newline,M},D.prototype.closeNode=function(E,C){switch(C||(C=0),!1){case!(E instanceof d):return this.space(C)+"</"+E.name+">"+this.newline;case!(E instanceof l):return this.space(C)+"]>"+this.newline}},D}(y)}).call(K$)),p0.exports}var Z$=Kv.exports,CR;function J$(){return CR||(CR=1,(function(){var r,e,t,n,i=function(a,l){for(var u in l)s.call(l,u)&&(a[u]=l[u]);function d(){this.constructor=a}return d.prototype=l.prototype,a.prototype=new d,a.__super__=l.prototype,a},s={}.hasOwnProperty;n=Al().isPlainObject,r=$i(),t=E8(),e=GD(),Kv.exports=function(a){i(l,a);function l(u){l.__super__.constructor.call(this,null),this.name="?xml",u||(u={}),u.writer||(u.writer=new e),this.options=u,this.stringify=new t(u),this.isDocument=!0}return l.prototype.end=function(u){var d;return u?n(u)&&(d=u,u=this.options.writer.set(d)):u=this.options.writer,u.document(this)},l.prototype.toString=function(u){return this.options.writer.set(u).document(this)},l}(r)}).call(Z$)),Kv.exports}var m0={exports:{}},eX=m0.exports,SR;function tX(){return SR||(SR=1,(function(){var r,e,t,n,i,s,a,l,u,d,h,p,g,y,v,x,T,D,E,C,R={}.hasOwnProperty;C=Al(),D=C.isObject,T=C.isFunction,E=C.isPlainObject,x=C.getValue,d=Ob(),e=Pb(),t=Bb(),p=Gb(),v=$b(),h=Xb(),l=zb(),u=Hb(),n=qb(),s=Wb(),i=jb(),a=Vb(),r=A8(),y=E8(),g=GD(),m0.exports=function(){function U(M,O,W){var L;this.name="?xml",M||(M={}),M.writer?E(M.writer)&&(L=M.writer,M.writer=new g(L)):M.writer=new g(M),this.options=M,this.writer=M.writer,this.stringify=new y(M),this.onDataCallback=O||function(){},this.onEndCallback=W||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return U.prototype.node=function(M,O,W){var L,H;if(M==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(M));return this.openCurrent(),M=x(M),O===null&&W==null&&(L=[{},null],O=L[0],W=L[1]),O==null&&(O={}),O=x(O),D(O)||(H=[O,W],W=H[0],O=H[1]),this.currentNode=new d(this,M,O),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,W!=null&&this.text(W),this},U.prototype.element=function(M,O,W){return this.currentNode&&this.currentNode instanceof u?this.dtdElement.apply(this,arguments):this.node(M,O,W)},U.prototype.attribute=function(M,O){var W,L;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(M));if(M!=null&&(M=x(M)),D(M))for(W in M)R.call(M,W)&&(L=M[W],this.attribute(W,L));else T(O)&&(O=O.apply()),(!this.options.skipNullAttributes||O!=null)&&(this.currentNode.attributes[M]=new r(this,M,O));return this},U.prototype.text=function(M){var O;return this.openCurrent(),O=new v(this,M),this.onData(this.writer.text(O,this.currentLevel+1),this.currentLevel+1),this},U.prototype.cdata=function(M){var O;return this.openCurrent(),O=new e(this,M),this.onData(this.writer.cdata(O,this.currentLevel+1),this.currentLevel+1),this},U.prototype.comment=function(M){var O;return this.openCurrent(),O=new t(this,M),this.onData(this.writer.comment(O,this.currentLevel+1),this.currentLevel+1),this},U.prototype.raw=function(M){var O;return this.openCurrent(),O=new p(this,M),this.onData(this.writer.raw(O,this.currentLevel+1),this.currentLevel+1),this},U.prototype.instruction=function(M,O){var W,L,H,ne,F;if(this.openCurrent(),M!=null&&(M=x(M)),O!=null&&(O=x(O)),Array.isArray(M))for(W=0,ne=M.length;W<ne;W++)L=M[W],this.instruction(L);else if(D(M))for(L in M)R.call(M,L)&&(H=M[L],this.instruction(L,H));else T(O)&&(O=O.apply()),F=new h(this,M,O),this.onData(this.writer.processingInstruction(F,this.currentLevel+1),this.currentLevel+1);return this},U.prototype.declaration=function(M,O,W){var L;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return L=new l(this,M,O,W),this.onData(this.writer.declaration(L,this.currentLevel+1),this.currentLevel+1),this},U.prototype.doctype=function(M,O,W){if(this.openCurrent(),M==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new u(this,O,W),this.currentNode.rootNodeName=M,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},U.prototype.dtdElement=function(M,O){var W;return this.openCurrent(),W=new i(this,M,O),this.onData(this.writer.dtdElement(W,this.currentLevel+1),this.currentLevel+1),this},U.prototype.attList=function(M,O,W,L,H){var ne;return this.openCurrent(),ne=new n(this,M,O,W,L,H),this.onData(this.writer.dtdAttList(ne,this.currentLevel+1),this.currentLevel+1),this},U.prototype.entity=function(M,O){var W;return this.openCurrent(),W=new s(this,!1,M,O),this.onData(this.writer.dtdEntity(W,this.currentLevel+1),this.currentLevel+1),this},U.prototype.pEntity=function(M,O){var W;return this.openCurrent(),W=new s(this,!0,M,O),this.onData(this.writer.dtdEntity(W,this.currentLevel+1),this.currentLevel+1),this},U.prototype.notation=function(M,O){var W;return this.openCurrent(),W=new a(this,M,O),this.onData(this.writer.dtdNotation(W,this.currentLevel+1),this.currentLevel+1),this},U.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},U.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},U.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},U.prototype.openNode=function(M){if(!M.isOpen)return!this.root&&this.currentLevel===0&&M instanceof d&&(this.root=M),this.onData(this.writer.openNode(M,this.currentLevel),this.currentLevel),M.isOpen=!0},U.prototype.closeNode=function(M){if(!M.isClosed)return this.onData(this.writer.closeNode(M,this.currentLevel),this.currentLevel),M.isClosed=!0},U.prototype.onData=function(M,O){return this.documentStarted=!0,this.onDataCallback(M,O+1)},U.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},U.prototype.debugInfo=function(M){return M==null?"":"node: <"+M+">"},U.prototype.ele=function(){return this.element.apply(this,arguments)},U.prototype.nod=function(M,O,W){return this.node(M,O,W)},U.prototype.txt=function(M){return this.text(M)},U.prototype.dat=function(M){return this.cdata(M)},U.prototype.com=function(M){return this.comment(M)},U.prototype.ins=function(M,O){return this.instruction(M,O)},U.prototype.dec=function(M,O,W){return this.declaration(M,O,W)},U.prototype.dtd=function(M,O,W){return this.doctype(M,O,W)},U.prototype.e=function(M,O,W){return this.element(M,O,W)},U.prototype.n=function(M,O,W){return this.node(M,O,W)},U.prototype.t=function(M){return this.text(M)},U.prototype.d=function(M){return this.cdata(M)},U.prototype.c=function(M){return this.comment(M)},U.prototype.r=function(M){return this.raw(M)},U.prototype.i=function(M,O){return this.instruction(M,O)},U.prototype.att=function(){return this.currentNode&&this.currentNode instanceof u?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},U.prototype.a=function(){return this.currentNode&&this.currentNode instanceof u?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},U.prototype.ent=function(M,O){return this.entity(M,O)},U.prototype.pent=function(M,O){return this.pEntity(M,O)},U.prototype.not=function(M,O){return this.notation(M,O)},U}()}).call(eX)),m0.exports}var y0={exports:{}},nX=y0.exports,UR;function iX(){return UR||(UR=1,(function(){var r,e,t,n,i,s,a,l,u,d,h,p,g,y,v=function(T,D){for(var E in D)x.call(D,E)&&(T[E]=D[E]);function C(){this.constructor=T}return C.prototype=D.prototype,T.prototype=new C,T.__super__=D.prototype,T},x={}.hasOwnProperty;a=zb(),l=Hb(),r=Pb(),e=Bb(),d=Ob(),p=Gb(),g=$b(),h=Xb(),u=HD(),t=qb(),n=jb(),i=Wb(),s=Vb(),y=C8(),y0.exports=function(T){v(D,T);function D(E,C){D.__super__.constructor.call(this,C),this.stream=E}return D.prototype.document=function(E){var C,R,U,M,O,W,L,H;for(W=E.children,R=0,M=W.length;R<M;R++)C=W[R],C.isLastRootNode=!1;for(E.children[E.children.length-1].isLastRootNode=!0,L=E.children,H=[],U=0,O=L.length;U<O;U++)if(C=L[U],!(C instanceof u))switch(!1){case!(C instanceof a):H.push(this.declaration(C));break;case!(C instanceof l):H.push(this.docType(C));break;case!(C instanceof e):H.push(this.comment(C));break;case!(C instanceof h):H.push(this.processingInstruction(C));break;default:H.push(this.element(C))}return H},D.prototype.attribute=function(E){return this.stream.write(" "+E.name+'="'+E.value+'"')},D.prototype.cdata=function(E,C){return this.stream.write(this.space(C)+"<![CDATA["+E.text+"]]>"+this.endline(E))},D.prototype.comment=function(E,C){return this.stream.write(this.space(C)+"<!-- "+E.text+" -->"+this.endline(E))},D.prototype.declaration=function(E,C){return this.stream.write(this.space(C)),this.stream.write('<?xml version="'+E.version+'"'),E.encoding!=null&&this.stream.write(' encoding="'+E.encoding+'"'),E.standalone!=null&&this.stream.write(' standalone="'+E.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(E))},D.prototype.docType=function(E,C){var R,U,M,O;if(C||(C=0),this.stream.write(this.space(C)),this.stream.write("<!DOCTYPE "+E.root().name),E.pubID&&E.sysID?this.stream.write(' PUBLIC "'+E.pubID+'" "'+E.sysID+'"'):E.sysID&&this.stream.write(' SYSTEM "'+E.sysID+'"'),E.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(E)),O=E.children,U=0,M=O.length;U<M;U++)switch(R=O[U],!1){case!(R instanceof t):this.dtdAttList(R,C+1);break;case!(R instanceof n):this.dtdElement(R,C+1);break;case!(R instanceof i):this.dtdEntity(R,C+1);break;case!(R instanceof s):this.dtdNotation(R,C+1);break;case!(R instanceof r):this.cdata(R,C+1);break;case!(R instanceof e):this.comment(R,C+1);break;case!(R instanceof h):this.processingInstruction(R,C+1);break;default:throw new Error("Unknown DTD node type: "+R.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(E))},D.prototype.element=function(E,C){var R,U,M,O,W,L,H,ne;C||(C=0),ne=this.space(C),this.stream.write(ne+"<"+E.name),L=E.attributes;for(W in L)x.call(L,W)&&(R=L[W],this.attribute(R));if(E.children.length===0||E.children.every(function(F){return F.value===""}))this.allowEmpty?this.stream.write("></"+E.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&E.children.length===1&&E.children[0].value!=null)this.stream.write(">"),this.stream.write(E.children[0].value),this.stream.write("</"+E.name+">");else{for(this.stream.write(">"+this.newline),H=E.children,M=0,O=H.length;M<O;M++)switch(U=H[M],!1){case!(U instanceof r):this.cdata(U,C+1);break;case!(U instanceof e):this.comment(U,C+1);break;case!(U instanceof d):this.element(U,C+1);break;case!(U instanceof p):this.raw(U,C+1);break;case!(U instanceof g):this.text(U,C+1);break;case!(U instanceof h):this.processingInstruction(U,C+1);break;case!(U instanceof u):break;default:throw new Error("Unknown XML node type: "+U.constructor.name)}this.stream.write(ne+"</"+E.name+">")}return this.stream.write(this.endline(E))},D.prototype.processingInstruction=function(E,C){return this.stream.write(this.space(C)+"<?"+E.target),E.value&&this.stream.write(" "+E.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(E))},D.prototype.raw=function(E,C){return this.stream.write(this.space(C)+E.value+this.endline(E))},D.prototype.text=function(E,C){return this.stream.write(this.space(C)+E.value+this.endline(E))},D.prototype.dtdAttList=function(E,C){return this.stream.write(this.space(C)+"<!ATTLIST "+E.elementName+" "+E.attributeName+" "+E.attributeType),E.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+E.defaultValueType),E.defaultValue&&this.stream.write(' "'+E.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(E))},D.prototype.dtdElement=function(E,C){return this.stream.write(this.space(C)+"<!ELEMENT "+E.name+" "+E.value),this.stream.write(this.spacebeforeslash+">"+this.endline(E))},D.prototype.dtdEntity=function(E,C){return this.stream.write(this.space(C)+"<!ENTITY"),E.pe&&this.stream.write(" %"),this.stream.write(" "+E.name),E.value?this.stream.write(' "'+E.value+'"'):(E.pubID&&E.sysID?this.stream.write(' PUBLIC "'+E.pubID+'" "'+E.sysID+'"'):E.sysID&&this.stream.write(' SYSTEM "'+E.sysID+'"'),E.nData&&this.stream.write(" NDATA "+E.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(E))},D.prototype.dtdNotation=function(E,C){return this.stream.write(this.space(C)+"<!NOTATION "+E.name),E.pubID&&E.sysID?this.stream.write(' PUBLIC "'+E.pubID+'" "'+E.sysID+'"'):E.pubID?this.stream.write(' PUBLIC "'+E.pubID+'"'):E.sysID&&this.stream.write(' SYSTEM "'+E.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(E))},D.prototype.endline=function(E){return E.isLastRootNode?"":this.newline},D}(y)}).call(nX)),y0.exports}var kR;function rX(){return kR||(kR=1,(function(){var r,e,t,n,i,s,a;a=Al(),i=a.assign,s=a.isFunction,r=J$(),e=tX(),n=GD(),t=iX(),Xl.create=function(l,u,d,h){var p,g;if(l==null)throw new Error("Root element needs a name.");return h=i({},u,d,h),p=new r(h),g=p.element(l),h.headless||(p.declaration(h),(h.pubID!=null||h.sysID!=null)&&p.doctype(h)),g},Xl.begin=function(l,u,d){var h;return s(l)&&(h=[l,u],u=h[0],d=h[1],l={}),u?new e(l,u,d):new r(l)},Xl.stringWriter=function(l){return new n(l)},Xl.streamWriter=function(l,u){return new t(l,u)}}).call(Xl)),Xl}var RR;function sX(){if(RR)return o_;RR=1;var r=An,e=rX();o_.writeString=t;function t(i,s){var a=r.invert(s),l={element:d,text:n};function u(g,y){return l[y.type](g,y)}function d(g,y){var v=g.element(h(y.name),y.attributes);y.children.forEach(function(x){u(v,x)})}function h(g){var y=/^\{(.*)\}(.*)$/.exec(g);if(y){var v=a[y[1]];return v+(v===""?"":":")+y[2]}else return g}function p(g){var y=e.create(h(g.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return r.forEach(s,function(v,x){var T="xmlns"+(x===""?"":":"+x);y.attribute(T,v)}),g.children.forEach(function(v){u(y,v)}),y.end()}return p(i)}function n(i,s){i.text(s.value)}return o_}var NR;function S8(){if(NR)return Gl;NR=1;var r=D8();return Gl.Element=r.Element,Gl.element=r.element,Gl.text=r.text,Gl.readString=M$().readString,Gl.writeString=sX().writeString,Gl}var MR;function aX(){if(MR)return rv;MR=1;var r=An,e=Dl(),t=S8();rv.read=i,rv.readXmlFromZipFile=s;var n={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word"};function i(u){return t.readString(u,n).then(function(d){return l(d)[0]})}function s(u,d){return u.exists(d)?u.read(d,"utf-8").then(a).then(i):e.resolve(null)}function a(u){return u.replace(/^\uFEFF/g,"")}function l(u){return u.type==="element"?u.name==="mc:AlternateContent"?u.first("mc:Fallback").children:(u.children=r.flatten(u.children.map(l,!0)),[u]):[u]}return rv}var ov={},Xr={},lv={},IR;function oX(){if(IR)return lv;IR=1,Object.defineProperty(lv,"__esModule",{value:!0});var r=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];return lv.default=r,lv}var FR;function lX(){if(FR)return Xr;FR=1;var r=Xr&&Xr.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.hex=Xr.dec=Xr.codePoint=void 0;for(var e=r(oX()),t={},n=String.fromCodePoint?String.fromCodePoint:g,i=0,s=e.default;i<s.length;i++){var a=s[i],l=parseInt(a["Unicode dec"],10),u={codePoint:l,string:n(l)};t[a["Typeface name"].toUpperCase()+"_"+a["Dingbat dec"]]=u}function d(y,v){return t[y.toUpperCase()+"_"+v]}Xr.codePoint=d;function h(y,v){return d(y,parseInt(v,10))}Xr.dec=h;function p(y,v){return d(y,parseInt(v,16))}Xr.hex=p;function g(y){if(y<=65535)return String.fromCharCode(y);var v=Math.floor((y-65536)/1024)+55296,x=(y-65536)%1024+56320;return String.fromCharCode(v,x)}return Xr}var cv={},LR;function cX(){if(LR)return cv;LR=1,cv.uriToZipEntryName=r,cv.replaceFragment=e;function r(t,n){return n.charAt(0)==="/"?n.substr(1):t+"/"+n}function e(t,n){var i=t.indexOf("#");return i!==-1&&(t=t.substring(0,i)),t+"#"+n}return cv}var OR;function uX(){if(OR)return ov;OR=1,ov.createBodyReader=a,ov._readNumberingProperties=u;var r=lX(),e=An,t=bu(),n=io().Result,i=io().warning,s=cX();function a(C){return{readXmlElement:function(R){return new l(C).readXmlElement(R)},readXmlElements:function(R){return new l(C).readXmlElements(R)}}}function l(C){var R=[],U=[],M=[],O=C.relationships,W=C.contentTypes,L=C.docxFile,H=C.files,ne=C.numbering,F=C.styles;function B(ge){var ke=ge.map(N);return T(ke)}function N(ge){if(ge.type==="element"){var ke=I[ge.name];if(ke)return ke(ge);if(!Object.prototype.hasOwnProperty.call(h,ge.name)){var Oe=i("An unrecognised element was ignored: "+ge.name);return p([Oe])}}return g()}function K(ge){return V(ge).map(function(ke){return{type:"paragraphProperties",styleId:ke.styleId,styleName:ke.name,alignment:ge.firstOrEmpty("w:jc").attributes["w:val"],numbering:u(ke.styleId,ge.firstOrEmpty("w:numPr"),ne),indent:P(ge.firstOrEmpty("w:ind"))}})}function P(ge){return{start:ge.attributes["w:start"]||ge.attributes["w:left"],end:ge.attributes["w:end"]||ge.attributes["w:right"],firstLine:ge.attributes["w:firstLine"],hanging:ge.attributes["w:hanging"]}}function q(ge){return ee(ge).map(function(ke){var Oe=ge.firstOrEmpty("w:sz").attributes["w:val"],Ve=/^[0-9]+$/.test(Oe)?parseInt(Oe,10)/2:null;return{type:"runProperties",styleId:ke.styleId,styleName:ke.name,verticalAlignment:ge.firstOrEmpty("w:vertAlign").attributes["w:val"],font:ge.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:Ve,isBold:te(ge.first("w:b")),isUnderline:ie(ge.first("w:u")),isItalic:te(ge.first("w:i")),isStrikethrough:te(ge.first("w:strike")),isAllCaps:te(ge.first("w:caps")),isSmallCaps:te(ge.first("w:smallCaps")),highlight:j(ge.firstOrEmpty("w:highlight").attributes["w:val"])}})}function ie(ge){if(ge){var ke=ge.attributes["w:val"];return ke!==void 0&&ke!=="false"&&ke!=="0"&&ke!=="none"}else return!1}function te(ge){if(ge){var ke=ge.attributes["w:val"];return ke!=="false"&&ke!=="0"}else return!1}function j(ge){return!ge||ge==="none"?null:ge}function V(ge){return pe(ge,"w:pStyle","Paragraph",F.findParagraphStyleById)}function ee(ge){return pe(ge,"w:rStyle","Run",F.findCharacterStyleById)}function re(ge){return pe(ge,"w:tblStyle","Table",F.findTableStyleById)}function pe(ge,ke,Oe,Ve){var $e=[],dt=ge.first(ke),Pt=null,an=null;if(dt&&(Pt=dt.attributes["w:val"],Pt)){var zn=Ve(Pt);zn?an=zn.name:$e.push(qe(Oe,Pt))}return v({styleId:Pt,name:an},$e)}var be={type:"unknown"};function Ee(ge){var ke=ge.attributes["w:fldCharType"];if(ke==="begin")R.push(be),U=[];else if(ke==="end")R.pop();else if(ke==="separate"){var Oe=Me(U.join("")),Ve=Oe===null?be:{type:"hyperlink",options:Oe};R.pop(),R.push(Ve)}return g()}function Re(){var ge=e.last(R.filter(function(ke){return ke.type==="hyperlink"}));return ge?ge.options:null}function Me(ge){var ke=/\s*HYPERLINK "(.*)"/.exec(ge);if(ke)return{href:ke[1]};var Oe=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(ge);return Oe?{anchor:Oe[1]}:null}function ze(ge){return U.push(ge.text()),g()}function Ge(ge){var ke=ge.attributes["w:font"],Oe=ge.attributes["w:char"],Ve=r.hex(ke,Oe);return Ve==null&&/^F0..$/.test(Oe)&&(Ve=r.hex(ke,Oe.substring(2))),Ve==null?p([i("A w:sym element with an unsupported character was ignored: char "+Oe+" in font "+ke)]):y(new t.Text(Ve.string))}function Ke(ge){return function(ke){var Oe=ke.attributes["w:id"];return y(new t.NoteReference({noteType:ge,noteId:Oe}))}}function ft(ge){return y(t.commentReference({commentId:ge.attributes["w:id"]}))}function at(ge){return B(ge.children)}var I={"w:p":function(ge){var ke=ge.firstOrEmpty("w:pPr"),Oe=!!ke.firstOrEmpty("w:rPr").first("w:del");if(Oe)return ge.children.forEach(function($e){M.push($e)}),g();var Ve=ge.children;return M.length>0&&(Ve=M.concat(Ve),M=[]),x.map(K(ke),B(Ve),function($e,dt){return new t.Paragraph(dt,$e)}).insertExtra()},"w:r":function(ge){return x.map(q(ge.firstOrEmpty("w:rPr")),B(ge.children),function(ke,Oe){var Ve=Re();return Ve!==null&&(Oe=[new t.Hyperlink(Oe,Ve)]),new t.Run(Oe,ke)})},"w:fldChar":Ee,"w:instrText":ze,"w:t":function(ge){return y(new t.Text(ge.text()))},"w:tab":function(ge){return y(new t.Tab)},"w:noBreakHyphen":function(){return y(new t.Text("‑"))},"w:softHyphen":function(ge){return y(new t.Text("­"))},"w:sym":Ge,"w:hyperlink":function(ge){var ke=ge.attributes["r:id"],Oe=ge.attributes["w:anchor"];return B(ge.children).map(function(Ve){function $e(Pt){var an=ge.attributes["w:tgtFrame"]||null;return new t.Hyperlink(Ve,e.extend({targetFrame:an},Pt))}if(ke){var dt=O.findTargetByRelationshipId(ke);return Oe&&(dt=s.replaceFragment(dt,Oe)),$e({href:dt})}else return Oe?$e({anchor:Oe}):Ve})},"w:tbl":ye,"w:tr":se,"w:tc":X,"w:footnoteReference":Ke("footnote"),"w:endnoteReference":Ke("endnote"),"w:commentReference":ft,"w:br":function(ge){var ke=ge.attributes["w:type"];return ke==null||ke==="textWrapping"?y(t.lineBreak):ke==="page"?y(t.pageBreak):ke==="column"?y(t.columnBreak):p([i("Unsupported break type: "+ke)])},"w:bookmarkStart":function(ge){var ke=ge.attributes["w:name"];return ke==="_GoBack"?g():y(new t.BookmarkStart({name:ke}))},"mc:AlternateContent":function(ge){return at(ge.first("mc:Fallback"))},"w:sdt":function(ge){return B(ge.firstOrEmpty("w:sdtContent").children)},"w:ins":at,"w:object":at,"w:smartTag":at,"w:drawing":at,"w:pict":function(ge){return at(ge).toExtra()},"v:roundrect":at,"v:shape":at,"v:textbox":at,"w:txbxContent":at,"wp:inline":_e,"wp:anchor":_e,"v:imagedata":ve,"v:group":at,"v:rect":at};return{readXmlElement:N,readXmlElements:B};function ye(ge){var ke=he(ge.firstOrEmpty("w:tblPr"));return B(ge.children).flatMap(De).flatMap(function(Oe){return ke.map(function(Ve){return t.Table(Oe,Ve)})})}function he(ge){return re(ge).map(function(ke){return{styleId:ke.styleId,styleName:ke.name}})}function se(ge){var ke=ge.firstOrEmpty("w:trPr"),Oe=!!ke.first("w:tblHeader");return B(ge.children).map(function(Ve){return t.TableRow(Ve,{isHeader:Oe})})}function X(ge){return B(ge.children).map(function(ke){var Oe=ge.firstOrEmpty("w:tcPr"),Ve=Oe.firstOrEmpty("w:gridSpan").attributes["w:val"],$e=Ve?parseInt(Ve,10):1,dt=t.TableCell(ke,{colSpan:$e});return dt._vMerge=oe(Oe),dt})}function oe(ge){var ke=ge.first("w:vMerge");if(ke){var Oe=ke.attributes["w:val"];return Oe==="continue"||!Oe}else return null}function De(ge){var ke=e.any(ge,function($e){return $e.type!==t.types.tableRow});if(ke)return v(ge,[i("unexpected non-row element in table, cell merging may be incorrect")]);var Oe=e.any(ge,function($e){return e.any($e.children,function(dt){return dt.type!==t.types.tableCell})});if(Oe)return v(ge,[i("unexpected non-cell element in table row, cell merging may be incorrect")]);var Ve={};return ge.forEach(function($e){var dt=0;$e.children.forEach(function(Pt){Pt._vMerge&&Ve[dt]?Ve[dt].rowSpan++:(Ve[dt]=Pt,Pt._vMerge=!1),dt+=Pt.colSpan})}),ge.forEach(function($e){$e.children=$e.children.filter(function(dt){return!dt._vMerge}),$e.children.forEach(function(dt){delete dt._vMerge})}),y(ge)}function _e(ge){var ke=ge.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return T(ke.map(fe.bind(null,ge)))}function fe(ge,ke){var Oe=ge.first("wp:docPr").attributes,Ve=ae(Oe.descr)?Oe.title:Oe.descr,$e=le(ke);return $e===null?p([i("Could not find image file for a:blip element")]):Ie($e,Ve)}function ae(ge){return ge==null||/^\s*$/.test(ge)}function le(ge){var ke=ge.attributes["r:embed"],Oe=ge.attributes["r:link"];if(ke)return Ae(ke);if(Oe){var Ve=O.findTargetByRelationshipId(Oe);return{path:Ve,read:H.read.bind(H,Ve)}}else return null}function ve(ge){var ke=ge.attributes["r:id"];return ke?Ie(Ae(ke),ge.attributes["o:title"]):p([i("A v:imagedata element without a relationship ID was ignored")])}function Ae(ge){var ke=s.uriToZipEntryName("word",O.findTargetByRelationshipId(ge));return{path:ke,read:L.read.bind(L,ke)}}function Ie(ge,ke){var Oe=W.findContentType(ge.path),Ve=t.Image({readImage:ge.read,altText:ke,contentType:Oe}),$e=d[Oe]?[]:i("Image of type "+Oe+" is unlikely to display in web browsers");return v(Ve,$e)}function qe(ge,ke){return i(ge+" style with ID "+ke+" was referenced but not defined in the document")}}function u(C,R,U){var M=R.firstOrEmpty("w:ilvl").attributes["w:val"],O=R.firstOrEmpty("w:numId").attributes["w:val"];if(M!==void 0&&O!==void 0)return U.findLevel(O,M);if(C!=null){var W=U.findLevelByParagraphStyleId(C);if(W!=null)return W}return null}var d={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},h={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function p(C){return new x(null,null,C)}function g(){return new x(null)}function y(C){return new x(C)}function v(C,R){return new x(C,null,R)}function x(C,R,U){this.value=C||[],this.extra=R||[],this._result=new n({element:this.value,extra:R},U),this.messages=this._result.messages}x.prototype.toExtra=function(){return new x(null,D(this.extra,this.value),this.messages)},x.prototype.insertExtra=function(){var C=this.extra;return C&&C.length?new x(D(this.value,C),null,this.messages):this},x.prototype.map=function(C){var R=this._result.map(function(U){return C(U.element)});return new x(R.value,this.extra,R.messages)},x.prototype.flatMap=function(C){var R=this._result.flatMap(function(U){return C(U.element)._result});return new x(R.value.element,D(this.extra,R.value.extra),R.messages)},x.map=function(C,R,U){return new x(U(C.value,R.value),D(C.extra,R.extra),C.messages.concat(R.messages))};function T(C){var R=n.combine(e.pluck(C,"_result"));return new x(e.flatten(e.pluck(R.value,"element")),e.filter(e.flatten(e.pluck(R.value,"extra")),E),R.messages)}function D(C,R){return e.flatten([C,R])}function E(C){return C}return ov}var l_={},PR;function dX(){if(PR)return l_;PR=1,l_.DocumentXmlReader=t;var r=bu(),e=io().Result;function t(n){var i=n.bodyReader;function s(a){var l=a.first("w:body");if(l==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var u=i.readXmlElements(l.children).map(function(d){return new r.Document(d,{notes:n.notes,comments:n.comments})});return new e(u.value,u.messages)}return{convertXmlToDocument:s}}return l_}var Yf={},BR;function hX(){if(BR)return Yf;BR=1,Yf.readRelationships=r,Yf.defaultValue=new e([]),Yf.Relationships=e;function r(t){var n=[];return t.children.forEach(function(i){if(i.name==="relationships:Relationship"){var s={relationshipId:i.attributes.Id,target:i.attributes.Target,type:i.attributes.Type};n.push(s)}}),new e(n)}function e(t){var n={};t.forEach(function(s){n[s.relationshipId]=s.target});var i={};return t.forEach(function(s){i[s.type]||(i[s.type]=[]),i[s.type].push(s.target)}),{findTargetByRelationshipId:function(s){return n[s]},findTargetsByType:function(s){return i[s]||[]}}}return Yf}var uv={},zR;function fX(){if(zR)return uv;zR=1,uv.readContentTypesFromXml=e;var r={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};uv.defaultContentTypes=t({},{});function e(n){var i={},s={};return n.children.forEach(function(a){if(a.name==="content-types:Default"&&(i[a.attributes.Extension]=a.attributes.ContentType),a.name==="content-types:Override"){var l=a.attributes.PartName;l.charAt(0)==="/"&&(l=l.substring(1)),s[l]=a.attributes.ContentType}}),t(s,i)}function t(n,i){return{findContentType:function(s){var a=n[s];if(a)return a;var l=s.split("."),u=l[l.length-1];if(i.hasOwnProperty(u))return i[u];var d=r[u.toLowerCase()];return d?"image/"+d:null}}}return uv}var Kf={},qR;function pX(){if(qR)return Kf;qR=1;var r=An;Kf.readNumberingXml=t,Kf.Numbering=e,Kf.defaultNumbering=new e({},{});function e(a,l,u){var d=r.flatten(r.values(l).map(function(y){return r.values(y.levels)})),h=r.indexBy(d.filter(function(y){return y.paragraphStyleId!=null}),"paragraphStyleId");function p(y,v){var x=a[y];if(x){var T=l[x.abstractNumId];if(T){if(T.numStyleLink==null)return l[x.abstractNumId].levels[v];var D=u.findNumberingStyleById(T.numStyleLink);return p(D.numId,v)}else return null}else return null}function g(y){return h[y]||null}return{findLevel:p,findLevelByParagraphStyleId:g}}function t(a,l){if(!l||!l.styles)throw new Error("styles is missing");var u=n(a),d=s(a);return new e(d,u,l.styles)}function n(a){var l={};return a.getElementsByTagName("w:abstractNum").forEach(function(u){var d=u.attributes["w:abstractNumId"];l[d]=i(u)}),l}function i(a){var l={};a.getElementsByTagName("w:lvl").forEach(function(d){var h=d.attributes["w:ilvl"],p=d.firstOrEmpty("w:numFmt").attributes["w:val"],g=d.firstOrEmpty("w:pStyle").attributes["w:val"];l[h]={isOrdered:p!=="bullet",level:h,paragraphStyleId:g}});var u=a.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:l,numStyleLink:u}}function s(a){var l={};return a.getElementsByTagName("w:num").forEach(function(u){var d=u.attributes["w:numId"],h=u.first("w:abstractNumId").attributes["w:val"];l[d]={abstractNumId:h}}),l}return Kf}var Zf={},WR;function gX(){if(WR)return Zf;WR=1,Zf.readStylesXml=e,Zf.Styles=r,Zf.defaultStyles=new r({},{});function r(s,a,l,u){return{findParagraphStyleById:function(d){return s[d]},findCharacterStyleById:function(d){return a[d]},findTableStyleById:function(d){return l[d]},findNumberingStyleById:function(d){return u[d]}}}r.EMPTY=new r({},{},{},{});function e(s){var a={},l={},u={},d={},h={paragraph:a,character:l,table:u};return s.getElementsByTagName("w:style").forEach(function(p){var g=t(p);if(g.type==="numbering")d[g.styleId]=i(p);else{var y=h[g.type];y&&(y[g.styleId]=g)}}),new r(a,l,u,d)}function t(s){var a=s.attributes["w:type"],l=s.attributes["w:styleId"],u=n(s);return{type:a,styleId:l,name:u}}function n(s){var a=s.first("w:name");return a?a.attributes["w:val"]:null}function i(s){var a=s.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{numId:a}}return Zf}var od={},jR;function mX(){if(jR)return od;jR=1;var r=bu(),e=io().Result;od.createFootnotesReader=t.bind(od,"footnote"),od.createEndnotesReader=t.bind(od,"endnote");function t(n,i){function s(u){return e.combine(u.getElementsByTagName("w:"+n).filter(a).map(l))}function a(u){var d=u.attributes["w:type"];return d!=="continuationSeparator"&&d!=="separator"}function l(u){var d=u.attributes["w:id"];return i.readXmlElements(u.children).map(function(h){return r.Note({noteType:n,noteId:d,body:h})})}return s}return od}var c_={},VR;function yX(){if(VR)return c_;VR=1;var r=bu(),e=io().Result;function t(n){function i(a){return e.combine(a.getElementsByTagName("w:comment").map(s))}function s(a){var l=a.attributes["w:id"];function u(d){return(a.attributes[d]||"").trim()||null}return n.readXmlElements(a.children).map(function(d){return r.comment({commentId:l,body:d,authorName:u("w:author"),authorInitials:u("w:initials")})})}return i}return c_.createCommentsReader=t,c_}var u_={},HR;function vX(){if(HR)return u_;HR=1;var r=Dl();u_.Files=e;function e(){function t(n){return r.reject(new Error("could not open external image: '"+n+`'
cannot open linked files from a web browser`))}return{read:t}}return u_}var GR;function bX(){if(GR)return ev;GR=1,ev.read=v,ev._findPartPaths=x;var r=Dl(),e=bu(),t=io().Result,n=T8(),i=aX().readXmlFromZipFile,s=uX().createBodyReader,a=dX().DocumentXmlReader,l=hX(),u=fX(),d=pX(),h=gX(),p=mX(),g=yX(),y=vX().Files;function v(L,H){return H=H||{},r.props({contentTypes:U(L),partPaths:x(L),docxFile:L,files:H.path?y.relativeToFile(H.path):new y(null)}).also(function(ne){return{styles:O(L,ne.partPaths.styles)}}).also(function(ne){return{numbering:M(L,ne.partPaths.numbering,ne.styles)}}).also(function(ne){return{footnotes:C(ne.partPaths.footnotes,ne,function(F,B){return B?p.createFootnotesReader(F)(B):new t([])}),endnotes:C(ne.partPaths.endnotes,ne,function(F,B){return B?p.createEndnotesReader(F)(B):new t([])}),comments:C(ne.partPaths.comments,ne,function(F,B){return B?g.createCommentsReader(F)(B):new t([])})}}).also(function(ne){return{notes:ne.footnotes.flatMap(function(F){return ne.endnotes.map(function(B){return new e.Notes(F.concat(B))})})}}).then(function(ne){return C(ne.partPaths.mainDocument,ne,function(F,B){return ne.notes.flatMap(function(N){return ne.comments.flatMap(function(K){var P=new a({bodyReader:F,notes:N,comments:K});return P.convertXmlToDocument(B)})})})})}function x(L){return W(L).then(function(H){var ne=T({docxFile:L,relationships:H,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!L.exists(ne))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return E({filename:R(ne),readElement:l.readRelationships,defaultValue:l.defaultValue})(L).then(function(F){function B(N){return T({docxFile:L,relationships:F,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+N,basePath:n.splitPath(ne).dirname,fallbackPath:"word/"+N+".xml"})}return{mainDocument:ne,comments:B("comments"),endnotes:B("endnotes"),footnotes:B("footnotes"),numbering:B("numbering"),styles:B("styles")}})})}function T(L){var H=L.docxFile,ne=L.relationships,F=L.relationshipType,B=L.basePath,N=L.fallbackPath,K=ne.findTargetsByType(F),P=K.map(function(ie){return D(n.joinPath(B,ie),"/")}),q=P.filter(function(ie){return H.exists(ie)});return q.length===0?N:q[0]}function D(L,H){return L.substring(0,H.length)===H?L.substring(H.length):L}function E(L){return function(H){return i(H,L.filename).then(function(ne){return ne?L.readElement(ne):L.defaultValue})}}function C(L,H,ne){var F=E({filename:R(L),readElement:l.readRelationships,defaultValue:l.defaultValue});return F(H.docxFile).then(function(B){var N=new s({relationships:B,contentTypes:H.contentTypes,docxFile:H.docxFile,numbering:H.numbering,styles:H.styles,files:H.files});return i(H.docxFile,L).then(function(K){return ne(N,K)})})}function R(L){var H=n.splitPath(L);return n.joinPath(H.dirname,"_rels",H.basename+".rels")}var U=E({filename:"[Content_Types].xml",readElement:u.readContentTypesFromXml,defaultValue:u.defaultContentTypes});function M(L,H,ne){return E({filename:H,readElement:function(F){return d.readNumberingXml(F,{styles:ne})},defaultValue:d.defaultNumbering})(L)}function O(L,H){return E({filename:H,readElement:h.readStylesXml,defaultValue:h.defaultStyles})(L)}var W=E({filename:"_rels/.rels",readElement:l.readRelationships,defaultValue:l.defaultValue});return ev}var dv={},$R;function xX(){if($R)return dv;$R=1;var r=An,e=Dl(),t=S8();dv.writeStyleMap=a,dv.readStyleMap=h;var n="http://schemas.zwobble.org/mammoth/style-map",i="mammoth/style-map",s="/"+i;function a(p,g){return p.write(i,g),l(p).then(function(){return u(p)})}function l(p){var g="word/_rels/document.xml.rels",y="http://schemas.openxmlformats.org/package/2006/relationships",v="{"+y+"}Relationship";return p.read(g,"utf8").then(t.readString).then(function(x){var T=x.children;d(T,v,"Id",{Id:"rMammothStyleMap",Type:n,Target:s});var D={"":y};return p.write(g,t.writeString(x,D))})}function u(p){var g="[Content_Types].xml",y="http://schemas.openxmlformats.org/package/2006/content-types",v="{"+y+"}Override";return p.read(g,"utf8").then(t.readString).then(function(x){var T=x.children;d(T,v,"PartName",{PartName:s,ContentType:"text/prs.mammoth.style-map"});var D={"":y};return p.write(g,t.writeString(x,D))})}function d(p,g,y,v){var x=r.find(p,function(T){return T.name===g&&T.attributes[y]===v[y]});x?x.attributes=v:p.push(t.element(g,v))}function h(p){return p.exists(i)?p.read(i,"utf8"):e.resolve(null)}return dv}var hv={},Ql={},ma={},Ro={},XR;function U8(){if(XR)return Ro;XR=1;var r=Yb();function e(u,d,h){return n(r.element(u,d,{fresh:!1}),h)}function t(u,d,h){var p=r.element(u,d,{fresh:!0});return n(p,h)}function n(u,d){return{type:"element",tag:u,children:d||[]}}function i(u){return{type:"text",value:u}}var s={type:"forceWrite"};Ro.freshElement=t,Ro.nonFreshElement=e,Ro.elementWithTag=n,Ro.text=i,Ro.forceWrite=s;var a={br:!0,hr:!0,img:!0};function l(u){return u.children.length===0&&a[u.tag.tagName]}return Ro.isVoidElement=l,Ro}var d_,QR;function _X(){if(QR)return d_;QR=1;var r=An,e=U8();function t(x){return n(d(x))}function n(x){var T=[];return x.map(i).forEach(function(D){u(T,D)}),T}function i(x){return s[x.type](x)}var s={element:a,text:l,forceWrite:l};function a(x){return e.elementWithTag(x.tag,n(x.children))}function l(x){return x}function u(x,T){var D=x[x.length-1];T.type==="element"&&!T.tag.fresh&&D&&D.type==="element"&&T.tag.matchesElement(D.tag)?(T.tag.separator&&u(D.children,e.text(T.tag.separator)),T.children.forEach(function(E){u(D.children,E)})):x.push(T)}function d(x){return h(x,function(T){return p[T.type](T)})}function h(x,T){return r.flatten(r.map(x,T),!0)}var p={element:y,text:v,forceWrite:g};function g(x){return[x]}function y(x){var T=d(x.children);return T.length===0&&!e.isVoidElement(x)?[]:[e.elementWithTag(x.tag,T)]}function v(x){return x.value.length===0?[]:[x]}return d_=t,d_}var YR;function Qb(){if(YR)return ma;YR=1;var r=U8();ma.freshElement=r.freshElement,ma.nonFreshElement=r.nonFreshElement,ma.elementWithTag=r.elementWithTag,ma.text=r.text,ma.forceWrite=r.forceWrite,ma.simplify=_X();function e(a,l){l.forEach(function(u){t(a,u)})}function t(a,l){n[l.type](a,l)}var n={element:i,text:s,forceWrite:function(){}};function i(a,l){r.isVoidElement(l)?a.selfClosing(l.tag.tagName,l.tag.attributes):(a.open(l.tag.tagName,l.tag.attributes),e(a,l.children),a.close(l.tag.tagName))}function s(a,l){a.text(l.value)}return ma.write=e,ma}var KR;function Yb(){if(KR)return Ql;KR=1;var r=An,e=Qb();Ql.topLevelElement=t,Ql.elements=n,Ql.element=s;function t(l,u){return n([s(l,u,{fresh:!0})])}function n(l){return new i(l.map(function(u){return r.isString(u)?s(u):u}))}function i(l){this._elements=l}i.prototype.wrap=function(u){for(var d=u(),h=this._elements.length-1;h>=0;h--)d=this._elements[h].wrapNodes(d);return d};function s(l,u,d){return d=d||{},new a(l,u,d)}function a(l,u,d){var h={};r.isArray(l)?(l.forEach(function(p){h[p]=!0}),l=l[0]):h[l]=!0,this.tagName=l,this.tagNames=h,this.attributes=u||{},this.fresh=d.fresh,this.separator=d.separator}return a.prototype.matchesElement=function(l){return this.tagNames[l.tagName]&&r.isEqual(this.attributes||{},l.attributes||{})},a.prototype.wrap=function(u){return this.wrapNodes(u())},a.prototype.wrapNodes=function(u){return[e.elementWithTag(this,u)]},Ql.empty=n([]),Ql.ignore={wrap:function(){return[]}},Ql}var h_={},ZR;function k8(){return ZR||(ZR=1,function(r){var e=An,t=Dl(),n=Qb();r.imgElement=i;function i(s){return function(a,l){return t.when(s(a)).then(function(u){var d={};return a.altText&&(d.alt=a.altText),e.extend(d,u),[n.freshElement("img",d)]})}}r.inline=r.imgElement,r.dataUri=i(function(s){return s.readAsBase64String().then(function(a){return{src:"data:"+s.contentType+";base64,"+a}})})}(h_)),h_}var f_={},p_={},JR;function wX(){if(JR)return p_;JR=1;var r=An;p_.writer=e;function e(l){return l=l||{},l.prettyPrint?n():i()}var t={div:!0,p:!0,ul:!0,li:!0};function n(){var l=0,u="  ",d=[],h=!0,p=!1,g=i();function y(U,M){t[U]&&C(),d.push(U),g.open(U,M),t[U]&&l++,h=!1}function v(U){t[U]&&(l--,C()),d.pop(),g.close(U)}function x(U){E();var M=R()?U:U.replace(`
`,`
`+u);g.text(M)}function T(U,M){C(),g.selfClosing(U,M)}function D(){return d.length===0||t[d[d.length-1]]}function E(){p||(C(),p=!0)}function C(){if(p=!1,!h&&D()&&!R()){g._append(`
`);for(var U=0;U<l;U++)g._append(u)}}function R(){return r.some(d,function(U){return U==="pre"})}return{asString:g.asString,open:y,close:v,text:x,selfClosing:T}}function i(){var l=[];function u(x,T){var D=p(T);l.push("<"+x+D+">")}function d(x){l.push("</"+x+">")}function h(x,T){var D=p(T);l.push("<"+x+D+" />")}function p(x){return r.map(x,function(T,D){return" "+D+'="'+a(T)+'"'}).join("")}function g(x){l.push(s(x))}function y(x){l.push(x)}function v(){return l.join("")}return{asString:v,open:u,close:d,text:g,selfClosing:h,_append:y}}function s(l){return l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(l){return l.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return p_}var g_={},eN;function TX(){if(eN)return g_;eN=1;var r=An;function e(p){return t(p,p)}function t(p,g){return function(){return{start:p,end:g}}}function n(p){var g=p.href||"";return g?{start:"[",end:"]("+g+")",anchorPosition:"before"}:{}}function i(p){var g=p.src||"",y=p.alt||"";return g||y?{start:"!["+y+"]("+g+")"}:{}}function s(p){return function(g,y){return{start:y?`
`:"",end:y?"":`
`,list:{isOrdered:p.isOrdered,indent:y?y.indent+1:0,count:0}}}}function a(p,g,y){g=g||{indent:0,isOrdered:!1,count:0},g.count++,y.hasClosed=!1;var v=g.isOrdered?g.count+".":"-",x=u("	",g.indent)+v+" ";return{start:x,end:function(){if(!y.hasClosed)return y.hasClosed=!0,`
`}}}var l={p:t("",`

`),br:t("",`  
`),ul:s({isOrdered:!1}),ol:s({isOrdered:!0}),li:a,strong:e("__"),em:e("*"),a:n,img:i};(function(){for(var p=1;p<=6;p++)l["h"+p]=t(u("#",p)+" ",`

`)})();function u(p,g){return new Array(g+1).join(p)}function d(){var p=[],g=[],y=null,v={};function x(U,M){M=M||{};var O=l[U]||function(){return{}},W=O(M,y,v);g.push({end:W.end,list:y}),W.list&&(y=W.list);var L=W.anchorPosition==="before";L&&T(M),p.push(W.start||""),L||T(M)}function T(U){U.id&&p.push('<a id="'+U.id+'"></a>')}function D(U){var M=g.pop();y=M.list;var O=r.isFunction(M.end)?M.end():M.end;p.push(O||"")}function E(U,M){x(U,M),D()}function C(U){p.push(h(U))}function R(){return p.join("")}return{asString:R,open:x,close:D,text:C,selfClosing:E}}g_.writer=d;function h(p){return p.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}return g_}var tN;function DX(){if(tN)return f_;tN=1;var r=wX(),e=TX();f_.writer=t;function t(n){return n=n||{},n.outputFormat==="markdown"?e.writer():r.writer(n)}return f_}var nN;function AX(){if(nN)return hv;nN=1;var r=An,e=Dl(),t=bu(),n=Yb(),i=io(),s=k8(),a=Qb(),l=DX();hv.DocumentConverter=u;function u(T){return{convertToHtml:function(D){var E=r.indexBy(D.type===t.types.document?D.comments:[],"commentId"),C=new d(T,E);return C.convertToHtml(D)}}}function d(T,D){var E=1,C=[],R=[];T=r.extend({ignoreEmptyParagraphs:!0},T);var U=T.idPrefix===void 0?"":T.idPrefix,M=T.ignoreEmptyParagraphs,O=n.topLevelElement("p"),W=T.styleMap||[];function L(I){var ye=[],he=ne(I,ye,{}),se=[];v(he,function(oe){oe.type==="deferred"&&se.push(oe)});var X={};return e.mapSeries(se,function(oe){return oe.value().then(function(De){X[oe.id]=De})}).then(function(){function oe(_e){return y(_e,function(fe){return fe.type==="deferred"?X[fe.id]:fe.children?[r.extend({},fe,{children:oe(fe.children)})]:[fe]})}var De=l.writer({prettyPrint:T.prettyPrint,outputFormat:T.outputFormat});return a.write(De,a.simplify(oe(he))),new i.Result(De.asString(),ye)})}function H(I,ye,he){return y(I,function(se){return ne(se,ye,he)})}function ne(I,ye,he){if(!he)throw new Error("options not set");var se=at[I.type];return se?se(I,ye,he):[]}function F(I,ye,he){return B(I,ye).wrap(function(){var se=H(I.children,ye,he);return M?se:[a.forceWrite].concat(se)})}function B(I,ye){var he=q(I);return he?he.to:(I.styleId&&ye.push(g("paragraph",I)),O)}function N(I,ye,he){var se=function(){return H(I.children,ye,he)},X=[];if(I.highlight!==null){var oe=P({type:"highlight",color:I.highlight});oe&&X.push(oe)}I.isSmallCaps&&X.push(K("smallCaps")),I.isAllCaps&&X.push(K("allCaps")),I.isStrikethrough&&X.push(K("strikethrough","s")),I.isUnderline&&X.push(K("underline")),I.verticalAlignment===t.verticalAlignment.subscript&&X.push(n.element("sub",{},{fresh:!1})),I.verticalAlignment===t.verticalAlignment.superscript&&X.push(n.element("sup",{},{fresh:!1})),I.isItalic&&X.push(K("italic","em")),I.isBold&&X.push(K("bold","strong"));var De=n.empty,_e=q(I);return _e?De=_e.to:I.styleId&&ye.push(g("run",I)),X.push(De),X.forEach(function(fe){se=fe.wrap.bind(fe,se)}),se()}function K(I,ye){var he=P({type:I});return he||(ye?n.element(ye,{},{fresh:!1}):n.empty)}function P(I,ye){var he=q(I);return he?he.to:ye}function q(I){for(var ye=0;ye<W.length;ye++)if(W[ye].from.matches(I))return W[ye]}function ie(I){return function(ye,he){return e.attempt(function(){return I(ye,he)}).caught(function(se){return he.push(i.error(se)),[]})}}function te(I){return V(I.noteType,I.noteId)}function j(I){return ee(I.noteType,I.noteId)}function V(I,ye){return re(I+"-"+ye)}function ee(I,ye){return re(I+"-ref-"+ye)}function re(I){return U+I}var pe=n.elements([n.element("table",{},{fresh:!0})]);function be(I,ye,he){return P(I,pe).wrap(function(){return Ee(I,ye,he)})}function Ee(I,ye,he){var se=r.findIndex(I.children,function(_e){return!_e.type===t.types.tableRow||!_e.isHeader});se===-1&&(se=I.children.length);var X;if(se===0)X=H(I.children,ye,r.extend({},he,{isTableHeader:!1}));else{var oe=H(I.children.slice(0,se),ye,r.extend({},he,{isTableHeader:!0})),De=H(I.children.slice(se),ye,r.extend({},he,{isTableHeader:!1}));X=[a.freshElement("thead",{},oe),a.freshElement("tbody",{},De)]}return[a.forceWrite].concat(X)}function Re(I,ye,he){var se=H(I.children,ye,he);return[a.freshElement("tr",{},[a.forceWrite].concat(se))]}function Me(I,ye,he){var se=he.isTableHeader?"th":"td",X=H(I.children,ye,he),oe={};return I.colSpan!==1&&(oe.colspan=I.colSpan.toString()),I.rowSpan!==1&&(oe.rowspan=I.rowSpan.toString()),[a.freshElement(se,oe,[a.forceWrite].concat(X))]}function ze(I,ye,he){return P(I,n.ignore).wrap(function(){var se=D[I.commentId],X=R.length+1,oe="["+x(se)+X+"]";return R.push({label:oe,comment:se}),[a.freshElement("a",{href:"#"+V("comment",I.commentId),id:ee("comment",I.commentId)},[a.text(oe)])]})}function Ge(I,ye,he){var se=I.label,X=I.comment,oe=H(X.body,ye,he).concat([a.nonFreshElement("p",{},[a.text(" "),a.freshElement("a",{href:"#"+ee("comment",X.commentId)},[a.text("↑")])])]);return[a.freshElement("dt",{id:V("comment",X.commentId)},[a.text("Comment "+se)]),a.freshElement("dd",{},oe)]}function Ke(I,ye,he){return ft(I).wrap(function(){return[]})}function ft(I){var ye=q(I);return ye?ye.to:I.breakType==="line"?n.topLevelElement("br"):n.empty}var at={document:function(I,ye,he){var se=H(I.children,ye,he),X=C.map(function(De){return I.notes.resolve(De)}),oe=H(X,ye,he);return se.concat([a.freshElement("ol",{},oe),a.freshElement("dl",{},y(R,function(De){return Ge(De,ye,he)}))])},paragraph:F,run:N,text:function(I,ye,he){return[a.text(I.value)]},tab:function(I,ye,he){return[a.text("	")]},hyperlink:function(I,ye,he){var se=I.anchor?"#"+re(I.anchor):I.href,X={href:se};I.targetFrame!=null&&(X.target=I.targetFrame);var oe=H(I.children,ye,he);return[a.nonFreshElement("a",X,oe)]},bookmarkStart:function(I,ye,he){var se=a.freshElement("a",{id:re(I.name)},[a.forceWrite]);return[se]},noteReference:function(I,ye,he){C.push(I);var se=a.freshElement("a",{href:"#"+te(I),id:j(I)},[a.text("["+E+++"]")]);return[a.freshElement("sup",{},[se])]},note:function(I,ye,he){var se=H(I.body,ye,he),X=a.elementWithTag(n.element("p",{},{fresh:!1}),[a.text(" "),a.freshElement("a",{href:"#"+j(I)},[a.text("↑")])]),oe=se.concat([X]);return a.freshElement("li",{id:te(I)},oe)},commentReference:ze,comment:Ge,image:p(ie(T.convertImage||s.dataUri)),table:be,tableRow:Re,tableCell:Me,break:Ke};return{convertToHtml:L}}var h=1;function p(T){return function(D,E,C){return[{type:"deferred",id:h++,value:function(){return T(D,E,C)}}]}}function g(T,D){return i.warning("Unrecognised "+T+" style: '"+D.styleName+"' (Style ID: "+D.styleId+")")}function y(T,D){return r.flatten(T.map(D),!0)}function v(T,D){T.forEach(function(E){D(E),E.children&&v(E.children,D)})}var x=hv.commentAuthorLabel=function(D){return D.authorInitials||""};return hv}var m_={},iN;function EX(){if(iN)return m_;iN=1;var r=bu();function e(t){if(t.type==="text")return t.value;if(t.type===r.types.tab)return"	";var n=t.type==="paragraph"?`

`:"";return(t.children||[]).map(e).join("")+n}return m_.convertElementToRawText=e,m_}var Jf={},Qr={},y_={},v_={exports:{}},rN;function CX(){if(rN)return v_.exports;rN=1;var r=v_.exports=function(e,t){this._tokens=e,this._startIndex=t||0};return r.prototype.head=function(){return this._tokens[this._startIndex]},r.prototype.tail=function(e){return new r(this._tokens,this._startIndex+1)},r.prototype.toArray=function(){return this._tokens.slice(this._startIndex)},r.prototype.end=function(){return this._tokens[this._tokens.length-1]},r.prototype.to=function(e){var t=this.head().source,n=e.head()||e.end();return t.to(n.source)},v_.exports}var sN;function SX(){if(sN)return y_;sN=1;var r=CX();return y_.Parser=function(e){var t=function(n,i){return n(new r(i))};return{parseTokens:t}},y_}var b_={},x_={},aN;function UX(){return aN||(aN=1,function(r){r.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return r.none},flatMap:function(){return r.none},filter:function(){return r.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(n){return typeof n=="function"?n():n}r.some=function(n){return new t(n)};var t=function(n){this._value=n};t.prototype.value=function(){return this._value},t.prototype.isNone=function(){return!1},t.prototype.isSome=function(){return!0},t.prototype.map=function(n){return new t(n(this._value))},t.prototype.flatMap=function(n){return n(this._value)},t.prototype.filter=function(n){return n(this._value)?this:r.none},t.prototype.toArray=function(){return[this._value]},t.prototype.orElse=function(n){return this},t.prototype.valueOrElse=function(n){return this._value},r.isOption=function(n){return n===r.none||n instanceof t},r.fromNullable=function(n){return n==null?r.none:new t(n)}}(x_)),x_}var __,oN;function $D(){if(oN)return __;oN=1,__={failure:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new r({status:"failure",remaining:t,errors:e})},error:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new r({status:"error",remaining:t,errors:e})},success:function(e,t,n){return new r({status:"success",value:e,source:n,remaining:t,errors:[]})},cut:function(e){return new r({status:"cut",remaining:e,errors:[]})}};var r=function(e){this._value=e.value,this._status=e.status,this._hasValue=e.value!==void 0,this._remaining=e.remaining,this._source=e.source,this._errors=e.errors};return r.prototype.map=function(e){return this._hasValue?new r({value:e(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this},r.prototype.changeRemaining=function(e){return new r({value:this._value,status:this._status,remaining:e,source:this._source,errors:this._errors})},r.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"},r.prototype.isFailure=function(){return this._status==="failure"},r.prototype.isError=function(){return this._status==="error"},r.prototype.isCut=function(){return this._status==="cut"},r.prototype.value=function(){return this._value},r.prototype.remaining=function(){return this._remaining},r.prototype.source=function(){return this._source},r.prototype.errors=function(){return this._errors},__}var w_={},lN;function R8(){if(lN)return w_;lN=1,w_.error=function(e){return new r(e)};var r=function(e){this.expected=e.expected,this.actual=e.actual,this._location=e.location};return r.prototype.describe=function(){var e=this._location?this._location.describe()+`:
`:"";return e+"Expected "+this.expected+`
but got `+this.actual},r.prototype.lineNumber=function(){return this._location.lineNumber()},r.prototype.characterNumber=function(){return this._location.characterNumber()},w_}var T_={},cN;function kX(){if(cN)return T_;cN=1,T_.fromArray=function(e){var t=0,n=function(){return t<e.length};return new r({hasNext:n,next:function(){if(n())return e[t++];throw new Error("No more elements")}})};var r=function(e){this._iterator=e};return r.prototype.map=function(e){var t=this._iterator;return new r({hasNext:function(){return t.hasNext()},next:function(){return e(t.next())}})},r.prototype.filter=function(e){var t=this._iterator,n=!1,i=!1,s,a=function(){if(!n)for(n=!0,i=!1;t.hasNext()&&!i;)s=t.next(),i=e(s)};return new r({hasNext:function(){return a(),i},next:function(){a();var l=s;return n=!1,l}})},r.prototype.first=function(){var e=this._iterator;return this._iterator.hasNext()?e.next():null},r.prototype.toArray=function(){for(var e=[];this._iterator.hasNext();)e.push(this._iterator.next());return e},T_}var uN;function N8(){return uN||(uN=1,function(r){var e=An,t=UX(),n=$D(),i=R8(),s=kX();r.token=function(g,y){var v=y!==void 0;return function(x){var T=x.head();if(T&&T.name===g&&(!v||T.value===y))return n.success(T.value,x.tail(),T.source);var D=h({name:g,value:y});return p(x,D)}},r.tokenOfType=function(g){return r.token(g)},r.firstOf=function(g,y){return e.isArray(y)||(y=Array.prototype.slice.call(arguments,1)),function(v){return s.fromArray(y).map(function(x){return x(v)}).filter(function(x){return x.isSuccess()||x.isError()}).first()||p(v,g)}},r.then=function(g,y){return function(v){var x=g(v);return x.map||console.log(x),x.map(y)}},r.sequence=function(){var g=Array.prototype.slice.call(arguments,0),y=function(x){var T=e.foldl(g,function(E,C){var R=E.result,U=E.hasCut;if(!R.isSuccess())return{result:R,hasCut:U};var M=C(R.remaining());if(M.isCut())return{result:R,hasCut:!0};if(M.isSuccess()){var O;C.isCaptured?O=R.value().withValue(C,M.value()):O=R.value();var W=M.remaining(),L=x.to(W);return{result:n.success(O,W,L),hasCut:U}}else return U?{result:n.error(M.errors(),M.remaining()),hasCut:U}:{result:M,hasCut:U}},{result:n.success(new a,x),hasCut:!1}).result,D=x.to(T.remaining());return T.map(function(E){return E.withValue(r.sequence.source,D)})};y.head=function(){var x=e.find(g,v);return r.then(y,r.sequence.extract(x))},y.map=function(x){return r.then(y,function(T){return x.apply(this,T.toArray())})};function v(x){return x.isCaptured}return y};var a=function(g,y){this._values=g||{},this._valuesArray=y||[]};a.prototype.withValue=function(g,y){if(g.captureName&&g.captureName in this._values)throw new Error('Cannot add second value for capture "'+g.captureName+'"');var v=e.clone(this._values);v[g.captureName]=y;var x=this._valuesArray.concat([y]);return new a(v,x)},a.prototype.get=function(g){if(g.captureName in this._values)return this._values[g.captureName];throw new Error('No value for capture "'+g.captureName+'"')},a.prototype.toArray=function(){return this._valuesArray},r.sequence.capture=function(g,y){var v=function(){return g.apply(this,arguments)};return v.captureName=y,v.isCaptured=!0,v},r.sequence.extract=function(g){return function(y){return y.get(g)}},r.sequence.applyValues=function(g){var y=Array.prototype.slice.call(arguments,1);return function(v){var x=y.map(function(T){return v.get(T)});return g.apply(this,x)}},r.sequence.source={captureName:"☃source☃"},r.sequence.cut=function(){return function(g){return n.cut(g)}},r.optional=function(g){return function(y){var v=g(y);return v.isSuccess()?v.map(t.some):v.isFailure()?n.success(t.none,y):v}},r.zeroOrMoreWithSeparator=function(g,y){return d(g,y,!1)},r.oneOrMoreWithSeparator=function(g,y){return d(g,y,!0)};var l=r.zeroOrMore=function(g){return function(y){for(var v=[],x;(x=g(y))&&x.isSuccess();)y=x.remaining(),v.push(x.value());return x.isError()?x:n.success(v,y)}};r.oneOrMore=function(g){return r.oneOrMoreWithSeparator(g,u)};function u(g){return n.success(null,g)}var d=function(g,y,v){return function(x){var T=g(x);if(T.isSuccess()){var D=r.sequence.capture(g,"main"),E=l(r.then(r.sequence(y,D),r.sequence.extract(D))),C=E(T.remaining());return n.success([T.value()].concat(C.value()),C.remaining())}else return v||T.isError()?T:n.success([],x)}};r.leftAssociative=function(g,y,v){var x;v?x=[{func:v,rule:y}]:x=y,x=x.map(function(D){return r.then(D.rule,function(E){return function(C,R){return D.func(C,E,R)}})});var T=r.firstOf.apply(null,["rules"].concat(x));return function(D){var E=D,C=g(D);if(!C.isSuccess())return C;for(var R=T(C.remaining());R.isSuccess();){var U=R.remaining(),M=E.to(R.remaining()),O=R.value();C=n.success(O(C.value(),M),U,M),R=T(C.remaining())}return R.isError()?R:C}},r.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},r.nonConsuming=function(g){return function(y){return g(y).changeRemaining(y)}};var h=function(g){return g.value?g.name+' "'+g.value+'"':g.name};function p(g,y){var v,x=g.head();return x?v=i.error({expected:y,actual:h(x),location:x.source}):v=i.error({expected:y,actual:"end of tokens"}),n.failure([v],g)}}(b_)),b_}var D_={exports:{}},dN;function M8(){if(dN)return D_.exports;dN=1,D_.exports=function(e,t){var n={asString:function(){return e},range:function(i,s){return new r(e,t,i,s)}};return n};var r=function(e,t,n,i){this._string=e,this._description=t,this._startIndex=n,this._endIndex=i};return r.prototype.to=function(e){return new r(this._string,this._description,this._startIndex,e._endIndex)},r.prototype.describe=function(){var e=this._position(),t=this._description?this._description+`
`:"";return t+"Line number: "+e.lineNumber+`
Character number: `+e.characterNumber},r.prototype.lineNumber=function(){return this._position().lineNumber},r.prototype.characterNumber=function(){return this._position().characterNumber},r.prototype._position=function(){for(var e=this,t=0,n=function(){return e._string.indexOf(`
`,t)},i=1;n()!==-1&&n()<this._startIndex;)t=n()+1,i+=1;var s=this._startIndex-t+1;return{lineNumber:i,characterNumber:s}},D_.exports}var A_,hN;function I8(){return hN||(hN=1,A_=function(r,e,t){this.name=r,this.value=e,t&&(this.source=t)}),A_}var E_={},fN;function RX(){return fN||(fN=1,function(r){var e=N8(),t=$D();r.parser=function(s,a,l){var u={rule:g,leftAssociative:y,rightAssociative:v},d=new n(l.map(p)),h=e.firstOf(s,a);function p(D){return{name:D.name,rule:i(D.ruleBuilder.bind(null,u))}}function g(){return x(d)}function y(D){return x(d.untilExclusive(D))}function v(D){return x(d.untilInclusive(D))}function x(D){return T.bind(null,D)}function T(D,E){var C=h(E);return C.isSuccess()?D.apply(C):C}return u};function n(s){function a(p){return new n(s.slice(0,u().indexOf(p)))}function l(p){return new n(s.slice(0,u().indexOf(p)+1))}function u(){return s.map(function(p){return p.name})}function d(p){for(var g,y;;)if(g=h(p.remaining()),g.isSuccess())y=p.source().to(g.source()),p=t.success(g.value()(p.value(),y),g.remaining(),y);else return g.isFailure()?p:g}function h(p){return e.firstOf("infix",s.map(function(g){return g.rule}))(p)}return{apply:d,untilExclusive:a,untilInclusive:l}}r.infix=function(s,a){function l(u){return r.infix(s,function(d){var h=a(d);return function(p){var g=h(p);return g.map(function(y){return function(v,x){return u(v,y,x)}})}})}return{name:s,ruleBuilder:a,map:l}};var i=function(s){var a;return function(l){return a||(a=s()),a(l)}}}(E_)),E_}var C_={},pN;function NX(){if(pN)return C_;pN=1;var r=I8(),e=M8();C_.RegexTokeniser=t;function t(n){n=n.map(function(l){return{name:l.name,regex:new RegExp(l.regex.source,"g")}});function i(l,u){for(var d=new e(l,u),h=0,p=[];h<l.length;){var g=s(l,h,d);h=g.endIndex,p.push(g.token)}return p.push(a(l,d)),p}function s(l,u,d){for(var h=0;h<n.length;h++){var p=n[h].regex;p.lastIndex=u;var g=p.exec(l);if(g){var v=u+g[0].length;if(g.index===u&&v>u){var y=g[1],x=new r(n[h].name,y,d.range(u,v));return{token:x,endIndex:v}}}}var v=u+1,x=new r("unrecognisedCharacter",l.substring(u,v),d.range(u,v));return{token:x,endIndex:v}}function a(l,u){return new r("end",null,u.range(l.length,l.length))}return{tokenise:i}}return C_}var gN;function F8(){return gN||(gN=1,Qr.Parser=SX().Parser,Qr.rules=N8(),Qr.errors=R8(),Qr.results=$D(),Qr.StringSource=M8(),Qr.Token=I8(),Qr.bottomUp=RX(),Qr.RegexTokeniser=NX().RegexTokeniser,Qr.rule=function(r){var e;return function(t){return e||(e=r()),e(t)}}),Qr}var Hn={},mN;function MX(){if(mN)return Hn;mN=1,Hn.paragraph=r,Hn.run=e,Hn.table=t,Hn.bold=new i("bold"),Hn.italic=new i("italic"),Hn.underline=new i("underline"),Hn.strikethrough=new i("strikethrough"),Hn.allCaps=new i("allCaps"),Hn.smallCaps=new i("smallCaps"),Hn.highlight=n,Hn.commentReference=new i("commentReference"),Hn.lineBreak=new a({breakType:"line"}),Hn.pageBreak=new a({breakType:"page"}),Hn.columnBreak=new a({breakType:"column"}),Hn.equalTo=u,Hn.startsWith=d;function r(g){return new i("paragraph",g)}function e(g){return new i("run",g)}function t(g){return new i("table",g)}function n(g){return new s(g)}function i(g,y){y=y||{},this._elementType=g,this._styleId=y.styleId,this._styleName=y.styleName,y.list&&(this._listIndex=y.list.levelIndex,this._listIsOrdered=y.list.isOrdered)}i.prototype.matches=function(g){return g.type===this._elementType&&(this._styleId===void 0||g.styleId===this._styleId)&&(this._styleName===void 0||g.styleName&&this._styleName.operator(this._styleName.operand,g.styleName))&&(this._listIndex===void 0||l(g,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===g.breakType)};function s(g){g=g||{},this._color=g.color}s.prototype.matches=function(g){return g.type==="highlight"&&(this._color===void 0||g.color===this._color)};function a(g){g=g||{},this._breakType=g.breakType}a.prototype.matches=function(g){return g.type==="break"&&(this._breakType===void 0||g.breakType===this._breakType)};function l(g,y,v){return g.numbering&&g.numbering.level==y&&g.numbering.isOrdered==v}function u(g){return{operator:h,operand:g}}function d(g){return{operator:p,operand:g}}function h(g,y){return g.toUpperCase()===y.toUpperCase()}function p(g,y){return y.toUpperCase().indexOf(g.toUpperCase())===0}return Hn}var S_={},yN;function IX(){if(yN)return S_;yN=1;var r=F8(),e=r.RegexTokeniser;S_.tokenise=n;var t="'((?:\\\\.|[^'])*)";function n(i){var s="(?:[a-zA-Z\\-_]|\\\\.)",a=new e([{name:"identifier",regex:new RegExp("("+s+"(?:"+s+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(t+"'")},{name:"unterminated-string",regex:new RegExp(t)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return a.tokenise(i)}return S_}var vN;function FX(){if(vN)return Jf;vN=1;var r=An,e=F8(),t=MX(),n=Yb(),i=IX().tokenise,s=io();Jf.readHtmlPath=h,Jf.readDocumentMatcher=u,Jf.readStyle=a;function a(W){return R(O,W)}function l(){return e.rules.sequence(e.rules.sequence.capture(d()),e.rules.tokenOfType("whitespace"),e.rules.tokenOfType("arrow"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("whitespace"),e.rules.sequence.capture(p())).head())),e.rules.tokenOfType("end")).map(function(W,L){return{from:W,to:L.valueOrElse(n.empty)}})}function u(W){return R(d(),W)}function d(){var W=e.rules.sequence,L=function(Ge,Ke){return e.rules.then(e.rules.token("identifier",Ge),function(){return Ke})},H=L("p",t.paragraph),ne=L("r",t.run),F=e.rules.firstOf("p or r or table",H,ne),B=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(g)).map(function(Ge){return{styleId:Ge}}),N=e.rules.firstOf("style name matcher",e.rules.then(e.rules.sequence(e.rules.tokenOfType("equals"),e.rules.sequence.cut(),e.rules.sequence.capture(v)).head(),function(Ge){return{styleName:t.equalTo(Ge)}}),e.rules.then(e.rules.sequence(e.rules.tokenOfType("startsWith"),e.rules.sequence.cut(),e.rules.sequence.capture(v)).head(),function(Ge){return{styleName:t.startsWith(Ge)}})),K=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","style-name"),e.rules.sequence.capture(N),e.rules.tokenOfType("close-square-bracket")).head(),P=e.rules.firstOf("list type",L("ordered-list",{isOrdered:!0}),L("unordered-list",{isOrdered:!1})),q=W(e.rules.tokenOfType("colon"),W.capture(P),W.cut(),e.rules.tokenOfType("open-paren"),W.capture(y),e.rules.tokenOfType("close-paren")).map(function(Ge,Ke){return{list:{isOrdered:Ge.isOrdered,levelIndex:Ke-1}}});function ie(Ge){var Ke=e.rules.firstOf.apply(e.rules.firstOf,["matcher suffix"].concat(Ge)),ft=e.rules.zeroOrMore(Ke);return e.rules.then(ft,function(at){var I={};return at.forEach(function(ye){r.extend(I,ye)}),I})}var te=W(W.capture(F),W.capture(ie([B,K,q]))).map(function(Ge,Ke){return Ge(Ke)}),j=W(e.rules.token("identifier","table"),W.capture(ie([B,K]))).map(function(Ge){return t.table(Ge)}),V=L("b",t.bold),ee=L("i",t.italic),re=L("u",t.underline),pe=L("strike",t.strikethrough),be=L("all-caps",t.allCaps),Ee=L("small-caps",t.smallCaps),Re=W(e.rules.token("identifier","highlight"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","color"),e.rules.tokenOfType("equals"),e.rules.sequence.capture(v),e.rules.tokenOfType("close-square-bracket")).head()))).map(function(Ge){return t.highlight({color:Ge.valueOrElse(void 0)})}),Me=L("comment-reference",t.commentReference),ze=W(e.rules.token("identifier","br"),W.cut(),e.rules.tokenOfType("open-square-bracket"),e.rules.token("identifier","type"),e.rules.tokenOfType("equals"),W.capture(v),e.rules.tokenOfType("close-square-bracket")).map(function(Ge){switch(Ge){case"line":return t.lineBreak;case"page":return t.pageBreak;case"column":return t.columnBreak}});return e.rules.firstOf("element type",te,j,V,ee,re,pe,be,Ee,Re,Me,ze)}function h(W){return R(p(),W)}function p(){var W=e.rules.sequence.capture,L=e.rules.tokenOfType("whitespace"),H=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","fresh"))),function(N){return N.map(function(){return!0}).valueOrElse(!1)}),ne=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","separator"),e.rules.tokenOfType("open-paren"),W(v),e.rules.tokenOfType("close-paren")).head()),function(N){return N.valueOrElse("")}),F=e.rules.oneOrMoreWithSeparator(g,e.rules.tokenOfType("choice")),B=e.rules.sequence(W(F),W(e.rules.zeroOrMore(C)),W(H),W(ne)).map(function(N,K,P,q){var ie={},te={};return K.forEach(function(j){j.append&&ie[j.name]?ie[j.name]+=" "+j.value:ie[j.name]=j.value}),P&&(te.fresh=!0),q&&(te.separator=q),n.element(N,ie,te)});return e.rules.firstOf("html path",e.rules.then(e.rules.tokenOfType("bang"),function(){return n.ignore}),e.rules.then(e.rules.zeroOrMoreWithSeparator(B,e.rules.sequence(L,e.rules.tokenOfType("gt"),L)),n.elements))}var g=e.rules.then(e.rules.tokenOfType("identifier"),T),y=e.rules.tokenOfType("integer"),v=e.rules.then(e.rules.tokenOfType("string"),T),x={n:`
`,r:"\r",t:"	"};function T(W){return W.replace(/\\(.)/g,function(L,H){return x[H]||H})}var D=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.sequence.capture(g),e.rules.tokenOfType("equals"),e.rules.sequence.capture(v),e.rules.tokenOfType("close-square-bracket")).map(function(W,L){return{name:W,value:L,append:!1}}),E=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(g)).map(function(W){return{name:"class",value:W,append:!0}}),C=e.rules.firstOf("attribute or class",D,E);function R(W,L){var H=i(L),ne=e.Parser(),F=ne.parseTokens(W,H);return F.isSuccess()?s.success(F.value()):new s.Result(null,[s.warning(U(L,F))])}function U(W,L){return"Did not understand this style mapping, so ignored it: "+W+`
`+L.errors().map(M).join(`
`)}function M(W){return"Error was at character number "+W.characterNumber()+": Expected "+W.expected+" but got "+W.actual}var O=l();return Jf}var ep={},bN;function LX(){if(bN)return ep;bN=1,ep.readOptions=n;var r=An,e=ep._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh"],t=ep._standardOptions={transformDocument:s,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function n(a){return a=a||{},r.extend({},t,a,{customStyleMap:i(a.styleMap),readStyleMap:function(){var l=this.customStyleMap;return this.includeEmbeddedStyleMap&&(l=l.concat(i(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(l=l.concat(e)),l}})}function i(a){return a?r.isString(a)?a.split(`
`).map(function(l){return l.trim()}).filter(function(l){return l!==""&&l.charAt(0)!=="#"}):a:[]}function s(a){return a}return ep}var U_={},xN;function OX(){if(xN)return U_;xN=1;var r=Dl(),e=T8();U_.openZip=t;function t(n){return n.arrayBuffer?r.resolve(e.openArrayBuffer(n.arrayBuffer)):r.reject(new Error("Could not find file in options"))}return U_}var Yl={},_N;function PX(){if(_N)return Yl;_N=1;var r=An;Yl.paragraph=e,Yl.run=t,Yl._elements=i,Yl.getDescendantsOfType=s,Yl.getDescendants=a;function e(u){return n("paragraph",u)}function t(u){return n("run",u)}function n(u,d){return i(function(h){return h.type===u?d(h):h})}function i(u){return function d(h){if(h.children){var p=r.map(h.children,d);h=r.extend(h,{children:p})}return u(h)}}function s(u,d){return a(u).filter(function(h){return h.type===d})}function a(u){var d=[];return l(u,function(h){d.push(h)}),d}function l(u,d){u.children&&u.children.forEach(function(h){l(h,d),d(h)})}return Yl}var k_={},wN;function BX(){if(wN)return k_;wN=1;var r=Yb(),e=Qb();k_.element=t;function t(n){return function(i){return e.elementWithTag(r.element(n),[i])}}return k_}var TN;function zX(){if(TN)return Ur;TN=1;var r=An,e=bX(),t=xX(),n=AX().DocumentConverter,i=EX().convertElementToRawText,s=FX().readStyle,a=LX().readOptions,l=OX(),u=io().Result;Ur.convertToHtml=d,Ur.convertToMarkdown=h,Ur.convert=p,Ur.extractRawText=x,Ur.images=k8(),Ur.transforms=PX(),Ur.underline=BX(),Ur.embedStyleMap=T,Ur.readEmbeddedStyleMap=g;function d(D,E){return p(D,E)}function h(D,E){var C=Object.create(E||{});return C.outputFormat="markdown",p(D,C)}function p(D,E){return E=a(E),l.openZip(D).tap(function(C){return t.readStyleMap(C).then(function(R){E.embeddedStyleMap=R})}).then(function(C){return e.read(C,D).then(function(R){return R.map(E.transformDocument)}).then(function(R){return y(R,E)})})}function g(D){return l.openZip(D).then(t.readStyleMap)}function y(D,E){var C=v(E.readStyleMap()),R=r.extend({},E,{styleMap:C.value}),U=new n(R);return D.flatMapThen(function(M){return C.flatMapThen(function(O){return U.convertToHtml(M)})})}function v(D){return u.combine((D||[]).map(s)).map(function(E){return E.filter(function(C){return!!C})})}function x(D){return l.openZip(D).then(e.read).then(function(E){return E.map(i)})}function T(D,E){return l.openZip(D).tap(function(C){return t.writeStyleMap(C,E)}).then(function(C){return C.toArrayBuffer()}).then(function(C){return{toArrayBuffer:function(){return C},toBuffer:function(){return Buffer.from(C)}}})}return Ur.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)},Ur}var qX=zX();const WX=Tm(qX);typeof window<"u"&&(xG.workerSrc="https://esm.sh/pdfjs-dist@4.4.168/build/pdf.worker.min.js");const jX=async r=>{const e=await r.arrayBuffer(),t=await _G({data:e}).promise;let n="";for(let i=1;i<=t.numPages;i++){const a=await(await t.getPage(i)).getTextContent();n+=a.items.map(l=>"str"in l?l.str:"").join(" ")+`
`}return n},VX=async r=>{const e=await r.arrayBuffer();return(await WX.extractRawText({arrayBuffer:e})).value},HX=r=>new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{const s=n.result.split(",");if(s.length!==2){t(new Error("Invalid file data for base64 conversion"));return}const a=s[0].split(":")[1].split(";")[0];e({base64Data:s[1],mimeType:a})},n.onerror=i=>t(i),n.readAsDataURL(r)}),R_=5,N_="quizAICreationTimestamps_unauth",GX=()=>{const{addQuiz:r,language:e,isGeminiKeyAvailable:t,currentUser:n}=Xi(),{t:i}=Ui(),s=Hi(),[a,l]=de.useState(1),[u,d]=de.useState(null),[h,p]=de.useState(""),[g,y]=de.useState(null),[v,x]=de.useState(null),[T,D]=de.useState(null),[E,C]=de.useState(""),[R,U]=de.useState(""),M=!0,[O,W]=de.useState(M),[L,H]=de.useState("Medium"),[ne,F]=de.useState(10),[B,N]=de.useState({numQuestions:0,difficulty:"AI-Determined",language:e==="vi"?"Vietnamese":"English",selectedModel:Ts}),[K,P]=de.useState(!1),[q,ie]=de.useState(!1),[te,j]=de.useState(null),[V,ee]=de.useState(0),[re,pe]=de.useState(!1),[be,Ee]=de.useState(!1);de.useEffect(()=>{N(X=>({...X,language:e==="vi"?"Vietnamese":"English",difficulty:O?"AI-Determined":L!=="AI-Determined"?L:"Medium",numQuestions:O?X.numQuestions:ne>0?ne:10,selectedModel:Ts}))},[e,O,L,ne]);const Re=()=>!t,Me=async X=>{d(X),p(""),x(null),y(null),D(null),P(!0),j(null),ee(0);try{C(X.name.split(".").slice(0,-1).join(".")||i("step2QuizTitlePlaceholder")),ee(10),await new Promise(De=>setTimeout(De,200));let oe=null;if(X.type==="application/pdf")ee(30),oe=await jX(X),ee(70);else if(X.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||X.name.endsWith(".docx"))ee(30),oe=await VX(X),ee(70);else if(X.type.startsWith("image/")){ee(30);const De=await HX(X);x(De),ee(50),Re()?(console.warn("API key for Gemini is missing. Skipping text extraction from image for display."),oe=i("step1ErrorProcessingFile")+" (API Key missing for text extraction)"):oe=await bV(De)||i("step1ErrorProcessingFile")+" (AI could not extract text)",D(oe),ee(70)}else if(X.type==="text/plain"||X.name.endsWith(".txt"))ee(30),oe=await X.text(),ee(70);else throw new Error(i("step1ErrorUnsupportedFile"));y(oe),await new Promise(De=>setTimeout(De,300)),ee(100),l(2)}catch(oe){console.error("Error processing file:",oe),j(oe instanceof Error?oe.message:i("step1ErrorProcessingFile")),ee(0)}finally{P(!1)}},ze=()=>{h.trim()?(y(h.trim()),d(null),x(null),D(null),C(i("step2PastedText")+" Quiz"),l(2),j(null)):j(i("step1ErrorPasteText"))},Ge=X=>{const{name:oe,value:De}=X.target;if(oe==="numQuestions"){const _e=X.target.value,fe=parseInt(_e,10),ae=isNaN(fe)||fe<0?0:fe;if(O)N(le=>({...le,numQuestions:ae}));else{const le=ae<=0?1:ae;N(ve=>({...ve,numQuestions:le})),F(le)}}else if(oe==="difficulty"){const _e=De;N(fe=>({...fe,difficulty:_e,selectedModel:Ts})),!O&&_e!=="AI-Determined"&&H(_e)}else N(_e=>({..._e,[oe]:De,selectedModel:Ts}))},Ke=X=>{W(X),X?(B.difficulty!=="AI-Determined"&&H(B.difficulty),F(oe=>B.numQuestions>0?B.numQuestions:oe),N(oe=>({...oe,difficulty:"AI-Determined",numQuestions:0}))):N(oe=>({...oe,difficulty:L==="AI-Determined"?"Medium":L,numQuestions:ne>0?ne:10}))},ft=async()=>{if(Re()){j(i("step3ErrorAPIKeyMissingForModel",{modelName:"Google Gemini"}));return}if(!n){const De=Date.now()-24*60*60*1e3;let _e=[];try{const ae=localStorage.getItem(N_);ae&&(_e=JSON.parse(ae))}catch(ae){console.error("Error reading unauth timestamps from localStorage",ae),_e=[]}if(_e.filter(ae=>ae>De).length>=R_){j(i("rateLimitErrorUnauthenticated",{limit:R_})),ie(!1),ee(0);return}}let X;if(v)g&&g.trim()&&T&&g.trim()!==T.trim()?X=g:X=v;else if(g&&g.trim())X=g;else if(v&&(!g||!g.trim()))X=v;else{j(i("step1ErrorProcessingFile"));return}ie(!0),j(null),ee(0);try{const oe={...B,customUserPrompt:R.trim()||void 0,selectedModel:Ts};ee(10);const De=xV(X,oe,E);let _e=setInterval(()=>{ee(ae=>ae>=85?(clearInterval(_e),ae):Math.min(ae+5,85))},400);const fe=await De;if(clearInterval(_e),ee(95),!n){let ae=[];try{const Ie=localStorage.getItem(N_);Ie&&(ae=JSON.parse(Ie))}catch(Ie){console.error("Error reading unauth timestamps for update",Ie),ae=[]}const le=Date.now(),ve=le-24*60*60*1e3,Ae=ae.filter(Ie=>Ie>ve);Ae.push(le);try{localStorage.setItem(N_,JSON.stringify(Ae))}catch(Ie){console.error("Error writing unauth timestamps to localStorage",Ie)}}s("/review",{state:{generatedQuizData:fe,quizTitleSuggestion:E||fe.title,finalConfig:oe}}),ee(100)}catch(oe){console.error("Error generating quiz:",oe),j(oe instanceof Error?oe.message:i("step3ErrorGenerate")),ee(0)}finally{ie(!1)}},at=()=>{g&&navigator.clipboard.writeText(g).then(()=>{Ee(!0),setTimeout(()=>Ee(!1),2e3)}).catch(X=>{console.error("Failed to copy text: ",X),alert(i("azotaExportErrorCopy"))})},I="https://img.icons8.com/?size=256&id=eoxMN35Z6JKg&format=png",ye=(X,oe,De,_e,fe=!1)=>{const ae=X===oe,le=X>oe,ve="text-slate-400",Ae="text-slate-400";let Ie;const qe="https://img.icons8.com/?size=256&id=VFaz7MkjAiu0&format=png",ge="w-5 h-5 sm:w-6 sm:h-6";return le?Ie=k.jsx("img",{src:qe,alt:i("stepCompleted"),className:ge}):ae?oe===1?Ie=k.jsx("img",{src:"https://img.icons8.com/?size=256&id=hwKgsZN5Is2H&format=png",alt:i("step1Title"),className:ge}):oe===2?Ie=k.jsx("img",{src:"https://img.icons8.com/?size=256&id=WwHcZxa9PFUq&format=png",alt:i("step2Title"),className:ge}):oe===3?Ie=k.jsx("img",{src:I,alt:i("step3Title"),className:ge}):Pr.isValidElement(_e)?Ie=Pr.cloneElement(_e,{className:ge}):Ie=_e:Pr.isValidElement(_e)?Ie=Pr.cloneElement(_e,{className:ge}):Ie=_e,k.jsxs("div",{className:`flex flex-col items-center transition-all duration-300 ${ae?"text-sky-300":le?"text-green-400":Ae}`,children:[k.jsx("div",{className:`flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 rounded-full border-2 transition-all duration-300 mb-2.5
         ${ae?"border-sky-400 bg-sky-400/20 text-sky-300 shadow-xl scale-110":le?"border-green-400 bg-green-400/20 text-green-400 shadow-lg":`border-slate-600 bg-slate-700/60 ${ve}`}
         font-semibold text-base sm:text-lg`,children:Ie}),k.jsx("span",{className:`text-xs sm:text-sm font-semibold text-center ${ae?"text-slate-50":le?"text-slate-200":Ae}`,children:i(De)})]})},he=({icon:X,label:oe,value:De,iconClassName:_e="text-sky-300"})=>k.jsxs("div",{className:"flex items-start py-2.5",children:[k.jsx("span",{className:`mr-3.5 mt-0.5 flex-shrink-0 ${_e}`,children:X}),k.jsxs("div",{className:"flex-grow",children:[k.jsx("strong",{className:"text-slate-100 font-medium block text-sm",children:oe}),k.jsx("span",{className:"text-slate-300 text-sm leading-relaxed",children:De})]})]}),se=()=>{switch(a){case 1:return k.jsx("div",{children:k.jsx(pn,{className:"max-w-xl mx-auto shadow-2xl !rounded-2xl",useGlassEffect:!0,children:k.jsxs("div",{className:"space-y-8",children:[k.jsx(T5,{onFileUpload:Me,acceptedFileTypes:".pdf,.txt,.docx,.jpg,.png,.jpeg",maxFileSizeMB:10,label:k.jsx("p",{className:"text-base font-semibold text-slate-100 mb-2",children:i("step1UploadOrDrag")}),icon:k.jsx("img",{src:"https://img.icons8.com/?size=256&id=hwKgsZN5Is2H&format=png",alt:i("upload"),className:"w-12 h-12 sm:w-14 sm:h-14 mb-3.5 text-slate-500 group-hover:text-sky-400 transition-colors"}),isLoading:K,currentFile:u}),K&&V>0&&k.jsx(nu,{progress:V,label:i("step1ProcessingFile"),className:"mt-4"}),k.jsxs("div",{className:"relative flex py-1 items-center",children:[k.jsx("div",{className:"flex-grow border-t border-slate-600/70"}),k.jsx("span",{className:"flex-shrink mx-4 text-slate-400 text-xs font-medium uppercase tracking-wider",children:i("step1Or")}),k.jsx("div",{className:"flex-grow border-t border-slate-600/70"})]}),k.jsx(Qa,{label:k.jsx("p",{className:"text-base font-semibold text-slate-100",children:i("step1PasteTextLabel")}),value:h,onChange:le=>p(le.target.value),placeholder:i("step1PasteTextPlaceholder"),rows:6,className:"min-h-[150px] text-sm"}),k.jsx(Je,{onClick:ze,disabled:!h.trim()||K,fullWidth:!0,size:"lg",variant:"secondary",className:"py-3 shadow-lg",children:i("step1UsePastedText")}),te&&!K&&k.jsx("div",{role:"alert",className:"p-3.5 bg-red-500/20 border border-red-500/50 rounded-lg text-sm text-red-300 text-center shadow-md",children:te})]})})});case 2:const X=k.jsxs("div",{className:"flex items-center text-sm font-semibold text-slate-100",children:[k.jsx("img",{src:"https://www.pngall.com/wp-content/uploads/16/Google-Gemini-Logo-Transparent.png",alt:i("step2AIModelLabel"),className:"w-5 h-5 mr-2.5"}),i("step2AIModelLabel"),Re()&&k.jsx(li,{content:i("apiKeyMissingTooltip"),placement:"top",children:k.jsx(w5,{className:"w-4 h-4 text-yellow-400 ml-2.5 cursor-help"})})]}),oe=k.jsxs("div",{className:"flex items-center text-sm font-medium text-slate-200",children:[i("step2CustomPromptLabel"),k.jsx(li,{content:k.jsx("div",{className:"max-w-xs text-left text-xs",children:i("step2CustomPromptPlaceholder")}),placement:"top",children:k.jsx(oU,{className:"w-4 h-4 text-slate-500 ml-2.5 cursor-help"})})]}),De=[{value:"Easy",label:i("step2DifficultyEasy")},{value:"Medium",label:i("step2DifficultyMedium")},{value:"Hard",label:i("step2DifficultyHard")}],_e=[...De,{value:"AI-Determined",label:i("step2DifficultyAIDetermined")}],fe=i(O?"step2NumQuestionsLabelAIMode":"step2NumQuestionsLabel");return k.jsxs("div",{children:[k.jsx(pn,{className:"max-w-2xl mx-auto shadow-2xl !rounded-2xl",useGlassEffect:!0,children:k.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[k.jsxs(pn,{className:"!bg-slate-700/70 !border-slate-600/70 p-4 sm:p-5 !rounded-xl shadow-lg",useGlassEffect:!1,children:[k.jsx("h3",{className:"text-sm font-semibold text-slate-200 mb-2.5",children:i("step2SourceContent")}),k.jsxs("div",{className:"flex items-center text-sm text-slate-300 overflow-x-auto overflow-y-hidden whitespace-nowrap cursor-default thin-scrollbar-horizontal py-0.5",children:[k.jsx(xv,{className:"w-5 h-5 mr-3 text-sky-400 flex-shrink-0",strokeWidth:1.5}),k.jsx("span",{className:"pr-1",children:u?v?i("step2Image",{fileName:u.name}):i("step2File",{fileName:u.name}):h?i("step2PastedText"):"N/A"})]}),g&&k.jsx(Je,{variant:"secondary",onClick:()=>pe(!0),className:"text-xs !font-semibold mt-3.5 py-2 px-4 rounded-lg shadow-md hover:shadow-slate-900/50",leftIcon:k.jsx(xv,{className:"w-4 h-4",strokeWidth:2}),children:i("step2ViewFullText")})]}),k.jsx(Ip,{label:k.jsx("p",{className:"text-base font-semibold text-slate-100",children:i("step2QuizTitleLabel")}),name:"quizTitle",value:E,onChange:le=>C(le.target.value),placeholder:i("step2QuizTitlePlaceholder"),inputClassName:"text-lg py-3"}),k.jsxs(pn,{className:"!bg-slate-700/70 !border-slate-600/70 p-4 sm:p-5 !rounded-xl shadow-lg",useGlassEffect:!1,children:[X,k.jsxs("p",{className:"text-sm text-slate-300 mt-1.5",children:["Google Gemini ",k.jsx("span",{className:"font-medium",children:Re()?k.jsxs("span",{className:"text-yellow-400",children:["(",i("apiKeyMissingShort"),")"]}):k.jsxs("span",{className:"text-green-400",children:["(",i("default"),")"]})})]})]}),k.jsxs(pn,{className:"p-4 sm:p-5 !border-slate-600/70 !rounded-xl !bg-slate-800/70 shadow-lg space-y-5",useGlassEffect:!1,children:[k.jsx(x0,{label:k.jsx("p",{className:"text-base font-semibold text-slate-100",children:i("step2AIModeLabel")}),checked:O,onChange:Ke,description:i("step2AIModeDesc")}),k.jsx(Ip,{label:fe,type:"number",name:"numQuestions",value:B.numQuestions,onChange:Ge,min:O?"0":"1",max:"50",containerClassName:O?"mt-4":"",placeholder:O&&B.numQuestions===0?i("step2NumQuestionsAIPlaceholder"):void 0}),k.jsx(Fp,{label:i("step2DifficultyLabel"),name:"difficulty",value:B.difficulty,onChange:Ge,options:O?_e:De,disabled:O}),k.jsx(Fp,{label:i("step2LanguageLabel"),name:"language",value:B.language,onChange:Ge,options:[{value:"English",label:i("step2LanguageEnglish")},{value:"Vietnamese",label:i("step2LanguageVietnamese")}]})]}),k.jsx(Qa,{label:oe,name:"customUserPrompt",value:R,onChange:le=>U(le.target.value),placeholder:i("step2CustomPromptPlaceholder").substring(0,60)+"...",rows:4,className:"min-h-[90px] text-sm"}),te&&k.jsx("div",{role:"alert",className:"p-3.5 bg-red-500/20 border border-red-500/50 rounded-lg text-sm text-red-300 text-center shadow-md",children:te}),k.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center pt-5 gap-4",children:[k.jsxs(Je,{variant:"outline",onClick:()=>{l(1),y(null),x(null),d(null),p(""),j(null),D(null)},leftIcon:k.jsx(b0,{className:"w-4 h-4"}),size:"lg",className:"w-full sm:w-auto py-3",children:[" ",i("back")," "]}),k.jsxs(Je,{onClick:()=>{l(3),j(null)},disabled:Re()&&B.selectedModel===Ts,rightIcon:k.jsx(eu,{className:"w-4 h-4"}),variant:"primary",size:"lg",tooltip:Re()&&B.selectedModel===Ts?i("apiKeyMissingTooltip"):void 0,className:"w-full sm:w-auto py-3",children:[" ",i("step2NextButton")," "]})]})]})}),re&&k.jsx(ul,{isOpen:re,onClose:()=>pe(!1),title:i("fullTextModalTitle"),size:"3xl",footerContent:k.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between items-center w-full gap-3 sm:gap-0",children:[k.jsx(Je,{variant:"outline",onClick:at,leftIcon:k.jsx("img",{src:"https://img.icons8.com/?size=256&id=rByZVfKrdkJo&format=png",alt:"Copy",className:"w-4 h-4"}),size:"md",className:"w-full sm:w-auto",children:i(be?"azotaExportCopied":"azotaExportCopy")}),k.jsx(Je,{onClick:()=>pe(!1),variant:"secondary",size:"md",className:"w-full sm:w-auto",children:i("close")})]}),children:k.jsx(Qa,{value:g||"",readOnly:!0,className:"!bg-slate-700/70 !border-slate-600/50 text-slate-100 whitespace-pre-wrap text-sm min-h-[60vh] max-h-[65vh] shadow-inner focus:!border-sky-400/70 focus:!ring-sky-400/40",rows:20,"aria-label":i("fullTextModalTitle")})})]});case 3:const ae="w-5 h-5";return k.jsx("div",{children:k.jsxs(pn,{className:"max-w-xl mx-auto shadow-2xl !rounded-2xl",useGlassEffect:!0,children:[k.jsxs("div",{className:"!bg-slate-700/70 p-6 sm:p-8 !rounded-xl mb-8 border border-slate-600/70 shadow-xl",children:[k.jsx("h3",{className:"text-2xl sm:text-3xl font-semibold text-slate-50 mb-6 text-center",children:i("step3SummaryTitle")}),k.jsxs("div",{className:"space-y-1 divide-y divide-slate-600/50",children:[k.jsx(he,{icon:k.jsx("img",{src:"https://www.pngall.com/wp-content/uploads/16/Google-Gemini-Logo-Transparent.png",alt:i("step2AIModelLabel"),className:ae}),label:i("step3AIModelSelected",{modelName:""}),value:"Google Gemini"}),k.jsx(he,{icon:k.jsx(xv,{className:ae}),label:i("step3TitleSuggestion",{title:""}),value:k.jsx(on,{text:E||i("step3TitleAISuggested")})}),k.jsx(he,{icon:k.jsx("img",{src:"https://img.icons8.com/?size=256&id=hwKgsZN5Is2H&format=png",alt:i("upload"),className:ae}),label:i("step3ContentSource",{source:""}),value:u?v?i("step2Image",{fileName:u.name}):i("step2File",{fileName:u.name}):h?i("step2PastedText"):"N/A"}),k.jsx(he,{icon:k.jsx("img",{src:"https://img.icons8.com/?size=256&id=WwHcZxa9PFUq&format=png",alt:i("settings"),className:ae}),label:i("step3Mode",{mode:""}),value:O?i("step3ModeAIOptimized"):"Manual"}),k.jsx(he,{icon:k.jsx("img",{src:"https://img.icons8.com/?size=256&id=PPnPJOpQpJ2J&format=png",alt:i("step3NumQuestions",{count:""}),className:ae}),label:i("step3NumQuestions",{count:""}),value:O&&B.numQuestions===0?i("step2NumQuestionsAIPlaceholder"):B.numQuestions}),k.jsx(he,{icon:k.jsx(v5,{className:ae}),label:i("step3Difficulty",{level:""}),value:B.difficulty==="AI-Determined"?i("step2DifficultyAIDetermined"):i(`step2Difficulty${B.difficulty}`)}),k.jsx(he,{icon:k.jsx("img",{src:"https://img.icons8.com/?size=48&id=fs8AdHsHlO36&format=png",alt:"Language",className:ae}),label:i("step3Language",{lang:""}),value:B.language==="English"?i("step2LanguageEnglish"):i("step2LanguageVietnamese")}),k.jsx("div",{className:"pt-2.5",children:k.jsx(he,{icon:k.jsx(oU,{className:ae}),label:R.trim()?i("step3CustomPromptProvidedLabel"):i("step3CustomPromptNone"),value:R.trim()?k.jsx("blockquote",{className:"text-xs text-slate-300/90 italic whitespace-pre-wrap max-h-24 overflow-y-auto bg-slate-700/40 p-2 rounded-md mt-1 border-l-2 border-slate-500/70",children:k.jsx(on,{text:R.trim()})}):""})})]})]}),Re()&&B.selectedModel===Ts&&k.jsxs("div",{role:"alert",className:"my-5 p-3.5 bg-red-500/20 border border-red-500/50 rounded-lg text-sm text-red-300 text-center shadow-md",children:[k.jsxs("strong",{className:"font-semibold",children:[i("error"),"!"]})," ",i("step3ErrorAPIKeyMissingForModel",{modelName:"Google Gemini"})]}),k.jsx(Je,{onClick:ft,isLoading:q,disabled:q||Re()&&B.selectedModel===Ts,fullWidth:!0,size:"lg",variant:"primary",leftIcon:k.jsx("img",{src:I,alt:i("step3GenerateButton"),className:"w-5 h-5"}),className:"bg-gradient-to-r from-green-500 via-teal-500 to-sky-500 hover:from-green-600 hover:via-teal-600 hover:to-sky-600 text-white dark:text-white shadow-xl hover:shadow-green-500/40 py-3.5 rounded-xl",children:i(q?"step3GeneratingButton":"step3GenerateButton")}),q&&k.jsx(nu,{progress:V,label:i("step3AIIsThinking"),className:"mt-6"}),te&&!q&&k.jsx("div",{role:"alert",className:"mt-5 p-3.5 bg-red-500/20 border border-red-500/50 rounded-lg text-sm text-red-300 text-center shadow-md",children:te}),k.jsxs("div",{className:"mt-8 text-center",children:[" ",k.jsxs(Je,{variant:"outline",onClick:()=>{l(2),j(null)},leftIcon:k.jsx(b0,{className:"w-4 h-4"}),size:"lg",className:"w-full sm:w-auto py-3",children:[" ",i("step3BackButtonCfg")," "]})," "]})]})})}};return k.jsxs("div",{className:"py-6 sm:py-8",children:[k.jsxs("div",{className:"relative mb-10 sm:mb-12",children:[k.jsxs("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:[" ",k.jsx("div",{className:"w-full border-t-2 border-slate-700/60 border-dashed"})," "]}),k.jsxs("div",{className:"relative flex justify-center",children:[" ",k.jsxs("span",{className:"px-5 sm:px-6 bg-slate-900 text-2xl sm:text-3xl font-bold text-slate-50 tracking-tight",children:[" ",i("createQuiz")," "]})," "]})]}),k.jsx("div",{className:"mb-8 sm:mb-10 text-center px-4",children:k.jsxs("p",{className:"text-xs text-slate-400",children:[i("rateLimitInfoUnauthenticated",{limit:R_})," ",i("rateLimitInfoAuthenticated")]})}),k.jsxs("div",{className:"max-w-lg mx-auto mb-12 sm:mb-16 flex justify-around items-start p-4 sm:p-5 bg-slate-800/70 rounded-2xl shadow-xl border border-slate-700/70 glass-effect",children:[ye(a,1,"step1Title",k.jsx("img",{src:"https://img.icons8.com/?size=256&id=hwKgsZN5Is2H&format=png",alt:i("step1Title")})),k.jsxs("div",{className:"flex-grow h-1.5 bg-slate-600 rounded-full mx-3 sm:mx-5 mt-5 sm:mt-[1.375rem]",children:[" ",k.jsx("div",{className:"h-1.5 bg-sky-400 rounded-full transition-all duration-500 ease-out",style:{width:a===1?"0%":a===2?"50%":"100%"}})," "]}),ye(a,2,"step2Title",k.jsx("img",{src:"https://img.icons8.com/?size=256&id=WwHcZxa9PFUq&format=png",alt:i("step2Title")})),k.jsxs("div",{className:"flex-grow h-1.5 bg-slate-600 rounded-full mx-3 sm:mx-5 mt-5 sm:mt-[1.375rem]",children:[" ",k.jsx("div",{className:"h-1.5 bg-sky-400 rounded-full transition-all duration-500 ease-out",style:{width:a<=2?"0%":"100%"}})," "]}),ye(a,3,"step3Title",k.jsx("img",{src:I,alt:i("step3Title"),className:"w-5 h-5 sm:w-6 sm:h-6"}),!0)]}),se()]})};function DN(r){if(!r)return[];const e=[...r];for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}const AN={shuffleQuestions:!1,shuffleAnswers:!1,timeLimit:0},L8=(r,e)=>{const{quizzes:t,activeQuiz:n,setActiveQuiz:i}=Xi(),s=Hi(),a=zr(),{quizId:l}=Oh(),u=r||l,[d,h]=de.useState(null),[p,g]=de.useState(AN),[y,v]=de.useState([]),[x,T]=de.useState(0),[D,E]=de.useState(!0),[C,R]=de.useState(null),U=de.useRef(null);de.useEffect(()=>{let H=!0;return(()=>{if(!u){H&&s("/dashboard");return}const F=a.state,B=(F==null?void 0:F.attemptSettings)||((d==null?void 0:d.id)===u?p:AN);H&&g(B);let N=n&&n.id===u?n:t.find(K=>K.id===u);if(N){if(H){h(N),(!n||n.id!==N.id)&&i(N);let K=N.questions;B.shuffleQuestions&&(K=DN([...N.questions])),v(K),T(0),B.timeLimit>0?R(B.timeLimit*60):R(null)}}else H&&s("/dashboard");H&&E(!1)})(),()=>{H=!1,U.current&&clearInterval(U.current)}},[u,t,n,s,i,a.state]),de.useEffect(()=>{if(C===null){U.current&&clearInterval(U.current);return}if(C<=0){U.current&&clearInterval(U.current),d&&(e!=null&&e.onTimeUp)&&e.onTimeUp();return}return U.current=window.setInterval(()=>{R(H=>H?H-1:0)},1e3),()=>{U.current&&clearInterval(U.current)}},[C,d,e]);const M=de.useMemo(()=>{if(!y||y.length===0||x>=y.length)return;const H=y[x];return H&&p.shuffleAnswers?{...H,options:DN([...H.options])}:H},[y,x,p.shuffleAnswers]),O=de.useCallback(()=>x<y.length-1?(T(H=>H+1),!0):!1,[x,y.length]),W=de.useCallback(()=>x>0?(T(H=>H-1),!0):!1,[x]);return{localActiveQuiz:d,shuffledQuestions:y,currentQuestion:M,currentQuestionIndex:x,loading:D,timeLeft:C,attemptSettings:p,goToNextQuestion:O,goToPreviousQuestion:W,formatTime:H=>{const ne=Math.floor(H/60),F=H%60;return`${ne.toString().padStart(2,"0")}:${F.toString().padStart(2,"0")}`},totalQuestions:y.length,setShuffledQuestions:v,setCurrentQuestionIndex:T}},$X=()=>{var N;const{setQuizResult:r}=Xi(),{t:e}=Ui(),{quizId:t}=Oh(),n=Hi(),[i,s]=de.useState({}),[a,l]=de.useState(null),[u,d]=de.useState(!1),[h,p]=de.useState(!1),g=de.useCallback(()=>{p(!0)},[]),{localActiveQuiz:y,currentQuestion:v,currentQuestionIndex:x,loading:T,timeLeft:D,goToNextQuestion:E,goToPreviousQuestion:C,formatTime:R,totalQuestions:U,attemptSettings:M}=L8(t,{onTimeUp:g});de.useEffect(()=>{v&&i[v.id]?l(i[v.id]):l(null)},[v,i]);const O=K=>{l(K)},W=de.useCallback(()=>{v&&a&&s(K=>({...K,[v.id]:a}))},[v,a]),L=de.useCallback(()=>{if(!y)return;W();let K=0;const P=[];y.questions.forEach(te=>{const j=i[te.id];j?(P.push({questionId:te.id,answer:j}),j===te.correctAnswer&&K++):P.push({questionId:te.id,answer:""})});const q=U>0?K/U*100:0,ie={quizId:y.id,score:parseFloat(q.toFixed(2)),answers:P,totalCorrect:K,totalQuestions:U,timeTaken:M.timeLimit>0?M.timeLimit*60-(D||0):void 0};r(ie),d(!1),p(!1),n(`/results/${y.id}`)},[y,i,D,r,n,W,U,M.timeLimit]),H=()=>{y&&(W(),E()||d(!0))},ne=()=>{W(),C()};if(T||!y)return k.jsx(dl,{text:e("quizTakingLoading"),className:"mt-24",size:"xl"});if(!v)return k.jsxs(pn,{className:"max-w-3xl mx-auto shadow-2xl !rounded-2xl",useGlassEffect:!0,children:[k.jsx(dl,{text:e("quizTakingLoading")}),k.jsx("p",{className:"text-center text-slate-300 mt-4",children:e("quizTakingErrorQuestionNotFound")})]});const F=U>0?(x+1)/U*100:0,B=x===U-1;return k.jsxs(pn,{className:"max-w-3xl mx-auto shadow-2xl !border-slate-700/40 !rounded-2xl",useGlassEffect:!0,children:[k.jsxs("div",{className:"mb-8 sm:mb-10",children:[k.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-50 mb-3 sm:mb-4 leading-tight tracking-tight line-clamp-2",title:y.title,children:k.jsx(on,{text:y.title})}),k.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-300 mb-4 sm:mb-5",children:[k.jsx("span",{children:e("quizTakingQuestionProgress",{current:x+1,total:U})}),((N=y.config)==null?void 0:N.customUserPrompt)&&k.jsx(li,{content:k.jsx("div",{className:"max-w-xs text-left text-xs",children:k.jsx(on,{text:y.config.customUserPrompt})}),placement:"bottom-end",children:k.jsx(x5,{className:"w-5 h-5 text-yellow-300 cursor-help"})}),D!==null&&k.jsx("span",{className:`font-semibold ${D<=60?"text-red-400 animate-pulse":"text-sky-300"}`,children:e("quizTakingTimeLeft",{time:R(D)})})]}),k.jsx(nu,{progress:F,size:"lg",barClassName:"bg-gradient-to-r from-sky-500 to-indigo-500"})]}),k.jsx("div",{children:k.jsxs("div",{className:"mb-8 sm:mb-10 p-5 sm:p-8 bg-slate-700/60 rounded-xl shadow-inner border border-slate-600/70 min-h-[280px] flex flex-col",children:[k.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-100 mb-6 sm:mb-8 leading-relaxed",children:k.jsx(on,{text:v.questionText})}),k.jsx("div",{className:"flex-grow",children:k.jsx("div",{className:"space-y-3.5 sm:space-y-4",children:v.options.map((K,P)=>{const q=a===K;let ie="bg-slate-600 hover:bg-slate-500/80 border-slate-500 hover:border-sky-500 text-slate-100 hover:scale-[1.02]",te=k.jsx(Tp,{className:"w-6 h-6 text-slate-400 group-hover:text-sky-400",strokeWidth:2.5});return q&&(ie="bg-sky-500/50 border-sky-400 text-sky-50 font-semibold hover:bg-sky-500/60 scale-105",te=k.jsx(Tp,{className:"w-6 h-6 text-sky-50",isFilled:!0,strokeWidth:1})),k.jsxs("button",{onClick:()=>O(K),className:`w-full flex items-center text-left p-3.5 sm:p-4 rounded-xl border-2 transition-all duration-200 ease-out transform focus:outline-none focus-visible:ring-4 focus-visible:ring-sky-400/50 focus-visible:ring-offset-2 ${q?"focus-visible:ring-offset-white":"focus-visible:ring-offset-slate-700"} shadow-lg ${ie}`,"aria-pressed":q,children:[k.jsx("span",{className:"mr-3.5 flex-shrink-0",children:te}),k.jsxs("span",{className:"text-sm sm:text-base flex-grow",children:[" ",k.jsx(on,{text:K})," "]})]},P)})})})]})}),k.jsxs("div",{className:"flex flex-col space-y-3 pt-6 sm:pt-8 border-t border-slate-700/60",children:[k.jsx(Je,{onClick:H,disabled:!a,variant:"primary",size:"lg",rightIcon:k.jsx(eu,{className:"w-5 h-5"}),className:"w-full py-3 rounded-xl",children:e(B?"submit":"nextQuestion")}),k.jsxs("div",{className:"flex justify-between items-center pt-3",children:[k.jsx(Je,{onClick:ne,disabled:x===0,variant:"outline",size:"md",leftIcon:k.jsx(b0,{className:"w-4 h-4"}),className:"py-2.5 px-5 rounded-lg",children:e("previous")}),k.jsx(Je,{onClick:()=>d(!0),variant:"outline",size:"md",className:"py-2.5 px-5 rounded-lg",children:e("quizTakingSubmitQuiz")})]})]}),u&&k.jsx(ul,{isOpen:u,onClose:()=>d(!1),title:e("quizTakingSubmitQuiz"),size:"md",footerContent:k.jsxs("div",{className:"flex justify-end gap-3.5",children:[k.jsx(Je,{variant:"secondary",onClick:()=>d(!1),size:"md",children:e("cancel")}),k.jsx(Je,{variant:"primary",onClick:L,size:"md",children:e("submit")})]}),children:k.jsx("p",{className:"text-slate-200 text-base leading-relaxed",children:e("submitConfirmationMessage")})}),h&&k.jsx(ul,{isOpen:h,onClose:()=>{p(!1),L()},title:e("timesUp"),size:"md",hideCloseButton:!0,footerContent:k.jsx("div",{className:"flex justify-center",children:k.jsx(Je,{variant:"primary",onClick:()=>{p(!1),L()},size:"md",children:e("timesUpSubmit")})}),children:k.jsx("p",{className:"text-slate-200 text-base leading-relaxed text-center",children:e("timesUpMessage")})})]})},XX=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>hs(async()=>{const{default:n}=await Promise.resolve().then(()=>qh);return{default:n}},[]).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class XD extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class QX extends XD{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class YX extends XD{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class KX extends XD{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ET;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(ET||(ET={}));var ZX=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function l(h){try{d(n.next(h))}catch(p){a(p)}}function u(h){try{d(n.throw(h))}catch(p){a(p)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((n=n.apply(r,e||[])).next())})};class JX{constructor(e,{headers:t={},customFetch:n,region:i=ET.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=XX(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return ZX(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=t;let l={},{region:u}=t;u||(u=this.region),u&&u!=="any"&&(l["x-region"]=u);let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const h=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(v=>{throw new QX(v)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new YX(h);if(!h.ok)throw new KX(h);let g=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return g==="application/json"?y=yield h.json():g==="application/octet-stream"?y=yield h.blob():g==="text/event-stream"?y=h:g==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null}}catch(i){return{data:null,error:i}}})}}var Gn={},ld={},cd={},ud={},dd={},hd={},eQ=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Fh=eQ();const tQ=Fh.fetch,O8=Fh.fetch.bind(Fh),P8=Fh.Headers,nQ=Fh.Request,iQ=Fh.Response,qh=Object.freeze(Object.defineProperty({__proto__:null,Headers:P8,Request:nQ,Response:iQ,default:O8,fetch:tQ},Symbol.toStringTag,{value:"Module"})),rQ=KN(qh);var fv={},EN;function B8(){if(EN)return fv;EN=1,Object.defineProperty(fv,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return fv.default=r,fv}var CN;function z8(){if(CN)return hd;CN=1;var r=hd&&hd.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(hd,"__esModule",{value:!0});const e=r(rQ),t=r(B8());class n{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=Object.assign({},this.headers),this.headers[s]=a,this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,p,g;let y=null,v=null,x=null,T=d.status,D=d.statusText;if(d.ok){if(this.method!=="HEAD"){const U=await d.text();U===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?v=U:v=JSON.parse(U))}const C=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),R=(p=d.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");C&&R&&R.length>1&&(x=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(y={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,x=null,T=406,D="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const C=await d.text();try{y=JSON.parse(C),Array.isArray(y)&&d.status===404&&(v=[],y=null,T=200,D="OK")}catch{d.status===404&&C===""?(T=204,D="No Content"):y={message:C}}if(y&&this.isMaybeSingle&&(!((g=y==null?void 0:y.details)===null||g===void 0)&&g.includes("0 rows"))&&(y=null,T=200,D="OK"),y&&this.shouldThrowOnError)throw new t.default(y)}return{error:y,data:v,count:x,status:T,statusText:D}});return this.shouldThrowOnError||(u=u.catch(d=>{var h,p,g;return{error:{message:`${(h=d==null?void 0:d.name)!==null&&h!==void 0?h:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(p=d==null?void 0:d.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(g=d==null?void 0:d.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),u.then(s,a)}returns(){return this}overrideTypes(){return this}}return hd.default=n,hd}var SN;function q8(){if(SN)return dd;SN=1;var r=dd&&dd.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(dd,"__esModule",{value:!0});const e=r(z8());class t extends e.default{select(i){let s=!1;const a=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:l=a}={}){const u=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(d,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:l=!1,wal:u=!1,format:d="text"}={}){var h;const p=[i?"analyze":null,s?"verbose":null,a?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${g}"; options=${p};`,d==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return dd.default=t,dd}var UN;function QD(){if(UN)return ud;UN=1;var r=ud&&ud.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ud,"__esModule",{value:!0});const e=r(q8());class t extends e.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const a=Array.from(new Set(s)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${d}.${s}`),this}match(i){return Object.entries(i).forEach(([s,a])=>{this.url.searchParams.append(s,`eq.${a}`)}),this}not(i,s,a){return this.url.searchParams.append(i,`not.${s}.${a}`),this}or(i,{foreignTable:s,referencedTable:a=s}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,s,a){return this.url.searchParams.append(i,`${s}.${a}`),this}}return ud.default=t,ud}var kN;function W8(){if(kN)return cd;kN=1;var r=cd&&cd.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(cd,"__esModule",{value:!0});const e=r(QD());class t{constructor(i,{headers:s={},schema:a,fetch:l}){this.url=i,this.headers=s,this.schema=a,this.fetch=l}select(i,{head:s=!1,count:a}={}){const l=s?"HEAD":"GET";let u=!1;const d=(i??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),a&&(this.headers.Prefer=`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:a=!0}={}){const l="POST",u=[];if(this.headers.Prefer&&u.push(this.headers.Prefer),s&&u.push(`count=${s}`),a||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(i)){const d=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:l,defaultToNull:u=!0}={}){const d="POST",h=[`resolution=${a?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&h.push(this.headers.Prefer),l&&h.push(`count=${l}`),u||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(i)){const p=i.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(p.length>0){const g=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const a="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),this.headers.Prefer=l.join(","),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",a=[];return i&&a.push(`count=${i}`),this.headers.Prefer&&a.unshift(this.headers.Prefer),this.headers.Prefer=a.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return cd.default=t,cd}var tp={},np={},RN;function sQ(){return RN||(RN=1,Object.defineProperty(np,"__esModule",{value:!0}),np.version=void 0,np.version="0.0.0-automated"),np}var NN;function aQ(){if(NN)return tp;NN=1,Object.defineProperty(tp,"__esModule",{value:!0}),tp.DEFAULT_HEADERS=void 0;const r=sQ();return tp.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`},tp}var MN;function oQ(){if(MN)return ld;MN=1;var r=ld&&ld.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ld,"__esModule",{value:!0});const e=r(W8()),t=r(QD()),n=aQ();class i{constructor(a,{headers:l={},schema:u,fetch:d}={}){this.url=a,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),l),this.schemaName=u,this.fetch=d}from(a){const l=new URL(`${this.url}/${a}`);return new e.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new i(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:u=!1,get:d=!1,count:h}={}){let p;const g=new URL(`${this.url}/rpc/${a}`);let y;u||d?(p=u?"HEAD":"GET",Object.entries(l).filter(([x,T])=>T!==void 0).map(([x,T])=>[x,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([x,T])=>{g.searchParams.append(x,T)})):(p="POST",y=l);const v=Object.assign({},this.headers);return h&&(v.Prefer=`count=${h}`),new t.default({method:p,url:g,headers:v,schema:this.schemaName,body:y,fetch:this.fetch,allowEmpty:!1})}}return ld.default=i,ld}var IN;function lQ(){if(IN)return Gn;IN=1;var r=Gn&&Gn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.PostgrestError=Gn.PostgrestBuilder=Gn.PostgrestTransformBuilder=Gn.PostgrestFilterBuilder=Gn.PostgrestQueryBuilder=Gn.PostgrestClient=void 0;const e=r(oQ());Gn.PostgrestClient=e.default;const t=r(W8());Gn.PostgrestQueryBuilder=t.default;const n=r(QD());Gn.PostgrestFilterBuilder=n.default;const i=r(q8());Gn.PostgrestTransformBuilder=i.default;const s=r(z8());Gn.PostgrestBuilder=s.default;const a=r(B8());return Gn.PostgrestError=a.default,Gn.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:a.default},Gn}var cQ=lQ();const uQ=Tm(cQ),{PostgrestClient:dQ,PostgrestQueryBuilder:fK,PostgrestFilterBuilder:pK,PostgrestTransformBuilder:gK,PostgrestBuilder:mK,PostgrestError:yK}=uQ,hQ="2.11.2",fQ={"X-Client-Info":`realtime-js/${hQ}`},pQ="1.0.0",j8=1e4,gQ=1e3;var kd;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(kd||(kd={}));var ar;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(ar||(ar={}));var ds;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(ds||(ds={}));var CT;(function(r){r.websocket="websocket"})(CT||(CT={}));var nc;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(nc||(nc={}));class mQ{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const i=t.getUint8(1),s=t.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(e.slice(a,a+i));a=a+i;const u=n.decode(e.slice(a,a+s));a=a+s;const d=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:u,payload:d}}}class V8{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nn;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(nn||(nn={}));const FN=(r,e,t={})=>{var n;const i=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,a)=>(s[a]=yQ(a,r,e,i),s),{})},yQ=(r,e,t,n)=>{const i=e.find(l=>l.name===r),s=i==null?void 0:i.type,a=t[r];return s&&!n.includes(s)?H8(s,a):ST(a)},H8=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return _Q(e,t)}switch(r){case nn.bool:return vQ(e);case nn.float4:case nn.float8:case nn.int2:case nn.int4:case nn.int8:case nn.numeric:case nn.oid:return bQ(e);case nn.json:case nn.jsonb:return xQ(e);case nn.timestamp:return wQ(e);case nn.abstime:case nn.date:case nn.daterange:case nn.int4range:case nn.int8range:case nn.money:case nn.reltime:case nn.text:case nn.time:case nn.timestamptz:case nn.timetz:case nn.tsrange:case nn.tstzrange:return ST(e);default:return ST(e)}},ST=r=>r,vQ=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},bQ=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},xQ=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},_Q=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let s;const a=r.slice(1,t);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>H8(e,l))}return r},wQ=r=>typeof r=="string"?r.replace(" ","T"):r,G8=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class M_{constructor(e,t,n={},i=j8){this.channel=e,this.event=t,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var LN;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(LN||(LN={}));class Sp{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sp.syncState(this.state,i,s,a),this.pendingDiffs.forEach(u=>{this.state=Sp.syncDiff(this.state,u,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Sp.syncDiff(this.state,i,s,a),l())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,i){const s=this.cloneDeep(e),a=this.transformState(t),l={},u={};return this.map(s,(d,h)=>{a[d]||(u[d]=h)}),this.map(a,(d,h)=>{const p=s[d];if(p){const g=h.map(T=>T.presence_ref),y=p.map(T=>T.presence_ref),v=h.filter(T=>y.indexOf(T.presence_ref)<0),x=p.filter(T=>g.indexOf(T.presence_ref)<0);v.length>0&&(l[d]=v),x.length>0&&(u[d]=x)}else l[d]=h}),this.syncDiff(s,{joins:l,leaves:u},n,i)}static syncDiff(e,t,n,i){const{joins:s,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(l,u)=>{var d;const h=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(u),h.length>0){const p=e[l].map(y=>y.presence_ref),g=h.filter(y=>p.indexOf(y.presence_ref)<0);e[l].unshift(...g)}n(l,h,u)}),this.map(a,(l,u)=>{let d=e[l];if(!d)return;const h=u.map(p=>p.presence_ref);d=d.filter(p=>h.indexOf(p.presence_ref)<0),e[l]=d,i(l,d,u),d.length===0&&delete e[l]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const i=e[n];return"metas"in i?t[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[n]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ON;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(ON||(ON={}));var PN;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(PN||(PN={}));var ba;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(ba||(ba={}));class YD{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=ar.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new M_(this,ds.join,this.params,this.timeout),this.rejoinTimer=new V8(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ar.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ar.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ar.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ds.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Sp(this),this.broadcastEndpointURL=G8(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:a,private:l}}=this.params;this._onError(h=>e==null?void 0:e(ba.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(ba.CLOSED));const u={},d={broadcast:s,presence:a,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:h})=>{var p;if(this.socket.setAuth(),h===void 0){e==null||e(ba.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(p=g==null?void 0:g.length)!==null&&p!==void 0?p:0,v=[];for(let x=0;x<y;x++){const T=g[x],{filter:{event:D,schema:E,table:C,filter:R}}=T,U=h&&h[x];if(U&&U.event===D&&U.schema===E&&U.table===C&&U.filter===R)v.push(Object.assign(Object.assign({},T),{id:U.id}));else{this.unsubscribe(),e==null||e(ba.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(ba.SUBSCRIBED);return}}).receive("error",h=>{e==null||e(ba.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ba.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:a}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,u;const d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ar.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ds.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new M_(this,ds.leave,{},e);i.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,t,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(s),a}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new M_(this,e,t,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var i,s;const a=e.toLocaleLowerCase(),{close:l,error:u,leave:d,join:h}=ds;if(n&&[l,u,d,h].indexOf(a)>=0&&n!==this._joinRef())return;let g=this._onMessage(a,t,n);if(t&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var v,x,T;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((T=(x=y.filter)===null||x===void 0?void 0:x.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===a}).map(y=>y.callback(g,n)):(s=this.bindings[a])===null||s===void 0||s.filter(y=>{var v,x,T,D,E,C;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in y){const R=y.id,U=(v=y.filter)===null||v===void 0?void 0:v.event;return R&&((x=t.ids)===null||x===void 0?void 0:x.includes(R))&&(U==="*"||(U==null?void 0:U.toLocaleLowerCase())===((T=t.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const R=(E=(D=y==null?void 0:y.filter)===null||D===void 0?void 0:D.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return R==="*"||R===((C=t==null?void 0:t.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===a}).map(y=>{if(typeof g=="object"&&"ids"in g){const v=g.data,{schema:x,table:T,commit_timestamp:D,type:E,errors:C}=v;g=Object.assign(Object.assign({},{schema:x,table:T,commit_timestamp:D,eventType:E,new:{},old:{},errors:C}),this._getPayloadRecords(v))}y.callback(g,n)})}_isClosed(){return this.state===ar.closed}_isJoined(){return this.state===ar.joined}_isJoining(){return this.state===ar.joining}_isLeaving(){return this.state===ar.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const i=e.toLocaleLowerCase(),s={type:i,filter:t,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&YD.isEqual(i.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ds.close,{},e)}_onError(e){this._on(ds.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ar.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=FN(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=FN(e.columns,e.old_record)),t}}const TQ=()=>{},DQ=typeof WebSocket<"u",AQ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class EQ{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=fQ,this.params={},this.timeout=j8,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=TQ,this.conn=null,this.sendBuffer=[],this.serializer=new mQ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...l)=>hs(async()=>{const{default:u}=await Promise.resolve().then(()=>qh);return{default:u}},void 0).then(({default:u})=>u(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${e}/${CT.websocket}`,this.httpEndpoint=G8(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=(n=t==null?void 0:t.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(s,a)=>a(JSON.stringify(s)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new V8(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(DQ){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new CQ(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),hs(async()=>{const{default:e}=await import("./browser-CdyBH7Yk.js").then(t=>t.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:pQ}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case kd.connecting:return nc.Connecting;case kd.open:return nc.Open;case kd.closing:return nc.Closing;default:return nc.Closed}}isConnected(){return this.connectionState()===nc.Open}channel(e,t={config:{}}){const n=new YD(`realtime:${e}`,t,this);return this.channels.push(n),n}push(e){const{topic:t,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${t} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let n=null;try{n=JSON.parse(atob(t.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=t,this.channels.forEach(i=>{t&&i.updateJoinPayload({access_token:t}),i.joinedOnce&&i._isJoined()&&i._push(ds.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(gQ,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:i,payload:s,ref:a}=t;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${a&&"("+a+")"||""}`,s),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(l=>l(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ds.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${n}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([AQ],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}}class CQ{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=kd.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class KD extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Qn(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class SQ extends KD{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class UT extends KD{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var UQ=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function l(h){try{d(n.next(h))}catch(p){a(p)}}function u(h){try{d(n.throw(h))}catch(p){a(p)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((n=n.apply(r,e||[])).next())})};const $8=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>hs(async()=>{const{default:n}=await Promise.resolve().then(()=>qh);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},kQ=()=>UQ(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield hs(()=>Promise.resolve().then(()=>qh),void 0)).Response:Response}),kT=r=>{if(Array.isArray(r))return r.map(t=>kT(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const i=t.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=kT(n)}),e};var xu=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function l(h){try{d(n.next(h))}catch(p){a(p)}}function u(h){try{d(n.throw(h))}catch(p){a(p)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((n=n.apply(r,e||[])).next())})};const I_=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),RQ=(r,e,t)=>xu(void 0,void 0,void 0,function*(){const n=yield kQ();r instanceof n&&!(t!=null&&t.noResolveJson)?r.json().then(i=>{e(new SQ(I_(i),r.status||500))}).catch(i=>{e(new UT(I_(i),i))}):e(new UT(I_(r),r))}),NQ=(r,e,t,n)=>{const i={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),t))};function Fm(r,e,t,n,i,s){return xu(this,void 0,void 0,function*(){return new Promise((a,l)=>{r(t,NQ(e,n,i,s)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>RQ(u,l,n))})})}function j0(r,e,t,n){return xu(this,void 0,void 0,function*(){return Fm(r,"GET",e,t,n)})}function Po(r,e,t,n,i){return xu(this,void 0,void 0,function*(){return Fm(r,"POST",e,n,i,t)})}function MQ(r,e,t,n,i){return xu(this,void 0,void 0,function*(){return Fm(r,"PUT",e,n,i,t)})}function IQ(r,e,t,n){return xu(this,void 0,void 0,function*(){return Fm(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function X8(r,e,t,n,i){return xu(this,void 0,void 0,function*(){return Fm(r,"DELETE",e,n,i,t)})}var Li=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function l(h){try{d(n.next(h))}catch(p){a(p)}}function u(h){try{d(n.throw(h))}catch(p){a(p)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((n=n.apply(r,e||[])).next())})};const FQ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},BN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class LQ{constructor(e,t={},n,i){this.url=e,this.headers=t,this.bucketId=n,this.fetch=$8(i)}uploadOrUpdate(e,t,n,i){return Li(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},BN),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",this.encodeMetadata(u))):(s=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(t),h=this._getFinalPath(d),p=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:e,body:s,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),g=yield p.json();return p.ok?{data:{path:d,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(s){if(Qn(s))return{data:null,error:s};throw s}})}upload(e,t,n){return Li(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,i){return Li(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",t);try{let u;const d=Object.assign({upsert:BN.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",d.cacheControl)):(u=n,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const p=yield this.fetch(l.toString(),{method:"PUT",body:u,headers:h}),g=yield p.json();return p.ok?{data:{path:s,fullPath:g.Key},error:null}:{data:null,error:g}}catch(u){if(Qn(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,t){return Li(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const s=yield Po(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new KD("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(n){if(Qn(n))return{data:null,error:n};throw n}})}update(e,t,n){return Li(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return Li(this,void 0,void 0,function*(){try{return{data:yield Po(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Qn(i))return{data:null,error:i};throw i}})}copy(e,t,n){return Li(this,void 0,void 0,function*(){try{return{data:{path:(yield Po(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Qn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,n){return Li(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Po(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(Qn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,n){return Li(this,void 0,void 0,function*(){try{const i=yield Po(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(Qn(i))return{data:null,error:i};throw i}})}download(e,t){return Li(this,void 0,void 0,function*(){const i=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=s?`?${s}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield j0(this.fetch,`${this.url}/${i}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Qn(l))return{data:null,error:l};throw l}})}info(e){return Li(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield j0(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:kT(n),error:null}}catch(n){if(Qn(n))return{data:null,error:n};throw n}})}exists(e){return Li(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield IQ(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Qn(n)&&n instanceof UT){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),i=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&i.push(s);const l=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});u!==""&&i.push(u);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(e){return Li(this,void 0,void 0,function*(){try{return{data:yield X8(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Qn(t))return{data:null,error:t};throw t}})}list(e,t,n){return Li(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},FQ),t),{prefix:e||""});return{data:yield Po(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Qn(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const OQ="2.7.1",PQ={"X-Client-Info":`storage-js/${OQ}`};var fd=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function l(h){try{d(n.next(h))}catch(p){a(p)}}function u(h){try{d(n.throw(h))}catch(p){a(p)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((n=n.apply(r,e||[])).next())})};class BQ{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},PQ),t),this.fetch=$8(n)}listBuckets(){return fd(this,void 0,void 0,function*(){try{return{data:yield j0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Qn(e))return{data:null,error:e};throw e}})}getBucket(e){return fd(this,void 0,void 0,function*(){try{return{data:yield j0(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Qn(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return fd(this,void 0,void 0,function*(){try{return{data:yield Po(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Qn(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return fd(this,void 0,void 0,function*(){try{return{data:yield MQ(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Qn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return fd(this,void 0,void 0,function*(){try{return{data:yield Po(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Qn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return fd(this,void 0,void 0,function*(){try{return{data:yield X8(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Qn(t))return{data:null,error:t};throw t}})}}class zQ extends BQ{constructor(e,t={},n){super(e,t,n)}from(e){return new LQ(this.url,this.headers,e,this.fetch)}}const qQ="2.49.8";let wp="";typeof Deno<"u"?wp="deno":typeof document<"u"?wp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wp="react-native":wp="node";const WQ={"X-Client-Info":`supabase-js-${wp}/${qQ}`},jQ={headers:WQ},VQ={schema:"public"},HQ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},GQ={};var $Q=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function l(h){try{d(n.next(h))}catch(p){a(p)}}function u(h){try{d(n.throw(h))}catch(p){a(p)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((n=n.apply(r,e||[])).next())})};const XQ=r=>{let e;return r?e=r:typeof fetch>"u"?e=O8:e=fetch,(...t)=>e(...t)},QQ=()=>typeof Headers>"u"?P8:Headers,YQ=(r,e,t)=>{const n=XQ(t),i=QQ();return(s,a)=>$Q(void 0,void 0,void 0,function*(){var l;const u=(l=yield e())!==null&&l!==void 0?l:r;let d=new i(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",r),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),n(s,Object.assign(Object.assign({},a),{headers:d}))})};var KQ=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function l(h){try{d(n.next(h))}catch(p){a(p)}}function u(h){try{d(n.throw(h))}catch(p){a(p)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((n=n.apply(r,e||[])).next())})};function ZQ(r){return r.endsWith("/")?r:r+"/"}function JQ(r,e){var t,n;const{db:i,auth:s,realtime:a,global:l}=r,{db:u,auth:d,realtime:h,global:p}=e,g={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},h),a),global:Object.assign(Object.assign(Object.assign({},p),l),{headers:Object.assign(Object.assign({},(t=p==null?void 0:p.headers)!==null&&t!==void 0?t:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>KQ(this,void 0,void 0,function*(){return""})};return r.accessToken?g.accessToken=r.accessToken:delete g.accessToken,g}const Q8="2.69.1",Td=30*1e3,RT=3,F_=RT*Td,eY="http://localhost:9999",tY="supabase.auth.token",nY={"X-Client-Info":`gotrue-js/${Q8}`},NT="X-Supabase-Api-Version",Y8={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iY=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rY=6e5;class ZD extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function yt(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class sY extends ZD{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function aY(r){return yt(r)&&r.name==="AuthApiError"}class K8 extends ZD{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class El extends ZD{constructor(e,t,n,i){super(e,n,i),this.name=t,this.status=n}}class Fo extends El{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function oY(r){return yt(r)&&r.name==="AuthSessionMissingError"}class L_ extends El{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pv extends El{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class gv extends El{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lY(r){return yt(r)&&r.name==="AuthImplicitGrantRedirectError"}class zN extends El{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class MT extends El{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function O_(r){return yt(r)&&r.name==="AuthRetryableFetchError"}class qN extends El{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Up extends El{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const WN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jN=` 	
\r=`.split(""),cY=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<jN.length;e+=1)r[jN[e].charCodeAt(0)]=-2;for(let e=0;e<WN.length;e+=1)r[WN[e].charCodeAt(0)]=e;return r})();function Z8(r,e,t){const n=cY[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function VN(r){const e=[],t=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{hY(a,n,t)};for(let a=0;a<r.length;a+=1)Z8(r.charCodeAt(a),i,s);return e.join("")}function uY(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function dY(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}uY(n,e)}}function hY(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if((r>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function fY(r){const e=[],t={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<r.length;i+=1)Z8(r.charCodeAt(i),t,n);return new Uint8Array(e)}function pY(r){const e=[];return dY(r,t=>e.push(t)),new Uint8Array(e)}function gY(r){return Math.round(Date.now()/1e3)+r}function mY(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const Ds=()=>typeof window<"u"&&typeof document<"u",Kl={tested:!1,writable:!1},kp=()=>{if(!Ds())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kl.tested)return Kl.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Kl.tested=!0,Kl.writable=!0}catch{Kl.tested=!0,Kl.writable=!1}return Kl.writable};function yY(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return t.searchParams.forEach((n,i)=>{e[i]=n}),e}const J8=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>hs(async()=>{const{default:n}=await Promise.resolve().then(()=>qh);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},vY=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",e4=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},mv=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},yv=async(r,e)=>{await r.removeItem(e)};class Kb{constructor(){this.promise=new Kb.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Kb.promiseConstructor=Promise;function P_(r){const e=r.split(".");if(e.length!==3)throw new Up("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!iY.test(e[n]))throw new Up("JWT not in base64url format");return{header:JSON.parse(VN(e[0])),payload:JSON.parse(VN(e[1])),signature:fY(e[2]),raw:{header:e[0],payload:e[1]}}}async function bY(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function xY(r,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await r(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function _Y(r){return("0"+r.toString(16)).substr(-2)}function wY(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let i="";for(let s=0;s<56;s++)i+=t.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,_Y).join("")}async function TY(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function DY(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await TY(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pd(r,e,t=!1){const n=wY();let i=n;t&&(i+="/PASSWORD_RECOVERY"),await e4(r,`${e}-code-verifier`,i);const s=await DY(n);return[s,n===s?"plain":"s256"]}const AY=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function EY(r){const e=r.headers.get(NT);if(!e||!e.match(AY))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function CY(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function SY(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var UY=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const tc=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),kY=[502,503,504];async function HN(r){var e;if(!vY(r))throw new MT(tc(r),0);if(kY.includes(r.status))throw new MT(tc(r),r.status);let t;try{t=await r.json()}catch(s){throw new K8(tc(s),s)}let n;const i=EY(r);if(i&&i.getTime()>=Y8["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new qN(tc(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Fo}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new qN(tc(t),r.status,t.weak_password.reasons);throw new sY(tc(t),r.status||500,n)}const RY=(r,e,t,n)=>{const i={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),t))};async function Et(r,e,t,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[NT]||(s[NT]=Y8["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await NY(r,e,t+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function NY(r,e,t,n,i,s){const a=RY(e,n,i,s);let l;try{l=await r(t,Object.assign({},a))}catch(u){throw console.error(u),new MT(tc(u),0)}if(l.ok||await HN(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(u){await HN(u)}}function Lo(r){var e;let t=null;LY(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=gY(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function GN(r){const e=Lo(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function zo(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function MY(r){return{data:r,error:null}}function IY(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:i,verification_type:s}=r,a=UY(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:t,hashed_token:n,redirect_to:i,verification_type:s},u=Object.assign({},a);return{data:{properties:l,user:u},error:null}}function FY(r){return r}function LY(r){return r.access_token&&r.refresh_token&&r.expires_in}var OY=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};class PY{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=J8(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await Et(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(yt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await Et(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:zo})}catch(n){if(yt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=OY(e,["options"]),i=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Et(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:IY,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(yt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Et(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:zo})}catch(t){if(yt(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,i,s,a,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await Et(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:FY});if(h.error)throw h.error;const p=await h.json(),g=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(v.split(";")[1].split("=")[1]);d[`${T}Page`]=x}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(yt(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){try{return await Et(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:zo})}catch(t){if(yt(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await Et(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:zo})}catch(n){if(yt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){try{return await Et(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:zo})}catch(n){if(yt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await Et(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:n}}catch(t){if(yt(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await Et(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(yt(t))return{data:null,error:t};throw t}}}const BY={getItem:r=>kp()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{kp()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{kp()&&globalThis.localStorage.removeItem(r)}};function $N(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function zY(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const gd={debug:!!(globalThis&&kp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class t4 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class qY extends t4{}async function WY(r,e,t){gd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),gd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){gd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,i.name);try{return await t()}finally{gd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,i.name)}}else{if(e===0)throw gd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new qY(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(gd.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}zY();const jY={url:eY,storageKey:tY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nY,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function XN(r,e,t){return await t()}class Vp{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vp.nextInstanceID,Vp.nextInstanceID+=1,this.instanceID>0&&Ds()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},jY),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new PY({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=J8(i.fetch),this.lock=i.lock||XN,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ds()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=WY:this.lock=XN,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:kp()?this.storage=BY:(this.memoryStorage={},this.storage=$N(this.memoryStorage)):(this.memoryStorage={},this.storage=$N(this.memoryStorage)),Ds()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Q8}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=yY(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Ds()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(t,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),lY(s)){const u=(e=s.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return yt(t)?{error:t}:{error:new K8("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,i;try{const s=await Et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Lo}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(yt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var t,n,i;try{let s;if("email"in e){const{email:h,password:p,options:g}=e;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await pd(this.storage,this.storageKey)),s=await Et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:p,data:(t=g==null?void 0:g.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:y,code_challenge_method:v},xform:Lo})}else if("phone"in e){const{phone:h,password:p,options:g}=e;s=await Et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Lo})}else throw new pv("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(yt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:s,password:a,options:l}=e;t=await Et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:GN})}else if("phone"in e){const{phone:s,password:a,options:l}=e;t=await Et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:GN})}else throw new pv("You must provide either an email or phone number and a password");const{data:n,error:i}=t;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new L_}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(t){if(yt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await mv(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(t??"").split("/");try{const{data:s,error:a}=await Et(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Lo});if(await yv(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new L_}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(yt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:t,provider:n,token:i,access_token:s,nonce:a}=e,l=await Et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Lo}),{data:u,error:d}=l;return d?{data:{user:null,session:null},error:d}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new L_}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:d})}catch(t){if(yt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,i,s,a;try{if("email"in e){const{email:l,options:u}=e;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await pd(this.storage,this.storageKey));const{error:p}=await Et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=u==null?void 0:u.data)!==null&&t!==void 0?t:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:l,options:u}=e,{data:d,error:h}=await Et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=u==null?void 0:u.data)!==null&&i!==void 0?i:{},create_user:(s=u==null?void 0:u.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new pv("You must provide either an email or phone number.")}catch(l){if(yt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var t,n;try{let i,s;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await Et(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Lo});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,d=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(i){if(yt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await pd(this.storage,this.storageKey)),await Et(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:MY})}catch(s){if(yt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Fo;const{error:i}=await Et(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(yt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await Et(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:l}=await Et(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new pv("You must provide either an email or phone number and a type")}catch(t){if(yt(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await mv(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<F_:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,d,h)=>(!a&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,d,h))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:zo}):await this._useSession(async t=>{var n,i,s;const{data:a,error:l}=t;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fo}:await Et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:zo})})}catch(t){if(yt(t))return oY(t)&&(await this._removeSession(),await yv(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Fo;const a=i.session;let l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=await pd(this.storage,this.storageKey));const{data:d,error:h}=await Et(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:a.access_token,xform:zo});if(h)throw h;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(yt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Fo;const t=Date.now()/1e3;let n=t,i=!0,s=null;const{payload:a}=P_(e.access_token);if(a.exp&&(n=a.exp,i=n<=t),i){const{session:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:u}=await this._getUser(e.access_token);if(u)throw u;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(yt(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:a,error:l}=t;if(l)throw l;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Fo;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(yt(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Ds())throw new gv("No browser detected.");if(e.error||e.error_description||e.error_code)throw new gv(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new zN("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gv("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new zN("No code detected.");const{data:E,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:u,token_type:d}=e;if(!s||!l||!a||!d)throw new gv("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(l);let g=h+p;u&&(g=parseInt(u));const y=g-h;y*1e3<=Td&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const v=g-p;h-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,g,h):h-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,g,h);const{data:x,error:T}=await this._getUser(s);if(T)throw T;const D={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:g,refresh_token:a,token_type:d,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:D,redirectType:e.type},error:null}}catch(n){if(yt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await mv(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:i,error:s}=t;if(s)return{error:s};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(aY(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await yv(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=mY(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,i;try{const{data:{session:s},error:a}=t;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,t={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await pd(this.storage,this.storageKey,!0));try{return await Et(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(yt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(yt(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:i}=await this._useSession(async s=>{var a,l,u,d,h;const{data:p,error:g}=s;if(g)throw g;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Et(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Ds()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(yt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,i;const{data:s,error:a}=t;if(a)throw a;return await Et(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(yt(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await xY(async i=>(i>0&&await bY(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await Et(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Lo})),(i,s)=>{const a=200*Math.pow(2,i);return s&&O_(s)&&Date.now()+a-n<Td})}catch(n){if(this._debug(t,"error",n),yt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Ds()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await mv(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n)){this._debug(t,"session is not valid"),n!==null&&await this._removeSession();return}const i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<F_;if(this._debug(t,`session has${i?"":" not"} expired with margin of ${F_}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),O_(s)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(t,"error",n),console.error(n);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Fo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Kb;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Fo;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),yt(s)){const a={session:null,error:s};return O_(s)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,t)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await e4(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await yv(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ds()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Td);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Td);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Td}ms, refresh threshold is ${RT} ticks`),i<=RT&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof t4)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ds()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const i=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await pd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:i,error:s}=t;return s?{data:null,error:s}:await Et(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(yt(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,i;const{data:s,error:a}=t;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:d}=await Et(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((i=u==null?void 0:u.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(t){if(yt(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:i,error:s}=t;if(s)return{data:null,error:s};const{data:a,error:l}=await Et(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(t){if(yt(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:i,error:s}=t;return s?{data:null,error:s}:await Et(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(yt(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(e==null?void 0:e.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=P_(i.access_token);let l=null;a.aal&&(l=a.aal);let u=l;((n=(t=i.user.factors)===null||t===void 0?void 0:t.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const h=a.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(a=>a.kid===e);if(n||(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+rY>Date.now()))return n;const{data:i,error:s}=await Et(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new Up("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(a=>a.kid===e),!n)throw new Up("No matching signing key found in JWKS");return n}async getClaims(e,t={keys:[]}){try{let n=e;if(!n){const{data:y,error:v}=await this.getSession();if(v||!y.session)return{data:null,error:v};n=y.session.access_token}const{header:i,payload:s,signature:a,raw:{header:l,payload:u}}=P_(n);if(CY(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:s,header:i,signature:a},error:null}}const d=SY(i.alg),h=await this.fetchJwk(i.kid,t),p=await crypto.subtle.importKey("jwk",h,d,!0,["verify"]);if(!await crypto.subtle.verify(d,p,a,pY(`${l}.${u}`)))throw new Up("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(yt(n))return{data:null,error:n};throw n}}}Vp.nextInstanceID=0;const VY=Vp;class HY extends VY{constructor(e){super(e)}}var GY=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function l(h){try{d(n.next(h))}catch(p){a(p)}}function u(h){try{d(n.throw(h))}catch(p){a(p)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((n=n.apply(r,e||[])).next())})};class $Y{constructor(e,t,n){var i,s,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const l=ZQ(e),u=new URL(l);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:VQ,realtime:GQ,auth:Object.assign(Object.assign({},HQ),{storageKey:d}),global:jQ},p=JQ(n??{},h);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=p.global.headers)!==null&&s!==void 0?s:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=p.auth)!==null&&a!==void 0?a:{},this.headers,p.global.fetch),this.fetch=YQ(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new dQ(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new JX(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new zQ(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return GY(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,storageKey:s,flowType:a,lock:l,debug:u},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new HY({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,flowType:a,lock:l,debug:u,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new EQ(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const XY=(r,e,t)=>new $Y(r,e,t),QY="https://jbuqonmeorldgiwvdror.supabase.co",YY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpidXFvbm1lb3JsZGdpd3Zkcm9yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgzMTY2MDQsImV4cCI6MjA2Mzg5MjYwNH0.vcMUnOgSPAgpigUOkkcopk5XH5AMyNjM772oUqTJGfo",Wr=XY(QY,YY),n4=async()=>{try{const{error:r}=await Wr.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/#/dashboard`}});return r?(console.error("Error signing in with Google:",r),{user:null,error:r.message}):{user:null,error:null}}catch(r){return console.error("Failed to sign in with Google:",r),{user:null,error:"Failed to sign in"}}},i4=async()=>{try{const{error:r}=await Wr.auth.signOut();return r?(console.error("Error signing out:",r),{error:r.message}):{error:null}}catch(r){return console.error("Failed to sign out:",r),{error:"Failed to sign out"}}},r4=async()=>{var r,e,t,n;try{const{data:{user:i},error:s}=await Wr.auth.getUser();return s||!i?null:{id:i.id,name:((r=i.user_metadata)==null?void 0:r.full_name)||((e=i.user_metadata)==null?void 0:e.name)||null,email:i.email||null,imageUrl:((t=i.user_metadata)==null?void 0:t.picture)||((n=i.user_metadata)==null?void 0:n.avatar_url)||null}}catch(i){return console.error("Failed to get current user:",i),null}},IT=async r=>{try{const e={...r,user_id:r.userId,created_at:r.createdAt,source_content_snippet:r.sourceContentSnippet};delete e.userId,delete e.createdAt,delete e.sourceContentSnippet;const{data:t,error:n}=await Wr.from("quizzes").insert([e]).select().single();return n?(console.error("Error saving quiz:",n),null):{...t,userId:t.user_id,createdAt:t.created_at,sourceContentSnippet:t.source_content_snippet}}catch(e){return console.error("Failed to save quiz:",e),null}},s4=async r=>{try{const e={...r,user_id:r.userId,created_at:r.createdAt,source_content_snippet:r.sourceContentSnippet};delete e.userId,delete e.createdAt,delete e.sourceContentSnippet;const{data:t,error:n}=await Wr.from("quizzes").update(e).eq("id",r.id).select().single();return n?(console.error("Error updating quiz:",n),null):{...t,userId:t.user_id,createdAt:t.created_at,sourceContentSnippet:t.source_content_snippet}}catch(e){return console.error("Failed to update quiz:",e),null}},a4=async r=>{try{const{error:e}=await Wr.from("quizzes").delete().eq("id",r);return e?(console.error("Error deleting quiz:",e),!1):!0}catch(e){return console.error("Failed to delete quiz:",e),!1}},o4=async r=>{try{const{data:e,error:t}=await Wr.from("quizzes").select("*").eq("user_id",r).order("created_at",{ascending:!1});return t?(console.error("Error fetching quizzes:",t),[]):(e||[]).map(i=>({...i,userId:i.user_id,createdAt:i.created_at,sourceContentSnippet:i.source_content_snippet}))}catch(e){return console.error("Failed to fetch quizzes:",e),[]}},JD=async r=>{try{const e={...r,quiz_id:r.quizId,user_id:r.userId,time_taken:r.timeTaken,total_correct:r.totalCorrect,total_questions:r.totalQuestions,created_at:r.createdAt};delete e.quizId,delete e.userId,delete e.timeTaken,delete e.totalCorrect,delete e.totalQuestions,delete e.createdAt;const{data:t,error:n}=await Wr.from("quiz_results").insert([e]).select().single();return n?(console.error("Error saving quiz result:",n),null):{...t,quizId:t.quiz_id,userId:t.user_id,timeTaken:t.time_taken,totalCorrect:t.total_correct,totalQuestions:t.total_questions,createdAt:t.created_at}}catch(e){return console.error("Failed to save quiz result:",e),null}},KY=async r=>{try{const{data:e,error:t}=await Wr.from("quiz_results").select("*").eq("user_id",r).order("created_at",{ascending:!1});return t?(console.error("Error fetching quiz results:",t),[]):(e||[]).map(i=>({...i,quizId:i.quiz_id,userId:i.user_id,timeTaken:i.time_taken,totalCorrect:i.total_correct,totalQuestions:i.total_questions,createdAt:i.created_at}))}catch(e){return console.error("Failed to fetch quiz results:",e),[]}},FT=async r=>{try{const{data:e,error:t}=await Wr.from("user_profiles").upsert([{id:r.id,name:r.name,email:r.email,image_url:r.imageUrl}]).select().single();return t?(console.error("Error updating user profile:",t),null):{id:e.id,name:e.name,email:e.email,imageUrl:e.image_url}}catch(e){return console.error("Failed to update user profile:",e),null}},ZY=Object.freeze(Object.defineProperty({__proto__:null,deleteQuizFromDb:a4,fetchUserQuizzes:o4,fetchUserResults:KY,getCurrentUser:r4,saveQuiz:IT,saveQuizResult:JD,signInWithGoogle:n4,signOut:i4,updateQuizInDb:s4,updateUserProfile:FT},Symbol.toStringTag,{value:"Module"})),JY=()=>{const{activeQuiz:r,quizResult:e,quizzes:t,setActiveQuiz:n,currentUser:i}=Xi(),{t:s}=Ui(),{quizId:a}=Oh(),l=Hi();if(de.useEffect(()=>{if(!r&&a){const T=t.find(D=>D.id===a);T?n(T):l("/dashboard")}},[a,r,t,n,l]),de.useEffect(()=>{if(e&&r&&i&&r.id===e.quizId){const T={...e,userId:i.id,createdAt:new Date().toISOString()};JD(T).catch(D=>{console.error("Failed to save quiz result to Supabase:",D)})}},[e,r,i]),!e||!r||r.id!==e.quizId)return k.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-380px)] text-center p-5",children:[k.jsx(dl,{text:s("resultsLoading"),className:"mb-10",size:"xl"}),k.jsx("p",{className:"text-xl font-semibold text-slate-300 mb-4",children:s("resultsErrorNotFound")}),k.jsx("p",{className:"text-base text-slate-400 mb-12",children:s("resultsErrorNotFound")}),k.jsxs(Je,{onClick:()=>l("/dashboard"),variant:"secondary",size:"lg",className:"py-3.5 px-8 rounded-xl",children:[" ",s("resultsGoToDashboard")," "]})]});const{score:u,answers:d,totalCorrect:h,totalQuestions:p}=e,g=(T,D)=>D?D.trim().toLowerCase()===T.correctAnswer.trim().toLowerCase():!1,y=u>=70?"text-green-400":u>=40?"text-amber-400":"text-red-400",v=u>=70?"bg-gradient-to-r from-green-400 to-emerald-400":u>=40?"bg-gradient-to-r from-amber-400 to-yellow-400":"bg-gradient-to-r from-red-400 to-rose-400",x="https://img.icons8.com/?size=256&id=eoxMN35Z6JKg&format=png";return k.jsxs(pn,{className:"max-w-4xl mx-auto shadow-2xl !border-slate-700/40 !rounded-2xl",useGlassEffect:!0,children:[k.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-slate-50 mb-4 text-center leading-tight tracking-tight line-clamp-2",title:r.title,children:k.jsx(on,{text:s("resultsTitle",{quizTitle:r.title})})}),k.jsx("p",{className:"text-base text-slate-300/80 mb-12 text-center",children:s("resultsSubtitle")}),k.jsxs(pn,{className:"mb-12 !bg-slate-700/70 shadow-xl !border-slate-600/60 p-0 overflow-hidden !rounded-2xl",useGlassEffect:!1,children:[k.jsxs("div",{className:"flex flex-col md:flex-row justify-around items-center text-center gap-8 p-6 sm:p-10 !bg-slate-800/60",children:[k.jsxs("div",{className:"flex flex-col items-center",children:[k.jsx("p",{className:"text-sm text-slate-400 uppercase tracking-wider font-medium mb-1.5",children:s("resultsYourScore")}),k.jsxs("p",{className:`text-6xl sm:text-7xl font-extrabold ${y} tracking-tight`,children:[u.toFixed(0),k.jsx("span",{className:"text-4xl",children:"%"})]})]}),k.jsx("div",{className:"w-full md:w-px h-px md:h-24 bg-slate-600/70 my-3 md:my-0"}),k.jsxs("div",{className:"flex flex-col items-center",children:[k.jsx("p",{className:"text-sm text-slate-400 uppercase tracking-wider font-medium mb-1.5",children:s("resultsCorrectAnswers")}),k.jsxs("p",{className:"text-5xl sm:text-6xl font-bold text-slate-100",children:[h," ",k.jsxs("span",{className:"text-3xl text-slate-400/80",children:["/ ",p]})]})]})]}),k.jsx(nu,{progress:u,className:"w-full rounded-b-2xl overflow-hidden",size:"lg",barClassName:`${v} !h-3.5`,showPercentage:!1})]}),k.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold text-slate-100 mb-8 sm:mb-10",children:s("resultsBreakdownTitle")}),k.jsx("div",{className:"space-y-5",children:r.questions.map((T,D)=>{const E=d.find(U=>U.questionId===T.id),C=E?E.answer:"",R=g(T,C);return k.jsx(HT,{initiallyOpen:!R,containerClassName:`!rounded-xl shadow-lg ${R?"!border-green-500/60":"!border-red-500/60"}`,title:k.jsxs("div",{className:"flex items-center w-full gap-3",children:[" ",k.jsxs("span",{className:"text-xs text-slate-400 font-semibold",children:["Q",D+1,"."]}),k.jsx("span",{className:`flex-grow text-sm sm:text-base ${R?"text-slate-200":"text-slate-100 font-semibold"} min-w-0 break-words`,title:T.questionText,children:k.jsx(on,{text:T.questionText})})]}),titleClassName:`py-3.5 px-4 sm:px-5 rounded-t-xl ${R?"hover:!bg-green-400/15":"hover:!bg-red-400/15"}`,contentClassName:"!bg-slate-700/30",children:k.jsxs("div",{className:"space-y-4 text-sm sm:text-base",children:[k.jsxs("p",{className:"text-slate-300",children:[k.jsxs("strong",{className:"font-semibold text-slate-100",children:[s("resultsYourAnswer")," "]}),k.jsx("span",{className:`${R?"text-green-400 font-medium":"text-red-400 font-medium"} break-words`,children:k.jsx(on,{text:C||s("resultsNotAnswered")})})]}),!R&&k.jsxs("p",{className:"text-slate-300",children:[k.jsxs("strong",{className:"font-semibold text-slate-100",children:[s("resultsCorrectAnswerMC")," "]}),k.jsx("span",{className:"text-green-400 font-medium break-words",children:k.jsx(on,{text:T.correctAnswer})})]}),k.jsxs("div",{className:"mt-5 pt-5 border-t border-slate-600/70",children:[k.jsxs("p",{className:"flex items-start text-base font-semibold text-sky-300 mb-2.5",children:[k.jsx("img",{src:x,alt:s("resultsExplanationTitle"),className:"w-5 h-5 mr-3 flex-shrink-0 mt-0.5"}),s("resultsExplanationTitle")]}),k.jsx("div",{className:"text-slate-300/90 leading-relaxed whitespace-pre-wrap break-words",children:k.jsx(on,{text:T.explanation||s("resultsNoExplanation")})})]}),r.sourceContentSnippet&&k.jsxs("details",{className:"mt-5 pt-5 border-t border-slate-600/70",children:[k.jsxs("summary",{className:"text-xs text-slate-400 cursor-pointer hover:text-sky-300 transition-colors flex items-center font-semibold group",children:[" ",k.jsx(xv,{className:"w-4 h-4 mr-2.5 text-slate-500 group-hover:text-sky-400 transition-colors",strokeWidth:2})," ",s("resultsViewSourceSnippet")," "]}),k.jsx("blockquote",{className:"mt-3 text-xs text-slate-400/80 max-h-36 overflow-y-auto p-3.5 bg-slate-700/60 border border-slate-600/60 rounded-lg shadow-inner italic",children:k.jsx(on,{text:r.sourceContentSnippet})})]})]})},T.id)})}),k.jsxs("div",{className:"mt-14 flex flex-col sm:flex-row justify-center items-center gap-4 sm:gap-5",children:[k.jsxs(Je,{onClick:()=>{n(null),l(`/quiz/${r.id}`)},variant:"outline",size:"lg",leftIcon:k.jsx(WT,{className:"w-5 h-5"}),className:"w-full sm:w-auto py-3 px-8 rounded-xl",children:[" ",s("resultsTryAgain")," "]}),k.jsxs(Je,{onClick:()=>l("/create"),variant:"primary",size:"lg",leftIcon:k.jsx(Mp,{className:"w-5 h-5"}),className:"w-full sm:w-auto bg-gradient-to-r from-sky-500 to-indigo-500 hover:from-sky-600 hover:to-indigo-600 text-white shadow-xl py-3 px-8 rounded-xl",children:[" ",s("resultsCreateNewQuiz")," "]})]})]})},V0=r=>{if(!r)return"NB";switch(r){case"Easy":return"NB";case"Medium":return"TH";case"Hard":return"VD";case"AI-Determined":return"NB";default:return"NB"}},eA=r=>String.fromCharCode(65+r),tA=(r,e,t,n,i=!1)=>{const s=r.questionText;let a=n;const l=s.match(/\(?\[?([A-Z]{2,3})[\]\)]?\.?\s/i);l&&l[1]&&(a=l[1].toUpperCase());let u=`${t("azotaFormatQuestionPrefix")} ${e}.(${a}) ${s}
`;return r.options.forEach((d,h)=>{const p=d===r.correctAnswer;u+=`${i&&p?"*":""}${eA(h)}. ${d}	`,(h+1)%2===0&&h<r.options.length-1&&r.options.length>2?u=u.trimEnd()+`
`:u=u.trimEnd()+"  "}),u=u.trim()+`
`,u},l4=(r,e,t,n,i=!1)=>{var d,h;const s=r.explanation.split("Cách giải:"),a=((d=s[0])==null?void 0:d.replace("Phương pháp:","").trim())||"",l=((h=s[1])==null?void 0:h.trim())||(a?"":r.explanation.trim());let u=`${t("azotaFormatQuestionPrefix")} ${e} (${n}):
`;if(a&&(u+=`${t("azotaFormatExplanationMethod")} ${a}
`),u+=`${t("azotaFormatExplanationSolution")} ${l||t("resultsNoExplanation")}
`,i){const p=r.options.findIndex(g=>g===r.correctAnswer);p!==-1&&(u+=`${t("azotaFormatChooseAnswer")} ${eA(p)}
`)}return u},eK=(r,e)=>{var l;let t="";const n=V0((l=r.config)==null?void 0:l.difficulty);let i=1;r.questions.length>0&&(t+=`${e("azotaFormatMCQSection")}
`,r.questions.forEach(u=>{t+=tA(u,i++,e,n),t+=`
`})),t+=`${e("azotaFormatEndOfQuiz")}
`,t+=`${e("azotaFormatAnswerTableTitle")}
`;let s=1;r.questions.forEach(u=>{const d=u.options.findIndex(h=>h===u.correctAnswer);d!==-1&&(t+=`${s++}${eA(d)} `)}),t=t.trim()+`

`,t+=`${e("azotaFormatExplanationSectionTitle")}
`;let a=1;return r.questions.forEach(u=>{var d;t+=l4(u,a++,e,V0((d=r.config)==null?void 0:d.difficulty)),t+=`
`}),t},tK=(r,e)=>{var s;let t="";const n=V0((s=r.config)==null?void 0:s.difficulty);let i=1;return r.questions.length>0&&(t+=`${e("azotaFormatMCQSection")}
`,r.questions.forEach(a=>{t+=tA(a,i,e,n),t+=`${e("azotaFormatExplanationTitle")}
`,t+=l4(a,i,e,n,!0),t+=`
`,i++})),t},nK=(r,e)=>{var s;let t="";const n=V0((s=r.config)==null?void 0:s.difficulty);let i=1;return r.questions.length>0&&(t+=`${e("azotaFormatMCQSection")}
`,r.questions.forEach(a=>{t+=tA(a,i++,e,n,!0),t+=`
`})),t},iK=({isOpen:r,onClose:e,quiz:t})=>{const{t:n}=Ui(),[i,s]=de.useState("style1"),[a,l]=de.useState(""),[u,d]=de.useState(!1),[h,p]=de.useState(null);de.useEffect(()=>{if(r&&t){p(null);try{let x="";switch(i){case"style1":x=eK(t,n);break;case"style2":x=tK(t,n);break;case"style4":x=nK(t,n);break;default:x=n("azotaExportErrorGenerating")}l(x)}catch(x){console.error("Error formatting quiz for Azota:",x),l(n("azotaExportErrorGenerating")),p(x instanceof Error?x.message:String(x))}}},[r,t,i,n]);const g=()=>{navigator.clipboard.writeText(a).then(()=>{d(!0),setTimeout(()=>d(!1),2e3)}).catch(x=>{console.error("Failed to copy text: ",x),alert(n("azotaExportErrorCopy"))})},y=()=>{const x=new Blob([a],{type:"text/plain;charset=utf-8"}),T=document.createElement("a");T.href=URL.createObjectURL(x);const D=t.title.replace(/[^a-z0-9_.-]/gi,"_").substring(0,50)||"quiz";T.download=`${D}_Azota_${i}.txt`,document.body.appendChild(T),T.click(),document.body.removeChild(T)},v=[{value:"style1",label:n("azotaExportFormatStyle1")},{value:"style2",label:n("azotaExportFormatStyle2")},{value:"style4",label:n("azotaExportFormatStyle4")}];return t?k.jsx(ul,{isOpen:r,onClose:e,title:n("azotaExportTitle"),size:"3xl",children:k.jsxs("div",{className:"space-y-6",children:[k.jsx(Fp,{label:n("azotaExportSelectFormat"),options:v,value:i,onChange:x=>s(x.target.value)}),h&&k.jsxs("div",{role:"alert",className:"p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-xs text-red-300",children:[k.jsxs("p",{children:[k.jsxs("strong",{children:[n("error"),":"]})," ",n("azotaExportErrorGenerating")]}),k.jsx("p",{className:"mt-1 text-red-400/80",children:h})]}),k.jsx(Qa,{value:a,readOnly:!0,rows:18,className:"text-xs font-mono !bg-slate-700/70 !border-slate-600 p-4 min-h-[360px] shadow-inner","aria-label":n("azotaExportPreviewArea")}),k.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3.5 pt-2",children:[k.jsx(Je,{variant:"secondary",onClick:e,size:"md",children:n("close")}),k.jsxs(Je,{variant:"outline",onClick:g,leftIcon:k.jsx(pP,{className:"w-4 h-4"}),size:"md",className:"w-full sm:w-auto",disabled:!!h,children:[" ",n(u?"azotaExportCopied":"azotaExportCopy")," "]}),k.jsxs(Je,{variant:"primary",onClick:y,leftIcon:k.jsx(gP,{className:"w-4 h-4"}),size:"md",className:"w-full sm:w-auto",disabled:!!h,children:[" ",n("azotaExportDownload")," "]})]})]})}):null},QN=()=>{const r=zr(),e=Hi(),{t}=Ui(),{addQuiz:n,updateQuiz:i,quizzes:s,language:a}=Xi(),[l,u]=de.useState(null),[d,h]=de.useState(!0),[p,g]=de.useState(!1),[y,v]=de.useState(null),[x,T]=de.useState(!1),[D,E]=de.useState(null),{quizId:C}=Oh();de.useEffect(()=>{var K;let B=null;r.state&&(B=r.state);const N=C||((K=B==null?void 0:B.existingQuiz)==null?void 0:K.id);if(N&&!(B!=null&&B.existingQuiz)){const P=s.find(q=>q.id===N);if(P)B={...B,existingQuiz:P};else{v(t("reviewErrorQuizNotFound")),h(!1);return}}if(B!=null&&B.existingQuiz){const P=B.existingQuiz;u({title:P.title,questions:JSON.parse(JSON.stringify(P.questions)),config:P.config||{numQuestions:P.questions.length,difficulty:"Medium",language:a==="vi"?"Vietnamese":"English",customUserPrompt:"",selectedModel:"gemini"},sourceContentSnippet:P.sourceContentSnippet})}else if(B!=null&&B.generatedQuizData&&B.finalConfig){const{generatedQuizData:P,quizTitleSuggestion:q,finalConfig:ie}=B;u({title:q||P.title,questions:JSON.parse(JSON.stringify(P.questions)),config:ie,sourceContentSnippet:P.sourceContentSnippet})}else C||v(t("reviewErrorNoQuizData"));h(!1)},[r.state,C,s,t,a]),de.useEffect(()=>{if(D){const B=`option-input-${D.questionId}-${D.optionIndex}`,N=document.getElementById(B);N==null||N.focus(),E(null)}},[D]);const R=(B,N,K)=>{u(P=>P?{...P,questions:P.questions.map(q=>q.id===B?{...q,[N]:K}:q)}:null)},U=(B,N,K)=>{u(P=>P?{...P,questions:P.questions.map(q=>{if(q.id===B){const ie=q.options[N],te=[...q.options];te[N]=K;let j=q.correctAnswer;return q.correctAnswer===ie?j=K:!te.includes(q.correctAnswer)&&te.length>0?j=te[0]:te.length===0&&(j=""),{...q,options:te,correctAnswer:j}}return q})}:null)},M=B=>{let N=-1;u(K=>K?{...K,questions:K.questions.map(P=>P.id===B?(N=P.options.length,{...P,options:[...P.options,t("reviewNewOptionDefault",{index:N+1})]}):P)}:null),N!==-1&&E({questionId:B,optionIndex:N})},O=(B,N)=>{u(K=>K?{...K,questions:K.questions.map(P=>{if(P.id===B){if(P.options.length<=2)return alert(t("reviewErrorNotEnoughOptions",{id:""}).replace(" for question ID: {id}","")),P;const q=P.options[N],ie=P.options.filter((j,V)=>V!==N);let te=P.correctAnswer;return q===P.correctAnswer&&!ie.includes(q)&&(te=ie.length>0?ie[0]:""),{...P,options:ie,correctAnswer:te}}return P})}:null)},W=B=>{u(N=>N?N.questions.length===1?(v(t("reviewCannotSaveNoQuestions")),N):{...N,questions:N.questions.filter(K=>K.id!==B)}:null)},L=()=>{u(B=>B?{...B,questions:[...B.questions,{id:`manual-q-${Date.now()}`,questionText:t("reviewNewQuestionDefaultText"),options:[t("reviewNewOptionDefault",{index:1}),t("reviewNewOptionDefault",{index:2})],correctAnswer:t("reviewNewOptionDefault",{index:1}),explanation:t("reviewNewExplanationDefaultText")}]}:null)},H=()=>{var N;if(!l||l.questions.length===0){v(t("reviewCannotSaveNoQuestions"));return}for(const K of l.questions){if(!K.questionText.trim()){v(t("reviewErrorEmptyQuestionText",{id:K.id.substring(0,8)}));return}if(K.options.length<2){v(t("reviewErrorNotEnoughOptions",{id:K.id.substring(0,8)}));return}if(!K.correctAnswer||!K.options.includes(K.correctAnswer)){v(t("reviewErrorInvalidCorrectAnswer",{id:K.id.substring(0,8)}));return}if(!K.explanation.trim()){v(t("reviewErrorEmptyExplanation",{id:K.id.substring(0,8)}));return}}v(null),g(!0);const B={id:C||`quiz-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,title:l.title.trim()||t("untitledQuiz"),questions:l.questions,createdAt:C?((N=s.find(K=>K.id===C))==null?void 0:N.createdAt)||new Date().toISOString():new Date().toISOString(),sourceContentSnippet:l.sourceContentSnippet,config:l.config};setTimeout(()=>{C?i(B):n(B),g(!1),e("/dashboard")},700)};if(d)return k.jsx(dl,{text:t("loading"),className:"mt-24",size:"xl"});if(y&&!l&&!p)return k.jsx(pn,{className:"text-red-400 p-12 text-center shadow-xl !border-red-500/70 !bg-red-800/40 text-lg font-semibold !rounded-2xl",useGlassEffect:!0,children:y});if(!l)return k.jsx(pn,{className:"text-slate-400 p-12 text-center shadow-lg text-lg font-medium !rounded-2xl",useGlassEffect:!0,children:t("reviewErrorNoQuizData")});const ne=!!C,F=l?{id:C||"temp-id",createdAt:new Date().toISOString(),...l}:null;return k.jsxs("div",{className:"space-y-8 sm:space-y-10 pb-16",children:[k.jsx("div",{className:"sticky-review-actions bg-slate-800 shadow-xl py-4 -mx-4 sm:-mx-6 lg:-mx-8 mb-8 sm:mb-10 rounded-b-2xl border-b border-slate-700",children:k.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[k.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[k.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-50 leading-tight truncate tracking-tight flex items-center",title:l.title,children:t(ne?"reviewEditQuizTitle":"reviewFinalizeQuizTitle")}),k.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-end items-center gap-2.5",children:[!ne&&k.jsxs(Je,{variant:"outline",size:"sm",onClick:()=>e("/create"),leftIcon:k.jsx(WT,{className:"w-4 h-4"}),className:"py-2.5 px-4 rounded-lg",children:[" ",t("reviewDiscardRegenerateShort")," "]}),k.jsxs(Je,{variant:"secondary",size:"sm",onClick:()=>e("/dashboard"),leftIcon:k.jsx(jT,{className:"w-4 h-4"}),className:"py-2.5 px-4 rounded-lg",children:[" ",t(ne?"cancel":"reviewDiscardToDashboardShort")," "]}),k.jsxs(Je,{variant:"outline",size:"sm",onClick:()=>T(!0),leftIcon:k.jsx(mP,{className:"w-4 h-4"}),className:"py-2.5 px-4 rounded-lg border-sky-400/70 text-sky-300 hover:bg-sky-400/15",disabled:!F||F.questions.length===0,children:[" ",t("azotaExportButton")," "]}),k.jsxs(Je,{variant:"primary",size:"sm",onClick:H,isLoading:p,disabled:p||!l.questions.length,leftIcon:k.jsx(hP,{className:"w-4 h-4"}),className:"bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white py-2.5 px-4 rounded-lg",children:[" ",t(p?"reviewSavingButton":ne?"reviewSaveChangesButton":"reviewSaveButton")," "]})]})]}),y&&k.jsx("p",{role:"alert",className:"text-xs text-red-300 mt-4 bg-red-500/20 p-3 rounded-lg text-center sm:text-left shadow",children:y}),!l.questions.length&&k.jsx("p",{role:"alert",className:"text-xs text-yellow-400 mt-4 bg-yellow-500/20 p-3 rounded-lg text-center sm:text-left shadow",children:t("reviewCannotSaveNoQuestions")})]})}),k.jsxs(pn,{useGlassEffect:!0,className:"shadow-2xl !rounded-2xl",children:[k.jsx("p",{className:"text-sm text-slate-300/90 mb-6",children:t(ne?"reviewEditQuizDesc":"reviewFinalizeQuizDesc")}),k.jsx(Ip,{label:k.jsx("span",{className:"text-base font-semibold text-slate-100",children:t("reviewQuizTitleLabel")}),value:l.title,onChange:B=>u(N=>N?{...N,title:B.target.value}:null),className:"text-xl mb-3",placeholder:t("step2QuizTitlePlaceholder"),inputClassName:"!text-xl !font-semibold !py-3.5 !rounded-xl"})]}),l.questions.map((B,N)=>k.jsxs(pn,{className:"relative shadow-2xl !rounded-2xl !p-5 sm:!p-6",useGlassEffect:!0,children:[k.jsxs("div",{className:"flex justify-between items-start mb-5",children:[k.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-slate-50 pt-1",children:[" ",t("reviewQuestionLabel",{index:N+1})," "]}),k.jsx(li,{content:t("reviewDeleteQuestionLabel"),placement:"left",wrapperClassName:"inline-flex",children:k.jsx(Je,{variant:"ghost",size:"sm",onClick:()=>W(B.id),className:"!p-2.5 rounded-lg text-slate-400 hover:text-red-400 hover:bg-red-500/10","aria-label":t("reviewDeleteQuestionLabel"),disabled:l.questions.length<=1,tooltip:l.questions.length<=1?t("reviewCannotSaveNoQuestions"):void 0,children:k.jsx(j_,{className:"w-5 h-5"})})})]}),k.jsxs("div",{className:"space-y-5",children:[k.jsx(Qa,{label:k.jsx("span",{className:"text-sm font-medium text-slate-200",children:t("reviewQuestionTextLabel")}),value:B.questionText,onChange:K=>R(B.id,"questionText",K.target.value),rows:3,className:"min-h-[90px] font-mono text-sm",placeholder:t("reviewQuestionTextPlaceholder")}),k.jsxs("div",{className:"space-y-3.5 pl-4 sm:pl-5 border-l-2 border-slate-600/70 py-3",children:[k.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-2",children:t("reviewOptionsLabel")}),B.options.map((K,P)=>k.jsx("div",{className:"space-y-2",children:k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx(Qa,{id:`option-input-${B.id}-${P}`,value:K,onChange:q=>U(B.id,P,q.target.value),rows:1,className:"text-sm font-mono overflow-x-auto overflow-y-hidden whitespace-nowrap !py-2.5 resize-none","aria-label":t("reviewOptionLabel",{index:P+1}),placeholder:t("reviewOptionPlaceholder",{index:P+1}),containerClassName:"flex-grow min-w-0"}),k.jsx(li,{content:t("reviewRemoveOptionLabel"),placement:"left",wrapperClassName:"inline-flex",children:k.jsx(Je,{variant:"ghost",size:"xs",onClick:()=>O(B.id,P),"aria-label":t("reviewRemoveOptionLabel"),className:"!p-2 rounded-lg",disabled:B.options.length<=2,children:k.jsx(j_,{className:"w-5 h-5"})})})]})},P)),B.options.length<5&&k.jsxs(Je,{size:"xs",variant:"outline",onClick:()=>M(B.id),leftIcon:k.jsx(W_,{className:"w-3.5 h-3.5"}),className:"mt-2 py-1.5 px-3 text-xs rounded-md",children:[" ",t("reviewAddOption")," "]}),B.options.length>0&&k.jsx(Fp,{label:k.jsx("span",{className:"text-sm font-medium text-slate-200",children:t("reviewCorrectAnswerLabel")}),value:B.correctAnswer,onChange:K=>R(B.id,"correctAnswer",K.target.value),options:B.options.map(K=>({value:K,label:K.length>70?K.substring(0,67)+"...":K})),containerClassName:"mt-3.5",className:"overflow-x-auto overflow-y-hidden whitespace-nowrap cursor-default thin-scrollbar-horizontal"})]}),k.jsx(Qa,{label:k.jsx("span",{className:"text-sm font-medium text-slate-200",children:t("reviewExplanationLabel")}),value:B.explanation,onChange:K=>R(B.id,"explanation",K.target.value),rows:3,className:"min-h-[110px] font-mono text-sm",placeholder:t("reviewExplanationPlaceholder")})]})]},B.id)),k.jsx("div",{className:"mt-12 text-center",children:k.jsxs(Je,{variant:"subtle",onClick:L,leftIcon:k.jsx(Mp,{className:"w-5 h-5"}),className:"border-2 border-dashed hover:border-solid border-slate-600 hover:border-sky-400 text-slate-300 hover:text-sky-200 py-3.5 px-8 shadow-lg hover:shadow-xl rounded-xl",size:"md",children:[" ",t("reviewAddNewQuestion")," "]})}),F&&k.jsx(iK,{isOpen:x,onClose:()=>T(!1),quiz:F})]})},rK=()=>{const{currentUser:r}=Xi(),{t:e}=Ui(),t=Hi(),n=zr(),[i,s]=Pr.useState(!1);Pr.useEffect(()=>{var l,u;if(r){const d=((u=(l=n.state)==null?void 0:l.from)==null?void 0:u.pathname)||"/dashboard";t(d,{replace:!0})}},[r,t,n.state]);const a=async()=>{s(!0);try{const{error:l}=await n4();l&&(console.error("Login error:",l),alert(e("loginFailed")||"Login failed. Please try again."))}catch(l){console.error("Login error:",l),alert(e("loginFailed")||"Login failed. Please try again.")}finally{s(!1)}};return k.jsx("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-250px)] py-10 sm:py-16",children:k.jsxs(pn,{className:"max-w-md w-full text-center shadow-2xl p-8 sm:p-10 md:p-12 !rounded-2xl",useGlassEffect:!0,children:[k.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-50 mb-4 mt-8 sm:mt-10",children:e("signInTitle")}),k.jsx("p",{className:"text-slate-300/80 mb-10 text-sm",children:e("signInSubtitle")}),k.jsx("div",{className:"flex justify-center mb-8",children:k.jsx(Je,{onClick:a,disabled:i,variant:"outline",size:"lg",leftIcon:k.jsx("img",{src:"https://img.icons8.com/color/48/google-logo.png",alt:"Google",className:"w-5 h-5"}),className:"w-[280px] !justify-start !text-slate-200 !bg-slate-700/60 hover:!bg-slate-600/80 !border-slate-600 hover:!border-slate-500 !px-4 !py-3 !rounded-lg shadow-md",children:k.jsx("span",{className:"ml-3 text-sm font-medium",children:i?e("signingIn")||"Signing in...":e("loginWithGoogle")})})}),k.jsxs("p",{className:"text-xs text-slate-400/80",children:[e("signInAgreementPrompt")," "," ",k.jsx("a",{href:"#",className:"text-sky-400 hover:underline font-medium",children:e("footerTerms")})," ",e("and")," "," ",k.jsx("a",{href:"#",className:"text-sky-400 hover:underline font-medium",children:e("footerPrivacy")}),"."]})]})})},sK=()=>{var ie;const{t:r}=Ui(),{quizId:e}=Oh(),t=Hi(),[n,i]=de.useState(null),[s,a]=de.useState(!1),[l,u]=de.useState(null),[d,h]=de.useState([]),[p,g]=de.useState(!1),y=de.useCallback(()=>{g(!0)},[]),{localActiveQuiz:v,currentQuestion:x,currentQuestionIndex:T,loading:D,timeLeft:E,goToNextQuestion:C,goToPreviousQuestion:R,formatTime:U,totalQuestions:M,shuffledQuestions:O}=L8(e,{onTimeUp:y}),W="https://img.icons8.com/?size=256&id=eoxMN35Z6JKg&format=png";de.useEffect(()=>{O.length>0&&d.length===0&&h(O.map(te=>({questionId:te.id,selectedOption:null,isCorrect:null,firstTryCorrect:null,attempts:0})))},[O,d.length]);const L=de.useCallback((te,j)=>{h(V=>V.map(ee=>ee.questionId===te?{...ee,...j}:ee))},[]),H=de.useCallback(()=>{i(null),a(!1),u(null)},[]);de.useEffect(()=>{if(H(),x&&d.length>0){const te=d.find(j=>j.questionId===x.id);te&&(i(te.selectedOption),te.isCorrect!==null&&(a(!0),u(te.isCorrect)))}},[T,x,d,H]);const ne=te=>{s||i(te)},F=()=>{if(!n||!x)return;const te=n===x.correctAnswer;a(!0),u(te);const j=d.find(ee=>ee.questionId===x.id),V=((j==null?void 0:j.attempts)||0)+1;L(x.id,{selectedOption:n,isCorrect:te,attempts:V,...V===1&&{firstTryCorrect:te}})},B=de.useCallback(()=>{if(v){if(n&&!s&&x){const te=d.find(j=>j.questionId===x.id);(!te||te.selectedOption!==n||te.isCorrect===null)&&L(x.id,{selectedOption:n,isCorrect:null})}setTimeout(()=>{t(`/practice-summary/${v.id}`,{state:{practiceAttempts:d,quizTitle:v.title,questions:v.questions}})},0)}},[v,t,d,n,s,x,L]),N=de.useCallback((te=!1)=>{if(!(!v||!x)){if((te||!s)&&n){const j=d.find(V=>V.questionId===x.id);(!j||j.selectedOption!==n||j.isCorrect===null)&&L(x.id,{selectedOption:n,isCorrect:null})}C()||B()}},[v,C,B,n,s,x,d,L]),K=de.useCallback(()=>{if(x){if(n&&!s){const te=d.find(j=>j.questionId===x.id);(!te||te.selectedOption!==n||te.isCorrect===null)&&L(x.id,{selectedOption:n,isCorrect:null})}R()}},[R,n,s,x,d,L]);if(D||!v)return k.jsx(dl,{text:r("quizTakingLoading"),className:"mt-24",size:"xl"});if(!x)return k.jsx(pn,{className:"text-center mt-16 !rounded-2xl",useGlassEffect:!0,children:k.jsx("p",{className:"text-red-400 p-12 text-lg font-semibold",children:r("quizTakingErrorQuestionNotFound")})});const P=M>0?(T+1)/M*100:0,q=T===M-1;return k.jsxs(pn,{className:"max-w-3xl mx-auto shadow-2xl !border-slate-700/40 !rounded-2xl",useGlassEffect:!0,children:[k.jsxs("div",{className:"mb-10",children:[k.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-50 mb-4 leading-tight tracking-tight line-clamp-2",title:v.title,children:k.jsx(on,{text:r("quizPracticeTitle",{quizTitle:v.title})})}),k.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-300 mb-5",children:[k.jsx("span",{children:r("quizTakingQuestionProgress",{current:T+1,total:M})}),E!==null&&k.jsx("span",{className:`font-semibold ${E<=60?"text-red-400 animate-pulse":"text-sky-300"}`,children:r("quizTakingTimeLeft",{time:U(E)})}),((ie=v.config)==null?void 0:ie.customUserPrompt)&&k.jsx(li,{content:k.jsx("div",{className:"max-w-xs text-left text-xs",children:k.jsx(on,{text:v.config.customUserPrompt})}),placement:"bottom-end",children:k.jsx(x5,{className:"w-5 h-5 text-yellow-300 cursor-help"})})]}),k.jsx(nu,{progress:P,size:"lg",barClassName:"bg-gradient-to-r from-purple-500 to-pink-500"})]}),k.jsxs("div",{children:[k.jsxs("div",{className:"mb-6 p-6 sm:p-8 bg-slate-700/60 rounded-xl shadow-inner border border-slate-600/70 min-h-[200px] flex flex-col",children:[k.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-100 mb-8 leading-relaxed",children:k.jsx(on,{text:x.questionText})}),k.jsx("div",{className:"flex-grow",children:k.jsx("div",{className:"space-y-4",children:x.options.map((te,j)=>{const V=n===te;let ee="bg-slate-600 hover:bg-slate-500/80 border-slate-500 hover:border-sky-500 text-slate-100 hover:scale-[1.02]",re=k.jsx(Tp,{className:"w-6 h-6 text-slate-400 group-hover:text-sky-400",strokeWidth:2.5});return s?V&&l?(ee="bg-green-500/40 border-green-500 text-green-50 font-semibold scale-105",re=k.jsx(f2,{className:"w-6 h-6 text-green-50",isFilled:!0})):V&&!l?(ee="bg-red-500/40 border-red-500 text-red-50 font-semibold scale-105",re=k.jsx(b5,{className:"w-6 h-6 text-red-50"})):te===x.correctAnswer?(ee="bg-green-500/30 border-green-600 text-green-100 opacity-90",re=k.jsx(f2,{className:"w-6 h-6 text-green-100",isFilled:!1})):(ee="bg-slate-600/50 border-slate-700 text-slate-400 opacity-70 cursor-not-allowed",re=k.jsx(Tp,{className:"w-6 h-6 text-slate-500",strokeWidth:2.5})):V&&(ee="bg-sky-500/50 border-sky-400 text-sky-50 font-semibold hover:bg-sky-500/60 scale-105",re=k.jsx(Tp,{className:"w-6 h-6 text-sky-50",isFilled:!0,strokeWidth:1})),k.jsxs("button",{onClick:()=>ne(te),disabled:s,className:`w-full flex items-center text-left p-4 sm:p-4 rounded-xl border-2 transition-all duration-200 ease-out transform focus:outline-none focus-visible:ring-4 focus-visible:ring-sky-400/50 focus-visible:ring-offset-2 ${V?"focus-visible:ring-offset-white":"focus-visible:ring-offset-slate-700"} shadow-lg ${ee}`,"aria-pressed":V,children:[k.jsx("span",{className:"mr-3.5 flex-shrink-0",children:re}),k.jsx("span",{className:"text-sm sm:text-base flex-grow",children:k.jsx(on,{text:te})})]},j)})})})]}),s&&k.jsxs("div",{className:"my-6 p-5 bg-slate-700/40 rounded-xl border border-slate-600/50",children:[k.jsxs("p",{className:"flex items-start text-base font-semibold text-sky-300 mb-2.5",children:[k.jsx("img",{src:W,alt:r("resultsExplanationTitle"),className:"w-5 h-5 mr-3 flex-shrink-0 mt-0.5"}),r("resultsExplanationTitle")]}),k.jsx("div",{className:"text-slate-300/90 text-sm leading-relaxed whitespace-pre-wrap break-words",children:k.jsx(on,{text:x.explanation||r("resultsNoExplanation")})})]})]}),k.jsxs("div",{className:"flex flex-col space-y-3 pt-6 border-t border-slate-700/60",children:[s?k.jsxs(k.Fragment,{children:[l===!0&&k.jsx("p",{className:"text-center text-green-400 font-semibold text-lg",children:r("answerCorrect")}),l===!1&&k.jsx("p",{className:"text-center text-red-400 font-semibold text-lg",children:r("answerIncorrect")}),k.jsx(Je,{onClick:()=>N(!1),variant:"primary",size:"lg",rightIcon:k.jsx(eu,{className:"w-5 h-5"}),className:`w-full py-3 rounded-xl ${l?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"}`,children:r(q?"finishPractice":"nextQuestion")})]}):k.jsx(Je,{onClick:F,disabled:!n,variant:"primary",size:"lg",leftIcon:k.jsx(f2,{className:"w-5 h-5"}),className:"w-full py-3 rounded-xl",children:r("checkAnswer")}),k.jsxs("div",{className:"flex justify-between items-center pt-3",children:[k.jsx(Je,{onClick:K,disabled:T===0,variant:"outline",size:"md",leftIcon:k.jsx(b0,{className:"w-4 h-4"}),className:"py-2.5 px-5 rounded-lg",children:r("previous")}),!s&&(q?k.jsx(Je,{onClick:B,variant:"outline",size:"md",rightIcon:k.jsx(eu,{className:"w-4 h-4"}),className:"py-2.5 px-5 rounded-lg",children:r("finishPractice")}):k.jsx(Je,{onClick:()=>N(!0),variant:"outline",size:"md",rightIcon:k.jsx(eu,{className:"w-4 h-4"}),className:"py-2.5 px-5 rounded-lg",children:r("skipQuestion")})),s&&k.jsx(Je,{onClick:B,variant:"outline",size:"md",className:"py-2.5 px-5 rounded-lg",children:r("finishPractice")})]})]}),p&&k.jsx(ul,{isOpen:p,onClose:()=>{g(!1),B()},title:r("timesUp"),size:"md",hideCloseButton:!0,footerContent:k.jsx("div",{className:"flex justify-center",children:k.jsx(Je,{variant:"primary",onClick:()=>{g(!1),B()},size:"md",children:r("timesUpSubmit")})}),children:k.jsx("p",{className:"text-slate-200 text-base leading-relaxed text-center",children:r("timesUpMessage")})})]})},aK=()=>{const{quizzes:r,setActiveQuiz:e}=Xi(),{t}=Ui(),{quizId:n}=Oh(),i=Hi(),s=zr(),[a,l]=de.useState(null),[u,d]=de.useState(null),[h,p]=de.useState(!0);de.useEffect(()=>{const R=s.state;if(R&&R.practiceAttempts&&R.questions&&R.quizTitle){l(R);const U=r.find(M=>M.id===n);U&&d(U),p(!1)}else if(n){const U=r.find(M=>M.id===n);U?(d(U),l({quizTitle:U.title,questions:U.questions,practiceAttempts:U.questions.map(M=>({questionId:M.id,selectedOption:null,isCorrect:null,firstTryCorrect:null,attempts:0}))})):i("/dashboard"),p(!1)}else i("/dashboard")},[s.state,n,r,i]);const{totalCorrect:g,scorePercentage:y}=de.useMemo(()=>{if(!a||!a.practiceAttempts||a.questions.length===0)return{totalCorrect:0,scorePercentage:0};const R=a.practiceAttempts.filter(M=>M.isCorrect===!0).length,U=R/a.questions.length*100;return{totalCorrect:R,scorePercentage:parseFloat(U.toFixed(2))}},[a]);if(h||!a||!u)return k.jsx(dl,{text:t("loading"),className:"mt-24",size:"xl"});const{practiceAttempts:v,quizTitle:x,questions:T}=a,D=y>=70?"text-green-400":y>=40?"text-amber-400":"text-red-400",E=y>=70?"bg-gradient-to-r from-green-400 to-emerald-400":y>=40?"bg-gradient-to-r from-amber-400 to-yellow-400":"bg-gradient-to-r from-red-400 to-rose-400",C="https://img.icons8.com/?size=256&id=eoxMN35Z6JKg&format=png";return k.jsxs(pn,{className:"max-w-4xl mx-auto shadow-2xl !border-slate-700/40 !rounded-2xl",useGlassEffect:!0,children:[k.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-slate-50 mb-4 text-center leading-tight tracking-tight line-clamp-2",title:x,children:k.jsx(on,{text:t("practiceSummaryTitle",{quizTitle:x})})}),k.jsx("p",{className:"text-base text-slate-300/80 mb-12 text-center",children:t("practiceSummarySubtitle")}),k.jsxs(pn,{className:"mb-12 !bg-slate-700/70 shadow-xl !border-slate-600/60 p-0 overflow-hidden !rounded-2xl",useGlassEffect:!1,children:[k.jsxs("div",{className:"flex flex-col md:flex-row justify-around items-center text-center gap-8 p-6 sm:p-10 !bg-slate-800/60",children:[k.jsxs("div",{className:"flex flex-col items-center",children:[k.jsx("p",{className:"text-sm text-slate-400 uppercase tracking-wider font-medium mb-1.5",children:t("resultsYourScore")}),k.jsxs("p",{className:`text-6xl sm:text-7xl font-extrabold ${D} tracking-tight`,children:[y.toFixed(0),k.jsx("span",{className:"text-4xl",children:"%"})]})]}),k.jsx("div",{className:"w-full md:w-px h-px md:h-24 bg-slate-600/70 my-3 md:my-0"}),k.jsxs("div",{className:"flex flex-col items-center",children:[k.jsx("p",{className:"text-sm text-slate-400 uppercase tracking-wider font-medium mb-1.5",children:t("resultsCorrectAnswers")}),k.jsxs("p",{className:"text-5xl sm:text-6xl font-bold text-slate-100",children:[g," ",k.jsxs("span",{className:"text-3xl text-slate-400/80",children:["/ ",T.length]})]})]})]}),k.jsx(nu,{progress:y,className:"w-full rounded-b-2xl overflow-hidden",size:"lg",barClassName:`${E} !h-3.5`,showPercentage:!1})]}),k.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold text-slate-100 mb-8 sm:mb-10",children:t("resultsBreakdownTitle")}),k.jsx("div",{className:"space-y-5",children:T.map((R,U)=>{const M=v.find(H=>H.questionId===R.id),O=M==null?void 0:M.selectedOption,W=M==null?void 0:M.isCorrect;let L="!border-slate-600/60";return W===!0?L="!border-green-500/60":W===!1&&(L="!border-red-500/60"),k.jsx(HT,{initiallyOpen:W===!1,containerClassName:`!rounded-xl shadow-lg ${L}`,title:k.jsxs("div",{className:"flex items-center w-full gap-3",children:[" ",k.jsxs("span",{className:"text-xs text-slate-400 font-semibold",children:["Q",U+1,"."]}),k.jsx("span",{className:`flex-grow text-sm sm:text-base ${W===!0?"text-slate-200":"text-slate-100 font-semibold"} min-w-0 break-words`,title:R.questionText,children:k.jsx(on,{text:R.questionText})})]}),titleClassName:`py-3.5 px-4 sm:px-5 rounded-t-xl ${W===!0?"hover:!bg-green-400/15":W===!1?"hover:!bg-red-400/15":"hover:!bg-slate-700/30"}`,contentClassName:"!bg-slate-700/30",children:k.jsxs("div",{className:"space-y-4 text-sm sm:text-base",children:[k.jsxs("p",{className:"text-slate-300",children:[k.jsxs("strong",{className:"font-semibold text-slate-100",children:[t("practiceSummaryYourSelection")," "]}),k.jsx("span",{className:`${W===!0?"text-green-400 font-medium":W===!1?"text-red-400 font-medium":"text-slate-400"} break-words`,children:k.jsx(on,{text:O||t("practiceSummaryNoSelection")})})]}),W===!1&&k.jsxs("p",{className:"text-slate-300",children:[k.jsxs("strong",{className:"font-semibold text-slate-100",children:[t("resultsCorrectAnswerMC")," "]}),k.jsx("span",{className:"text-green-400 font-medium break-words",children:k.jsx(on,{text:R.correctAnswer})})]}),k.jsxs("div",{className:"mt-5 pt-5 border-t border-slate-600/70",children:[k.jsxs("p",{className:"flex items-start text-base font-semibold text-sky-300 mb-2.5",children:[k.jsx("img",{src:C,alt:t("resultsExplanationTitle"),className:"w-5 h-5 mr-3 flex-shrink-0 mt-0.5"}),t("resultsExplanationTitle")]}),k.jsx("div",{className:"text-slate-300/90 leading-relaxed whitespace-pre-wrap break-words",children:k.jsx(on,{text:R.explanation||t("resultsNoExplanation")})})]})]})},R.id)})}),k.jsxs("div",{className:"mt-14 flex flex-col sm:flex-row justify-center items-center gap-4 sm:gap-5",children:[k.jsx(Je,{onClick:()=>{e(u),i(`/practice/${n}`)},variant:"outline",size:"lg",leftIcon:k.jsx(WT,{className:"w-5 h-5"}),className:"w-full sm:w-auto py-3 px-8 rounded-xl",children:t("practiceAgain")}),k.jsx(Je,{onClick:()=>i("/dashboard"),variant:"primary",size:"lg",leftIcon:k.jsx(jT,{className:"w-5 h-5"}),className:"w-full sm:w-auto bg-gradient-to-r from-sky-500 to-indigo-500 hover:from-sky-600 hover:to-indigo-500 text-white shadow-xl py-3 px-8 rounded-xl",children:t("resultsBackToDashboard")})]})]})},B_={en:{appName:"QuizAI",loading:"Loading...",error:"Error",success:"Success",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",next:"Next",previous:"Previous",submit:"Submit",close:"Close",back:"Back",home:"Home",dashboard:"Dashboard",createQuiz:"Create Quiz",upload:"Upload",settings:"Settings",share:"Share",yes:"Yes",no:"No",untitledQuiz:"Untitled Quiz",logout:"Logout",loginWithGoogle:"Login with Google",signIn:"Sign In",signInTitle:"Sign In to QuizAI",signInSubtitle:"Access your quizzes and unlock full features by signing in.",signInAgreementPrompt:"By signing in, you agree to our",and:"and",apiKeyWarningTitle:"API Key Alert",apiKeyWarningMissing:"{keys} environment variable(s) not set.",apiKeyWarningFunctionality:"Quiz generation may fail.",apiKeyMissingShort:"Key Missing",apiKeyMissingTooltip:"API Key for Google Gemini is missing in your environment setup.",default:"Default",switchToLightTheme:"Switch to Light Theme",switchToDarkTheme:"Switch to Dark Theme",recaptchaVerificationFailed:"Security verification failed. Please try again.",user:"User",confirmDeletionTitle:"Confirm Deletion",confirmDeletionMessage:'Are you sure you want to delete "{quizName}"? This action cannot be undone.',confirmDeleteButton:"Confirm Delete",timesUp:"Time's Up!",timesUpMessage:"The time limit for this quiz has been reached. Your answers will be submitted automatically.",timesUpSubmit:"OK, Submit",attemptSettingsModalTitle:"Quiz Attempt Settings",attemptShuffleQuestionsLabel:"Shuffle Questions for this attempt",attemptShuffleAnswersLabel:"Shuffle Answers for this attempt",attemptTimeLimitLabel:"Time Limit for this attempt (minutes)",attemptTimeLimitInfo:"Enter 0 for no time limit.",saveSettingsButtonText:"Save Settings",rateLimitErrorUnauthenticated:"Unauthenticated users are limited to {limit} quizzes per day. Please sign in for unlimited access.",rateLimitInfoUnauthenticated:"Unauthenticated users: max {limit} quizzes/day.",rateLimitInfoAuthenticated:"Google-authenticated users: unlimited quiz creation.",refresh:"Refresh",refreshing:"Refreshing...",navHome:"Home",navDashboard:"Dashboard",navCreateQuiz:"Create Quiz",languageSwitcherLabel:"Language:",heroTitle:"QuizAI: Transform Any Content into Engaging Quizzes Instantly.",heroSubtitle:"Upload PDFs, text, or images and let my AI craft challenging and insightful quizzes for you.",heroCTA:"Create Your First Quiz",heroCTACreateAnother:"Create Another Quiz",howItWorksTitle:"How It Works",howItWorksUploadTitle:"Upload Content",howItWorksUploadDesc:"Easily upload PDFs, text files, Word documents or even paste text directly. My AI processes various formats seamlessly.",howItWorksCustomizeTitle:"Customize Quiz",howItWorksCustomizeDesc:"Tailor your quiz: set question counts, difficulty, and provide custom instructions. Or let my AI craft the perfect challenge.",howItWorksShareTitle:"Share & Analyze",howItWorksShareDesc:"Share quizzes with a link, track scores, and get detailed AI-powered feedback for every question.",featuresTitle:"Discover the Power of QuizAI",featureIntelligentTitle:"Intelligent Quiz Generation",featureIntelligentDesc:"Leverage cutting-edge AI to create multiple-choice questions from your content. OCR support and custom prompts enhance creation.",featureCustomizeTitle:"Comprehensive Customization",featureCustomizeDesc:"Fine-tune every aspect. Control question numbers, difficulty, and guide the AI with your specific instructions.",featureAnalyticsTitle:"Detailed Analytics & Feedback",featureAnalyticsDesc:"Receive insightful score reports and AI-generated explanations. Understand strengths with scientifically presented feedback.",homeDashboardUserTitle:"Welcome back, {name}!",homeDashboardTitle:"Your Quiz Hub",homeStatsQuizzes:"You have {count} quizzes.",homeRecentQuizzesTitle:"Recent Quizzes",homeViewAllQuizzes:"View All Quizzes",step1Title:"Provide Content",step1UploadOrDrag:"Click to upload or drag and drop",step1AcceptedFiles:"PDF, TXT, DOCX, JPG, PNG (MAX. {maxFileSizeMB}MB)",step1Or:"OR",step1PasteTextLabel:"Paste Text",step1PasteTextPlaceholder:"Paste your text content here...",step1UsePastedText:"Use Pasted Text",step1ProcessingFile:"Processing file...",step1ErrorProcessingFile:"Failed to process file.",step1ErrorUnsupportedFile:"Unsupported file type. Please upload PDF, DOCX, TXT, JPG, or PNG.",step1ErrorPasteText:"Please paste some text.",step2Title:"Configure Quiz",step2BackButton:"Back to Content",step2SourceContent:"Source Content:",step2File:"File: {fileName}",step2Image:"Image: {fileName}",step2PastedText:"Pasted Text",step2ViewFullText:"View Full Extracted Text",step2QuizTitleLabel:"Quiz Title (Suggestion for AI)",step2QuizTitlePlaceholder:"e.g., Introduction to Quantum Physics",step2AIModelLabel:"AI Model",step2AIModeLabel:"AI Mode (Let AI create the best quiz)",step2AIModeDesc:"AI will determine optimal settings. Custom settings below act as suggestions in AI mode.",step2NumQuestionsLabel:"Number of Questions",step2NumQuestionsLabelAIMode:"Number of Questions (0 for AI choice)",step2NumQuestionsAIPlaceholder:"0 for AI choice, or enter number",step2DifficultyLabel:"Difficulty Level",step2DifficultyEasy:"Easy",step2DifficultyMedium:"Medium",step2DifficultyHard:"Hard",step2DifficultyAIDetermined:"AI Determined (Optimized)",step2LanguageLabel:"Language",step2LanguageEnglish:"English",step2LanguageVietnamese:"Vietnamese",step2CustomPromptLabel:"Custom AI Instructions (Optional)",step2CustomPromptPlaceholder:"Enter detailed instructions for the AI, e.g., 'Focus on dates and key figures', 'Create scenario-based questions', 'Ensure explanations are suitable for beginners'. This will guide the AI's quiz generation beyond the standard options.",step2NextButton:"Review & Generate",step3Title:"Confirm & Generate",step3BackButtonCfg:"Back to Config",step3SummaryTitle:"Quiz Summary:",step3AIModelSelected:"AI Model: {modelName}",step3TitleSuggestion:"Title Suggestion: {title}",step3TitleAISuggested:"AI Suggested",step3ContentSource:"Content Source: {source}",step3Mode:"Mode: {mode}",step3ModeAIOptimized:"AI Optimized (AI will use your settings as suggestions)",step3NumQuestions:"Number of Questions: {count}",step3Difficulty:"Difficulty: {level}",step3Language:"Language: {lang}",step3CustomPromptProvided:"Custom Instructions: Provided",step3CustomPromptProvidedLabel:"Custom Instructions Provided",step3CustomPromptNone:"Custom Instructions: None",step3GenerateButton:"Generate Quiz with AI",step3GeneratingButton:"Generating Quiz...",step3AIIsThinking:"AI is thinking...",step3ErrorAPIKeyMissingForModel:"API Key for {modelName} is missing! Quiz generation cannot proceed. Please ensure it is correctly configured in your environment.",step3ErrorGenerate:"Failed to generate quiz.",fullTextModalTitle:"Full Extracted Text",stepCompleted:"Step Completed",dashboardTitle:"My Quizzes",dashboardCreateNew:"Create New Quiz",dashboardNoQuizzes:"No quizzes yet!",dashboardNoQuizzesDesc:"Get started by creating your first AI-powered quiz.",dashboardQuizCardQuestions:"{count} questions",dashboardQuizCardDifficulty:"AI Optimized",dashboardQuizCardSource:"Source: {snippet}",dashboardQuizCardCreated:"Created: {date}",dashboardQuizCardTakeQuiz:"Take Quiz",dashboardShareAlert:"Share link: (Conceptual) quiz-ai.com/share/{quizId}",reviewEditQuizTitle:"Edit Quiz",reviewFinalizeQuizTitle:"Review & Finalize Quiz",reviewEditQuizDesc:"Modify the details of your quiz below.",reviewFinalizeQuizDesc:"Review the AI-generated quiz. Make any edits before saving.",reviewQuizTitleLabel:"Quiz Title",reviewQuestionLabel:"Question {index}",reviewDeleteQuestionLabel:"Delete question",reviewQuestionTextLabel:"Question Text",reviewQuestionTextPlaceholder:"Enter the question text...",reviewOptionsLabel:"Options & Correct Answer",reviewOptionLabel:"Option {index}",reviewOptionPlaceholder:"Option text for choice {index}",reviewNewOptionDefault:"New Option {index}",reviewRemoveOptionLabel:"Remove option",reviewAddOption:"Add Option",reviewCorrectAnswerLabel:"Correct Answer",reviewExplanationLabel:"Explanation",reviewExplanationPlaceholder:"Enter the explanation for this question...",reviewNewQuestionDefaultText:"New Question - Please edit text",reviewNewExplanationDefaultText:"Please provide a detailed explanation.",reviewSaveButton:"Save Quiz",reviewSaveChangesButton:"Save Changes",reviewSavingButton:"Saving...",reviewDiscardRegenerate:"Discard & Regenerate",reviewDiscardRegenerateShort:"Regenerate",reviewDiscardToDashboard:"Discard & To Dashboard",reviewDiscardToDashboardShort:"To Dashboard",reviewCancel:"Cancel",reviewErrorNoQuizData:"No quiz data found to review or edit. Please try creating a quiz again.",reviewErrorQuizNotFound:"Quiz not found for editing.",reviewCannotSaveNoQuestions:"Cannot save a quiz with no questions.",reviewAddNewQuestion:"Add New Question",reviewErrorEmptyQuestionText:"Question text cannot be empty for question ID: {id}.",reviewErrorNotEnoughOptions:"Multiple choice questions must have at least 2 options for question ID: {id}.",reviewErrorInvalidCorrectAnswer:"The selected correct answer is not valid for question ID: {id}.",reviewErrorEmptyExplanation:"Explanation cannot be empty for question ID: {id}.",azotaExportButton:"Export for Azota",azotaExportTitle:"Export Quiz for Azota",azotaExportSelectFormat:"Select Azota Format:",azotaExportFormatStyle1:"Style 1 (Answers & Explanations at End)",azotaExportFormatStyle2:"Style 2 (Explanation & Answer per Question)",azotaExportFormatStyle4:"Style 4 (Correct Answer Marked Inline)",azotaExportPreviewArea:"Formatted Quiz Preview",azotaExportCopy:"Copy to Clipboard",azotaExportCopied:"Copied!",azotaExportDownload:"Download .txt",azotaExportErrorGenerating:"Error generating Azota format.",azotaExportErrorCopy:"Failed to copy content to clipboard.",azotaFormatMCQSection:"Phần 1. TRẮC NGHIỆM",azotaFormatQuestionPrefix:"Câu",azotaFormatEndOfQuiz:"------HẾT------",azotaFormatAnswerTableTitle:"BẢNG ĐÁP ÁN",azotaFormatExplanationSectionTitle:"Hướng dẫn giải",azotaFormatExplanationTitle:"Lời giải",azotaFormatChooseAnswer:"Chọn",azotaFormatExplanationMethod:"Phương pháp:",azotaFormatExplanationSolution:"Cách giải:",quizTakingLoading:"Loading quiz...",quizTakingErrorQuestionNotFound:"Error: Question not found. This might be an issue with the quiz data.",quizTakingQuestionProgress:"Question {current} of {total}",quizTakingTimeLeft:"Time Left: {time}",quizTakingAnswerPlaceholder:"Type your answer here...",quizTakingSubmitQuiz:"Submit Quiz",submitConfirmationMessage:"Are you sure you want to submit your answers? You cannot change them after submitting.",checkAnswer:"Check Answer",answerCorrect:"Correct!",answerIncorrect:"Incorrect.",skipQuestion:"Skip Question",nextQuestion:"Next Question",viewResults:"View Results",resultsLoading:"Loading results...",resultsErrorNotFound:"If results don't load, please return to dashboard.",resultsGoToDashboard:"Go to Dashboard",resultsTitle:"Quiz Results: {quizTitle}",resultsSubtitle:"Review your performance below.",resultsYourScore:"Your Score",resultsCorrectAnswers:"Correct Answers",resultsPerformance:"Overall Performance: {score}%",resultsBreakdownTitle:"Detailed Breakdown:",resultsQuestionItem:"Q{index}.",resultsYourAnswer:"Your Answer:",resultsCorrectAnswerMC:"Correct Answer:",resultsNotAnswered:"Not Answered",resultsExplanationTitle:"Explanation:",resultsNoExplanation:"No detailed explanation available.",resultsViewSourceSnippet:"View related source snippet",resultsTryAgain:"Try Again",resultsCreateNewQuiz:"Create a New Quiz",resultsBackToDashboard:"Back to Dashboard",footerRights:"© {year} {appName}. All rights reserved.",footerTerms:"Terms of Service",footerPrivacy:"Privacy Policy",footerFAQ:"FAQ",footerContactUs:"Contact Me",footerGmail:"Gmail",feedbackSectionTitle:"Provide Feedback",feedbackSectionSubtitle:"I value your input! Share your thoughts, suggestions, or any issues you've encountered.",feedbackTextareaLabel:"Your Feedback",feedbackTextareaPlaceholder:"Type your feedback here...",feedbackSendButton:"Send Feedback via Email",feedbackLoginPromptTitle:"Sign In to Send Feedback",feedbackLoginPromptSubtitle:"Please sign in with your Google account to submit feedback.",feedbackMailSubject:"Feedback for {appName}",feedbackMailBodyUser:"User: {userName} ({userEmail})",feedbackMailBodyContentLabel:"Feedback:",practiceModeCardButton:"Practice",quizPracticeTitle:"Practice Quiz: {quizTitle}",finishPractice:"Finish Practice",practice:"Practice",practiceSummaryTitle:"Practice Summary: {quizTitle}",practiceSummarySubtitle:"Review your practice session.",practiceSummaryCorrectFirstTry:"Correct on First Try",practiceSummaryIncorrectFirstTry:"Incorrect on First Try",practiceSummaryNotAttempted:"Not Attempted or Skipped Before Checking",practiceSummaryYourSelection:"Your Selection:",practiceSummaryNoSelection:"No selection made.",practiceAgain:"Practice Again",testString:"This is a test string.",stringWithParam:"Hello {name}!"},vi:{appName:"QuizAI",loading:"Đang tải...",error:"Lỗi",success:"Thành công",save:"Lưu",cancel:"Hủy",delete:"Xóa",edit:"Chỉnh sửa",next:"Tiếp theo",previous:"Trước đó",submit:"Nộp bài",close:"Đóng",back:"Quay lại",home:"Trang chủ",dashboard:"Bảng điều khiển",createQuiz:"Tạo Quiz",upload:"Tải lên",settings:"Cài đặt",share:"Chia sẻ",yes:"Có",no:"Không",untitledQuiz:"Quiz không có tiêu đề",logout:"Đăng xuất",loginWithGoogle:"Đăng nhập với Google",signIn:"Đăng nhập",signInTitle:"Đăng nhập vào QuizAI",signInSubtitle:"Truy cập các bài quiz của bạn và mở khóa đầy đủ tính năng bằng cách đăng nhập.",signInAgreementPrompt:"Bằng cách đăng nhập, bạn đồng ý với",and:"và",apiKeyWarningTitle:"Cảnh báo API Key",apiKeyWarningMissing:"Biến môi trường {keys} chưa được thiết lập.",apiKeyWarningFunctionality:"Việc tạo quiz có thể thất bại.",apiKeyMissingShort:"Thiếu Key",apiKeyMissingTooltip:"API Key cho Google Gemini bị thiếu trong thiết lập môi trường của bạn.",default:"Mặc định",switchToLightTheme:"Chuyển sang Giao diện Sáng",switchToDarkTheme:"Chuyển sang Giao diện Tối",recaptchaVerificationFailed:"Xác thực bảo mật thất bại. Vui lòng thử lại.",user:"Người dùng",confirmDeletionTitle:"Xác nhận Xóa",confirmDeletionMessage:'Bạn có chắc chắn muốn xóa "{quizName}"? Hành động này không thể hoàn tác.',confirmDeleteButton:"Xác nhận Xóa",timesUp:"Hết giờ!",timesUpMessage:"Thời gian làm bài đã hết. Câu trả lời của bạn sẽ được nộp tự động.",timesUpSubmit:"OK, Nộp bài",attemptSettingsModalTitle:"Cài đặt Lượt làm Quiz",attemptShuffleQuestionsLabel:"Xáo trộn câu hỏi cho lượt này",attemptShuffleAnswersLabel:"Xáo trộn đáp án cho lượt này",attemptTimeLimitLabel:"Giới hạn thời gian cho lượt này (phút)",attemptTimeLimitInfo:"Nhập 0 nếu không giới hạn thời gian.",saveSettingsButtonText:"Lưu Cài đặt",rateLimitErrorUnauthenticated:"Người dùng chưa xác thực được giới hạn {limit} quiz mỗi ngày. Vui lòng đăng nhập để truy cập không giới hạn.",rateLimitInfoUnauthenticated:"Người dùng chưa xác thực: tối đa {limit} quiz/ngày.",rateLimitInfoAuthenticated:"Người dùng đã xác thực qua Google: tạo quiz không giới hạn.",refresh:"Làm mới",refreshing:"Đang làm mới...",navHome:"Trang chủ",navDashboard:"Quiz của tôi",navCreateQuiz:"Tạo Quiz mới",languageSwitcherLabel:"Ngôn ngữ:",heroTitle:"QuizAI: Biến Mọi Nội Dung Thành Quiz Hấp Dẫn Ngay Lập Tức.",heroSubtitle:"Tải lên PDF, văn bản, hoặc hình ảnh và để AI của tôi tạo ra những bài quiz đầy thử thách và sâu sắc cho bạn.",heroCTA:"Tạo Quiz Đầu Tiên",heroCTACreateAnother:"Tạo Quiz Khác",howItWorksTitle:"Cách Hoạt Động",howItWorksUploadTitle:"Tải Lên Nội Dung",howItWorksUploadDesc:"Dễ dàng tải lên PDF, tệp văn bản, tài liệu Word hoặc thậm chí dán trực tiếp văn bản. AI của tôi xử lý nhiều định dạng một cách liền mạch.",howItWorksCustomizeTitle:"Tùy Chỉnh Quiz",howItWorksCustomizeDesc:"Điều chỉnh quiz của bạn: đặt số lượng câu hỏi, độ khó và cung cấp hướng dẫn tùy chỉnh. Hoặc để AI của tôi tạo ra thử thách hoàn hảo.",howItWorksShareTitle:"Chia Sẻ & Phân Tích",howItWorksShareDesc:"Chia sẻ quiz bằng liên kết, theo dõi điểm số và nhận phản hồi chi tiết do AI cung cấp cho mỗi câu hỏi.",featuresTitle:"Khám Phá Sức Mạnh Của QuizAI",featureIntelligentTitle:"Tạo Quiz Thông Minh",featureIntelligentDesc:"Tận dụng AI tiên tiến để tạo ra các câu hỏi trắc nghiệm từ nội dung của bạn. Hỗ trợ OCR và gợi ý tùy chỉnh nâng cao việc tạo.",featureCustomizeTitle:"Tùy Chỉnh Toàn Diện",featureCustomizeDesc:"Tinh chỉnh mọi khía cạnh. Kiểm soát số lượng câu hỏi, độ khó và hướng dẫn AI bằng các chỉ dẫn cụ thể của bạn.",featureAnalyticsTitle:"Phân Tích & Phản Hồi Chi Tiết",featureAnalyticsDesc:"Nhận báo cáo điểm số sâu sắc và giải thích do AI tạo ra. Hiểu rõ điểm mạnh với phản hồi được trình bày khoa học.",homeDashboardUserTitle:"Chào mừng trở lại, {name}!",homeDashboardTitle:"Trung tâm Quiz của bạn",homeStatsQuizzes:"Bạn đang có {count} quiz.",homeRecentQuizzesTitle:"Quiz Gần Đây",homeViewAllQuizzes:"Xem Tất Cả Quiz",step1Title:"Cung cấp nội dung",step1UploadOrDrag:"Nhấn để tải lên hoặc kéo thả",step1AcceptedFiles:"PDF, TXT, DOCX, JPG, PNG (TỐI ĐA {maxFileSizeMB}MB)",step1Or:"HOẶC",step1PasteTextLabel:"Dán văn bản",step1PasteTextPlaceholder:"Dán nội dung văn bản của bạn vào đây...",step1UsePastedText:"Sử dụng văn bản đã dán",step1ProcessingFile:"Đang xử lý tệp...",step1ErrorProcessingFile:"Không thể xử lý tệp.",step1ErrorUnsupportedFile:"Loại tệp không được hỗ trợ. Vui lòng tải lên PDF, DOCX, TXT, JPG, hoặc PNG.",step1ErrorPasteText:"Vui lòng dán một ít văn bản.",step2Title:"Cấu hình Quiz",step2BackButton:"Quay lại Nội dung",step2SourceContent:"Nội dung nguồn:",step2File:"Tệp: {fileName}",step2Image:"Hình ảnh: {fileName}",step2PastedText:"Văn bản đã dán",step2ViewFullText:"Xem toàn bộ văn bản được trích xuất",step2QuizTitleLabel:"Tiêu đề Quiz (Gợi ý cho AI)",step2QuizTitlePlaceholder:"VD: Giới thiệu về Vật lý Lượng tử",step2AIModelLabel:"Mô hình AI",step2AIModeLabel:"Chế độ AI (Để AI tạo quiz tốt nhất)",step2AIModeDesc:"AI sẽ xác định cài đặt tối ưu. Các cài đặt tùy chỉnh bên dưới đóng vai trò là gợi ý trong chế độ AI.",step2NumQuestionsLabel:"Số lượng câu hỏi",step2NumQuestionsLabelAIMode:"Số lượng Câu hỏi (0 để AI chọn)",step2NumQuestionsAIPlaceholder:"0 để AI chọn, hoặc nhập số lượng",step2DifficultyLabel:"Độ khó",step2DifficultyEasy:"Dễ",step2DifficultyMedium:"Trung bình",step2DifficultyHard:"Khó",step2DifficultyAIDetermined:"AI Xác định (Tối ưu hóa)",step2LanguageLabel:"Ngôn ngữ",step2LanguageEnglish:"Tiếng Anh",step2LanguageVietnamese:"Tiếng Việt",step2CustomPromptLabel:"Hướng dẫn AI tùy chỉnh (Không bắt buộc)",step2CustomPromptPlaceholder:"Nhập hướng dẫn chi tiết cho AI, ví dụ: 'Tập trung vào ngày tháng và nhân vật chủ chốt', 'Tạo câu hỏi dựa trên tình huống', 'Đảm bảo giải thích phù hợp cho người mới bắt đầu'. Điều này sẽ hướng dẫn AI tạo quiz vượt ra ngoài các tùy chọn tiêu chuẩn.",step2NextButton:"Xem lại & Tạo",step3Title:"Xác nhận & Tạo",step3BackButtonCfg:"Quay lại Cấu hình",step3SummaryTitle:"Tóm tắt Quiz:",step3AIModelSelected:"Mô hình AI: {modelName}",step3TitleSuggestion:"Gợi ý tiêu đề: {title}",step3TitleAISuggested:"AI gợi ý",step3ContentSource:"Nguồn nội dung: {source}",step3Mode:"Chế độ: {mode}",step3ModeAIOptimized:"AI Tối ưu hóa (AI sẽ sử dụng cài đặt của bạn làm gợi ý)",step3NumQuestions:"Số lượng câu hỏi: {count}",step3Difficulty:"Độ khó: {level}",step3Language:"Ngôn ngữ: {lang}",step3CustomPromptProvided:"Hướng dẫn tùy chỉnh: Đã cung cấp",step3CustomPromptProvidedLabel:"Hướng dẫn tùy chỉnh đã cung cấp",step3CustomPromptNone:"Hướng dẫn tùy chỉnh: Không có",step3GenerateButton:"Tạo Quiz bằng AI",step3GeneratingButton:"Đang tạo Quiz...",step3AIIsThinking:"AI đang suy nghĩ...",step3ErrorAPIKeyMissingForModel:"API Key cho {modelName} bị thiếu! Không thể tạo quiz. Vui lòng đảm bảo đã cấu hình chính xác trong môi trường của bạn.",step3ErrorGenerate:"Không thể tạo quiz.",fullTextModalTitle:"Toàn bộ văn bản được trích xuất",stepCompleted:"Bước hoàn tất",dashboardTitle:"Quiz Của Tôi",dashboardCreateNew:"Tạo Quiz Mới",dashboardNoQuizzes:"Chưa có quiz nào!",dashboardNoQuizzesDesc:"Hãy bắt đầu bằng cách tạo quiz đầu tiên được hỗ trợ bởi AI.",dashboardQuizCardQuestions:"{count} câu hỏi",dashboardQuizCardDifficulty:"AI Tối ưu hóa",dashboardQuizCardSource:"Nguồn: {snippet}",dashboardQuizCardCreated:"Tạo lúc: {date}",dashboardQuizCardTakeQuiz:"Làm Quiz",dashboardShareAlert:"Liên kết chia sẻ: (Mang tính khái niệm) quiz-ai.com/share/{quizId}",reviewEditQuizTitle:"Chỉnh sửa Quiz",reviewFinalizeQuizTitle:"Xem lại & Hoàn tất Quiz",reviewEditQuizDesc:"Sửa đổi chi tiết quiz của bạn bên dưới.",reviewFinalizeQuizDesc:"Xem lại quiz do AI tạo. Thực hiện bất kỳ chỉnh sửa nào trước khi lưu.",reviewQuizTitleLabel:"Tiêu đề Quiz",reviewQuestionLabel:"Câu hỏi {index}",reviewDeleteQuestionLabel:"Xóa câu hỏi",reviewQuestionTextLabel:"Nội dung câu hỏi",reviewQuestionTextPlaceholder:"Nhập nội dung câu hỏi...",reviewOptionsLabel:"Lựa chọn & Đáp án đúng",reviewOptionLabel:"Lựa chọn {index}",reviewOptionPlaceholder:"Nội dung lựa chọn cho câu {index}",reviewNewOptionDefault:"Lựa chọn mới {index}",reviewRemoveOptionLabel:"Xóa lựa chọn",reviewAddOption:"Thêm lựa chọn",reviewCorrectAnswerLabel:"Đáp án đúng",reviewExplanationLabel:"Giải thích",reviewExplanationPlaceholder:"Nhập giải thích cho câu hỏi này...",reviewNewQuestionDefaultText:"Câu hỏi mới - Vui lòng chỉnh sửa nội dung",reviewNewExplanationDefaultText:"Vui lòng cung cấp giải thích chi tiết.",reviewSaveButton:"Lưu Quiz",reviewSaveChangesButton:"Lưu thay đổi",reviewSavingButton:"Đang lưu...",reviewDiscardRegenerate:"Hủy & Tạo lại",reviewDiscardRegenerateShort:"Tạo lại",reviewDiscardToDashboard:"Hủy & Về Bảng điều khiển",reviewDiscardToDashboardShort:"Về Bảng DK",reviewCancel:"Hủy",reviewErrorNoQuizData:"Không tìm thấy dữ liệu quiz để xem lại hoặc chỉnh sửa. Vui lòng thử tạo lại quiz.",reviewErrorQuizNotFound:"Không tìm thấy quiz để chỉnh sửa.",reviewCannotSaveNoQuestions:"Không thể lưu quiz không có câu hỏi nào.",reviewAddNewQuestion:"Thêm câu hỏi mới",reviewErrorEmptyQuestionText:"Nội dung câu hỏi không được để trống cho câu hỏi ID: {id}.",reviewErrorNotEnoughOptions:"Câu hỏi trắc nghiệm phải có ít nhất 2 lựa chọn cho câu hỏi ID: {id}.",reviewErrorInvalidCorrectAnswer:"Đáp án đúng được chọn không hợp lệ cho câu hỏi ID: {id}.",reviewErrorEmptyExplanation:"Giải thích không được để trống cho câu hỏi ID: {id}.",azotaExportButton:"Xuất cho Azota",azotaExportTitle:"Xuất Quiz cho Azota",azotaExportSelectFormat:"Chọn định dạng Azota:",azotaExportFormatStyle1:"Kiểu 1 (Đáp án & Giải thích ở cuối)",azotaExportFormatStyle2:"Kiểu 2 (Giải thích & Đáp án mỗi câu)",azotaExportFormatStyle4:"Kiểu 4 (Đánh dấu đáp án đúng)",azotaExportPreviewArea:"Xem trước Quiz đã định dạng",azotaExportCopy:"Sao chép vào Clipboard",azotaExportCopied:"Đã sao chép!",azotaExportDownload:"Tải xuống .txt",azotaExportErrorGenerating:"Lỗi khi tạo định dạng Azota.",azotaExportErrorCopy:"Không thể sao chép nội dung vào clipboard.",azotaFormatMCQSection:"Phần 1. TRẮC NGHIỆM",azotaFormatQuestionPrefix:"Câu",azotaFormatEndOfQuiz:"------HẾT------",azotaFormatAnswerTableTitle:"BẢNG ĐÁP ÁN",azotaFormatExplanationSectionTitle:"Hướng dẫn giải",azotaFormatExplanationTitle:"Lời giải",azotaFormatChooseAnswer:"Chọn",azotaFormatExplanationMethod:"Phương pháp:",azotaFormatExplanationSolution:"Cách giải:",quizTakingLoading:"Đang tải quiz...",quizTakingErrorQuestionNotFound:"Lỗi: Không tìm thấy câu hỏi. Đây có thể là sự cố với dữ liệu quiz.",quizTakingQuestionProgress:"Câu {current} / {total}",quizTakingTimeLeft:"Thời gian còn lại: {time}",quizTakingAnswerPlaceholder:"Nhập câu trả lời của bạn vào đây...",quizTakingSubmitQuiz:"Nộp Quiz",submitConfirmationMessage:"Bạn có chắc chắn muốn nộp câu trả lời không? Bạn không thể thay đổi sau khi nộp.",checkAnswer:"Kiểm tra Đáp án",answerCorrect:"Chính xác!",answerIncorrect:"Không chính xác.",skipQuestion:"Bỏ qua Câu hỏi",nextQuestion:"Câu tiếp theo",viewResults:"Xem Kết Quả",resultsLoading:"Đang tải kết quả...",resultsErrorNotFound:"Nếu kết quả không tải, vui lòng quay lại bảng điều khiển.",resultsGoToDashboard:"Về Bảng điều khiển",resultsTitle:"Kết quả Quiz: {quizTitle}",resultsSubtitle:"Xem lại kết quả của bạn bên dưới.",resultsYourScore:"Điểm Của Bạn",resultsCorrectAnswers:"Câu Trả Lời Đúng",resultsPerformance:"Kết quả tổng thể: {score}%",resultsBreakdownTitle:"Chi Tiết:",resultsQuestionItem:"Câu {index}.",resultsYourAnswer:"Câu trả lời của bạn:",resultsCorrectAnswerMC:"Đáp án đúng:",resultsNotAnswered:"Chưa trả lời",resultsExplanationTitle:"Giải thích:",resultsNoExplanation:"Không có giải thích chi tiết.",resultsViewSourceSnippet:"Xem đoạn trích nguồn liên quan",resultsTryAgain:"Thử lại",resultsCreateNewQuiz:"Tạo Quiz Mới",resultsBackToDashboard:"Về Bảng điều khiển",footerRights:"© {year} {appName}. Đã đăng ký bản quyền.",footerTerms:"Điều khoản Dịch vụ",footerPrivacy:"Chính sách Bảo mật",footerFAQ:"Hỏi đáp",footerContactUs:"Liên hệ tôi",footerGmail:"Gmail",feedbackSectionTitle:"Gửi Phản Hồi",feedbackSectionSubtitle:"Tôi đánh giá cao ý kiến của bạn! Hãy chia sẻ suy nghĩ, đề xuất hoặc bất kỳ vấn đề nào bạn gặp phải.",feedbackTextareaLabel:"Phản hồi của bạn",feedbackTextareaPlaceholder:"Nhập phản hồi của bạn tại đây...",feedbackSendButton:"Gửi Phản Hồi qua Email",feedbackLoginPromptTitle:"Đăng Nhập để Gửi Phản Hồi",feedbackLoginPromptSubtitle:"Vui lòng đăng nhập bằng tài khoản Google của bạn để gửi phản hồi.",feedbackMailSubject:"Phản hồi cho {appName}",feedbackMailBodyUser:"Người dùng: {userName} ({userEmail})",feedbackMailBodyContentLabel:"Nội dung phản hồi:",practiceModeCardButton:"Luyện tập",quizPracticeTitle:"Luyện tập Quiz: {quizTitle}",finishPractice:"Kết thúc Luyện tập",practice:"Luyện tập",practiceSummaryTitle:"Tổng kết Luyện tập: {quizTitle}",practiceSummarySubtitle:"Xem lại phiên luyện tập của bạn.",practiceSummaryCorrectFirstTry:"Đúng ở lần thử đầu tiên",practiceSummaryIncorrectFirstTry:"Sai ở lần thử đầu tiên",practiceSummaryNotAttempted:"Chưa thử hoặc bỏ qua trước khi kiểm tra",practiceSummaryYourSelection:"Lựa chọn của bạn:",practiceSummaryNoSelection:"Chưa chọn.",practiceAgain:"Luyện tập lại",testString:"Đây là một chuỗi thử nghiệm.",stringWithParam:"Xin chào {name}!"}},oK=r=>(t,n)=>{let s=(B_[r]||B_.en)[t]||B_.en[t];return s===void 0?(console.warn(`Translation key "${t}" not found for language "${r}" or fallback "en".`),t):(n&&Object.keys(n).forEach(a=>{const l=new RegExp(`{${a}}`,"g");s=s.replace(l,String(n[a]))}),s)},c4=de.createContext(void 0),Xi=()=>{const r=de.useContext(c4);if(!r)throw new Error("useAppContext must be used within an AppProvider");return r},Ui=()=>{const{language:r}=Xi();return{t:de.useMemo(()=>oK(r),[r]),language:r}},lK="486123633428-14f8o50husb82sho688e0qvc962ucr4n.apps.googleusercontent.com",cK=({children:r})=>{const[e,t]=de.useState(()=>{const ne=localStorage.getItem("quizzes");return ne?JSON.parse(ne):[]}),[n,i]=de.useState(null),[s,a]=de.useState(null),[l,u]=de.useState(()=>localStorage.getItem("appLanguage")||"en"),[d,h]=de.useState(null),[p,g]=de.useState(!0),[y,v]=de.useState(!1);de.useEffect(()=>{(async()=>{try{const B=await r4();B&&(h(B),await FT(B))}catch(B){console.error("Error initializing auth:",B)}finally{g(!1)}})();const{data:{subscription:F}}=Wr.auth.onAuthStateChange(async(B,N)=>{var K,P,q,ie,te;if(console.log("Auth state changed:",B,(K=N==null?void 0:N.user)==null?void 0:K.id),B==="SIGNED_IN"&&(N!=null&&N.user)){const j={id:N.user.id,name:((P=N.user.user_metadata)==null?void 0:P.full_name)||((q=N.user.user_metadata)==null?void 0:q.name)||null,email:N.user.email||null,imageUrl:((ie=N.user.user_metadata)==null?void 0:ie.picture)||((te=N.user.user_metadata)==null?void 0:te.avatar_url)||null};h(j),g(!0);try{await FT(j);const V=await o4(j.id);console.log(`Loaded ${V.length} quizzes from Supabase for user ${j.id}`);const ee=JSON.parse(localStorage.getItem("quizzes")||"[]"),re=new Map;V.forEach(Ee=>re.set(Ee.id,Ee)),ee.forEach(Ee=>{(!Ee.userId||Ee.userId===j.id)&&(re.has(Ee.id)||re.set(Ee.id,{...Ee,userId:j.id}))});const pe=Array.from(re.values());t(pe),localStorage.setItem("quizzes",JSON.stringify(pe));const be=ee.filter(Ee=>(!Ee.userId||Ee.userId===j.id)&&!V.find(Re=>Re.id===Ee.id));for(const Ee of be)try{await IT({...Ee,userId:j.id}),console.log(`Synced local quiz ${Ee.id} to database`)}catch(Re){console.error("Error syncing quiz to database:",Re)}}catch(V){console.error("Error loading user data:",V)}finally{g(!1)}}else B==="SIGNED_OUT"&&(h(null),t([]),localStorage.removeItem("quizzes"))});return()=>{F.unsubscribe()}},[]),de.useEffect(()=>{v(!0)},[]),de.useEffect(()=>{localStorage.setItem("quizzes",JSON.stringify(e))},[e]),de.useEffect(()=>{localStorage.setItem("quizzes",JSON.stringify(e))},[e]),de.useEffect(()=>{d?localStorage.setItem("currentUser",JSON.stringify(d)):localStorage.removeItem("currentUser")},[d]);const x=ne=>{u(ne),localStorage.setItem("appLanguage",ne),document.documentElement.lang=ne};de.useEffect(()=>{document.documentElement.lang=l},[l]);const T=Hi(),D=zr(),E=de.useCallback((ne,F)=>{T(ne)},[T]),C=async ne=>{const F=d?{...ne,userId:d.id}:ne;if(t(B=>[F,...B]),d)try{const B=await IT(F);B&&t(N=>N.map(K=>K.id===F.id?B:K))}catch(B){console.error("Failed to save quiz to Supabase:",B)}},R=async ne=>{if(t(F=>F.filter(B=>B.id!==ne)),d)try{await a4(ne)}catch(F){console.error("Failed to delete quiz from Supabase:",F)}},U=async ne=>{if(t(F=>F.map(B=>B.id===ne.id?ne:B)),d)try{await s4(ne)}catch(F){console.error("Failed to update quiz in Supabase:",F)}},M=async ne=>{if(a(ne),ne&&(d!=null&&d.id))try{const F={...ne,userId:d.id};console.log("Đang lưu kết quả quiz vào Supabase...");const B=await JD(F);B&&console.log("Đã lưu kết quả quiz thành công:",B.id)}catch(F){console.error("Lỗi khi lưu kết quả quiz:",F)}},O=ne=>{console.log("Login called for user:",ne.id)},W=async()=>{try{await i4()}catch(ne){console.error("Error during logout:",ne),h(null),t([]),localStorage.removeItem("quizzes")}lP(),i(null),a(null),T("/")},L=de.useMemo(()=>d?e.filter(ne=>ne.userId===d.id):e.filter(ne=>!ne.userId),[e,d]),H={currentView:D.pathname.substring(1)||"home",setCurrentView:E,language:l,setLanguage:x,quizzes:L,addQuiz:C,deleteQuiz:R,updateQuiz:U,activeQuiz:n,setActiveQuiz:i,quizResult:s,setQuizResult:M,currentUser:d,login:O,logout:W,isGeminiKeyAvailable:y,isLoading:p};return k.jsx(c4.Provider,{value:H,children:r})},va=({to:r,children:e,end:t=!1,className:n="",activeClassName:i="",inactiveClassName:s="",isMobile:a=!1})=>{const l="px-3.5 py-2 rounded-lg text-sm font-medium transition-colors duration-150 ease-out hover:bg-sky-400/10 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900",u="bg-sky-400/20 text-sky-300 font-semibold",d="text-slate-300 hover:text-sky-300",h="flex flex-col items-center justify-center h-full w-full text-xs transition-colors duration-150 ease-in-out focus:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-sky-400/70 rounded-lg",p="text-sky-300 font-semibold bg-sky-400/15",g="text-slate-400 hover:text-sky-300 hover:bg-slate-500/10";return k.jsx(g5,{to:r,end:t,className:({isActive:y})=>`${a?h:l} ${n} 
         ${y?i||(a?p:u):s||(a?g:d)}`,children:e})};va.displayName="NavLink";const u4=()=>{const{currentUser:r,logout:e}=Xi(),{t}=Ui(),[n,i]=de.useState(!1),s=de.useRef(null);return de.useEffect(()=>{if(!n)return;const a=l=>{s.current&&!s.current.contains(l.target)&&i(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[n]),r?k.jsxs("div",{className:"relative",ref:s,children:[k.jsx("button",{onClick:()=>i(a=>!a),className:"flex items-center p-1 rounded-full focus-visible:ring-2 focus-visible:ring-sky-400 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-800","aria-label":"User menu","aria-expanded":n,"aria-haspopup":"true",children:r.imageUrl?k.jsx("img",{src:r.imageUrl,alt:r.name||"User",className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full border-2 border-slate-600 hover:border-sky-300 transition-all duration-150"}):k.jsx(VT,{className:"w-8 h-8 sm:w-9 sm:h-9 text-slate-400 hover:text-sky-300 transition-colors"})}),k.jsxs("div",{className:`absolute right-0 mt-2.5 w-60 sm:w-64 glass-effect rounded-xl shadow-2xl py-2 z-50 transition-opacity duration-200 ease-out
                            ${n?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,children:[k.jsxs("div",{className:"px-4 py-3 border-b border-slate-700/70",children:[k.jsx("p",{className:"text-sm font-semibold text-slate-100 truncate",title:r.name||void 0,children:r.name||t("untitledQuiz")}),k.jsx("p",{className:"text-xs text-slate-400 truncate",title:r.email||void 0,children:r.email})]}),k.jsxs("button",{onClick:()=>{e(),i(!1)},className:"w-full text-left px-4 py-3 text-sm text-red-400 hover:bg-red-400/15 flex items-center transition-colors hover:text-red-300",children:[k.jsx(fP,{className:"w-4 h-4 mr-2.5 flex-shrink-0"}),t("logout")]})]})]}):null};u4.displayName="UserDropdownMenu";const uK=()=>{const[r,e]=de.useState([]);return de.useEffect(()=>{async function t(){const{data:n}=await Wr.from("todos").select();n&&n.length>1&&e(n)}t()},[]),k.jsx("div",{children:k.jsx("ul",{children:r.map(t=>k.jsx("li",{children:t.title||t.name||JSON.stringify(t)},t.id||Math.random()))})})},d4=()=>{const{language:r,setLanguage:e,currentUser:t,isGeminiKeyAvailable:n}=Xi(),{t:i}=Ui(),s=Hi(),a=[];return n||a.push("Google Gemini API Key (API_KEY)"),k.jsxs("div",{className:"min-h-screen flex flex-col bg-slate-900 selection:bg-sky-500/20 selection:text-sky-300 pb-16 md:pb-0",children:[k.jsx("header",{className:"glass-effect sticky top-0 z-50 border-b border-slate-700/60 shadow-sm",children:k.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:k.jsxs("div",{className:"flex items-center justify-between h-16 md:h-[72px]",children:[k.jsx("div",{className:"flex items-center space-x-2 sm:space-x-3 cursor-pointer group",onClick:()=>s("/"),children:k.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-50 group-hover:text-sky-400 transition-colors duration-150 tracking-tight",children:aU})}),k.jsxs("div",{className:"flex items-center space-x-1.5 sm:space-x-2",children:[k.jsxs("nav",{className:"hidden md:flex items-center space-x-1",children:[k.jsx(va,{to:"/",end:!0,children:i("navHome")}),k.jsx(va,{to:"/dashboard",children:i("navDashboard")}),k.jsx(va,{to:"/create",children:i("navCreateQuiz")}),k.jsx(va,{to:"/todos",children:"Todos"})]}),k.jsx(li,{content:r==="en"?"Change Language / Đổi Ngôn Ngữ":"Đổi Ngôn Ngữ / Change Language",placement:"bottom",children:k.jsxs(Je,{variant:"ghost",size:"md",className:"!p-2 sm:!p-2.5 text-slate-300 hover:text-sky-400 hover:bg-sky-400/10 rounded-lg",onClick:()=>e(r==="en"?"vi":"en"),"aria-label":r==="en"?"Switch to Vietnamese":"Switch to English",children:[k.jsx("img",{src:"https://img.icons8.com/?size=48&id=fs8AdHsHlO36&format=png",alt:"Language",className:"w-5 h-5"}),k.jsx("span",{className:"ml-1.5 sm:ml-2 text-xs font-semibold uppercase hidden lg:inline",children:r})]})}),t?k.jsx(u4,{}):k.jsx(Je,{variant:"primary",size:"sm",onClick:()=>s("/signin"),className:"font-semibold shadow-lg hover:shadow-sky-400/30 py-2 px-4 sm:px-5 rounded-lg",children:i("signIn")})]})]})})}),k.jsxs("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 mobile-nav-style z-40 flex justify-around items-stretch h-16",children:[k.jsxs(va,{to:"/",end:!0,isMobile:!0,children:[k.jsx(jT,{className:"w-5 h-5 mb-0.5"})," ",k.jsx("span",{className:"mt-px text-[0.6rem] font-medium",children:i("navHome")})]}),k.jsxs(va,{to:"/dashboard",isMobile:!0,children:[k.jsx(v5,{className:"w-5 h-5 mb-0.5"})," ",k.jsx("span",{className:"mt-px text-[0.6rem] font-medium",children:i("navDashboard")})]}),k.jsxs(va,{to:"/create",isMobile:!0,children:[k.jsx(Mp,{className:"w-5 h-5 mb-0.5"})," ",k.jsx("span",{className:"mt-px text-[0.6rem] font-medium",children:i("navCreateQuiz")})]}),k.jsxs(va,{to:"/todos",isMobile:!0,children:[k.jsx(VT,{className:"w-5 h-5 mb-0.5"})," ",k.jsx("span",{className:"mt-px text-[0.6rem] font-medium",children:"Todos"})]})]}),k.jsx("main",{className:"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 md:py-10 mb-56 md:mb-0",children:k.jsxs(DO,{children:[k.jsx(sr,{path:"/",element:k.jsx(cU,{})}),k.jsx(sr,{path:"/signin",element:k.jsx(rK,{})}),k.jsx(sr,{path:"/dashboard",element:k.jsx(xP,{})}),k.jsx(sr,{path:"/create",element:k.jsx(GX,{})}),k.jsx(sr,{path:"/review",element:k.jsx(QN,{})}),k.jsx(sr,{path:"/review/:quizId",element:k.jsx(QN,{})}),k.jsx(sr,{path:"/quiz/:quizId",element:k.jsx($X,{})}),k.jsx(sr,{path:"/practice/:quizId",element:k.jsx(sK,{})}),k.jsx(sr,{path:"/practice-summary/:quizId",element:k.jsx(aK,{})}),k.jsx(sr,{path:"/results/:quizId",element:k.jsx(JY,{})}),k.jsx(sr,{path:"/todos",element:k.jsx(uK,{})}),k.jsx(sr,{path:"*",element:k.jsx(cU,{})})]})}),k.jsx("footer",{className:"bg-transparent py-4 md:py-6 mt-auto",children:k.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[k.jsxs("div",{className:"mb-4 md:mb-5 space-x-3 sm:space-x-4 text-center",children:[k.jsx("a",{href:"#",className:"text-xs text-slate-400 hover:text-sky-300 transition-colors duration-150",children:i("footerTerms")}),k.jsx("a",{href:"#",className:"text-xs text-slate-400 hover:text-sky-300 transition-colors duration-150",children:i("footerPrivacy")}),k.jsx("a",{href:"#",className:"text-xs text-slate-400 hover:text-sky-300 transition-colors duration-150",children:i("footerFAQ")})]}),k.jsxs("div",{className:"pt-4 md:pt-5 border-t border-slate-700/50",children:[k.jsx("p",{className:"text-sm font-semibold text-slate-300 mb-3 sm:mb-3 text-center",children:i("footerContactUs")}),k.jsxs("div",{className:"flex justify-center items-center space-x-3 sm:space-x-4",children:[k.jsx(li,{content:"Facebook",placement:"top",children:k.jsx("a",{href:"https://www.facebook.com/boboiboy.gala.7/",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",className:"text-slate-400 hover:text-sky-400 transition-colors duration-150",children:k.jsx("img",{src:"https://img.icons8.com/?size=256&id=uLWV5A9vXIPu&format=png",alt:"Facebook",className:"w-5 h-5"})})}),k.jsx(li,{content:"TikTok",placement:"top",children:k.jsx("a",{href:"https://www.tiktok.com/@teosushi1014",target:"_blank",rel:"noopener noreferrer","aria-label":"TikTok",className:"text-slate-400 hover:text-sky-400 transition-colors duration-150",children:k.jsx("img",{src:"https://img.icons8.com/?size=256&id=118640&format=png",alt:"TikTok",className:"w-5 h-5"})})}),k.jsx(li,{content:"YouTube",placement:"top",children:k.jsx("a",{href:"https://www.youtube.com/@TeoSushi1014",target:"_blank",rel:"noopener noreferrer","aria-label":"YouTube",className:"text-slate-400 hover:text-sky-400 transition-colors duration-150",children:k.jsx("img",{src:"https://img.icons8.com/?size=256&id=19318&format=png",alt:"YouTube",className:"w-5 h-5"})})}),k.jsx(li,{content:i("footerGmail"),placement:"top",children:k.jsx("a",{href:"mailto:teosushi1014@gmail.com","aria-label":i("footerGmail"),className:"text-slate-400 hover:text-sky-400 transition-colors duration-150",children:k.jsx("img",{src:"https://img.icons8.com/?size=256&id=P7UIlhbpWzZm&format=png",alt:"Gmail",className:"w-5 h-5"})})})]})]}),k.jsx("p",{className:"text-xs text-slate-400/70 mt-6 md:mt-8 text-center",children:i("footerRights",{year:new Date().getFullYear(),appName:aU})})]})}),a.length>0&&k.jsxs("div",{role:"alert",className:"fixed bottom-4 left-1/2 -translate-x-1/2 w-auto max-w-[calc(100%-2rem)] bg-amber-500 text-amber-50 p-3 sm:p-3.5 text-xs sm:text-sm shadow-2xl z-[200] flex items-center justify-center gap-2.5 border border-amber-400/50 rounded-xl",children:[k.jsx(w5,{className:"w-4 h-4 sm:w-5 sm:h-5 text-amber-950 flex-shrink-0",strokeWidth:2}),k.jsxs("strong",{className:"font-semibold",children:[i("apiKeyWarningTitle"),":"]}),k.jsxs("span",{className:"text-amber-950/90",children:[i("apiKeyWarningMissing",{keys:a.join(", ")})," ",i("apiKeyWarningFunctionality")]})]})]})};d4.displayName="AppLayout";const h4=()=>k.jsx(oP,{clientId:lK,children:k.jsx(XO,{children:k.jsx(cK,{children:k.jsx(d4,{})})})});h4.displayName="App";const f4=document.getElementById("root");if(!f4)throw new Error("Could not find root element to mount to");const dK=M6.createRoot(f4);dK.render(k.jsx(Pr.StrictMode,{children:k.jsx(h4,{})}));export{Tm as g};
