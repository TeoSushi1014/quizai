import{u as k,a as z,b as U,r as u,c as b,j as e,B as c,P as g,C,d as N,T as $,U as A}from"./index-DcfiZvdk.js";import{Q as B}from"./QuizCard-CJq7L8Th.js";import{m as i}from"./proxy-CsBFvnED.js";import"./MathText-Bdaeuop9.js";const f=3,d=[.25,.1,.25,1],m=.35,D=.4,O={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,duration:m,ease:d}}},y={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:D,ease:d}}},v=()=>{const{currentUser:a,setCurrentView:x}=k(),{t}=z(),[l,s]=u.useState(""),r=()=>{if(!a||!l.trim())return;const o="teosushi1014@gmail.com",p=encodeURIComponent(t("feedbackMailSubject",{appName:t("appName")})),h=encodeURIComponent(`${t("feedbackMailBodyUser",{userName:a.name||"N/A",userEmail:a.email||"N/A"})}

${t("feedbackMailBodyContentLabel")}
${l}`);window.location.href=`mailto:${o}?subject=${p}&body=${h}`,s("")};return e.jsx(i.section,{className:"py-12 md:py-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:m,ease:d},children:e.jsxs(C,{className:"max-w-2xl mx-auto shadow-2xl !rounded-2xl glass-effect !border-slate-700/40",useGlassEffect:!0,children:[e.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[e.jsx(i.h2,{className:"text-2xl sm:text-3xl font-bold text-slate-50 mb-2.5 sm:mb-3",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:m,ease:d,delay:.1},children:t("feedbackSectionTitle")}),e.jsx(i.p,{className:"text-slate-300/80 text-sm sm:text-base max-w-xl mx-auto",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:m,ease:d,delay:.2},children:t("feedbackSectionSubtitle")})]}),e.jsx(i.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:m,ease:d,delay:.3},children:a?e.jsxs("div",{className:"space-y-5",children:[e.jsx($,{label:e.jsx("span",{className:"text-sm font-medium text-slate-200",children:t("feedbackTextareaLabel")}),value:l,onChange:o=>s(o.target.value),placeholder:t("feedbackTextareaPlaceholder"),rows:4,className:"min-h-[100px] sm:min-h-[120px]"}),e.jsx(c,{onClick:r,disabled:!l.trim(),fullWidth:!0,size:"md",variant:"secondary",className:"py-2.5 sm:py-3 shadow-lg",children:t("feedbackSendButton")})]}):e.jsxs("div",{className:"text-center bg-slate-700/50 p-5 sm:p-6 rounded-xl border border-slate-600/70 shadow-inner",children:[e.jsx(A,{className:"w-12 h-12 sm:w-16 sm:h-16 text-slate-500 mx-auto mb-4 sm:mb-6"}),e.jsx("p",{className:"text-base sm:text-lg font-semibold text-slate-200 mb-2 sm:mb-3",children:t("feedbackLoginPromptTitle")}),e.jsx("p",{className:"text-slate-400 text-xs sm:text-sm mb-6 sm:mb-8 max-w-md mx-auto",children:t("feedbackLoginPromptSubtitle")}),e.jsx(c,{onClick:()=>x("/signin"),variant:"primary",size:"sm",className:"py-2.5 px-5 sm:px-6 rounded-lg",children:t("signIn")})]})})]})})},H=()=>{const{quizzes:a,currentUser:x,setCurrentView:t,deleteQuiz:l}=k(),{t:s}=z(),r=U(),o=u.useRef(null),p=b(o,{threshold:.1,freezeOnceVisible:!0}),h=u.useRef(null),I=b(h,{threshold:.2,freezeOnceVisible:!0}),j=u.useRef(null),T=b(j,{threshold:.05,freezeOnceVisible:!0}),S=a.length>0?"heroCTACreateAnother":"heroCTA",V=s(S),Q=n=>{l(n)},R=n=>{r(`/review/${n.id}`,{state:{existingQuiz:n}})};if(a.length===0)return e.jsxs("div",{className:"space-y-12 md:space-y-16",children:[e.jsx("section",{ref:o,className:`relative text-center py-20 md:py-28 rounded-2xl sm:rounded-3xl overflow-hidden shadow-2xl
          bg-gradient-to-br from-sky-600/20 via-slate-800/50 to-purple-600/20
          border border-slate-700/40`,children:e.jsxs(i.div,{className:"relative z-10 container mx-auto px-4",initial:"hidden",animate:p?"visible":"hidden",variants:O,children:[e.jsxs(i.h1,{variants:y,className:"text-3xl sm:text-4xl md:text-5xl xl:text-6xl font-extrabold text-slate-50 leading-tight mb-6 sm:mb-8",children:[s("heroTitle").split(": ")[0],": ",e.jsx("br",{className:"sm:hidden"})," ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-sky-400 via-indigo-400 to-purple-400",children:s("heroTitle").split(": ")[1]})]}),e.jsx(i.p,{variants:y,className:"text-sm sm:text-base md:text-lg text-slate-300/80 max-w-xl md:max-w-2xl xl:max-w-3xl mx-auto mb-10 sm:mb-12",children:s("heroSubtitle")}),e.jsx(i.div,{variants:y,children:e.jsx(c,{size:"md",variant:"primary",onClick:()=>t("/create"),leftIcon:e.jsx(g,{className:"w-5 h-5",strokeWidth:2.5}),className:"shadow-2xl hover:shadow-sky-400/50 focus:ring-offset-transparent py-3 px-8 sm:py-3.5 sm:px-10 text-sm sm:text-base rounded-xl",children:V})})]})}),e.jsx(v,{})]});const w=a.slice(0,f);return e.jsxs("div",{className:"space-y-12 md:space-y-16",children:[e.jsx("section",{ref:h,className:`${I?"animate-fadeInUp":"opacity-0"}`,children:e.jsx(C,{useGlassEffect:!0,className:"!p-6 sm:!p-8 text-center sm:text-left !rounded-2xl shadow-2xl !border-slate-700/40",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-50 mb-2",children:x?s("homeDashboardUserTitle",{name:x.name||s("user")}):s("homeDashboardTitle")}),e.jsx("p",{className:"text-slate-300 text-sm sm:text-base",children:s("homeStatsQuizzes",{count:a.length})})]}),e.jsx("div",{children:e.jsx(c,{variant:"primary",size:"lg",onClick:()=>r("/create"),leftIcon:e.jsx(g,{className:"w-5 h-5",strokeWidth:2.5}),className:"shadow-xl hover:shadow-sky-400/50 py-3 px-7 rounded-xl w-full sm:w-auto flex-shrink-0",children:s("dashboardCreateNew")})})]})})}),w.length>0&&e.jsxs("section",{ref:j,className:`${T?"animate-fadeInUp":"opacity-0"}`,children:[e.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6 sm:mb-8 gap-4",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold text-slate-100",children:s("homeRecentQuizzesTitle")}),a.length>f&&e.jsx(c,{variant:"link",onClick:()=>r("/dashboard"),className:"text-sm text-sky-300 hover:text-sky-200",rightIcon:e.jsx(N,{className:"w-4 h-4"}),children:s("homeViewAllQuizzes")})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 xl:gap-8",children:w.map((n,E)=>e.jsx(B,{quiz:n,onDelete:Q,onEditQuiz:R,animationDelay:`${E*100}ms`},n.id))}),a.length>0&&a.length<=f&&e.jsx("div",{className:"mt-8 sm:mt-10 text-center",children:e.jsx(c,{variant:"secondary",onClick:()=>r("/dashboard"),size:"md",className:"py-2.5 px-6 rounded-lg shadow-lg hover:shadow-slate-900/50",rightIcon:e.jsx(N,{className:"w-4 h-4"}),children:s("homeViewAllQuizzes")})})]}),e.jsx(v,{})]})};export{H as default};
