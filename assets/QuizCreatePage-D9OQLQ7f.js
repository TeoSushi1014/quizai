var XT=Object.defineProperty;var hv=s=>{throw TypeError(s)};var YT=(s,e,t)=>e in s?XT(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var qe=(s,e,t)=>YT(s,typeof e!="symbol"?e+"":e,t),tp=(s,e,t)=>e.has(s)||hv("Cannot "+t);var g=(s,e,t)=>(tp(s,e,"read from private field"),t?t.call(s):e.get(s)),B=(s,e,t)=>e.has(s)?hv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),M=(s,e,t,n)=>(tp(s,e,"write to private field"),n?n.call(s,t):e.set(s,t),t),N=(s,e,t)=>(tp(s,e,"access private method"),t);var Tn=(s,e,t,n)=>({set _(i){M(s,e,i,t)},get _(){return g(s,e,n)}});import{r as ze,M as KT,j as fe,u as N1,P as ZT,a as JT,b as QT,L as jT,l as Ze,G as xg,c as Mn,_ as ad,g as eA,d as os,e as od,f as tA,h as nA,i as iA,k as rA,m as cd,R as ld,C as Ja,n as fv,D as np,o as sA,I as pv,B as kr,p as gv,q as mv,T as yv,K as aA,s as vv,t as oA,S as bv,v as ip,w as cA,x as lA,y as uA,z as dA}from"./index-s5Pu3w2C.js";class hA extends ze.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function fA({children:s,isPresent:e}){const t=ze.useId(),n=ze.useRef(null),i=ze.useRef({width:0,height:0,top:0,left:0}),{nonce:r}=ze.useContext(KT);return ze.useInsertionEffect(()=>{const{width:a,height:o,top:c,left:l}=i.current;if(e||!n.current||!a||!o)return;n.current.dataset.motionPopId=t;const u=document.createElement("style");return r&&(u.nonce=r),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${c}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),fe.jsx(hA,{isPresent:e,childRef:n,sizeRef:i,children:ze.cloneElement(s,{ref:n})})}const pA=({children:s,initial:e,isPresent:t,onExitComplete:n,custom:i,presenceAffectsLayout:r,mode:a})=>{const o=N1(gA),c=ze.useId(),l=ze.useCallback(d=>{o.set(d,!0);for(const h of o.values())if(!h)return;n&&n()},[o,n]),u=ze.useMemo(()=>({id:c,initial:e,isPresent:t,custom:i,onExitComplete:l,register:d=>(o.set(d,!1),()=>o.delete(d))}),r?[Math.random(),l]:[t,l]);return ze.useMemo(()=>{o.forEach((d,h)=>o.set(h,!1))},[t]),ze.useEffect(()=>{!t&&!o.size&&n&&n()},[t]),a==="popLayout"&&(s=fe.jsx(fA,{isPresent:t,children:s})),fe.jsx(ZT.Provider,{value:u,children:s})};function gA(){return new Map}const ud=s=>s.key||"";function _v(s){const e=[];return ze.Children.forEach(s,t=>{ze.isValidElement(t)&&e.push(t)}),e}const mA=({children:s,custom:e,initial:t=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:r="sync",propagate:a=!1})=>{const[o,c]=JT(a),l=ze.useMemo(()=>_v(s),[s]),u=a&&!o?[]:l.map(ud),d=ze.useRef(!0),h=ze.useRef(l),p=N1(()=>new Map),[y,v]=ze.useState(l),[b,_]=ze.useState(l);QT(()=>{d.current=!1,h.current=l;for(let A=0;A<b.length;A++){const T=ud(b[A]);u.includes(T)?p.delete(T):p.get(T)!==!0&&p.set(T,!1)}},[b,u.length,u.join("-")]);const x=[];if(l!==y){let A=[...l];for(let T=0;T<b.length;T++){const E=b[T],F=ud(E);u.includes(F)||(A.splice(T,0,E),x.push(E))}r==="wait"&&x.length&&(A=x),_(_v(A)),v(l);return}const{forceRender:D}=ze.useContext(jT);return fe.jsx(fe.Fragment,{children:b.map(A=>{const T=ud(A),E=a&&!o?!1:l===b||u.includes(T),F=()=>{if(p.has(T))p.set(T,!0);else return;let I=!0;p.forEach(U=>{U||(I=!1)}),I&&(D==null||D(),_(h.current),a&&(c==null||c()),n&&n())};return fe.jsx(pA,{isPresent:E,initial:!d.current||t?void 0:!1,custom:E?void 0:e,presenceAffectsLayout:i,mode:r,onExitComplete:E?void 0:F,children:A},T)})})};var tt;(function(s){s.assertEqual=i=>{};function e(i){}s.assertIs=e;function t(i){throw new Error}s.assertNever=t,s.arrayToEnum=i=>{const r={};for(const a of i)r[a]=a;return r},s.getValidEnumValues=i=>{const r=s.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of r)a[o]=i[o];return s.objectValues(a)},s.objectValues=i=>s.objectKeys(i).map(function(r){return i[r]}),s.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const r=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&r.push(a);return r},s.find=(i,r)=>{for(const a of i)if(r(a))return a},s.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,r=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(r)}s.joinValues=n,s.jsonStringifyReplacer=(i,r)=>typeof r=="bigint"?r.toString():r})(tt||(tt={}));var xv;(function(s){s.mergeShapes=(e,t)=>({...e,...t})})(xv||(xv={}));const Se=tt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Br=s=>{switch(typeof s){case"undefined":return Se.undefined;case"string":return Se.string;case"number":return Number.isNaN(s)?Se.nan:Se.number;case"boolean":return Se.boolean;case"function":return Se.function;case"bigint":return Se.bigint;case"symbol":return Se.symbol;case"object":return Array.isArray(s)?Se.array:s===null?Se.null:s.then&&typeof s.then=="function"&&s.catch&&typeof s.catch=="function"?Se.promise:typeof Map<"u"&&s instanceof Map?Se.map:typeof Set<"u"&&s instanceof Set?Se.set:typeof Date<"u"&&s instanceof Date?Se.date:Se.object;default:return Se.unknown}},be=tt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class wr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(r){return r.message},n={_errors:[]},i=r=>{for(const a of r.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(t(a));else{let o=n,c=0;for(;c<a.path.length;){const l=a.path[c];c===a.path.length-1?(o[l]=o[l]||{_errors:[]},o[l]._errors.push(t(a))):o[l]=o[l]||{_errors:[]},o=o[l],c++}}};return i(this),n}static assert(e){if(!(e instanceof wr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,tt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},n=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}wr.create=s=>new wr(s);const Dg=(s,e)=>{let t;switch(s.code){case be.invalid_type:s.received===Se.undefined?t="Required":t=`Expected ${s.expected}, received ${s.received}`;break;case be.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(s.expected,tt.jsonStringifyReplacer)}`;break;case be.unrecognized_keys:t=`Unrecognized key(s) in object: ${tt.joinValues(s.keys,", ")}`;break;case be.invalid_union:t="Invalid input";break;case be.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${tt.joinValues(s.options)}`;break;case be.invalid_enum_value:t=`Invalid enum value. Expected ${tt.joinValues(s.options)}, received '${s.received}'`;break;case be.invalid_arguments:t="Invalid function arguments";break;case be.invalid_return_type:t="Invalid function return type";break;case be.invalid_date:t="Invalid date";break;case be.invalid_string:typeof s.validation=="object"?"includes"in s.validation?(t=`Invalid input: must include "${s.validation.includes}"`,typeof s.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${s.validation.position}`)):"startsWith"in s.validation?t=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?t=`Invalid input: must end with "${s.validation.endsWith}"`:tt.assertNever(s.validation):s.validation!=="regex"?t=`Invalid ${s.validation}`:t="Invalid";break;case be.too_small:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(s.minimum))}`:t="Invalid input";break;case be.too_big:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="bigint"?t=`BigInt must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(s.maximum))}`:t="Invalid input";break;case be.custom:t="Invalid input";break;case be.invalid_intersection_types:t="Intersection results could not be merged";break;case be.not_multiple_of:t=`Number must be a multiple of ${s.multipleOf}`;break;case be.not_finite:t="Number must be finite";break;default:t=e.defaultError,tt.assertNever(s)}return{message:t}};let yA=Dg;function vA(){return yA}const bA=s=>{const{data:e,path:t,errorMaps:n,issueData:i}=s,r=[...t,...i.path||[]],a={...i,path:r};if(i.message!==void 0)return{...i,path:r,message:i.message};let o="";const c=n.filter(l=>!!l).slice().reverse();for(const l of c)o=l(a,{data:e,defaultError:o}).message;return{...i,path:r,message:o}};function Ee(s,e){const t=vA(),n=bA({issueData:e,data:s.data,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,t,t===Dg?void 0:Dg].filter(i=>!!i)});s.common.issues.push(n)}class ln{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const i of t){if(i.status==="aborted")return Ve;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const i of t){const r=await i.key,a=await i.value;n.push({key:r,value:a})}return ln.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const i of t){const{key:r,value:a}=i;if(r.status==="aborted"||a.status==="aborted")return Ve;r.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),r.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(n[r.value]=a.value)}return{status:e.value,value:n}}}const Ve=Object.freeze({status:"aborted"}),Wc=s=>({status:"dirty",value:s}),Kn=s=>({status:"valid",value:s}),Dv=s=>s.status==="aborted",Tv=s=>s.status==="dirty",uc=s=>s.status==="valid",Sh=s=>typeof Promise<"u"&&s instanceof Promise;var Ie;(function(s){s.errToObj=e=>typeof e=="string"?{message:e}:e||{},s.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ie||(Ie={}));var Uh=function(s,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?s!==e||!n:!e.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(s):n?n.value:e.get(s)},P1=function(s,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?s!==e||!i:!e.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(s,t):i?i.value=t:e.set(s,t),t},qc,Vc;class Oi{constructor(e,t,n,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Av=(s,e)=>{if(uc(e))return{success:!0,data:e.value};if(!s.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new wr(s.common.issues);return this._error=t,this._error}}};function Ge(s){if(!s)return{};const{errorMap:e,invalid_type_error:t,required_error:n,description:i}=s;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>{const{message:c}=s;return a.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??n??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:c??t??o.defaultError}},description:i}}class Qe{get description(){return this._def.description}_getType(e){return Br(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Br(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ln,ctx:{common:e.parent.common,data:e.data,parsedType:Br(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Sh(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){const n={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Br(e)},i=this._parseSync({data:e,path:n.path,parent:n});return Av(n,i)}"~validate"(e){var n,i;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Br(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:t});return uc(r)?{value:r.value}:{issues:t.common.issues}}catch(r){(i=(n=r==null?void 0:r.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(r=>uc(r)?{value:r.value}:{issues:t.common.issues})}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Br(e)},i=this._parse({data:e,path:n.path,parent:n}),r=await(Sh(i)?i:Promise.resolve(i));return Av(n,r)}refine(e,t){const n=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,r)=>{const a=e(i),o=()=>r.addIssue({code:be.custom,...n(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,t){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof t=="function"?t(n,i):t),!1))}_refinement(e){return new fc({schema:this,typeName:Oe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return cs.create(this,this._def)}nullable(){return pc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Pi.create(this)}promise(){return Mh.create(this,this._def)}or(e){return Ih.create([this,e],this._def)}and(e){return Rh.create(this,e,this._def)}transform(e){return new fc({...Ge(this._def),schema:this,typeName:Oe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Eg({...Ge(this._def),innerType:this,defaultValue:t,typeName:Oe.ZodDefault})}brand(){return new VA({typeName:Oe.ZodBranded,type:this,...Ge(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new wg({...Ge(this._def),innerType:this,catchValue:t,typeName:Oe.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return ry.create(this,e)}readonly(){return Sg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const _A=/^c[^\s-]{8,}$/i,xA=/^[0-9a-z]+$/,DA=/^[0-9A-HJKMNP-TV-Z]{26}$/i,TA=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,AA=/^[a-z0-9_-]{21}$/i,CA=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,EA=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,wA=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,SA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let rp;const UA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,FA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,IA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,RA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,kA=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,MA=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,L1="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",NA=new RegExp(`^${L1}$`);function B1(s){let e="[0-5]\\d";s.precision?e=`${e}\\.\\d{${s.precision}}`:s.precision==null&&(e=`${e}(\\.\\d+)?`);const t=s.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function PA(s){return new RegExp(`^${B1(s)}$`)}function LA(s){let e=`${L1}T${B1(s)}`;const t=[];return t.push(s.local?"Z?":"Z"),s.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function BA(s,e){return!!((e==="v4"||!e)&&UA.test(s)||(e==="v6"||!e)&&IA.test(s))}function OA(s,e){if(!CA.test(s))return!1;try{const[t]=s.split("."),n=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function WA(s,e){return!!((e==="v4"||!e)&&FA.test(s)||(e==="v6"||!e)&&RA.test(s))}class Ni extends Qe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Se.string){const r=this._getOrReturnCtx(e);return Ee(r,{code:be.invalid_type,expected:Se.string,received:r.parsedType}),Ve}const n=new ln;let i;for(const r of this._def.checks)if(r.kind==="min")e.data.length<r.value&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:be.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),n.dirty());else if(r.kind==="max")e.data.length>r.value&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:be.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),n.dirty());else if(r.kind==="length"){const a=e.data.length>r.value,o=e.data.length<r.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?Ee(i,{code:be.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):o&&Ee(i,{code:be.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),n.dirty())}else if(r.kind==="email")wA.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"email",code:be.invalid_string,message:r.message}),n.dirty());else if(r.kind==="emoji")rp||(rp=new RegExp(SA,"u")),rp.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"emoji",code:be.invalid_string,message:r.message}),n.dirty());else if(r.kind==="uuid")TA.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"uuid",code:be.invalid_string,message:r.message}),n.dirty());else if(r.kind==="nanoid")AA.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"nanoid",code:be.invalid_string,message:r.message}),n.dirty());else if(r.kind==="cuid")_A.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"cuid",code:be.invalid_string,message:r.message}),n.dirty());else if(r.kind==="cuid2")xA.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"cuid2",code:be.invalid_string,message:r.message}),n.dirty());else if(r.kind==="ulid")DA.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"ulid",code:be.invalid_string,message:r.message}),n.dirty());else if(r.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Ee(i,{validation:"url",code:be.invalid_string,message:r.message}),n.dirty()}else r.kind==="regex"?(r.regex.lastIndex=0,r.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"regex",code:be.invalid_string,message:r.message}),n.dirty())):r.kind==="trim"?e.data=e.data.trim():r.kind==="includes"?e.data.includes(r.value,r.position)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:be.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),n.dirty()):r.kind==="toLowerCase"?e.data=e.data.toLowerCase():r.kind==="toUpperCase"?e.data=e.data.toUpperCase():r.kind==="startsWith"?e.data.startsWith(r.value)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:be.invalid_string,validation:{startsWith:r.value},message:r.message}),n.dirty()):r.kind==="endsWith"?e.data.endsWith(r.value)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:be.invalid_string,validation:{endsWith:r.value},message:r.message}),n.dirty()):r.kind==="datetime"?LA(r).test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:be.invalid_string,validation:"datetime",message:r.message}),n.dirty()):r.kind==="date"?NA.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:be.invalid_string,validation:"date",message:r.message}),n.dirty()):r.kind==="time"?PA(r).test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:be.invalid_string,validation:"time",message:r.message}),n.dirty()):r.kind==="duration"?EA.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"duration",code:be.invalid_string,message:r.message}),n.dirty()):r.kind==="ip"?BA(e.data,r.version)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"ip",code:be.invalid_string,message:r.message}),n.dirty()):r.kind==="jwt"?OA(e.data,r.alg)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"jwt",code:be.invalid_string,message:r.message}),n.dirty()):r.kind==="cidr"?WA(e.data,r.version)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"cidr",code:be.invalid_string,message:r.message}),n.dirty()):r.kind==="base64"?kA.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"base64",code:be.invalid_string,message:r.message}),n.dirty()):r.kind==="base64url"?MA.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"base64url",code:be.invalid_string,message:r.message}),n.dirty()):tt.assertNever(r);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(i=>e.test(i),{validation:t,code:be.invalid_string,...Ie.errToObj(n)})}_addCheck(e){return new Ni({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ie.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ie.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ie.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ie.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ie.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ie.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ie.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ie.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ie.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ie.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ie.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ie.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ie.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Ie.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ie.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ie.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Ie.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Ie.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Ie.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Ie.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Ie.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Ie.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Ie.errToObj(t)})}nonempty(e){return this.min(1,Ie.errToObj(e))}trim(){return new Ni({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ni({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ni({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ni.create=s=>new Ni({checks:[],typeName:Oe.ZodString,coerce:(s==null?void 0:s.coerce)??!1,...Ge(s)});function qA(s,e){const t=(s.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=t>n?t:n,r=Number.parseInt(s.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return r%a/10**i}class Ma extends Qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Se.number){const r=this._getOrReturnCtx(e);return Ee(r,{code:be.invalid_type,expected:Se.number,received:r.parsedType}),Ve}let n;const i=new ln;for(const r of this._def.checks)r.kind==="int"?tt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Ee(n,{code:be.invalid_type,expected:"integer",received:"float",message:r.message}),i.dirty()):r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(n=this._getOrReturnCtx(e,n),Ee(n,{code:be.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(n=this._getOrReturnCtx(e,n),Ee(n,{code:be.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):r.kind==="multipleOf"?qA(e.data,r.value)!==0&&(n=this._getOrReturnCtx(e,n),Ee(n,{code:be.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):r.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Ee(n,{code:be.not_finite,message:r.message}),i.dirty()):tt.assertNever(r);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Ie.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ie.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ie.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ie.toString(t))}setLimit(e,t,n,i){return new Ma({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Ie.toString(i)}]})}_addCheck(e){return new Ma({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ie.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ie.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ie.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ie.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ie.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ie.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Ie.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ie.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ie.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&tt.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Ma.create=s=>new Ma({checks:[],typeName:Oe.ZodNumber,coerce:(s==null?void 0:s.coerce)||!1,...Ge(s)});class Na extends Qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Se.bigint)return this._getInvalidInput(e);let n;const i=new ln;for(const r of this._def.checks)r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(n=this._getOrReturnCtx(e,n),Ee(n,{code:be.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(n=this._getOrReturnCtx(e,n),Ee(n,{code:be.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):r.kind==="multipleOf"?e.data%r.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Ee(n,{code:be.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):tt.assertNever(r);return{status:i.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Ee(t,{code:be.invalid_type,expected:Se.bigint,received:t.parsedType}),Ve}gte(e,t){return this.setLimit("min",e,!0,Ie.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ie.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ie.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ie.toString(t))}setLimit(e,t,n,i){return new Na({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Ie.toString(i)}]})}_addCheck(e){return new Na({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ie.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ie.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ie.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ie.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ie.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Na.create=s=>new Na({checks:[],typeName:Oe.ZodBigInt,coerce:(s==null?void 0:s.coerce)??!1,...Ge(s)});class Fh extends Qe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Se.boolean){const n=this._getOrReturnCtx(e);return Ee(n,{code:be.invalid_type,expected:Se.boolean,received:n.parsedType}),Ve}return Kn(e.data)}}Fh.create=s=>new Fh({typeName:Oe.ZodBoolean,coerce:(s==null?void 0:s.coerce)||!1,...Ge(s)});class dc extends Qe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Se.date){const r=this._getOrReturnCtx(e);return Ee(r,{code:be.invalid_type,expected:Se.date,received:r.parsedType}),Ve}if(Number.isNaN(e.data.getTime())){const r=this._getOrReturnCtx(e);return Ee(r,{code:be.invalid_date}),Ve}const n=new ln;let i;for(const r of this._def.checks)r.kind==="min"?e.data.getTime()<r.value&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:be.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),n.dirty()):r.kind==="max"?e.data.getTime()>r.value&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:be.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),n.dirty()):tt.assertNever(r);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new dc({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Ie.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Ie.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}dc.create=s=>new dc({checks:[],coerce:(s==null?void 0:s.coerce)||!1,typeName:Oe.ZodDate,...Ge(s)});class Cv extends Qe{_parse(e){if(this._getType(e)!==Se.symbol){const n=this._getOrReturnCtx(e);return Ee(n,{code:be.invalid_type,expected:Se.symbol,received:n.parsedType}),Ve}return Kn(e.data)}}Cv.create=s=>new Cv({typeName:Oe.ZodSymbol,...Ge(s)});class Ev extends Qe{_parse(e){if(this._getType(e)!==Se.undefined){const n=this._getOrReturnCtx(e);return Ee(n,{code:be.invalid_type,expected:Se.undefined,received:n.parsedType}),Ve}return Kn(e.data)}}Ev.create=s=>new Ev({typeName:Oe.ZodUndefined,...Ge(s)});class wv extends Qe{_parse(e){if(this._getType(e)!==Se.null){const n=this._getOrReturnCtx(e);return Ee(n,{code:be.invalid_type,expected:Se.null,received:n.parsedType}),Ve}return Kn(e.data)}}wv.create=s=>new wv({typeName:Oe.ZodNull,...Ge(s)});class Sv extends Qe{constructor(){super(...arguments),this._any=!0}_parse(e){return Kn(e.data)}}Sv.create=s=>new Sv({typeName:Oe.ZodAny,...Ge(s)});class Tg extends Qe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Kn(e.data)}}Tg.create=s=>new Tg({typeName:Oe.ZodUnknown,...Ge(s)});class ls extends Qe{_parse(e){const t=this._getOrReturnCtx(e);return Ee(t,{code:be.invalid_type,expected:Se.never,received:t.parsedType}),Ve}}ls.create=s=>new ls({typeName:Oe.ZodNever,...Ge(s)});class Uv extends Qe{_parse(e){if(this._getType(e)!==Se.undefined){const n=this._getOrReturnCtx(e);return Ee(n,{code:be.invalid_type,expected:Se.void,received:n.parsedType}),Ve}return Kn(e.data)}}Uv.create=s=>new Uv({typeName:Oe.ZodVoid,...Ge(s)});class Pi extends Qe{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),i=this._def;if(t.parsedType!==Se.array)return Ee(t,{code:be.invalid_type,expected:Se.array,received:t.parsedType}),Ve;if(i.exactLength!==null){const a=t.data.length>i.exactLength.value,o=t.data.length<i.exactLength.value;(a||o)&&(Ee(t,{code:a?be.too_big:be.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(Ee(t,{code:be.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(Ee(t,{code:be.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((a,o)=>i.type._parseAsync(new Oi(t,a,t.path,o)))).then(a=>ln.mergeArray(n,a));const r=[...t.data].map((a,o)=>i.type._parseSync(new Oi(t,a,t.path,o)));return ln.mergeArray(n,r)}get element(){return this._def.type}min(e,t){return new Pi({...this._def,minLength:{value:e,message:Ie.toString(t)}})}max(e,t){return new Pi({...this._def,maxLength:{value:e,message:Ie.toString(t)}})}length(e,t){return new Pi({...this._def,exactLength:{value:e,message:Ie.toString(t)}})}nonempty(e){return this.min(1,e)}}Pi.create=(s,e)=>new Pi({type:s,minLength:null,maxLength:null,exactLength:null,typeName:Oe.ZodArray,...Ge(e)});function to(s){if(s instanceof wt){const e={};for(const t in s.shape){const n=s.shape[t];e[t]=cs.create(to(n))}return new wt({...s._def,shape:()=>e})}else return s instanceof Pi?new Pi({...s._def,type:to(s.element)}):s instanceof cs?cs.create(to(s.unwrap())):s instanceof pc?pc.create(to(s.unwrap())):s instanceof Pa?Pa.create(s.items.map(e=>to(e))):s}class wt extends Qe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=tt.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==Se.object){const l=this._getOrReturnCtx(e);return Ee(l,{code:be.invalid_type,expected:Se.object,received:l.parsedType}),Ve}const{status:n,ctx:i}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof ls&&this._def.unknownKeys==="strip"))for(const l in i.data)a.includes(l)||o.push(l);const c=[];for(const l of a){const u=r[l],d=i.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Oi(i,d,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof ls){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of o)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(l==="strict")o.length>0&&(Ee(i,{code:be.unrecognized_keys,keys:o}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of o){const d=i.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Oi(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key,h=await u.value;l.push({key:d,value:h,alwaysSet:u.alwaysSet})}return l}).then(l=>ln.mergeObjectSync(n,l)):ln.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return Ie.errToObj,new wt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{var r,a;const i=((a=(r=this._def).errorMap)==null?void 0:a.call(r,t,n).message)??n.defaultError;return t.code==="unrecognized_keys"?{message:Ie.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new wt({...this._def,unknownKeys:"strip"})}passthrough(){return new wt({...this._def,unknownKeys:"passthrough"})}extend(e){return new wt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new wt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Oe.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new wt({...this._def,catchall:e})}pick(e){const t={};for(const n of tt.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new wt({...this._def,shape:()=>t})}omit(e){const t={};for(const n of tt.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new wt({...this._def,shape:()=>t})}deepPartial(){return to(this)}partial(e){const t={};for(const n of tt.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?t[n]=i:t[n]=i.optional()}return new wt({...this._def,shape:()=>t})}required(e){const t={};for(const n of tt.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let r=this.shape[n];for(;r instanceof cs;)r=r._def.innerType;t[n]=r}return new wt({...this._def,shape:()=>t})}keyof(){return O1(tt.objectKeys(this.shape))}}wt.create=(s,e)=>new wt({shape:()=>s,unknownKeys:"strip",catchall:ls.create(),typeName:Oe.ZodObject,...Ge(e)});wt.strictCreate=(s,e)=>new wt({shape:()=>s,unknownKeys:"strict",catchall:ls.create(),typeName:Oe.ZodObject,...Ge(e)});wt.lazycreate=(s,e)=>new wt({shape:s,unknownKeys:"strip",catchall:ls.create(),typeName:Oe.ZodObject,...Ge(e)});class Ih extends Qe{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;function i(r){for(const o of r)if(o.result.status==="valid")return o.result;for(const o of r)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;const a=r.map(o=>new wr(o.ctx.common.issues));return Ee(t,{code:be.invalid_union,unionErrors:a}),Ve}if(t.common.async)return Promise.all(n.map(async r=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await r._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(i);{let r;const a=[];for(const c of n){const l={...t,common:{...t.common,issues:[]},parent:null},u=c._parseSync({data:t.data,path:t.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!r&&(r={result:u,ctx:l}),l.common.issues.length&&a.push(l.common.issues)}if(r)return t.common.issues.push(...r.ctx.common.issues),r.result;const o=a.map(c=>new wr(c));return Ee(t,{code:be.invalid_union,unionErrors:o}),Ve}}get options(){return this._def.options}}Ih.create=(s,e)=>new Ih({options:s,typeName:Oe.ZodUnion,...Ge(e)});function Ag(s,e){const t=Br(s),n=Br(e);if(s===e)return{valid:!0,data:s};if(t===Se.object&&n===Se.object){const i=tt.objectKeys(e),r=tt.objectKeys(s).filter(o=>i.indexOf(o)!==-1),a={...s,...e};for(const o of r){const c=Ag(s[o],e[o]);if(!c.valid)return{valid:!1};a[o]=c.data}return{valid:!0,data:a}}else if(t===Se.array&&n===Se.array){if(s.length!==e.length)return{valid:!1};const i=[];for(let r=0;r<s.length;r++){const a=s[r],o=e[r],c=Ag(a,o);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return t===Se.date&&n===Se.date&&+s==+e?{valid:!0,data:s}:{valid:!1}}class Rh extends Qe{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),i=(r,a)=>{if(Dv(r)||Dv(a))return Ve;const o=Ag(r.value,a.value);return o.valid?((Tv(r)||Tv(a))&&t.dirty(),{status:t.value,value:o.data}):(Ee(n,{code:be.invalid_intersection_types}),Ve)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([r,a])=>i(r,a)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Rh.create=(s,e,t)=>new Rh({left:s,right:e,typeName:Oe.ZodIntersection,...Ge(t)});class Pa extends Qe{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Se.array)return Ee(n,{code:be.invalid_type,expected:Se.array,received:n.parsedType}),Ve;if(n.data.length<this._def.items.length)return Ee(n,{code:be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ve;!this._def.rest&&n.data.length>this._def.items.length&&(Ee(n,{code:be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map((a,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new Oi(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(r).then(a=>ln.mergeArray(t,a)):ln.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Pa({...this._def,rest:e})}}Pa.create=(s,e)=>{if(!Array.isArray(s))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Pa({items:s,typeName:Oe.ZodTuple,rest:null,...Ge(e)})};class kh extends Qe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Se.object)return Ee(n,{code:be.invalid_type,expected:Se.object,received:n.parsedType}),Ve;const i=[],r=this._def.keyType,a=this._def.valueType;for(const o in n.data)i.push({key:r._parse(new Oi(n,o,n.path,o)),value:a._parse(new Oi(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?ln.mergeObjectAsync(t,i):ln.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof Qe?new kh({keyType:e,valueType:t,typeName:Oe.ZodRecord,...Ge(n)}):new kh({keyType:Ni.create(),valueType:e,typeName:Oe.ZodRecord,...Ge(t)})}}class Fv extends Qe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Se.map)return Ee(n,{code:be.invalid_type,expected:Se.map,received:n.parsedType}),Ve;const i=this._def.keyType,r=this._def.valueType,a=[...n.data.entries()].map(([o,c],l)=>({key:i._parse(new Oi(n,o,n.path,[l,"key"])),value:r._parse(new Oi(n,c,n.path,[l,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of a){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return Ve;(l.status==="dirty"||u.status==="dirty")&&t.dirty(),o.set(l.value,u.value)}return{status:t.value,value:o}})}else{const o=new Map;for(const c of a){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return Ve;(l.status==="dirty"||u.status==="dirty")&&t.dirty(),o.set(l.value,u.value)}return{status:t.value,value:o}}}}Fv.create=(s,e,t)=>new Fv({valueType:e,keyType:s,typeName:Oe.ZodMap,...Ge(t)});class ul extends Qe{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Se.set)return Ee(n,{code:be.invalid_type,expected:Se.set,received:n.parsedType}),Ve;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Ee(n,{code:be.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Ee(n,{code:be.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const r=this._def.valueType;function a(c){const l=new Set;for(const u of c){if(u.status==="aborted")return Ve;u.status==="dirty"&&t.dirty(),l.add(u.value)}return{status:t.value,value:l}}const o=[...n.data.values()].map((c,l)=>r._parse(new Oi(n,c,n.path,l)));return n.common.async?Promise.all(o).then(c=>a(c)):a(o)}min(e,t){return new ul({...this._def,minSize:{value:e,message:Ie.toString(t)}})}max(e,t){return new ul({...this._def,maxSize:{value:e,message:Ie.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ul.create=(s,e)=>new ul({valueType:s,minSize:null,maxSize:null,typeName:Oe.ZodSet,...Ge(e)});class Cg extends Qe{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Cg.create=(s,e)=>new Cg({getter:s,typeName:Oe.ZodLazy,...Ge(e)});class Iv extends Qe{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Ee(t,{received:t.data,code:be.invalid_literal,expected:this._def.value}),Ve}return{status:"valid",value:e.data}}get value(){return this._def.value}}Iv.create=(s,e)=>new Iv({value:s,typeName:Oe.ZodLiteral,...Ge(e)});function O1(s,e){return new hc({values:s,typeName:Oe.ZodEnum,...Ge(e)})}class hc extends Qe{constructor(){super(...arguments),qc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),n=this._def.values;return Ee(t,{expected:tt.joinValues(n),received:t.parsedType,code:be.invalid_type}),Ve}if(Uh(this,qc,"f")||P1(this,qc,new Set(this._def.values),"f"),!Uh(this,qc,"f").has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return Ee(t,{received:t.data,code:be.invalid_enum_value,options:n}),Ve}return Kn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return hc.create(e,{...this._def,...t})}exclude(e,t=this._def){return hc.create(this.options.filter(n=>!e.includes(n)),{...this._def,...t})}}qc=new WeakMap;hc.create=O1;class Rv extends Qe{constructor(){super(...arguments),Vc.set(this,void 0)}_parse(e){const t=tt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Se.string&&n.parsedType!==Se.number){const i=tt.objectValues(t);return Ee(n,{expected:tt.joinValues(i),received:n.parsedType,code:be.invalid_type}),Ve}if(Uh(this,Vc,"f")||P1(this,Vc,new Set(tt.getValidEnumValues(this._def.values)),"f"),!Uh(this,Vc,"f").has(e.data)){const i=tt.objectValues(t);return Ee(n,{received:n.data,code:be.invalid_enum_value,options:i}),Ve}return Kn(e.data)}get enum(){return this._def.values}}Vc=new WeakMap;Rv.create=(s,e)=>new Rv({values:s,typeName:Oe.ZodNativeEnum,...Ge(e)});class Mh extends Qe{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Se.promise&&t.common.async===!1)return Ee(t,{code:be.invalid_type,expected:Se.promise,received:t.parsedType}),Ve;const n=t.parsedType===Se.promise?t.data:Promise.resolve(t.data);return Kn(n.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Mh.create=(s,e)=>new Mh({type:s,typeName:Oe.ZodPromise,...Ge(e)});class fc extends Qe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Oe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),i=this._def.effect||null,r={addIssue:a=>{Ee(n,a),a.fatal?t.abort():t.dirty()},get path(){return n.path}};if(r.addIssue=r.addIssue.bind(r),i.type==="preprocess"){const a=i.transform(n.data,r);if(n.common.async)return Promise.resolve(a).then(async o=>{if(t.value==="aborted")return Ve;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?Ve:c.status==="dirty"||t.value==="dirty"?Wc(c.value):c});{if(t.value==="aborted")return Ve;const o=this._def.schema._parseSync({data:a,path:n.path,parent:n});return o.status==="aborted"?Ve:o.status==="dirty"||t.value==="dirty"?Wc(o.value):o}}if(i.type==="refinement"){const a=o=>{const c=i.refinement(o,r);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Ve:(o.status==="dirty"&&t.dirty(),a(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Ve:(o.status==="dirty"&&t.dirty(),a(o.value).then(()=>({status:t.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!uc(a))return a;const o=i.transform(a.value,r);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>uc(a)?Promise.resolve(i.transform(a.value,r)).then(o=>({status:t.value,value:o})):a);tt.assertNever(i)}}fc.create=(s,e,t)=>new fc({schema:s,typeName:Oe.ZodEffects,effect:e,...Ge(t)});fc.createWithPreprocess=(s,e,t)=>new fc({schema:e,effect:{type:"preprocess",transform:s},typeName:Oe.ZodEffects,...Ge(t)});class cs extends Qe{_parse(e){return this._getType(e)===Se.undefined?Kn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}cs.create=(s,e)=>new cs({innerType:s,typeName:Oe.ZodOptional,...Ge(e)});class pc extends Qe{_parse(e){return this._getType(e)===Se.null?Kn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}pc.create=(s,e)=>new pc({innerType:s,typeName:Oe.ZodNullable,...Ge(e)});class Eg extends Qe{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===Se.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Eg.create=(s,e)=>new Eg({innerType:s,typeName:Oe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ge(e)});class wg extends Qe{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Sh(i)?i.then(r=>({status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new wr(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new wr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}wg.create=(s,e)=>new wg({innerType:s,typeName:Oe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ge(e)});class kv extends Qe{_parse(e){if(this._getType(e)!==Se.nan){const n=this._getOrReturnCtx(e);return Ee(n,{code:be.invalid_type,expected:Se.nan,received:n.parsedType}),Ve}return{status:"valid",value:e.data}}}kv.create=s=>new kv({typeName:Oe.ZodNaN,...Ge(s)});class VA extends Qe{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class ry extends Qe{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const r=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return r.status==="aborted"?Ve:r.status==="dirty"?(t.dirty(),Wc(r.value)):this._def.out._parseAsync({data:r.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ve:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,t){return new ry({in:e,out:t,typeName:Oe.ZodPipeline})}}class Sg extends Qe{_parse(e){const t=this._def.innerType._parse(e),n=i=>(uc(i)&&(i.value=Object.freeze(i.value)),i);return Sh(t)?t.then(i=>n(i)):n(t)}unwrap(){return this._def.innerType}}Sg.create=(s,e)=>new Sg({innerType:s,typeName:Oe.ZodReadonly,...Ge(e)});var Oe;(function(s){s.ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly"})(Oe||(Oe={}));const ws=Ni.create,Mv=Ma.create;Na.create;const zA=Fh.create;dc.create;const Nv=Tg.create;ls.create;const zc=Pi.create,HA=wt.create,GA=Ih.create;Rh.create;Pa.create;const $A=kh.create,XA=Cg.create,YA=hc.create;Mh.create;cs.create;pc.create;const Qa={string:s=>Ni.create({...s,coerce:!0}),number:s=>Ma.create({...s,coerce:!0}),boolean:s=>Fh.create({...s,coerce:!0}),bigint:s=>Na.create({...s,coerce:!0}),date:s=>dc.create({...s,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let KA,ZA;function JA(){return{geminiUrl:KA,vertexUrl:ZA}}function QA(s,e,t){var n,i,r;if(!(!((n=s.httpOptions)===null||n===void 0)&&n.baseUrl)){const a=JA();return s.vertexai?(i=a.vertexUrl)!==null&&i!==void 0?i:e:(r=a.geminiUrl)!==null&&r!==void 0?r:t}return s.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zu{}function Ne(s,e){const t=/\{([^}]+)\}/g;return s.replace(t,(n,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const r=e[i];return r!=null?String(r):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function m(s,e,t){for(let r=0;r<e.length-1;r++){const a=e[r];if(a.endsWith("[]")){const o=a.slice(0,-2);if(!(o in s))if(Array.isArray(t))s[o]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(s[o])){const c=s[o];if(Array.isArray(t))for(let l=0;l<c.length;l++){const u=c[l];m(u,e.slice(r+1),t[l])}else for(const l of c)m(l,e.slice(r+1),t)}return}else if(a.endsWith("[0]")){const o=a.slice(0,-3);o in s||(s[o]=[{}]);const c=s[o];m(c[0],e.slice(r+1),t);return}(!s[a]||typeof s[a]!="object")&&(s[a]={}),s=s[a]}const n=e[e.length-1],i=s[n];if(i!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===i)return;if(typeof i=="object"&&typeof t=="object"&&i!==null&&t!==null)Object.assign(i,t);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else s[n]=t}function f(s,e){try{if(e.length===1&&e[0]==="_self")return s;for(let t=0;t<e.length;t++){if(typeof s!="object"||s===null)return;const n=e[t];if(n.endsWith("[]")){const i=n.slice(0,-2);if(i in s){const r=s[i];return Array.isArray(r)?r.map(a=>f(a,e.slice(t+1))):void 0}else return}else s=s[n]}return s}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Pv;(function(s){s.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",s.OUTCOME_OK="OUTCOME_OK",s.OUTCOME_FAILED="OUTCOME_FAILED",s.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Pv||(Pv={}));var Lv;(function(s){s.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",s.PYTHON="PYTHON"})(Lv||(Lv={}));var Mi;(function(s){s.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",s.STRING="STRING",s.NUMBER="NUMBER",s.INTEGER="INTEGER",s.BOOLEAN="BOOLEAN",s.ARRAY="ARRAY",s.OBJECT="OBJECT",s.NULL="NULL"})(Mi||(Mi={}));var Bv;(function(s){s.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",s.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",s.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",s.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",s.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",s.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Bv||(Bv={}));var Ov;(function(s){s.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",s.SEVERITY="SEVERITY",s.PROBABILITY="PROBABILITY"})(Ov||(Ov={}));var Wv;(function(s){s.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",s.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",s.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",s.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",s.BLOCK_NONE="BLOCK_NONE",s.OFF="OFF"})(Wv||(Wv={}));var qv;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.MODE_DYNAMIC="MODE_DYNAMIC"})(qv||(qv={}));var Vv;(function(s){s.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",s.NO_AUTH="NO_AUTH",s.API_KEY_AUTH="API_KEY_AUTH",s.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",s.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",s.OAUTH="OAUTH",s.OIDC_AUTH="OIDC_AUTH"})(Vv||(Vv={}));var zv;(function(s){s.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",s.STOP="STOP",s.MAX_TOKENS="MAX_TOKENS",s.SAFETY="SAFETY",s.RECITATION="RECITATION",s.LANGUAGE="LANGUAGE",s.OTHER="OTHER",s.BLOCKLIST="BLOCKLIST",s.PROHIBITED_CONTENT="PROHIBITED_CONTENT",s.SPII="SPII",s.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",s.IMAGE_SAFETY="IMAGE_SAFETY"})(zv||(zv={}));var Hv;(function(s){s.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",s.NEGLIGIBLE="NEGLIGIBLE",s.LOW="LOW",s.MEDIUM="MEDIUM",s.HIGH="HIGH"})(Hv||(Hv={}));var Gv;(function(s){s.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",s.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",s.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",s.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",s.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Gv||(Gv={}));var $v;(function(s){s.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",s.SAFETY="SAFETY",s.OTHER="OTHER",s.BLOCKLIST="BLOCKLIST",s.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})($v||($v={}));var Xv;(function(s){s.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",s.ON_DEMAND="ON_DEMAND",s.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Xv||(Xv={}));var Nh;(function(s){s.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",s.TEXT="TEXT",s.IMAGE="IMAGE",s.AUDIO="AUDIO"})(Nh||(Nh={}));var Yv;(function(s){s.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",s.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",s.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",s.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Yv||(Yv={}));var Ug;(function(s){s.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",s.JOB_STATE_QUEUED="JOB_STATE_QUEUED",s.JOB_STATE_PENDING="JOB_STATE_PENDING",s.JOB_STATE_RUNNING="JOB_STATE_RUNNING",s.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",s.JOB_STATE_FAILED="JOB_STATE_FAILED",s.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",s.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",s.JOB_STATE_PAUSED="JOB_STATE_PAUSED",s.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",s.JOB_STATE_UPDATING="JOB_STATE_UPDATING",s.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ug||(Ug={}));var Kv;(function(s){s.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",s.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",s.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",s.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",s.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",s.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",s.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Kv||(Kv={}));var Zv;(function(s){s.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",s.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",s.BALANCED="BALANCED",s.PRIORITIZE_COST="PRIORITIZE_COST"})(Zv||(Zv={}));var Jv;(function(s){s.UNSPECIFIED="UNSPECIFIED",s.BLOCKING="BLOCKING",s.NON_BLOCKING="NON_BLOCKING"})(Jv||(Jv={}));var Qv;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.MODE_DYNAMIC="MODE_DYNAMIC"})(Qv||(Qv={}));var jv;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.AUTO="AUTO",s.ANY="ANY",s.NONE="NONE"})(jv||(jv={}));var eb;(function(s){s.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",s.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",s.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(eb||(eb={}));var tb;(function(s){s.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",s.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",s.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",s.BLOCK_NONE="BLOCK_NONE"})(tb||(tb={}));var nb;(function(s){s.DONT_ALLOW="DONT_ALLOW",s.ALLOW_ADULT="ALLOW_ADULT",s.ALLOW_ALL="ALLOW_ALL"})(nb||(nb={}));var ib;(function(s){s.auto="auto",s.en="en",s.ja="ja",s.ko="ko",s.hi="hi"})(ib||(ib={}));var rb;(function(s){s.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",s.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",s.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",s.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",s.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(rb||(rb={}));var sb;(function(s){s.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",s.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",s.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",s.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(sb||(sb={}));var ab;(function(s){s.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",s.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",s.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",s.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ab||(ab={}));var ob;(function(s){s.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",s.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",s.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",s.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",s.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",s.EDIT_MODE_STYLE="EDIT_MODE_STYLE",s.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",s.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ob||(ob={}));var cb;(function(s){s.STATE_UNSPECIFIED="STATE_UNSPECIFIED",s.PROCESSING="PROCESSING",s.ACTIVE="ACTIVE",s.FAILED="FAILED"})(cb||(cb={}));var lb;(function(s){s.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",s.UPLOADED="UPLOADED",s.GENERATED="GENERATED"})(lb||(lb={}));var ub;(function(s){s.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",s.TEXT="TEXT",s.IMAGE="IMAGE",s.VIDEO="VIDEO",s.AUDIO="AUDIO",s.DOCUMENT="DOCUMENT"})(ub||(ub={}));var db;(function(s){s.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",s.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",s.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(db||(db={}));var hb;(function(s){s.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",s.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",s.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(hb||(hb={}));var fb;(function(s){s.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",s.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",s.NO_INTERRUPTION="NO_INTERRUPTION"})(fb||(fb={}));var pb;(function(s){s.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",s.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",s.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(pb||(pb={}));var gb;(function(s){s.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",s.SILENT="SILENT",s.WHEN_IDLE="WHEN_IDLE",s.INTERRUPT="INTERRUPT"})(gb||(gb={}));var mb;(function(s){s.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",s.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",s.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",s.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",s.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",s.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",s.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",s.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",s.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",s.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",s.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",s.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",s.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(mb||(mb={}));var yb;(function(s){s.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",s.QUALITY="QUALITY",s.DIVERSITY="DIVERSITY"})(yb||(yb={}));var co;(function(s){s.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",s.PLAY="PLAY",s.PAUSE="PAUSE",s.STOP="STOP",s.RESET_CONTEXT="RESET_CONTEXT"})(co||(co={}));class Ac{get text(){var e,t,n,i,r,a,o,c;if(((i=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let l="",u=!1;const d=[];for(const h of(c=(o=(a=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[p,y]of Object.entries(h))p!=="text"&&p!=="thought"&&(y!==null||y!==void 0)&&d.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,l+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?l:void 0}get data(){var e,t,n,i,r,a,o,c;if(((i=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let l="";const u=[];for(const d of(c=(o=(a=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[h,p]of Object.entries(d))h!=="inlineData"&&(p!==null||p!==void 0)&&u.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(l+=atob(d.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}get functionCalls(){var e,t,n,i,r,a,o,c;if(((i=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const l=(c=(o=(a=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(u=>u.functionCall).map(u=>u.functionCall).filter(u=>u!==void 0);if((l==null?void 0:l.length)!==0)return l}get executableCode(){var e,t,n,i,r,a,o,c,l;if(((i=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=(c=(o=(a=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return(l=u==null?void 0:u[0])===null||l===void 0?void 0:l.code}get codeExecutionResult(){var e,t,n,i,r,a,o,c,l;if(((i=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=(c=(o=(a=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return(l=u==null?void 0:u[0])===null||l===void 0?void 0:l.output}}class vb{}class bb{}class jA{}class eC{}class _b{}class xb{}class Db{}class tC{}class Tb{}class Ab{}class Cb{}class nC{}class Fg{constructor(e){const t={};for(const n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class iC{}class rC{}class sC{get text(){var e,t,n;let i="",r=!1;const a=[];for(const o of(n=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&n!==void 0?n:[]){for(const[c,l]of Object.entries(o))c!=="text"&&c!=="thought"&&l!==null&&a.push(c);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;r=!0,i+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),r?i:void 0}get data(){var e,t,n;let i="";const r=[];for(const a of(n=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&n!==void 0?n:[]){for(const[o,c]of Object.entries(a))o!=="inlineData"&&c!==null&&r.push(o);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return r.length>0&&console.warn(`there are non-data parts ${r} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class aC{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mt(s,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(s.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function W1(s,e){const t=mt(s,e);return t?t.startsWith("publishers/")&&s.isVertexAI()?`projects/${s.getProject()}/locations/${s.getLocation()}/${t}`:t.startsWith("models/")&&s.isVertexAI()?`projects/${s.getProject()}/locations/${s.getLocation()}/publishers/google/${t}`:t:""}function q1(s,e){return Array.isArray(e)?e.map(t=>Ph(s,t)):[Ph(s,e)]}function Ph(s,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function oC(s,e){const t=Ph(s,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function cC(s,e){const t=Ph(s,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Eb(s,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function V1(s,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>Eb(s,t)):[Eb(s,e)]}function Ig(s){return s!=null&&typeof s=="object"&&"parts"in s&&Array.isArray(s.parts)}function wb(s){return s!=null&&typeof s=="object"&&"functionCall"in s}function Sb(s){return s!=null&&typeof s=="object"&&"functionResponse"in s}function mn(s,e){if(e==null)throw new Error("ContentUnion is required");return Ig(e)?e:{role:"user",parts:V1(s,e)}}function z1(s,e){if(!e)return[];if(s.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const n=mn(s,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(s.isVertexAI()){const t=mn(s,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>mn(s,t)):[mn(s,e)]}function fi(s,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(wb(e)||Sb(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[mn(s,e)]}const t=[],n=[],i=Ig(e[0]);for(const r of e){const a=Ig(r);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(r);else{if(wb(r)||Sb(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return i||t.push({role:"user",parts:V1(s,n)}),t}const Ub=YA(["string","number","integer","object","array","boolean","null"]),lC=GA([Ub,zc(Ub)]);function uC(s=!0){const e=XA(()=>{const t=HA({type:lC.optional(),format:ws().optional(),title:ws().optional(),description:ws().optional(),default:Nv().optional(),items:e.optional(),minItems:Qa.string().optional(),maxItems:Qa.string().optional(),enum:zc(Nv()).optional(),properties:$A(ws(),e).optional(),required:zc(ws()).optional(),minProperties:Qa.string().optional(),maxProperties:Qa.string().optional(),propertyOrdering:zc(ws()).optional(),minimum:Mv().optional(),maximum:Mv().optional(),minLength:Qa.string().optional(),maxLength:Qa.string().optional(),pattern:ws().optional(),anyOf:zc(e).optional(),additionalProperties:zA().optional()});return s?t.strict():t});return e}function dC(s,e){s.includes("null")&&(e.nullable=!0);const t=s.filter(n=>n!=="null");if(t.length===1)e.type=Object.keys(Mi).includes(t[0].toUpperCase())?Mi[t[0].toUpperCase()]:Mi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const n of t)e.anyOf.push({type:Object.keys(Mi).includes(n.toUpperCase())?Mi[n.toUpperCase()]:Mi.TYPE_UNSPECIFIED})}}function sl(s){const e={},t=["items"],n=["anyOf"],i=["properties"];if(s.type&&s.anyOf)throw new Error("type and anyOf cannot be both populated.");const r=s.anyOf;r!=null&&r.length==2&&(r[0].type==="null"?(e.nullable=!0,s=r[1]):r[1].type==="null"&&(e.nullable=!0,s=r[0])),s.type instanceof Array&&dC(s.type,e);for(const[a,o]of Object.entries(s))if(o!=null)if(a=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.keys(Mi).includes(o.toUpperCase())?o.toUpperCase():Mi.TYPE_UNSPECIFIED}else if(t.includes(a))e[a]=sl(o);else if(n.includes(a)){const c=[];for(const l of o){if(l.type=="null"){e.nullable=!0;continue}c.push(sl(l))}e[a]=c}else if(i.includes(a)){const c={};for(const[l,u]of Object.entries(o))c[l]=sl(u);e[a]=c}else{if(a==="additionalProperties")continue;e[a]=o}return e}function Lh(s,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=uC().parse(e);return sl(t)}else return sl(e)}function H1(s,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function G1(s,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function mf(s,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=Lh(s,t.parameters)),t.response&&(t.response=Lh(s,t.response));return e}function yf(s,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function hC(s,e,t,n=1){const i=!e.startsWith(`${t}/`)&&e.split("/").length===n;return s.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${s.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${s.getProject()}/locations/${s.getLocation()}/${e}`:i?`projects/${s.getProject()}/locations/${s.getLocation()}/${t}/${e}`:e:i?`${t}/${e}`:e}function gs(s,e){if(typeof e!="string")throw new Error("name must be a string");return hC(s,e,"cachedContents")}function $1(s,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function ms(s,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function fC(s){return s!=null&&typeof s=="object"&&"name"in s}function pC(s){return s!=null&&typeof s=="object"&&"video"in s}function gC(s){return s!=null&&typeof s=="object"&&"uri"in s}function X1(s,e){var t;let n;if(fC(e)&&(n=e.name),!(gC(e)&&(n=e.uri,n===void 0))&&!(pC(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Y1(s,e){let t;return s.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function K1(s,e){for(const t of["models","tunedModels","publisherModels"])if(mC(e,t))return e[t];return[]}function mC(s,e){return s!==null&&typeof s=="object"&&e in s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yC(s,e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const i=f(e,["endOffset"]);i!=null&&m(t,["endOffset"],i);const r=f(e,["startOffset"]);return r!=null&&m(t,["startOffset"],r),t}function vC(s,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["data"]);n!=null&&m(t,["data"],n);const i=f(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function bC(s,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&m(t,["fileUri"],n);const i=f(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function _C(s,e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],yC(s,n));const i=f(e,["thought"]);i!=null&&m(t,["thought"],i);const r=f(e,["inlineData"]);r!=null&&m(t,["inlineData"],vC(s,r));const a=f(e,["fileData"]);a!=null&&m(t,["fileData"],bC(s,a));const o=f(e,["codeExecutionResult"]);o!=null&&m(t,["codeExecutionResult"],o);const c=f(e,["executableCode"]);c!=null&&m(t,["executableCode"],c);const l=f(e,["functionCall"]);l!=null&&m(t,["functionCall"],l);const u=f(e,["functionResponse"]);u!=null&&m(t,["functionResponse"],u);const d=f(e,["text"]);return d!=null&&m(t,["text"],d),t}function Fb(s,e){const t={},n=f(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>_C(s,a))),m(t,["parts"],r)}const i=f(e,["role"]);return i!=null&&m(t,["role"],i),t}function xC(s,e){const t={},n=f(e,["behavior"]);n!=null&&m(t,["behavior"],n);const i=f(e,["description"]);i!=null&&m(t,["description"],i);const r=f(e,["name"]);r!=null&&m(t,["name"],r);const a=f(e,["parameters"]);a!=null&&m(t,["parameters"],a);const o=f(e,["response"]);return o!=null&&m(t,["response"],o),t}function DC(s,e){const t={},n=f(e,["startTime"]);n!=null&&m(t,["startTime"],n);const i=f(e,["endTime"]);return i!=null&&m(t,["endTime"],i),t}function TC(s,e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&m(t,["timeRangeFilter"],DC(s,n)),t}function AC(s,e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const i=f(e,["dynamicThreshold"]);return i!=null&&m(t,["dynamicThreshold"],i),t}function CC(s,e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&m(t,["dynamicRetrievalConfig"],AC(s,n)),t}function EC(){return{}}function wC(s,e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(l=>xC(s,l))),m(t,["functionDeclarations"],c)}if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(e,["googleSearch"]);i!=null&&m(t,["googleSearch"],TC(s,i));const r=f(e,["googleSearchRetrieval"]);if(r!=null&&m(t,["googleSearchRetrieval"],CC(s,r)),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(e,["urlContext"])!=null&&m(t,["urlContext"],EC());const o=f(e,["codeExecution"]);return o!=null&&m(t,["codeExecution"],o),t}function SC(s,e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const i=f(e,["allowedFunctionNames"]);return i!=null&&m(t,["allowedFunctionNames"],i),t}function UC(s,e){const t={},n=f(e,["latitude"]);n!=null&&m(t,["latitude"],n);const i=f(e,["longitude"]);return i!=null&&m(t,["longitude"],i),t}function FC(s,e){const t={},n=f(e,["latLng"]);n!=null&&m(t,["latLng"],UC(s,n));const i=f(e,["languageCode"]);return i!=null&&m(t,["languageCode"],i),t}function IC(s,e){const t={},n=f(e,["functionCallingConfig"]);n!=null&&m(t,["functionCallingConfig"],SC(s,n));const i=f(e,["retrievalConfig"]);return i!=null&&m(t,["retrievalConfig"],FC(s,i)),t}function RC(s,e,t){const n={},i=f(e,["ttl"]);t!==void 0&&i!=null&&m(t,["ttl"],i);const r=f(e,["expireTime"]);t!==void 0&&r!=null&&m(t,["expireTime"],r);const a=f(e,["displayName"]);t!==void 0&&a!=null&&m(t,["displayName"],a);const o=f(e,["contents"]);if(t!==void 0&&o!=null){let d=fi(s,o);Array.isArray(d)&&(d=d.map(h=>Fb(s,h))),m(t,["contents"],d)}const c=f(e,["systemInstruction"]);t!==void 0&&c!=null&&m(t,["systemInstruction"],Fb(s,mn(s,c)));const l=f(e,["tools"]);if(t!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>wC(s,h))),m(t,["tools"],d)}const u=f(e,["toolConfig"]);if(t!==void 0&&u!=null&&m(t,["toolConfig"],IC(s,u)),f(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function kC(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["model"],W1(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],RC(s,i,t)),t}function MC(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["_url","name"],gs(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function NC(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["_url","name"],gs(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function PC(s,e,t){const n={},i=f(e,["ttl"]);t!==void 0&&i!=null&&m(t,["ttl"],i);const r=f(e,["expireTime"]);return t!==void 0&&r!=null&&m(t,["expireTime"],r),n}function LC(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["_url","name"],gs(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],PC(s,i,t)),t}function BC(s,e,t){const n={},i=f(e,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const r=f(e,["pageToken"]);return t!==void 0&&r!=null&&m(t,["_query","pageToken"],r),n}function OC(s,e){const t={},n=f(e,["config"]);return n!=null&&m(t,["config"],BC(s,n,t)),t}function WC(s,e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const i=f(e,["endOffset"]);i!=null&&m(t,["endOffset"],i);const r=f(e,["startOffset"]);return r!=null&&m(t,["startOffset"],r),t}function qC(s,e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const i=f(e,["data"]);i!=null&&m(t,["data"],i);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function VC(s,e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const i=f(e,["fileUri"]);i!=null&&m(t,["fileUri"],i);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function zC(s,e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],WC(s,n));const i=f(e,["thought"]);i!=null&&m(t,["thought"],i);const r=f(e,["inlineData"]);r!=null&&m(t,["inlineData"],qC(s,r));const a=f(e,["fileData"]);a!=null&&m(t,["fileData"],VC(s,a));const o=f(e,["codeExecutionResult"]);o!=null&&m(t,["codeExecutionResult"],o);const c=f(e,["executableCode"]);c!=null&&m(t,["executableCode"],c);const l=f(e,["functionCall"]);l!=null&&m(t,["functionCall"],l);const u=f(e,["functionResponse"]);u!=null&&m(t,["functionResponse"],u);const d=f(e,["text"]);return d!=null&&m(t,["text"],d),t}function Ib(s,e){const t={},n=f(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>zC(s,a))),m(t,["parts"],r)}const i=f(e,["role"]);return i!=null&&m(t,["role"],i),t}function HC(s,e){const t={};if(f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(e,["description"]);n!=null&&m(t,["description"],n);const i=f(e,["name"]);i!=null&&m(t,["name"],i);const r=f(e,["parameters"]);r!=null&&m(t,["parameters"],r);const a=f(e,["response"]);return a!=null&&m(t,["response"],a),t}function GC(s,e){const t={},n=f(e,["startTime"]);n!=null&&m(t,["startTime"],n);const i=f(e,["endTime"]);return i!=null&&m(t,["endTime"],i),t}function $C(s,e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&m(t,["timeRangeFilter"],GC(s,n)),t}function XC(s,e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const i=f(e,["dynamicThreshold"]);return i!=null&&m(t,["dynamicThreshold"],i),t}function YC(s,e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&m(t,["dynamicRetrievalConfig"],XC(s,n)),t}function KC(){return{}}function ZC(s,e){const t={},n=f(e,["apiKeyString"]);return n!=null&&m(t,["apiKeyString"],n),t}function JC(s,e){const t={},n=f(e,["apiKeyConfig"]);n!=null&&m(t,["apiKeyConfig"],ZC(s,n));const i=f(e,["authType"]);i!=null&&m(t,["authType"],i);const r=f(e,["googleServiceAccountConfig"]);r!=null&&m(t,["googleServiceAccountConfig"],r);const a=f(e,["httpBasicAuthConfig"]);a!=null&&m(t,["httpBasicAuthConfig"],a);const o=f(e,["oauthConfig"]);o!=null&&m(t,["oauthConfig"],o);const c=f(e,["oidcConfig"]);return c!=null&&m(t,["oidcConfig"],c),t}function QC(s,e){const t={},n=f(e,["authConfig"]);return n!=null&&m(t,["authConfig"],JC(s,n)),t}function jC(s,e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>HC(s,d))),m(t,["functionDeclarations"],u)}const i=f(e,["retrieval"]);i!=null&&m(t,["retrieval"],i);const r=f(e,["googleSearch"]);r!=null&&m(t,["googleSearch"],$C(s,r));const a=f(e,["googleSearchRetrieval"]);a!=null&&m(t,["googleSearchRetrieval"],YC(s,a)),f(e,["enterpriseWebSearch"])!=null&&m(t,["enterpriseWebSearch"],KC());const c=f(e,["googleMaps"]);if(c!=null&&m(t,["googleMaps"],QC(s,c)),f(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const l=f(e,["codeExecution"]);return l!=null&&m(t,["codeExecution"],l),t}function eE(s,e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const i=f(e,["allowedFunctionNames"]);return i!=null&&m(t,["allowedFunctionNames"],i),t}function tE(s,e){const t={},n=f(e,["latitude"]);n!=null&&m(t,["latitude"],n);const i=f(e,["longitude"]);return i!=null&&m(t,["longitude"],i),t}function nE(s,e){const t={},n=f(e,["latLng"]);n!=null&&m(t,["latLng"],tE(s,n));const i=f(e,["languageCode"]);return i!=null&&m(t,["languageCode"],i),t}function iE(s,e){const t={},n=f(e,["functionCallingConfig"]);n!=null&&m(t,["functionCallingConfig"],eE(s,n));const i=f(e,["retrievalConfig"]);return i!=null&&m(t,["retrievalConfig"],nE(s,i)),t}function rE(s,e,t){const n={},i=f(e,["ttl"]);t!==void 0&&i!=null&&m(t,["ttl"],i);const r=f(e,["expireTime"]);t!==void 0&&r!=null&&m(t,["expireTime"],r);const a=f(e,["displayName"]);t!==void 0&&a!=null&&m(t,["displayName"],a);const o=f(e,["contents"]);if(t!==void 0&&o!=null){let h=fi(s,o);Array.isArray(h)&&(h=h.map(p=>Ib(s,p))),m(t,["contents"],h)}const c=f(e,["systemInstruction"]);t!==void 0&&c!=null&&m(t,["systemInstruction"],Ib(s,mn(s,c)));const l=f(e,["tools"]);if(t!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>jC(s,p))),m(t,["tools"],h)}const u=f(e,["toolConfig"]);t!==void 0&&u!=null&&m(t,["toolConfig"],iE(s,u));const d=f(e,["kmsKeyName"]);return t!==void 0&&d!=null&&m(t,["encryption_spec","kmsKeyName"],d),n}function sE(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["model"],W1(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],rE(s,i,t)),t}function aE(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["_url","name"],gs(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function oE(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["_url","name"],gs(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function cE(s,e,t){const n={},i=f(e,["ttl"]);t!==void 0&&i!=null&&m(t,["ttl"],i);const r=f(e,["expireTime"]);return t!==void 0&&r!=null&&m(t,["expireTime"],r),n}function lE(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["_url","name"],gs(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],cE(s,i,t)),t}function uE(s,e,t){const n={},i=f(e,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const r=f(e,["pageToken"]);return t!==void 0&&r!=null&&m(t,["_query","pageToken"],r),n}function dE(s,e){const t={},n=f(e,["config"]);return n!=null&&m(t,["config"],uE(s,n,t)),t}function Id(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const i=f(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=f(e,["model"]);r!=null&&m(t,["model"],r);const a=f(e,["createTime"]);a!=null&&m(t,["createTime"],a);const o=f(e,["updateTime"]);o!=null&&m(t,["updateTime"],o);const c=f(e,["expireTime"]);c!=null&&m(t,["expireTime"],c);const l=f(e,["usageMetadata"]);return l!=null&&m(t,["usageMetadata"],l),t}function hE(){return{}}function fE(s,e){const t={},n=f(e,["nextPageToken"]);n!=null&&m(t,["nextPageToken"],n);const i=f(e,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>Id(s,a))),m(t,["cachedContents"],r)}return t}function Rd(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const i=f(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=f(e,["model"]);r!=null&&m(t,["model"],r);const a=f(e,["createTime"]);a!=null&&m(t,["createTime"],a);const o=f(e,["updateTime"]);o!=null&&m(t,["updateTime"],o);const c=f(e,["expireTime"]);c!=null&&m(t,["expireTime"],c);const l=f(e,["usageMetadata"]);return l!=null&&m(t,["usageMetadata"],l),t}function pE(){return{}}function gE(s,e){const t={},n=f(e,["nextPageToken"]);n!=null&&m(t,["nextPageToken"],n);const i=f(e,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>Rd(s,a))),m(t,["cachedContents"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gc;(function(s){s.PAGED_ITEM_BATCH_JOBS="batchJobs",s.PAGED_ITEM_MODELS="models",s.PAGED_ITEM_TUNING_JOBS="tuningJobs",s.PAGED_ITEM_FILES="files",s.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(gc||(gc={}));class vf{constructor(e,t,n,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,i)}init(e,t,n){var i,r;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let a={config:{}};n?typeof n=="object"?a=Object.assign({},n):a=n:a={config:{}},a.config&&(a.config.pageToken=t.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(r=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&r!==void 0?r:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mE extends Zu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new vf(gc.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(t),t)}async create(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=sE(this.apiClient,e);return o=Ne("cachedContents",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>Rd(this.apiClient,u))}else{const l=kC(this.apiClient,e);return o=Ne("cachedContents",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>Id(this.apiClient,u))}}async get(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=aE(this.apiClient,e);return o=Ne("{name}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>Rd(this.apiClient,u))}else{const l=MC(this.apiClient,e);return o=Ne("{name}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>Id(this.apiClient,u))}}async delete(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=oE(this.apiClient,e);return o=Ne("{name}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(()=>{const u=pE(),d=new Ab;return Object.assign(d,u),d})}else{const l=NC(this.apiClient,e);return o=Ne("{name}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(()=>{const u=hE(),d=new Ab;return Object.assign(d,u),d})}}async update(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=lE(this.apiClient,e);return o=Ne("{name}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>Rd(this.apiClient,u))}else{const l=LC(this.apiClient,e);return o=Ne("{name}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>Id(this.apiClient,u))}}async listInternal(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=dE(this.apiClient,e);return o=Ne("cachedContents",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>{const d=gE(this.apiClient,u),h=new Cb;return Object.assign(h,d),h})}else{const l=OC(this.apiClient,e);return o=Ne("cachedContents",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>{const d=fE(this.apiClient,u),h=new Cb;return Object.assign(h,d),h})}}}function Rb(s){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&s[e],n=0;if(t)return t.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&n>=s.length&&(s=void 0),{value:s&&s[n++],done:!s}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bt(s){return this instanceof bt?(this.v=s,this):new bt(s)}function al(s,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(s,e||[]),i,r=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(p){return function(y){return Promise.resolve(y).then(p,d)}}function o(p,y){n[p]&&(i[p]=function(v){return new Promise(function(b,_){r.push([p,v,b,_])>1||c(p,v)})},y&&(i[p]=y(i[p])))}function c(p,y){try{l(n[p](y))}catch(v){h(r[0][3],v)}}function l(p){p.value instanceof bt?Promise.resolve(p.value.v).then(u,d):h(r[0][2],p)}function u(p){c("next",p)}function d(p){c("throw",p)}function h(p,y){p(y),r.shift(),r.length&&c(r[0][0],r[0][1])}}function kd(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=s[Symbol.asyncIterator],t;return e?e.call(s):(s=typeof Rb=="function"?Rb(s):s[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=s[r]&&function(a){return new Promise(function(o,c){a=s[r](a),i(o,c,a.done,a.value)})}}function i(r,a,o,c){Promise.resolve(c).then(function(l){r({value:l,done:o})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yE(s){var e;if(s.candidates==null||s.candidates.length===0)return!1;const t=(e=s.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:Z1(t)}function Z1(s){if(s.parts===void 0||s.parts.length===0)return!1;for(const e of s.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function vE(s){if(s.length!==0){for(const e of s)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function kb(s){if(s===void 0||s.length===0)return[];const e=[],t=s.length;let n=0;for(;n<t;)if(s[n].role==="user")e.push(s[n]),n++;else{const i=[];let r=!0;for(;n<t&&s[n].role==="model";)i.push(s[n]),r&&!Z1(s[n])&&(r=!1),n++;r?e.push(...i):e.pop()}return e}class bE{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new _E(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class _E{constructor(e,t,n,i={},r=[]){this.apiClient=e,this.modelsModule=t,this.model=n,this.config=i,this.history=r,this.sendPromise=Promise.resolve(),vE(r)}async sendMessage(e){var t;await this.sendPromise;const n=mn(this.apiClient,e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var r,a,o;const c=await i,l=(a=(r=c.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content,u=c.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let h=[];u!=null&&(h=(o=u.slice(d))!==null&&o!==void 0?o:[]);const p=l?[l]:[];this.recordHistory(n,p,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var t;await this.sendPromise;const n=mn(this.apiClient,e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const r=await i;return this.processStreamResponse(r,n)}getHistory(e=!1){const t=e?kb(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var n,i;return al(this,arguments,function*(){var a,o,c,l;const u=[];try{for(var d=!0,h=kd(e),p;p=yield bt(h.next()),a=p.done,!a;d=!0){l=p.value,d=!1;const y=l;if(yE(y)){const v=(i=(n=y.candidates)===null||n===void 0?void 0:n[0])===null||i===void 0?void 0:i.content;v!==void 0&&u.push(v)}yield yield bt(y)}}catch(y){o={error:y}}finally{try{!d&&!a&&(c=h.return)&&(yield bt(c.call(h)))}finally{if(o)throw o.error}}this.recordHistory(t,u)})}recordHistory(e,t,n){let i=[];t.length>0&&t.every(r=>r.role!==void 0)?i=t:i.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...kb(n)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xE(s,e,t){const n={},i=f(e,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const r=f(e,["pageToken"]);return t!==void 0&&r!=null&&m(t,["_query","pageToken"],r),n}function DE(s,e){const t={},n=f(e,["config"]);return n!=null&&m(t,["config"],xE(s,n,t)),t}function TE(s,e){const t={},n=f(e,["details"]);n!=null&&m(t,["details"],n);const i=f(e,["message"]);i!=null&&m(t,["message"],i);const r=f(e,["code"]);return r!=null&&m(t,["code"],r),t}function AE(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const i=f(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=f(e,["mimeType"]);r!=null&&m(t,["mimeType"],r);const a=f(e,["sizeBytes"]);a!=null&&m(t,["sizeBytes"],a);const o=f(e,["createTime"]);o!=null&&m(t,["createTime"],o);const c=f(e,["expirationTime"]);c!=null&&m(t,["expirationTime"],c);const l=f(e,["updateTime"]);l!=null&&m(t,["updateTime"],l);const u=f(e,["sha256Hash"]);u!=null&&m(t,["sha256Hash"],u);const d=f(e,["uri"]);d!=null&&m(t,["uri"],d);const h=f(e,["downloadUri"]);h!=null&&m(t,["downloadUri"],h);const p=f(e,["state"]);p!=null&&m(t,["state"],p);const y=f(e,["source"]);y!=null&&m(t,["source"],y);const v=f(e,["videoMetadata"]);v!=null&&m(t,["videoMetadata"],v);const b=f(e,["error"]);return b!=null&&m(t,["error"],TE(s,b)),t}function CE(s,e){const t={},n=f(e,["file"]);n!=null&&m(t,["file"],AE(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function EE(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["_url","file"],X1(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function wE(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["_url","file"],X1(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function SE(s,e){const t={},n=f(e,["details"]);n!=null&&m(t,["details"],n);const i=f(e,["message"]);i!=null&&m(t,["message"],i);const r=f(e,["code"]);return r!=null&&m(t,["code"],r),t}function Rg(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const i=f(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=f(e,["mimeType"]);r!=null&&m(t,["mimeType"],r);const a=f(e,["sizeBytes"]);a!=null&&m(t,["sizeBytes"],a);const o=f(e,["createTime"]);o!=null&&m(t,["createTime"],o);const c=f(e,["expirationTime"]);c!=null&&m(t,["expirationTime"],c);const l=f(e,["updateTime"]);l!=null&&m(t,["updateTime"],l);const u=f(e,["sha256Hash"]);u!=null&&m(t,["sha256Hash"],u);const d=f(e,["uri"]);d!=null&&m(t,["uri"],d);const h=f(e,["downloadUri"]);h!=null&&m(t,["downloadUri"],h);const p=f(e,["state"]);p!=null&&m(t,["state"],p);const y=f(e,["source"]);y!=null&&m(t,["source"],y);const v=f(e,["videoMetadata"]);v!=null&&m(t,["videoMetadata"],v);const b=f(e,["error"]);return b!=null&&m(t,["error"],SE(s,b)),t}function UE(s,e){const t={},n=f(e,["nextPageToken"]);n!=null&&m(t,["nextPageToken"],n);const i=f(e,["files"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>Rg(s,a))),m(t,["files"],r)}return t}function FE(){return{}}function IE(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RE extends Zu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new vf(gc.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>Rg(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,n;let i,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=DE(this.apiClient,e);return r=Ne("files",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const l=UE(this.apiClient,c),u=new nC;return Object.assign(u,l),u})}}async createInternal(e){var t,n;let i,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=CE(this.apiClient,e);return r=Ne("upload/v1beta/files",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(()=>{const c=FE(),l=new iC;return Object.assign(l,c),l})}}async get(e){var t,n;let i,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=EE(this.apiClient,e);return r=Ne("files/{file}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>Rg(this.apiClient,c))}}async delete(e){var t,n;let i,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=wE(this.apiClient,e);return r=Ne("files/{file}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(()=>{const c=IE(),l=new rC;return Object.assign(l,c),l})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kE(s,e){const t={},n=f(e,["voiceName"]);return n!=null&&m(t,["voiceName"],n),t}function ME(s,e){const t={},n=f(e,["voiceName"]);return n!=null&&m(t,["voiceName"],n),t}function J1(s,e){const t={},n=f(e,["prebuiltVoiceConfig"]);return n!=null&&m(t,["prebuiltVoiceConfig"],kE(s,n)),t}function NE(s,e){const t={},n=f(e,["prebuiltVoiceConfig"]);return n!=null&&m(t,["prebuiltVoiceConfig"],ME(s,n)),t}function PE(s,e){const t={},n=f(e,["speaker"]);n!=null&&m(t,["speaker"],n);const i=f(e,["voiceConfig"]);return i!=null&&m(t,["voiceConfig"],J1(s,i)),t}function LE(s,e){const t={},n=f(e,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>PE(s,r))),m(t,["speakerVoiceConfigs"],i)}return t}function BE(s,e){const t={},n=f(e,["voiceConfig"]);n!=null&&m(t,["voiceConfig"],J1(s,n));const i=f(e,["multiSpeakerVoiceConfig"]);i!=null&&m(t,["multiSpeakerVoiceConfig"],LE(s,i));const r=f(e,["languageCode"]);return r!=null&&m(t,["languageCode"],r),t}function OE(s,e){const t={},n=f(e,["voiceConfig"]);if(n!=null&&m(t,["voiceConfig"],NE(s,n)),f(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=f(e,["languageCode"]);return i!=null&&m(t,["languageCode"],i),t}function WE(s,e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const i=f(e,["endOffset"]);i!=null&&m(t,["endOffset"],i);const r=f(e,["startOffset"]);return r!=null&&m(t,["startOffset"],r),t}function qE(s,e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const i=f(e,["endOffset"]);i!=null&&m(t,["endOffset"],i);const r=f(e,["startOffset"]);return r!=null&&m(t,["startOffset"],r),t}function VE(s,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["data"]);n!=null&&m(t,["data"],n);const i=f(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function zE(s,e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const i=f(e,["data"]);i!=null&&m(t,["data"],i);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function HE(s,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&m(t,["fileUri"],n);const i=f(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function GE(s,e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const i=f(e,["fileUri"]);i!=null&&m(t,["fileUri"],i);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function $E(s,e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],WE(s,n));const i=f(e,["thought"]);i!=null&&m(t,["thought"],i);const r=f(e,["inlineData"]);r!=null&&m(t,["inlineData"],VE(s,r));const a=f(e,["fileData"]);a!=null&&m(t,["fileData"],HE(s,a));const o=f(e,["codeExecutionResult"]);o!=null&&m(t,["codeExecutionResult"],o);const c=f(e,["executableCode"]);c!=null&&m(t,["executableCode"],c);const l=f(e,["functionCall"]);l!=null&&m(t,["functionCall"],l);const u=f(e,["functionResponse"]);u!=null&&m(t,["functionResponse"],u);const d=f(e,["text"]);return d!=null&&m(t,["text"],d),t}function XE(s,e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],qE(s,n));const i=f(e,["thought"]);i!=null&&m(t,["thought"],i);const r=f(e,["inlineData"]);r!=null&&m(t,["inlineData"],zE(s,r));const a=f(e,["fileData"]);a!=null&&m(t,["fileData"],GE(s,a));const o=f(e,["codeExecutionResult"]);o!=null&&m(t,["codeExecutionResult"],o);const c=f(e,["executableCode"]);c!=null&&m(t,["executableCode"],c);const l=f(e,["functionCall"]);l!=null&&m(t,["functionCall"],l);const u=f(e,["functionResponse"]);u!=null&&m(t,["functionResponse"],u);const d=f(e,["text"]);return d!=null&&m(t,["text"],d),t}function YE(s,e){const t={},n=f(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>$E(s,a))),m(t,["parts"],r)}const i=f(e,["role"]);return i!=null&&m(t,["role"],i),t}function KE(s,e){const t={},n=f(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>XE(s,a))),m(t,["parts"],r)}const i=f(e,["role"]);return i!=null&&m(t,["role"],i),t}function ZE(s,e){const t={},n=f(e,["behavior"]);n!=null&&m(t,["behavior"],n);const i=f(e,["description"]);i!=null&&m(t,["description"],i);const r=f(e,["name"]);r!=null&&m(t,["name"],r);const a=f(e,["parameters"]);a!=null&&m(t,["parameters"],a);const o=f(e,["response"]);return o!=null&&m(t,["response"],o),t}function JE(s,e){const t={};if(f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(e,["description"]);n!=null&&m(t,["description"],n);const i=f(e,["name"]);i!=null&&m(t,["name"],i);const r=f(e,["parameters"]);r!=null&&m(t,["parameters"],r);const a=f(e,["response"]);return a!=null&&m(t,["response"],a),t}function QE(s,e){const t={},n=f(e,["startTime"]);n!=null&&m(t,["startTime"],n);const i=f(e,["endTime"]);return i!=null&&m(t,["endTime"],i),t}function jE(s,e){const t={},n=f(e,["startTime"]);n!=null&&m(t,["startTime"],n);const i=f(e,["endTime"]);return i!=null&&m(t,["endTime"],i),t}function ew(s,e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&m(t,["timeRangeFilter"],QE(s,n)),t}function tw(s,e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&m(t,["timeRangeFilter"],jE(s,n)),t}function nw(s,e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const i=f(e,["dynamicThreshold"]);return i!=null&&m(t,["dynamicThreshold"],i),t}function iw(s,e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const i=f(e,["dynamicThreshold"]);return i!=null&&m(t,["dynamicThreshold"],i),t}function rw(s,e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&m(t,["dynamicRetrievalConfig"],nw(s,n)),t}function sw(s,e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&m(t,["dynamicRetrievalConfig"],iw(s,n)),t}function aw(){return{}}function ow(s,e){const t={},n=f(e,["apiKeyString"]);return n!=null&&m(t,["apiKeyString"],n),t}function cw(s,e){const t={},n=f(e,["apiKeyConfig"]);n!=null&&m(t,["apiKeyConfig"],ow(s,n));const i=f(e,["authType"]);i!=null&&m(t,["authType"],i);const r=f(e,["googleServiceAccountConfig"]);r!=null&&m(t,["googleServiceAccountConfig"],r);const a=f(e,["httpBasicAuthConfig"]);a!=null&&m(t,["httpBasicAuthConfig"],a);const o=f(e,["oauthConfig"]);o!=null&&m(t,["oauthConfig"],o);const c=f(e,["oidcConfig"]);return c!=null&&m(t,["oidcConfig"],c),t}function lw(s,e){const t={},n=f(e,["authConfig"]);return n!=null&&m(t,["authConfig"],cw(s,n)),t}function uw(){return{}}function dw(s,e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(l=>ZE(s,l))),m(t,["functionDeclarations"],c)}if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(e,["googleSearch"]);i!=null&&m(t,["googleSearch"],ew(s,i));const r=f(e,["googleSearchRetrieval"]);if(r!=null&&m(t,["googleSearchRetrieval"],rw(s,r)),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(e,["urlContext"])!=null&&m(t,["urlContext"],uw());const o=f(e,["codeExecution"]);return o!=null&&m(t,["codeExecution"],o),t}function hw(s,e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>JE(s,d))),m(t,["functionDeclarations"],u)}const i=f(e,["retrieval"]);i!=null&&m(t,["retrieval"],i);const r=f(e,["googleSearch"]);r!=null&&m(t,["googleSearch"],tw(s,r));const a=f(e,["googleSearchRetrieval"]);a!=null&&m(t,["googleSearchRetrieval"],sw(s,a)),f(e,["enterpriseWebSearch"])!=null&&m(t,["enterpriseWebSearch"],aw());const c=f(e,["googleMaps"]);if(c!=null&&m(t,["googleMaps"],lw(s,c)),f(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const l=f(e,["codeExecution"]);return l!=null&&m(t,["codeExecution"],l),t}function fw(s,e){const t={},n=f(e,["handle"]);if(n!=null&&m(t,["handle"],n),f(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function pw(s,e){const t={},n=f(e,["handle"]);n!=null&&m(t,["handle"],n);const i=f(e,["transparent"]);return i!=null&&m(t,["transparent"],i),t}function Mb(){return{}}function Nb(){return{}}function gw(s,e){const t={},n=f(e,["disabled"]);n!=null&&m(t,["disabled"],n);const i=f(e,["startOfSpeechSensitivity"]);i!=null&&m(t,["startOfSpeechSensitivity"],i);const r=f(e,["endOfSpeechSensitivity"]);r!=null&&m(t,["endOfSpeechSensitivity"],r);const a=f(e,["prefixPaddingMs"]);a!=null&&m(t,["prefixPaddingMs"],a);const o=f(e,["silenceDurationMs"]);return o!=null&&m(t,["silenceDurationMs"],o),t}function mw(s,e){const t={},n=f(e,["disabled"]);n!=null&&m(t,["disabled"],n);const i=f(e,["startOfSpeechSensitivity"]);i!=null&&m(t,["startOfSpeechSensitivity"],i);const r=f(e,["endOfSpeechSensitivity"]);r!=null&&m(t,["endOfSpeechSensitivity"],r);const a=f(e,["prefixPaddingMs"]);a!=null&&m(t,["prefixPaddingMs"],a);const o=f(e,["silenceDurationMs"]);return o!=null&&m(t,["silenceDurationMs"],o),t}function yw(s,e){const t={},n=f(e,["automaticActivityDetection"]);n!=null&&m(t,["automaticActivityDetection"],gw(s,n));const i=f(e,["activityHandling"]);i!=null&&m(t,["activityHandling"],i);const r=f(e,["turnCoverage"]);return r!=null&&m(t,["turnCoverage"],r),t}function vw(s,e){const t={},n=f(e,["automaticActivityDetection"]);n!=null&&m(t,["automaticActivityDetection"],mw(s,n));const i=f(e,["activityHandling"]);i!=null&&m(t,["activityHandling"],i);const r=f(e,["turnCoverage"]);return r!=null&&m(t,["turnCoverage"],r),t}function bw(s,e){const t={},n=f(e,["targetTokens"]);return n!=null&&m(t,["targetTokens"],n),t}function _w(s,e){const t={},n=f(e,["targetTokens"]);return n!=null&&m(t,["targetTokens"],n),t}function xw(s,e){const t={},n=f(e,["triggerTokens"]);n!=null&&m(t,["triggerTokens"],n);const i=f(e,["slidingWindow"]);return i!=null&&m(t,["slidingWindow"],bw(s,i)),t}function Dw(s,e){const t={},n=f(e,["triggerTokens"]);n!=null&&m(t,["triggerTokens"],n);const i=f(e,["slidingWindow"]);return i!=null&&m(t,["slidingWindow"],_w(s,i)),t}function Tw(s,e){const t={},n=f(e,["proactiveAudio"]);return n!=null&&m(t,["proactiveAudio"],n),t}function Aw(s,e){const t={},n=f(e,["proactiveAudio"]);return n!=null&&m(t,["proactiveAudio"],n),t}function Cw(s,e,t){const n={},i=f(e,["generationConfig"]);t!==void 0&&i!=null&&m(t,["setup","generationConfig"],i);const r=f(e,["responseModalities"]);t!==void 0&&r!=null&&m(t,["setup","generationConfig","responseModalities"],r);const a=f(e,["temperature"]);t!==void 0&&a!=null&&m(t,["setup","generationConfig","temperature"],a);const o=f(e,["topP"]);t!==void 0&&o!=null&&m(t,["setup","generationConfig","topP"],o);const c=f(e,["topK"]);t!==void 0&&c!=null&&m(t,["setup","generationConfig","topK"],c);const l=f(e,["maxOutputTokens"]);t!==void 0&&l!=null&&m(t,["setup","generationConfig","maxOutputTokens"],l);const u=f(e,["mediaResolution"]);t!==void 0&&u!=null&&m(t,["setup","generationConfig","mediaResolution"],u);const d=f(e,["seed"]);t!==void 0&&d!=null&&m(t,["setup","generationConfig","seed"],d);const h=f(e,["speechConfig"]);t!==void 0&&h!=null&&m(t,["setup","generationConfig","speechConfig"],BE(s,G1(s,h)));const p=f(e,["enableAffectiveDialog"]);t!==void 0&&p!=null&&m(t,["setup","generationConfig","enableAffectiveDialog"],p);const y=f(e,["systemInstruction"]);t!==void 0&&y!=null&&m(t,["setup","systemInstruction"],YE(s,mn(s,y)));const v=f(e,["tools"]);if(t!==void 0&&v!=null){let E=yf(s,v);Array.isArray(E)&&(E=E.map(F=>dw(s,mf(s,F)))),m(t,["setup","tools"],E)}const b=f(e,["sessionResumption"]);t!==void 0&&b!=null&&m(t,["setup","sessionResumption"],fw(s,b));const _=f(e,["inputAudioTranscription"]);t!==void 0&&_!=null&&m(t,["setup","inputAudioTranscription"],Mb());const x=f(e,["outputAudioTranscription"]);t!==void 0&&x!=null&&m(t,["setup","outputAudioTranscription"],Mb());const D=f(e,["realtimeInputConfig"]);t!==void 0&&D!=null&&m(t,["setup","realtimeInputConfig"],yw(s,D));const A=f(e,["contextWindowCompression"]);t!==void 0&&A!=null&&m(t,["setup","contextWindowCompression"],xw(s,A));const T=f(e,["proactivity"]);return t!==void 0&&T!=null&&m(t,["setup","proactivity"],Tw(s,T)),n}function Ew(s,e,t){const n={},i=f(e,["generationConfig"]);t!==void 0&&i!=null&&m(t,["setup","generationConfig"],i);const r=f(e,["responseModalities"]);t!==void 0&&r!=null&&m(t,["setup","generationConfig","responseModalities"],r);const a=f(e,["temperature"]);t!==void 0&&a!=null&&m(t,["setup","generationConfig","temperature"],a);const o=f(e,["topP"]);t!==void 0&&o!=null&&m(t,["setup","generationConfig","topP"],o);const c=f(e,["topK"]);t!==void 0&&c!=null&&m(t,["setup","generationConfig","topK"],c);const l=f(e,["maxOutputTokens"]);t!==void 0&&l!=null&&m(t,["setup","generationConfig","maxOutputTokens"],l);const u=f(e,["mediaResolution"]);t!==void 0&&u!=null&&m(t,["setup","generationConfig","mediaResolution"],u);const d=f(e,["seed"]);t!==void 0&&d!=null&&m(t,["setup","generationConfig","seed"],d);const h=f(e,["speechConfig"]);t!==void 0&&h!=null&&m(t,["setup","generationConfig","speechConfig"],OE(s,G1(s,h)));const p=f(e,["enableAffectiveDialog"]);t!==void 0&&p!=null&&m(t,["setup","generationConfig","enableAffectiveDialog"],p);const y=f(e,["systemInstruction"]);t!==void 0&&y!=null&&m(t,["setup","systemInstruction"],KE(s,mn(s,y)));const v=f(e,["tools"]);if(t!==void 0&&v!=null){let E=yf(s,v);Array.isArray(E)&&(E=E.map(F=>hw(s,mf(s,F)))),m(t,["setup","tools"],E)}const b=f(e,["sessionResumption"]);t!==void 0&&b!=null&&m(t,["setup","sessionResumption"],pw(s,b));const _=f(e,["inputAudioTranscription"]);t!==void 0&&_!=null&&m(t,["setup","inputAudioTranscription"],Nb());const x=f(e,["outputAudioTranscription"]);t!==void 0&&x!=null&&m(t,["setup","outputAudioTranscription"],Nb());const D=f(e,["realtimeInputConfig"]);t!==void 0&&D!=null&&m(t,["setup","realtimeInputConfig"],vw(s,D));const A=f(e,["contextWindowCompression"]);t!==void 0&&A!=null&&m(t,["setup","contextWindowCompression"],Dw(s,A));const T=f(e,["proactivity"]);return t!==void 0&&T!=null&&m(t,["setup","proactivity"],Aw(s,T)),n}function ww(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["setup","model"],mt(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],Cw(s,i,t)),t}function Sw(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["setup","model"],mt(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],Ew(s,i,t)),t}function Uw(){return{}}function Fw(){return{}}function Iw(){return{}}function Rw(){return{}}function kw(s,e){const t={},n=f(e,["media"]);n!=null&&m(t,["mediaChunks"],q1(s,n));const i=f(e,["audio"]);i!=null&&m(t,["audio"],cC(s,i));const r=f(e,["audioStreamEnd"]);r!=null&&m(t,["audioStreamEnd"],r);const a=f(e,["video"]);a!=null&&m(t,["video"],oC(s,a));const o=f(e,["text"]);return o!=null&&m(t,["text"],o),f(e,["activityStart"])!=null&&m(t,["activityStart"],Uw()),f(e,["activityEnd"])!=null&&m(t,["activityEnd"],Iw()),t}function Mw(s,e){const t={},n=f(e,["media"]);if(n!=null&&m(t,["mediaChunks"],q1(s,n)),f(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const i=f(e,["audioStreamEnd"]);if(i!=null&&m(t,["audioStreamEnd"],i),f(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(f(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return f(e,["activityStart"])!=null&&m(t,["activityStart"],Fw()),f(e,["activityEnd"])!=null&&m(t,["activityEnd"],Rw()),t}function Q1(s,e){const t={},n=f(e,["text"]);n!=null&&m(t,["text"],n);const i=f(e,["weight"]);return i!=null&&m(t,["weight"],i),t}function Nw(s,e){const t={},n=f(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Q1(s,r))),m(t,["weightedPrompts"],i)}return t}function j1(s,e){const t={},n=f(e,["temperature"]);n!=null&&m(t,["temperature"],n);const i=f(e,["topK"]);i!=null&&m(t,["topK"],i);const r=f(e,["seed"]);r!=null&&m(t,["seed"],r);const a=f(e,["guidance"]);a!=null&&m(t,["guidance"],a);const o=f(e,["bpm"]);o!=null&&m(t,["bpm"],o);const c=f(e,["density"]);c!=null&&m(t,["density"],c);const l=f(e,["brightness"]);l!=null&&m(t,["brightness"],l);const u=f(e,["scale"]);u!=null&&m(t,["scale"],u);const d=f(e,["muteBass"]);d!=null&&m(t,["muteBass"],d);const h=f(e,["muteDrums"]);h!=null&&m(t,["muteDrums"],h);const p=f(e,["onlyBassAndDrums"]);p!=null&&m(t,["onlyBassAndDrums"],p);const y=f(e,["musicGenerationMode"]);return y!=null&&m(t,["musicGenerationMode"],y),t}function Pw(s,e){const t={},n=f(e,["musicGenerationConfig"]);return n!=null&&m(t,["musicGenerationConfig"],j1(s,n)),t}function e_(s,e){const t={},n=f(e,["model"]);return n!=null&&m(t,["model"],n),t}function t_(s,e){const t={},n=f(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Q1(s,r))),m(t,["weightedPrompts"],i)}return t}function kg(s,e){const t={},n=f(e,["setup"]);n!=null&&m(t,["setup"],e_(s,n));const i=f(e,["clientContent"]);i!=null&&m(t,["clientContent"],t_(s,i));const r=f(e,["musicGenerationConfig"]);r!=null&&m(t,["musicGenerationConfig"],j1(s,r));const a=f(e,["playbackControl"]);return a!=null&&m(t,["playbackControl"],a),t}function Lw(){return{}}function Bw(){return{}}function Ow(s,e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const i=f(e,["endOffset"]);i!=null&&m(t,["endOffset"],i);const r=f(e,["startOffset"]);return r!=null&&m(t,["startOffset"],r),t}function Ww(s,e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const i=f(e,["endOffset"]);i!=null&&m(t,["endOffset"],i);const r=f(e,["startOffset"]);return r!=null&&m(t,["startOffset"],r),t}function qw(s,e){const t={},n=f(e,["data"]);n!=null&&m(t,["data"],n);const i=f(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function Vw(s,e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const i=f(e,["data"]);i!=null&&m(t,["data"],i);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function zw(s,e){const t={},n=f(e,["fileUri"]);n!=null&&m(t,["fileUri"],n);const i=f(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function Hw(s,e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const i=f(e,["fileUri"]);i!=null&&m(t,["fileUri"],i);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function Gw(s,e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],Ow(s,n));const i=f(e,["thought"]);i!=null&&m(t,["thought"],i);const r=f(e,["inlineData"]);r!=null&&m(t,["inlineData"],qw(s,r));const a=f(e,["fileData"]);a!=null&&m(t,["fileData"],zw(s,a));const o=f(e,["codeExecutionResult"]);o!=null&&m(t,["codeExecutionResult"],o);const c=f(e,["executableCode"]);c!=null&&m(t,["executableCode"],c);const l=f(e,["functionCall"]);l!=null&&m(t,["functionCall"],l);const u=f(e,["functionResponse"]);u!=null&&m(t,["functionResponse"],u);const d=f(e,["text"]);return d!=null&&m(t,["text"],d),t}function $w(s,e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],Ww(s,n));const i=f(e,["thought"]);i!=null&&m(t,["thought"],i);const r=f(e,["inlineData"]);r!=null&&m(t,["inlineData"],Vw(s,r));const a=f(e,["fileData"]);a!=null&&m(t,["fileData"],Hw(s,a));const o=f(e,["codeExecutionResult"]);o!=null&&m(t,["codeExecutionResult"],o);const c=f(e,["executableCode"]);c!=null&&m(t,["executableCode"],c);const l=f(e,["functionCall"]);l!=null&&m(t,["functionCall"],l);const u=f(e,["functionResponse"]);u!=null&&m(t,["functionResponse"],u);const d=f(e,["text"]);return d!=null&&m(t,["text"],d),t}function Xw(s,e){const t={},n=f(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>Gw(s,a))),m(t,["parts"],r)}const i=f(e,["role"]);return i!=null&&m(t,["role"],i),t}function Yw(s,e){const t={},n=f(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>$w(s,a))),m(t,["parts"],r)}const i=f(e,["role"]);return i!=null&&m(t,["role"],i),t}function Pb(s,e){const t={},n=f(e,["text"]);n!=null&&m(t,["text"],n);const i=f(e,["finished"]);return i!=null&&m(t,["finished"],i),t}function Lb(s,e){const t={},n=f(e,["text"]);n!=null&&m(t,["text"],n);const i=f(e,["finished"]);return i!=null&&m(t,["finished"],i),t}function Kw(s,e){const t={},n=f(e,["retrievedUrl"]);n!=null&&m(t,["retrievedUrl"],n);const i=f(e,["urlRetrievalStatus"]);return i!=null&&m(t,["urlRetrievalStatus"],i),t}function Zw(s,e){const t={},n=f(e,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Kw(s,r))),m(t,["urlMetadata"],i)}return t}function Jw(s,e){const t={},n=f(e,["modelTurn"]);n!=null&&m(t,["modelTurn"],Xw(s,n));const i=f(e,["turnComplete"]);i!=null&&m(t,["turnComplete"],i);const r=f(e,["interrupted"]);r!=null&&m(t,["interrupted"],r);const a=f(e,["groundingMetadata"]);a!=null&&m(t,["groundingMetadata"],a);const o=f(e,["generationComplete"]);o!=null&&m(t,["generationComplete"],o);const c=f(e,["inputTranscription"]);c!=null&&m(t,["inputTranscription"],Pb(s,c));const l=f(e,["outputTranscription"]);l!=null&&m(t,["outputTranscription"],Pb(s,l));const u=f(e,["urlContextMetadata"]);return u!=null&&m(t,["urlContextMetadata"],Zw(s,u)),t}function Qw(s,e){const t={},n=f(e,["modelTurn"]);n!=null&&m(t,["modelTurn"],Yw(s,n));const i=f(e,["turnComplete"]);i!=null&&m(t,["turnComplete"],i);const r=f(e,["interrupted"]);r!=null&&m(t,["interrupted"],r);const a=f(e,["groundingMetadata"]);a!=null&&m(t,["groundingMetadata"],a);const o=f(e,["generationComplete"]);o!=null&&m(t,["generationComplete"],o);const c=f(e,["inputTranscription"]);c!=null&&m(t,["inputTranscription"],Lb(s,c));const l=f(e,["outputTranscription"]);return l!=null&&m(t,["outputTranscription"],Lb(s,l)),t}function jw(s,e){const t={},n=f(e,["id"]);n!=null&&m(t,["id"],n);const i=f(e,["args"]);i!=null&&m(t,["args"],i);const r=f(e,["name"]);return r!=null&&m(t,["name"],r),t}function eS(s,e){const t={},n=f(e,["args"]);n!=null&&m(t,["args"],n);const i=f(e,["name"]);return i!=null&&m(t,["name"],i),t}function tS(s,e){const t={},n=f(e,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>jw(s,r))),m(t,["functionCalls"],i)}return t}function nS(s,e){const t={},n=f(e,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>eS(s,r))),m(t,["functionCalls"],i)}return t}function iS(s,e){const t={},n=f(e,["ids"]);return n!=null&&m(t,["ids"],n),t}function rS(s,e){const t={},n=f(e,["ids"]);return n!=null&&m(t,["ids"],n),t}function dd(s,e){const t={},n=f(e,["modality"]);n!=null&&m(t,["modality"],n);const i=f(e,["tokenCount"]);return i!=null&&m(t,["tokenCount"],i),t}function hd(s,e){const t={},n=f(e,["modality"]);n!=null&&m(t,["modality"],n);const i=f(e,["tokenCount"]);return i!=null&&m(t,["tokenCount"],i),t}function sS(s,e){const t={},n=f(e,["promptTokenCount"]);n!=null&&m(t,["promptTokenCount"],n);const i=f(e,["cachedContentTokenCount"]);i!=null&&m(t,["cachedContentTokenCount"],i);const r=f(e,["responseTokenCount"]);r!=null&&m(t,["responseTokenCount"],r);const a=f(e,["toolUsePromptTokenCount"]);a!=null&&m(t,["toolUsePromptTokenCount"],a);const o=f(e,["thoughtsTokenCount"]);o!=null&&m(t,["thoughtsTokenCount"],o);const c=f(e,["totalTokenCount"]);c!=null&&m(t,["totalTokenCount"],c);const l=f(e,["promptTokensDetails"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(y=>dd(s,y))),m(t,["promptTokensDetails"],p)}const u=f(e,["cacheTokensDetails"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(y=>dd(s,y))),m(t,["cacheTokensDetails"],p)}const d=f(e,["responseTokensDetails"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(y=>dd(s,y))),m(t,["responseTokensDetails"],p)}const h=f(e,["toolUsePromptTokensDetails"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(y=>dd(s,y))),m(t,["toolUsePromptTokensDetails"],p)}return t}function aS(s,e){const t={},n=f(e,["promptTokenCount"]);n!=null&&m(t,["promptTokenCount"],n);const i=f(e,["cachedContentTokenCount"]);i!=null&&m(t,["cachedContentTokenCount"],i);const r=f(e,["candidatesTokenCount"]);r!=null&&m(t,["responseTokenCount"],r);const a=f(e,["toolUsePromptTokenCount"]);a!=null&&m(t,["toolUsePromptTokenCount"],a);const o=f(e,["thoughtsTokenCount"]);o!=null&&m(t,["thoughtsTokenCount"],o);const c=f(e,["totalTokenCount"]);c!=null&&m(t,["totalTokenCount"],c);const l=f(e,["promptTokensDetails"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(v=>hd(s,v))),m(t,["promptTokensDetails"],y)}const u=f(e,["cacheTokensDetails"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(v=>hd(s,v))),m(t,["cacheTokensDetails"],y)}const d=f(e,["candidatesTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(v=>hd(s,v))),m(t,["responseTokensDetails"],y)}const h=f(e,["toolUsePromptTokensDetails"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(v=>hd(s,v))),m(t,["toolUsePromptTokensDetails"],y)}const p=f(e,["trafficType"]);return p!=null&&m(t,["trafficType"],p),t}function oS(s,e){const t={},n=f(e,["timeLeft"]);return n!=null&&m(t,["timeLeft"],n),t}function cS(s,e){const t={},n=f(e,["timeLeft"]);return n!=null&&m(t,["timeLeft"],n),t}function lS(s,e){const t={},n=f(e,["newHandle"]);n!=null&&m(t,["newHandle"],n);const i=f(e,["resumable"]);i!=null&&m(t,["resumable"],i);const r=f(e,["lastConsumedClientMessageIndex"]);return r!=null&&m(t,["lastConsumedClientMessageIndex"],r),t}function uS(s,e){const t={},n=f(e,["newHandle"]);n!=null&&m(t,["newHandle"],n);const i=f(e,["resumable"]);i!=null&&m(t,["resumable"],i);const r=f(e,["lastConsumedClientMessageIndex"]);return r!=null&&m(t,["lastConsumedClientMessageIndex"],r),t}function dS(s,e){const t={};f(e,["setupComplete"])!=null&&m(t,["setupComplete"],Lw());const i=f(e,["serverContent"]);i!=null&&m(t,["serverContent"],Jw(s,i));const r=f(e,["toolCall"]);r!=null&&m(t,["toolCall"],tS(s,r));const a=f(e,["toolCallCancellation"]);a!=null&&m(t,["toolCallCancellation"],iS(s,a));const o=f(e,["usageMetadata"]);o!=null&&m(t,["usageMetadata"],sS(s,o));const c=f(e,["goAway"]);c!=null&&m(t,["goAway"],oS(s,c));const l=f(e,["sessionResumptionUpdate"]);return l!=null&&m(t,["sessionResumptionUpdate"],lS(s,l)),t}function hS(s,e){const t={};f(e,["setupComplete"])!=null&&m(t,["setupComplete"],Bw());const i=f(e,["serverContent"]);i!=null&&m(t,["serverContent"],Qw(s,i));const r=f(e,["toolCall"]);r!=null&&m(t,["toolCall"],nS(s,r));const a=f(e,["toolCallCancellation"]);a!=null&&m(t,["toolCallCancellation"],rS(s,a));const o=f(e,["usageMetadata"]);o!=null&&m(t,["usageMetadata"],aS(s,o));const c=f(e,["goAway"]);c!=null&&m(t,["goAway"],cS(s,c));const l=f(e,["sessionResumptionUpdate"]);return l!=null&&m(t,["sessionResumptionUpdate"],uS(s,l)),t}function fS(){return{}}function pS(s,e){const t={},n=f(e,["text"]);n!=null&&m(t,["text"],n);const i=f(e,["weight"]);return i!=null&&m(t,["weight"],i),t}function gS(s,e){const t={},n=f(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>pS(s,r))),m(t,["weightedPrompts"],i)}return t}function mS(s,e){const t={},n=f(e,["temperature"]);n!=null&&m(t,["temperature"],n);const i=f(e,["topK"]);i!=null&&m(t,["topK"],i);const r=f(e,["seed"]);r!=null&&m(t,["seed"],r);const a=f(e,["guidance"]);a!=null&&m(t,["guidance"],a);const o=f(e,["bpm"]);o!=null&&m(t,["bpm"],o);const c=f(e,["density"]);c!=null&&m(t,["density"],c);const l=f(e,["brightness"]);l!=null&&m(t,["brightness"],l);const u=f(e,["scale"]);u!=null&&m(t,["scale"],u);const d=f(e,["muteBass"]);d!=null&&m(t,["muteBass"],d);const h=f(e,["muteDrums"]);h!=null&&m(t,["muteDrums"],h);const p=f(e,["onlyBassAndDrums"]);p!=null&&m(t,["onlyBassAndDrums"],p);const y=f(e,["musicGenerationMode"]);return y!=null&&m(t,["musicGenerationMode"],y),t}function yS(s,e){const t={},n=f(e,["clientContent"]);n!=null&&m(t,["clientContent"],gS(s,n));const i=f(e,["musicGenerationConfig"]);return i!=null&&m(t,["musicGenerationConfig"],mS(s,i)),t}function vS(s,e){const t={},n=f(e,["data"]);n!=null&&m(t,["data"],n);const i=f(e,["mimeType"]);i!=null&&m(t,["mimeType"],i);const r=f(e,["sourceMetadata"]);return r!=null&&m(t,["sourceMetadata"],yS(s,r)),t}function bS(s,e){const t={},n=f(e,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>vS(s,r))),m(t,["audioChunks"],i)}return t}function _S(s,e){const t={},n=f(e,["text"]);n!=null&&m(t,["text"],n);const i=f(e,["filteredReason"]);return i!=null&&m(t,["filteredReason"],i),t}function xS(s,e){const t={};f(e,["setupComplete"])!=null&&m(t,["setupComplete"],fS());const i=f(e,["serverContent"]);i!=null&&m(t,["serverContent"],bS(s,i));const r=f(e,["filteredPrompt"]);return r!=null&&m(t,["filteredPrompt"],_S(s,r)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DS(s,e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const i=f(e,["endOffset"]);i!=null&&m(t,["endOffset"],i);const r=f(e,["startOffset"]);return r!=null&&m(t,["startOffset"],r),t}function TS(s,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["data"]);n!=null&&m(t,["data"],n);const i=f(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function AS(s,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&m(t,["fileUri"],n);const i=f(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function CS(s,e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],DS(s,n));const i=f(e,["thought"]);i!=null&&m(t,["thought"],i);const r=f(e,["inlineData"]);r!=null&&m(t,["inlineData"],TS(s,r));const a=f(e,["fileData"]);a!=null&&m(t,["fileData"],AS(s,a));const o=f(e,["codeExecutionResult"]);o!=null&&m(t,["codeExecutionResult"],o);const c=f(e,["executableCode"]);c!=null&&m(t,["executableCode"],c);const l=f(e,["functionCall"]);l!=null&&m(t,["functionCall"],l);const u=f(e,["functionResponse"]);u!=null&&m(t,["functionResponse"],u);const d=f(e,["text"]);return d!=null&&m(t,["text"],d),t}function bf(s,e){const t={},n=f(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>CS(s,a))),m(t,["parts"],r)}const i=f(e,["role"]);return i!=null&&m(t,["role"],i),t}function ES(s,e){const t={},n=f(e,["anyOf"]);n!=null&&m(t,["anyOf"],n);const i=f(e,["default"]);i!=null&&m(t,["default"],i);const r=f(e,["description"]);r!=null&&m(t,["description"],r);const a=f(e,["enum"]);a!=null&&m(t,["enum"],a);const o=f(e,["example"]);o!=null&&m(t,["example"],o);const c=f(e,["format"]);c!=null&&m(t,["format"],c);const l=f(e,["items"]);l!=null&&m(t,["items"],l);const u=f(e,["maxItems"]);u!=null&&m(t,["maxItems"],u);const d=f(e,["maxLength"]);d!=null&&m(t,["maxLength"],d);const h=f(e,["maxProperties"]);h!=null&&m(t,["maxProperties"],h);const p=f(e,["maximum"]);p!=null&&m(t,["maximum"],p);const y=f(e,["minItems"]);y!=null&&m(t,["minItems"],y);const v=f(e,["minLength"]);v!=null&&m(t,["minLength"],v);const b=f(e,["minProperties"]);b!=null&&m(t,["minProperties"],b);const _=f(e,["minimum"]);_!=null&&m(t,["minimum"],_);const x=f(e,["nullable"]);x!=null&&m(t,["nullable"],x);const D=f(e,["pattern"]);D!=null&&m(t,["pattern"],D);const A=f(e,["properties"]);A!=null&&m(t,["properties"],A);const T=f(e,["propertyOrdering"]);T!=null&&m(t,["propertyOrdering"],T);const E=f(e,["required"]);E!=null&&m(t,["required"],E);const F=f(e,["title"]);F!=null&&m(t,["title"],F);const I=f(e,["type"]);return I!=null&&m(t,["type"],I),t}function wS(s,e){const t={};if(f(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=f(e,["category"]);n!=null&&m(t,["category"],n);const i=f(e,["threshold"]);return i!=null&&m(t,["threshold"],i),t}function SS(s,e){const t={},n=f(e,["behavior"]);n!=null&&m(t,["behavior"],n);const i=f(e,["description"]);i!=null&&m(t,["description"],i);const r=f(e,["name"]);r!=null&&m(t,["name"],r);const a=f(e,["parameters"]);a!=null&&m(t,["parameters"],a);const o=f(e,["response"]);return o!=null&&m(t,["response"],o),t}function US(s,e){const t={},n=f(e,["startTime"]);n!=null&&m(t,["startTime"],n);const i=f(e,["endTime"]);return i!=null&&m(t,["endTime"],i),t}function FS(s,e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&m(t,["timeRangeFilter"],US(s,n)),t}function IS(s,e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const i=f(e,["dynamicThreshold"]);return i!=null&&m(t,["dynamicThreshold"],i),t}function RS(s,e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&m(t,["dynamicRetrievalConfig"],IS(s,n)),t}function kS(){return{}}function MS(s,e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(l=>SS(s,l))),m(t,["functionDeclarations"],c)}if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(e,["googleSearch"]);i!=null&&m(t,["googleSearch"],FS(s,i));const r=f(e,["googleSearchRetrieval"]);if(r!=null&&m(t,["googleSearchRetrieval"],RS(s,r)),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(e,["urlContext"])!=null&&m(t,["urlContext"],kS());const o=f(e,["codeExecution"]);return o!=null&&m(t,["codeExecution"],o),t}function NS(s,e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const i=f(e,["allowedFunctionNames"]);return i!=null&&m(t,["allowedFunctionNames"],i),t}function PS(s,e){const t={},n=f(e,["latitude"]);n!=null&&m(t,["latitude"],n);const i=f(e,["longitude"]);return i!=null&&m(t,["longitude"],i),t}function LS(s,e){const t={},n=f(e,["latLng"]);n!=null&&m(t,["latLng"],PS(s,n));const i=f(e,["languageCode"]);return i!=null&&m(t,["languageCode"],i),t}function BS(s,e){const t={},n=f(e,["functionCallingConfig"]);n!=null&&m(t,["functionCallingConfig"],NS(s,n));const i=f(e,["retrievalConfig"]);return i!=null&&m(t,["retrievalConfig"],LS(s,i)),t}function OS(s,e){const t={},n=f(e,["voiceName"]);return n!=null&&m(t,["voiceName"],n),t}function n_(s,e){const t={},n=f(e,["prebuiltVoiceConfig"]);return n!=null&&m(t,["prebuiltVoiceConfig"],OS(s,n)),t}function WS(s,e){const t={},n=f(e,["speaker"]);n!=null&&m(t,["speaker"],n);const i=f(e,["voiceConfig"]);return i!=null&&m(t,["voiceConfig"],n_(s,i)),t}function qS(s,e){const t={},n=f(e,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>WS(s,r))),m(t,["speakerVoiceConfigs"],i)}return t}function VS(s,e){const t={},n=f(e,["voiceConfig"]);n!=null&&m(t,["voiceConfig"],n_(s,n));const i=f(e,["multiSpeakerVoiceConfig"]);i!=null&&m(t,["multiSpeakerVoiceConfig"],qS(s,i));const r=f(e,["languageCode"]);return r!=null&&m(t,["languageCode"],r),t}function zS(s,e){const t={},n=f(e,["includeThoughts"]);n!=null&&m(t,["includeThoughts"],n);const i=f(e,["thinkingBudget"]);return i!=null&&m(t,["thinkingBudget"],i),t}function HS(s,e,t){const n={},i=f(e,["systemInstruction"]);t!==void 0&&i!=null&&m(t,["systemInstruction"],bf(s,mn(s,i)));const r=f(e,["temperature"]);r!=null&&m(n,["temperature"],r);const a=f(e,["topP"]);a!=null&&m(n,["topP"],a);const o=f(e,["topK"]);o!=null&&m(n,["topK"],o);const c=f(e,["candidateCount"]);c!=null&&m(n,["candidateCount"],c);const l=f(e,["maxOutputTokens"]);l!=null&&m(n,["maxOutputTokens"],l);const u=f(e,["stopSequences"]);u!=null&&m(n,["stopSequences"],u);const d=f(e,["responseLogprobs"]);d!=null&&m(n,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&m(n,["logprobs"],h);const p=f(e,["presencePenalty"]);p!=null&&m(n,["presencePenalty"],p);const y=f(e,["frequencyPenalty"]);y!=null&&m(n,["frequencyPenalty"],y);const v=f(e,["seed"]);v!=null&&m(n,["seed"],v);const b=f(e,["responseMimeType"]);b!=null&&m(n,["responseMimeType"],b);const _=f(e,["responseSchema"]);if(_!=null&&m(n,["responseSchema"],ES(s,Lh(s,_))),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=f(e,["safetySettings"]);if(t!==void 0&&x!=null){let L=x;Array.isArray(L)&&(L=L.map(G=>wS(s,G))),m(t,["safetySettings"],L)}const D=f(e,["tools"]);if(t!==void 0&&D!=null){let L=yf(s,D);Array.isArray(L)&&(L=L.map(G=>MS(s,mf(s,G)))),m(t,["tools"],L)}const A=f(e,["toolConfig"]);if(t!==void 0&&A!=null&&m(t,["toolConfig"],BS(s,A)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=f(e,["cachedContent"]);t!==void 0&&T!=null&&m(t,["cachedContent"],gs(s,T));const E=f(e,["responseModalities"]);E!=null&&m(n,["responseModalities"],E);const F=f(e,["mediaResolution"]);F!=null&&m(n,["mediaResolution"],F);const I=f(e,["speechConfig"]);if(I!=null&&m(n,["speechConfig"],VS(s,H1(s,I))),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=f(e,["thinkingConfig"]);return U!=null&&m(n,["thinkingConfig"],zS(s,U)),n}function Bb(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],mt(s,n));const i=f(e,["contents"]);if(i!=null){let a=fi(s,i);Array.isArray(a)&&(a=a.map(o=>bf(s,o))),m(t,["contents"],a)}const r=f(e,["config"]);return r!=null&&m(t,["generationConfig"],HS(s,r,t)),t}function GS(s,e,t){const n={},i=f(e,["taskType"]);t!==void 0&&i!=null&&m(t,["requests[]","taskType"],i);const r=f(e,["title"]);t!==void 0&&r!=null&&m(t,["requests[]","title"],r);const a=f(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&m(t,["requests[]","outputDimensionality"],a),f(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function $S(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],mt(s,n));const i=f(e,["contents"]);i!=null&&m(t,["requests[]","content"],z1(s,i));const r=f(e,["config"]);r!=null&&m(t,["config"],GS(s,r,t));const a=f(e,["model"]);return a!==void 0&&m(t,["requests[]","model"],mt(s,a)),t}function XS(s,e,t){const n={};if(f(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=f(e,["numberOfImages"]);t!==void 0&&i!=null&&m(t,["parameters","sampleCount"],i);const r=f(e,["aspectRatio"]);t!==void 0&&r!=null&&m(t,["parameters","aspectRatio"],r);const a=f(e,["guidanceScale"]);if(t!==void 0&&a!=null&&m(t,["parameters","guidanceScale"],a),f(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=f(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&m(t,["parameters","safetySetting"],o);const c=f(e,["personGeneration"]);t!==void 0&&c!=null&&m(t,["parameters","personGeneration"],c);const l=f(e,["includeSafetyAttributes"]);t!==void 0&&l!=null&&m(t,["parameters","includeSafetyAttributes"],l);const u=f(e,["includeRaiReason"]);t!==void 0&&u!=null&&m(t,["parameters","includeRaiReason"],u);const d=f(e,["language"]);t!==void 0&&d!=null&&m(t,["parameters","language"],d);const h=f(e,["outputMimeType"]);t!==void 0&&h!=null&&m(t,["parameters","outputOptions","mimeType"],h);const p=f(e,["outputCompressionQuality"]);if(t!==void 0&&p!=null&&m(t,["parameters","outputOptions","compressionQuality"],p),f(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function YS(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],mt(s,n));const i=f(e,["prompt"]);i!=null&&m(t,["instances[0]","prompt"],i);const r=f(e,["config"]);return r!=null&&m(t,["config"],XS(s,r,t)),t}function KS(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","name"],mt(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function ZS(s,e,t){const n={},i=f(e,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const r=f(e,["pageToken"]);t!==void 0&&r!=null&&m(t,["_query","pageToken"],r);const a=f(e,["filter"]);t!==void 0&&a!=null&&m(t,["_query","filter"],a);const o=f(e,["queryBase"]);return t!==void 0&&o!=null&&m(t,["_url","models_url"],Y1(s,o)),n}function JS(s,e){const t={},n=f(e,["config"]);return n!=null&&m(t,["config"],ZS(s,n,t)),t}function QS(s,e,t){const n={},i=f(e,["displayName"]);t!==void 0&&i!=null&&m(t,["displayName"],i);const r=f(e,["description"]);t!==void 0&&r!=null&&m(t,["description"],r);const a=f(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&m(t,["defaultCheckpointId"],a),n}function jS(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","name"],mt(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],QS(s,i,t)),t}function eU(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","name"],mt(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function tU(s,e){const t={};if(f(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function nU(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],mt(s,n));const i=f(e,["contents"]);if(i!=null){let a=fi(s,i);Array.isArray(a)&&(a=a.map(o=>bf(s,o))),m(t,["contents"],a)}const r=f(e,["config"]);return r!=null&&m(t,["config"],tU(s,r)),t}function iU(s,e){const t={};if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(e,["imageBytes"]);n!=null&&m(t,["bytesBase64Encoded"],ms(s,n));const i=f(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function rU(s,e,t){const n={},i=f(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&m(t,["parameters","sampleCount"],i),f(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=f(e,["durationSeconds"]);if(t!==void 0&&r!=null&&m(t,["parameters","durationSeconds"],r),f(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=f(e,["aspectRatio"]);if(t!==void 0&&a!=null&&m(t,["parameters","aspectRatio"],a),f(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const o=f(e,["personGeneration"]);if(t!==void 0&&o!=null&&m(t,["parameters","personGeneration"],o),f(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=f(e,["negativePrompt"]);if(t!==void 0&&c!=null&&m(t,["parameters","negativePrompt"],c),f(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function sU(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],mt(s,n));const i=f(e,["prompt"]);i!=null&&m(t,["instances[0]","prompt"],i);const r=f(e,["image"]);r!=null&&m(t,["instances[0]","image"],iU(s,r));const a=f(e,["config"]);return a!=null&&m(t,["config"],rU(s,a,t)),t}function aU(s,e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const i=f(e,["endOffset"]);i!=null&&m(t,["endOffset"],i);const r=f(e,["startOffset"]);return r!=null&&m(t,["startOffset"],r),t}function oU(s,e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const i=f(e,["data"]);i!=null&&m(t,["data"],i);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function cU(s,e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const i=f(e,["fileUri"]);i!=null&&m(t,["fileUri"],i);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function lU(s,e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],aU(s,n));const i=f(e,["thought"]);i!=null&&m(t,["thought"],i);const r=f(e,["inlineData"]);r!=null&&m(t,["inlineData"],oU(s,r));const a=f(e,["fileData"]);a!=null&&m(t,["fileData"],cU(s,a));const o=f(e,["codeExecutionResult"]);o!=null&&m(t,["codeExecutionResult"],o);const c=f(e,["executableCode"]);c!=null&&m(t,["executableCode"],c);const l=f(e,["functionCall"]);l!=null&&m(t,["functionCall"],l);const u=f(e,["functionResponse"]);u!=null&&m(t,["functionResponse"],u);const d=f(e,["text"]);return d!=null&&m(t,["text"],d),t}function bc(s,e){const t={},n=f(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>lU(s,a))),m(t,["parts"],r)}const i=f(e,["role"]);return i!=null&&m(t,["role"],i),t}function uU(s,e){const t={},n=f(e,["anyOf"]);n!=null&&m(t,["anyOf"],n);const i=f(e,["default"]);i!=null&&m(t,["default"],i);const r=f(e,["description"]);r!=null&&m(t,["description"],r);const a=f(e,["enum"]);a!=null&&m(t,["enum"],a);const o=f(e,["example"]);o!=null&&m(t,["example"],o);const c=f(e,["format"]);c!=null&&m(t,["format"],c);const l=f(e,["items"]);l!=null&&m(t,["items"],l);const u=f(e,["maxItems"]);u!=null&&m(t,["maxItems"],u);const d=f(e,["maxLength"]);d!=null&&m(t,["maxLength"],d);const h=f(e,["maxProperties"]);h!=null&&m(t,["maxProperties"],h);const p=f(e,["maximum"]);p!=null&&m(t,["maximum"],p);const y=f(e,["minItems"]);y!=null&&m(t,["minItems"],y);const v=f(e,["minLength"]);v!=null&&m(t,["minLength"],v);const b=f(e,["minProperties"]);b!=null&&m(t,["minProperties"],b);const _=f(e,["minimum"]);_!=null&&m(t,["minimum"],_);const x=f(e,["nullable"]);x!=null&&m(t,["nullable"],x);const D=f(e,["pattern"]);D!=null&&m(t,["pattern"],D);const A=f(e,["properties"]);A!=null&&m(t,["properties"],A);const T=f(e,["propertyOrdering"]);T!=null&&m(t,["propertyOrdering"],T);const E=f(e,["required"]);E!=null&&m(t,["required"],E);const F=f(e,["title"]);F!=null&&m(t,["title"],F);const I=f(e,["type"]);return I!=null&&m(t,["type"],I),t}function dU(s,e){const t={},n=f(e,["featureSelectionPreference"]);return n!=null&&m(t,["featureSelectionPreference"],n),t}function hU(s,e){const t={},n=f(e,["method"]);n!=null&&m(t,["method"],n);const i=f(e,["category"]);i!=null&&m(t,["category"],i);const r=f(e,["threshold"]);return r!=null&&m(t,["threshold"],r),t}function fU(s,e){const t={};if(f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(e,["description"]);n!=null&&m(t,["description"],n);const i=f(e,["name"]);i!=null&&m(t,["name"],i);const r=f(e,["parameters"]);r!=null&&m(t,["parameters"],r);const a=f(e,["response"]);return a!=null&&m(t,["response"],a),t}function pU(s,e){const t={},n=f(e,["startTime"]);n!=null&&m(t,["startTime"],n);const i=f(e,["endTime"]);return i!=null&&m(t,["endTime"],i),t}function gU(s,e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&m(t,["timeRangeFilter"],pU(s,n)),t}function mU(s,e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const i=f(e,["dynamicThreshold"]);return i!=null&&m(t,["dynamicThreshold"],i),t}function yU(s,e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&m(t,["dynamicRetrievalConfig"],mU(s,n)),t}function vU(){return{}}function bU(s,e){const t={},n=f(e,["apiKeyString"]);return n!=null&&m(t,["apiKeyString"],n),t}function _U(s,e){const t={},n=f(e,["apiKeyConfig"]);n!=null&&m(t,["apiKeyConfig"],bU(s,n));const i=f(e,["authType"]);i!=null&&m(t,["authType"],i);const r=f(e,["googleServiceAccountConfig"]);r!=null&&m(t,["googleServiceAccountConfig"],r);const a=f(e,["httpBasicAuthConfig"]);a!=null&&m(t,["httpBasicAuthConfig"],a);const o=f(e,["oauthConfig"]);o!=null&&m(t,["oauthConfig"],o);const c=f(e,["oidcConfig"]);return c!=null&&m(t,["oidcConfig"],c),t}function xU(s,e){const t={},n=f(e,["authConfig"]);return n!=null&&m(t,["authConfig"],_U(s,n)),t}function i_(s,e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>fU(s,d))),m(t,["functionDeclarations"],u)}const i=f(e,["retrieval"]);i!=null&&m(t,["retrieval"],i);const r=f(e,["googleSearch"]);r!=null&&m(t,["googleSearch"],gU(s,r));const a=f(e,["googleSearchRetrieval"]);a!=null&&m(t,["googleSearchRetrieval"],yU(s,a)),f(e,["enterpriseWebSearch"])!=null&&m(t,["enterpriseWebSearch"],vU());const c=f(e,["googleMaps"]);if(c!=null&&m(t,["googleMaps"],xU(s,c)),f(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const l=f(e,["codeExecution"]);return l!=null&&m(t,["codeExecution"],l),t}function DU(s,e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const i=f(e,["allowedFunctionNames"]);return i!=null&&m(t,["allowedFunctionNames"],i),t}function TU(s,e){const t={},n=f(e,["latitude"]);n!=null&&m(t,["latitude"],n);const i=f(e,["longitude"]);return i!=null&&m(t,["longitude"],i),t}function AU(s,e){const t={},n=f(e,["latLng"]);n!=null&&m(t,["latLng"],TU(s,n));const i=f(e,["languageCode"]);return i!=null&&m(t,["languageCode"],i),t}function CU(s,e){const t={},n=f(e,["functionCallingConfig"]);n!=null&&m(t,["functionCallingConfig"],DU(s,n));const i=f(e,["retrievalConfig"]);return i!=null&&m(t,["retrievalConfig"],AU(s,i)),t}function EU(s,e){const t={},n=f(e,["voiceName"]);return n!=null&&m(t,["voiceName"],n),t}function wU(s,e){const t={},n=f(e,["prebuiltVoiceConfig"]);return n!=null&&m(t,["prebuiltVoiceConfig"],EU(s,n)),t}function SU(s,e){const t={},n=f(e,["voiceConfig"]);if(n!=null&&m(t,["voiceConfig"],wU(s,n)),f(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=f(e,["languageCode"]);return i!=null&&m(t,["languageCode"],i),t}function UU(s,e){const t={},n=f(e,["includeThoughts"]);n!=null&&m(t,["includeThoughts"],n);const i=f(e,["thinkingBudget"]);return i!=null&&m(t,["thinkingBudget"],i),t}function FU(s,e,t){const n={},i=f(e,["systemInstruction"]);t!==void 0&&i!=null&&m(t,["systemInstruction"],bc(s,mn(s,i)));const r=f(e,["temperature"]);r!=null&&m(n,["temperature"],r);const a=f(e,["topP"]);a!=null&&m(n,["topP"],a);const o=f(e,["topK"]);o!=null&&m(n,["topK"],o);const c=f(e,["candidateCount"]);c!=null&&m(n,["candidateCount"],c);const l=f(e,["maxOutputTokens"]);l!=null&&m(n,["maxOutputTokens"],l);const u=f(e,["stopSequences"]);u!=null&&m(n,["stopSequences"],u);const d=f(e,["responseLogprobs"]);d!=null&&m(n,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&m(n,["logprobs"],h);const p=f(e,["presencePenalty"]);p!=null&&m(n,["presencePenalty"],p);const y=f(e,["frequencyPenalty"]);y!=null&&m(n,["frequencyPenalty"],y);const v=f(e,["seed"]);v!=null&&m(n,["seed"],v);const b=f(e,["responseMimeType"]);b!=null&&m(n,["responseMimeType"],b);const _=f(e,["responseSchema"]);_!=null&&m(n,["responseSchema"],uU(s,Lh(s,_)));const x=f(e,["routingConfig"]);x!=null&&m(n,["routingConfig"],x);const D=f(e,["modelSelectionConfig"]);D!=null&&m(n,["modelConfig"],dU(s,D));const A=f(e,["safetySettings"]);if(t!==void 0&&A!=null){let w=A;Array.isArray(w)&&(w=w.map(X=>hU(s,X))),m(t,["safetySettings"],w)}const T=f(e,["tools"]);if(t!==void 0&&T!=null){let w=yf(s,T);Array.isArray(w)&&(w=w.map(X=>i_(s,mf(s,X)))),m(t,["tools"],w)}const E=f(e,["toolConfig"]);t!==void 0&&E!=null&&m(t,["toolConfig"],CU(s,E));const F=f(e,["labels"]);t!==void 0&&F!=null&&m(t,["labels"],F);const I=f(e,["cachedContent"]);t!==void 0&&I!=null&&m(t,["cachedContent"],gs(s,I));const U=f(e,["responseModalities"]);U!=null&&m(n,["responseModalities"],U);const L=f(e,["mediaResolution"]);L!=null&&m(n,["mediaResolution"],L);const G=f(e,["speechConfig"]);G!=null&&m(n,["speechConfig"],SU(s,H1(s,G)));const S=f(e,["audioTimestamp"]);S!=null&&m(n,["audioTimestamp"],S);const k=f(e,["thinkingConfig"]);return k!=null&&m(n,["thinkingConfig"],UU(s,k)),n}function Ob(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],mt(s,n));const i=f(e,["contents"]);if(i!=null){let a=fi(s,i);Array.isArray(a)&&(a=a.map(o=>bc(s,o))),m(t,["contents"],a)}const r=f(e,["config"]);return r!=null&&m(t,["generationConfig"],FU(s,r,t)),t}function IU(s,e,t){const n={},i=f(e,["taskType"]);t!==void 0&&i!=null&&m(t,["instances[]","task_type"],i);const r=f(e,["title"]);t!==void 0&&r!=null&&m(t,["instances[]","title"],r);const a=f(e,["outputDimensionality"]);t!==void 0&&a!=null&&m(t,["parameters","outputDimensionality"],a);const o=f(e,["mimeType"]);t!==void 0&&o!=null&&m(t,["instances[]","mimeType"],o);const c=f(e,["autoTruncate"]);return t!==void 0&&c!=null&&m(t,["parameters","autoTruncate"],c),n}function RU(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],mt(s,n));const i=f(e,["contents"]);i!=null&&m(t,["instances[]","content"],z1(s,i));const r=f(e,["config"]);return r!=null&&m(t,["config"],IU(s,r,t)),t}function kU(s,e,t){const n={},i=f(e,["outputGcsUri"]);t!==void 0&&i!=null&&m(t,["parameters","storageUri"],i);const r=f(e,["negativePrompt"]);t!==void 0&&r!=null&&m(t,["parameters","negativePrompt"],r);const a=f(e,["numberOfImages"]);t!==void 0&&a!=null&&m(t,["parameters","sampleCount"],a);const o=f(e,["aspectRatio"]);t!==void 0&&o!=null&&m(t,["parameters","aspectRatio"],o);const c=f(e,["guidanceScale"]);t!==void 0&&c!=null&&m(t,["parameters","guidanceScale"],c);const l=f(e,["seed"]);t!==void 0&&l!=null&&m(t,["parameters","seed"],l);const u=f(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&m(t,["parameters","safetySetting"],u);const d=f(e,["personGeneration"]);t!==void 0&&d!=null&&m(t,["parameters","personGeneration"],d);const h=f(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&m(t,["parameters","includeSafetyAttributes"],h);const p=f(e,["includeRaiReason"]);t!==void 0&&p!=null&&m(t,["parameters","includeRaiReason"],p);const y=f(e,["language"]);t!==void 0&&y!=null&&m(t,["parameters","language"],y);const v=f(e,["outputMimeType"]);t!==void 0&&v!=null&&m(t,["parameters","outputOptions","mimeType"],v);const b=f(e,["outputCompressionQuality"]);t!==void 0&&b!=null&&m(t,["parameters","outputOptions","compressionQuality"],b);const _=f(e,["addWatermark"]);t!==void 0&&_!=null&&m(t,["parameters","addWatermark"],_);const x=f(e,["enhancePrompt"]);return t!==void 0&&x!=null&&m(t,["parameters","enhancePrompt"],x),n}function MU(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],mt(s,n));const i=f(e,["prompt"]);i!=null&&m(t,["instances[0]","prompt"],i);const r=f(e,["config"]);return r!=null&&m(t,["config"],kU(s,r,t)),t}function sy(s,e){const t={},n=f(e,["gcsUri"]);n!=null&&m(t,["gcsUri"],n);const i=f(e,["imageBytes"]);i!=null&&m(t,["bytesBase64Encoded"],ms(s,i));const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function NU(s,e){const t={},n=f(e,["maskMode"]);n!=null&&m(t,["maskMode"],n);const i=f(e,["segmentationClasses"]);i!=null&&m(t,["maskClasses"],i);const r=f(e,["maskDilation"]);return r!=null&&m(t,["dilation"],r),t}function PU(s,e){const t={},n=f(e,["controlType"]);n!=null&&m(t,["controlType"],n);const i=f(e,["enableControlImageComputation"]);return i!=null&&m(t,["computeControl"],i),t}function LU(s,e){const t={},n=f(e,["styleDescription"]);return n!=null&&m(t,["styleDescription"],n),t}function BU(s,e){const t={},n=f(e,["subjectType"]);n!=null&&m(t,["subjectType"],n);const i=f(e,["subjectDescription"]);return i!=null&&m(t,["subjectDescription"],i),t}function OU(s,e){const t={},n=f(e,["referenceImage"]);n!=null&&m(t,["referenceImage"],sy(s,n));const i=f(e,["referenceId"]);i!=null&&m(t,["referenceId"],i);const r=f(e,["referenceType"]);r!=null&&m(t,["referenceType"],r);const a=f(e,["maskImageConfig"]);a!=null&&m(t,["maskImageConfig"],NU(s,a));const o=f(e,["controlImageConfig"]);o!=null&&m(t,["controlImageConfig"],PU(s,o));const c=f(e,["styleImageConfig"]);c!=null&&m(t,["styleImageConfig"],LU(s,c));const l=f(e,["subjectImageConfig"]);return l!=null&&m(t,["subjectImageConfig"],BU(s,l)),t}function WU(s,e,t){const n={},i=f(e,["outputGcsUri"]);t!==void 0&&i!=null&&m(t,["parameters","storageUri"],i);const r=f(e,["negativePrompt"]);t!==void 0&&r!=null&&m(t,["parameters","negativePrompt"],r);const a=f(e,["numberOfImages"]);t!==void 0&&a!=null&&m(t,["parameters","sampleCount"],a);const o=f(e,["aspectRatio"]);t!==void 0&&o!=null&&m(t,["parameters","aspectRatio"],o);const c=f(e,["guidanceScale"]);t!==void 0&&c!=null&&m(t,["parameters","guidanceScale"],c);const l=f(e,["seed"]);t!==void 0&&l!=null&&m(t,["parameters","seed"],l);const u=f(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&m(t,["parameters","safetySetting"],u);const d=f(e,["personGeneration"]);t!==void 0&&d!=null&&m(t,["parameters","personGeneration"],d);const h=f(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&m(t,["parameters","includeSafetyAttributes"],h);const p=f(e,["includeRaiReason"]);t!==void 0&&p!=null&&m(t,["parameters","includeRaiReason"],p);const y=f(e,["language"]);t!==void 0&&y!=null&&m(t,["parameters","language"],y);const v=f(e,["outputMimeType"]);t!==void 0&&v!=null&&m(t,["parameters","outputOptions","mimeType"],v);const b=f(e,["outputCompressionQuality"]);t!==void 0&&b!=null&&m(t,["parameters","outputOptions","compressionQuality"],b);const _=f(e,["editMode"]);t!==void 0&&_!=null&&m(t,["parameters","editMode"],_);const x=f(e,["baseSteps"]);return t!==void 0&&x!=null&&m(t,["parameters","editConfig","baseSteps"],x),n}function qU(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],mt(s,n));const i=f(e,["prompt"]);i!=null&&m(t,["instances[0]","prompt"],i);const r=f(e,["referenceImages"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(c=>OU(s,c))),m(t,["instances[0]","referenceImages"],o)}const a=f(e,["config"]);return a!=null&&m(t,["config"],WU(s,a,t)),t}function VU(s,e,t){const n={},i=f(e,["includeRaiReason"]);t!==void 0&&i!=null&&m(t,["parameters","includeRaiReason"],i);const r=f(e,["outputMimeType"]);t!==void 0&&r!=null&&m(t,["parameters","outputOptions","mimeType"],r);const a=f(e,["outputCompressionQuality"]);t!==void 0&&a!=null&&m(t,["parameters","outputOptions","compressionQuality"],a);const o=f(e,["numberOfImages"]);t!==void 0&&o!=null&&m(t,["parameters","sampleCount"],o);const c=f(e,["mode"]);return t!==void 0&&c!=null&&m(t,["parameters","mode"],c),n}function zU(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],mt(s,n));const i=f(e,["image"]);i!=null&&m(t,["instances[0]","image"],sy(s,i));const r=f(e,["upscaleFactor"]);r!=null&&m(t,["parameters","upscaleConfig","upscaleFactor"],r);const a=f(e,["config"]);return a!=null&&m(t,["config"],VU(s,a,t)),t}function HU(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","name"],mt(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function GU(s,e,t){const n={},i=f(e,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const r=f(e,["pageToken"]);t!==void 0&&r!=null&&m(t,["_query","pageToken"],r);const a=f(e,["filter"]);t!==void 0&&a!=null&&m(t,["_query","filter"],a);const o=f(e,["queryBase"]);return t!==void 0&&o!=null&&m(t,["_url","models_url"],Y1(s,o)),n}function $U(s,e){const t={},n=f(e,["config"]);return n!=null&&m(t,["config"],GU(s,n,t)),t}function XU(s,e,t){const n={},i=f(e,["displayName"]);t!==void 0&&i!=null&&m(t,["displayName"],i);const r=f(e,["description"]);t!==void 0&&r!=null&&m(t,["description"],r);const a=f(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&m(t,["defaultCheckpointId"],a),n}function YU(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],mt(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],XU(s,i,t)),t}function KU(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","name"],mt(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function ZU(s,e,t){const n={},i=f(e,["systemInstruction"]);t!==void 0&&i!=null&&m(t,["systemInstruction"],bc(s,mn(s,i)));const r=f(e,["tools"]);if(t!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(c=>i_(s,c))),m(t,["tools"],o)}const a=f(e,["generationConfig"]);return t!==void 0&&a!=null&&m(t,["generationConfig"],a),n}function JU(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],mt(s,n));const i=f(e,["contents"]);if(i!=null){let a=fi(s,i);Array.isArray(a)&&(a=a.map(o=>bc(s,o))),m(t,["contents"],a)}const r=f(e,["config"]);return r!=null&&m(t,["config"],ZU(s,r,t)),t}function QU(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],mt(s,n));const i=f(e,["contents"]);if(i!=null){let a=fi(s,i);Array.isArray(a)&&(a=a.map(o=>bc(s,o))),m(t,["contents"],a)}const r=f(e,["config"]);return r!=null&&m(t,["config"],r),t}function jU(s,e,t){const n={},i=f(e,["numberOfVideos"]);t!==void 0&&i!=null&&m(t,["parameters","sampleCount"],i);const r=f(e,["outputGcsUri"]);t!==void 0&&r!=null&&m(t,["parameters","storageUri"],r);const a=f(e,["fps"]);t!==void 0&&a!=null&&m(t,["parameters","fps"],a);const o=f(e,["durationSeconds"]);t!==void 0&&o!=null&&m(t,["parameters","durationSeconds"],o);const c=f(e,["seed"]);t!==void 0&&c!=null&&m(t,["parameters","seed"],c);const l=f(e,["aspectRatio"]);t!==void 0&&l!=null&&m(t,["parameters","aspectRatio"],l);const u=f(e,["resolution"]);t!==void 0&&u!=null&&m(t,["parameters","resolution"],u);const d=f(e,["personGeneration"]);t!==void 0&&d!=null&&m(t,["parameters","personGeneration"],d);const h=f(e,["pubsubTopic"]);t!==void 0&&h!=null&&m(t,["parameters","pubsubTopic"],h);const p=f(e,["negativePrompt"]);t!==void 0&&p!=null&&m(t,["parameters","negativePrompt"],p);const y=f(e,["enhancePrompt"]);return t!==void 0&&y!=null&&m(t,["parameters","enhancePrompt"],y),n}function eF(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],mt(s,n));const i=f(e,["prompt"]);i!=null&&m(t,["instances[0]","prompt"],i);const r=f(e,["image"]);r!=null&&m(t,["instances[0]","image"],sy(s,r));const a=f(e,["config"]);return a!=null&&m(t,["config"],jU(s,a,t)),t}function tF(s,e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const i=f(e,["endOffset"]);i!=null&&m(t,["endOffset"],i);const r=f(e,["startOffset"]);return r!=null&&m(t,["startOffset"],r),t}function nF(s,e){const t={},n=f(e,["data"]);n!=null&&m(t,["data"],n);const i=f(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function iF(s,e){const t={},n=f(e,["fileUri"]);n!=null&&m(t,["fileUri"],n);const i=f(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function rF(s,e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],tF(s,n));const i=f(e,["thought"]);i!=null&&m(t,["thought"],i);const r=f(e,["inlineData"]);r!=null&&m(t,["inlineData"],nF(s,r));const a=f(e,["fileData"]);a!=null&&m(t,["fileData"],iF(s,a));const o=f(e,["codeExecutionResult"]);o!=null&&m(t,["codeExecutionResult"],o);const c=f(e,["executableCode"]);c!=null&&m(t,["executableCode"],c);const l=f(e,["functionCall"]);l!=null&&m(t,["functionCall"],l);const u=f(e,["functionResponse"]);u!=null&&m(t,["functionResponse"],u);const d=f(e,["text"]);return d!=null&&m(t,["text"],d),t}function sF(s,e){const t={},n=f(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>rF(s,a))),m(t,["parts"],r)}const i=f(e,["role"]);return i!=null&&m(t,["role"],i),t}function aF(s,e){const t={},n=f(e,["citationSources"]);return n!=null&&m(t,["citations"],n),t}function oF(s,e){const t={},n=f(e,["retrievedUrl"]);n!=null&&m(t,["retrievedUrl"],n);const i=f(e,["urlRetrievalStatus"]);return i!=null&&m(t,["urlRetrievalStatus"],i),t}function cF(s,e){const t={},n=f(e,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>oF(s,r))),m(t,["urlMetadata"],i)}return t}function lF(s,e){const t={},n=f(e,["content"]);n!=null&&m(t,["content"],sF(s,n));const i=f(e,["citationMetadata"]);i!=null&&m(t,["citationMetadata"],aF(s,i));const r=f(e,["tokenCount"]);r!=null&&m(t,["tokenCount"],r);const a=f(e,["finishReason"]);a!=null&&m(t,["finishReason"],a);const o=f(e,["urlContextMetadata"]);o!=null&&m(t,["urlContextMetadata"],cF(s,o));const c=f(e,["avgLogprobs"]);c!=null&&m(t,["avgLogprobs"],c);const l=f(e,["groundingMetadata"]);l!=null&&m(t,["groundingMetadata"],l);const u=f(e,["index"]);u!=null&&m(t,["index"],u);const d=f(e,["logprobsResult"]);d!=null&&m(t,["logprobsResult"],d);const h=f(e,["safetyRatings"]);return h!=null&&m(t,["safetyRatings"],h),t}function Wb(s,e){const t={},n=f(e,["candidates"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(c=>lF(s,c))),m(t,["candidates"],o)}const i=f(e,["modelVersion"]);i!=null&&m(t,["modelVersion"],i);const r=f(e,["promptFeedback"]);r!=null&&m(t,["promptFeedback"],r);const a=f(e,["usageMetadata"]);return a!=null&&m(t,["usageMetadata"],a),t}function uF(s,e){const t={},n=f(e,["values"]);return n!=null&&m(t,["values"],n),t}function dF(){return{}}function hF(s,e){const t={},n=f(e,["embeddings"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>uF(s,a))),m(t,["embeddings"],r)}return f(e,["metadata"])!=null&&m(t,["metadata"],dF()),t}function fF(s,e){const t={},n=f(e,["bytesBase64Encoded"]);n!=null&&m(t,["imageBytes"],ms(s,n));const i=f(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function r_(s,e){const t={},n=f(e,["safetyAttributes","categories"]);n!=null&&m(t,["categories"],n);const i=f(e,["safetyAttributes","scores"]);i!=null&&m(t,["scores"],i);const r=f(e,["contentType"]);return r!=null&&m(t,["contentType"],r),t}function pF(s,e){const t={},n=f(e,["_self"]);n!=null&&m(t,["image"],fF(s,n));const i=f(e,["raiFilteredReason"]);i!=null&&m(t,["raiFilteredReason"],i);const r=f(e,["_self"]);return r!=null&&m(t,["safetyAttributes"],r_(s,r)),t}function gF(s,e){const t={},n=f(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>pF(s,a))),m(t,["generatedImages"],r)}const i=f(e,["positivePromptSafetyAttributes"]);return i!=null&&m(t,["positivePromptSafetyAttributes"],r_(s,i)),t}function mF(s,e){const t={},n=f(e,["baseModel"]);n!=null&&m(t,["baseModel"],n);const i=f(e,["createTime"]);i!=null&&m(t,["createTime"],i);const r=f(e,["updateTime"]);return r!=null&&m(t,["updateTime"],r),t}function Mg(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const i=f(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=f(e,["description"]);r!=null&&m(t,["description"],r);const a=f(e,["version"]);a!=null&&m(t,["version"],a);const o=f(e,["_self"]);o!=null&&m(t,["tunedModelInfo"],mF(s,o));const c=f(e,["inputTokenLimit"]);c!=null&&m(t,["inputTokenLimit"],c);const l=f(e,["outputTokenLimit"]);l!=null&&m(t,["outputTokenLimit"],l);const u=f(e,["supportedGenerationMethods"]);return u!=null&&m(t,["supportedActions"],u),t}function yF(s,e){const t={},n=f(e,["nextPageToken"]);n!=null&&m(t,["nextPageToken"],n);const i=f(e,["_self"]);if(i!=null){let r=K1(s,i);Array.isArray(r)&&(r=r.map(a=>Mg(s,a))),m(t,["models"],r)}return t}function vF(){return{}}function bF(s,e){const t={},n=f(e,["totalTokens"]);n!=null&&m(t,["totalTokens"],n);const i=f(e,["cachedContentTokenCount"]);return i!=null&&m(t,["cachedContentTokenCount"],i),t}function _F(s,e){const t={},n=f(e,["video","uri"]);n!=null&&m(t,["uri"],n);const i=f(e,["video","encodedVideo"]);i!=null&&m(t,["videoBytes"],ms(s,i));const r=f(e,["encoding"]);return r!=null&&m(t,["mimeType"],r),t}function xF(s,e){const t={},n=f(e,["_self"]);return n!=null&&m(t,["video"],_F(s,n)),t}function DF(s,e){const t={},n=f(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>xF(s,o))),m(t,["generatedVideos"],a)}const i=f(e,["raiMediaFilteredCount"]);i!=null&&m(t,["raiMediaFilteredCount"],i);const r=f(e,["raiMediaFilteredReasons"]);return r!=null&&m(t,["raiMediaFilteredReasons"],r),t}function TF(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const i=f(e,["metadata"]);i!=null&&m(t,["metadata"],i);const r=f(e,["done"]);r!=null&&m(t,["done"],r);const a=f(e,["error"]);a!=null&&m(t,["error"],a);const o=f(e,["response","generateVideoResponse"]);return o!=null&&m(t,["response"],DF(s,o)),t}function AF(s,e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const i=f(e,["endOffset"]);i!=null&&m(t,["endOffset"],i);const r=f(e,["startOffset"]);return r!=null&&m(t,["startOffset"],r),t}function CF(s,e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const i=f(e,["data"]);i!=null&&m(t,["data"],i);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function EF(s,e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const i=f(e,["fileUri"]);i!=null&&m(t,["fileUri"],i);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function wF(s,e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],AF(s,n));const i=f(e,["thought"]);i!=null&&m(t,["thought"],i);const r=f(e,["inlineData"]);r!=null&&m(t,["inlineData"],CF(s,r));const a=f(e,["fileData"]);a!=null&&m(t,["fileData"],EF(s,a));const o=f(e,["codeExecutionResult"]);o!=null&&m(t,["codeExecutionResult"],o);const c=f(e,["executableCode"]);c!=null&&m(t,["executableCode"],c);const l=f(e,["functionCall"]);l!=null&&m(t,["functionCall"],l);const u=f(e,["functionResponse"]);u!=null&&m(t,["functionResponse"],u);const d=f(e,["text"]);return d!=null&&m(t,["text"],d),t}function SF(s,e){const t={},n=f(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>wF(s,a))),m(t,["parts"],r)}const i=f(e,["role"]);return i!=null&&m(t,["role"],i),t}function UF(s,e){const t={},n=f(e,["citations"]);return n!=null&&m(t,["citations"],n),t}function FF(s,e){const t={},n=f(e,["content"]);n!=null&&m(t,["content"],SF(s,n));const i=f(e,["citationMetadata"]);i!=null&&m(t,["citationMetadata"],UF(s,i));const r=f(e,["finishMessage"]);r!=null&&m(t,["finishMessage"],r);const a=f(e,["finishReason"]);a!=null&&m(t,["finishReason"],a);const o=f(e,["avgLogprobs"]);o!=null&&m(t,["avgLogprobs"],o);const c=f(e,["groundingMetadata"]);c!=null&&m(t,["groundingMetadata"],c);const l=f(e,["index"]);l!=null&&m(t,["index"],l);const u=f(e,["logprobsResult"]);u!=null&&m(t,["logprobsResult"],u);const d=f(e,["safetyRatings"]);return d!=null&&m(t,["safetyRatings"],d),t}function qb(s,e){const t={},n=f(e,["candidates"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>FF(s,u))),m(t,["candidates"],l)}const i=f(e,["createTime"]);i!=null&&m(t,["createTime"],i);const r=f(e,["responseId"]);r!=null&&m(t,["responseId"],r);const a=f(e,["modelVersion"]);a!=null&&m(t,["modelVersion"],a);const o=f(e,["promptFeedback"]);o!=null&&m(t,["promptFeedback"],o);const c=f(e,["usageMetadata"]);return c!=null&&m(t,["usageMetadata"],c),t}function IF(s,e){const t={},n=f(e,["truncated"]);n!=null&&m(t,["truncated"],n);const i=f(e,["token_count"]);return i!=null&&m(t,["tokenCount"],i),t}function RF(s,e){const t={},n=f(e,["values"]);n!=null&&m(t,["values"],n);const i=f(e,["statistics"]);return i!=null&&m(t,["statistics"],IF(s,i)),t}function kF(s,e){const t={},n=f(e,["billableCharacterCount"]);return n!=null&&m(t,["billableCharacterCount"],n),t}function MF(s,e){const t={},n=f(e,["predictions[]","embeddings"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>RF(s,a))),m(t,["embeddings"],r)}const i=f(e,["metadata"]);return i!=null&&m(t,["metadata"],kF(s,i)),t}function NF(s,e){const t={},n=f(e,["gcsUri"]);n!=null&&m(t,["gcsUri"],n);const i=f(e,["bytesBase64Encoded"]);i!=null&&m(t,["imageBytes"],ms(s,i));const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function s_(s,e){const t={},n=f(e,["safetyAttributes","categories"]);n!=null&&m(t,["categories"],n);const i=f(e,["safetyAttributes","scores"]);i!=null&&m(t,["scores"],i);const r=f(e,["contentType"]);return r!=null&&m(t,["contentType"],r),t}function ay(s,e){const t={},n=f(e,["_self"]);n!=null&&m(t,["image"],NF(s,n));const i=f(e,["raiFilteredReason"]);i!=null&&m(t,["raiFilteredReason"],i);const r=f(e,["_self"]);r!=null&&m(t,["safetyAttributes"],s_(s,r));const a=f(e,["prompt"]);return a!=null&&m(t,["enhancedPrompt"],a),t}function PF(s,e){const t={},n=f(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>ay(s,a))),m(t,["generatedImages"],r)}const i=f(e,["positivePromptSafetyAttributes"]);return i!=null&&m(t,["positivePromptSafetyAttributes"],s_(s,i)),t}function LF(s,e){const t={},n=f(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>ay(s,r))),m(t,["generatedImages"],i)}return t}function BF(s,e){const t={},n=f(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>ay(s,r))),m(t,["generatedImages"],i)}return t}function OF(s,e){const t={},n=f(e,["endpoint"]);n!=null&&m(t,["name"],n);const i=f(e,["deployedModelId"]);return i!=null&&m(t,["deployedModelId"],i),t}function WF(s,e){const t={},n=f(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(t,["baseModel"],n);const i=f(e,["createTime"]);i!=null&&m(t,["createTime"],i);const r=f(e,["updateTime"]);return r!=null&&m(t,["updateTime"],r),t}function qF(s,e){const t={},n=f(e,["checkpointId"]);n!=null&&m(t,["checkpointId"],n);const i=f(e,["epoch"]);i!=null&&m(t,["epoch"],i);const r=f(e,["step"]);return r!=null&&m(t,["step"],r),t}function Ng(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const i=f(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=f(e,["description"]);r!=null&&m(t,["description"],r);const a=f(e,["versionId"]);a!=null&&m(t,["version"],a);const o=f(e,["deployedModels"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>OF(s,p))),m(t,["endpoints"],h)}const c=f(e,["labels"]);c!=null&&m(t,["labels"],c);const l=f(e,["_self"]);l!=null&&m(t,["tunedModelInfo"],WF(s,l));const u=f(e,["defaultCheckpointId"]);u!=null&&m(t,["defaultCheckpointId"],u);const d=f(e,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(p=>qF(s,p))),m(t,["checkpoints"],h)}return t}function VF(s,e){const t={},n=f(e,["nextPageToken"]);n!=null&&m(t,["nextPageToken"],n);const i=f(e,["_self"]);if(i!=null){let r=K1(s,i);Array.isArray(r)&&(r=r.map(a=>Ng(s,a))),m(t,["models"],r)}return t}function zF(){return{}}function HF(s,e){const t={},n=f(e,["totalTokens"]);return n!=null&&m(t,["totalTokens"],n),t}function GF(s,e){const t={},n=f(e,["tokensInfo"]);return n!=null&&m(t,["tokensInfo"],n),t}function $F(s,e){const t={},n=f(e,["gcsUri"]);n!=null&&m(t,["uri"],n);const i=f(e,["bytesBase64Encoded"]);i!=null&&m(t,["videoBytes"],ms(s,i));const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function XF(s,e){const t={},n=f(e,["_self"]);return n!=null&&m(t,["video"],$F(s,n)),t}function YF(s,e){const t={},n=f(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>XF(s,o))),m(t,["generatedVideos"],a)}const i=f(e,["raiMediaFilteredCount"]);i!=null&&m(t,["raiMediaFilteredCount"],i);const r=f(e,["raiMediaFilteredReasons"]);return r!=null&&m(t,["raiMediaFilteredReasons"],r),t}function KF(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const i=f(e,["metadata"]);i!=null&&m(t,["metadata"],i);const r=f(e,["done"]);r!=null&&m(t,["done"],r);const a=f(e,["error"]);a!=null&&m(t,["error"],a);const o=f(e,["response"]);return o!=null&&m(t,["response"],YF(s,o)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZF="Content-Type",JF="X-Server-Timeout",QF="User-Agent",Pg="x-goog-api-client",jF="1.1.0",eI=`google-genai-sdk/${jF}`,tI="v1beta1",nI="v1beta",Vb=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class a_ extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class Lg extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class iI{constructor(e){var t,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:tI,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:nI,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&n.push(e.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,n){const i=[this.getRequestUrlInternal(t)];return n&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,n);if(e.queryParams)for(const[a,o]of Object.entries(e.queryParams))i.searchParams.append(a,String(o));let r={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=e.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,t,e.abortSignal),this.unaryApiCall(i,r,e.httpMethod)}patchHttpOptions(e,t){const n=JSON.parse(JSON.stringify(e));for(const[i,r]of Object.entries(t))typeof r=="object"?n[i]=Object.assign(Object.assign({},n[i]),r):r!==void 0&&(n[i]=r);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,n);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let r={};return r.body=e.body,r=await this.includeExtraHttpOptionsToRequestInit(r,t,e.abortSignal),this.streamApiCall(i,r,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n){if(t&&t.timeout||n){const i=new AbortController,r=i.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>i.abort(),t.timeout),n&&n.addEventListener("abort",()=>{i.abort()}),e.signal=r}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async i=>(await zb(i),new Fg(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async i=>(await zb(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var t;return al(this,arguments,function*(){const i=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),r=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:o,value:c}=yield bt(i.read());if(o){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const l=r.decode(c);try{const d=JSON.parse(l);if("error"in d){const h=JSON.parse(JSON.stringify(d.error)),p=h.status,y=h.code,v=`got status: ${p}. ${JSON.stringify(d)}`;if(y>=400&&y<500)throw new a_(v);if(y>=500&&y<600)throw new Lg(v)}}catch(d){const h=d;if(h.name==="ClientError"||h.name==="ServerError")throw d}a+=l;let u=a.match(Vb);for(;u;){const d=u[1];try{const h=new Response(d,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield bt(new Fg(h)),a=a.slice(u[0].length),u=a.match(Vb)}catch(h){throw new Error(`exception parsing stream chunk ${d}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(n=>{throw new Error(`exception ${n} sending request`)})}getDefaultHeaders(){const e={},t=eI+" "+this.clientOptions.userAgentExtra;return e[QF]=t,e[Pg]=t,e[ZF]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[n,i]of Object.entries(e.headers))t.append(n,i);e.timeout&&e.timeout>0&&t.append(JF,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var n;const i={};t!=null&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const r=this.clientOptions.uploader,a=await r.stat(e);i.sizeBytes=String(a.size);const o=(n=t==null?void 0:t.mimeType)!==null&&n!==void 0?n:a.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const c=await this.fetchUploadUrl(i,t);return r.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var n;let i={};t!=null&&t.httpOptions?i=t.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const r={file:e},a=await this.request({path:Ne("upload/v1beta/files",r._url),body:JSON.stringify(r),httpMethod:"POST",httpOptions:i});if(!a||!(a!=null&&a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const o=(n=a==null?void 0:a.headers)===null||n===void 0?void 0:n["x-goog-upload-url"];if(o===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return o}}async function zb(s){var e;if(s===void 0)throw new Lg("response is undefined");if(!s.ok){const t=s.status,n=s.statusText;let i;!((e=s.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await s.json():i={error:{message:await s.text(),code:s.status,status:s.statusText}};const r=`got status: ${t} ${n}. ${JSON.stringify(i)}`;throw t>=400&&t<500?new a_(r):t>=500&&t<600?new Lg(r):new Error(r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hb="mcp_used/unknown";function o_(s){for(const e of s)if(oy(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function c_(s){var e;const t=(e=s[Pg])!==null&&e!==void 0?e:"";t.includes(Hb)||(s[Pg]=(t+` ${Hb}`).trimStart())}function rI(s){var e,t,n;return(n=(t=(e=s.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>oy(i)))!==null&&n!==void 0?n:!1}function sI(s){var e,t,n;return(n=(t=(e=s.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>!oy(i)))!==null&&n!==void 0?n:!1}function oy(s){return s!==null&&typeof s=="object"&&"tool"in s&&"callTool"in s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function aI(s,e,t){const n=new aC;let i;t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data);const r=xS(s,i);Object.assign(n,r),e(n)}class oI{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){var t,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),a=uI(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${r}.GenerativeService.BidiGenerateMusic?key=${o}`;let l=()=>{};const u=new Promise(D=>{l=D}),d=e.callbacks,h=function(){l({})},p=this.apiClient,y={onopen:h,onmessage:D=>{aI(p,d.onmessage,D)},onerror:(t=d==null?void 0:d.onerror)!==null&&t!==void 0?t:function(D){},onclose:(n=d==null?void 0:d.onclose)!==null&&n!==void 0?n:function(D){}},v=this.webSocketFactory.create(c,lI(a),y);v.connect(),await u;const b=mt(this.apiClient,e.model),_=e_(this.apiClient,{model:b}),x=kg(this.apiClient,{setup:_});return v.send(JSON.stringify(x)),new cI(v,this.apiClient)}}class cI{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=Nw(this.apiClient,e),n=t_(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=Pw(this.apiClient,e),n=kg(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const t=kg(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(co.PLAY)}pause(){this.sendPlaybackControl(co.PAUSE)}stop(){this.sendPlaybackControl(co.STOP)}resetContext(){this.sendPlaybackControl(co.RESET_CONTEXT)}close(){this.conn.close()}}function lI(s){const e={};return s.forEach((t,n)=>{e[n]=t}),e}function uI(s){const e=new Headers;for(const[t,n]of Object.entries(s))e.append(t,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dI="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function hI(s,e,t){const n=new sC;let i;if(t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data),s.isVertexAI()){const r=hS(s,i);Object.assign(n,r)}else{const r=dS(s,i);Object.assign(n,r)}e(n)}class fI{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new oI(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,n,i,r,a,o;const c=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion();let u;const d=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&o_(e.config.tools)&&c_(d);const h=yI(d);if(this.apiClient.isVertexAI())u=`${c}/ws/google.cloud.aiplatform.${l}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const U=this.apiClient.getApiKey();u=`${c}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateContent?key=${U}`}let p=()=>{};const y=new Promise(U=>{p=U}),v=e.callbacks,b=function(){var U;(U=v==null?void 0:v.onopen)===null||U===void 0||U.call(v),p({})},_=this.apiClient,x={onopen:b,onmessage:U=>{hI(_,v.onmessage,U)},onerror:(t=v==null?void 0:v.onerror)!==null&&t!==void 0?t:function(U){},onclose:(n=v==null?void 0:v.onclose)!==null&&n!==void 0?n:function(U){}},D=this.webSocketFactory.create(u,mI(h),x);D.connect(),await y;let A=mt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&A.startsWith("publishers/")){const U=this.apiClient.getProject(),L=this.apiClient.getLocation();A=`projects/${U}/locations/${L}/`+A}let T={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Nh.AUDIO]}:e.config.responseModalities=[Nh.AUDIO]),!((r=e.config)===null||r===void 0)&&r.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E=(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[],F=[];for(const U of E)if(this.isCallableTool(U)){const L=U;F.push(await L.tool())}else F.push(U);F.length>0&&(e.config.tools=F);const I={model:A,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?T=Sw(this.apiClient,I):T=ww(this.apiClient,I),delete T.config,D.send(JSON.stringify(T)),new gI(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const pI={turnComplete:!0};class gI{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let n=[];try{n=fi(e,t.turns),e.isVertexAI()?n=n.map(i=>bc(e,i)):n=n.map(i=>bf(e,i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:n,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?n=t.functionResponses:n=[t.functionResponses],n.length===0)throw new Error("functionResponses is required.");for(const r of n){if(typeof r!="object"||r===null||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error(dI)}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},pI),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:Mw(this.apiClient,e)}:t={realtimeInput:kw(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function mI(s){const e={};return s.forEach((t,n)=>{e[n]=t}),e}function yI(s){const e=new Headers;for(const[t,n]of Object.entries(s))e.append(t,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gb=10;function $b(s){var e,t,n;if(!((e=s==null?void 0:s.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(t=s==null?void 0:s.tools)!==null&&t!==void 0?t:[])if(Md(a)){i=!0;break}if(!i)return!0;const r=(n=s==null?void 0:s.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls;return r&&(r<0||!Number.isInteger(r))||r==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",r),!0):!1}function Md(s){return"callTool"in s&&typeof s.callTool=="function"}function Xb(s){var e;return!(!((e=s==null?void 0:s.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vI extends Zu{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var n,i,r,a,o;const c=await this.processParamsForMcpUsage(t);if(!rI(t)||$b(t.config))return await this.generateContentInternal(c);if(sI(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let l,u;const d=fi(this.apiClient,c.contents),h=(r=(i=(n=c.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:Gb;let p=0;for(;p<h&&(l=await this.generateContentInternal(c),!(!l.functionCalls||l.functionCalls.length===0));){const y=l.candidates[0].content,v=[];for(const b of(o=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(Md(b)){const x=await b.callTool(l.functionCalls);v.push(...x)}p++,u={role:"user",parts:v},c.contents=fi(this.apiClient,c.contents),c.contents.push(y),c.contents.push(u),Xb(c.config)&&(d.push(y),d.push(u))}return Xb(c.config)&&(l.automaticFunctionCallingHistory=d),l},this.generateContentStream=async t=>{if($b(t.config)){const n=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(n)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(n=>{var i;let r;const a=[];if(n!=null&&n.generatedImages)for(const c of n.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?r=c==null?void 0:c.safetyAttributes:a.push(c);let o;return r?o={generatedImages:a,positivePromptSafetyAttributes:r}:o={generatedImages:a},o}),this.list=async t=>{var n;const a={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((n=a.config)===null||n===void 0)&&n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new vf(gc.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(a),a)},this.editImage=async t=>{const n={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(n.referenceImages=t.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async t=>{let n={numberOfImages:1,mode:"upscale"};t.config&&(n=Object.assign(Object.assign({},n),t.config));const i={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:n};return await this.upscaleImageInternal(i)}}async processParamsForMcpUsage(e){var t,n,i;const r=(t=e.config)===null||t===void 0?void 0:t.tools;if(!r)return e;const a=await Promise.all(r.map(async c=>Md(c)?await c.tool():c)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(o.config.tools=a,e.config&&e.config.tools&&o_(e.config.tools)){const c=(i=(n=e.config.httpOptions)===null||n===void 0?void 0:n.headers)!==null&&i!==void 0?i:{};let l=Object.assign({},c);Object.keys(l).length===0&&(l=this.apiClient.getDefaultHeaders()),c_(l),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:l})}return o}async initAfcToolsMap(e){var t,n,i;const r=new Map;for(const a of(n=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&n!==void 0?n:[])if(Md(a)){const o=a,c=await o.tool();for(const l of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!l.name)throw new Error("Function declaration name is required.");if(r.has(l.name))throw new Error(`Duplicate tool declaration name: ${l.name}`);r.set(l.name,o)}}return r}async processAfcStream(e){var t,n,i;const r=(i=(n=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls)!==null&&i!==void 0?i:Gb;let a=!1,o=0;const c=await this.initAfcToolsMap(e);return function(l,u,d){var h,p;return al(this,arguments,function*(){for(var y,v,b,_;o<r;){a&&(o++,a=!1);const T=yield bt(l.processParamsForMcpUsage(d)),E=yield bt(l.generateContentStreamInternal(T)),F=[],I=[];try{for(var x=!0,D=(v=void 0,kd(E)),A;A=yield bt(D.next()),y=A.done,!y;x=!0){_=A.value,x=!1;const U=_;if(yield yield bt(U),U.candidates&&(!((h=U.candidates[0])===null||h===void 0)&&h.content)){I.push(U.candidates[0].content);for(const L of(p=U.candidates[0].content.parts)!==null&&p!==void 0?p:[])if(o<r&&L.functionCall){if(!L.functionCall.name)throw new Error("Function call name was not returned by the model.");if(u.has(L.functionCall.name)){const G=yield bt(u.get(L.functionCall.name).callTool([L.functionCall]));F.push(...G)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${u.keys()}, mising tool: ${L.functionCall.name}`)}}}}catch(U){v={error:U}}finally{try{!x&&!y&&(b=D.return)&&(yield bt(b.call(D)))}finally{if(v)throw v.error}}if(F.length>0){a=!0;const U=new Ac;U.candidates=[{content:{role:"user",parts:F}}],yield yield bt(U);const L=[];L.push(...I),L.push({role:"user",parts:F});const G=fi(l.apiClient,d.contents).concat(L);d.contents=G}else break}})}(this,c,e)}async generateContentInternal(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=Ob(this.apiClient,e);return o=Ne("{model}:generateContent",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>{const d=qb(this.apiClient,u),h=new Ac;return Object.assign(h,d),h})}else{const l=Bb(this.apiClient,e);return o=Ne("{model}:generateContent",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>{const d=Wb(this.apiClient,u),h=new Ac;return Object.assign(h,d),h})}}async generateContentStreamInternal(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=Ob(this.apiClient,e);o=Ne("{model}:streamGenerateContent?alt=sse",l._url),c=l._query,delete l.config,delete l._url,delete l._query;const u=this.apiClient;return a=u.requestStream({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}),a.then(function(d){return al(this,arguments,function*(){var h,p,y,v;try{for(var b=!0,_=kd(d),x;x=yield bt(_.next()),h=x.done,!h;b=!0){v=x.value,b=!1;const A=qb(u,yield bt(v.json())),T=new Ac;Object.assign(T,A),yield yield bt(T)}}catch(D){p={error:D}}finally{try{!b&&!h&&(y=_.return)&&(yield bt(y.call(_)))}finally{if(p)throw p.error}}})})}else{const l=Bb(this.apiClient,e);o=Ne("{model}:streamGenerateContent?alt=sse",l._url),c=l._query,delete l.config,delete l._url,delete l._query;const u=this.apiClient;return a=u.requestStream({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(d){return al(this,arguments,function*(){var h,p,y,v;try{for(var b=!0,_=kd(d),x;x=yield bt(_.next()),h=x.done,!h;b=!0){v=x.value,b=!1;const A=Wb(u,yield bt(v.json())),T=new Ac;Object.assign(T,A),yield yield bt(T)}}catch(D){p={error:D}}finally{try{!b&&!h&&(y=_.return)&&(yield bt(y.call(_)))}finally{if(p)throw p.error}}})})}}async embedContent(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=RU(this.apiClient,e);return o=Ne("{model}:predict",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>{const d=MF(this.apiClient,u),h=new vb;return Object.assign(h,d),h})}else{const l=$S(this.apiClient,e);return o=Ne("{model}:batchEmbedContents",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>{const d=hF(this.apiClient,u),h=new vb;return Object.assign(h,d),h})}}async generateImagesInternal(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=MU(this.apiClient,e);return o=Ne("{model}:predict",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>{const d=PF(this.apiClient,u),h=new bb;return Object.assign(h,d),h})}else{const l=YS(this.apiClient,e);return o=Ne("{model}:predict",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>{const d=gF(this.apiClient,u),h=new bb;return Object.assign(h,d),h})}}async editImageInternal(e){var t,n;let i,r="",a={};if(this.apiClient.isVertexAI()){const o=qU(this.apiClient,e);return r=Ne("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const l=LF(this.apiClient,c),u=new jA;return Object.assign(u,l),u})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,n;let i,r="",a={};if(this.apiClient.isVertexAI()){const o=zU(this.apiClient,e);return r=Ne("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const l=BF(this.apiClient,c),u=new eC;return Object.assign(u,l),u})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=HU(this.apiClient,e);return o=Ne("{name}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>Ng(this.apiClient,u))}else{const l=KS(this.apiClient,e);return o=Ne("{name}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>Mg(this.apiClient,u))}}async listInternal(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=$U(this.apiClient,e);return o=Ne("{models_url}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>{const d=VF(this.apiClient,u),h=new _b;return Object.assign(h,d),h})}else{const l=JS(this.apiClient,e);return o=Ne("{models_url}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>{const d=yF(this.apiClient,u),h=new _b;return Object.assign(h,d),h})}}async update(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=YU(this.apiClient,e);return o=Ne("{model}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>Ng(this.apiClient,u))}else{const l=jS(this.apiClient,e);return o=Ne("{name}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>Mg(this.apiClient,u))}}async delete(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=KU(this.apiClient,e);return o=Ne("{name}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(()=>{const u=zF(),d=new xb;return Object.assign(d,u),d})}else{const l=eU(this.apiClient,e);return o=Ne("{name}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(()=>{const u=vF(),d=new xb;return Object.assign(d,u),d})}}async countTokens(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=JU(this.apiClient,e);return o=Ne("{model}:countTokens",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>{const d=HF(this.apiClient,u),h=new Db;return Object.assign(h,d),h})}else{const l=nU(this.apiClient,e);return o=Ne("{model}:countTokens",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>{const d=bF(this.apiClient,u),h=new Db;return Object.assign(h,d),h})}}async computeTokens(e){var t,n;let i,r="",a={};if(this.apiClient.isVertexAI()){const o=QU(this.apiClient,e);return r=Ne("{model}:computeTokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const l=GF(this.apiClient,c),u=new tC;return Object.assign(u,l),u})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=eF(this.apiClient,e);return o=Ne("{model}:predictLongRunning",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>KF(this.apiClient,u))}else{const l=sU(this.apiClient,e);return o=Ne("{model}:predictLongRunning",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>TF(this.apiClient,u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bI(s,e){const t={},n=f(e,["operationName"]);n!=null&&m(t,["_url","operationName"],n);const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function _I(s,e){const t={},n=f(e,["operationName"]);n!=null&&m(t,["_url","operationName"],n);const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function xI(s,e){const t={},n=f(e,["operationName"]);n!=null&&m(t,["operationName"],n);const i=f(e,["resourceName"]);i!=null&&m(t,["_url","resourceName"],i);const r=f(e,["config"]);return r!=null&&m(t,["config"],r),t}function DI(s,e){const t={},n=f(e,["video","uri"]);n!=null&&m(t,["uri"],n);const i=f(e,["video","encodedVideo"]);i!=null&&m(t,["videoBytes"],ms(s,i));const r=f(e,["encoding"]);return r!=null&&m(t,["mimeType"],r),t}function TI(s,e){const t={},n=f(e,["_self"]);return n!=null&&m(t,["video"],DI(s,n)),t}function AI(s,e){const t={},n=f(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>TI(s,o))),m(t,["generatedVideos"],a)}const i=f(e,["raiMediaFilteredCount"]);i!=null&&m(t,["raiMediaFilteredCount"],i);const r=f(e,["raiMediaFilteredReasons"]);return r!=null&&m(t,["raiMediaFilteredReasons"],r),t}function CI(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const i=f(e,["metadata"]);i!=null&&m(t,["metadata"],i);const r=f(e,["done"]);r!=null&&m(t,["done"],r);const a=f(e,["error"]);a!=null&&m(t,["error"],a);const o=f(e,["response","generateVideoResponse"]);return o!=null&&m(t,["response"],AI(s,o)),t}function EI(s,e){const t={},n=f(e,["gcsUri"]);n!=null&&m(t,["uri"],n);const i=f(e,["bytesBase64Encoded"]);i!=null&&m(t,["videoBytes"],ms(s,i));const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function wI(s,e){const t={},n=f(e,["_self"]);return n!=null&&m(t,["video"],EI(s,n)),t}function SI(s,e){const t={},n=f(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>wI(s,o))),m(t,["generatedVideos"],a)}const i=f(e,["raiMediaFilteredCount"]);i!=null&&m(t,["raiMediaFilteredCount"],i);const r=f(e,["raiMediaFilteredReasons"]);return r!=null&&m(t,["raiMediaFilteredReasons"],r),t}function Yb(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const i=f(e,["metadata"]);i!=null&&m(t,["metadata"],i);const r=f(e,["done"]);r!=null&&m(t,["done"],r);const a=f(e,["error"]);a!=null&&m(t,["error"],a);const o=f(e,["response"]);return o!=null&&m(t,["response"],SI(s,o)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UI extends Zu{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,n=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let r;return n&&"httpOptions"in n&&(r=n.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:r}})}else return this.getVideosOperationInternal({operationName:t.name,config:n})}async getVideosOperationInternal(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=_I(this.apiClient,e);return o=Ne("{operationName}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>Yb(this.apiClient,u))}else{const l=bI(this.apiClient,e);return o=Ne("{operationName}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>CI(this.apiClient,u))}}async fetchPredictVideosOperationInternal(e){var t,n;let i,r="",a={};if(this.apiClient.isVertexAI()){const o=xI(this.apiClient,e);return r=Ne("{resourceName}:fetchPredictOperation",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>Yb(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FI(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["_url","name"],n);const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function II(s,e,t){const n={},i=f(e,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const r=f(e,["pageToken"]);t!==void 0&&r!=null&&m(t,["_query","pageToken"],r);const a=f(e,["filter"]);return t!==void 0&&a!=null&&m(t,["_query","filter"],a),n}function RI(s,e){const t={},n=f(e,["config"]);return n!=null&&m(t,["config"],II(s,n,t)),t}function kI(s,e){const t={},n=f(e,["textInput"]);n!=null&&m(t,["textInput"],n);const i=f(e,["output"]);return i!=null&&m(t,["output"],i),t}function MI(s,e){const t={};if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(e,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>kI(s,r))),m(t,["examples","examples"],i)}return t}function NI(s,e,t){const n={};if(f(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=f(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&m(t,["displayName"],i),f(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=f(e,["epochCount"]);t!==void 0&&r!=null&&m(t,["tuningTask","hyperparameters","epochCount"],r);const a=f(e,["learningRateMultiplier"]);if(a!=null&&m(n,["tuningTask","hyperparameters","learningRateMultiplier"],a),f(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=f(e,["batchSize"]);t!==void 0&&o!=null&&m(t,["tuningTask","hyperparameters","batchSize"],o);const c=f(e,["learningRate"]);return t!==void 0&&c!=null&&m(t,["tuningTask","hyperparameters","learningRate"],c),n}function PI(s,e){const t={},n=f(e,["baseModel"]);n!=null&&m(t,["baseModel"],n);const i=f(e,["trainingDataset"]);i!=null&&m(t,["tuningTask","trainingData"],MI(s,i));const r=f(e,["config"]);return r!=null&&m(t,["config"],NI(s,r,t)),t}function LI(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["_url","name"],n);const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function BI(s,e,t){const n={},i=f(e,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const r=f(e,["pageToken"]);t!==void 0&&r!=null&&m(t,["_query","pageToken"],r);const a=f(e,["filter"]);return t!==void 0&&a!=null&&m(t,["_query","filter"],a),n}function OI(s,e){const t={},n=f(e,["config"]);return n!=null&&m(t,["config"],BI(s,n,t)),t}function WI(s,e,t){const n={},i=f(e,["gcsUri"]);if(t!==void 0&&i!=null&&m(t,["supervisedTuningSpec","trainingDatasetUri"],i),f(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function qI(s,e){const t={},n=f(e,["gcsUri"]);return n!=null&&m(t,["validationDatasetUri"],n),t}function VI(s,e,t){const n={},i=f(e,["validationDataset"]);t!==void 0&&i!=null&&m(t,["supervisedTuningSpec"],qI(s,i));const r=f(e,["tunedModelDisplayName"]);t!==void 0&&r!=null&&m(t,["tunedModelDisplayName"],r);const a=f(e,["description"]);t!==void 0&&a!=null&&m(t,["description"],a);const o=f(e,["epochCount"]);t!==void 0&&o!=null&&m(t,["supervisedTuningSpec","hyperParameters","epochCount"],o);const c=f(e,["learningRateMultiplier"]);t!==void 0&&c!=null&&m(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],c);const l=f(e,["exportLastCheckpointOnly"]);t!==void 0&&l!=null&&m(t,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const u=f(e,["adapterSize"]);if(t!==void 0&&u!=null&&m(t,["supervisedTuningSpec","hyperParameters","adapterSize"],u),f(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function zI(s,e){const t={},n=f(e,["baseModel"]);n!=null&&m(t,["baseModel"],n);const i=f(e,["trainingDataset"]);i!=null&&m(t,["supervisedTuningSpec","trainingDatasetUri"],WI(s,i,t));const r=f(e,["config"]);return r!=null&&m(t,["config"],VI(s,r,t)),t}function HI(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["model"],n);const i=f(e,["name"]);return i!=null&&m(t,["endpoint"],i),t}function l_(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const i=f(e,["state"]);i!=null&&m(t,["state"],$1(s,i));const r=f(e,["createTime"]);r!=null&&m(t,["createTime"],r);const a=f(e,["tuningTask","startTime"]);a!=null&&m(t,["startTime"],a);const o=f(e,["tuningTask","completeTime"]);o!=null&&m(t,["endTime"],o);const c=f(e,["updateTime"]);c!=null&&m(t,["updateTime"],c);const l=f(e,["description"]);l!=null&&m(t,["description"],l);const u=f(e,["baseModel"]);u!=null&&m(t,["baseModel"],u);const d=f(e,["_self"]);d!=null&&m(t,["tunedModel"],HI(s,d));const h=f(e,["distillationSpec"]);h!=null&&m(t,["distillationSpec"],h);const p=f(e,["experiment"]);p!=null&&m(t,["experiment"],p);const y=f(e,["labels"]);y!=null&&m(t,["labels"],y);const v=f(e,["pipelineJob"]);v!=null&&m(t,["pipelineJob"],v);const b=f(e,["serviceAccount"]);b!=null&&m(t,["serviceAccount"],b);const _=f(e,["tunedModelDisplayName"]);return _!=null&&m(t,["tunedModelDisplayName"],_),t}function GI(s,e){const t={},n=f(e,["nextPageToken"]);n!=null&&m(t,["nextPageToken"],n);const i=f(e,["tunedModels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>l_(s,a))),m(t,["tuningJobs"],r)}return t}function $I(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const i=f(e,["metadata"]);i!=null&&m(t,["metadata"],i);const r=f(e,["done"]);r!=null&&m(t,["done"],r);const a=f(e,["error"]);return a!=null&&m(t,["error"],a),t}function XI(s,e){const t={},n=f(e,["checkpointId"]);n!=null&&m(t,["checkpointId"],n);const i=f(e,["epoch"]);i!=null&&m(t,["epoch"],i);const r=f(e,["step"]);r!=null&&m(t,["step"],r);const a=f(e,["endpoint"]);return a!=null&&m(t,["endpoint"],a),t}function YI(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["model"],n);const i=f(e,["endpoint"]);i!=null&&m(t,["endpoint"],i);const r=f(e,["checkpoints"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>XI(s,o))),m(t,["checkpoints"],a)}return t}function Bg(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const i=f(e,["state"]);i!=null&&m(t,["state"],$1(s,i));const r=f(e,["createTime"]);r!=null&&m(t,["createTime"],r);const a=f(e,["startTime"]);a!=null&&m(t,["startTime"],a);const o=f(e,["endTime"]);o!=null&&m(t,["endTime"],o);const c=f(e,["updateTime"]);c!=null&&m(t,["updateTime"],c);const l=f(e,["error"]);l!=null&&m(t,["error"],l);const u=f(e,["description"]);u!=null&&m(t,["description"],u);const d=f(e,["baseModel"]);d!=null&&m(t,["baseModel"],d);const h=f(e,["tunedModel"]);h!=null&&m(t,["tunedModel"],YI(s,h));const p=f(e,["supervisedTuningSpec"]);p!=null&&m(t,["supervisedTuningSpec"],p);const y=f(e,["tuningDataStats"]);y!=null&&m(t,["tuningDataStats"],y);const v=f(e,["encryptionSpec"]);v!=null&&m(t,["encryptionSpec"],v);const b=f(e,["partnerModelTuningSpec"]);b!=null&&m(t,["partnerModelTuningSpec"],b);const _=f(e,["distillationSpec"]);_!=null&&m(t,["distillationSpec"],_);const x=f(e,["experiment"]);x!=null&&m(t,["experiment"],x);const D=f(e,["labels"]);D!=null&&m(t,["labels"],D);const A=f(e,["pipelineJob"]);A!=null&&m(t,["pipelineJob"],A);const T=f(e,["serviceAccount"]);T!=null&&m(t,["serviceAccount"],T);const E=f(e,["tunedModelDisplayName"]);return E!=null&&m(t,["tunedModelDisplayName"],E),t}function KI(s,e){const t={},n=f(e,["nextPageToken"]);n!=null&&m(t,["nextPageToken"],n);const i=f(e,["tuningJobs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>Bg(s,a))),m(t,["tuningJobs"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZI extends Zu{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new vf(gc.PAGED_ITEM_TUNING_JOBS,n=>this.listInternal(n),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const n=await this.tuneMldevInternal(t);let i="";return n.metadata!==void 0&&n.metadata.tunedModel!==void 0?i=n.metadata.tunedModel:n.name!==void 0&&n.name.includes("/operations/")&&(i=n.name.split("/operations/")[0]),{name:i,state:Ug.JOB_STATE_QUEUED}}}}async getInternal(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=LI(this.apiClient,e);return o=Ne("{name}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>Bg(this.apiClient,u))}else{const l=FI(this.apiClient,e);return o=Ne("{name}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>l_(this.apiClient,u))}}async listInternal(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=OI(this.apiClient,e);return o=Ne("tuningJobs",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>{const d=KI(this.apiClient,u),h=new Tb;return Object.assign(h,d),h})}else{const l=RI(this.apiClient,e);return o=Ne("tunedModels",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>{const d=GI(this.apiClient,u),h=new Tb;return Object.assign(h,d),h})}}async tuneInternal(e){var t,n;let i,r="",a={};if(this.apiClient.isVertexAI()){const o=zI(this.apiClient,e);return r=Ne("tuningJobs",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>Bg(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,n;let i,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=PI(this.apiClient,e);return r=Ne("tunedModels",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>$I(this.apiClient,c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JI{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const QI=1024*1024*8,jI=3,eR=1e3,tR=2,sp="x-goog-upload-status";async function nR(s,e,t){var n,i,r;let a=0,o=0,c=new Fg(new Response),l="upload";for(a=s.size;o<a;){const d=Math.min(QI,a-o),h=s.slice(o,o+d);o+d>=a&&(l+=", finalize");let p=0,y=eR;for(;p<jI&&(c=await t.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(o),"Content-Length":String(d)}}}),!(!((n=c==null?void 0:c.headers)===null||n===void 0)&&n[sp]));)p++,await rR(y),y=y*tR;if(o+=d,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[sp])!=="active")break;if(a<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const u=await(c==null?void 0:c.json());if(((r=c==null?void 0:c.headers)===null||r===void 0?void 0:r[sp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function iR(s){return{size:s.size,type:s.type}}function rR(s){return new Promise(e=>setTimeout(e,s))}class sR{async upload(e,t,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nR(e,t,n)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await iR(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aR{create(e,t,n){return new oR(e,t,n)}}class oR{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kb="x-goog-api-key";class cR{constructor(e){this.apiKey=e}async addAuthHeaders(e){e.get(Kb)===null&&e.append(Kb,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lR="gl-node/";class uR{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const n=QA(e,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion;const i=new cR(this.apiKey);this.apiClient=new iI({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:lR+"web",uploader:new sR,downloader:new JI}),this.models=new vI(this.apiClient),this.live=new fI(this.apiClient,i,new aR),this.chats=new bE(this.models,this.apiClient),this.caches=new mE(this.apiClient),this.files=new RE(this.apiClient),this.operations=new UI(this.apiClient),this.tunings=new ZI(this.apiClient)}}let ap=null;const u_=()=>{if(!ap){const s="AIzaSyDDcYcb1JB-NKFRDC28KK0yVH_Z3GX9lU0";Ze.info("Gemini AI SDK Initializing with API Key from process.env.API_KEY.","GeminiServiceInit"),ap=new uR({apiKey:s})}return ap},dR=s=>{let e=s.trim();const n=/^```(?:json)?\s*\n?(.*?)\n?\s*```$/s.exec(e);n&&n[1]&&(e=n[1].trim()),e=e.replace(//g,""),e=e.replace(//g,""),e=e.replace(//g,""),e=e.replace(/"\s*```\s*([\]\},])/g,'"$1'),e=e.replace(/"\s*```\s*(,"[^"]+")/g,'"$1');try{const i='("[^"\\\\]*(?:\\\\.[^"\\\\]*)*")\\s*\\n\\s*([a-zA-Z_][a-zA-Z0-9_]*(?:\\s+[a-zA-Z_][a-zA-Z0-9_]*)*\\s*)"',r=new RegExp(i,"g");e=e.replace(r,(a,o,c)=>`${o.slice(0,-1)} ${c.trim()}"`)}catch(i){Ze.warn("Error during string newline fixing regex replacement.","GeminiServiceParse",void 0,i)}e=e.replace(/,\s*([\}\]])/g,"$1");try{e=e.replace(/\\(?![bfnrtv"\\/]|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{2})/g,"\\\\")}catch(i){Ze.warn("Error during bad escape fixing regex replacement.","GeminiServiceParse",void 0,i)}try{return JSON.parse(e)}catch(i){Ze.error("Primary JSON.parse failed for Gemini response.","GeminiServiceParse",{errorMsg:i.message,cleanedJsonPreview:e.substring(0,200),originalTextPreview:s.substring(0,200)},i);const r=e.indexOf("["),a=e.indexOf("{");let o=-1;if(r!==-1&&(a===-1||r<a)?o=r:a!==-1&&(o=a),o!==-1){let c=0,l=0,u=-1,d=!1;const h=e[o];for(let p=o;p<e.length;p++){const y=e[p];if(y==='"'&&(p===0||e[p-1]!=="\\"||e[p-1]==="\\"&&p>1&&e[p-2]==="\\")&&(d=!d),!d){if(y==="{"?l++:y==="}"?l--:y==="["?c++:y==="]"&&c--,h==="{"&&l===0&&c===0&&p>=o){u=p;break}if(h==="["&&c===0&&l===0&&p>=o){u=p;break}}}if(u!==-1)try{let p=e.substring(o,u+1);return p=p.replace(/,\s*([\}\]])/g,"$1"),Ze.info("Fallback parsing attempting with substring.","GeminiServiceParse",{substringPreview:p.substring(0,200)}),JSON.parse(p)}catch(p){Ze.error("Fallback JSON.parse also failed (Gemini).","GeminiServiceParse",{errorMsg:p.message,substringAttempted:e.substring(o,u+1).substring(0,200)},p)}else Ze.warn("Fallback parsing: Could not determine a valid JSON substring (Gemini).","GeminiServiceParse")}else Ze.warn("Fallback parsing: No JSON start characters ([ or {) found in the response (Gemini).","GeminiServiceParse");return null}},hR=s=>`
        CRITICAL JSON Output Schema (MUST follow strictly):
        {
          "title": "string (creative and relevant quiz title in ${s})",
          "questions": [
            {
              "id": "string (unique identifier, e.g., 'q1', 'q2'. Make this reasonably unique.)",
              "questionText": "string (clear, unambiguous multiple-choice question in ${s}. Do not truncate.)",
              "options": ["string (A JSON array of 3-5 distinct, plausible option strings in ${s}. CRITICAL: Each option MUST be a complete, valid JSON string, properly quoted (e.g., \\"Option Text\\"), and NOT TRUNCATED. All string content, including special characters and internal quotes, MUST be correctly escaped (e.g., \\"Option with \\\\\\"quote\\\\\\" inside\\"). Options in the array MUST be separated by commas. ABSOLUTELY NO extraneous text, unquoted characters, or non-JSON content should appear: 1) between the closing quote of one option and the comma, 2) between the comma and the opening quote of the next option, or 3) between the closing quote of the last option and the closing square bracket ']'.)"],
              "correctAnswer": "string (The exact text of the correct option from the 'options' array. All in ${s})",
              "explanation": "string (Detailed explanation in ${s}, ideally 2-4 concise sentences. Explain correctness and why distractors are wrong. Refer to source content if possible. This field can ALSO include supplementary information as requested by custom user prompts, such as IPA transcriptions, etymologies, or example sentences, integrated naturally with the main explanation. Ensure this string is valid JSON content and not truncated.)"
            }
          ]
        }
`,fR=(s,e,t)=>{let n="";const i=[];let r=`You are a rigorous educational AI agent whose mission is to generate quizzes that fully and exhaustively reflect the original input content provided by the user (such as a 50-question test file).

Your task is non-negotiable:
 You must generate a set of quiz questions that matches the scope, depth, and quantity of the original material.
 If the input file has 50 questions or covers 50 topics, your output must match or exceed that number  never less.

Absolutely no assumptions are allowed about content reduction, simplification, or condensation.

Before returning your response, perform the following internal steps (not visible to the user):
1. Parse and extract every distinct question, topic, or learning objective from the input.
2. Generate a quiz item for each of them  ensuring one-to-one or one-to-many coverage.
3. Validate each question for alignment with the original content.
4. Confirm that the total number of output quiz items is not lower than the total input topics/questions.
5. If you cannot meet the above criteria for any reason, do not respond until all conditions are satisfied.

This quiz MUST BE MULTIPLE-CHOICE.
Output format MUST be a single, valid JSON object. No other text or markdown outside this JSON object.
The quiz, including all titles, questions, options, and explanations, MUST be in ${e.language||"English"}.

Your behavior regarding quiz content and style MUST BE guided by the user's specific instructions, if provided.

PRIMARY TASK MODIFICATION BASED ON USER INPUT:
Review the 'USER-PROVIDED INSTRUCTIONS' block located within these System Instructions.

IF THE 'USER-PROVIDED INSTRUCTIONS' BLOCK CONTAINS TEXT:
  - These user instructions define the REQUIRED *content, style, tone, and focus* for all quiz elements (questions, options, explanations).
  - These instructions take ABSOLUTE PRECEDENCE. They OVERRIDE any conflicting general guidelines or suggestions found elsewhere regarding quiz content and style.
  - Your main task becomes: meticulously implement these user instructions to shape the quiz.
  - If user instructions request specific textual additions related to a question (e.g., IPA transcriptions, etymologies, example sentences), you SHOULD integrate these naturally within the 'explanation' field for the relevant question. This is in addition to the core explanation of why the answer is correct and why distractors are wrong. Ensure the primary explanation remains clear and complete.
  - However, you MUST still strictly adhere to the required JSON output format and structure, and ensure all questions are multiple-choice.

ELSE (if the 'USER-PROVIDED INSTRUCTIONS' block is empty or explicitly states no custom instructions):
  - Generate the quiz based on the general guidelines and the provided source content, strictly adhering to your core mission and non-negotiable task regarding content coverage and quantity.

---
BEGIN USER-PROVIDED INSTRUCTIONS:
${e.customUserPrompt&&e.customUserPrompt.trim()?e.customUserPrompt.trim():"No specific user instructions provided beyond quiz configuration. Default quiz generation guidelines apply, strictly adhering to your core mission and non-negotiable task regarding content coverage and quantity."}
END USER-PROVIDED INSTRUCTIONS
---

Regardless of custom instructions, always ensure the output JSON format is strictly correct and complete, and all questions are multiple-choice.
Ensure there is NO extraneous text or characters between JSON properties or after string values before the expected comma or closing brace/bracket.
Each string value, especially within arrays like 'options', must be a COMPLETE, valid JSON string, properly quoted, and escaped. Pay EXTREME attention to not truncating strings or omitting closing quotes/brackets.
Every part of the JSON response, especially strings, must be correctly formatted and escaped. Check for and remove any accidental truncation or data leakage between fields.
Strictly follow JSON formatting, especially for strings, arrays, and preventing truncation. All detailed JSON schema and quality guidelines are provided in the main prompt (the part that includes the source content and specific output requirements).`;const a=t?`The quiz title should be relevant to "${t}".`:"Suggest a creative and relevant title for this quiz.",o=e.difficulty==="AI-Determined"?`Determine the optimal number of multiple-choice questions (aim for ${e.numQuestions>0?e.numQuestions:"between 5 and 10, but adjust based on content length/complexity"}) and their difficulty levels based on the provided content. Strive for a balanced mix of difficulties if appropriate.`:`The quiz should have exactly ${e.numQuestions} multiple-choice questions. The difficulty for all questions should be ${e.difficulty}. `,c=!!(e.customUserPrompt&&e.customUserPrompt.trim());let l;c?l=`
IMPORTANT: Your primary guide for quiz *content, style, tone, and focus* is the 'USER-PROVIDED INSTRUCTIONS' block found in the System Instructions for this task. You MUST meticulously follow them.
The instructions below define the REQUIRED *structural and formatting* aspects for the quiz output.
ALL questions MUST be multiple-choice.
The quiz, including all titles, questions, options, and explanations, MUST be in ${e.language||"English"}.
${a}
${o}
`:l=`
General multiple-choice quiz generation guidelines:
The quiz, including all titles, questions, options, and explanations, MUST be in ${e.language||"English"}.
${a}
${o}
ALL questions MUST be multiple-choice.
`;const d=`
        ${l}
        ${hR(e.language||"English")}
        Key Quality Guidelines (Always Apply for JSON Structure and Validity):
        1.  Questions: Clear and unambiguous multiple-choice questions. Each question must have 3-5 distinct, plausible options.
        2.  Options Array: The "options" field MUST be a valid JSON array of strings. Each string option within the 'options' array must be a COMPLETE, valid JSON string, properly quoted, and NOT TRUNCATED. All string content must be correctly escaped (e.g., internal quotes as \\"). Ensure each option is correctly terminated by a quote, followed by a comma (if not the last item) or the closing square bracket (']'). Incomplete or truncated strings, or strings with unescaped internal quotes, will break the JSON. Do NOT leave strings unterminated or malformed. ABSOLUTELY NO unquoted text or non-JSON characters should be inserted between elements of this array, or between the last element and the closing ']'."
        3.  Explanations: Concise (ideally 2-4 sentences for the core part), comprehensive, explaining correctness and incorrectness for options. If custom instructions request additional information (like IPA), include it here as well. Ensure explanations are valid JSON string content and not truncated.
        4.  Language: Strictly in ${e.language||"English"}.
        5.  Completeness: All required JSON fields must be present for each question.
        6.  String Integrity: All string values within the JSON must be properly escaped and not contain raw newlines or characters that break JSON. This is especially critical for strings within arrays. Ensure every string is fully formed and terminated. For LaTeX content within string values, a single LaTeX backslash (e.g., in \\sqrt) MUST be represented as a double backslash (e.g., \\\\sqrt) in the JSON string value so that it's a valid JSON string and parses correctly.
        7.  Strict JSON Adherence: Your entire response must be a single, valid JSON object with no surrounding text or markdown. Ensure no truncation, especially within string values or arrays. There should be no characters between a string value and the following comma or closing brace/bracket. Double-check for any truncated strings or missing closing quotes/brackets, especially if the content is long or contains special characters.
        8.  Internal Cleanliness: Ensure no non-JSON characters (e.g., stray unicode characters, incomplete markdown markers like \`\`\`) are present *within* the JSON structure itself, particularly not after string values or before closing delimiters like ']' or '}'.
        9.  Array Element Purity: When constructing JSON arrays (e.g., the "options" array), ensure that only valid JSON elements (typically strings in quotes) are present. DO NOT include any unquoted text, extraneous phrases, or non-JSON data between valid array elements, or between the last valid element and the closing square bracket (']'). For example, an array like \`"options": ["Option A", "Option B" extraneous text here, "Option C"]\` is INVALID. It MUST be \`"options": ["Option A", "Option B", "Option C"]\`. Any text within an array must be part of a properly quoted and comma-separated string element.
        10. Handling Response Length Limits: It is CRITICAL that the entire JSON response is valid. If the content to be included in a field, especially the 'explanation' field, is very long and risks exceeding response limits, you MUST prioritize JSON validity. This means:
            a. Shorten the content of the field (e.g., the explanation) to ensure it fits, RATHER THAN truncating the JSON structure itself or a string value mid-way.
            b. Ensure the shortened content is still a valid, properly quoted JSON string (e.g., "A shorter but complete explanation.").
            c. Never allow an unterminated string or an incomplete JSON object/array. If you must cut content, do it within the text of a field and ensure that field is still correctly formatted as a JSON string with a closing quote.
    `;return typeof s=="string"?(n=s.substring(0,500)+(s.length>500?"...":""),i.push({text:`Source Text: """${s}"""

Instructions for multiple-choice quiz generation: """${d}"""`})):(n=`Image content (${s.mimeType})`,i.push({inlineData:{data:s.base64Data,mimeType:s.mimeType}}),i.push({text:`Instructions for multiple-choice quiz based on the preceding image: """${d}"""`})),{requestContents:{parts:i},sourceContentSnippet:n,systemInstructionString:r}},pR=async(s,e,t)=>{var o;Ze.info("Attempting to generate quiz with Gemini","GeminiService",{model:xg,lang:e.language});const n=u_(),{requestContents:i,sourceContentSnippet:r,systemInstructionString:a}=fR(s,e,t);try{const l=(await n.models.generateContent({model:xg,contents:i,config:{responseMimeType:"application/json",systemInstruction:a}})).text||"";Ze.info("Received response from Gemini","GeminiService",{responsePreview:l.substring(0,200)});const u=dR(l);if(!u||!u.questions||!u.title||!Array.isArray(u.questions)||u.questions.length===0)throw Ze.error("Failed to parse quiz data or data is incomplete/invalid structure (Gemini).","GeminiService",{parsedDataPreview:(o=JSON.stringify(u))==null?void 0:o.substring(0,200)}),new Error("Gemini AI failed to generate quiz in the expected format or returned an empty/invalid quiz. Please check the console for the raw AI response and parsing attempts.");const d=u.questions.map((h,p)=>{const y=h.id||`gq${p+1}-${Date.now()}`;let v=h.options;(!Array.isArray(h.options)||h.options.length<2)&&(Ze.warn(`Question ${y} has invalid options, providing defaults.`,"GeminiServiceValidation",{originalOptions:h.options}),v=[`Generated Option A for ${y}`,`Generated Option B for ${y}`,`Generated Option C for ${y}`]);let b=typeof h.correctAnswer=="string"?h.correctAnswer:"";return!v.includes(b)&&v.length>0?(Ze.warn(`Correct answer for ${y} ('${h.correctAnswer}') not in options. Defaulting to first option.`,"GeminiServiceValidation",{options:v}),b=v[0]):v.length===0&&(b="A model answer should be provided here."),{...h,id:y,options:v,correctAnswer:b,explanation:h.explanation||"No explanation provided by AI. Consider regenerating or editing."}});return Ze.info("Successfully generated and validated quiz from Gemini.","GeminiService",{title:u.title,questionCount:d.length}),{...u,questions:d,sourceContentSnippet:r}}catch(c){Ze.error("Error generating quiz with Gemini","GeminiService",void 0,c);let l="Failed to generate quiz with Gemini. An unexpected error occurred. Please try again later.";if(c instanceof Error){const u=c.message,d=u.toLowerCase();d.includes("api key not valid")||d.includes("api_key_invalid")||d.includes("process.env.api_key not set")||d.includes("api_key is not configured")||d.includes("process.env.gemini_api_key")?l="Invalid or Missing Gemini API Key (process.env.API_KEY). Please ensure the environment variable is correctly configured and accessible.":d.includes("deadline exceeded")?l="The Gemini AI took too long to respond. This might be due to complex content or a temporary issue. Please try again or simplify the content.":d.includes("quota")?l="Gemini API quota exceeded. Please check your Google AI Platform quotas or try again later.":d.includes("500")||d.includes("unknown")||d.includes("rpc failed")||d.includes("xhr error")?l="An unexpected error occurred while communicating with the AI service (Server Error or Network Issue). Please check your internet connection and try again in a few moments. If the problem persists, the AI service might be temporarily unavailable.":(d.includes("ai failed to generate quiz")||d.includes("empty/invalid quiz"))&&(l=u)}throw new Error(l)}},gR=async s=>{Ze.info("Attempting to extract text from image with Gemini","GeminiServiceImage",{mimeType:s.mimeType});const e=u_(),i={parts:[{inlineData:{data:s.base64Data,mimeType:s.mimeType}},{text:"Extract all visible text from this image. Respond with only the extracted text, without any additional commentary, formatting, or markdown. Just return the raw text content found in the image."}]};try{const a=(await e.models.generateContent({model:xg,contents:i})).text||"";return Ze.info("Successfully extracted text from image.","GeminiServiceImage",{textLength:a.trim().length}),a.trim()}catch(r){if(Ze.error("Error extracting text from image with Gemini","GeminiServiceImage",void 0,r),r instanceof Error){const a=r.message.toLowerCase();if(a.includes("api key not valid")||a.includes("api_key_invalid")||a.includes("api_key is not configured")||a.includes("process.env.api_key not set")||a.includes("process.env.gemini_api_key"))throw new Error("Invalid or Missing Gemini API Key (process.env.API_KEY) for text extraction. Please ensure the environment variable is correctly configured and accessible.");if(a.includes("500")||a.includes("unknown")||a.includes("rpc failed")||a.includes("xhr error"))throw new Error("Failed to extract text from image due to a server or network error. Please try again.")}return null}},mR=async(s,e,t)=>{e.selectedModel!==Mn&&Ze.warn(`Unsupported model selected: ${e.selectedModel}. Defaulting to Gemini.`,"aiQuizService",{selectedModel:e.selectedModel}),Ze.info(`Generating quiz with model: ${Mn}`,"aiQuizService",{titleSuggestion:t,config:e});try{const n=await pR(s,e,t);return Ze.info(`Quiz generated successfully by ${Mn}`,"aiQuizService",{title:n.title,questionCount:n.questions.length}),n}catch(n){throw Ze.error(`Error in generateQuizWithSelectedModel using ${Mn}`,"aiQuizService",{config:e},n),n}};var ol={};ol.d=(s,e)=>{for(var t in e)ol.o(e,t)&&!ol.o(s,t)&&Object.defineProperty(s,t,{enumerable:!0,get:e[t]})};ol.o=(s,e)=>Object.prototype.hasOwnProperty.call(s,e);var Pe=globalThis.pdfjsLib={};ol.d(Pe,{AbortException:()=>Ha,AnnotationEditorLayer:()=>Ym,AnnotationEditorParamsType:()=>We,AnnotationEditorType:()=>je,AnnotationEditorUIManager:()=>Ba,AnnotationLayer:()=>p3,AnnotationMode:()=>Or,CMapCompressionType:()=>Wg,ColorPicker:()=>zh,DOMSVGFactory:()=>uy,DrawLayer:()=>Qm,FeatureTest:()=>yn,GlobalWorkerOptions:()=>Tr,ImageKind:()=>Nd,InvalidPDFException:()=>h_,MissingPDFException:()=>za,OPS:()=>jn,Outliner:()=>Um,PDFDataRangeTransport:()=>ox,PDFDateString:()=>b_,PDFWorker:()=>ho,PasswordResponses:()=>_R,PermissionFlag:()=>bR,PixelsPerInch:()=>us,RenderingCancelledException:()=>dy,TextLayer:()=>mc,UnexpectedResponseException:()=>Tf,Util:()=>Re,VerbosityLevel:()=>_f,XfaLayer:()=>lx,build:()=>Yk,createValidAbsoluteUrl:()=>AR,fetchData:()=>Sf,getDocument:()=>Ok,getFilenameFromUrl:()=>MR,getPdfFilenameFromUrl:()=>NR,getXfaPageViewport:()=>PR,isDataScheme:()=>hy,isPdfFile:()=>fy,noContextMenu:()=>bn,normalizeUnicode:()=>FR,renderTextLayer:()=>Fk,setLayerDimensions:()=>La,shadow:()=>et,updateTextLayer:()=>Ik,version:()=>Xk});const jt=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),d_=[1,0,0,1,0,0],Og=[.001,0,0,.001,0,0],yR=1e7,op=1.35,Gn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},Or={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},vR="pdfjs_internal_editor_",je={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},We={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},bR={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Yt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Nd={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ut={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Cc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},_f={ERRORS:0,WARNINGS:1,INFOS:5},Wg={NONE:0,BINARY:1},jn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},_R={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let xf=_f.WARNINGS;function xR(s){Number.isInteger(s)&&(xf=s)}function DR(){return xf}function Df(s){xf>=_f.INFOS&&console.log(`Info: ${s}`)}function Xe(s){xf>=_f.WARNINGS&&console.log(`Warning: ${s}`)}function lt(s){throw new Error(s)}function Mt(s,e){s||lt(e)}function TR(s){switch(s==null?void 0:s.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function AR(s,e=null,t=null){if(!s)return null;try{if(t&&typeof s=="string"){if(t.addDefaultProtocol&&s.startsWith("www.")){const i=s.match(/\./g);(i==null?void 0:i.length)>=2&&(s=`http://${s}`)}if(t.tryConvertEncoding)try{s=UR(s)}catch{}}const n=e?new URL(s,e):new URL(s);if(TR(n))return n}catch{}return null}function et(s,e,t,n=!1){return Object.defineProperty(s,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const ys=function(){function e(t,n){this.constructor===e&&lt("Cannot initialize BaseException."),this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class qg extends ys{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Vg extends ys{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class h_ extends ys{constructor(e){super(e,"InvalidPDFException")}}class za extends ys{constructor(e){super(e,"MissingPDFException")}}class Tf extends ys{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class CR extends ys{constructor(e){super(e,"FormatError")}}class Ha extends ys{constructor(e){super(e,"AbortException")}}function f_(s){(typeof s!="object"||(s==null?void 0:s.length)===void 0)&&lt("Invalid argument for bytesToString");const e=s.length,t=8192;if(e<t)return String.fromCharCode.apply(null,s);const n=[];for(let i=0;i<e;i+=t){const r=Math.min(i+t,e),a=s.subarray(i,r);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function Af(s){typeof s!="string"&&lt("Invalid argument for stringToBytes");const e=s.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=s.charCodeAt(n)&255;return t}function ER(s){return String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255)}function cy(s){const e=Object.create(null);for(const[t,n]of s)e[t]=n;return e}function wR(){const s=new Uint8Array(4);return s[0]=1,new Uint32Array(s.buffer,0,1)[0]===1}function SR(){try{return new Function(""),!0}catch{return!1}}class yn{static get isLittleEndian(){return et(this,"isLittleEndian",wR())}static get isEvalSupported(){return et(this,"isEvalSupported",SR())}static get isOffscreenCanvasSupported(){return et(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?et(this,"platform",{isMac:navigator.platform.includes("Mac")}):et(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return et(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const cp=Array.from(Array(256).keys(),s=>s.toString(16).padStart(2,"0"));var Cr,Pd,zg;class Re{static makeHexColor(e,t,n){return`#${cp[e]}${cp[t]}${cp[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const n=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[n,i]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,r=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n;return[i,r]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),r=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],i[0],r[0],a[0]),Math.min(n[1],i[1],r[1],a[1]),Math.max(n[0],i[0],r[0],a[0]),Math.max(n[1],i[1],r[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],r=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],o=(n+a)/2,c=Math.sqrt((n+a)**2-4*(n*a-r*i))/2,l=o+c||1,u=o-c||1;return[Math.sqrt(l),Math.sqrt(u)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const r=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return r>a?null:[n,r,i,a]}static bezierBoundingBox(e,t,n,i,r,a,o,c,l){return l?(l[0]=Math.min(l[0],e,o),l[1]=Math.min(l[1],t,c),l[2]=Math.max(l[2],e,o),l[3]=Math.max(l[3],t,c)):l=[Math.min(e,o),Math.min(t,c),Math.max(e,o),Math.max(t,c)],N(this,Cr,zg).call(this,e,n,r,o,t,i,a,c,3*(-e+3*(n-r)+o),6*(e-2*n+r),3*(n-e),l),N(this,Cr,zg).call(this,e,n,r,o,t,i,a,c,3*(-t+3*(i-a)+c),6*(t-2*i+a),3*(i-t),l),l}}Cr=new WeakSet,Pd=function(e,t,n,i,r,a,o,c,l,u){if(l<=0||l>=1)return;const d=1-l,h=l*l,p=h*l,y=d*(d*(d*e+3*l*t)+3*h*n)+p*i,v=d*(d*(d*r+3*l*a)+3*h*o)+p*c;u[0]=Math.min(u[0],y),u[1]=Math.min(u[1],v),u[2]=Math.max(u[2],y),u[3]=Math.max(u[3],v)},zg=function(e,t,n,i,r,a,o,c,l,u,d,h){if(Math.abs(l)<1e-12){Math.abs(u)>=1e-12&&N(this,Cr,Pd).call(this,e,t,n,i,r,a,o,c,-d/u,h);return}const p=u**2-4*d*l;if(p<0)return;const y=Math.sqrt(p),v=2*l;N(this,Cr,Pd).call(this,e,t,n,i,r,a,o,c,(-u+y)/v,h),N(this,Cr,Pd).call(this,e,t,n,i,r,a,o,c,(-u-y)/v,h)},B(Re,Cr);function UR(s){return decodeURIComponent(escape(s))}let lp=null,Zb=null;function FR(s){return lp||(lp=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Zb=new Map([["","t"]])),s.replaceAll(lp,(e,t,n)=>t?t.normalize("NFKC"):Zb.get(n))}function IR(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const s=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(s);else for(let e=0;e<32;e++)s[e]=Math.floor(Math.random()*255);return f_(s)}const p_="pdfjs_internal_id_",zi={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class Cf{constructor(){this.constructor===Cf&&lt("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,r){return"none"}destroy(e=!1){}}var vl;const av=class av{constructor({enableHWA:e=!1}={}){B(this,vl,!1);this.constructor===av&&lt("Cannot initialize BaseCanvasFactory."),M(this,vl,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!g(this,vl)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){lt("Abstract method `_createCanvas` called.")}};vl=new WeakMap;let Bh=av;class Ef{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===Ef&&lt("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),n=this.isCompressed?Wg.BINARY:Wg.NONE;return this._fetchData(t,n).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){lt("Abstract method `_fetchData` called.")}}class wf{constructor({baseUrl:e=null}){this.constructor===wf&&lt("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){lt("Abstract method `_fetchData` called.")}}class ly{constructor(){this.constructor===ly&&lt("Cannot initialize BaseSVGFactory.")}create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){lt("Abstract method `_createSVG` called.")}}const Xi="http://www.w3.org/2000/svg",Ps=class Ps{};qe(Ps,"CSS",96),qe(Ps,"PDF",72),qe(Ps,"PDF_TO_CSS_UNITS",Ps.CSS/Ps.PDF);let us=Ps;var Bs,vi,ji,fn,Zh,Os,Ue,Kt,no,io,Ld,g_,Hg,ro,Hc,Gc,Gg,$c;class RR extends Cf{constructor({docId:t,ownerDocument:n=globalThis.document}={}){super();B(this,Ue);B(this,Bs);B(this,vi);B(this,ji);B(this,fn);B(this,Zh);B(this,Os,0);M(this,ji,t),M(this,fn,n)}addFilter(t){if(!t)return"none";let n=g(this,Ue,Kt).get(t);if(n)return n;const[i,r,a]=N(this,Ue,Ld).call(this,t),o=t.length===1?i:`${i}${r}${a}`;if(n=g(this,Ue,Kt).get(o),n)return g(this,Ue,Kt).set(t,n),n;const c=`g_${g(this,ji)}_transfer_map_${Tn(this,Os)._++}`,l=`url(#${c})`;g(this,Ue,Kt).set(t,l),g(this,Ue,Kt).set(o,l);const u=N(this,Ue,ro).call(this,c);return N(this,Ue,Gc).call(this,i,r,a,u),l}addHCMFilter(t,n){var y;const i=`${t}-${n}`,r="base";let a=g(this,Ue,no).get(r);if((a==null?void 0:a.key)===i||(a?((y=a.filter)==null||y.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},g(this,Ue,no).set(r,a)),!t||!n))return a.url;const o=N(this,Ue,$c).call(this,t);t=Re.makeHexColor(...o);const c=N(this,Ue,$c).call(this,n);if(n=Re.makeHexColor(...c),g(this,Ue,io).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return a.url;const l=new Array(256);for(let v=0;v<=255;v++){const b=v/255;l[v]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const u=l.join(","),d=`g_${g(this,ji)}_hcm_filter`,h=a.filter=N(this,Ue,ro).call(this,d);N(this,Ue,Gc).call(this,u,u,u,h),N(this,Ue,Hg).call(this,h);const p=(v,b)=>{const _=o[v]/255,x=c[v]/255,D=new Array(b+1);for(let A=0;A<=b;A++)D[A]=_+A/b*(x-_);return D.join(",")};return N(this,Ue,Gc).call(this,p(0,5),p(1,5),p(2,5),h),a.url=`url(#${d})`,a.url}addAlphaFilter(t){let n=g(this,Ue,Kt).get(t);if(n)return n;const[i]=N(this,Ue,Ld).call(this,[t]),r=`alpha_${i}`;if(n=g(this,Ue,Kt).get(r),n)return g(this,Ue,Kt).set(t,n),n;const a=`g_${g(this,ji)}_alpha_map_${Tn(this,Os)._++}`,o=`url(#${a})`;g(this,Ue,Kt).set(t,o),g(this,Ue,Kt).set(r,o);const c=N(this,Ue,ro).call(this,a);return N(this,Ue,Gg).call(this,i,c),o}addLuminosityFilter(t){let n=g(this,Ue,Kt).get(t||"luminosity");if(n)return n;let i,r;if(t?([i]=N(this,Ue,Ld).call(this,[t]),r=`luminosity_${i}`):r="luminosity",n=g(this,Ue,Kt).get(r),n)return g(this,Ue,Kt).set(t,n),n;const a=`g_${g(this,ji)}_luminosity_map_${Tn(this,Os)._++}`,o=`url(#${a})`;g(this,Ue,Kt).set(t,o),g(this,Ue,Kt).set(r,o);const c=N(this,Ue,ro).call(this,a);return N(this,Ue,g_).call(this,c),t&&N(this,Ue,Gg).call(this,i,c),o}addHighlightHCMFilter(t,n,i,r,a){var x;const o=`${n}-${i}-${r}-${a}`;let c=g(this,Ue,no).get(t);if((c==null?void 0:c.key)===o||(c?((x=c.filter)==null||x.remove(),c.key=o,c.url="none",c.filter=null):(c={key:o,url:"none",filter:null},g(this,Ue,no).set(t,c)),!n||!i))return c.url;const[l,u]=[n,i].map(N(this,Ue,$c).bind(this));let d=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[p,y]=[r,a].map(N(this,Ue,$c).bind(this));h<d&&([d,h,p,y]=[h,d,y,p]),g(this,Ue,io).style.color="";const v=(D,A,T)=>{const E=new Array(256),F=(h-d)/T,I=D/255,U=(A-D)/(255*T);let L=0;for(let G=0;G<=T;G++){const S=Math.round(d+G*F),k=I+G*U;for(let w=L;w<=S;w++)E[w]=k;L=S+1}for(let G=L;G<256;G++)E[G]=E[L-1];return E.join(",")},b=`g_${g(this,ji)}_hcm_${t}_filter`,_=c.filter=N(this,Ue,ro).call(this,b);return N(this,Ue,Hg).call(this,_),N(this,Ue,Gc).call(this,v(p[0],y[0],5),v(p[1],y[1],5),v(p[2],y[2],5),_),c.url=`url(#${b})`,c.url}destroy(t=!1){t&&g(this,Ue,no).size!==0||(g(this,vi)&&(g(this,vi).parentNode.parentNode.remove(),M(this,vi,null)),g(this,Bs)&&(g(this,Bs).clear(),M(this,Bs,null)),M(this,Os,0))}}Bs=new WeakMap,vi=new WeakMap,ji=new WeakMap,fn=new WeakMap,Zh=new WeakMap,Os=new WeakMap,Ue=new WeakSet,Kt=function(){return g(this,Bs)||M(this,Bs,new Map)},no=function(){return g(this,Zh)||M(this,Zh,new Map)},io=function(){if(!g(this,vi)){const t=g(this,fn).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=g(this,fn).createElementNS(Xi,"svg");i.setAttribute("width",0),i.setAttribute("height",0),M(this,vi,g(this,fn).createElementNS(Xi,"defs")),t.append(i),i.append(g(this,vi)),g(this,fn).body.append(t)}return g(this,vi)},Ld=function(t){if(t.length===1){const l=t[0],u=new Array(256);for(let h=0;h<256;h++)u[h]=l[h]/255;const d=u.join(",");return[d,d,d]}const[n,i,r]=t,a=new Array(256),o=new Array(256),c=new Array(256);for(let l=0;l<256;l++)a[l]=n[l]/255,o[l]=i[l]/255,c[l]=r[l]/255;return[a.join(","),o.join(","),c.join(",")]},g_=function(t){const n=g(this,fn).createElementNS(Xi,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},Hg=function(t){const n=g(this,fn).createElementNS(Xi,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},ro=function(t){const n=g(this,fn).createElementNS(Xi,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),g(this,Ue,io).append(n),n},Hc=function(t,n,i){const r=g(this,fn).createElementNS(Xi,n);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),t.append(r)},Gc=function(t,n,i,r){const a=g(this,fn).createElementNS(Xi,"feComponentTransfer");r.append(a),N(this,Ue,Hc).call(this,a,"feFuncR",t),N(this,Ue,Hc).call(this,a,"feFuncG",n),N(this,Ue,Hc).call(this,a,"feFuncB",i)},Gg=function(t,n){const i=g(this,fn).createElementNS(Xi,"feComponentTransfer");n.append(i),N(this,Ue,Hc).call(this,i,"feFuncA",t)},$c=function(t){return g(this,Ue,io).style.color=t,py(getComputedStyle(g(this,Ue,io)).getPropertyValue("color"))};class kR extends Bh{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}async function Sf(s,e="text"){if(Xc(s,document.baseURI)){const t=await fetch(s);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const i=new XMLHttpRequest;i.open("GET",s,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class m_ extends Ef{_fetchData(e,t){return Sf(e,this.isCompressed?"arraybuffer":"text").then(n=>({cMapData:n instanceof ArrayBuffer?new Uint8Array(n):Af(n),compressionType:t}))}}class y_ extends wf{_fetchData(e){return Sf(e,"arraybuffer").then(t=>new Uint8Array(t))}}class uy extends ly{_createSVG(e){return document.createElementNS(Xi,e)}}class Ju{constructor({viewBox:e,scale:t,rotation:n,offsetX:i=0,offsetY:r=0,dontFlip:a=!1}){this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=i,this.offsetY=r;const o=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let l,u,d,h;switch(n%=360,n<0&&(n+=360),n){case 180:l=-1,u=0,d=0,h=1;break;case 90:l=0,u=1,d=1,h=0;break;case 270:l=0,u=-1,d=-1,h=0;break;case 0:l=1,u=0,d=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(d=-d,h=-h);let p,y,v,b;l===0?(p=Math.abs(c-e[1])*t+i,y=Math.abs(o-e[0])*t+r,v=(e[3]-e[1])*t,b=(e[2]-e[0])*t):(p=Math.abs(o-e[0])*t+i,y=Math.abs(c-e[1])*t+r,v=(e[2]-e[0])*t,b=(e[3]-e[1])*t),this.transform=[l*t,u*t,d*t,h*t,p-l*t*o-d*t*c,y-u*t*o-h*t*c],this.width=v,this.height=b}get rawDims(){const{viewBox:e}=this;return et(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:r=!1}={}){return new Ju({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:r})}convertToViewportPoint(e,t){return Re.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Re.applyTransform([e[0],e[1]],this.transform),n=Re.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return Re.applyInverseTransform([e,t],this.transform)}}class dy extends ys{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function hy(s){const e=s.length;let t=0;for(;t<e&&s[t].trim()==="";)t++;return s.substring(t,t+5).toLowerCase()==="data:"}function fy(s){return typeof s=="string"&&/\.pdf$/i.test(s)}function MR(s){return[s]=s.split(/[#?]/,1),s.substring(s.lastIndexOf("/")+1)}function NR(s,e="document.pdf"){if(typeof s!="string")return e;if(hy(s))return Xe('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(s);let r=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(r&&(r=r[0],r.includes("%")))try{r=n.exec(decodeURIComponent(r))[0]}catch{}return r||e}class Jb{constructor(){qe(this,"started",Object.create(null));qe(this,"times",[])}time(e){e in this.started&&Xe(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Xe(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:r}of this.times)e.push(`${n.padEnd(t)} ${r-i}ms
`);return e.join("")}}function Xc(s,e){try{const{protocol:t}=e?new URL(s,e):new URL(s);return t==="http:"||t==="https:"}catch{return!1}}function bn(s){s.preventDefault()}function v_(s){console.log("Deprecated API usage: "+s)}let Qb;class b_{static toDateObject(e){if(!e||typeof e!="string")return null;Qb||(Qb=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=Qb.exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let r=parseInt(t[3],10);r=r>=1&&r<=31?r:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const l=t[7]||"Z";let u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,l==="-"?(a+=u,o+=d):l==="+"&&(a-=u,o-=d),new Date(Date.UTC(n,i,r,a,o,c))}}function PR(s,{scale:e=1,rotation:t=0}){const{width:n,height:i}=s.attributes.style,r=[0,0,parseInt(n),parseInt(i)];return new Ju({viewBox:r,scale:e,rotation:t})}function py(s){if(s.startsWith("#")){const e=parseInt(s.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return s.startsWith("rgb(")?s.slice(4,-1).split(",").map(e=>parseInt(e)):s.startsWith("rgba(")?s.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Xe(`Not a valid color format: "${s}"`),[0,0,0])}function LR(s){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of s.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;s.set(t,py(n))}e.remove()}function vt(s){const{a:e,b:t,c:n,d:i,e:r,f:a}=s.getTransform();return[e,t,n,i,r,a]}function Hi(s){const{a:e,b:t,c:n,d:i,e:r,f:a}=s.getTransform().invertSelf();return[e,t,n,i,r,a]}function La(s,e,t=!1,n=!0){if(e instanceof Ju){const{pageWidth:i,pageHeight:r}=e.rawDims,{style:a}=s,o=yn.isCSSRoundSupported,c=`var(--scale-factor) * ${i}px`,l=`var(--scale-factor) * ${r}px`,u=o?`round(${c}, 1px)`:`calc(${c})`,d=o?`round(${l}, 1px)`:`calc(${l})`;!t||e.rotation%180===0?(a.width=u,a.height=d):(a.width=d,a.height=u)}n&&s.setAttribute("data-main-rotation",e.rotation)}var Ws,qs,En,Vs,Jh,__,on,x_,D_,Bd,T_,Xg;const Qh=class Qh{constructor(e){B(this,on);B(this,Ws,null);B(this,qs,null);B(this,En);B(this,Vs,null);M(this,En,e)}render(){const e=M(this,Ws,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=g(this,En)._uiManager._signal;e.addEventListener("contextmenu",bn,{signal:t}),e.addEventListener("pointerdown",N(Qh,Jh,__),{signal:t});const n=M(this,Vs,document.createElement("div"));n.className="buttons",e.append(n);const i=g(this,En).toolbarPosition;if(i){const{style:r}=e,a=g(this,En)._uiManager.direction==="ltr"?1-i[0]:i[0];r.insetInlineEnd=`${100*a}%`,r.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return N(this,on,T_).call(this),e}hide(){var e;g(this,Ws).classList.add("hidden"),(e=g(this,qs))==null||e.hideDropdown()}show(){g(this,Ws).classList.remove("hidden")}addAltTextButton(e){N(this,on,Bd).call(this,e),g(this,Vs).prepend(e,g(this,on,Xg))}addColorPicker(e){M(this,qs,e);const t=e.renderButton();N(this,on,Bd).call(this,t),g(this,Vs).prepend(t,g(this,on,Xg))}remove(){var e;g(this,Ws).remove(),(e=g(this,qs))==null||e.destroy(),M(this,qs,null)}};Ws=new WeakMap,qs=new WeakMap,En=new WeakMap,Vs=new WeakMap,Jh=new WeakSet,__=function(e){e.stopPropagation()},on=new WeakSet,x_=function(e){g(this,En)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},D_=function(e){g(this,En)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Bd=function(e){const t=g(this,En)._uiManager._signal;e.addEventListener("focusin",N(this,on,x_).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",N(this,on,D_).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",bn,{signal:t})},T_=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${g(this,En).editorType}-button`),N(this,on,Bd).call(this,e),e.addEventListener("click",t=>{g(this,En)._uiManager.delete()},{signal:g(this,En)._uiManager._signal}),g(this,Vs).append(e)},Xg=function(){const e=document.createElement("div");return e.className="divider",e},B(Qh,Jh);let $g=Qh;var bl,zs,Hs,fs,A_,C_,E_;class BR{constructor(e){B(this,fs);B(this,bl,null);B(this,zs,null);B(this,Hs);M(this,Hs,e)}show(e,t,n){const[i,r]=N(this,fs,C_).call(this,t,n),{style:a}=g(this,zs)||M(this,zs,N(this,fs,A_).call(this));e.append(g(this,zs)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){g(this,zs).remove()}}bl=new WeakMap,zs=new WeakMap,Hs=new WeakMap,fs=new WeakSet,A_=function(){const e=M(this,zs,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",bn,{signal:g(this,Hs)._signal});const t=M(this,bl,document.createElement("div"));return t.className="buttons",e.append(t),N(this,fs,E_).call(this),e},C_=function(e,t){let n=0,i=0;for(const r of e){const a=r.y+r.height;if(a<n)continue;const o=r.x+(t?r.width:0);if(a>n){i=o,n=a;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,n]},E_=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=g(this,Hs)._signal;e.addEventListener("contextmenu",bn,{signal:n}),e.addEventListener("click",()=>{g(this,Hs).highlightSelection("floating_button")},{signal:n}),g(this,bl).append(e)};function Oh(s,e,t){for(const n of t)e.addEventListener(n,s[n].bind(s))}function OR(s){return Math.round(Math.min(255,Math.max(1,255*s))).toString(16).padStart(2,"0")}var jh;class WR{constructor(){B(this,jh,0)}get id(){return`${vR}${Tn(this,jh)._++}`}}jh=new WeakMap;var _l,ef,qn,xl,Kg;const ov=class ov{constructor(){B(this,xl);B(this,_l,IR());B(this,ef,0);B(this,qn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const r=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return et(this,"_isSVGFittingCanvas",r)}async getFromFile(e){const{lastModified:t,name:n,size:i,type:r}=e;return N(this,xl,Kg).call(this,`${t}_${n}_${i}_${r}`,e)}async getFromUrl(e){return N(this,xl,Kg).call(this,e,e)}async getFromId(e){g(this,qn)||M(this,qn,new Map);const t=g(this,qn).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=g(this,qn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){g(this,qn)||M(this,qn,new Map);const t=g(this,qn).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${g(this,_l)}_`)}};_l=new WeakMap,ef=new WeakMap,qn=new WeakMap,xl=new WeakSet,Kg=async function(e,t){g(this,qn)||M(this,qn,new Map);let n=g(this,qn).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${g(this,_l)}_${Tn(this,ef)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(n.url=t,i=await Sf(t,"blob")):i=n.file=t,i.type==="image/svg+xml"){const r=ov._isSVGFittingCanvas,a=new FileReader,o=new Image,c=new Promise((l,u)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,l()},a.onload=async()=>{const d=n.svgUrl=a.result;o.src=await r?`${d}#svgView(preserveAspectRatio(none))`:d},o.onerror=a.onerror=u});a.readAsDataURL(i),await c}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){console.error(i),n=null}return g(this,qn).set(e,n),n&&g(this,qn).set(n.id,n),n};let Yg=ov;var Lt,Wr,Dl,Bt;class qR{constructor(e=128){B(this,Lt,[]);B(this,Wr,!1);B(this,Dl);B(this,Bt,-1);M(this,Dl,e)}add({cmd:e,undo:t,post:n,mustExec:i,type:r=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),g(this,Wr))return;const c={cmd:e,undo:t,post:n,type:r};if(g(this,Bt)===-1){g(this,Lt).length>0&&(g(this,Lt).length=0),M(this,Bt,0),g(this,Lt).push(c);return}if(a&&g(this,Lt)[g(this,Bt)].type===r){o&&(c.undo=g(this,Lt)[g(this,Bt)].undo),g(this,Lt)[g(this,Bt)]=c;return}const l=g(this,Bt)+1;l===g(this,Dl)?g(this,Lt).splice(0,1):(M(this,Bt,l),l<g(this,Lt).length&&g(this,Lt).splice(l)),g(this,Lt).push(c)}undo(){if(g(this,Bt)===-1)return;M(this,Wr,!0);const{undo:e,post:t}=g(this,Lt)[g(this,Bt)];e(),t==null||t(),M(this,Wr,!1),M(this,Bt,g(this,Bt)-1)}redo(){if(g(this,Bt)<g(this,Lt).length-1){M(this,Bt,g(this,Bt)+1),M(this,Wr,!0);const{cmd:e,post:t}=g(this,Lt)[g(this,Bt)];e(),t==null||t(),M(this,Wr,!1)}}hasSomethingToUndo(){return g(this,Bt)!==-1}hasSomethingToRedo(){return g(this,Bt)<g(this,Lt).length-1}destroy(){M(this,Lt,null)}}Lt=new WeakMap,Wr=new WeakMap,Dl=new WeakMap,Bt=new WeakMap;var tf,w_;class Qu{constructor(e){B(this,tf);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=yn.platform;for(const[n,i,r={}]of e)for(const a of n){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:i,options:r}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:i,options:r}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(N(this,tf,w_).call(this,t));if(!n)return;const{callback:i,options:{bubbles:r=!1,args:a=[],checker:o=null}}=n;o&&!o(e,t)||(i.bind(e,...a,t)(),r||(t.stopPropagation(),t.preventDefault()))}}tf=new WeakSet,w_=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const nf=class nf{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return LR(e),et(this,"_colors",e)}convert(e){const t=py(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every((r,a)=>r===t[a]))return nf._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Re.makeHexColor(...t):e}};qe(nf,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Zg=nf;var go,wn,Ft,Wt,mo,er,yo,ei,vo,Gs,bi,ti,$s,Tl,Al,_i,bo,qr,xi,rf,Vr,Cl,Xs,El,_o,qt,at,tr,Ys,wl,Sl,Ul,Fl,Il,Rl,kl,Ml,Nl,Pl,Ll,Bl,Ol,zr,Di,nr,Wl,Ae,Od,S_,U_,Wd,F_,I_,R_,Jg,k_,Qg,jg,M_,nn,Nr,N_,P_,em,L_,Yc,tm;const lo=class lo{constructor(e,t,n,i,r,a,o,c,l){B(this,Ae);B(this,go,new AbortController);B(this,wn,null);B(this,Ft,new Map);B(this,Wt,new Map);B(this,mo,null);B(this,er,null);B(this,yo,null);B(this,ei,new qR);B(this,vo,0);B(this,Gs,new Set);B(this,bi,null);B(this,ti,null);B(this,$s,new Set);B(this,Tl,!1);B(this,Al,null);B(this,_i,null);B(this,bo,null);B(this,qr,!1);B(this,xi,null);B(this,rf,new WR);B(this,Vr,!1);B(this,Cl,!1);B(this,Xs,null);B(this,El,null);B(this,_o,null);B(this,qt,je.NONE);B(this,at,new Set);B(this,tr,null);B(this,Ys,null);B(this,wl,null);B(this,Sl,this.blur.bind(this));B(this,Ul,this.focus.bind(this));B(this,Fl,this.copy.bind(this));B(this,Il,this.cut.bind(this));B(this,Rl,this.paste.bind(this));B(this,kl,this.keydown.bind(this));B(this,Ml,this.keyup.bind(this));B(this,Nl,this.onEditingAction.bind(this));B(this,Pl,this.onPageChanging.bind(this));B(this,Ll,this.onScaleChanging.bind(this));B(this,Bl,this.onRotationChanging.bind(this));B(this,Ol,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});B(this,zr,[0,0]);B(this,Di,null);B(this,nr,null);B(this,Wl,null);this._signal=g(this,go).signal,M(this,nr,e),M(this,Wl,t),M(this,mo,n),this._eventBus=i,this._eventBus._on("editingaction",g(this,Nl)),this._eventBus._on("pagechanging",g(this,Pl)),this._eventBus._on("scalechanging",g(this,Ll)),this._eventBus._on("rotationchanging",g(this,Bl)),N(this,Ae,F_).call(this),N(this,Ae,M_).call(this),N(this,Ae,Jg).call(this),M(this,er,r.annotationStorage),M(this,Al,r.filterFactory),M(this,Ys,a),M(this,bo,o||null),M(this,Tl,c),M(this,_o,l||null),this.viewParameters={realScale:us.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=lo.prototype,t=a=>g(a,nr).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),n=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:c}=o;return c!=="text"&&c!=="number"}return!0},i=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return et(this,"_keyboardManager",new Qu([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&g(a,nr).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&g(a,nr).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}]]))}destroy(){var e,t,n;(e=g(this,go))==null||e.abort(),M(this,go,null),this._signal=null,this._eventBus._off("editingaction",g(this,Nl)),this._eventBus._off("pagechanging",g(this,Pl)),this._eventBus._off("scalechanging",g(this,Ll)),this._eventBus._off("rotationchanging",g(this,Bl));for(const i of g(this,Wt).values())i.destroy();g(this,Wt).clear(),g(this,Ft).clear(),g(this,$s).clear(),M(this,wn,null),g(this,at).clear(),g(this,ei).destroy(),(t=g(this,mo))==null||t.destroy(),(n=g(this,xi))==null||n.hide(),M(this,xi,null),g(this,_i)&&(clearTimeout(g(this,_i)),M(this,_i,null)),g(this,Di)&&(clearTimeout(g(this,Di)),M(this,Di,null))}async mlGuess(e){var t;return((t=g(this,_o))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!g(this,_o)}get hcmFilter(){return et(this,"hcmFilter",g(this,Ys)?g(this,Al).addHCMFilter(g(this,Ys).foreground,g(this,Ys).background):"none")}get direction(){return et(this,"direction",getComputedStyle(g(this,nr)).direction)}get highlightColors(){return et(this,"highlightColors",g(this,bo)?new Map(g(this,bo).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return et(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){M(this,El,e)}editAltText(e){var t;(t=g(this,mo))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){M(this,vo,e-1)}focusMainContainer(){g(this,nr).focus()}findParent(e,t){for(const n of g(this,Wt).values()){const{x:i,y:r,width:a,height:o}=n.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=r&&t<=r+o)return n}return null}disableUserSelect(e=!1){g(this,Wl).classList.toggle("noUserSelect",e)}addShouldRescale(e){g(this,$s).add(e)}removeShouldRescale(e){g(this,$s).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*us.PDF_TO_CSS_UNITS;for(const t of g(this,$s))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:a}=t,o=t.toString(),l=N(this,Ae,Od).call(this,t).closest(".textLayer"),u=this.getSelectionBoxes(l);if(u){t.empty(),g(this,qt)===je.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:je.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const d of g(this,Wt).values())if(d.hasTextLayer(l)){d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:u,anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:a,text:o});break}}}addToAnnotationStorage(e){!e.isEmpty()&&g(this,er)&&!g(this,er).has(e.id)&&g(this,er).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,g(this,qr)&&(M(this,qr,!1),N(this,Ae,Wd).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of g(this,at))if(t.div.contains(e)){M(this,Xs,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!g(this,Xs))return;const[e,t]=g(this,Xs);M(this,Xs,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){N(this,Ae,Jg).call(this),N(this,Ae,Qg).call(this)}removeEditListeners(){N(this,Ae,k_).call(this),N(this,Ae,jg).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of g(this,ti))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of g(this,ti))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=g(this,wn))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of g(this,at)){const r=i.serialize(!0);r&&t.push(r)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const r of t.items)for(const a of g(this,ti))if(a.isHandlingMimeForPasting(r.type)){a.paste(r,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(r){Xe(`paste: "${r.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const r=[];for(const c of n){const l=i.deserialize(c);if(!l)return;r.push(l)}const a=()=>{for(const c of r)N(this,Ae,em).call(this,c);N(this,Ae,tm).call(this,r)},o=()=>{for(const c of r)c.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(r){Xe(`paste: "${r.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),g(this,qt)!==je.NONE&&!this.isEditorHandlingKeyboard&&lo._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,g(this,qr)&&(M(this,qr,!1),N(this,Ae,Wd).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(N(this,Ae,I_).call(this),N(this,Ae,Qg).call(this),N(this,Ae,nn).call(this,{isEditing:g(this,qt)!==je.NONE,isEmpty:N(this,Ae,Yc).call(this),hasSomethingToUndo:g(this,ei).hasSomethingToUndo(),hasSomethingToRedo:g(this,ei).hasSomethingToRedo(),hasSelectedEditor:!1})):(N(this,Ae,R_).call(this),N(this,Ae,jg).call(this),N(this,Ae,nn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!g(this,ti)){M(this,ti,e);for(const t of g(this,ti))N(this,Ae,Nr).call(this,t.defaultPropertiesToUpdate)}}getId(){return g(this,rf).id}get currentLayer(){return g(this,Wt).get(g(this,vo))}getLayer(e){return g(this,Wt).get(e)}get currentPageIndex(){return g(this,vo)}addLayer(e){g(this,Wt).set(e.pageIndex,e),g(this,Vr)?e.enable():e.disable()}removeLayer(e){g(this,Wt).delete(e.pageIndex)}updateMode(e,t=null,n=!1){if(g(this,qt)!==e){if(M(this,qt,e),e===je.NONE){this.setEditingState(!1),N(this,Ae,P_).call(this);return}this.setEditingState(!0),N(this,Ae,N_).call(this),this.unselectAll();for(const i of g(this,Wt).values())i.updateMode(e);if(!t&&n){this.addNewEditorFromKeyboard();return}if(t){for(const i of g(this,Ft).values())if(i.annotationElementId===t){this.setSelected(i),i.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==g(this,qt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var n;if(g(this,ti)){switch(e){case We.CREATE:this.currentLayer.addNewEditor();return;case We.HIGHLIGHT_DEFAULT_COLOR:(n=g(this,El))==null||n.updateColor(t);break;case We.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(g(this,wl)||M(this,wl,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of g(this,at))i.updateParams(e,t);for(const i of g(this,ti))i.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var r;for(const a of g(this,Ft).values())a.editorType===e&&a.show(t);(((r=g(this,wl))==null?void 0:r.get(We.HIGHLIGHT_SHOW_ALL))??!0)!==t&&N(this,Ae,Nr).call(this,[[We.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(g(this,Cl)!==e){M(this,Cl,e);for(const t of g(this,Wt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of g(this,Ft).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return g(this,Ft).get(e)}addEditor(e){g(this,Ft).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(g(this,_i)&&clearTimeout(g(this,_i)),M(this,_i,setTimeout(()=>{this.focusMainContainer(),M(this,_i,null)},0))),g(this,Ft).delete(e.id),this.unselect(e),(!e.annotationElementId||!g(this,Gs).has(e.annotationElementId))&&((t=g(this,er))==null||t.remove(e.id))}addDeletedAnnotationElement(e){g(this,Gs).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return g(this,Gs).has(e)}removeDeletedAnnotationElement(e){g(this,Gs).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){g(this,wn)!==e&&(M(this,wn,e),e&&N(this,Ae,Nr).call(this,e.propertiesToUpdate))}updateUI(e){g(this,Ae,L_)===e&&N(this,Ae,Nr).call(this,e.propertiesToUpdate)}toggleSelected(e){if(g(this,at).has(e)){g(this,at).delete(e),e.unselect(),N(this,Ae,nn).call(this,{hasSelectedEditor:this.hasSelection});return}g(this,at).add(e),e.select(),N(this,Ae,Nr).call(this,e.propertiesToUpdate),N(this,Ae,nn).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of g(this,at))t!==e&&t.unselect();g(this,at).clear(),g(this,at).add(e),e.select(),N(this,Ae,Nr).call(this,e.propertiesToUpdate),N(this,Ae,nn).call(this,{hasSelectedEditor:!0})}isSelected(e){return g(this,at).has(e)}get firstSelectedEditor(){return g(this,at).values().next().value}unselect(e){e.unselect(),g(this,at).delete(e),N(this,Ae,nn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return g(this,at).size!==0}get isEnterHandled(){return g(this,at).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){g(this,ei).undo(),N(this,Ae,nn).call(this,{hasSomethingToUndo:g(this,ei).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:N(this,Ae,Yc).call(this)})}redo(){g(this,ei).redo(),N(this,Ae,nn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:g(this,ei).hasSomethingToRedo(),isEmpty:N(this,Ae,Yc).call(this)})}addCommands(e){g(this,ei).add(e),N(this,Ae,nn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:N(this,Ae,Yc).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...g(this,at)],t=()=>{for(const i of e)i.remove()},n=()=>{for(const i of e)N(this,Ae,em).call(this,i)};this.addCommands({cmd:t,undo:n,mustExec:!0})}commitOrRemove(){var e;(e=g(this,wn))==null||e.commitOrRemove()}hasSomethingToControl(){return g(this,wn)||this.hasSelection}selectAll(){for(const e of g(this,at))e.commit();N(this,Ae,tm).call(this,g(this,Ft).values())}unselectAll(){if(!(g(this,wn)&&(g(this,wn).commitOrRemove(),g(this,qt)!==je.NONE))&&this.hasSelection){for(const e of g(this,at))e.unselect();g(this,at).clear(),N(this,Ae,nn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;g(this,zr)[0]+=e,g(this,zr)[1]+=t;const[i,r]=g(this,zr),a=[...g(this,at)],o=1e3;g(this,Di)&&clearTimeout(g(this,Di)),M(this,Di,setTimeout(()=>{M(this,Di,null),g(this,zr)[0]=g(this,zr)[1]=0,this.addCommands({cmd:()=>{for(const c of a)g(this,Ft).has(c.id)&&c.translateInPage(i,r)},undo:()=>{for(const c of a)g(this,Ft).has(c.id)&&c.translateInPage(-i,-r)},mustExec:!1})},o));for(const c of a)c.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),M(this,bi,new Map);for(const e of g(this,at))g(this,bi).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!g(this,bi))return!1;this.disableUserSelect(!1);const e=g(this,bi);M(this,bi,null);let t=!1;for(const[{x:i,y:r,pageIndex:a},o]of e)o.newX=i,o.newY=r,o.newPageIndex=a,t||(t=i!==o.savedX||r!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const n=(i,r,a,o)=>{if(g(this,Ft).has(i.id)){const c=g(this,Wt).get(o);c?i._setParentAndPosition(c,r,a):(i.pageIndex=o,i.x=r,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:r,newY:a,newPageIndex:o}]of e)n(i,r,a,o)},undo:()=>{for(const[i,{savedX:r,savedY:a,savedPageIndex:o}]of e)n(i,r,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(g(this,bi))for(const n of g(this,bi).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||g(this,at).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return g(this,wn)===e}getActive(){return g(this,wn)}getMode(){return g(this,qt)}get imageManager(){return et(this,"imageManager",new Yg)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let l=0,u=t.rangeCount;l<u;l++)if(!e.contains(t.getRangeAt(l).commonAncestorContainer))return null;const{x:n,y:i,width:r,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(l,u,d,h)=>({x:(u-i)/a,y:1-(l+d-n)/r,width:h/a,height:d/r});break;case"180":o=(l,u,d,h)=>({x:1-(l+d-n)/r,y:1-(u+h-i)/a,width:d/r,height:h/a});break;case"270":o=(l,u,d,h)=>({x:1-(u+h-i)/a,y:(l-n)/r,width:h/a,height:d/r});break;default:o=(l,u,d,h)=>({x:(l-n)/r,y:(u-i)/a,width:d/r,height:h/a});break}const c=[];for(let l=0,u=t.rangeCount;l<u;l++){const d=t.getRangeAt(l);if(!d.collapsed)for(const{x:h,y:p,width:y,height:v}of d.getClientRects())y===0||v===0||c.push(o(h,p,y,v))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(g(this,yo)||M(this,yo,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=g(this,yo))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=g(this,yo))==null?void 0:i.get(e.data.id);if(!t)return;const n=g(this,er).getRawValue(t);n&&(g(this,qt)===je.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};go=new WeakMap,wn=new WeakMap,Ft=new WeakMap,Wt=new WeakMap,mo=new WeakMap,er=new WeakMap,yo=new WeakMap,ei=new WeakMap,vo=new WeakMap,Gs=new WeakMap,bi=new WeakMap,ti=new WeakMap,$s=new WeakMap,Tl=new WeakMap,Al=new WeakMap,_i=new WeakMap,bo=new WeakMap,qr=new WeakMap,xi=new WeakMap,rf=new WeakMap,Vr=new WeakMap,Cl=new WeakMap,Xs=new WeakMap,El=new WeakMap,_o=new WeakMap,qt=new WeakMap,at=new WeakMap,tr=new WeakMap,Ys=new WeakMap,wl=new WeakMap,Sl=new WeakMap,Ul=new WeakMap,Fl=new WeakMap,Il=new WeakMap,Rl=new WeakMap,kl=new WeakMap,Ml=new WeakMap,Nl=new WeakMap,Pl=new WeakMap,Ll=new WeakMap,Bl=new WeakMap,Ol=new WeakMap,zr=new WeakMap,Di=new WeakMap,nr=new WeakMap,Wl=new WeakMap,Ae=new WeakSet,Od=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},S_=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=N(this,Ae,Od).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(g(this,xi)||M(this,xi,new BR(this)),g(this,xi).show(n,i,this.direction==="ltr"))},U_=function(){var r,a,o;const e=document.getSelection();if(!e||e.isCollapsed){g(this,tr)&&((r=g(this,xi))==null||r.hide(),M(this,tr,null),N(this,Ae,nn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===g(this,tr))return;if(!N(this,Ae,Od).call(this,e).closest(".textLayer")){g(this,tr)&&((a=g(this,xi))==null||a.hide(),M(this,tr,null),N(this,Ae,nn).call(this,{hasSelectedText:!1}));return}if((o=g(this,xi))==null||o.hide(),M(this,tr,t),N(this,Ae,nn).call(this,{hasSelectedText:!0}),!(g(this,qt)!==je.HIGHLIGHT&&g(this,qt)!==je.NONE)&&(g(this,qt)===je.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),M(this,qr,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=this._signal,l=u=>{u.type==="pointerup"&&u.button!==0||(window.removeEventListener("pointerup",l),window.removeEventListener("blur",l),u.type==="pointerup"&&N(this,Ae,Wd).call(this,"main_toolbar"))};window.addEventListener("pointerup",l,{signal:c}),window.addEventListener("blur",l,{signal:c})}},Wd=function(e=""){g(this,qt)===je.HIGHLIGHT?this.highlightSelection(e):g(this,Tl)&&N(this,Ae,S_).call(this)},F_=function(){document.addEventListener("selectionchange",N(this,Ae,U_).bind(this),{signal:this._signal})},I_=function(){const e=this._signal;window.addEventListener("focus",g(this,Ul),{signal:e}),window.addEventListener("blur",g(this,Sl),{signal:e})},R_=function(){window.removeEventListener("focus",g(this,Ul)),window.removeEventListener("blur",g(this,Sl))},Jg=function(){const e=this._signal;window.addEventListener("keydown",g(this,kl),{signal:e}),window.addEventListener("keyup",g(this,Ml),{signal:e})},k_=function(){window.removeEventListener("keydown",g(this,kl)),window.removeEventListener("keyup",g(this,Ml))},Qg=function(){const e=this._signal;document.addEventListener("copy",g(this,Fl),{signal:e}),document.addEventListener("cut",g(this,Il),{signal:e}),document.addEventListener("paste",g(this,Rl),{signal:e})},jg=function(){document.removeEventListener("copy",g(this,Fl)),document.removeEventListener("cut",g(this,Il)),document.removeEventListener("paste",g(this,Rl))},M_=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},nn=function(e){Object.entries(e).some(([n,i])=>g(this,Ol)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(g(this,Ol),e)}),g(this,qt)===je.HIGHLIGHT&&e.hasSelectedEditor===!1&&N(this,Ae,Nr).call(this,[[We.HIGHLIGHT_FREE,!0]]))},Nr=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},N_=function(){if(!g(this,Vr)){M(this,Vr,!0);for(const e of g(this,Wt).values())e.enable();for(const e of g(this,Ft).values())e.enable()}},P_=function(){if(this.unselectAll(),g(this,Vr)){M(this,Vr,!1);for(const e of g(this,Wt).values())e.disable();for(const e of g(this,Ft).values())e.disable()}},em=function(e){const t=g(this,Wt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},L_=function(){let e=null;for(e of g(this,at));return e},Yc=function(){if(g(this,Ft).size===0)return!0;if(g(this,Ft).size===1)for(const e of g(this,Ft).values())return e.isEmpty();return!1},tm=function(e){for(const t of g(this,at))t.unselect();g(this,at).clear();for(const t of e)t.isEmpty()||(g(this,at).add(t),t.select());N(this,Ae,nn).call(this,{hasSelectedEditor:this.hasSelection})},qe(lo,"TRANSLATE_SMALL",1),qe(lo,"TRANSLATE_BIG",10);let Ba=lo;var ir,rr,ni,sr,Sn,xo,ii,ql,nm;const Ki=class Ki{constructor(e){B(this,ql);B(this,ir,"");B(this,rr,!1);B(this,ni,null);B(this,sr,null);B(this,Sn,null);B(this,xo,!1);B(this,ii,null);M(this,ii,e)}static initialize(e){Ki._l10nPromise||(Ki._l10nPromise=e)}async render(){const e=M(this,ni,document.createElement("button"));e.className="altText";const t=await Ki._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0";const n=g(this,ii)._uiManager._signal;e.addEventListener("contextmenu",bn,{signal:n}),e.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:n});const i=r=>{r.preventDefault(),g(this,ii)._uiManager.editAltText(g(this,ii))};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",r=>{r.target===e&&r.key==="Enter"&&(M(this,xo,!0),i(r))},{signal:n}),await N(this,ql,nm).call(this),e}finish(){g(this,ni)&&(g(this,ni).focus({focusVisible:g(this,xo)}),M(this,xo,!1))}isEmpty(){return!g(this,ir)&&!g(this,rr)}get data(){return{altText:g(this,ir),decorative:g(this,rr)}}set data({altText:e,decorative:t}){g(this,ir)===e&&g(this,rr)===t||(M(this,ir,e),M(this,rr,t),N(this,ql,nm).call(this))}toggle(e=!1){g(this,ni)&&(!e&&g(this,Sn)&&(clearTimeout(g(this,Sn)),M(this,Sn,null)),g(this,ni).disabled=!e)}destroy(){var e;(e=g(this,ni))==null||e.remove(),M(this,ni,null),M(this,sr,null)}};ir=new WeakMap,rr=new WeakMap,ni=new WeakMap,sr=new WeakMap,Sn=new WeakMap,xo=new WeakMap,ii=new WeakMap,ql=new WeakSet,nm=async function(){var i;const e=g(this,ni);if(!e)return;if(!g(this,ir)&&!g(this,rr)){e.classList.remove("done"),(i=g(this,sr))==null||i.remove();return}e.classList.add("done"),Ki._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(r=>{e.setAttribute("aria-label",r)});let t=g(this,sr);if(!t){M(this,sr,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const r=t.id=`alt-text-tooltip-${g(this,ii).id}`;e.setAttribute("aria-describedby",r);const a=100,o=g(this,ii)._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(g(this,Sn)),M(this,Sn,null)},{once:!0}),e.addEventListener("mouseenter",()=>{M(this,Sn,setTimeout(()=>{M(this,Sn,null),g(this,sr).classList.add("show"),g(this,ii)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:o}),e.addEventListener("mouseleave",()=>{var c;g(this,Sn)&&(clearTimeout(g(this,Sn)),M(this,Sn,null)),(c=g(this,sr))==null||c.classList.remove("show")},{signal:o})}t.innerText=g(this,rr)?await Ki._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):g(this,ir),t.parentNode||e.append(t);const n=g(this,ii).getImageForAltText();n==null||n.setAttribute("aria-describedby",t.id)},qe(Ki,"_l10nPromise",null);let Wh=Ki;var Ks,ri,Jt,Do,Zs,Vt,Js,To,Ao,Qt,Vl,Qs,Hr,zl,js,ar,Ti,Co,Eo,Vn,Hl,sf,Ye,im,Gl,rm,sm,B_,O_,am,om,cm,W_,q_,V_,z_,lm,Kc;const dt=class dt{constructor(e){B(this,Ye);B(this,Ks,null);B(this,ri,null);B(this,Jt,null);B(this,Do,!1);B(this,Zs,!1);B(this,Vt,null);B(this,Js,null);B(this,To,this.focusin.bind(this));B(this,Ao,this.focusout.bind(this));B(this,Qt,null);B(this,Vl,"");B(this,Qs,!1);B(this,Hr,null);B(this,zl,!1);B(this,js,!1);B(this,ar,!1);B(this,Ti,null);B(this,Co,0);B(this,Eo,0);B(this,Vn,null);qe(this,"_initialOptions",Object.create(null));qe(this,"_isVisible",!0);qe(this,"_uiManager",null);qe(this,"_focusEventsAllowed",!0);qe(this,"_l10nPromise",null);B(this,Hl,!1);B(this,sf,dt._zIndex++);this.constructor===dt&&lt("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[r,a];const[o,c]=this.parentDimensions;this.x=e.x/o,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=dt.prototype._resizeWithKeyboard,t=Ba.TRANSLATE_SMALL,n=Ba.TRANSLATE_BIG;return et(this,"_resizerKeyboardManager",new Qu([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],dt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return et(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new VR({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,n){if(dt._l10nPromise||(dt._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(r=>[r,e.get(r.replaceAll(/([A-Z])/g,a=>`-${a.toLowerCase()}`))]))),n!=null&&n.strings)for(const r of n.strings)dt._l10nPromise.set(r,e.get(r));if(dt._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);dt._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){lt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return g(this,Hl)}set _isDraggable(e){var t;M(this,Hl,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=g(this,sf)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):N(this,Ye,Kc).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(g(this,Qs)?M(this,Qs,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[r,a]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/r,this.y=(t+i)/a,this.fixAndSetPosition()}translate(e,t){N(this,Ye,im).call(this,this.parentDimensions,e,t)}translateInPage(e,t){g(this,Hr)||M(this,Hr,[this.x,this.y]),N(this,Ye,im).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){g(this,Hr)||M(this,Hr,[this.x,this.y]);const[n,i]=this.parentDimensions;if(this.x+=e/n,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:l,y:u}=this.div.getBoundingClientRect();this.parent.findNewParent(this,l,u)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:a}=this;const[o,c]=this.getBaseTranslation();r+=o,a+=c,this.div.style.left=`${(100*r).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!g(this,Hr)&&(g(this,Hr)[0]!==this.x||g(this,Hr)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=dt,i=n/e,r=n/t;switch(this.rotation){case 90:return[-i,r];case 180:return[i,r];case 270:return[i,-r];default:return[-i,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,n]=this.pageDimensions;let{x:i,y:r,width:a,height:o}=this;if(a*=t,o*=n,i*=t,r*=n,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-a,i)),r=Math.max(0,Math.min(n-o,r));break;case 90:i=Math.max(0,Math.min(t-o,i)),r=Math.min(n,Math.max(a,r));break;case 180:i=Math.min(t,Math.max(a,i)),r=Math.min(n,Math.max(o,r));break;case 270:i=Math.min(t,Math.max(o,i)),r=Math.max(0,Math.min(n-a,r));break}this.x=i/=t,this.y=r/=n;const[c,l]=this.getBaseTranslation();i+=c,r+=l;const{style:u}=this.div;u.left=`${(100*i).toFixed(2)}%`,u.top=`${(100*r).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return N(n=dt,Gl,rm).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return N(n=dt,Gl,rm).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this,i=t*e,r=n*e;return yn.isCSSRoundSupported?[Math.round(i),Math.round(r)]:[i,r]}setDims(e,t){const[n,i]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,g(this,Zs)||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,i=n.endsWith("%"),r=!g(this,Zs)&&t.endsWith("%");if(i&&r)return;const[a,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(n)/a).toFixed(2)}%`),!g(this,Zs)&&!r&&(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=g(this,Jt))==null||e.finish()}async addEditToolbar(){return g(this,Qt)||g(this,js)?g(this,Qt):(M(this,Qt,new $g(this)),this.div.append(g(this,Qt).render()),g(this,Jt)&&g(this,Qt).addAltTextButton(await g(this,Jt).render()),g(this,Qt))}removeEditToolbar(){var e;g(this,Qt)&&(g(this,Qt).remove(),M(this,Qt,null),(e=g(this,Jt))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){g(this,Jt)||(Wh.initialize(dt._l10nPromise),M(this,Jt,new Wh(this)),g(this,Ks)&&(g(this,Jt).data=g(this,Ks),M(this,Ks,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=g(this,Jt))==null?void 0:e.data}set altTextData(e){g(this,Jt)&&(g(this,Jt).data=e)}hasAltText(){var e;return!((e=g(this,Jt))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=g(this,Do)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",g(this,To),{signal:e}),this.div.addEventListener("focusout",g(this,Ao),{signal:e});const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[i,r]=this.getInitialTranslation();return this.translate(i,r),Oh(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=yn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(M(this,Qs,!0),this._isDraggable){N(this,Ye,W_).call(this,e);return}N(this,Ye,cm).call(this,e)}moveInDOM(){g(this,Ti)&&clearTimeout(g(this,Ti)),M(this,Ti,setTimeout(()=>{var e;M(this,Ti,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t,n=this.rotation){const i=this.parentScale,[r,a]=this.pageDimensions,[o,c]=this.pageTranslation,l=e/i,u=t/i,d=this.x*r,h=this.y*a,p=this.width*r,y=this.height*a;switch(n){case 0:return[d+l+o,a-h-u-y+c,d+l+p+o,a-h-u+c];case 90:return[d+u+o,a-h+l+c,d+u+y+o,a-h+l+p+c];case 180:return[d-l-p+o,a-h+u+c,d-l+o,a-h+u+y+c];case 270:return[d-u-y+o,a-h-l-p+c,d-u+o,a-h-l+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,r,a]=e,o=r-n,c=a-i;switch(this.rotation){case 0:return[n,t-a,o,c];case 90:return[n,t-i,c,o];case 180:return[r,t-i,o,c];case 270:return[r,t-a,c,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){M(this,js,!0)}disableEditMode(){M(this,js,!1)}isInEditMode(){return g(this,js)}shouldGetKeyboardEvents(){return g(this,ar)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t,n;const e=this._uiManager._signal;(t=this.div)==null||t.addEventListener("focusin",g(this,To),{signal:e}),(n=this.div)==null||n.addEventListener("focusout",g(this,Ao),{signal:e})}rotate(e){}serialize(e=!1,t=null){lt("An editor must be serializable")}static deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});i.rotation=e.rotation,M(i,Ks,e.accessibilityData);const[r,a]=i.pageDimensions,[o,c,l,u]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/r,i.y=c/a,i.width=l/r,i.height=u/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",g(this,To)),this.div.removeEventListener("focusout",g(this,Ao)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),g(this,Ti)&&(clearTimeout(g(this,Ti)),M(this,Ti,null)),N(this,Ye,Kc).call(this),this.removeEditToolbar(),g(this,Vn)){for(const e of g(this,Vn).values())clearTimeout(e);M(this,Vn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(N(this,Ye,B_).call(this),g(this,Vt).classList.remove("hidden"),Oh(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),M(this,Js,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=g(this,Vt).children;if(!g(this,ri)){M(this,ri,Array.from(t));const a=N(this,Ye,q_).bind(this),o=N(this,Ye,V_).bind(this),c=this._uiManager._signal;for(const l of g(this,ri)){const u=l.getAttribute("data-resizer-name");l.setAttribute("role","spinbutton"),l.addEventListener("keydown",a,{signal:c}),l.addEventListener("blur",o,{signal:c}),l.addEventListener("focus",N(this,Ye,z_).bind(this,u),{signal:c}),dt._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(d=>l.setAttribute("aria-label",d))}}const n=g(this,ri)[0];let i=0;for(const a of t){if(a===n)break;i++}const r=(360-this.rotation+this.parentRotation)%360/90*(g(this,ri).length/4);if(r!==i){if(r<i)for(let o=0;o<i-r;o++)g(this,Vt).append(g(this,Vt).firstChild);else if(r>i)for(let o=0;o<r-i;o++)g(this,Vt).firstChild.before(g(this,Vt).lastChild);let a=0;for(const o of t){const l=g(this,ri)[a++].getAttribute("data-resizer-name");dt._l10nPromise.get(`pdfjs-editor-resizer-label-${l}`).then(u=>o.setAttribute("aria-label",u))}}N(this,Ye,lm).call(this,0),M(this,ar,!0),g(this,Vt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){g(this,ar)&&N(this,Ye,om).call(this,g(this,Vl),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){N(this,Ye,Kc).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!g(this,Qt)){this.addEditToolbar().then(()=>{var n,i;(n=this.div)!=null&&n.classList.contains("selectedEditor")&&((i=g(this,Qt))==null||i.show())});return}(t=g(this,Qt))==null||t.show()}unselect(){var e,t,n,i;(e=g(this,Vt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=g(this,Qt))==null||i.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return g(this,zl)}set isEditing(e){M(this,zl,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){M(this,Zs,!0);const n=e/t,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){g(this,Vn)||M(this,Vn,new Map);const{action:n}=e;let i=g(this,Vn).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),g(this,Vn).delete(n),g(this,Vn).size===0&&M(this,Vn,null)},dt._telemetryTimeout),g(this,Vn).set(n,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),M(this,Do,!1)}disable(){this.div&&(this.div.tabIndex=-1),M(this,Do,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Ks=new WeakMap,ri=new WeakMap,Jt=new WeakMap,Do=new WeakMap,Zs=new WeakMap,Vt=new WeakMap,Js=new WeakMap,To=new WeakMap,Ao=new WeakMap,Qt=new WeakMap,Vl=new WeakMap,Qs=new WeakMap,Hr=new WeakMap,zl=new WeakMap,js=new WeakMap,ar=new WeakMap,Ti=new WeakMap,Co=new WeakMap,Eo=new WeakMap,Vn=new WeakMap,Hl=new WeakMap,sf=new WeakMap,Ye=new WeakSet,im=function([e,t],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/t,this.fixAndSetPosition()},Gl=new WeakSet,rm=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},sm=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},B_=function(){if(g(this,Vt))return;M(this,Vt,document.createElement("div")),g(this,Vt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const i=document.createElement("div");g(this,Vt).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",N(this,Ye,O_).bind(this,n),{signal:t}),i.addEventListener("contextmenu",bn,{signal:t}),i.tabIndex=-1}this.div.prepend(g(this,Vt))},O_=function(e,t){var v;t.preventDefault();const{isMac:n}=yn.platform;if(t.button!==0||t.ctrlKey&&n)return;(v=g(this,Jt))==null||v.toggle(!1);const i=N(this,Ye,om).bind(this,e),r=this._isDraggable;this._isDraggable=!1;const a=this._uiManager._signal,o={passive:!0,capture:!0,signal:a};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,o),window.addEventListener("contextmenu",bn,{signal:a});const c=this.x,l=this.y,u=this.width,d=this.height,h=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const y=()=>{var b;this.parent.togglePointerEvents(!0),(b=g(this,Jt))==null||b.toggle(!0),this._isDraggable=r,window.removeEventListener("pointerup",y),window.removeEventListener("blur",y),window.removeEventListener("pointermove",i,o),window.removeEventListener("contextmenu",bn),this.parent.div.style.cursor=h,this.div.style.cursor=p,N(this,Ye,am).call(this,c,l,u,d)};window.addEventListener("pointerup",y,{signal:a}),window.addEventListener("blur",y,{signal:a})},am=function(e,t,n,i){const r=this.x,a=this.y,o=this.width,c=this.height;r===e&&a===t&&o===n&&c===i||this.addCommands({cmd:()=>{this.width=o,this.height=c,this.x=r,this.y=a;const[l,u]=this.parentDimensions;this.setDims(l*o,u*c),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=i,this.x=e,this.y=t;const[l,u]=this.parentDimensions;this.setDims(l*n,u*i),this.fixAndSetPosition()},mustExec:!0})},om=function(e,t){const[n,i]=this.parentDimensions,r=this.x,a=this.y,o=this.width,c=this.height,l=dt.MIN_SIZE/n,u=dt.MIN_SIZE/i,d=P=>Math.round(P*1e4)/1e4,h=N(this,Ye,sm).call(this,this.rotation),p=(P,Z)=>[h[0]*P+h[2]*Z,h[1]*P+h[3]*Z],y=N(this,Ye,sm).call(this,360-this.rotation),v=(P,Z)=>[y[0]*P+y[2]*Z,y[1]*P+y[3]*Z];let b,_,x=!1,D=!1;switch(e){case"topLeft":x=!0,b=(P,Z)=>[0,0],_=(P,Z)=>[P,Z];break;case"topMiddle":b=(P,Z)=>[P/2,0],_=(P,Z)=>[P/2,Z];break;case"topRight":x=!0,b=(P,Z)=>[P,0],_=(P,Z)=>[0,Z];break;case"middleRight":D=!0,b=(P,Z)=>[P,Z/2],_=(P,Z)=>[0,Z/2];break;case"bottomRight":x=!0,b=(P,Z)=>[P,Z],_=(P,Z)=>[0,0];break;case"bottomMiddle":b=(P,Z)=>[P/2,Z],_=(P,Z)=>[P/2,0];break;case"bottomLeft":x=!0,b=(P,Z)=>[0,Z],_=(P,Z)=>[P,0];break;case"middleLeft":D=!0,b=(P,Z)=>[0,Z/2],_=(P,Z)=>[P,Z/2];break}const A=b(o,c),T=_(o,c);let E=p(...T);const F=d(r+E[0]),I=d(a+E[1]);let U=1,L=1,[G,S]=this.screenToPageTranslation(t.movementX,t.movementY);if([G,S]=v(G/n,S/i),x){const P=Math.hypot(o,c);U=L=Math.max(Math.min(Math.hypot(T[0]-A[0]-G,T[1]-A[1]-S)/P,1/o,1/c),l/o,u/c)}else D?U=Math.max(l,Math.min(1,Math.abs(T[0]-A[0]-G)))/o:L=Math.max(u,Math.min(1,Math.abs(T[1]-A[1]-S)))/c;const k=d(o*U),w=d(c*L);E=p(..._(k,w));const X=F-E[0],W=I-E[1];this.width=k,this.height=w,this.x=X,this.y=W,this.setDims(n*k,i*w),this.fixAndSetPosition()},cm=function(e){const{isMac:t}=yn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},W_=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let n,i;const r=this._uiManager._signal;t&&(this.div.classList.add("moving"),n={passive:!0,capture:!0,signal:r},M(this,Co,e.clientX),M(this,Eo,e.clientY),i=o=>{const{clientX:c,clientY:l}=o,[u,d]=this.screenToPageTranslation(c-g(this,Co),l-g(this,Eo));M(this,Co,c),M(this,Eo,l),this._uiManager.dragSelectedEditors(u,d)},window.addEventListener("pointermove",i,n));const a=()=>{window.removeEventListener("pointerup",a),window.removeEventListener("blur",a),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,n)),M(this,Qs,!1),this._uiManager.endDragSession()||N(this,Ye,cm).call(this,e)};window.addEventListener("pointerup",a,{signal:r}),window.addEventListener("blur",a,{signal:r})},q_=function(e){dt._resizerKeyboardManager.exec(this,e)},V_=function(e){var t;g(this,ar)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==g(this,Vt)&&N(this,Ye,Kc).call(this)},z_=function(e){M(this,Vl,g(this,ar)?e:"")},lm=function(e){if(g(this,ri))for(const t of g(this,ri))t.tabIndex=e},Kc=function(){if(M(this,ar,!1),N(this,Ye,lm).call(this,-1),g(this,Js)){const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=g(this,Js);N(this,Ye,am).call(this,e,t,n,i),M(this,Js,null)}},B(dt,Gl),qe(dt,"_borderLineWidth",-1),qe(dt,"_colorManager",new Zg),qe(dt,"_zIndex",1),qe(dt,"_telemetryTimeout",1e3);let ot=dt;class VR extends ot{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const jb=3285377520,Bn=4294901760,mi=65535;class H_{constructor(e){this.h1=e?e&4294967295:jb,this.h2=e?e&4294967295:jb}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let v=0,b=e.length;v<b;v++){const _=e.charCodeAt(v);_<=255?t[n++]=_:(t[n++]=_>>>8,t[n++]=_&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,r=n-i*4,a=new Uint32Array(t.buffer,0,i);let o=0,c=0,l=this.h1,u=this.h2;const d=3432918353,h=461845907,p=d&mi,y=h&mi;for(let v=0;v<i;v++)v&1?(o=a[v],o=o*d&Bn|o*p&mi,o=o<<15|o>>>17,o=o*h&Bn|o*y&mi,l^=o,l=l<<13|l>>>19,l=l*5+3864292196):(c=a[v],c=c*d&Bn|c*p&mi,c=c<<15|c>>>17,c=c*h&Bn|c*y&mi,u^=c,u=u<<13|u>>>19,u=u*5+3864292196);switch(o=0,r){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*d&Bn|o*p&mi,o=o<<15|o>>>17,o=o*h&Bn|o*y&mi,i&1?l^=o:u^=o}this.h1=l,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Bn|e*36045&mi,t=t*4283543511&Bn|((t<<16|e>>>16)*2950163797&Bn)>>>16,e^=t>>>1,e=e*444984403&Bn|e*60499&mi,t=t*3301882366&Bn|((t<<16|e>>>16)*3120437893&Bn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const um=Object.freeze({map:null,hash:"",transfer:void 0});var ea,zt,af,G_;class gy{constructor(){B(this,af);B(this,ea,!1);B(this,zt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=g(this,zt).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return g(this,zt).get(e)}remove(e){if(g(this,zt).delete(e),g(this,zt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of g(this,zt).values())if(t instanceof ot)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=g(this,zt).get(e);let i=!1;if(n!==void 0)for(const[r,a]of Object.entries(t))n[r]!==a&&(i=!0,n[r]=a);else i=!0,g(this,zt).set(e,t);i&&N(this,af,G_).call(this),t instanceof ot&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return g(this,zt).has(e)}getAll(){return g(this,zt).size>0?cy(g(this,zt)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return g(this,zt).size}resetModified(){g(this,ea)&&(M(this,ea,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new $_(this)}get serializable(){if(g(this,zt).size===0)return um;const e=new Map,t=new H_,n=[],i=Object.create(null);let r=!1;for(const[a,o]of g(this,zt)){const c=o instanceof ot?o.serialize(!1,i):o;c&&(e.set(a,c),t.update(`${a}:${JSON.stringify(c)}`),r||(r=!!c.bitmap))}if(r)for(const a of e.values())a.bitmap&&n.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:um}get editorStats(){let e=null;const t=new Map;for(const n of g(this,zt).values()){if(!(n instanceof ot))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:r}=i;t.has(r)||t.set(r,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const a=e[r]||(e[r]=new Map);for(const[o,c]of Object.entries(i)){if(o==="type")continue;let l=a.get(o);l||(l=new Map,a.set(o,l));const u=l.get(c)??0;l.set(c,u+1)}}for(const[n,i]of t)e[n]=i.computeTelemetryFinalData(e[n]);return e}}ea=new WeakMap,zt=new WeakMap,af=new WeakSet,G_=function(){g(this,ea)||(M(this,ea,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var $l;class $_ extends gy{constructor(t){super();B(this,$l);const{map:n,hash:i,transfer:r}=t.serializable,a=structuredClone(n,r?{transfer:r}:null);M(this,$l,{map:a,hash:i,transfer:r})}get print(){lt("Should not call PrintAnnotationStorage.print")}get serializable(){return g(this,$l)}}$l=new WeakMap;var wo;class zR{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){B(this,wo,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),g(this,wo).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||g(this,wo).has(e.loadedName))){if(Mt(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:i,style:r}=e,a=new FontFace(n,i,r);this.addNativeFontFace(a);try{await a.load(),g(this,wo).add(n),t==null||t(e)}catch{Xe(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}lt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw Xe(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return et(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(jt||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),et(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Mt(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const r=n.shift();setTimeout(r.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:t,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return et(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(A,T){return A.charCodeAt(T)<<24|A.charCodeAt(T+1)<<16|A.charCodeAt(T+2)<<8|A.charCodeAt(T+3)&255}function i(A,T,E,F){const I=A.substring(0,T),U=A.substring(T+E);return I+F+U}let r,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const c=o.getContext("2d");let l=0;function u(A,T){if(++l>30){Xe("Load test font never loaded."),T();return}if(c.font="30px "+A,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(u.bind(null,A,T))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=i(h,976,d.length,d);const y=16,v=1482184792;let b=n(h,y);for(r=0,a=d.length-3;r<a;r+=4)b=b-v+n(d,r)|0;r<d.length&&(b=b-v+n(d+"XXX",r)|0),h=i(h,y,4,ER(b));const _=`url(data:font/opentype;base64,${btoa(h)});`,x=`@font-face {font-family:"${d}";src:${_}}`;this.insertRule(x);const D=this._document.createElement("div");D.style.visibility="hidden",D.style.width=D.style.height="10px",D.style.position="absolute",D.style.top=D.style.left="0px";for(const A of[e.loadedName,d]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=A,D.append(T)}this._document.body.append(D),u(d,()=>{D.remove(),t.complete()})}}wo=new WeakMap;class HR{constructor(e,{disableFontFace:t=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=n}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=f_(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),n}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(r){Xe(`getPathGenerator - ignoring character: "${r}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[t]=function(r,a){};const i=[];for(let r=0,a=n.length;r<a;)switch(n[r++]){case zi.BEZIER_CURVE_TO:{const[o,c,l,u,d,h]=n.slice(r,r+6);i.push(p=>p.bezierCurveTo(o,c,l,u,d,h)),r+=6}break;case zi.MOVE_TO:{const[o,c]=n.slice(r,r+2);i.push(l=>l.moveTo(o,c)),r+=2}break;case zi.LINE_TO:{const[o,c]=n.slice(r,r+2);i.push(l=>l.lineTo(o,c)),r+=2}break;case zi.QUADRATIC_CURVE_TO:{const[o,c,l,u]=n.slice(r,r+4);i.push(d=>d.quadraticCurveTo(o,c,l,u)),r+=4}break;case zi.RESTORE:i.push(o=>o.restore());break;case zi.SAVE:i.push(o=>o.save());break;case zi.SCALE:Mt(i.length===2,"Scale command is only valid at the third position.");break;case zi.TRANSFORM:{const[o,c,l,u,d,h]=n.slice(r,r+6);i.push(p=>p.transform(o,c,l,u,d,h)),r+=6}break;case zi.TRANSLATE:{const[o,c]=n.slice(r,r+2);i.push(l=>l.translate(o,c)),r+=2}break}return this.compiledGlyphs[t]=function(a,o){i[0](a),i[1](a),a.scale(o,-o);for(let c=2,l=i.length;c<l;c++)i[c](a)}}}if(jt){var dm=Promise.withResolvers(),cl=null;(async()=>{const e=await ad(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await ad(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await ad(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await ad(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let r,a;return new Map(Object.entries({fs:e,http:t,https:n,url:i,canvas:r,path2d:a}))})().then(e=>{cl=e,dm.resolve()},e=>{Xe(`loadPackages: ${e}`),cl=new Map,dm.resolve()})}class Wi{static get promise(){return dm.promise}static get(e){return cl==null?void 0:cl.get(e)}}const X_=function(s){return Wi.get("fs").promises.readFile(s).then(t=>new Uint8Array(t))};class GR extends Cf{}class $R extends Bh{_createCanvas(e,t){return Wi.get("canvas").createCanvas(e,t)}}class XR extends Ef{_fetchData(e,t){return X_(e).then(n=>({cMapData:n,compressionType:t}))}}class YR extends wf{_fetchData(e){return X_(e)}}const an={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function hm(s,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,n),s.clip(i)}class ju{constructor(){this.constructor===ju&&lt("Cannot initialize BaseShadingPattern.")}getPattern(){lt("Abstract method `getPattern` called.")}}class KR extends ju{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,i){let r;if(i===an.STROKE||i===an.FILL){const a=t.current.getClippedPathBoundingBox(i,vt(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,c=Math.ceil(a[3]-a[1])||1,l=t.cachedCanvases.getCanvas("pattern",o,c,!0),u=l.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-a[0],-a[1]),n=Re.transform(n,[1,0,0,1,a[0],a[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),hm(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),r=e.createPattern(l.canvas,"no-repeat");const d=new DOMMatrix(n);r.setTransform(d)}else hm(e,this._bbox),r=this._createGradient(e);return r}}function up(s,e,t,n,i,r,a,o){const c=e.coords,l=e.colors,u=s.data,d=s.width*4;let h;c[t+1]>c[n+1]&&(h=t,t=n,n=h,h=r,r=a,a=h),c[n+1]>c[i+1]&&(h=n,n=i,i=h,h=a,a=o,o=h),c[t+1]>c[n+1]&&(h=t,t=n,n=h,h=r,r=a,a=h);const p=(c[t]+e.offsetX)*e.scaleX,y=(c[t+1]+e.offsetY)*e.scaleY,v=(c[n]+e.offsetX)*e.scaleX,b=(c[n+1]+e.offsetY)*e.scaleY,_=(c[i]+e.offsetX)*e.scaleX,x=(c[i+1]+e.offsetY)*e.scaleY;if(y>=x)return;const D=l[r],A=l[r+1],T=l[r+2],E=l[a],F=l[a+1],I=l[a+2],U=l[o],L=l[o+1],G=l[o+2],S=Math.round(y),k=Math.round(x);let w,X,W,P,Z,K,oe,H;for(let Y=S;Y<=k;Y++){if(Y<b){const me=Y<y?0:(y-Y)/(y-b);w=p-(p-v)*me,X=D-(D-E)*me,W=A-(A-F)*me,P=T-(T-I)*me}else{let me;Y>x?me=1:b===x?me=0:me=(b-Y)/(b-x),w=v-(v-_)*me,X=E-(E-U)*me,W=F-(F-L)*me,P=I-(I-G)*me}let Q;Y<y?Q=0:Y>x?Q=1:Q=(y-Y)/(y-x),Z=p-(p-_)*Q,K=D-(D-U)*Q,oe=A-(A-L)*Q,H=T-(T-G)*Q;const ce=Math.round(Math.min(w,Z)),le=Math.round(Math.max(w,Z));let ve=d*Y+ce*4;for(let me=ce;me<=le;me++)Q=(w-me)/(w-Z),Q<0?Q=0:Q>1&&(Q=1),u[ve++]=X-(X-K)*Q|0,u[ve++]=W-(W-oe)*Q|0,u[ve++]=P-(P-H)*Q|0,u[ve++]=255}}function ZR(s,e,t){const n=e.coords,i=e.colors;let r,a;switch(e.type){case"lattice":const o=e.verticesPerRow,c=Math.floor(n.length/o)-1,l=o-1;for(r=0;r<c;r++){let u=r*o;for(let d=0;d<l;d++,u++)up(s,t,n[u],n[u+1],n[u+o],i[u],i[u+1],i[u+o]),up(s,t,n[u+o+1],n[u+1],n[u+o],i[u+o+1],i[u+1],i[u+o])}break;case"triangles":for(r=0,a=n.length;r<a;r+=3)up(s,t,n[r],n[r+1],n[r+2],i[r],i[r+1],i[r+2]);break;default:throw new Error("illegal figure")}}class JR extends ju{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const o=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),l=Math.ceil(this._bounds[2])-o,u=Math.ceil(this._bounds[3])-c,d=Math.min(Math.ceil(Math.abs(l*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),p=l/d,y=u/h,v={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-c,scaleX:1/p,scaleY:1/y},b=d+2*2,_=h+2*2,x=n.getCanvas("mesh",b,_,!1),D=x.context,A=D.createImageData(d,h);if(t){const E=A.data;for(let F=0,I=E.length;F<I;F+=4)E[F]=t[0],E[F+1]=t[1],E[F+2]=t[2],E[F+3]=255}for(const E of this._figures)ZR(A,E,v);return D.putImageData(A,2,2),{canvas:x.canvas,offsetX:o-2*p,offsetY:c-2*y,scaleX:p,scaleY:y}}getPattern(e,t,n,i){hm(e,this._bbox);let r;if(i===an.SHADING)r=Re.singularValueDecompose2dScale(vt(e));else if(r=Re.singularValueDecompose2dScale(t.baseTransform),this.matrix){const o=Re.singularValueDecompose2dScale(this.matrix);r=[r[0]*o[0],r[1]*o[1]]}const a=this._createMeshCanvas(r,i===an.SHADING?null:this._background,t.cachedCanvases);return i!==an.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class QR extends ju{getPattern(){return"hotpink"}}function jR(s){switch(s[0]){case"RadialAxial":return new KR(s);case"Mesh":return new JR(s);case"Dummy":return new QR}throw new Error(`Unknown IR type: ${s[0]}`)}const e0={COLORED:1,UNCOLORED:2},of=class of{constructor(e,t,n,i,r){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(e){const t=this.operatorList,n=this.bbox,i=this.xstep,r=this.ystep,a=this.paintType,o=this.tilingType,c=this.color,l=this.canvasGraphicsFactory;Df("TilingType: "+o);const u=n[0],d=n[1],h=n[2],p=n[3],y=Re.singularValueDecompose2dScale(this.matrix),v=Re.singularValueDecompose2dScale(this.baseTransform),b=[y[0]*v[0],y[1]*v[1]],_=this.getSizeAndScale(i,this.ctx.canvas.width,b[0]),x=this.getSizeAndScale(r,this.ctx.canvas.height,b[1]),D=e.cachedCanvases.getCanvas("pattern",_.size,x.size,!0),A=D.context,T=l.createCanvasGraphics(A);T.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(T,a,c);let E=u,F=d,I=h,U=p;return u<0&&(E=0,I+=Math.abs(u)),d<0&&(F=0,U+=Math.abs(d)),A.translate(-(_.scale*E),-(x.scale*F)),T.transform(_.scale,0,0,x.scale,0,0),A.save(),this.clipBbox(T,E,F,I,U),T.baseTransform=vt(T.ctx),T.executeOperatorList(t),T.endDrawing(),{canvas:D.canvas,scaleX:_.scale,scaleY:x.scale,offsetX:E,offsetY:F}}getSizeAndScale(e,t,n){e=Math.abs(e);const i=Math.max(of.MAX_PATTERN_SIZE,t);let r=Math.ceil(e*n);return r>=i?r=i:n=r/e,{scale:n,size:r}}clipBbox(e,t,n,i,r){const a=i-t,o=r-n;e.ctx.rect(t,n,a,o),e.current.updateRectMinMax(vt(e.ctx),[t,n,i,r]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,r=e.current;switch(t){case e0.COLORED:const a=this.ctx;i.fillStyle=a.fillStyle,i.strokeStyle=a.strokeStyle,r.fillColor=a.fillStyle,r.strokeColor=a.strokeStyle;break;case e0.UNCOLORED:const o=Re.makeHexColor(n[0],n[1],n[2]);i.fillStyle=o,i.strokeStyle=o,r.fillColor=o,r.strokeColor=o;break;default:throw new CR(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,i){let r=n;i!==an.SHADING&&(r=Re.transform(r,t.baseTransform),this.matrix&&(r=Re.transform(r,this.matrix)));const a=this.createPatternCanvas(t);let o=new DOMMatrix(r);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const c=e.createPattern(a.canvas,"repeat");return c.setTransform(o),c}};qe(of,"MAX_PATTERN_SIZE",3e3);let fm=of;function ek({src:s,srcPos:e=0,dest:t,width:n,height:i,nonBlackColor:r=4294967295,inverseDecode:a=!1}){const o=yn.isLittleEndian?4278190080:255,[c,l]=a?[r,o]:[o,r],u=n>>3,d=n&7,h=s.length;t=new Uint32Array(t.buffer);let p=0;for(let y=0;y<i;y++){for(const b=e+u;e<b;e++){const _=e<h?s[e]:255;t[p++]=_&128?l:c,t[p++]=_&64?l:c,t[p++]=_&32?l:c,t[p++]=_&16?l:c,t[p++]=_&8?l:c,t[p++]=_&4?l:c,t[p++]=_&2?l:c,t[p++]=_&1?l:c}if(d===0)continue;const v=e<h?s[e++]:255;for(let b=0;b<d;b++)t[p++]=v&1<<7-b?l:c}return{srcPos:e,destPos:p}}const t0=16,n0=100,tk=15,i0=10,r0=1e3,gn=16;function nk(s,e){if(s._removeMirroring)throw new Error("Context is already forwarding operations.");s.__originalSave=s.save,s.__originalRestore=s.restore,s.__originalRotate=s.rotate,s.__originalScale=s.scale,s.__originalTranslate=s.translate,s.__originalTransform=s.transform,s.__originalSetTransform=s.setTransform,s.__originalResetTransform=s.resetTransform,s.__originalClip=s.clip,s.__originalMoveTo=s.moveTo,s.__originalLineTo=s.lineTo,s.__originalBezierCurveTo=s.bezierCurveTo,s.__originalRect=s.rect,s.__originalClosePath=s.closePath,s.__originalBeginPath=s.beginPath,s._removeMirroring=()=>{s.save=s.__originalSave,s.restore=s.__originalRestore,s.rotate=s.__originalRotate,s.scale=s.__originalScale,s.translate=s.__originalTranslate,s.transform=s.__originalTransform,s.setTransform=s.__originalSetTransform,s.resetTransform=s.__originalResetTransform,s.clip=s.__originalClip,s.moveTo=s.__originalMoveTo,s.lineTo=s.__originalLineTo,s.bezierCurveTo=s.__originalBezierCurveTo,s.rect=s.__originalRect,s.closePath=s.__originalClosePath,s.beginPath=s.__originalBeginPath,delete s._removeMirroring},s.save=function(){e.save(),this.__originalSave()},s.restore=function(){e.restore(),this.__originalRestore()},s.translate=function(n,i){e.translate(n,i),this.__originalTranslate(n,i)},s.scale=function(n,i){e.scale(n,i),this.__originalScale(n,i)},s.transform=function(n,i,r,a,o,c){e.transform(n,i,r,a,o,c),this.__originalTransform(n,i,r,a,o,c)},s.setTransform=function(n,i,r,a,o,c){e.setTransform(n,i,r,a,o,c),this.__originalSetTransform(n,i,r,a,o,c)},s.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},s.rotate=function(n){e.rotate(n),this.__originalRotate(n)},s.clip=function(n){e.clip(n),this.__originalClip(n)},s.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},s.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},s.bezierCurveTo=function(t,n,i,r,a,o){e.bezierCurveTo(t,n,i,r,a,o),this.__originalBezierCurveTo(t,n,i,r,a,o)},s.rect=function(t,n,i,r){e.rect(t,n,i,r),this.__originalRect(t,n,i,r)},s.closePath=function(){e.closePath(),this.__originalClosePath()},s.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class ik{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function fd(s,e,t,n,i,r,a,o,c,l){const[u,d,h,p,y,v]=vt(s);if(d===0&&h===0){const x=a*u+y,D=Math.round(x),A=o*p+v,T=Math.round(A),E=(a+c)*u+y,F=Math.abs(Math.round(E)-D)||1,I=(o+l)*p+v,U=Math.abs(Math.round(I)-T)||1;return s.setTransform(Math.sign(u),0,0,Math.sign(p),D,T),s.drawImage(e,t,n,i,r,0,0,F,U),s.setTransform(u,d,h,p,y,v),[F,U]}if(u===0&&p===0){const x=o*h+y,D=Math.round(x),A=a*d+v,T=Math.round(A),E=(o+l)*h+y,F=Math.abs(Math.round(E)-D)||1,I=(a+c)*d+v,U=Math.abs(Math.round(I)-T)||1;return s.setTransform(0,Math.sign(d),Math.sign(h),0,D,T),s.drawImage(e,t,n,i,r,0,0,U,F),s.setTransform(u,d,h,p,y,v),[U,F]}s.drawImage(e,t,n,i,r,a,o,c,l);const b=Math.hypot(u,d),_=Math.hypot(h,p);return[b*c,_*l]}function rk(s){const{width:e,height:t}=s;if(e>r0||t>r0)return null;const n=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=e+1;let a=new Uint8Array(r*(t+1)),o,c,l;const u=e+7&-8;let d=new Uint8Array(u*t),h=0;for(const _ of s.data){let x=128;for(;x>0;)d[h++]=_&x?0:255,x>>=1}let p=0;for(h=0,d[h]!==0&&(a[0]=1,++p),c=1;c<e;c++)d[h]!==d[h+1]&&(a[c]=d[h]?2:1,++p),h++;for(d[h]!==0&&(a[c]=2,++p),o=1;o<t;o++){h=o*u,l=o*r,d[h-u]!==d[h]&&(a[l]=d[h]?1:8,++p);let _=(d[h]?4:0)+(d[h-u]?8:0);for(c=1;c<e;c++)_=(_>>2)+(d[h+1]?4:0)+(d[h-u+1]?8:0),i[_]&&(a[l+c]=i[_],++p),h++;if(d[h-u]!==d[h]&&(a[l+c]=d[h]?2:4,++p),p>n)return null}for(h=u*(t-1),l=o*r,d[h]!==0&&(a[l]=8,++p),c=1;c<e;c++)d[h]!==d[h+1]&&(a[l+c]=d[h]?4:8,++p),h++;if(d[h]!==0&&(a[l+c]=4,++p),p>n)return null;const y=new Int32Array([0,r,-1,0,-r,0,0,0,1]),v=new Path2D;for(o=0;p&&o<=t;o++){let _=o*r;const x=_+e;for(;_<x&&!a[_];)_++;if(_===x)continue;v.moveTo(_%r,o);const D=_;let A=a[_];do{const T=y[A];do _+=T;while(!a[_]);const E=a[_];E!==5&&E!==10?(A=E,a[_]=0):(A=E&51*A>>4,a[_]&=A>>2|A<<2),v.lineTo(_%r,_/r|0),a[_]||--p}while(D!==_);--o}return d=null,a=null,function(_){_.save(),_.scale(1/e,-1/t),_.translate(0,-t),_.fill(v),_.beginPath(),_.restore()}}class s0{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=d_,this.textMatrixScale=1,this.fontMatrix=Og,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Yt.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=Re.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=Re.applyTransform(t,e),i=Re.applyTransform(t.slice(2),e),r=Re.applyTransform([t[0],t[3]],e),a=Re.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],i[0],r[0],a[0]),this.minY=Math.min(this.minY,n[1],i[1],r[1],a[1]),this.maxX=Math.max(this.maxX,n[0],i[0],r[0],a[0]),this.maxY=Math.max(this.maxY,n[1],i[1],r[1],a[1])}updateScalingPathMinMax(e,t){Re.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,i,r,a,o,c,l,u){const d=Re.bezierBoundingBox(t,n,i,r,a,o,c,l,u);u||this.updateRectMinMax(e,d)}getPathBoundingBox(e=an.FILL,t=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===an.STROKE){t||lt("Stroke bounding box must include transform.");const i=Re.singularValueDecompose2dScale(t),r=i[0]*this.lineWidth/2,a=i[1]*this.lineWidth/2;n[0]-=r,n[1]-=a,n[2]+=r,n[3]+=a}return n}updateClipFromPath(){const e=Re.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=an.FILL,t=null){return Re.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function a0(s,e){if(typeof ImageData<"u"&&e instanceof ImageData){s.putImageData(e,0,0);return}const t=e.height,n=e.width,i=t%gn,r=(t-i)/gn,a=i===0?r:r+1,o=s.createImageData(n,gn);let c=0,l;const u=e.data,d=o.data;let h,p,y,v;if(e.kind===Nd.GRAYSCALE_1BPP){const b=u.byteLength,_=new Uint32Array(d.buffer,0,d.byteLength>>2),x=_.length,D=n+7>>3,A=4294967295,T=yn.isLittleEndian?4278190080:255;for(h=0;h<a;h++){for(y=h<r?gn:i,l=0,p=0;p<y;p++){const E=b-c;let F=0;const I=E>D?n:E*8-7,U=I&-8;let L=0,G=0;for(;F<U;F+=8)G=u[c++],_[l++]=G&128?A:T,_[l++]=G&64?A:T,_[l++]=G&32?A:T,_[l++]=G&16?A:T,_[l++]=G&8?A:T,_[l++]=G&4?A:T,_[l++]=G&2?A:T,_[l++]=G&1?A:T;for(;F<I;F++)L===0&&(G=u[c++],L=128),_[l++]=G&L?A:T,L>>=1}for(;l<x;)_[l++]=0;s.putImageData(o,0,h*gn)}}else if(e.kind===Nd.RGBA_32BPP){for(p=0,v=n*gn*4,h=0;h<r;h++)d.set(u.subarray(c,c+v)),c+=v,s.putImageData(o,0,p),p+=gn;h<a&&(v=n*i*4,d.set(u.subarray(c,c+v)),s.putImageData(o,0,p))}else if(e.kind===Nd.RGB_24BPP)for(y=gn,v=n*y,h=0;h<a;h++){for(h>=r&&(y=i,v=n*y),l=0,p=v;p--;)d[l++]=u[c++],d[l++]=u[c++],d[l++]=u[c++],d[l++]=255;s.putImageData(o,0,h*gn)}else throw new Error(`bad image kind: ${e.kind}`)}function o0(s,e){if(e.bitmap){s.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,i=t%gn,r=(t-i)/gn,a=i===0?r:r+1,o=s.createImageData(n,gn);let c=0;const l=e.data,u=o.data;for(let d=0;d<a;d++){const h=d<r?gn:i;({srcPos:c}=ek({src:l,srcPos:c,dest:u,width:n,height:h,nonBlackColor:0})),s.putImageData(o,0,d*gn)}}function Ec(s,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)s[n]!==void 0&&(e[n]=s[n]);s.setLineDash!==void 0&&(e.setLineDash(s.getLineDash()),e.lineDashOffset=s.lineDashOffset)}function pd(s){if(s.strokeStyle=s.fillStyle="#000000",s.fillRule="nonzero",s.globalAlpha=1,s.lineWidth=1,s.lineCap="butt",s.lineJoin="miter",s.miterLimit=10,s.globalCompositeOperation="source-over",s.font="10px sans-serif",s.setLineDash!==void 0&&(s.setLineDash([]),s.lineDashOffset=0),!jt){const{filter:e}=s;e!=="none"&&e!==""&&(s.filter="none")}}function c0(s,e){if(e)return!0;const t=Re.singularValueDecompose2dScale(s);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*us.PDF_TO_CSS_UNITS);return t[0]<=n&&t[1]<=n}const sk=["butt","round","square"],ak=["miter","round","bevel"],ok={},l0={};var ps,pm,gm;const cv=class cv{constructor(e,t,n,i,r,{optionalContentConfig:a,markedContentStack:o=null},c,l){B(this,ps);this.ctx=e,this.current=new s0(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new ik(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=l,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:i=null}){const r=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,r,a),this.ctx.fillStyle=o,n){const c=this.cachedCanvases.getCanvas("transparent",r,a);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...vt(this.compositeCtx))}this.ctx.save(),pd(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=vt(this.ctx)}executeOperatorList(e,t,n,i){const r=e.argsArray,a=e.fnArray;let o=t||0;const c=r.length;if(c===o)return o;const l=c-o>i0&&typeof n=="function",u=l?Date.now()+tk:0;let d=0;const h=this.commonObjs,p=this.objs;let y;for(;;){if(i!==void 0&&o===i.nextBreakPoint)return i.breakIt(o,n),o;if(y=a[o],y!==jn.dependency)this[y].apply(this,r[o]);else for(const v of r[o]){const b=v.startsWith("g_")?h:p;if(!b.has(v))return b.get(v,n),o}if(o++,o===c)return o;if(l&&++d>i0){if(Date.now()>u)return n(),o;d=0}}}endDrawing(){N(this,ps,pm).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),N(this,ps,gm).call(this)}_scaleImage(e,t){const n=e.width,i=e.height;let r=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=n,c=i,l="prescale1",u,d;for(;r>2&&o>1||a>2&&c>1;){let h=o,p=c;r>2&&o>1&&(h=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),r/=o/h),a>2&&c>1&&(p=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,a/=c/p),u=this.cachedCanvases.getCanvas(l,h,p),d=u.context,d.clearRect(0,0,h,p),d.drawImage(e,0,0,o,c,0,0,h,p),e=u.canvas,o=h,c=p,l=l==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:i}=e,r=this.current.fillColor,a=this.current.patternFill,o=vt(t);let c,l,u,d;if((e.bitmap||e.data)&&e.count>1){const I=e.bitmap||e.data.buffer;l=JSON.stringify(a?o:[o.slice(0,4),r]),c=this._cachedBitmapsMap.get(I),c||(c=new Map,this._cachedBitmapsMap.set(I,c));const U=c.get(l);if(U&&!a){const L=Math.round(Math.min(o[0],o[2])+o[4]),G=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:U,offsetX:L,offsetY:G}}u=U}u||(d=this.cachedCanvases.getCanvas("maskCanvas",n,i),o0(d.context,e));let h=Re.transform(o,[1/n,0,0,-1/i,0,0]);h=Re.transform(h,[1,0,0,1,0,-i]);const[p,y,v,b]=Re.getAxialAlignedBoundingBox([0,0,n,i],h),_=Math.round(v-p)||1,x=Math.round(b-y)||1,D=this.cachedCanvases.getCanvas("fillCanvas",_,x),A=D.context,T=p,E=y;A.translate(-T,-E),A.transform(...h),u||(u=this._scaleImage(d.canvas,Hi(A)),u=u.img,c&&a&&c.set(l,u)),A.imageSmoothingEnabled=c0(vt(A),e.interpolate),fd(A,u,0,0,u.width,u.height,0,0,n,i),A.globalCompositeOperation="source-in";const F=Re.transform(Hi(A),[1,0,0,1,-T,-E]);return A.fillStyle=a?r.getPattern(t,this,F,an.FILL):r,A.fillRect(0,0,n,i),c&&!a&&(this.cachedCanvases.delete("fillCanvas"),c.set(l,D.canvas)),{canvas:D.canvas,offsetX:Math.round(T),offsetY:Math.round(E)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=sk[e]}setLineJoin(e){this.ctx.lineJoin=ak[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const r=this.ctx;r.setTransform(...vt(this.suspendedCtx)),Ec(this.suspendedCtx,r),nk(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ec(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const r=i[0],a=i[1],o=i[2]-r,c=i[3]-a;o===0||c===0||(this.genericComposeSMask(t.context,n,o,c,t.subtype,t.backdrop,t.transferMap,r,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,r,a,o,c,l,u,d){let h=e.canvas,p=c-u,y=l-d;if(a){if(p<0||y<0||p+n>h.width||y+i>h.height){const b=this.cachedCanvases.getCanvas("maskExtension",n,i),_=b.context;_.drawImage(h,-p,-y),a.some(x=>x!==0)&&(_.globalCompositeOperation="destination-atop",_.fillStyle=Re.makeHexColor(...a),_.fillRect(0,0,n,i),_.globalCompositeOperation="source-over"),h=b.canvas,p=y=0}else if(a.some(b=>b!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(p,y,n,i),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=Re.makeHexColor(...a),e.fillRect(p,y,n,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),r==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):r==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const v=new Path2D;v.rect(c,l,n,i),t.clip(v),t.globalCompositeOperation="destination-in",t.drawImage(h,p,y,n,i,c,l,n,i),t.restore()}save(){this.inSMaskMode?(Ec(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Ec(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,i,r,a){this.ctx.transform(e,t,n,i,r,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const i=this.ctx,r=this.current;let a=r.x,o=r.y,c,l;const u=vt(i),d=u[0]===0&&u[3]===0||u[1]===0&&u[2]===0,h=d?n.slice(0):null;for(let p=0,y=0,v=e.length;p<v;p++)switch(e[p]|0){case jn.rectangle:a=t[y++],o=t[y++];const b=t[y++],_=t[y++],x=a+b,D=o+_;i.moveTo(a,o),b===0||_===0?i.lineTo(x,D):(i.lineTo(x,o),i.lineTo(x,D),i.lineTo(a,D)),d||r.updateRectMinMax(u,[a,o,x,D]),i.closePath();break;case jn.moveTo:a=t[y++],o=t[y++],i.moveTo(a,o),d||r.updatePathMinMax(u,a,o);break;case jn.lineTo:a=t[y++],o=t[y++],i.lineTo(a,o),d||r.updatePathMinMax(u,a,o);break;case jn.curveTo:c=a,l=o,a=t[y+4],o=t[y+5],i.bezierCurveTo(t[y],t[y+1],t[y+2],t[y+3],a,o),r.updateCurvePathMinMax(u,c,l,t[y],t[y+1],t[y+2],t[y+3],a,o,h),y+=6;break;case jn.curveTo2:c=a,l=o,i.bezierCurveTo(a,o,t[y],t[y+1],t[y+2],t[y+3]),r.updateCurvePathMinMax(u,c,l,a,o,t[y],t[y+1],t[y+2],t[y+3],h),a=t[y+2],o=t[y+3],y+=4;break;case jn.curveTo3:c=a,l=o,a=t[y+2],o=t[y+3],i.bezierCurveTo(t[y],t[y+1],a,o,a,o),r.updateCurvePathMinMax(u,c,l,t[y],t[y+1],a,o,a,o,h),y+=4;break;case jn.closePath:i.closePath();break}d&&r.updateScalingPathMinMax(u,h),r.setCurrentPoint(a,o)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(t.save(),t.strokeStyle=n.getPattern(t,this,Hi(t),an.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;let r=!1;i&&(t.save(),t.fillStyle=n.getPattern(t,this,Hi(t),an.FILL),r=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),r&&t.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ok}eoClip(){this.pendingClip=l0}beginText(){this.current.textMatrix=d_,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var u;const n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=n.fontMatrix||Og,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Xe("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const r=n.loadedName||"sans-serif",a=((u=n.systemFontInfo)==null?void 0:u.css)||`"${r}", ${n.fallbackName}`;let o="normal";n.black?o="900":n.bold&&(o="bold");const c=n.italic?"italic":"normal";let l=t;t<t0?l=t0:t>n0&&(l=n0),this.current.fontSizeScale=t/l,this.ctx.font=`${c} ${o} ${l}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,i,r,a){this.current.textMatrix=[e,t,n,i,r,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,i){const r=this.ctx,a=this.current,o=a.font,c=a.textRenderingMode,l=a.fontSize/a.fontSizeScale,u=c&Yt.FILL_STROKE_MASK,d=!!(c&Yt.ADD_TO_PATH_FLAG),h=a.patternFill&&!o.missingFile;let p;(o.disableFontFace||d||h)&&(p=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace||h?(r.save(),r.translate(t,n),r.beginPath(),p(r,l),i&&r.setTransform(...i),(u===Yt.FILL||u===Yt.FILL_STROKE)&&r.fill(),(u===Yt.STROKE||u===Yt.FILL_STROKE)&&r.stroke(),r.restore()):((u===Yt.FILL||u===Yt.FILL_STROKE)&&r.fillText(e,t,n),(u===Yt.STROKE||u===Yt.FILL_STROKE)&&r.strokeText(e,t,n)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:vt(r),x:t,y:n,fontSize:l,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return et(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const r=this.ctx,a=t.fontSizeScale,o=t.charSpacing,c=t.wordSpacing,l=t.fontDirection,u=t.textHScale*l,d=e.length,h=n.vertical,p=h?1:-1,y=n.defaultVMetrics,v=i*t.fontMatrix[0],b=t.textRenderingMode===Yt.FILL&&!n.disableFontFace&&!t.patternFill;r.save(),r.transform(...t.textMatrix),r.translate(t.x,t.y+t.textRise),l>0?r.scale(u,-1):r.scale(u,1);let _;if(t.patternFill){r.save();const E=t.fillColor.getPattern(r,this,Hi(r),an.FILL);_=vt(r),r.restore(),r.fillStyle=E}let x=t.lineWidth;const D=t.textMatrixScale;if(D===0||x===0){const E=t.textRenderingMode&Yt.FILL_STROKE_MASK;(E===Yt.STROKE||E===Yt.FILL_STROKE)&&(x=this.getSinglePixelWidth())}else x/=D;if(a!==1&&(r.scale(a,a),x/=a),r.lineWidth=x,n.isInvalidPDFjsFont){const E=[];let F=0;for(const I of e)E.push(I.unicode),F+=I.width;r.fillText(E.join(""),0,0),t.x+=F*v*u,r.restore(),this.compose();return}let A=0,T;for(T=0;T<d;++T){const E=e[T];if(typeof E=="number"){A+=p*E*i/1e3;continue}let F=!1;const I=(E.isSpace?c:0)+o,U=E.fontChar,L=E.accent;let G,S,k=E.width;if(h){const X=E.vmetric||y,W=-(E.vmetric?X[1]:k*.5)*v,P=X[2]*v;k=X?-X[0]:k,G=W/a,S=(A+P)/a}else G=A/a,S=0;if(n.remeasure&&k>0){const X=r.measureText(U).width*1e3/i*a;if(k<X&&this.isFontSubpixelAAEnabled){const W=k/X;F=!0,r.save(),r.scale(W,1),G/=W}else k!==X&&(G+=(k-X)/2e3*i/a)}if(this.contentVisible&&(E.isInFont||n.missingFile)){if(b&&!L)r.fillText(U,G,S);else if(this.paintChar(U,G,S,_),L){const X=G+i*L.offset.x/a,W=S-i*L.offset.y/a;this.paintChar(L.fontChar,X,W,_)}}const w=h?k*v-I*l:k*v+I*l;A+=w,F&&r.restore()}h?t.y-=A:t.x+=A*u,r.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,i=n.font,r=n.fontSize,a=n.fontDirection,o=i.vertical?1:-1,c=n.charSpacing,l=n.wordSpacing,u=n.textHScale*a,d=n.fontMatrix||Og,h=e.length,p=n.textRenderingMode===Yt.INVISIBLE;let y,v,b,_;if(!(p||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(u,a),y=0;y<h;++y){if(v=e[y],typeof v=="number"){_=o*v*r/1e3,this.ctx.translate(_,0),n.x+=_*u;continue}const x=(v.isSpace?l:0)+c,D=i.charProcOperatorList[v.operatorListId];if(!D){Xe(`Type3 character "${v.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=v,this.save(),t.scale(r,r),t.transform(...d),this.executeOperatorList(D),this.restore()),b=Re.applyTransform([v.width,0],d)[0]*r+x,t.translate(b,0),n.x+=b*u}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,i,r,a){this.ctx.rect(n,i,r-n,a-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=e[1],i=this.baseTransform||vt(this.ctx),r={createCanvasGraphics:a=>new cv(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new fm(e,n,this.ctx,r,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){const i=Re.makeHexColor(e,t,n);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,t,n){const i=Re.makeHexColor(e,t,n);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=jR(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,Hi(t),an.SHADING);const i=Hi(t);if(i){const{width:r,height:a}=t.canvas,[o,c,l,u]=Re.getAxialAlignedBoundingBox([0,0,r,a],i);this.ctx.fillRect(o,c,l-o,u-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){lt("Should not call beginInlineImage")}beginImageData(){lt("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=vt(this.ctx),t)){const n=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],n,i),this.current.updateRectMinMax(vt(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Df("TODO: Support non-isolated groups."),e.knockout&&Xe("Knockout groups not supported.");const n=vt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Re.getAxialAlignedBoundingBox(e.bbox,vt(t));const r=[0,0,t.canvas.width,t.canvas.height];i=Re.intersect(i,r)||[0,0,0,0];const a=Math.floor(i[0]),o=Math.floor(i[1]),c=Math.max(Math.ceil(i[2])-a,1),l=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,c,l]);let u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(u,c,l),h=d.context;h.translate(-a,-o),h.transform(...n),e.smask?this.smaskStack.push({canvas:d.canvas,context:h,offsetX:a,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,o),t.save()),Ec(t,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=vt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const r=Re.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(e,t,n,i,r){if(N(this,ps,pm).call(this),pd(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const a=t[2]-t[0],o=t[3]-t[1];if(r&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=a,t[3]=o;const[c,l]=Re.singularValueDecompose2dScale(vt(this.ctx)),{viewportScale:u}=this,d=Math.ceil(a*this.outputScaleX*u),h=Math.ceil(o*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:p,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(c,0,0,-l,0,o*l),pd(this.ctx)}else pd(this.ctx),this.ctx.rect(t[0],t[1],a,o),this.ctx.clip(),this.endPath()}this.current=new s0(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),N(this,ps,gm).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=rk(e)),i.compiled)){i.compiled(n);return}const r=this._createMaskCanvas(e),a=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,i=0,r,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const c=vt(o);o.transform(t,n,i,r,0,0);const l=this._createMaskCanvas(e);o.setTransform(1,0,0,1,l.offsetX-c[4],l.offsetY-c[5]);for(let u=0,d=a.length;u<d;u+=2){const h=Re.transform(c,[t,n,i,r,a[u],a[u+1]]),[p,y]=Re.applyTransform([0,0],h);o.drawImage(l.canvas,p,y)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const r of e){const{data:a,width:o,height:c,transform:l}=r,u=this.cachedCanvases.getCanvas("maskCanvas",o,c),d=u.context;d.save();const h=this.getObject(a,r);o0(d,h),d.globalCompositeOperation="source-in",d.fillStyle=i?n.getPattern(d,this,Hi(t),an.FILL):n,d.fillRect(0,0,o,c),d.restore(),t.save(),t.transform(...l),t.scale(1,-1),fd(t,u.canvas,0,0,o,c,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Xe("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,i){if(!this.contentVisible)return;const r=this.getObject(e);if(!r){Xe("Dependent image isn't ready yet");return}const a=r.width,o=r.height,c=[];for(let l=0,u=i.length;l<u;l+=2)c.push({transform:[t,0,0,n,i[l],i[l+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(r,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:i}=e,r=this.cachedCanvases.getCanvas("inlineImage",n,i),a=r.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",r.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,i=this.ctx;if(this.save(),!jt){const{filter:o}=i;o!=="none"&&o!==""&&(i.filter="none")}i.scale(1/t,-1/n);let r;if(e.bitmap)r=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)r=e;else{const c=this.cachedCanvases.getCanvas("inlineImage",t,n).context;a0(c,e),r=this.applyTransferMapsToCanvas(c)}const a=this._scaleImage(r,Hi(i));i.imageSmoothingEnabled=c0(vt(i),e.interpolate),fd(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const r=e.width,a=e.height,c=this.cachedCanvases.getCanvas("inlineImage",r,a).context;a0(c,e),i=this.applyTransferMapsToCanvas(c)}for(const r of t)n.save(),n.transform(...r.transform),n.scale(1,-1),fd(n,i,r.x,r.y,r.w,r.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===l0?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=vt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:r}=this.ctx.getTransform();let a,o;if(n===0&&i===0){const c=Math.abs(t),l=Math.abs(r);if(c===l)if(e===0)a=o=1/c;else{const u=c*e;a=o=u<1?1/u:1}else if(e===0)a=1/c,o=1/l;else{const u=c*e,d=l*e;a=u<1?1/u:1,o=d<1?1/d:1}}else{const c=Math.abs(t*r-n*i),l=Math.hypot(t,n),u=Math.hypot(i,r);if(e===0)a=u/c,o=l/c;else{const d=e*c;a=u>d?u/d:1,o=l>d?l/d:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[i,r]=this.getScaleForStroking();if(t.lineWidth=n||1,i===1&&r===1){t.stroke();return}const a=t.getLineDash();if(e&&t.save(),t.scale(i,r),a.length>0){const o=Math.max(i,r);t.setLineDash(a.map(c=>c/o)),t.lineDashOffset/=o}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};ps=new WeakSet,pm=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},gm=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let uo=cv;for(const s in jn)uo.prototype[s]!==void 0&&(uo.prototype[jn[s]]=uo.prototype[s]);var Xl,Yl;class Tr{static get workerPort(){return g(this,Xl)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");M(this,Xl,e)}static get workerSrc(){return g(this,Yl)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");M(this,Yl,e)}}Xl=new WeakMap,Yl=new WeakMap,B(Tr,Xl,null),B(Tr,Yl,"");const gd={DATA:1,ERROR:2},Et={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function An(s){switch(s instanceof Error||typeof s=="object"&&s!==null||lt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),s.name){case"AbortException":return new Ha(s.message);case"MissingPDFException":return new za(s.message);case"PasswordException":return new qg(s.message,s.code);case"UnexpectedResponseException":return new Tf(s.message,s.status);case"UnknownErrorException":return new Vg(s.message,s.details);default:return new Vg(s.message,s.toString())}}var Li,Y_,K_,qd;class Zc{constructor(e,t,n){B(this,Li);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=i=>{const r=i.data;if(r.targetName!==this.sourceName)return;if(r.stream){N(this,Li,K_).call(this,r);return}if(r.callback){const o=r.callbackId,c=this.callbackCapabilities[o];if(!c)throw new Error(`Cannot resolve callback ${o}`);if(delete this.callbackCapabilities[o],r.callback===gd.DATA)c.resolve(r.data);else if(r.callback===gd.ERROR)c.reject(An(r.reason));else throw new Error("Unexpected callback case");return}const a=this.actionHandler[r.action];if(!a)throw new Error(`Unknown action from worker: ${r.action}`);if(r.callbackId){const o=this.sourceName,c=r.sourceName;new Promise(function(l){l(a(r.data))}).then(function(l){n.postMessage({sourceName:o,targetName:c,callback:gd.DATA,callbackId:r.callbackId,data:l})},function(l){n.postMessage({sourceName:o,targetName:c,callback:gd.ERROR,callbackId:r.callbackId,reason:An(l)})});return}if(r.streamId){N(this,Li,Y_).call(this,r);return}a(r.data)},n.addEventListener("message",this._onComObjOnMessage)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[i]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(a){r.reject(a)}return r.promise}sendWithStream(e,t,n,i){const r=this.streamId++,a=this.sourceName,o=this.targetName,c=this.comObj;return new ReadableStream({start:l=>{const u=Promise.withResolvers();return this.streamControllers[r]={controller:l,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:a,targetName:o,action:e,streamId:r,data:t,desiredSize:l.desiredSize},i),u.promise},pull:l=>{const u=Promise.withResolvers();return this.streamControllers[r].pullCall=u,c.postMessage({sourceName:a,targetName:o,stream:Et.PULL,streamId:r,desiredSize:l.desiredSize}),u.promise},cancel:l=>{Mt(l instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[r].cancelCall=u,this.streamControllers[r].isClosed=!0,c.postMessage({sourceName:a,targetName:o,stream:Et.CANCEL,streamId:r,reason:An(l)}),u.promise}},n)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Li=new WeakSet,Y_=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,r=this.comObj,a=this,o=this.actionHandler[e.action],c={enqueue(l,u=1,d){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=u,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:n,targetName:i,stream:Et.ENQUEUE,streamId:t,chunk:l},d)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:Et.CLOSE,streamId:t}),delete a.streamSinks[t])},error(l){Mt(l instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:Et.ERROR,streamId:t,reason:An(l)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,new Promise(function(l){l(o(e.data,c))}).then(function(){r.postMessage({sourceName:n,targetName:i,stream:Et.START_COMPLETE,streamId:t,success:!0})},function(l){r.postMessage({sourceName:n,targetName:i,stream:Et.START_COMPLETE,streamId:t,reason:An(l)})})},K_=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,r=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case Et.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(An(e.reason));break;case Et.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(An(e.reason));break;case Et.PULL:if(!o){r.postMessage({sourceName:n,targetName:i,stream:Et.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,new Promise(function(c){var l;c((l=o.onPull)==null?void 0:l.call(o))}).then(function(){r.postMessage({sourceName:n,targetName:i,stream:Et.PULL_COMPLETE,streamId:t,success:!0})},function(c){r.postMessage({sourceName:n,targetName:i,stream:Et.PULL_COMPLETE,streamId:t,reason:An(c)})});break;case Et.ENQUEUE:if(Mt(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Et.CLOSE:if(Mt(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),N(this,Li,qd).call(this,a,t);break;case Et.ERROR:Mt(a,"error should have stream controller"),a.controller.error(An(e.reason)),N(this,Li,qd).call(this,a,t);break;case Et.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(An(e.reason)),N(this,Li,qd).call(this,a,t);break;case Et.CANCEL:if(!o)break;new Promise(function(c){var l;c((l=o.onCancel)==null?void 0:l.call(o,An(e.reason)))}).then(function(){r.postMessage({sourceName:n,targetName:i,stream:Et.CANCEL_COMPLETE,streamId:t,success:!0})},function(c){r.postMessage({sourceName:n,targetName:i,stream:Et.CANCEL_COMPLETE,streamId:t,reason:An(c)})}),o.sinkCapability.reject(An(e.reason)),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},qd=async function(e,t){var n,i,r;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(i=e.pullCall)==null?void 0:i.promise,(r=e.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[t]};var ta,Kl;class ck{constructor({parsedData:e,rawData:t}){B(this,ta);B(this,Kl);M(this,ta,e),M(this,Kl,t)}getRaw(){return g(this,Kl)}get(e){return g(this,ta).get(e)??null}getAll(){return cy(g(this,ta))}has(e){return g(this,ta).has(e)}}ta=new WeakMap,Kl=new WeakMap;const Pr=Symbol("INTERNAL");var Zl,Jl,Ql,So;class lk{constructor(e,{name:t,intent:n,usage:i}){B(this,Zl,!1);B(this,Jl,!1);B(this,Ql,!1);B(this,So,!0);M(this,Zl,!!(e&Gn.DISPLAY)),M(this,Jl,!!(e&Gn.PRINT)),this.name=t,this.intent=n,this.usage=i}get visible(){if(g(this,Ql))return g(this,So);if(!g(this,So))return!1;const{print:e,view:t}=this.usage;return g(this,Zl)?(t==null?void 0:t.viewState)!=="OFF":g(this,Jl)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==Pr&&lt("Internal method `_setVisible` called."),M(this,Ql,n),M(this,So,t)}}Zl=new WeakMap,Jl=new WeakMap,Ql=new WeakMap,So=new WeakMap;var Gr,ct,Uo,Fo,jl,mm;class uk{constructor(e,t=Gn.DISPLAY){B(this,jl);B(this,Gr,null);B(this,ct,new Map);B(this,Uo,null);B(this,Fo,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,M(this,Fo,e.order);for(const n of e.groups)g(this,ct).set(n.id,new lk(t,n));if(e.baseState==="OFF")for(const n of g(this,ct).values())n._setVisible(Pr,!1);for(const n of e.on)g(this,ct).get(n)._setVisible(Pr,!0);for(const n of e.off)g(this,ct).get(n)._setVisible(Pr,!1);M(this,Uo,this.getHash())}}isVisible(e){if(g(this,ct).size===0)return!0;if(!e)return Df("Optional content group not defined."),!0;if(e.type==="OCG")return g(this,ct).has(e.id)?g(this,ct).get(e.id).visible:(Xe(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return N(this,jl,mm).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!g(this,ct).has(t))return Xe(`Optional content group not found: ${t}`),!0;if(g(this,ct).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!g(this,ct).has(t))return Xe(`Optional content group not found: ${t}`),!0;if(!g(this,ct).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!g(this,ct).has(t))return Xe(`Optional content group not found: ${t}`),!0;if(!g(this,ct).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!g(this,ct).has(t))return Xe(`Optional content group not found: ${t}`),!0;if(g(this,ct).get(t).visible)return!1}return!0}return Xe(`Unknown optional content policy ${e.policy}.`),!0}return Xe(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const n=g(this,ct).get(e);if(!n){Xe(`Optional content group not found: ${e}`);return}n._setVisible(Pr,!!t,!0),M(this,Gr,null)}setOCGState({state:e,preserveRB:t}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const r=g(this,ct).get(i);if(r)switch(n){case"ON":r._setVisible(Pr,!0);break;case"OFF":r._setVisible(Pr,!1);break;case"Toggle":r._setVisible(Pr,!r.visible);break}}M(this,Gr,null)}get hasInitialVisibility(){return g(this,Uo)===null||this.getHash()===g(this,Uo)}getOrder(){return g(this,ct).size?g(this,Fo)?g(this,Fo).slice():[...g(this,ct).keys()]:null}getGroups(){return g(this,ct).size>0?cy(g(this,ct)):null}getGroup(e){return g(this,ct).get(e)||null}getHash(){if(g(this,Gr)!==null)return g(this,Gr);const e=new H_;for(const[t,n]of g(this,ct))e.update(`${t}:${n.visible}`);return M(this,Gr,e.hexdigest())}}Gr=new WeakMap,ct=new WeakMap,Uo=new WeakMap,Fo=new WeakMap,jl=new WeakSet,mm=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const r=e[i];let a;if(Array.isArray(r))a=N(this,jl,mm).call(this,r);else if(g(this,ct).has(r))a=g(this,ct).get(r).visible;else return Xe(`Optional content group not found: ${r}`),!0;switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return n==="And"};class dk{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Mt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:r,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(r==null?void 0:r.length)>0){const c=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,l)=>{this._onReceiveData({begin:c,chunk:l})}),e.addProgressListener((c,l)=>{this._onProgress({loaded:c,total:l})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(r){return r._begin!==e?!1:(r._enqueue(n),!0)});Mt(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,i,r;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(r=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||r.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Mt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new hk(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new fk(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class hk{constructor(e,t,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=fy(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class fk{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function pk(s){let e=!0,t=n("filename\\*","i").exec(s);if(t){t=t[1];let u=o(t);return u=unescape(u),u=c(u),u=l(u),r(u)}if(t=a(s),t){const u=l(t);return r(u)}if(t=n("filename","i").exec(s),t){t=t[1];let u=o(t);return u=l(u),r(u)}function n(u,d){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(u,d){if(u){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const h=new TextDecoder(u,{fatal:!0}),p=Af(d);d=h.decode(p),e=!1}catch{}}return d}function r(u){return e&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),e&&(u=i("iso-8859-1",u))),u}function a(u){const d=[];let h;const p=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=p.exec(u))!==null;){let[,v,b,_]=h;if(v=parseInt(v,10),v in d){if(v===0)break;continue}d[v]=[b,_]}const y=[];for(let v=0;v<d.length&&v in d;++v){let[b,_]=d[v];_=o(_),b&&(_=unescape(_),v===0&&(_=c(_))),y.push(_)}return y.join("")}function o(u){if(u.startsWith('"')){const d=u.slice(1).split('\\"');for(let h=0;h<d.length;++h){const p=d[h].indexOf('"');p!==-1&&(d[h]=d[h].slice(0,p),d.length=h+1),d[h]=d[h].replaceAll(/\\(.)/g,"$1")}u=d.join('"')}return u}function c(u){const d=u.indexOf("'");if(d===-1)return u;const h=u.slice(0,d),y=u.slice(d+1).replace(/^[^']*'/,"");return i(h,y)}function l(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,h,p,y){if(p==="q"||p==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,b){return String.fromCharCode(parseInt(b,16))}),i(h,y);try{y=atob(y)}catch{}return i(h,y)})}return""}function my({getResponseHeader:s,isHttp:e,rangeChunkSize:t,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(s("Content-Length"),10);return!Number.isInteger(r)||(i.suggestedLength=r,r<=2*t)||n||!e||s("Accept-Ranges")!=="bytes"||(s("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function yy(s){const e=s("Content-Disposition");if(e){let t=pk(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(fy(t))return t}return null}function Uf(s,e){return s===404||s===0&&e.startsWith("file:")?new za('Missing PDF "'+e+'".'):new Tf(`Unexpected server response (${s}) while retrieving PDF "${e}".`,s)}function Z_(s){return s===200||s===206}function J_(s,e,t){return{method:"GET",headers:s,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Q_(s){const e=new Headers;for(const t in s){const n=s[t];n!==void 0&&e.append(t,n)}return e}function j_(s){return s instanceof Uint8Array?s.buffer:s instanceof ArrayBuffer?s:(Xe(`getArrayBuffer - unexpected data format: ${s}`),new Uint8Array(s).buffer)}class u0{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Mt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new gk(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new mk(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class gk{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=Q_(this._stream.httpHeaders);const n=t.url;fetch(n,J_(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!Z_(i.status))throw Uf(i.status,n);this._reader=i.body.getReader(),this._headersCapability.resolve();const r=c=>i.headers.get(c),{allowRangeRequests:a,suggestedLength:o}=my({getResponseHeader:r,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=o||this._contentLength,this._filename=yy(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ha("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:j_(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class mk{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=Q_(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${n-1}`);const r=i.url;fetch(r,J_(this._headers,this._withCredentials,this._abortController)).then(a=>{if(!Z_(a.status))throw Uf(a.status,r);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:j_(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const dp=200,hp=206;function yk(s){const e=s.response;return typeof e!="string"?e:Af(e).buffer}class vk{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const i={begin:e,end:t};for(const r in n)i[r]=n[r];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const r in this.httpHeaders){const a=this.httpHeaders[r];a!==void 0&&t.setRequestHeader(r,a)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=hp):i.expectedStatus=dp,t.responseType="arraybuffer",e.onError&&(t.onerror=function(r){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var i;const n=this.pendingRequests[e];n&&((i=n.onProgress)==null||i.call(n,t))}onStateChange(e,t){var c,l,u;const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(c=n.onError)==null||c.call(n,i.status);return}const r=i.status||dp;if(!(r===dp&&n.expectedStatus===hp)&&r!==n.expectedStatus){(l=n.onError)==null||l.call(n,i.status);return}const o=yk(i);if(r===hp){const d=i.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);n.onDone({begin:parseInt(h[1],10),chunk:o})}else o?n.onDone({begin:0,chunk:o}):(u=n.onError)==null||u.call(n,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class bk{constructor(e){this._source=e,this._manager=new vk(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Mt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new _k(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new xk(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class _k{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=a=>t.getResponseHeader(a),{allowRangeRequests:i,suggestedLength:r}=my({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=yy(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Uf(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class xk{constructor(e,t,n){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Uf(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const ex=/^file:\/\/\/[a-zA-Z]:\//;function Dk(s){const e=Wi.get("url"),t=e.parse(s);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(s)?e.parse(`file:///${s}`):(t.host||(t.protocol="file:"),t)}class Tk{constructor(e){this.source=e,this.url=Dk(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Mt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Ek(this):new Ak(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new wk(this,e,t):new Ck(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class tx{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ha("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class nx{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function qh(s,e){return{protocol:s.protocol,auth:s.auth,host:s.hostname,port:s.port,path:s.path,method:"GET",headers:e}}class Ak extends tx{constructor(e){super(e);const t=n=>{if(n.statusCode===404){const o=new za(`Missing PDF "${this._url}".`);this._storedError=o,this._headersCapability.reject(o);return}this._headersCapability.resolve(),this._setReadableStream(n);const i=o=>this._readableStream.headers[o.toLowerCase()],{allowRangeRequests:r,suggestedLength:a}=my({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=a||this._contentLength,this._filename=yy(i)};if(this._request=null,this._url.protocol==="http:"){const n=Wi.get("http");this._request=n.request(qh(this._url,e.httpHeaders),t)}else{const n=Wi.get("https");this._request=n.request(qh(this._url,e.httpHeaders),t)}this._request.on("error",n=>{this._storedError=n,this._headersCapability.reject(n)}),this._request.end()}}class Ck extends nx{constructor(e,t,n){super(e),this._httpHeaders={};for(const r in e.httpHeaders){const a=e.httpHeaders[r];a!==void 0&&(this._httpHeaders[r]=a)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;const i=r=>{if(r.statusCode===404){const a=new za(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(r)};if(this._request=null,this._url.protocol==="http:"){const r=Wi.get("http");this._request=r.request(qh(this._url,this._httpHeaders),i)}else{const r=Wi.get("https");this._request=r.request(qh(this._url,this._httpHeaders),i)}this._request.on("error",r=>{this._storedError=r}),this._request.end()}}class Ek extends tx{constructor(e){super(e);let t=decodeURIComponent(this._url.path);ex.test(this._url.href)&&(t=t.replace(/^\//,""));const n=Wi.get("fs");n.promises.lstat(t).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(t)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new za(`Missing PDF "${t}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class wk extends nx{constructor(e,t,n){super(e);let i=decodeURIComponent(this._url.path);ex.test(this._url.href)&&(i=i.replace(/^\//,""));const r=Wi.get("fs");this._setReadableStream(r.createReadStream(i,{start:t,end:n-1}))}}const Sk=1e5,hn=30,Uk=.8;var M1,$r,pn,eu,tu,na,or,nu,iu,ia,Io,Ro,Xr,ko,ru,Mo,ra,su,au,sa,aa,Yr,No,Fr,ix,rx,ym,Bi,Vd,sx,ax;const Zt=class Zt{constructor({textContentSource:e,container:t,viewport:n}){B(this,Fr);B(this,$r,Promise.withResolvers());B(this,pn,null);B(this,eu,!1);B(this,tu,!!((M1=globalThis.FontInspector)!=null&&M1.enabled));B(this,na,null);B(this,or,null);B(this,nu,0);B(this,iu,0);B(this,ia,null);B(this,Io,null);B(this,Ro,0);B(this,Xr,0);B(this,ko,Object.create(null));B(this,ru,[]);B(this,Mo,null);B(this,ra,[]);B(this,su,new WeakMap);B(this,au,null);var c;if(e instanceof ReadableStream)M(this,Mo,e);else if(typeof e=="object")M(this,Mo,new ReadableStream({start(l){l.enqueue(e),l.close()}}));else throw new Error('No "textContentSource" parameter specified.');M(this,pn,M(this,Io,t)),M(this,Xr,n.scale*(globalThis.devicePixelRatio||1)),M(this,Ro,n.rotation),M(this,or,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:r,pageX:a,pageY:o}=n.rawDims;M(this,au,[1,0,0,-1,-a,o+r]),M(this,iu,i),M(this,nu,r),N(c=Zt,Bi,sx).call(c),La(t,n),g(this,$r).promise.catch(()=>{}).then(()=>{g(Zt,No).delete(this),M(this,or,null),M(this,ko,null)})}render(){const e=()=>{g(this,ia).read().then(({value:t,done:n})=>{if(n){g(this,$r).resolve();return}g(this,na)??M(this,na,t.lang),Object.assign(g(this,ko),t.styles),N(this,Fr,ix).call(this,t.items),e()},g(this,$r).reject)};return M(this,ia,g(this,Mo).getReader()),g(Zt,No).add(this),e(),g(this,$r).promise}update({viewport:e,onBefore:t=null}){var r;const n=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==g(this,Ro)&&(t==null||t(),M(this,Ro,i),La(g(this,Io),{rotation:i})),n!==g(this,Xr)){t==null||t(),M(this,Xr,n);const a={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:N(r=Zt,Bi,Vd).call(r,g(this,na))};for(const o of g(this,ra))a.properties=g(this,su).get(o),a.div=o,N(this,Fr,ym).call(this,a)}}cancel(){var t;const e=new Ha("TextLayer task cancelled.");(t=g(this,ia))==null||t.cancel(e).catch(()=>{}),M(this,ia,null),g(this,$r).reject(e)}get textDivs(){return g(this,ra)}get textContentItemsStr(){return g(this,ru)}static cleanup(){if(!(g(this,No).size>0)){g(this,sa).clear();for(const{canvas:e}of g(this,aa).values())e.remove();g(this,aa).clear()}}};$r=new WeakMap,pn=new WeakMap,eu=new WeakMap,tu=new WeakMap,na=new WeakMap,or=new WeakMap,nu=new WeakMap,iu=new WeakMap,ia=new WeakMap,Io=new WeakMap,Ro=new WeakMap,Xr=new WeakMap,ko=new WeakMap,ru=new WeakMap,Mo=new WeakMap,ra=new WeakMap,su=new WeakMap,au=new WeakMap,sa=new WeakMap,aa=new WeakMap,Yr=new WeakMap,No=new WeakMap,Fr=new WeakSet,ix=function(e){var i,r;if(g(this,eu))return;(r=g(this,or)).ctx??(r.ctx=N(i=Zt,Bi,Vd).call(i,g(this,na)));const t=g(this,ra),n=g(this,ru);for(const a of e){if(t.length>Sk){Xe("Ignoring additional textDivs for performance reasons."),M(this,eu,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=g(this,pn);M(this,pn,document.createElement("span")),g(this,pn).classList.add("markedContent"),a.id!==null&&g(this,pn).setAttribute("id",`${a.id}`),o.append(g(this,pn))}else a.type==="endMarkedContent"&&M(this,pn,g(this,pn).parentNode);continue}n.push(a.str),N(this,Fr,rx).call(this,a)}},rx=function(e){var v;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};g(this,ra).push(t);const i=Re.transform(g(this,au),e.transform);let r=Math.atan2(i[1],i[0]);const a=g(this,ko)[e.fontName];a.vertical&&(r+=Math.PI/2);const o=g(this,tu)&&a.fontSubstitution||a.fontFamily,c=Math.hypot(i[2],i[3]),l=c*N(v=Zt,Bi,ax).call(v,o,g(this,na));let u,d;r===0?(u=i[4],d=i[5]-l):(u=i[4]+l*Math.sin(r),d=i[5]-l*Math.cos(r));const h="calc(var(--scale-factor)*",p=t.style;g(this,pn)===g(this,Io)?(p.left=`${(100*u/g(this,iu)).toFixed(2)}%`,p.top=`${(100*d/g(this,nu)).toFixed(2)}%`):(p.left=`${h}${u.toFixed(2)}px)`,p.top=`${h}${d.toFixed(2)}px)`),p.fontSize=`${h}${(g(Zt,Yr)*c).toFixed(2)}px)`,p.fontFamily=o,n.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,g(this,tu)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),r!==0&&(n.angle=r*(180/Math.PI));let y=!1;if(e.str.length>1)y=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),_=Math.abs(e.transform[3]);b!==_&&Math.max(b,_)/Math.min(b,_)>1.5&&(y=!0)}if(y&&(n.canvasWidth=a.vertical?e.height:e.width),g(this,su).set(t,n),g(this,or).div=t,g(this,or).properties=n,N(this,Fr,ym).call(this,g(this,or)),n.hasText&&g(this,pn).append(t),n.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),g(this,pn).append(b)}},ym=function(e){const{div:t,properties:n,ctx:i,prevFontSize:r,prevFontFamily:a}=e,{style:o}=t;let c="";if(g(Zt,Yr)>1&&(c=`scale(${1/g(Zt,Yr)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:l}=o,{canvasWidth:u,fontSize:d}=n;(r!==d||a!==l)&&(i.font=`${d*g(this,Xr)}px ${l}`,e.prevFontSize=d,e.prevFontFamily=l);const{width:h}=i.measureText(t.textContent);h>0&&(c=`scaleX(${u*g(this,Xr)/h}) ${c}`)}n.angle!==0&&(c=`rotate(${n.angle}deg) ${c}`),c.length>0&&(o.transform=c)},Bi=new WeakSet,Vd=function(e=null){let t=g(this,aa).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),g(this,aa).set(e,t)}return t},sx=function(){if(g(this,Yr)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),M(this,Yr,e.getBoundingClientRect().height),e.remove()},ax=function(e,t){const n=g(this,sa).get(e);if(n)return n;const i=N(this,Bi,Vd).call(this,t),r=i.font;i.canvas.width=i.canvas.height=hn,i.font=`${hn}px ${e}`;const a=i.measureText("");let o=a.fontBoundingBoxAscent,c=Math.abs(a.fontBoundingBoxDescent);if(o){const d=o/(o+c);return g(this,sa).set(e,d),i.canvas.width=i.canvas.height=0,i.font=r,d}i.strokeStyle="red",i.clearRect(0,0,hn,hn),i.strokeText("g",0,0);let l=i.getImageData(0,0,hn,hn).data;c=0;for(let d=l.length-1-3;d>=0;d-=4)if(l[d]>0){c=Math.ceil(d/4/hn);break}i.clearRect(0,0,hn,hn),i.strokeText("A",0,hn),l=i.getImageData(0,0,hn,hn).data,o=0;for(let d=0,h=l.length;d<h;d+=4)if(l[d]>0){o=hn-Math.floor(d/4/hn);break}i.canvas.width=i.canvas.height=0,i.font=r;const u=o?o/(o+c):Uk;return g(this,sa).set(e,u),u},B(Zt,Bi),B(Zt,sa,new Map),B(Zt,aa,new Map),B(Zt,Yr,null),B(Zt,No,new Set);let mc=Zt;function Fk(){v_("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:s,container:e,viewport:t,...n}=arguments[0],i=Object.keys(n);i.length>0&&Xe("Ignoring `renderTextLayer` parameters: "+i.join(", "));const r=new mc({textContentSource:s,container:e,viewport:t}),{textDivs:a,textContentItemsStr:o}=r;return{promise:r.render(),textDivs:a,textContentItemsStr:o}}function Ik(){v_("`updateTextLayer`, please use `TextLayer` instead.")}class dl{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function i(r){var c;if(!r)return;let a=null;const o=r.name;if(o==="#text")a=r.value;else if(dl.shouldBuildText(o))(c=r==null?void 0:r.attributes)!=null&&c.textContent?a=r.attributes.textContent:r.value&&(a=r.value);else return;if(a!==null&&t.push({str:a}),!!r.children)for(const l of r.children)i(l)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const Rk=65536,kk=100,Mk=5e3,Nk=jt?$R:kR,Pk=jt?XR:m_,Lk=jt?GR:RR,Bk=jt?YR:y_;function Ok(s={}){typeof s=="string"||s instanceof URL?s={url:s}:(s instanceof ArrayBuffer||ArrayBuffer.isView(s))&&(s={data:s});const e=new vm,{docId:t}=e,n=s.url?Wk(s.url):null,i=s.data?qk(s.data):null,r=s.httpHeaders||null,a=s.withCredentials===!0,o=s.password??null,c=s.range instanceof ox?s.range:null,l=Number.isInteger(s.rangeChunkSize)&&s.rangeChunkSize>0?s.rangeChunkSize:Rk;let u=s.worker instanceof ho?s.worker:null;const d=s.verbosity,h=typeof s.docBaseUrl=="string"&&!hy(s.docBaseUrl)?s.docBaseUrl:null,p=typeof s.cMapUrl=="string"?s.cMapUrl:null,y=s.cMapPacked!==!1,v=s.CMapReaderFactory||Pk,b=typeof s.standardFontDataUrl=="string"?s.standardFontDataUrl:null,_=s.StandardFontDataFactory||Bk,x=s.stopAtErrors!==!0,D=Number.isInteger(s.maxImageSize)&&s.maxImageSize>-1?s.maxImageSize:-1,A=s.isEvalSupported!==!1,T=typeof s.isOffscreenCanvasSupported=="boolean"?s.isOffscreenCanvasSupported:!jt,E=Number.isInteger(s.canvasMaxAreaInBytes)?s.canvasMaxAreaInBytes:-1,F=typeof s.disableFontFace=="boolean"?s.disableFontFace:jt,I=s.fontExtraProperties===!0,U=s.enableXfa===!0,L=s.ownerDocument||globalThis.document,G=s.disableRange===!0,S=s.disableStream===!0,k=s.disableAutoFetch===!0,w=s.pdfBug===!0,X=s.enableHWA===!0,W=c?c.length:s.length??NaN,P=typeof s.useSystemFonts=="boolean"?s.useSystemFonts:!jt&&!F,Z=typeof s.useWorkerFetch=="boolean"?s.useWorkerFetch:v===m_&&_===y_&&p&&b&&Xc(p,document.baseURI)&&Xc(b,document.baseURI),K=s.canvasFactory||new Nk({ownerDocument:L,enableHWA:X}),oe=s.filterFactory||new Lk({docId:t,ownerDocument:L}),H=null;xR(d);const Y={canvasFactory:K,filterFactory:oe};if(Z||(Y.cMapReaderFactory=new v({baseUrl:p,isCompressed:y}),Y.standardFontDataFactory=new _({baseUrl:b})),!u){const le={verbosity:d,port:Tr.workerPort};u=le.port?ho.fromPort(le):new ho(le),e._worker=u}const Q={docId:t,apiVersion:"4.4.168",data:i,password:o,disableAutoFetch:k,rangeChunkSize:l,length:W,docBaseUrl:h,enableXfa:U,evaluatorOptions:{maxImageSize:D,disableFontFace:F,ignoreErrors:x,isEvalSupported:A,isOffscreenCanvasSupported:T,canvasMaxAreaInBytes:E,fontExtraProperties:I,useSystemFonts:P,cMapUrl:Z?p:null,standardFontDataUrl:Z?b:null}},ce={disableFontFace:F,fontExtraProperties:I,ownerDocument:L,pdfBug:w,styleElement:H,loadingParams:{disableAutoFetch:k,enableXfa:U}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const le=u.messageHandler.sendWithPromise("GetDocRequest",Q,i?[i.buffer]:null);let ve;if(c)ve=new dk(c,{disableRange:G,disableStream:S});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");ve=(ye=>jt?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&Xc(ye.url)?new u0(ye):new Tk(ye):Xc(ye.url)?new u0(ye):new bk(ye))({url:n,length:W,httpHeaders:r,withCredentials:a,rangeChunkSize:l,disableRange:G,disableStream:S})}return le.then(me=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const ye=new Zc(t,me,u.port),xe=new Gk(ye,e,ve,ce,Y);e._transport=xe,ye.send("Ready",null)})}).catch(e._capability.reject),e}function Wk(s){if(s instanceof URL)return s.href;try{return new URL(s,window.location).href}catch{if(jt&&typeof s=="string")return s}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function qk(s){if(jt&&typeof Buffer<"u"&&s instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength)return s;if(typeof s=="string")return Af(s);if(s instanceof ArrayBuffer||ArrayBuffer.isView(s)||typeof s=="object"&&!isNaN(s==null?void 0:s.length))return new Uint8Array(s);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function d0(s){return typeof s=="object"&&Number.isInteger(s==null?void 0:s.num)&&s.num>=0&&Number.isInteger(s==null?void 0:s.gen)&&s.gen>=0}var cf;const lf=class lf{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Tn(lf,cf)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,n;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};cf=new WeakMap,B(lf,cf,0);let vm=lf;class ox{constructor(e,t,n=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){lt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Vk{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return et(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Kr,cr,$n,so,zd;class zk{constructor(e,t,n,i=!1){B(this,$n);B(this,Kr,null);B(this,cr,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new Jb:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new cx,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:r=!1}={}){return new Ju({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:r})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return et(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:i=Or.ENABLE,transform:r=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:c=null,pageColors:l=null,printAnnotationStorage:u=null}){var D,A;(D=this._stats)==null||D.time("Overall");const d=this._transport.getRenderingIntent(n,i,u),{renderingIntent:h,cacheKey:p}=d;M(this,cr,!1),N(this,$n,zd).call(this),o||(o=this._transport.getOptionalContentConfig(h));let y=this._intentStates.get(p);y||(y=Object.create(null),this._intentStates.set(p,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const v=!!(h&Gn.PRINT);y.displayReadyCapability||(y.displayReadyCapability=Promise.withResolvers(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(A=this._stats)==null||A.time("Page Request"),this._pumpOperatorList(d));const b=T=>{var E;y.renderTasks.delete(_),(this._maybeCleanupAfterRender||v)&&M(this,cr,!0),N(this,$n,so).call(this,!v),T?(_.capability.reject(T),this._abortOperatorList({intentState:y,reason:T instanceof Error?T:new Error(T)})):_.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(E=globalThis.Stats)!=null&&E.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},_=new _m({callback:b,params:{canvasContext:e,viewport:t,transform:r,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:l});(y.renderTasks||(y.renderTasks=new Set)).add(_);const x=_.task;return Promise.all([y.displayReadyCapability.promise,o]).then(([T,E])=>{var F;if(this.destroyed){b();return}if((F=this._stats)==null||F.time("Rendering"),!(E.renderingIntent&h))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");_.initializeGraphics({transparency:T,optionalContentConfig:E}),_.operatorListChanged()}).catch(b),x}getOperatorList({intent:e="display",annotationMode:t=Or.ENABLE,printAnnotationStorage:n=null}={}){var c;function i(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(o))}const r=this._transport.getRenderingIntent(e,t,n,!0);let a=this._intentStates.get(r.cacheKey);a||(a=Object.create(null),this._intentStates.set(r.cacheKey,a));let o;return a.opListReadCapability||(o=Object.create(null),o.operatorListChanged=i,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(o),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(r)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>dl.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,i){function r(){a.read().then(function({value:c,done:l}){if(l){n(o);return}o.lang??(o.lang=c.lang),Object.assign(o.styles,c.styles),o.items.push(...c.items),r()},i)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),M(this,cr,!1),N(this,$n,zd).call(this),Promise.all(e)}cleanup(e=!1){M(this,cr,!0);const t=N(this,$n,so).call(this,!1);return e&&t&&this._stats&&(this._stats=new Jb),t}_startRenderPage(e,t){var i,r;const n=this._intentStates.get(t);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(r=n.displayReadyCapability)==null||r.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&N(this,$n,so).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n}){const{map:i,transfer:r}=n,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i},r).getReader(),c=this._intentStates.get(t);c.streamReader=o;const l=()=>{o.read().then(({value:u,done:d})=>{if(d){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(u,c),l())},u=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const d of c.renderTasks)d.operatorListChanged();N(this,$n,so).call(this,!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(u);else if(c.opListReadCapability)c.opListReadCapability.reject(u);else throw u}})};l()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof dy){let i=kk;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Ha(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,r]of this._intentStates)if(r===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Kr=new WeakMap,cr=new WeakMap,$n=new WeakSet,so=function(e=!1){if(N(this,$n,zd).call(this),!g(this,cr)||this.destroyed)return!1;if(e)return M(this,Kr,setTimeout(()=>{M(this,Kr,null),N(this,$n,so).call(this,!1)},Mk)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),M(this,cr,!1),!0},zd=function(){g(this,Kr)&&(clearTimeout(g(this,Kr)),M(this,Kr,null))};var oa,uf;class Hk{constructor(){B(this,oa,new Set);B(this,uf,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};g(this,uf).then(()=>{for(const i of g(this,oa))i.call(this,n)})}addEventListener(e,t){g(this,oa).add(t)}removeEventListener(e,t){g(this,oa).delete(t)}terminate(){g(this,oa).clear()}}oa=new WeakMap,uf=new WeakMap;const Qi={isWorkerDisabled:!1,fakeWorkerId:0};jt&&(Qi.isWorkerDisabled=!0,Tr.workerSrc||(Tr.workerSrc="./pdf.worker.mjs")),Qi.isSameOrigin=function(s,e){let t;try{if(t=new URL(s),!t.origin||t.origin==="null")return!1}catch{return!1}const n=new URL(e,t);return t.origin===n.origin},Qi.createCDNWrapper=function(s){const e=`await import("${s}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var ca,Po,Hd,Lo,Gd;const Cn=class Cn{constructor({name:e=null,port:t=null,verbosity:n=DR()}={}){B(this,Po);var i;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=g(Cn,ca))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(g(Cn,ca)||M(Cn,ca,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return jt?Promise.all([Wi.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Zc("main","worker",e),this._messageHandler.on("ready",function(){}),N(this,Po,Hd).call(this)}_initialize(){if(Qi.isWorkerDisabled||g(Cn,Lo,Gd)){this._setupFakeWorker();return}let{workerSrc:e}=Cn;try{Qi.isSameOrigin(window.location.href,e)||(e=Qi.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Zc("main","worker",t),i=()=>{r.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:r.signal}),n.on("test",o=>{if(r.abort(),this.destroyed||!o){i();return}this._messageHandler=n,this._port=t,this._webWorker=t,N(this,Po,Hd).call(this)}),n.on("ready",o=>{if(r.abort(),this.destroyed){i();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};a();return}catch{Df("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Qi.isWorkerDisabled||(Xe("Setting up fake worker."),Qi.isWorkerDisabled=!0),Cn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new Hk;this._port=t;const n=`fake${Qi.fakeWorkerId++}`,i=new Zc(n+"_worker",n,t);e.setup(i,t),this._messageHandler=new Zc(n,n+"_worker",t),N(this,Po,Hd).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=g(Cn,ca))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(n=g(this,ca))==null?void 0:n.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Cn(e)}static get workerSrc(){if(Tr.workerSrc)return Tr.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return et(this,"_setupFakeWorkerGlobal",(async()=>g(this,Lo,Gd)?g(this,Lo,Gd):(await import(this.workerSrc)).WorkerMessageHandler)())}};ca=new WeakMap,Po=new WeakSet,Hd=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Lo=new WeakSet,Gd=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},B(Cn,Lo),B(Cn,ca);let ho=Cn;var lr,Ai,Bo,Oo,Ci,la,Jc;class Gk{constructor(e,t,n,i,r){B(this,la);B(this,lr,new Map);B(this,Ai,new Map);B(this,Bo,new Map);B(this,Oo,new Map);B(this,Ci,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new cx,this.fontLoader=new zR({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return et(this,"annotationStorage",new gy)}getRenderingIntent(e,t=Or.ENABLE,n=null,i=!1){let r=Gn.DISPLAY,a=um;switch(e){case"any":r=Gn.ANY;break;case"display":break;case"print":r=Gn.PRINT;break;default:Xe(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case Or.DISABLE:r+=Gn.ANNOTATIONS_DISABLE;break;case Or.ENABLE:break;case Or.ENABLE_FORMS:r+=Gn.ANNOTATIONS_FORMS;break;case Or.ENABLE_STORAGE:r+=Gn.ANNOTATIONS_STORAGE,a=(r&Gn.PRINT&&n instanceof $_?n:this.annotationStorage).serializable;break;default:Xe(`getRenderingIntent - invalid annotationMode: ${t}`)}return i&&(r+=Gn.OPLIST),{renderingIntent:r,cacheKey:`${r}_${a.hash}`,annotationStorageSerializable:a}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=g(this,Ci))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of g(this,Ai).values())e.push(i._destroy());g(this,Ai).clear(),g(this,Bo).clear(),g(this,Oo).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),g(this,lr).clear(),this.filterFactory.destroy(),mc.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Ha("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,i)=>{Mt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},i.onPull=()=>{this._fullReader.read().then(function({value:r,done:a}){if(a){i.close();return}Mt(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{i.error(r)})},i.onCancel=r=>{this._fullReader.cancel(r),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",n=>{const i=Promise.withResolvers(),r=this._fullReader;return r.headersReady.then(()=>{var a;(!r.isStreamingSupported||!r.isRangeSupported)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),r.onProgress=o=>{var c;(c=t.onProgress)==null||c.call(t,{loaded:o.loaded,total:o.total})}),i.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(n,i)=>{Mt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(n.begin,n.end);if(!r){i.close();return}i.onPull=()=>{r.read().then(function({value:a,done:o}){if(o){i.close();return}Mt(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{r.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new Vk(n,this))}),e.on("DocException",function(n){let i;switch(n.name){case"PasswordException":i=new qg(n.message,n.code);break;case"InvalidPDFException":i=new h_(n.message);break;case"MissingPDFException":i=new za(n.message);break;case"UnexpectedResponseException":i=new Tf(n.message,n.status);break;case"UnknownErrorException":i=new Vg(n.message,n.details);break;default:lt("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",n=>{if(M(this,Ci,Promise.withResolvers()),t.onPassword){const i=r=>{r instanceof Error?g(this,Ci).reject(r):g(this,Ci).resolve({password:r})};try{t.onPassword(i,n.code)}catch(r){g(this,Ci).reject(r)}}else g(this,Ci).reject(new qg(n.message,n.code));return g(this,Ci).promise}),e.on("DataLoaded",n=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;g(this,Ai).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,r])=>{var a;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":const{disableFontFace:o,fontExtraProperties:c,pdfBug:l}=this._params;if("error"in r){const p=r.error;Xe(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}const u=l&&((a=globalThis.FontInspector)!=null&&a.enabled)?(p,y)=>globalThis.FontInspector.fontAdded(p,y):null,d=new HR(r,{disableFontFace:o,inspectFont:u});this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!c&&d.data&&(d.data=null),this.commonObjs.resolve(n,d)});break;case"CopyLocalImage":const{imageRef:h}=r;Mt(h,"The imageRef must be defined.");for(const p of g(this,Ai).values())for(const[,y]of p.objs)if((y==null?void 0:y.ref)===h)return y.dataLen?(this.commonObjs.resolve(n,structuredClone(y)),y.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,r);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,r,a])=>{var c;if(this.destroyed)return;const o=g(this,Ai).get(i);if(!o.objs.has(n)){if(o._intentStates.size===0){(c=a==null?void 0:a.bitmap)==null||c.close();return}switch(r){case"Image":o.objs.resolve(n,a),(a==null?void 0:a.dataLen)>yR&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(n,a);break;default:throw new Error(`Got unknown object type ${r}`)}}}),e.on("DocProgress",n=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(n):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(n):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Xe("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=g(this,Bo).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&g(this,Oo).set(r.refStr,e);const a=new zk(t,r,this,this._params.pdfBug);return g(this,Ai).set(t,a),a});return g(this,Bo).set(t,i),i}getPageIndex(e){return d0(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return N(this,la,Jc).call(this,"GetFieldObjects")}hasJSActions(){return N(this,la,Jc).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return N(this,la,Jc).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return N(this,la,Jc).call(this,"GetOptionalContentConfig").then(t=>new uk(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=g(this,lr).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(i=>{var r,a;return{info:i[0],metadata:i[1]?new ck(i[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return g(this,lr).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of g(this,Ai).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),g(this,lr).clear(),this.filterFactory.destroy(!0),mc.cleanup()}}cachedPageNumber(e){if(!d0(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return g(this,Oo).get(t)??null}}lr=new WeakMap,Ai=new WeakMap,Bo=new WeakMap,Oo=new WeakMap,Ci=new WeakMap,la=new WeakSet,Jc=function(e,t=null){const n=g(this,lr).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return g(this,lr).set(e,i),i};const md=Symbol("INITIAL_DATA");var si,ou,bm;class cx{constructor(){B(this,ou);B(this,si,Object.create(null))}get(e,t=null){if(t){const i=N(this,ou,bm).call(this,e);return i.promise.then(()=>t(i.data)),null}const n=g(this,si)[e];if(!n||n.data===md)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=g(this,si)[e];return!!t&&t.data!==md}resolve(e,t=null){const n=N(this,ou,bm).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in g(this,si)){const{data:n}=g(this,si)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}M(this,si,Object.create(null))}*[Symbol.iterator](){for(const e in g(this,si)){const{data:t}=g(this,si)[e];t!==md&&(yield[e,t])}}}si=new WeakMap,ou=new WeakSet,bm=function(e){var t;return(t=g(this,si))[e]||(t[e]={...Promise.withResolvers(),data:md})};var Zr;class $k{constructor(e){B(this,Zr,null);M(this,Zr,e),this.onContinue=null}get promise(){return g(this,Zr).capability.promise}cancel(e=0){g(this,Zr).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=g(this,Zr).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=g(this,Zr);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Zr=new WeakMap;var Jr,ua;const Ls=class Ls{constructor({callback:e,params:t,objs:n,commonObjs:i,annotationCanvasMap:r,operatorList:a,pageIndex:o,canvasFactory:c,filterFactory:l,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:h=null}){B(this,Jr,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=c,this.filterFactory=l,this._pdfBug=d,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new $k(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var o,c;if(this.cancelled)return;if(this._canvas){if(g(Ls,ua).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");g(Ls,ua).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:i,transform:r,background:a}=this.params;this.gfx=new uo(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:r,viewport:i,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,t=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),g(this,Jr)&&(window.cancelAnimationFrame(g(this,Jr)),M(this,Jr,null)),g(Ls,ua).delete(this._canvas),this.callback(e||new dy(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?M(this,Jr,window.requestAnimationFrame(()=>{M(this,Jr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),g(Ls,ua).delete(this._canvas),this.callback())))}};Jr=new WeakMap,ua=new WeakMap,B(Ls,ua,new WeakSet);let _m=Ls;const Xk="4.4.168",Yk="19fbc8998";function h0(s){return Math.floor(Math.max(0,Math.min(1,s))*255).toString(16).padStart(2,"0")}function wc(s){return Math.max(0,Math.min(255,255*s))}class f0{static CMYK_G([e,t,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=wc(e),[e,e,e]}static G_HTML([e]){const t=h0(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(wc)}static RGB_HTML(e){return`#${e.map(h0).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,n,i]){return[wc(1-Math.min(1,e+i)),wc(1-Math.min(1,n+i)),wc(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const i=1-e,r=1-t,a=1-n,o=Math.min(i,r,a);return["CMYK",i,r,a,o]}}class lx{static setupStorage(e,t,n,i,r){const a=i.getValue(t,{value:null});switch(n.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),r==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),r==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),r==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of n.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const c=o.target.options,l=c.selectedIndex===-1?"":c[c.selectedIndex].value;i.setValue(t,{value:l})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:i,linkService:r}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[c,l]of Object.entries(a))if(l!=null)switch(c){case"class":l.length&&e.setAttribute(c,l.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",l);break;case"style":Object.assign(e.style,l);break;case"textContent":e.textContent=l;break;default:(!o||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,l)}o&&r.addLinkAttributes(e,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(e,a.dataId,t,n)}static render(e){var d,h;const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,r=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:r,linkService:n});const o=r!=="richText",c=e.div;if(c.append(a),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=p}o&&c.setAttribute("class","xfaLayer xfaFont");const l=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);a.append(p),o&&dl.shouldBuildText(i.name)&&l.push(p)}return{textDivs:l}}const u=[[i,-1,a]];for(;u.length>0;){const[p,y,v]=u.at(-1);if(y+1===p.children.length){u.pop();continue}const b=p.children[++u.at(-1)[1]];if(b===null)continue;const{name:_}=b;if(_==="#text"){const D=document.createTextNode(b.value);l.push(D),v.append(D);continue}const x=(d=b==null?void 0:b.attributes)!=null&&d.xmlns?document.createElementNS(b.attributes.xmlns,_):document.createElement(_);if(v.append(x),b.attributes&&this.setAttributes({html:x,element:b,storage:t,intent:r,linkService:n}),((h=b.children)==null?void 0:h.length)>0)u.push([b,-1,x]);else if(b.value){const D=document.createTextNode(b.value);o&&dl.shouldBuildText(_)&&l.push(D),x.append(D)}}for(const p of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:l}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const ed=1e3,Kk=9,Oa=new WeakSet;function Ar(s){return{width:s[2]-s[0],height:s[3]-s[1]}}class Zk{static create(e){switch(e.data.annotationType){case Ut.LINK:return new ux(e);case Ut.TEXT:return new Jk(e);case Ut.WIDGET:switch(e.data.fieldType){case"Tx":return new Qk(e);case"Btn":return e.data.radioButton?new fx(e):e.data.checkBox?new e3(e):new t3(e);case"Ch":return new n3(e);case"Sig":return new jk(e)}return new Ga(e);case Ut.POPUP:return new Dm(e);case Ut.FREETEXT:return new vx(e);case Ut.LINE:return new r3(e);case Ut.SQUARE:return new s3(e);case Ut.CIRCLE:return new a3(e);case Ut.POLYLINE:return new bx(e);case Ut.CARET:return new c3(e);case Ut.INK:return new _x(e);case Ut.POLYGON:return new o3(e);case Ut.HIGHLIGHT:return new l3(e);case Ut.UNDERLINE:return new u3(e);case Ut.SQUIGGLY:return new d3(e);case Ut.STRIKEOUT:return new h3(e);case Ut.STAMP:return new xx(e);case Ut.FILEATTACHMENT:return new f3(e);default:return new Tt(e)}}}var da,Wo,qo,cu,xm;const lv=class lv{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){B(this,cu);B(this,da,null);B(this,Wo,!1);B(this,qo,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:n}){return!!(e!=null&&e.str||t!=null&&t.str||n!=null&&n.str)}get hasPopupData(){return lv._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;g(this,da)||M(this,da,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&N(this,cu,xm).call(this,t),(n=g(this,qo))==null||n.popup.updateEdited(e)}resetEdited(){var e;g(this,da)&&(N(this,cu,xm).call(this,g(this,da).rect),(e=g(this,qo))==null||e.popup.resetEdited(),M(this,da,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",t.id),this instanceof Ga||(r.tabIndex=ed);const{style:a}=r;if(a.zIndex=this.parent.zIndex++,t.popupRef&&r.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(r.title=t.alternativeText),t.noRotate&&r.classList.add("norotate"),!t.rect||this instanceof Dm){const{rotation:v}=t;return!t.hasOwnCanvas&&v!==0&&this.setRotation(v,r),r}const{width:o,height:c}=Ar(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const v=t.borderStyle.horizontalCornerRadius,b=t.borderStyle.verticalCornerRadius;if(v>0||b>0){const x=`calc(${v}px * var(--scale-factor)) / calc(${b}px * var(--scale-factor))`;a.borderRadius=x}else if(this instanceof fx){const x=`calc(${o}px * var(--scale-factor)) / calc(${c}px * var(--scale-factor))`;a.borderRadius=x}switch(t.borderStyle.style){case Cc.SOLID:a.borderStyle="solid";break;case Cc.DASHED:a.borderStyle="dashed";break;case Cc.BEVELED:Xe("Unimplemented border style: beveled");break;case Cc.INSET:Xe("Unimplemented border style: inset");break;case Cc.UNDERLINE:a.borderBottomStyle="solid";break}const _=t.borderColor||null;_?(M(this,Wo,!0),a.borderColor=Re.makeHexColor(_[0]|0,_[1]|0,_[2]|0)):a.borderWidth=0}const l=Re.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:u,pageHeight:d,pageX:h,pageY:p}=i.rawDims;a.left=`${100*(l[0]-h)/u}%`,a.top=`${100*(l[1]-p)/d}%`;const{rotation:y}=t;return t.hasOwnCanvas||y===0?(a.width=`${100*o/u}%`,a.height=`${100*c/d}%`):this.setRotation(y,r),r}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims,{width:r,height:a}=Ar(this.data.rect);let o,c;e%180===0?(o=100*r/n,c=100*a/i):(o=100*a/n,c=100*r/i),t.style.width=`${o}%`,t.style.height=`${c}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,i)=>{const r=i.detail[t],a=r[0],o=r.slice(1);i.target.style[n]=f0[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:f0[`${a}_rgb`](o)})};return et(this,"_commonActions",{display:t=>{const{display:n}=t.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail)){const r=e[i]||n[i];r==null||r(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,r]of Object.entries(t)){const a=n[i];if(a){const o={detail:{[i]:r},target:e};a(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,r]=this.data.rect.map(v=>Math.fround(v));if(e.length===8){const[v,b,_,x]=e.subarray(2,6);if(i===v&&r===b&&t===_&&n===x)return}const{style:a}=this.container;let o;if(g(this,Wo)){const{borderColor:v,borderWidth:b}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const c=i-t,l=r-n,{svgFactory:u}=this,d=u.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const h=u.createElement("defs");d.append(h);const p=u.createElement("clipPath"),y=`clippath_${this.data.id}`;p.setAttribute("id",y),p.setAttribute("clipPathUnits","objectBoundingBox"),h.append(p);for(let v=2,b=e.length;v<b;v+=8){const _=e[v],x=e[v+1],D=e[v+2],A=e[v+3],T=u.createElement("rect"),E=(D-t)/c,F=(r-x)/l,I=(_-D)/c,U=(x-A)/l;T.setAttribute("x",E),T.setAttribute("y",F),T.setAttribute("width",I),T.setAttribute("height",U),p.append(T),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${E}" y="${F}" width="${I}" height="${U}"/>`)}g(this,Wo)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(d),this.container.style.clipPath=`url(#${y})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const n=M(this,qo,new Dm({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(n.render())}render(){lt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:r,id:a,exportValues:o}of i){if(r===-1||a===t)continue;const c=typeof o=="string"?o:null,l=document.querySelector(`[data-element-id="${a}"]`);if(l&&!Oa.has(l)){Xe(`_getElementsByName - element not allowed: ${a}`);continue}n.push({id:a,exportValue:c,domElement:l})}return n}for(const i of document.getElementsByName(e)){const{exportValue:r}=i,a=i.getAttribute("data-element-id");a!==t&&Oa.has(i)&&n.push({id:a,exportValue:r,domElement:i})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};da=new WeakMap,Wo=new WeakMap,qo=new WeakMap,cu=new WeakSet,xm=function(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:a,pageX:o,pageY:c}}}}=this;n==null||n.splice(0,4,...e);const{width:l,height:u}=Ar(e);t.left=`${100*(e[0]-o)/r}%`,t.top=`${100*(a-e[3]+c)/a}%`,i===0?(t.width=`${100*l/r}%`,t.height=`${100*u/a}%`):this.setRotation(i)};let Tt=lv;var Nn,ks,dx,hx;class ux extends Tt{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});B(this,Nn);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let r=!1;return t.url?(n.addLinkAttributes(i,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(i,t.action),r=!0):t.attachment?(N(this,Nn,dx).call(this,i,t.attachment,t.attachmentDest),r=!0):t.setOCGState?(N(this,Nn,hx).call(this,i,t.setOCGState),r=!0):t.dest?(this._bindLink(i,t.dest),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),r=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(i),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&N(this,Nn,ks).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),N(this,Nn,ks).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(n.actions)){const a=i.get(r);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:r}}),!1})}t.onclick||(t.onclick=()=>!1),N(this,Nn,ks).call(this)}_bindResetFormAction(t,n){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),N(this,Nn,ks).call(this),!this._fieldObjects){Xe('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var d;i==null||i();const{fields:r,refs:a,include:o}=n,c=[];if(r.length!==0||a.length!==0){const h=new Set(a);for(const p of r){const y=this._fieldObjects[p]||[];for(const{id:v}of y)h.add(v)}for(const p of Object.values(this._fieldObjects))for(const y of p)h.has(y.id)===o&&c.push(y)}else for(const h of Object.values(this._fieldObjects))c.push(...h);const l=this.annotationStorage,u=[];for(const h of c){const{id:p}=h;switch(u.push(p),h.type){case"text":{const v=h.defaultValue||"";l.setValue(p,{value:v});break}case"checkbox":case"radiobutton":{const v=h.defaultValue===h.exportValues;l.setValue(p,{value:v});break}case"combobox":case"listbox":{const v=h.defaultValue||"";l.setValue(p,{value:v});break}default:continue}const y=document.querySelector(`[data-element-id="${p}"]`);if(y){if(!Oa.has(y)){Xe(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}Nn=new WeakSet,ks=function(){this.container.setAttribute("data-internal-link","")},dx=function(t,n,i=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var r;return(r=this.downloadManager)==null||r.openOrDownloadData(n.content,n.filename,i),!1},N(this,Nn,ks).call(this)},hx=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),N(this,Nn,ks).call(this)};class Jk extends Tt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Ga extends Tt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return yn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,r){n.includes("mouse")?e.addEventListener(n,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(n,a=>{var o;if(n==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}r&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(a)}}))})}_setEventListeners(e,t,n,i){var r,a,o;for(const[c,l]of n)(l==="Action"||(r=this.data.actions)!=null&&r[l])&&((l==="Focus"||l==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,c,l,i),l==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):l==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Re.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Kk,r=e.style;let a;const o=2,c=l=>Math.round(10*l)/10;if(this.data.multiLine){const l=Math.abs(this.data.rect[3]-this.data.rect[1]-o),u=Math.round(l/(op*i))||1,d=l/u;a=Math.min(i,c(d/op))}else{const l=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,c(l/op))}r.fontSize=`calc(${a}px * var(--scale-factor))`,r.color=Re.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(r.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Qk extends Ga{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,i){const r=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=n),r.setValue(a.id,{[i]:n})}render(){var i,r;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const c=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&o.length>c&&(o=o.slice(0,c));let l=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const u={userValue:o,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=l??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",l??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Oa.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=ed,this._setRequired(n,this.data.required),c&&(n.maxLength=c),n.addEventListener("input",h=>{e.setValue(t,{value:h.target.value}),this.setPropertyOnSiblings(n,"value",h.target.value,"value"),u.formattedValue=null}),n.addEventListener("resetform",h=>{const p=this.data.defaultFieldValue??"";n.value=u.userValue=p,u.formattedValue=null});let d=h=>{const{formattedValue:p}=u;p!=null&&(h.target.value=p),h.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",p=>{var v;if(u.focused)return;const{target:y}=p;u.userValue&&(y.value=u.userValue),u.lastCommittedValue=y.value,u.commitKey=1,(v=this.data.actions)!=null&&v.Focus||(u.focused=!0)}),n.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const y={value(v){u.userValue=v.detail.value??"",e.setValue(t,{value:u.userValue.toString()}),v.target.value=u.userValue},formattedValue(v){const{formattedValue:b}=v.detail;u.formattedValue=b,b!=null&&v.target!==document.activeElement&&(v.target.value=b),e.setValue(t,{formattedValue:b})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{var D;const{charLimit:b}=v.detail,{target:_}=v;if(b===0){_.removeAttribute("maxLength");return}_.setAttribute("maxLength",b);let x=u.userValue;!x||x.length<=b||(x=x.slice(0,b),_.value=u.userValue=x,e.setValue(t,{value:x}),(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:1,selStart:_.selectionStart,selEnd:_.selectionEnd}}))}};this._dispatchEventFromSandbox(y,p)}),n.addEventListener("keydown",p=>{var b;u.commitKey=1;let y=-1;if(p.key==="Escape"?y=0:p.key==="Enter"&&!this.data.multiLine?y=2:p.key==="Tab"&&(u.commitKey=3),y===-1)return;const{value:v}=p.target;u.lastCommittedValue!==v&&(u.lastCommittedValue=v,u.userValue=v,(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:y,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const h=d;d=null,n.addEventListener("blur",p=>{var v,b;if(!u.focused||!p.relatedTarget)return;(v=this.data.actions)!=null&&v.Blur||(u.focused=!1);const{value:y}=p.target;u.userValue=y,u.lastCommittedValue!==y&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:u.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),h(p)}),(r=this.data.actions)!=null&&r.Keystroke&&n.addEventListener("beforeinput",p=>{var T;u.lastCommittedValue=null;const{data:y,target:v}=p,{value:b,selectionStart:_,selectionEnd:x}=v;let D=_,A=x;switch(p.inputType){case"deleteWordBackward":{const E=b.substring(0,_).match(/\w*[^\w]*$/);E&&(D-=E[0].length);break}case"deleteWordForward":{const E=b.substring(_).match(/^[^\w]*\w*/);E&&(A+=E[0].length);break}case"deleteContentBackward":_===x&&(D-=1);break;case"deleteContentForward":_===x&&(A+=1);break}p.preventDefault(),(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,change:y||"",willCommit:!1,selStart:D,selEnd:A}})}),this._setEventListeners(n,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&n.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/c;n.classList.add("comb"),n.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class jk extends Ga{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class e3 extends Ga{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return Oa.add(r),r.setAttribute("data-element-id",n),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.setAttribute("exportValue",t.exportValue),r.tabIndex=ed,r.addEventListener("change",a=>{const{name:o,checked:c}=a.target;for(const l of this._getElementsByName(o,n)){const u=c&&l.exportValue===t.exportValue;l.domElement&&(l.domElement.checked=u),e.setValue(l.id,{value:u})}e.setValue(n,{value:c})}),r.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",a=>{const o={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(n,{value:c.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class fx extends Ga{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,n))e.setValue(a.id,{value:!1});const r=document.createElement("input");if(Oa.add(r),r.setAttribute("data-element-id",n),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.tabIndex=ed,r.addEventListener("change",a=>{const{name:o,checked:c}=a.target;for(const l of this._getElementsByName(o,n))e.setValue(l.id,{value:!1});e.setValue(n,{value:c})}),r.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;r.addEventListener("updatefromsandbox",o=>{const c={value:l=>{const u=a===l.detail.value;for(const d of this._getElementsByName(l.target.name)){const h=u&&d.id===n;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class t3 extends ux{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class n3 extends Ga{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Oa.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=ed;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const d=this.data.defaultFieldValue;for(const h of i.options)h.selected=h.value===d});for(const u of this.data.options){const d=document.createElement("option");d.textContent=u.displayValue,d.value=u.exportValue,n.value.includes(u.exportValue)&&(d.setAttribute("selected",!0),r=!1),i.append(d)}let a=null;if(r){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),a=()=>{u.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=u=>{const d=u?"value":"textContent",{options:h,multiple:p}=i;return p?Array.prototype.filter.call(h,y=>y.selected).map(y=>y[d]):h.selectedIndex===-1?null:h[h.selectedIndex][d]};let c=o(!1);const l=u=>{const d=u.target.options;return Array.prototype.map.call(d,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const d={value(h){a==null||a();const p=h.detail.value,y=new Set(Array.isArray(p)?p:[p]);for(const v of i.options)v.selected=y.has(v.value);e.setValue(t,{value:o(!0)}),c=o(!1)},multipleSelection(h){i.multiple=!0},remove(h){const p=i.options,y=h.detail.remove;p[y].selected=!1,i.remove(y),p.length>0&&Array.prototype.findIndex.call(p,b=>b.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:o(!0),items:l(h)}),c=o(!1)},clear(h){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),c=o(!1)},insert(h){const{index:p,displayValue:y,exportValue:v}=h.detail.insert,b=i.children[p],_=document.createElement("option");_.textContent=y,_.value=v,b?b.before(_):i.append(_),e.setValue(t,{value:o(!0),items:l(h)}),c=o(!1)},items(h){const{items:p}=h.detail;for(;i.length!==0;)i.remove(0);for(const y of p){const{displayValue:v,exportValue:b}=y,_=document.createElement("option");_.textContent=v,_.value=b,i.append(_)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:l(h)}),c=o(!1)},indices(h){const p=new Set(h.detail.indices);for(const y of h.target.options)y.selected=p.has(y.index);e.setValue(t,{value:o(!0)}),c=o(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(d,u)}),i.addEventListener("input",u=>{var p;const d=o(!0),h=o(!1);e.setValue(t,{value:d}),u.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:h,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Dm extends Tt{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:Tt._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new i3({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(n=>`${p_}${n}`).join(",")),this.container}}var Vo,df,hf,zo,ha,_t,ur,fa,lu,uu,Ho,dr,ai,hr,du,fr,hu,pa,ga,ut,$d,Tm,px,gx,mx,yx,Xd,Yd,Am;class i3{constructor({container:e,color:t,elements:n,titleObj:i,modificationDate:r,contentsObj:a,richText:o,parent:c,rect:l,parentRect:u,open:d}){B(this,ut);B(this,Vo,N(this,ut,mx).bind(this));B(this,df,N(this,ut,Am).bind(this));B(this,hf,N(this,ut,Yd).bind(this));B(this,zo,N(this,ut,Xd).bind(this));B(this,ha,null);B(this,_t,null);B(this,ur,null);B(this,fa,null);B(this,lu,null);B(this,uu,null);B(this,Ho,null);B(this,dr,!1);B(this,ai,null);B(this,hr,null);B(this,du,null);B(this,fr,null);B(this,hu,null);B(this,pa,null);B(this,ga,!1);var h;M(this,_t,e),M(this,hu,i),M(this,ur,a),M(this,fr,o),M(this,uu,c),M(this,ha,t),M(this,du,l),M(this,Ho,u),M(this,lu,n),M(this,fa,b_.toDateObject(r)),this.trigger=n.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",g(this,zo)),p.addEventListener("mouseenter",g(this,hf)),p.addEventListener("mouseleave",g(this,df)),p.classList.add("popupTriggerArea");for(const p of n)(h=p.container)==null||h.addEventListener("keydown",g(this,Vo));g(this,_t).hidden=!0,d&&N(this,ut,Xd).call(this)}render(){if(g(this,ai))return;const e=M(this,ai,document.createElement("div"));if(e.className="popup",g(this,ha)){const r=e.style.outlineColor=Re.makeHexColor(...g(this,ha));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`:e.style.backgroundColor=Re.makeHexColor(...g(this,ha).map(o=>Math.floor(.7*(255-o)+o)))}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=g(this,hu),e.append(t),g(this,fa)){const r=document.createElement("span");r.classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),r.setAttribute("data-l10n-args",JSON.stringify({date:g(this,fa).toLocaleDateString(),time:g(this,fa).toLocaleTimeString()})),t.append(r)}const i=g(this,ut,$d);if(i)lx.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(g(this,ur));e.append(r)}g(this,_t).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let r=0,a=i.length;r<a;++r){const o=i[r];n.append(document.createTextNode(o)),r<a-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;g(this,pa)||M(this,pa,{contentsObj:g(this,ur),richText:g(this,fr)}),e&&M(this,hr,null),t&&(M(this,fr,N(this,ut,gx).call(this,t)),M(this,ur,null)),(n=g(this,ai))==null||n.remove(),M(this,ai,null)}resetEdited(){var e;g(this,pa)&&({contentsObj:Tn(this,ur)._,richText:Tn(this,fr)._}=g(this,pa),M(this,pa,null),(e=g(this,ai))==null||e.remove(),M(this,ai,null),M(this,hr,null))}forceHide(){M(this,ga,this.isVisible),g(this,ga)&&(g(this,_t).hidden=!0)}maybeShow(){g(this,ga)&&(g(this,ai)||N(this,ut,Yd).call(this),M(this,ga,!1),g(this,_t).hidden=!1)}get isVisible(){return g(this,_t).hidden===!1}}Vo=new WeakMap,df=new WeakMap,hf=new WeakMap,zo=new WeakMap,ha=new WeakMap,_t=new WeakMap,ur=new WeakMap,fa=new WeakMap,lu=new WeakMap,uu=new WeakMap,Ho=new WeakMap,dr=new WeakMap,ai=new WeakMap,hr=new WeakMap,du=new WeakMap,fr=new WeakMap,hu=new WeakMap,pa=new WeakMap,ga=new WeakMap,ut=new WeakSet,$d=function(){const e=g(this,fr),t=g(this,ur);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&g(this,fr).html||null},Tm=function(){var e,t,n;return((n=(t=(e=g(this,ut,$d))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},px=function(){var e,t,n;return((n=(t=(e=g(this,ut,$d))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},gx=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:g(this,ut,px),fontSize:g(this,ut,Tm)?`calc(${g(this,ut,Tm)}px * var(--scale-factor))`:""}};for(const r of e.split(`
`))t.push({name:"span",value:r,attributes:i});return n},mx=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&g(this,dr))&&N(this,ut,Xd).call(this)},yx=function(){if(g(this,hr)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:r}}}=g(this,uu);let a=!!g(this,Ho),o=a?g(this,Ho):g(this,du);for(const y of g(this,lu))if(!o||Re.intersect(y.data.rect,o)!==null){o=y.data.rect,a=!0;break}const c=Re.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),u=a?o[2]-o[0]+5:0,d=c[0]+u,h=c[1];M(this,hr,[100*(d-i)/t,100*(h-r)/n]);const{style:p}=g(this,_t);p.left=`${g(this,hr)[0]}%`,p.top=`${g(this,hr)[1]}%`},Xd=function(){M(this,dr,!g(this,dr)),g(this,dr)?(N(this,ut,Yd).call(this),g(this,_t).addEventListener("click",g(this,zo)),g(this,_t).addEventListener("keydown",g(this,Vo))):(N(this,ut,Am).call(this),g(this,_t).removeEventListener("click",g(this,zo)),g(this,_t).removeEventListener("keydown",g(this,Vo)))},Yd=function(){g(this,ai)||this.render(),this.isVisible?g(this,dr)&&g(this,_t).classList.add("focused"):(N(this,ut,yx).call(this),g(this,_t).hidden=!1,g(this,_t).style.zIndex=parseInt(g(this,_t).style.zIndex)+1e3)},Am=function(){g(this,_t).classList.remove("focused"),!(g(this,dr)||!this.isVisible)&&(g(this,_t).hidden=!0,g(this,_t).style.zIndex=parseInt(g(this,_t).style.zIndex)-1e3)};class vx extends Tt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=je.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var fu;class r3 extends Tt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});B(this,fu,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:n,height:i}=Ar(t.rect),r=this.svgFactory.create(n,i,!0),a=M(this,fu,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,fu)}addHighlightArea(){this.container.classList.add("highlightArea")}}fu=new WeakMap;var pu;class s3 extends Tt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});B(this,pu,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:n,height:i}=Ar(t.rect),r=this.svgFactory.create(n,i,!0),a=t.borderStyle.width,o=M(this,pu,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",n-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,pu)}addHighlightArea(){this.container.classList.add("highlightArea")}}pu=new WeakMap;var gu;class a3 extends Tt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});B(this,gu,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:n,height:i}=Ar(t.rect),r=this.svgFactory.create(n,i,!0),a=t.borderStyle.width,o=M(this,gu,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",n/2),o.setAttribute("cy",i/2),o.setAttribute("rx",n/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,gu)}addHighlightArea(){this.container.classList.add("highlightArea")}}gu=new WeakMap;var mu;class bx extends Tt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});B(this,mu,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:i,popupRef:r}}=this;if(!n)return this.container;const{width:a,height:o}=Ar(t),c=this.svgFactory.create(a,o,!0);let l=[];for(let d=0,h=n.length;d<h;d+=2){const p=n[d]-t[0],y=t[3]-n[d+1];l.push(`${p},${y}`)}l=l.join(" ");const u=M(this,mu,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",l),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),c.append(u),this.container.append(c),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,mu)}addHighlightArea(){this.container.classList.add("highlightArea")}}mu=new WeakMap;class o3 extends bx{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class c3 extends Tt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var yu;class _x extends Tt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});B(this,yu,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=je.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:n,borderStyle:i,popupRef:r}}=this,{width:a,height:o}=Ar(t),c=this.svgFactory.create(a,o,!0);for(const l of n){let u=[];for(let h=0,p=l.length;h<p;h+=2){const y=l[h]-t[0],v=t[3]-l[h+1];u.push(`${y},${v}`)}u=u.join(" ");const d=this.svgFactory.createElement(this.svgElementName);g(this,yu).push(d),d.setAttribute("points",u),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),!r&&this.hasPopupData&&this._createPopup(),c.append(d)}return this.container.append(c),this.container}getElementsToTriggerPopup(){return g(this,yu)}addHighlightArea(){this.container.classList.add("highlightArea")}}yu=new WeakMap;class l3 extends Tt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class u3 extends Tt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class d3 extends Tt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class h3 extends Tt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class xx extends Tt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var vu,bu,Cm;class f3 extends Tt{constructor(t){var i;super(t,{isRenderable:!0});B(this,bu);B(this,vu,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",N(this,bu,Cm).bind(this)),M(this,vu,i);const{isMac:r}=yn.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(r?a.metaKey:a.ctrlKey)&&N(this,bu,Cm).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return g(this,vu)}addHighlightArea(){this.container.classList.add("highlightArea")}}vu=new WeakMap,bu=new WeakSet,Cm=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var _u,ma,Go,qa,Dx,Em;class p3{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:i,page:r,viewport:a}){B(this,qa);B(this,_u,null);B(this,ma,null);B(this,Go,new Map);this.div=e,M(this,_u,t),M(this,ma,n),this.page=r,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i}async render(e){var a;const{annotations:t}=e,n=this.div;La(n,this.viewport);const i=new Map,r={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new uy,annotationStorage:e.annotationStorage||new gy,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const c=o.annotationType===Ut.POPUP;if(c){const d=i.get(o.id);if(!d)continue;r.elements=d}else{const{width:d,height:h}=Ar(o.rect);if(d<=0||h<=0)continue}r.data=o;const l=Zk.create(r);if(!l.isRenderable)continue;if(!c&&o.popupRef){const d=i.get(o.popupRef);d?d.push(l):i.set(o.popupRef,[l])}const u=l.render();o.hidden&&(u.style.visibility="hidden"),N(this,qa,Dx).call(this,u,o.id),l.annotationEditorType>0&&(g(this,Go).set(l.data.id,l),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(l))}N(this,qa,Em).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,La(t,{rotation:e.rotation}),N(this,qa,Em).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(g(this,Go).values())}getEditableAnnotation(e){return g(this,Go).get(e)}}_u=new WeakMap,ma=new WeakMap,Go=new WeakMap,qa=new WeakSet,Dx=function(e,t){var i;const n=e.firstChild||e;n.id=`${p_}${t}`,this.div.append(e),(i=g(this,_u))==null||i.moveElementInDOM(this.div,e,n,!1)},Em=function(){if(!g(this,ma))return;const e=this.div;for(const[t,n]of g(this,ma)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:r}=i;r?r.nodeName==="CANVAS"?r.replaceWith(n):r.classList.contains("annotationContent")?r.after(n):r.before(n):i.append(n)}g(this,ma).clear()};const yd=/\r\n?|\n/g;var xu,Du,Tu,Au,Cu,oi,Un,Eu,Fn,$o,St,Tx,Ax,Cx,Kd,Er,Zd,Jd,Ex,Sm,wx;const ft=class ft extends ot{constructor(t){super({...t,name:"freeTextEditor"});B(this,St);B(this,xu,this.editorDivBlur.bind(this));B(this,Du,this.editorDivFocus.bind(this));B(this,Tu,this.editorDivInput.bind(this));B(this,Au,this.editorDivKeydown.bind(this));B(this,Cu,this.editorDivPaste.bind(this));B(this,oi);B(this,Un,"");B(this,Eu,`${this.id}-editor`);B(this,Fn);B(this,$o,null);M(this,oi,t.color||ft._defaultColor||ot._defaultLineColor),M(this,Fn,t.fontSize||ft._defaultFontSize)}static get _keyboardManager(){const t=ft.prototype,n=a=>a.isEmpty(),i=Ba.TRANSLATE_SMALL,r=Ba.TRANSLATE_BIG;return et(this,"_keyboardManager",new Qu([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:n}]]))}static initialize(t,n){ot.initialize(t,n,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case We.FREETEXT_SIZE:ft._defaultFontSize=n;break;case We.FREETEXT_COLOR:ft._defaultColor=n;break}}updateParams(t,n){switch(t){case We.FREETEXT_SIZE:N(this,St,Tx).call(this,n);break;case We.FREETEXT_COLOR:N(this,St,Ax).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[We.FREETEXT_SIZE,ft._defaultFontSize],[We.FREETEXT_COLOR,ft._defaultColor||ot._defaultLineColor]]}get propertiesToUpdate(){return[[We.FREETEXT_SIZE,g(this,Fn)],[We.FREETEXT_COLOR,g(this,oi)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-ft._internalPadding*t,-(ft._internalPadding+g(this,Fn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(je.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const t=this._uiManager._signal;this.editorDiv.addEventListener("keydown",g(this,Au),{signal:t}),this.editorDiv.addEventListener("focus",g(this,Du),{signal:t}),this.editorDiv.addEventListener("blur",g(this,xu),{signal:t}),this.editorDiv.addEventListener("input",g(this,Tu),{signal:t}),this.editorDiv.addEventListener("paste",g(this,Cu),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",g(this,Eu)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",g(this,Au)),this.editorDiv.removeEventListener("focus",g(this,Du)),this.editorDiv.removeEventListener("blur",g(this,xu)),this.editorDiv.removeEventListener("input",g(this,Tu)),this.editorDiv.removeEventListener("paste",g(this,Cu)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=g(this,Un),n=M(this,Un,N(this,St,Cx).call(this).trimEnd());if(t===n)return;const i=r=>{if(M(this,Un,r),!r){this.remove();return}N(this,St,Jd).call(this),this._uiManager.rebuild(this),N(this,St,Kd).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(t)},mustExec:!1}),N(this,St,Kd).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){ft._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",g(this,Eu)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),ot._l10nPromise.get("pdfjs-free-text-default-content").then(r=>{var a;return(a=this.editorDiv)==null?void 0:a.setAttribute("default-content",r)}),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${g(this,Fn)}px * var(--scale-factor))`,i.color=g(this,oi),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Oh(this,this.div,["dblclick","keydown"]),this.width){const[r,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=g(this,$o);let[c,l]=this.getInitialTranslation();[c,l]=this.pageTranslationToScreen(c,l);const[u,d]=this.pageDimensions,[h,p]=this.pageTranslation;let y,v;switch(this.rotation){case 0:y=t+(o[0]-h)/u,v=n+this.height-(o[1]-p)/d;break;case 90:y=t+(o[0]-h)/u,v=n-(o[1]-p)/d,[c,l]=[l,-c];break;case 180:y=t-this.width+(o[0]-h)/u,v=n-(o[1]-p)/d,[c,l]=[-c,-l];break;case 270:y=t+(o[0]-h-this.height*d)/u,v=n+(o[1]-p-this.width*u)/d,[c,l]=[-l,c];break}this.setAt(y*r,v*a,c,l)}else this.setAt(t*r,n*a,this.width*r,this.height*a);N(this,St,Jd).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var y,v,b;const n=t.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const r=N(y=ft,Er,Sm).call(y,n.getData("text")||"").replaceAll(yd,`
`);if(!r)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!r.includes(`
`)){o.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:c,startOffset:l}=o,u=[],d=[];if(c.nodeType===Node.TEXT_NODE){const _=c.parentElement;if(d.push(c.nodeValue.slice(l).replaceAll(yd,"")),_!==this.editorDiv){let x=u;for(const D of this.editorDiv.childNodes){if(D===_){x=d;continue}x.push(N(v=ft,Er,Zd).call(v,D))}}u.push(c.nodeValue.slice(0,l).replaceAll(yd,""))}else if(c===this.editorDiv){let _=u,x=0;for(const D of this.editorDiv.childNodes)x++===l&&(_=d),_.push(N(b=ft,Er,Zd).call(b,D))}M(this,Un,`${u.join(`
`)}${r}${d.join(`
`)}`),N(this,St,Jd).call(this);const h=new Range;let p=u.reduce((_,x)=>_+x.length,0);for(const{firstChild:_}of this.editorDiv.childNodes)if(_.nodeType===Node.TEXT_NODE){const x=_.nodeValue.length;if(p<=x){h.setStart(_,p),h.setEnd(_,p);break}p-=x}a.removeAllRanges(),a.addRange(h)}get contentDiv(){return this.editorDiv}static deserialize(t,n,i){var o;let r=null;if(t instanceof vx){const{data:{defaultAppearanceData:{fontSize:c,fontColor:l},rect:u,rotation:d,id:h},textContent:p,textPosition:y,parent:{page:{pageNumber:v}}}=t;if(!p||p.length===0)return null;r=t={annotationType:je.FREETEXT,color:Array.from(l),fontSize:c,value:p.join(`
`),position:y,pageIndex:v-1,rect:u.slice(0),rotation:d,id:h,deleted:!1}}const a=super.deserialize(t,n,i);return M(a,Fn,t.fontSize),M(a,oi,Re.makeHexColor(...t.color)),M(a,Un,N(o=ft,Er,Sm).call(o,t.value)),a.annotationElementId=t.id||null,M(a,$o,r),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const n=ft._internalPadding*this.parentScale,i=this.getRect(n,n),r=ot._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:g(this,oi)),a={annotationType:je.FREETEXT,color:r,fontSize:g(this,Fn),value:N(this,St,Ex).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?a:this.annotationElementId&&!N(this,St,wx).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:i}=n;i.fontSize=`calc(${g(this,Fn)}px * var(--scale-factor))`,i.color=g(this,oi),n.replaceChildren();for(const a of g(this,Un).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),n.append(o)}const r=ft._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(r,r),popupContent:g(this,Un)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};xu=new WeakMap,Du=new WeakMap,Tu=new WeakMap,Au=new WeakMap,Cu=new WeakMap,oi=new WeakMap,Un=new WeakMap,Eu=new WeakMap,Fn=new WeakMap,$o=new WeakMap,St=new WeakSet,Tx=function(t){const n=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--scale-factor))`,this.translate(0,-(r-g(this,Fn))*this.parentScale),M(this,Fn,r),N(this,St,Kd).call(this)},i=g(this,Fn);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Ax=function(t){const n=r=>{M(this,oi,this.editorDiv.style.color=r)},i=g(this,oi);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Cx=function(){var n;const t=[];this.editorDiv.normalize();for(const i of this.editorDiv.childNodes)t.push(N(n=ft,Er,Zd).call(n,i));return t.join(`
`)},Kd=function(){const[t,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:r,div:a}=this,o=a.style.display,c=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",r.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/n):(this.width=i.height/t,this.height=i.width/n),this.fixAndSetPosition()},Er=new WeakSet,Zd=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(yd,"")},Jd=function(){if(this.editorDiv.replaceChildren(),!!g(this,Un))for(const t of g(this,Un).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},Ex=function(){return g(this,Un).replaceAll(""," ")},Sm=function(t){return t.replaceAll(" ","")},wx=function(t){const{value:n,fontSize:i,color:r,pageIndex:a}=g(this,$o);return this._hasBeenMoved||t.value!==n||t.fontSize!==i||t.color.some((o,c)=>o!==r[c])||t.pageIndex!==a},B(ft,Er),qe(ft,"_freeTextDefaultContent",""),qe(ft,"_internalPadding",0),qe(ft,"_defaultColor",null),qe(ft,"_defaultFontSize",10),qe(ft,"_type","freetext"),qe(ft,"_editorType",je.FREETEXT);let wm=ft;var wu,Qr,ci,cn,Sx,Qd,Ux,Fx,Fm;class Um{constructor(e,t=0,n=0,i=!0){B(this,cn);B(this,wu);B(this,Qr,[]);B(this,ci,[]);let r=1/0,a=-1/0,o=1/0,c=-1/0;const l=10**-4;for(const{x:b,y:_,width:x,height:D}of e){const A=Math.floor((b-t)/l)*l,T=Math.ceil((b+x+t)/l)*l,E=Math.floor((_-t)/l)*l,F=Math.ceil((_+D+t)/l)*l,I=[A,E,F,!0],U=[T,E,F,!1];g(this,Qr).push(I,U),r=Math.min(r,A),a=Math.max(a,T),o=Math.min(o,E),c=Math.max(c,F)}const u=a-r+2*n,d=c-o+2*n,h=r-n,p=o-n,y=g(this,Qr).at(i?-1:-2),v=[y[0],y[2]];for(const b of g(this,Qr)){const[_,x,D]=b;b[0]=(_-h)/u,b[1]=(x-p)/d,b[2]=(D-p)/d}M(this,wu,{x:h,y:p,width:u,height:d,lastPoint:v})}getOutlines(){g(this,Qr).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of g(this,Qr))t[3]?(e.push(...N(this,cn,Fm).call(this,t)),N(this,cn,Ux).call(this,t)):(N(this,cn,Fx).call(this,t),e.push(...N(this,cn,Fm).call(this,t)));return N(this,cn,Sx).call(this,e)}}wu=new WeakMap,Qr=new WeakMap,ci=new WeakMap,cn=new WeakSet,Sx=function(e){const t=[],n=new Set;for(const a of e){const[o,c,l]=a;t.push([o,c,a],[o,l,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const c=t[a][2],l=t[a+1][2];c.push(l),l.push(c),n.add(c),n.add(l)}const i=[];let r;for(;n.size>0;){const a=n.values().next().value;let[o,c,l,u,d]=a;n.delete(a);let h=o,p=c;for(r=[o,l],i.push(r);;){let y;if(n.has(u))y=u;else if(n.has(d))y=d;else break;n.delete(y),[o,c,l,u,d]=y,h!==o&&(r.push(h,p,o,p===c?c:l),h=o),p=p===c?l:c}r.push(h,p)}return new g3(i,g(this,wu))},Qd=function(e){const t=g(this,ci);let n=0,i=t.length-1;for(;n<=i;){const r=n+i>>1,a=t[r][0];if(a===e)return r;a<e?n=r+1:i=r-1}return i+1},Ux=function([,e,t]){const n=N(this,cn,Qd).call(this,e);g(this,ci).splice(n,0,[e,t])},Fx=function([,e,t]){const n=N(this,cn,Qd).call(this,e);for(let i=n;i<g(this,ci).length;i++){const[r,a]=g(this,ci)[i];if(r!==e)break;if(r===e&&a===t){g(this,ci).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[r,a]=g(this,ci)[i];if(r!==e)break;if(r===e&&a===t){g(this,ci).splice(i,1);return}}},Fm=function(e){const[t,n,i]=e,r=[[t,n,i]],a=N(this,cn,Qd).call(this,i);for(let o=0;o<a;o++){const[c,l]=g(this,ci)[o];for(let u=0,d=r.length;u<d;u++){const[,h,p]=r[u];if(!(l<=h||p<=c)){if(h>=c){if(p>l)r[u][1]=l;else{if(d===1)return[];r.splice(u,1),u--,d--}continue}r[u][2]=c,p>l&&r.push([t,l,p])}}}return r};class Ix{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof Rm}}var Su,Xo;class g3 extends Ix{constructor(t,n){super();B(this,Su);B(this,Xo);M(this,Xo,t),M(this,Su,n)}toSVGPath(){const t=[];for(const n of g(this,Xo)){let[i,r]=n;t.push(`M${i} ${r}`);for(let a=2;a<n.length;a+=2){const o=n[a],c=n[a+1];o===i?(t.push(`V${c}`),r=c):c===r&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,n,i,r],a){const o=[],c=i-t,l=r-n;for(const u of g(this,Xo)){const d=new Array(u.length);for(let h=0;h<u.length;h+=2)d[h]=t+u[h]*c,d[h+1]=r-u[h+1]*l;o.push(d)}return o}get box(){return g(this,Su)}}Su=new WeakMap,Xo=new WeakMap;var Ei,pr,Yo,Ko,wi,Je,ya,va,Uu,Fu,Zo,Jo,jr,Iu,ff,pf,Ru,Im;const Zi=class Zi{constructor({x:e,y:t},n,i,r,a,o=0){B(this,Ru);B(this,Ei);B(this,pr,[]);B(this,Yo);B(this,Ko);B(this,wi,[]);B(this,Je,new Float64Array(18));B(this,ya);B(this,va);B(this,Uu);B(this,Fu);B(this,Zo);B(this,Jo);B(this,jr,[]);M(this,Ei,n),M(this,Jo,r*i),M(this,Ko,a),g(this,Je).set([NaN,NaN,NaN,NaN,e,t],6),M(this,Yo,o),M(this,Fu,g(Zi,Iu)*i),M(this,Uu,g(Zi,pf)*i),M(this,Zo,i),g(this,jr).push(e,t)}get free(){return!0}isEmpty(){return isNaN(g(this,Je)[8])}add({x:e,y:t}){var U;M(this,ya,e),M(this,va,t);const[n,i,r,a]=g(this,Ei);let[o,c,l,u]=g(this,Je).subarray(8,12);const d=e-l,h=t-u,p=Math.hypot(d,h);if(p<g(this,Uu))return!1;const y=p-g(this,Fu),v=y/p,b=v*d,_=v*h;let x=o,D=c;o=l,c=u,l+=b,u+=_,(U=g(this,jr))==null||U.push(e,t);const A=-_/y,T=b/y,E=A*g(this,Jo),F=T*g(this,Jo);return g(this,Je).set(g(this,Je).subarray(2,8),0),g(this,Je).set([l+E,u+F],4),g(this,Je).set(g(this,Je).subarray(14,18),12),g(this,Je).set([l-E,u-F],16),isNaN(g(this,Je)[6])?(g(this,wi).length===0&&(g(this,Je).set([o+E,c+F],2),g(this,wi).push(NaN,NaN,NaN,NaN,(o+E-n)/r,(c+F-i)/a),g(this,Je).set([o-E,c-F],14),g(this,pr).push(NaN,NaN,NaN,NaN,(o-E-n)/r,(c-F-i)/a)),g(this,Je).set([x,D,o,c,l,u],6),!this.isEmpty()):(g(this,Je).set([x,D,o,c,l,u],6),Math.abs(Math.atan2(D-c,x-o)-Math.atan2(_,b))<Math.PI/2?([o,c,l,u]=g(this,Je).subarray(2,6),g(this,wi).push(NaN,NaN,NaN,NaN,((o+l)/2-n)/r,((c+u)/2-i)/a),[o,c,x,D]=g(this,Je).subarray(14,18),g(this,pr).push(NaN,NaN,NaN,NaN,((x+o)/2-n)/r,((D+c)/2-i)/a),!0):([x,D,o,c,l,u]=g(this,Je).subarray(0,6),g(this,wi).push(((x+5*o)/6-n)/r,((D+5*c)/6-i)/a,((5*o+l)/6-n)/r,((5*c+u)/6-i)/a,((o+l)/2-n)/r,((c+u)/2-i)/a),[l,u,o,c,x,D]=g(this,Je).subarray(12,18),g(this,pr).push(((x+5*o)/6-n)/r,((D+5*c)/6-i)/a,((5*o+l)/6-n)/r,((5*c+u)/6-i)/a,((o+l)/2-n)/r,((c+u)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=g(this,wi),t=g(this,pr),n=g(this,Je).subarray(4,6),i=g(this,Je).subarray(16,18),[r,a,o,c]=g(this,Ei),[l,u,d,h]=N(this,Ru,Im).call(this);if(isNaN(g(this,Je)[6])&&!this.isEmpty())return`M${(g(this,Je)[2]-r)/o} ${(g(this,Je)[3]-a)/c} L${(g(this,Je)[4]-r)/o} ${(g(this,Je)[5]-a)/c} L${l} ${u} L${d} ${h} L${(g(this,Je)[16]-r)/o} ${(g(this,Je)[17]-a)/c} L${(g(this,Je)[14]-r)/o} ${(g(this,Je)[15]-a)/c} Z`;const p=[];p.push(`M${e[4]} ${e[5]}`);for(let y=6;y<e.length;y+=6)isNaN(e[y])?p.push(`L${e[y+4]} ${e[y+5]}`):p.push(`C${e[y]} ${e[y+1]} ${e[y+2]} ${e[y+3]} ${e[y+4]} ${e[y+5]}`);p.push(`L${(n[0]-r)/o} ${(n[1]-a)/c} L${l} ${u} L${d} ${h} L${(i[0]-r)/o} ${(i[1]-a)/c}`);for(let y=t.length-6;y>=6;y-=6)isNaN(t[y])?p.push(`L${t[y+4]} ${t[y+5]}`):p.push(`C${t[y]} ${t[y+1]} ${t[y+2]} ${t[y+3]} ${t[y+4]} ${t[y+5]}`);return p.push(`L${t[4]} ${t[5]} Z`),p.join(" ")}getOutlines(){var _;const e=g(this,wi),t=g(this,pr),n=g(this,Je),i=n.subarray(4,6),r=n.subarray(16,18),[a,o,c,l]=g(this,Ei),u=new Float64Array((((_=g(this,jr))==null?void 0:_.length)??0)+2);for(let x=0,D=u.length-2;x<D;x+=2)u[x]=(g(this,jr)[x]-a)/c,u[x+1]=(g(this,jr)[x+1]-o)/l;u[u.length-2]=(g(this,ya)-a)/c,u[u.length-1]=(g(this,va)-o)/l;const[d,h,p,y]=N(this,Ru,Im).call(this);if(isNaN(n[6])&&!this.isEmpty()){const x=new Float64Array(36);return x.set([NaN,NaN,NaN,NaN,(n[2]-a)/c,(n[3]-o)/l,NaN,NaN,NaN,NaN,(n[4]-a)/c,(n[5]-o)/l,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,p,y,NaN,NaN,NaN,NaN,(n[16]-a)/c,(n[17]-o)/l,NaN,NaN,NaN,NaN,(n[14]-a)/c,(n[15]-o)/l],0),new Rm(x,u,g(this,Ei),g(this,Zo),g(this,Yo),g(this,Ko))}const v=new Float64Array(g(this,wi).length+24+g(this,pr).length);let b=e.length;for(let x=0;x<b;x+=2){if(isNaN(e[x])){v[x]=v[x+1]=NaN;continue}v[x]=e[x],v[x+1]=e[x+1]}v.set([NaN,NaN,NaN,NaN,(i[0]-a)/c,(i[1]-o)/l,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,p,y,NaN,NaN,NaN,NaN,(r[0]-a)/c,(r[1]-o)/l],b),b+=24;for(let x=t.length-6;x>=6;x-=6)for(let D=0;D<6;D+=2){if(isNaN(t[x+D])){v[b]=v[b+1]=NaN,b+=2;continue}v[b]=t[x+D],v[b+1]=t[x+D+1],b+=2}return v.set([NaN,NaN,NaN,NaN,t[4],t[5]],b),new Rm(v,u,g(this,Ei),g(this,Zo),g(this,Yo),g(this,Ko))}};Ei=new WeakMap,pr=new WeakMap,Yo=new WeakMap,Ko=new WeakMap,wi=new WeakMap,Je=new WeakMap,ya=new WeakMap,va=new WeakMap,Uu=new WeakMap,Fu=new WeakMap,Zo=new WeakMap,Jo=new WeakMap,jr=new WeakMap,Iu=new WeakMap,ff=new WeakMap,pf=new WeakMap,Ru=new WeakSet,Im=function(){const e=g(this,Je).subarray(4,6),t=g(this,Je).subarray(16,18),[n,i,r,a]=g(this,Ei);return[(g(this,ya)+(e[0]-t[0])/2-n)/r,(g(this,va)+(e[1]-t[1])/2-i)/a,(g(this,ya)+(t[0]-e[0])/2-n)/r,(g(this,va)+(t[1]-e[1])/2-i)/a]},B(Zi,Iu,8),B(Zi,ff,2),B(Zi,pf,g(Zi,Iu)+g(Zi,ff));let Vh=Zi;var Qo,ba,gr,ku,In,Mu,Dt,vn,Qc,jc,Rx;class Rm extends Ix{constructor(t,n,i,r,a,o){super();B(this,vn);B(this,Qo);B(this,ba,null);B(this,gr);B(this,ku);B(this,In);B(this,Mu);B(this,Dt);M(this,Dt,t),M(this,In,n),M(this,Qo,i),M(this,Mu,r),M(this,gr,a),M(this,ku,o),N(this,vn,Rx).call(this,o);const{x:c,y:l,width:u,height:d}=g(this,ba);for(let h=0,p=t.length;h<p;h+=2)t[h]=(t[h]-c)/u,t[h+1]=(t[h+1]-l)/d;for(let h=0,p=n.length;h<p;h+=2)n[h]=(n[h]-c)/u,n[h+1]=(n[h+1]-l)/d}toSVGPath(){const t=[`M${g(this,Dt)[4]} ${g(this,Dt)[5]}`];for(let n=6,i=g(this,Dt).length;n<i;n+=6){if(isNaN(g(this,Dt)[n])){t.push(`L${g(this,Dt)[n+4]} ${g(this,Dt)[n+5]}`);continue}t.push(`C${g(this,Dt)[n]} ${g(this,Dt)[n+1]} ${g(this,Dt)[n+2]} ${g(this,Dt)[n+3]} ${g(this,Dt)[n+4]} ${g(this,Dt)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,i,r],a){const o=i-t,c=r-n;let l,u;switch(a){case 0:l=N(this,vn,Qc).call(this,g(this,Dt),t,r,o,-c),u=N(this,vn,Qc).call(this,g(this,In),t,r,o,-c);break;case 90:l=N(this,vn,jc).call(this,g(this,Dt),t,n,o,c),u=N(this,vn,jc).call(this,g(this,In),t,n,o,c);break;case 180:l=N(this,vn,Qc).call(this,g(this,Dt),i,n,-o,c),u=N(this,vn,Qc).call(this,g(this,In),i,n,-o,c);break;case 270:l=N(this,vn,jc).call(this,g(this,Dt),i,r,-o,-c),u=N(this,vn,jc).call(this,g(this,In),i,r,-o,-c);break}return{outline:Array.from(l),points:[Array.from(u)]}}get box(){return g(this,ba)}getNewOutline(t,n){const{x:i,y:r,width:a,height:o}=g(this,ba),[c,l,u,d]=g(this,Qo),h=a*u,p=o*d,y=i*u+c,v=r*d+l,b=new Vh({x:g(this,In)[0]*h+y,y:g(this,In)[1]*p+v},g(this,Qo),g(this,Mu),t,g(this,ku),n??g(this,gr));for(let _=2;_<g(this,In).length;_+=2)b.add({x:g(this,In)[_]*h+y,y:g(this,In)[_+1]*p+v});return b.getOutlines()}}Qo=new WeakMap,ba=new WeakMap,gr=new WeakMap,ku=new WeakMap,In=new WeakMap,Mu=new WeakMap,Dt=new WeakMap,vn=new WeakSet,Qc=function(t,n,i,r,a){const o=new Float64Array(t.length);for(let c=0,l=t.length;c<l;c+=2)o[c]=n+t[c]*r,o[c+1]=i+t[c+1]*a;return o},jc=function(t,n,i,r,a){const o=new Float64Array(t.length);for(let c=0,l=t.length;c<l;c+=2)o[c]=n+t[c+1]*r,o[c+1]=i+t[c]*a;return o},Rx=function(t){const n=g(this,Dt);let i=n[4],r=n[5],a=i,o=r,c=i,l=r,u=i,d=r;const h=t?Math.max:Math.min;for(let _=6,x=n.length;_<x;_+=6){if(isNaN(n[_]))a=Math.min(a,n[_+4]),o=Math.min(o,n[_+5]),c=Math.max(c,n[_+4]),l=Math.max(l,n[_+5]),d<n[_+5]?(u=n[_+4],d=n[_+5]):d===n[_+5]&&(u=h(u,n[_+4]));else{const D=Re.bezierBoundingBox(i,r,...n.slice(_,_+6));a=Math.min(a,D[0]),o=Math.min(o,D[1]),c=Math.max(c,D[2]),l=Math.max(l,D[3]),d<D[3]?(u=D[2],d=D[3]):d===D[3]&&(u=h(u,D[2]))}i=n[_+4],r=n[_+5]}const p=a-g(this,gr),y=o-g(this,gr),v=c-a+2*g(this,gr),b=l-o+2*g(this,gr);M(this,ba,{x:p,y,width:v,height:b,lastPoint:[u,d]})};var Nu,Pu,li,_a,jo,It,Lu,ec,Bu,Ou,ui,tc,ht,km,Mm,kx,Ms,Mx,Lr;const Ji=class Ji{constructor({editor:e=null,uiManager:t=null}){B(this,ht);B(this,Nu,N(this,ht,kx).bind(this));B(this,Pu,N(this,ht,Mx).bind(this));B(this,li,null);B(this,_a,null);B(this,jo);B(this,It,null);B(this,Lu,!1);B(this,ec,!1);B(this,Bu,null);B(this,Ou);B(this,ui,null);B(this,tc);var n;e?(M(this,ec,!1),M(this,tc,We.HIGHLIGHT_COLOR),M(this,Bu,e)):(M(this,ec,!0),M(this,tc,We.HIGHLIGHT_DEFAULT_COLOR)),M(this,ui,(e==null?void 0:e._uiManager)||t),M(this,Ou,g(this,ui)._eventBus),M(this,jo,(e==null?void 0:e.color)||((n=g(this,ui))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return et(this,"_keyboardManager",new Qu([[["Escape","mac+Escape"],Ji.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ji.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ji.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ji.prototype._moveToPrevious],[["Home","mac+Home"],Ji.prototype._moveToBeginning],[["End","mac+End"],Ji.prototype._moveToEnd]]))}renderButton(){const e=M(this,li,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=g(this,ui)._signal;e.addEventListener("click",N(this,ht,Ms).bind(this),{signal:t}),e.addEventListener("keydown",g(this,Nu),{signal:t});const n=M(this,_a,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=g(this,jo),e.append(n),e}renderMainDropdown(){const e=M(this,It,N(this,ht,km).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===g(this,li)){N(this,ht,Ms).call(this,e);return}const t=e.target.getAttribute("data-color");t&&N(this,ht,Mm).call(this,t,e)}_moveToNext(e){var t,n;if(!g(this,ht,Lr)){N(this,ht,Ms).call(this,e);return}if(e.target===g(this,li)){(t=g(this,It).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=g(this,It))==null?void 0:t.firstChild)||e.target===g(this,li)){g(this,ht,Lr)&&this._hideDropdownFromKeyboard();return}g(this,ht,Lr)||N(this,ht,Ms).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!g(this,ht,Lr)){N(this,ht,Ms).call(this,e);return}(t=g(this,It).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!g(this,ht,Lr)){N(this,ht,Ms).call(this,e);return}(t=g(this,It).lastChild)==null||t.focus()}hideDropdown(){var e;(e=g(this,It))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",g(this,Pu))}_hideDropdownFromKeyboard(){var e;if(!g(this,ec)){if(!g(this,ht,Lr)){(e=g(this,Bu))==null||e.unselect();return}this.hideDropdown(),g(this,li).focus({preventScroll:!0,focusVisible:g(this,Lu)})}}updateColor(e){if(g(this,_a)&&(g(this,_a).style.backgroundColor=e),!g(this,It))return;const t=g(this,ui).highlightColors.values();for(const n of g(this,It).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=g(this,li))==null||e.remove(),M(this,li,null),M(this,_a,null),(t=g(this,It))==null||t.remove(),M(this,It,null)}};Nu=new WeakMap,Pu=new WeakMap,li=new WeakMap,_a=new WeakMap,jo=new WeakMap,It=new WeakMap,Lu=new WeakMap,ec=new WeakMap,Bu=new WeakMap,Ou=new WeakMap,ui=new WeakMap,tc=new WeakMap,ht=new WeakSet,km=function(){const e=document.createElement("div"),t=g(this,ui)._signal;e.addEventListener("contextmenu",bn,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,i]of g(this,ui).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",i),r.title=n,r.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${n}`);const a=document.createElement("span");r.append(a),a.className="swatch",a.style.backgroundColor=i,r.setAttribute("aria-selected",i===g(this,jo)),r.addEventListener("click",N(this,ht,Mm).bind(this,i),{signal:t}),e.append(r)}return e.addEventListener("keydown",g(this,Nu),{signal:t}),e},Mm=function(e,t){t.stopPropagation(),g(this,Ou).dispatch("switchannotationeditorparams",{source:this,type:g(this,tc),value:e})},kx=function(e){Ji._keyboardManager.exec(this,e)},Ms=function(e){if(g(this,ht,Lr)){this.hideDropdown();return}if(M(this,Lu,e.detail===0),window.addEventListener("pointerdown",g(this,Pu),{signal:g(this,ui)._signal}),g(this,It)){g(this,It).classList.remove("hidden");return}const t=M(this,It,N(this,ht,km).call(this));g(this,li).append(t)},Mx=function(e){var t;(t=g(this,It))!=null&&t.contains(e.target)||this.hideDropdown()},Lr=function(){return g(this,It)&&!g(this,It).classList.contains("hidden")};let zh=Ji;var nc,Wu,es,xa,ic,zn,qu,Vu,Da,di,rn,Rn,gf,rc,Ta,Rt,sc,Si,zu,Ke,Nm,Pm,Nx,Px,Lx,Lm,el,Xn,ao,Bx,jd,tl,Ox,Wx,qx,Vx;const it=class it extends ot{constructor(t){super({...t,name:"highlightEditor"});B(this,Ke);B(this,nc,null);B(this,Wu,0);B(this,es);B(this,xa,null);B(this,ic,null);B(this,zn,null);B(this,qu,null);B(this,Vu,0);B(this,Da,null);B(this,di,null);B(this,rn,null);B(this,Rn,!1);B(this,gf,N(this,Ke,Bx).bind(this));B(this,rc,null);B(this,Ta);B(this,Rt,null);B(this,sc,"");B(this,Si);B(this,zu,"");this.color=t.color||it._defaultColor,M(this,Si,t.thickness||it._defaultThickness),M(this,Ta,t.opacity||it._defaultOpacity),M(this,es,t.boxes||null),M(this,zu,t.methodOfCreation||""),M(this,sc,t.text||""),this._isDraggable=!1,t.highlightId>-1?(M(this,Rn,!0),N(this,Ke,Pm).call(this,t),N(this,Ke,el).call(this)):(M(this,nc,t.anchorNode),M(this,Wu,t.anchorOffset),M(this,qu,t.focusNode),M(this,Vu,t.focusOffset),N(this,Ke,Nm).call(this),N(this,Ke,el).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=it.prototype;return et(this,"_keyboardManager",new Qu([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:g(this,Rn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:g(this,Si),methodOfCreation:g(this,zu)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var i;ot.initialize(t,n),it._defaultColor||(it._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case We.HIGHLIGHT_DEFAULT_COLOR:it._defaultColor=n;break;case We.HIGHLIGHT_THICKNESS:it._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return g(this,rc)}updateParams(t,n){switch(t){case We.HIGHLIGHT_COLOR:N(this,Ke,Nx).call(this,n);break;case We.HIGHLIGHT_THICKNESS:N(this,Ke,Px).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[We.HIGHLIGHT_DEFAULT_COLOR,it._defaultColor],[We.HIGHLIGHT_THICKNESS,it._defaultThickness]]}get propertiesToUpdate(){return[[We.HIGHLIGHT_COLOR,this.color||it._defaultColor],[We.HIGHLIGHT_THICKNESS,g(this,Si)||it._defaultThickness],[We.HIGHLIGHT_FREE,g(this,Rn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(M(this,ic,new zh({editor:this})),t.addColorPicker(g(this,ic))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(N(this,Ke,tl).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,N(this,Ke,tl).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){N(this,Ke,Lm).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(N(this,Ke,el).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let n=!1;this.parent&&!t?N(this,Ke,Lm).call(this):t&&(N(this,Ke,el).call(this,t),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var r,a,o;const{drawLayer:n}=this.parent;let i;g(this,Rn)?(t=(t-this.rotation+360)%360,i=N(r=it,Xn,ao).call(r,g(this,di).box,t)):i=N(a=it,Xn,ao).call(a,this,t),n.rotate(g(this,rn),t),n.rotate(g(this,Rt),t),n.updateBox(g(this,rn),i),n.updateBox(g(this,Rt),N(o=it,Xn,ao).call(o,g(this,zn).box,t))}render(){if(this.div)return this.div;const t=super.render();g(this,sc)&&(t.setAttribute("aria-label",g(this,sc)),t.setAttribute("role","mark")),g(this,Rn)?t.classList.add("free"):this.div.addEventListener("keydown",g(this,gf),{signal:this._uiManager._signal});const n=M(this,Da,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=g(this,xa);const[i,r]=this.parentDimensions;return this.setDims(this.width*i,this.height*r),Oh(this,g(this,Da),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(g(this,Rt),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(g(this,Rt),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:N(this,Ke,jd).call(this,!0);break;case 1:case 3:N(this,Ke,jd).call(this,!1);break}}select(){var t,n;super.select(),g(this,Rt)&&((t=this.parent)==null||t.drawLayer.removeClass(g(this,Rt),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(g(this,Rt),"selected"))}unselect(){var t;super.unselect(),g(this,Rt)&&((t=this.parent)==null||t.drawLayer.removeClass(g(this,Rt),"selected"),g(this,Rn)||N(this,Ke,jd).call(this,!1))}get _mustFixPosition(){return!g(this,Rn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(g(this,rn),t),this.parent.drawLayer.show(g(this,Rt),t))}static startHighlighting(t,n,{target:i,x:r,y:a}){const{x:o,y:c,width:l,height:u}=i.getBoundingClientRect(),d=b=>{N(this,Xn,qx).call(this,t,b)},h=t._signal,p={capture:!0,passive:!1,signal:h},y=b=>{b.preventDefault(),b.stopPropagation()},v=b=>{i.removeEventListener("pointermove",d),window.removeEventListener("blur",v),window.removeEventListener("pointerup",v),window.removeEventListener("pointerdown",y,p),window.removeEventListener("contextmenu",bn),N(this,Xn,Vx).call(this,t,b)};window.addEventListener("blur",v,{signal:h}),window.addEventListener("pointerup",v,{signal:h}),window.addEventListener("pointerdown",y,p),window.addEventListener("contextmenu",bn,{signal:h}),i.addEventListener("pointermove",d,{signal:h}),this._freeHighlight=new Vh({x:r,y:a},[o,c,l,u],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,n,i){var v;const r=super.deserialize(t,n,i),{rect:[a,o,c,l],color:u,quadPoints:d}=t;r.color=Re.makeHexColor(...u),M(r,Ta,t.opacity);const[h,p]=r.pageDimensions;r.width=(c-a)/h,r.height=(l-o)/p;const y=M(r,es,[]);for(let b=0;b<d.length;b+=8)y.push({x:(d[4]-c)/h,y:(l-(1-d[b+5]))/p,width:(d[b+2]-d[b])/h,height:(d[b+5]-d[b+1])/p});return N(v=r,Ke,Nm).call(v),r}serialize(t=!1){if(this.isEmpty()||t)return null;const n=this.getRect(0,0),i=ot._colorManager.convert(this.color);return{annotationType:je.HIGHLIGHT,color:i,opacity:g(this,Ta),thickness:g(this,Si),quadPoints:N(this,Ke,Ox).call(this),outlines:N(this,Ke,Wx).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:N(this,Ke,tl).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};nc=new WeakMap,Wu=new WeakMap,es=new WeakMap,xa=new WeakMap,ic=new WeakMap,zn=new WeakMap,qu=new WeakMap,Vu=new WeakMap,Da=new WeakMap,di=new WeakMap,rn=new WeakMap,Rn=new WeakMap,gf=new WeakMap,rc=new WeakMap,Ta=new WeakMap,Rt=new WeakMap,sc=new WeakMap,Si=new WeakMap,zu=new WeakMap,Ke=new WeakSet,Nm=function(){const t=new Um(g(this,es),.001);M(this,di,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=g(this,di).box;const n=new Um(g(this,es),.0025,.001,this._uiManager.direction==="ltr");M(this,zn,n.getOutlines());const{lastPoint:i}=g(this,zn).box;M(this,rc,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},Pm=function({highlightOutlines:t,highlightId:n,clipPathId:i}){var d,h;if(M(this,di,t),M(this,zn,t.getNewOutline(g(this,Si)/2+1.5,.0025)),n>=0)M(this,rn,n),M(this,xa,i),this.parent.drawLayer.finalizeLine(n,t),M(this,Rt,this.parent.drawLayer.highlightOutline(g(this,zn)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(g(this,rn),t),this.parent.drawLayer.updateBox(g(this,rn),N(d=it,Xn,ao).call(d,g(this,di).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(g(this,Rt),g(this,zn)),this.parent.drawLayer.updateBox(g(this,Rt),N(h=it,Xn,ao).call(h,g(this,zn).box,p))}const{x:a,y:o,width:c,height:l}=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=c,this.height=l;break;case 90:{const[p,y]=this.parentDimensions;this.x=o,this.y=1-a,this.width=c*y/p,this.height=l*p/y;break}case 180:this.x=1-a,this.y=1-o,this.width=c,this.height=l;break;case 270:{const[p,y]=this.parentDimensions;this.x=1-o,this.y=a,this.width=c*y/p,this.height=l*p/y;break}}const{lastPoint:u}=g(this,zn).box;M(this,rc,[(u[0]-a)/c,(u[1]-o)/l])},Nx=function(t){const n=r=>{var a,o;this.color=r,(a=this.parent)==null||a.drawLayer.changeColor(g(this,rn),r),(o=g(this,ic))==null||o.updateColor(r)},i=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},Px=function(t){const n=g(this,Si),i=r=>{M(this,Si,r),N(this,Ke,Lx).call(this,r)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},Lx=function(t){if(!g(this,Rn))return;N(this,Ke,Pm).call(this,{highlightOutlines:g(this,di).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)},Lm=function(){g(this,rn)===null||!this.parent||(this.parent.drawLayer.remove(g(this,rn)),M(this,rn,null),this.parent.drawLayer.remove(g(this,Rt)),M(this,Rt,null))},el=function(t=this.parent){g(this,rn)===null&&({id:Tn(this,rn)._,clipPathId:Tn(this,xa)._}=t.drawLayer.highlight(g(this,di),this.color,g(this,Ta)),M(this,Rt,t.drawLayer.highlightOutline(g(this,zn))),g(this,Da)&&(g(this,Da).style.clipPath=g(this,xa)))},Xn=new WeakSet,ao=function({x:t,y:n,width:i,height:r},a){switch(a){case 90:return{x:1-n-r,y:t,width:r,height:i};case 180:return{x:1-t-i,y:1-n-r,width:i,height:r};case 270:return{x:n,y:1-t-i,width:r,height:i}}return{x:t,y:n,width:i,height:r}},Bx=function(t){it._keyboardManager.exec(this,t)},jd=function(t){if(!g(this,nc))return;const n=window.getSelection();t?n.setPosition(g(this,nc),g(this,Wu)):n.setPosition(g(this,qu),g(this,Vu))},tl=function(){return g(this,Rn)?this.rotation:0},Ox=function(){if(g(this,Rn))return null;const[t,n]=this.pageDimensions,i=g(this,es),r=new Float32Array(i.length*8);let a=0;for(const{x:o,y:c,width:l,height:u}of i){const d=o*t,h=(1-c-u)*n;r[a]=r[a+4]=d,r[a+1]=r[a+3]=h,r[a+2]=r[a+6]=d+l*t,r[a+5]=r[a+7]=h+u*n,a+=8}return r},Wx=function(t){return g(this,di).serialize(t,N(this,Ke,tl).call(this))},qx=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},Vx=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},B(it,Xn),qe(it,"_defaultColor",null),qe(it,"_defaultOpacity",1),qe(it,"_defaultThickness",12),qe(it,"_l10nPromise"),qe(it,"_type","highlight"),qe(it,"_editorType",je.HIGHLIGHT),qe(it,"_freeHighlightId",-1),qe(it,"_freeHighlight",null),qe(it,"_freeHighlightClipId","");let Hh=it;var Aa,Ca,Hu,Gu,$u,Ea,Ui,mr,Hn,wa,Sa,yr,Ua,Fa,ts,Ce,zx,Hx,Gx,$x,Om,Xx,Wm,Yx,Kx,Zx,Jx,Qx,Ns,qm,eh,th,oo,Vm,nh,Ir,jx,zm,eD,tD,Hm,ih,nl;const yt=class yt extends ot{constructor(t){super({...t,name:"inkEditor"});B(this,Ce);B(this,Aa,0);B(this,Ca,0);B(this,Hu,this.canvasPointermove.bind(this));B(this,Gu,this.canvasPointerleave.bind(this));B(this,$u,this.canvasPointerup.bind(this));B(this,Ea,this.canvasPointerdown.bind(this));B(this,Ui,null);B(this,mr,new Path2D);B(this,Hn,!1);B(this,wa,!1);B(this,Sa,!1);B(this,yr,null);B(this,Ua,0);B(this,Fa,0);B(this,ts,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,n){ot.initialize(t,n)}static updateDefaultParams(t,n){switch(t){case We.INK_THICKNESS:yt._defaultThickness=n;break;case We.INK_COLOR:yt._defaultColor=n;break;case We.INK_OPACITY:yt._defaultOpacity=n/100;break}}updateParams(t,n){switch(t){case We.INK_THICKNESS:N(this,Ce,zx).call(this,n);break;case We.INK_COLOR:N(this,Ce,Hx).call(this,n);break;case We.INK_OPACITY:N(this,Ce,Gx).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[We.INK_THICKNESS,yt._defaultThickness],[We.INK_COLOR,yt._defaultColor||ot._defaultLineColor],[We.INK_OPACITY,Math.round(yt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[We.INK_THICKNESS,this.thickness||yt._defaultThickness],[We.INK_COLOR,this.color||yt._defaultColor||ot._defaultLineColor],[We.INK_OPACITY,Math.round(100*(this.opacity??yt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(N(this,Ce,eh).call(this),N(this,Ce,th).call(this)),this.isAttachedToDOM||(this.parent.add(this),N(this,Ce,oo).call(this)),N(this,Ce,nl).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,g(this,Ui)&&(clearTimeout(g(this,Ui)),M(this,Ui,null)),(t=g(this,yr))==null||t.disconnect(),M(this,yr,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,n]=this.parentDimensions,i=this.width*t,r=this.height*n;this.setDimensions(i,r)}enableEditMode(){g(this,Hn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",g(this,Ea),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",g(this,Ea)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){g(this,Hn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),M(this,Hn,!0),this.div.classList.add("disabled"),N(this,Ce,nl).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||g(this,Hn)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),N(this,Ce,Xx).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),N(this,Ce,Wm).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),N(this,Ce,qm).call(this,t)}canvasPointerleave(t){N(this,Ce,qm).call(this,t)}get isResizable(){return!this.isEmpty()&&g(this,Hn)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,r,a,o]=N(this,Ce,$x).call(this);if(this.setAt(i,r,0,0),this.setDims(a,o),N(this,Ce,eh).call(this),this.width){const[c,l]=this.parentDimensions;this.setAspectRatio(this.width*c,this.height*l),this.setAt(t*c,n*l,this.width*c,this.height*l),M(this,Sa,!0),N(this,Ce,oo).call(this),this.setDims(this.width*c,this.height*l),N(this,Ce,Ns).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return N(this,Ce,th).call(this),this.div}setDimensions(t,n){const i=Math.round(t),r=Math.round(n);if(g(this,Ua)===i&&g(this,Fa)===r)return;M(this,Ua,i),M(this,Fa,r),this.canvas.style.visibility="hidden";const[a,o]=this.parentDimensions;this.width=t/a,this.height=n/o,this.fixAndSetPosition(),g(this,Hn)&&N(this,Ce,Vm).call(this,t,n),N(this,Ce,oo).call(this),N(this,Ce,Ns).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,n,i){var b,_,x;if(t instanceof _x)return null;const r=super.deserialize(t,n,i);r.thickness=t.thickness,r.color=Re.makeHexColor(...t.color),r.opacity=t.opacity;const[a,o]=r.pageDimensions,c=r.width*a,l=r.height*o,u=r.parentScale,d=t.thickness/2;M(r,Hn,!0),M(r,Ua,Math.round(c)),M(r,Fa,Math.round(l));const{paths:h,rect:p,rotation:y}=t;for(let{bezier:D}of h){D=N(b=yt,Ir,eD).call(b,D,p,y);const A=[];r.paths.push(A);let T=u*(D[0]-d),E=u*(D[1]-d);for(let I=2,U=D.length;I<U;I+=6){const L=u*(D[I]-d),G=u*(D[I+1]-d),S=u*(D[I+2]-d),k=u*(D[I+3]-d),w=u*(D[I+4]-d),X=u*(D[I+5]-d);A.push([[T,E],[L,G],[S,k],[w,X]]),T=w,E=X}const F=N(this,Ir,jx).call(this,A);r.bezierPath2D.push(F)}const v=N(_=r,Ce,Hm).call(_);return M(r,Ca,Math.max(ot.MIN_SIZE,v[2]-v[0])),M(r,Aa,Math.max(ot.MIN_SIZE,v[3]-v[1])),N(x=r,Ce,Vm).call(x,c,l),r}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),n=ot._colorManager.convert(this.ctx.strokeStyle);return{annotationType:je.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:N(this,Ce,tD).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Aa=new WeakMap,Ca=new WeakMap,Hu=new WeakMap,Gu=new WeakMap,$u=new WeakMap,Ea=new WeakMap,Ui=new WeakMap,mr=new WeakMap,Hn=new WeakMap,wa=new WeakMap,Sa=new WeakMap,yr=new WeakMap,Ua=new WeakMap,Fa=new WeakMap,ts=new WeakMap,Ce=new WeakSet,zx=function(t){const n=r=>{this.thickness=r,N(this,Ce,nl).call(this)},i=this.thickness;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Hx=function(t){const n=r=>{this.color=r,N(this,Ce,Ns).call(this)},i=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Gx=function(t){const n=r=>{this.opacity=r,N(this,Ce,Ns).call(this)};t/=100;const i=this.opacity;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:We.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},$x=function(){const{parentRotation:t,parentDimensions:[n,i]}=this;switch(t){case 90:return[0,i,i,n];case 180:return[n,i,n,i];case 270:return[n,0,i,n];default:return[0,0,n,i]}},Om=function(){const{ctx:t,color:n,opacity:i,thickness:r,parentScale:a,scaleFactor:o}=this;t.lineWidth=r*a/o,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${n}${OR(i)}`},Xx=function(t,n){const i=this._uiManager._signal;this.canvas.addEventListener("contextmenu",bn,{signal:i}),this.canvas.addEventListener("pointerleave",g(this,Gu),{signal:i}),this.canvas.addEventListener("pointermove",g(this,Hu),{signal:i}),this.canvas.addEventListener("pointerup",g(this,$u),{signal:i}),this.canvas.removeEventListener("pointerdown",g(this,Ea)),this.isEditing=!0,g(this,Sa)||(M(this,Sa,!0),N(this,Ce,oo).call(this),this.thickness||(this.thickness=yt._defaultThickness),this.color||(this.color=yt._defaultColor||ot._defaultLineColor),this.opacity??(this.opacity=yt._defaultOpacity)),this.currentPath.push([t,n]),M(this,wa,!1),N(this,Ce,Om).call(this),M(this,ts,()=>{N(this,Ce,Zx).call(this),g(this,ts)&&window.requestAnimationFrame(g(this,ts))}),window.requestAnimationFrame(g(this,ts))},Wm=function(t,n){const[i,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===i&&n===r)return;const a=this.currentPath;let o=g(this,mr);if(a.push([t,n]),M(this,wa,!0),a.length<=2){o.moveTo(...a[0]),o.lineTo(t,n);return}a.length===3&&(M(this,mr,o=new Path2D),o.moveTo(...a[0])),N(this,Ce,Jx).call(this,o,...a.at(-3),...a.at(-2),t,n)},Yx=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);g(this,mr).lineTo(...t)},Kx=function(t,n){M(this,ts,null),t=Math.min(Math.max(t,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),N(this,Ce,Wm).call(this,t,n),N(this,Ce,Yx).call(this);let i;if(this.currentPath.length!==1)i=N(this,Ce,Qx).call(this);else{const l=[t,n];i=[[l,l.slice(),l.slice(),l]]}const r=g(this,mr),a=this.currentPath;this.currentPath=[],M(this,mr,new Path2D);const o=()=>{this.allRawPaths.push(a),this.paths.push(i),this.bezierPath2D.push(r),this._uiManager.rebuild(this)},c=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(N(this,Ce,eh).call(this),N(this,Ce,th).call(this)),N(this,Ce,nl).call(this))};this.addCommands({cmd:o,undo:c,mustExec:!0})},Zx=function(){if(!g(this,wa))return;M(this,wa,!1);const t=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),i=n.map(o=>o[0]),r=n.map(o=>o[1]);Math.min(...i)-t,Math.max(...i)+t,Math.min(...r)-t,Math.max(...r)+t;const{ctx:a}=this;a.save(),a.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)a.stroke(o);a.stroke(g(this,mr)),a.restore()},Jx=function(t,n,i,r,a,o,c){const l=(n+r)/2,u=(i+a)/2,d=(r+o)/2,h=(a+c)/2;t.bezierCurveTo(l+2*(r-l)/3,u+2*(a-u)/3,d+2*(r-d)/3,h+2*(a-h)/3,d,h)},Qx=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const n=[];let i,[r,a]=t[0];for(i=1;i<t.length-2;i++){const[p,y]=t[i],[v,b]=t[i+1],_=(p+v)/2,x=(y+b)/2,D=[r+2*(p-r)/3,a+2*(y-a)/3],A=[_+2*(p-_)/3,x+2*(y-x)/3];n.push([[r,a],D,A,[_,x]]),[r,a]=[_,x]}const[o,c]=t[i],[l,u]=t[i+1],d=[r+2*(o-r)/3,a+2*(c-a)/3],h=[l+2*(o-l)/3,u+2*(c-u)/3];return n.push([[r,a],d,h,[l,u]]),n},Ns=function(){if(this.isEmpty()){N(this,Ce,nh).call(this);return}N(this,Ce,Om).call(this);const{canvas:t,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height),N(this,Ce,nh).call(this);for(const i of this.bezierPath2D)n.stroke(i)},qm=function(t){this.canvas.removeEventListener("pointerleave",g(this,Gu)),this.canvas.removeEventListener("pointermove",g(this,Hu)),this.canvas.removeEventListener("pointerup",g(this,$u)),this.canvas.addEventListener("pointerdown",g(this,Ea),{signal:this._uiManager._signal}),g(this,Ui)&&clearTimeout(g(this,Ui)),M(this,Ui,setTimeout(()=>{M(this,Ui,null),this.canvas.removeEventListener("contextmenu",bn)},10)),N(this,Ce,Kx).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},eh=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},th=function(){M(this,yr,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),g(this,yr).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=g(this,yr))==null||t.disconnect(),M(this,yr,null)},{once:!0})},oo=function(){if(!g(this,Sa))return;const[t,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*n),N(this,Ce,nh).call(this)},Vm=function(t,n){const i=N(this,Ce,ih).call(this),r=(t-i)/g(this,Ca),a=(n-i)/g(this,Aa);this.scaleFactor=Math.min(r,a)},nh=function(){const t=N(this,Ce,ih).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Ir=new WeakSet,jx=function(t){const n=new Path2D;for(let i=0,r=t.length;i<r;i++){const[a,o,c,l]=t[i];i===0&&n.moveTo(...a),n.bezierCurveTo(o[0],o[1],c[0],c[1],l[0],l[1])}return n},zm=function(t,n,i){const[r,a,o,c]=n;switch(i){case 0:for(let l=0,u=t.length;l<u;l+=2)t[l]+=r,t[l+1]=c-t[l+1];break;case 90:for(let l=0,u=t.length;l<u;l+=2){const d=t[l];t[l]=t[l+1]+r,t[l+1]=d+a}break;case 180:for(let l=0,u=t.length;l<u;l+=2)t[l]=o-t[l],t[l+1]+=a;break;case 270:for(let l=0,u=t.length;l<u;l+=2){const d=t[l];t[l]=o-t[l+1],t[l+1]=c-d}break;default:throw new Error("Invalid rotation")}return t},eD=function(t,n,i){const[r,a,o,c]=n;switch(i){case 0:for(let l=0,u=t.length;l<u;l+=2)t[l]-=r,t[l+1]=c-t[l+1];break;case 90:for(let l=0,u=t.length;l<u;l+=2){const d=t[l];t[l]=t[l+1]-a,t[l+1]=d-r}break;case 180:for(let l=0,u=t.length;l<u;l+=2)t[l]=o-t[l],t[l+1]-=a;break;case 270:for(let l=0,u=t.length;l<u;l+=2){const d=t[l];t[l]=c-t[l+1],t[l+1]=o-d}break;default:throw new Error("Invalid rotation")}return t},tD=function(t,n,i,r){var u,d;const a=[],o=this.thickness/2,c=t*n+o,l=t*i+o;for(const h of this.paths){const p=[],y=[];for(let v=0,b=h.length;v<b;v++){const[_,x,D,A]=h[v];if(_[0]===A[0]&&_[1]===A[1]&&b===1){const k=t*_[0]+c,w=t*_[1]+l;p.push(k,w),y.push(k,w);break}const T=t*_[0]+c,E=t*_[1]+l,F=t*x[0]+c,I=t*x[1]+l,U=t*D[0]+c,L=t*D[1]+l,G=t*A[0]+c,S=t*A[1]+l;v===0&&(p.push(T,E),y.push(T,E)),p.push(F,I,U,L,G,S),y.push(F,I),v===b-1&&y.push(G,S)}a.push({bezier:N(u=yt,Ir,zm).call(u,p,r,this.rotation),points:N(d=yt,Ir,zm).call(d,y,r,this.rotation)})}return a},Hm=function(){let t=1/0,n=-1/0,i=1/0,r=-1/0;for(const a of this.paths)for(const[o,c,l,u]of a){const d=Re.bezierBoundingBox(...o,...c,...l,...u);t=Math.min(t,d[0]),i=Math.min(i,d[1]),n=Math.max(n,d[2]),r=Math.max(r,d[3])}return[t,i,n,r]},ih=function(){return g(this,Hn)?Math.ceil(this.thickness*this.parentScale):0},nl=function(t=!1){if(this.isEmpty())return;if(!g(this,Hn)){N(this,Ce,Ns).call(this);return}const n=N(this,Ce,Hm).call(this),i=N(this,Ce,ih).call(this);M(this,Ca,Math.max(ot.MIN_SIZE,n[2]-n[0])),M(this,Aa,Math.max(ot.MIN_SIZE,n[3]-n[1]));const r=Math.ceil(i+g(this,Ca)*this.scaleFactor),a=Math.ceil(i+g(this,Aa)*this.scaleFactor),[o,c]=this.parentDimensions;this.width=r/o,this.height=a/c,this.setAspectRatio(r,a);const l=this.translationX,u=this.translationY;this.translationX=-n[0],this.translationY=-n[1],N(this,Ce,oo).call(this),N(this,Ce,Ns).call(this),M(this,Ua,r),M(this,Fa,a),this.setDims(r,a);const d=t?i/this.scaleFactor/2:0;this.translate(l-this.translationX-d,u-this.translationY-d)},B(yt,Ir),qe(yt,"_defaultColor",null),qe(yt,"_defaultOpacity",1),qe(yt,"_defaultThickness",1),qe(yt,"_type","ink"),qe(yt,"_editorType",je.INK);let Bm=yt;var Ht,Gt,ns,vr,is,ac,Fi,br,Ii,hi,Xu,nt,il,rl,rh,$m,nD,iD,Xm,sh,rD;const ll=class ll extends ot{constructor(t){super({...t,name:"stampEditor"});B(this,nt);B(this,Ht,null);B(this,Gt,null);B(this,ns,null);B(this,vr,null);B(this,is,null);B(this,ac,"");B(this,Fi,null);B(this,br,null);B(this,Ii,null);B(this,hi,!1);B(this,Xu,!1);M(this,vr,t.bitmapUrl),M(this,is,t.bitmapFile)}static initialize(t,n){ot.initialize(t,n)}static get supportedTypes(){return et(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return et(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,n){n.pasteEditor(je.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,n;g(this,Gt)&&(M(this,Ht,null),this._uiManager.imageManager.deleteId(g(this,Gt)),(t=g(this,Fi))==null||t.remove(),M(this,Fi,null),(n=g(this,br))==null||n.disconnect(),M(this,br,null),g(this,Ii)&&(clearTimeout(g(this,Ii)),M(this,Ii,null))),super.remove()}rebuild(){if(!this.parent){g(this,Gt)&&N(this,nt,rh).call(this);return}super.rebuild(),this.div!==null&&(g(this,Gt)&&g(this,Fi)===null&&N(this,nt,rh).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(g(this,ns)||g(this,Ht)||g(this,vr)||g(this,is)||g(this,Gt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;if(this.width&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),g(this,Ht)?N(this,nt,$m).call(this):N(this,nt,rh).call(this),this.width){const[i,r]=this.parentDimensions;this.setAt(t*i,n*r,this.width*i,this.height*r)}return this.div}getImageForAltText(){return g(this,Fi)}static deserialize(t,n,i){if(t instanceof xx)return null;const r=super.deserialize(t,n,i),{rect:a,bitmapUrl:o,bitmapId:c,isSvg:l,accessibilityData:u}=t;c&&i.imageManager.isValidId(c)?M(r,Gt,c):M(r,vr,o),M(r,hi,l);const[d,h]=r.pageDimensions;return r.width=(a[2]-a[0])/d,r.height=(a[3]-a[1])/h,u&&(r.altTextData=u),r}serialize(t=!1,n=null){if(this.isEmpty())return null;const i={annotationType:je.STAMP,bitmapId:g(this,Gt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:g(this,hi),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=N(this,nt,sh).call(this,!0),i.accessibilityData=this.altTextData,i;const{decorative:r,altText:a}=this.altTextData;if(!r&&a&&(i.accessibilityData={type:"Figure",alt:a}),n===null)return i;n.stamps||(n.stamps=new Map);const o=g(this,hi)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(g(this,Gt)))n.stamps.set(g(this,Gt),{area:o,serialized:i}),i.bitmap=N(this,nt,sh).call(this,!1);else if(g(this,hi)){const c=n.stamps.get(g(this,Gt));o>c.area&&(c.area=o,c.serialized.bitmap.close(),c.serialized.bitmap=N(this,nt,sh).call(this,!1))}return i}};Ht=new WeakMap,Gt=new WeakMap,ns=new WeakMap,vr=new WeakMap,is=new WeakMap,ac=new WeakMap,Fi=new WeakMap,br=new WeakMap,Ii=new WeakMap,hi=new WeakMap,Xu=new WeakMap,nt=new WeakSet,il=function(t,n=!1){if(!t){this.remove();return}M(this,Ht,t.bitmap),n||(M(this,Gt,t.id),M(this,hi,t.isSvg)),t.file&&M(this,ac,t.file.name),N(this,nt,$m).call(this)},rl=function(){M(this,ns,null),this._uiManager.enableWaiting(!1),g(this,Fi)&&this.div.focus()},rh=function(){if(g(this,Gt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(g(this,Gt)).then(i=>N(this,nt,il).call(this,i,!0)).finally(()=>N(this,nt,rl).call(this));return}if(g(this,vr)){const i=g(this,vr);M(this,vr,null),this._uiManager.enableWaiting(!0),M(this,ns,this._uiManager.imageManager.getFromUrl(i).then(r=>N(this,nt,il).call(this,r)).finally(()=>N(this,nt,rl).call(this)));return}if(g(this,is)){const i=g(this,is);M(this,is,null),this._uiManager.enableWaiting(!0),M(this,ns,this._uiManager.imageManager.getFromFile(i).then(r=>N(this,nt,il).call(this,r)).finally(()=>N(this,nt,rl).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=ll.supportedTypesStr;const n=this._uiManager._signal;M(this,ns,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);N(this,nt,il).call(this,r)}i()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>N(this,nt,rl).call(this))),t.click()},$m=function(){const{div:t}=this;let{width:n,height:i}=g(this,Ht);const[r,a]=this.pageDimensions,o=.75;if(this.width)n=this.width*r,i=this.height*a;else if(n>o*r||i>o*a){const d=Math.min(o*r/n,o*a/i);n*=d,i*=d}const[c,l]=this.parentDimensions;this.setDims(n*c/r,i*l/a),this._uiManager.enableWaiting(!1);const u=M(this,Fi,document.createElement("canvas"));t.append(u),t.hidden=!1,N(this,nt,Xm).call(this,n,i),N(this,nt,rD).call(this),g(this,Xu)||(this.parent.addUndoableEditor(this),M(this,Xu,!0)),this._reportTelemetry({action:"inserted_image"}),g(this,ac)&&u.setAttribute("aria-label",g(this,ac))},nD=function(t,n){var o;const[i,r]=this.parentDimensions;this.width=t/i,this.height=n/r,this.setDims(t,n),(o=this._initialOptions)!=null&&o.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,g(this,Ii)!==null&&clearTimeout(g(this,Ii)),M(this,Ii,setTimeout(()=>{M(this,Ii,null),N(this,nt,Xm).call(this,t,n)},200))},iD=function(t,n){const{width:i,height:r}=g(this,Ht);let a=i,o=r,c=g(this,Ht);for(;a>2*t||o>2*n;){const l=a,u=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const d=new OffscreenCanvas(a,o);d.getContext("2d").drawImage(c,0,0,l,u,0,0,a,o),c=d.transferToImageBitmap()}return c},Xm=function(t,n){t=Math.ceil(t),n=Math.ceil(n);const i=g(this,Fi);if(!i||i.width===t&&i.height===n)return;i.width=t,i.height=n;const r=g(this,hi)?g(this,Ht):N(this,nt,iD).call(this,t,n);if(this._uiManager.hasMLManager&&!this.hasAltText()){const c=new OffscreenCanvas(t,n).getContext("2d");c.drawImage(r,0,0,r.width,r.height,0,0,t,n),this._uiManager.mlGuess({service:"image-to-text",request:{data:c.getImageData(0,0,t,n).data,width:t,height:n,channels:4}}).then(l=>{const u=(l==null?void 0:l.output)||"";this.parent&&u&&!this.hasAltText()&&(this.altTextData={altText:u,decorative:!1})})}const a=i.getContext("2d");a.filter=this._uiManager.hcmFilter,a.drawImage(r,0,0,r.width,r.height,0,0,t,n)},sh=function(t){if(t){if(g(this,hi)){const r=this._uiManager.imageManager.getSvgUrl(g(this,Gt));if(r)return r}const n=document.createElement("canvas");return{width:n.width,height:n.height}=g(this,Ht),n.getContext("2d").drawImage(g(this,Ht),0,0),n.toDataURL()}if(g(this,hi)){const[n,i]=this.pageDimensions,r=Math.round(this.width*n*us.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*us.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(r,a);return o.getContext("2d").drawImage(g(this,Ht),0,0,g(this,Ht).width,g(this,Ht).height,0,0,r,a),o.transferToImageBitmap()}return structuredClone(g(this,Ht))},rD=function(){this._uiManager._signal&&(M(this,br,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&N(this,nt,nD).call(this,n.width,n.height)})),g(this,br).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=g(this,br))==null||t.disconnect(),M(this,br,null)},{once:!0}))},qe(ll,"_type","stamp"),qe(ll,"_editorType",je.STAMP);let Gm=ll;var Ia,oc,Ri,Ra,_r,xr,Dr,kn,rs,cc,lc,sn,Me,ss,$t,sD,Km,Zm,Jm,ah;const Qn=class Qn{constructor({uiManager:e,pageIndex:t,div:n,accessibilityManager:i,annotationLayer:r,drawLayer:a,textLayer:o,viewport:c,l10n:l}){B(this,$t);B(this,Ia);B(this,oc,!1);B(this,Ri,null);B(this,Ra,null);B(this,_r,null);B(this,xr,null);B(this,Dr,null);B(this,kn,new Map);B(this,rs,!1);B(this,cc,!1);B(this,lc,!1);B(this,sn,null);B(this,Me);const u=[...g(Qn,ss).values()];if(!Qn._initialized){Qn._initialized=!0;for(const d of u)d.initialize(l,e)}e.registerEditorTypes(u),M(this,Me,e),this.pageIndex=t,this.div=n,M(this,Ia,i),M(this,Ri,r),this.viewport=c,M(this,sn,o),this.drawLayer=a,g(this,Me).addLayer(this)}get isEmpty(){return g(this,kn).size===0}get isInvisible(){return this.isEmpty&&g(this,Me).getMode()===je.NONE}updateToolbar(e){g(this,Me).updateToolbar(e)}updateMode(e=g(this,Me).getMode()){switch(N(this,$t,ah).call(this),e){case je.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case je.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case je.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of g(Qn,ss).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=g(this,sn))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(g(this,Me).getMode()!==je.INK)return;if(!e){for(const n of g(this,kn).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){g(this,Me).setEditingState(e)}addCommands(e){g(this,Me).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=g(this,Ri))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of g(this,kn).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(g(this,Me).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!g(this,Ri))return;const t=g(this,Ri).getEditableAnnotations();for(const n of t){if(n.hide(),g(this,Me).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const i=this.deserialize(n);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;M(this,lc,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const r of g(this,kn).values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){e.set(r.annotationElementId,r);continue}else t.set(r.annotationElementId,r);(i=this.getEditableAnnotation(r.annotationElementId))==null||i.show(),r.remove()}if(g(this,Ri)){const r=g(this,Ri).getEditableAnnotations();for(const a of r){const{id:o}=a.data;if(g(this,Me).isDeletedAnnotationElement(o))continue;let c=t.get(o);if(c){c.resetAnnotationElement(a),c.show(!1),a.show();continue}c=e.get(o),c&&(g(this,Me).addChangedExistingAnnotation(c),c.renderAnnotationElement(a),c.show(!1)),a.show()}}N(this,$t,ah).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const r of g(Qn,ss).values())n.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),M(this,lc,!1)}getEditableAnnotation(e){var t;return((t=g(this,Ri))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){g(this,Me).getActive()!==e&&g(this,Me).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=g(this,sn))!=null&&e.div&&!g(this,xr)&&(M(this,xr,N(this,$t,sD).bind(this)),g(this,sn).div.addEventListener("pointerdown",g(this,xr),{signal:g(this,Me)._signal}),g(this,sn).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=g(this,sn))!=null&&e.div&&g(this,xr)&&(g(this,sn).div.removeEventListener("pointerdown",g(this,xr)),M(this,xr,null),g(this,sn).div.classList.remove("highlighting"))}enableClick(){if(g(this,_r))return;const e=g(this,Me)._signal;M(this,_r,this.pointerdown.bind(this)),M(this,Ra,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",g(this,_r),{signal:e}),this.div.addEventListener("pointerup",g(this,Ra),{signal:e})}disableClick(){g(this,_r)&&(this.div.removeEventListener("pointerdown",g(this,_r)),this.div.removeEventListener("pointerup",g(this,Ra)),M(this,_r,null),M(this,Ra,null))}attach(e){g(this,kn).set(e.id,e);const{annotationElementId:t}=e;t&&g(this,Me).isDeletedAnnotationElement(t)&&g(this,Me).removeDeletedAnnotationElement(e)}detach(e){var t;g(this,kn).delete(e.id),(t=g(this,Ia))==null||t.removePointerInTextLayer(e.contentDiv),!g(this,lc)&&e.annotationElementId&&g(this,Me).addDeletedAnnotationElement(e)}remove(e){this.detach(e),g(this,Me).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,g(this,cc)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(g(this,Me).addDeletedAnnotationElement(e.annotationElementId),ot.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),g(this,Me).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),g(this,Me).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!g(this,Dr)&&(e._focusEventsAllowed=!1,M(this,Dr,setTimeout(()=>{M(this,Dr,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:g(this,Me)._signal}),t.focus())},0))),e._structTreeParentId=(n=g(this,Ia))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return g(this,Me).getId()}get _signal(){return g(this,Me)._signal}canCreateNewEmptyEditor(){var e;return(e=g(this,$t,Km))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){g(this,Me).updateToolbar(e),g(this,Me).updateMode(e);const{offsetX:n,offsetY:i}=N(this,$t,Jm).call(this),r=this.getNextId(),a=N(this,$t,Zm).call(this,{parent:this,id:r,x:n,y:i,uiManager:g(this,Me),isCentered:!0,...t});a&&this.add(a)}deserialize(e){var t;return((t=g(Qn,ss).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,g(this,Me)))||null}createAndAddNewEditor(e,t,n={}){const i=this.getNextId(),r=N(this,$t,Zm).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:g(this,Me),isCentered:t,...n});return r&&this.add(r),r}addNewEditor(){this.createAndAddNewEditor(N(this,$t,Jm).call(this),!0)}setSelected(e){g(this,Me).setSelected(e)}toggleSelected(e){g(this,Me).toggleSelected(e)}isSelected(e){return g(this,Me).isSelected(e)}unselect(e){g(this,Me).unselect(e)}pointerup(e){const{isMac:t}=yn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&g(this,rs)){if(M(this,rs,!1),!g(this,oc)){M(this,oc,!0);return}if(g(this,Me).getMode()===je.STAMP){g(this,Me).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(g(this,Me).getMode()===je.HIGHLIGHT&&this.enableTextSelection(),g(this,rs)){M(this,rs,!1);return}const{isMac:t}=yn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;M(this,rs,!0);const n=g(this,Me).getActive();M(this,oc,!n||n.isEmpty())}findNewParent(e,t,n){const i=g(this,Me).findParent(t,n);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,t;((e=g(this,Me).getActive())==null?void 0:e.parent)===this&&(g(this,Me).commitOrRemove(),g(this,Me).setActiveEditor(null)),g(this,Dr)&&(clearTimeout(g(this,Dr)),M(this,Dr,null));for(const n of g(this,kn).values())(t=g(this,Ia))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,g(this,kn).clear(),g(this,Me).removeLayer(this)}render({viewport:e}){this.viewport=e,La(this.div,e);for(const t of g(this,Me).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){g(this,Me).commitOrRemove(),N(this,$t,ah).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,La(this.div,{rotation:n}),t!==n)for(const i of g(this,kn).values())i.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return g(this,Me).viewParameters.realScale}};Ia=new WeakMap,oc=new WeakMap,Ri=new WeakMap,Ra=new WeakMap,_r=new WeakMap,xr=new WeakMap,Dr=new WeakMap,kn=new WeakMap,rs=new WeakMap,cc=new WeakMap,lc=new WeakMap,sn=new WeakMap,Me=new WeakMap,ss=new WeakMap,$t=new WeakSet,sD=function(e){if(g(this,Me).unselectAll(),e.target===g(this,sn).div){const{isMac:t}=yn.platform;if(e.button!==0||e.ctrlKey&&t)return;g(this,Me).showAllEditors("highlight",!0,!0),g(this,sn).div.classList.add("free"),Hh.startHighlighting(this,g(this,Me).direction==="ltr",e),g(this,sn).div.addEventListener("pointerup",()=>{g(this,sn).div.classList.remove("free")},{once:!0,signal:g(this,Me)._signal}),e.preventDefault()}},Km=function(){return g(Qn,ss).get(g(this,Me).getMode())},Zm=function(e){const t=g(this,$t,Km);return t?new t.prototype.constructor(e):null},Jm=function(){const{x:e,y:t,width:n,height:i}=this.div.getBoundingClientRect(),r=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+n),c=Math.min(window.innerHeight,t+i),l=(r+o)/2-e,u=(a+c)/2-t,[d,h]=this.viewport.rotation%180===0?[l,u]:[u,l];return{offsetX:d,offsetY:h}},ah=function(){M(this,cc,!0);for(const e of g(this,kn).values())e.isEmpty()&&e.remove();M(this,cc,!1)},qe(Qn,"_initialized",!1),B(Qn,ss,new Map([wm,Bm,Gm,Hh].map(e=>[e._editorType,e])));let Ym=Qn;var ki,Yu,kt,as,Ku,jm,Va,ey,aD;const Ot=class Ot{constructor({pageIndex:e}){B(this,Va);B(this,ki,null);B(this,Yu,0);B(this,kt,new Map);B(this,as,new Map);this.pageIndex=e}setParent(e){if(!g(this,ki)){M(this,ki,e);return}if(g(this,ki)!==e){if(g(this,kt).size>0)for(const t of g(this,kt).values())t.remove(),e.append(t);M(this,ki,e)}}static get _svgFactory(){return et(this,"_svgFactory",new uy)}highlight(e,t,n,i=!1){const r=Tn(this,Yu)._++,a=N(this,Va,ey).call(this,e.box);a.classList.add("highlight"),e.free&&a.classList.add("free");const o=Ot._svgFactory.createElement("defs");a.append(o);const c=Ot._svgFactory.createElement("path");o.append(c);const l=`path_p${this.pageIndex}_${r}`;c.setAttribute("id",l),c.setAttribute("d",e.toSVGPath()),i&&g(this,as).set(r,c);const u=N(this,Va,aD).call(this,o,l),d=Ot._svgFactory.createElement("use");return a.append(d),a.setAttribute("fill",t),a.setAttribute("fill-opacity",n),d.setAttribute("href",`#${l}`),g(this,kt).set(r,a),{id:r,clipPathId:`url(#${u})`}}highlightOutline(e){const t=Tn(this,Yu)._++,n=N(this,Va,ey).call(this,e.box);n.classList.add("highlightOutline");const i=Ot._svgFactory.createElement("defs");n.append(i);const r=Ot._svgFactory.createElement("path");i.append(r);const a=`path_p${this.pageIndex}_${t}`;r.setAttribute("id",a),r.setAttribute("d",e.toSVGPath()),r.setAttribute("vector-effect","non-scaling-stroke");let o;if(e.free){n.classList.add("free");const u=Ot._svgFactory.createElement("mask");i.append(u),o=`mask_p${this.pageIndex}_${t}`,u.setAttribute("id",o),u.setAttribute("maskUnits","objectBoundingBox");const d=Ot._svgFactory.createElement("rect");u.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const h=Ot._svgFactory.createElement("use");u.append(h),h.setAttribute("href",`#${a}`),h.setAttribute("stroke","none"),h.setAttribute("fill","black"),h.setAttribute("fill-rule","nonzero"),h.classList.add("mask")}const c=Ot._svgFactory.createElement("use");n.append(c),c.setAttribute("href",`#${a}`),o&&c.setAttribute("mask",`url(#${o})`);const l=c.cloneNode();return n.append(l),c.classList.add("mainOutline"),l.classList.add("secondaryOutline"),g(this,kt).set(t,n),t}finalizeLine(e,t){const n=g(this,as).get(e);g(this,as).delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){g(this,kt).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),g(this,as).delete(e)}updatePath(e,t){g(this,as).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var n;N(n=Ot,Ku,jm).call(n,g(this,kt).get(e),t)}show(e,t){g(this,kt).get(e).classList.toggle("hidden",!t)}rotate(e,t){g(this,kt).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){g(this,kt).get(e).setAttribute("fill",t)}changeOpacity(e,t){g(this,kt).get(e).setAttribute("fill-opacity",t)}addClass(e,t){g(this,kt).get(e).classList.add(t)}removeClass(e,t){g(this,kt).get(e).classList.remove(t)}remove(e){g(this,ki)!==null&&(g(this,kt).get(e).remove(),g(this,kt).delete(e))}destroy(){M(this,ki,null);for(const e of g(this,kt).values())e.remove();g(this,kt).clear()}};ki=new WeakMap,Yu=new WeakMap,kt=new WeakMap,as=new WeakMap,Ku=new WeakSet,jm=function(e,{x:t=0,y:n=0,width:i=1,height:r=1}={}){const{style:a}=e;a.top=`${100*n}%`,a.left=`${100*t}%`,a.width=`${100*i}%`,a.height=`${100*r}%`},Va=new WeakSet,ey=function(e){var n;const t=Ot._svgFactory.create(1,1,!0);return g(this,ki).append(t),t.setAttribute("aria-hidden",!0),N(n=Ot,Ku,jm).call(n,t,e),t},aD=function(e,t){const n=Ot._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const r=Ot._svgFactory.createElement("use");return n.append(r),r.setAttribute("href",`#${t}`),r.classList.add("clip"),i},B(Ot,Ku);let Qm=Ot;Pe.AbortException;Pe.AnnotationEditorLayer;Pe.AnnotationEditorParamsType;Pe.AnnotationEditorType;Pe.AnnotationEditorUIManager;Pe.AnnotationLayer;Pe.AnnotationMode;Pe.CMapCompressionType;Pe.ColorPicker;Pe.DOMSVGFactory;Pe.DrawLayer;Pe.FeatureTest;var m3=Pe.GlobalWorkerOptions;Pe.ImageKind;Pe.InvalidPDFException;Pe.MissingPDFException;Pe.OPS;Pe.Outliner;Pe.PDFDataRangeTransport;Pe.PDFDateString;Pe.PDFWorker;Pe.PasswordResponses;Pe.PermissionFlag;Pe.PixelsPerInch;Pe.RenderingCancelledException;Pe.TextLayer;Pe.UnexpectedResponseException;Pe.Util;Pe.VerbosityLevel;Pe.XfaLayer;Pe.build;Pe.createValidAbsoluteUrl;Pe.fetchData;var y3=Pe.getDocument;Pe.getFilenameFromUrl;Pe.getPdfFilenameFromUrl;Pe.getXfaPageViewport;Pe.isDataScheme;Pe.isPdfFile;Pe.noContextMenu;Pe.normalizeUnicode;Pe.renderTextLayer;Pe.setLayerDimensions;Pe.shadow;Pe.updateTextLayer;Pe.version;var On={},vy="1.13.7",p0=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Ff=Array.prototype,by=Object.prototype,g0=typeof Symbol<"u"?Symbol.prototype:null,v3=Ff.push,td=Ff.slice,hl=by.toString,b3=by.hasOwnProperty,oD=typeof ArrayBuffer<"u",_3=typeof DataView<"u",x3=Array.isArray,m0=Object.keys,y0=Object.create,v0=oD&&ArrayBuffer.isView,D3=isNaN,T3=isFinite,cD=!{toString:null}.propertyIsEnumerable("toString"),b0=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],A3=Math.pow(2,53)-1;function un(s,e){return e=e==null?s.length-1:+e,function(){for(var t=Math.max(arguments.length-e,0),n=Array(t),i=0;i<t;i++)n[i]=arguments[i+e];switch(e){case 0:return s.call(this,n);case 1:return s.call(this,arguments[0],n);case 2:return s.call(this,arguments[0],arguments[1],n)}var r=Array(e+1);for(i=0;i<e;i++)r[i]=arguments[i];return r[e]=n,s.apply(this,r)}}function vs(s){var e=typeof s;return e==="function"||e==="object"&&!!s}function lD(s){return s===null}function _y(s){return s===void 0}function xy(s){return s===!0||s===!1||hl.call(s)==="[object Boolean]"}function uD(s){return!!(s&&s.nodeType===1)}function tn(s){var e="[object "+s+"]";return function(t){return hl.call(t)===e}}const If=tn("String"),Dy=tn("Number"),dD=tn("Date"),hD=tn("RegExp"),fD=tn("Error"),Ty=tn("Symbol"),Ay=tn("ArrayBuffer");var pD=tn("Function"),C3=p0.document&&p0.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof C3!="function"&&(pD=function(s){return typeof s=="function"||!1});const en=pD,gD=tn("Object");var mD=_3&&(!/\[native code\]/.test(String(DataView))||gD(new DataView(new ArrayBuffer(8)))),Cy=typeof Map<"u"&&gD(new Map),E3=tn("DataView");function w3(s){return s!=null&&en(s.getInt8)&&Ay(s.buffer)}const fl=mD?w3:E3,bs=x3||tn("Array");function _s(s,e){return s!=null&&b3.call(s,e)}var ty=tn("Arguments");(function(){ty(arguments)||(ty=function(s){return _s(s,"callee")})})();const Rf=ty;function yD(s){return!Ty(s)&&T3(s)&&!isNaN(parseFloat(s))}function Ey(s){return Dy(s)&&D3(s)}function wy(s){return function(){return s}}function vD(s){return function(e){var t=s(e);return typeof t=="number"&&t>=0&&t<=A3}}function bD(s){return function(e){return e==null?void 0:e[s]}}const Gh=bD("byteLength"),S3=vD(Gh);var U3=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function F3(s){return v0?v0(s)&&!fl(s):S3(s)&&U3.test(hl.call(s))}const Sy=oD?F3:wy(!1),_n=bD("length");function I3(s){for(var e={},t=s.length,n=0;n<t;++n)e[s[n]]=!0;return{contains:function(i){return e[i]===!0},push:function(i){return e[i]=!0,s.push(i)}}}function _D(s,e){e=I3(e);var t=b0.length,n=s.constructor,i=en(n)&&n.prototype||by,r="constructor";for(_s(s,r)&&!e.contains(r)&&e.push(r);t--;)r=b0[t],r in s&&s[r]!==i[r]&&!e.contains(r)&&e.push(r)}function Nt(s){if(!vs(s))return[];if(m0)return m0(s);var e=[];for(var t in s)_s(s,t)&&e.push(t);return cD&&_D(s,e),e}function xD(s){if(s==null)return!0;var e=_n(s);return typeof e=="number"&&(bs(s)||If(s)||Rf(s))?e===0:_n(Nt(s))===0}function Uy(s,e){var t=Nt(e),n=t.length;if(s==null)return!n;for(var i=Object(s),r=0;r<n;r++){var a=t[r];if(e[a]!==i[a]||!(a in i))return!1}return!0}function rt(s){if(s instanceof rt)return s;if(!(this instanceof rt))return new rt(s);this._wrapped=s}rt.VERSION=vy;rt.prototype.value=function(){return this._wrapped};rt.prototype.valueOf=rt.prototype.toJSON=rt.prototype.value;rt.prototype.toString=function(){return String(this._wrapped)};function _0(s){return new Uint8Array(s.buffer||s,s.byteOffset||0,Gh(s))}var x0="[object DataView]";function ny(s,e,t,n){if(s===e)return s!==0||1/s===1/e;if(s==null||e==null)return!1;if(s!==s)return e!==e;var i=typeof s;return i!=="function"&&i!=="object"&&typeof e!="object"?!1:DD(s,e,t,n)}function DD(s,e,t,n){s instanceof rt&&(s=s._wrapped),e instanceof rt&&(e=e._wrapped);var i=hl.call(s);if(i!==hl.call(e))return!1;if(mD&&i=="[object Object]"&&fl(s)){if(!fl(e))return!1;i=x0}switch(i){case"[object RegExp]":case"[object String]":return""+s==""+e;case"[object Number]":return+s!=+s?+e!=+e:+s==0?1/+s===1/e:+s==+e;case"[object Date]":case"[object Boolean]":return+s==+e;case"[object Symbol]":return g0.valueOf.call(s)===g0.valueOf.call(e);case"[object ArrayBuffer]":case x0:return DD(_0(s),_0(e),t,n)}var r=i==="[object Array]";if(!r&&Sy(s)){var a=Gh(s);if(a!==Gh(e))return!1;if(s.buffer===e.buffer&&s.byteOffset===e.byteOffset)return!0;r=!0}if(!r){if(typeof s!="object"||typeof e!="object")return!1;var o=s.constructor,c=e.constructor;if(o!==c&&!(en(o)&&o instanceof o&&en(c)&&c instanceof c)&&"constructor"in s&&"constructor"in e)return!1}t=t||[],n=n||[];for(var l=t.length;l--;)if(t[l]===s)return n[l]===e;if(t.push(s),n.push(e),r){if(l=s.length,l!==e.length)return!1;for(;l--;)if(!ny(s[l],e[l],t,n))return!1}else{var u=Nt(s),d;if(l=u.length,Nt(e).length!==l)return!1;for(;l--;)if(d=u[l],!(_s(e,d)&&ny(s[d],e[d],t,n)))return!1}return t.pop(),n.pop(),!0}function TD(s,e){return ny(s,e)}function _c(s){if(!vs(s))return[];var e=[];for(var t in s)e.push(t);return cD&&_D(s,e),e}function Fy(s){var e=_n(s);return function(t){if(t==null)return!1;var n=_c(t);if(_n(n))return!1;for(var i=0;i<e;i++)if(!en(t[s[i]]))return!1;return s!==ED||!en(t[Iy])}}var Iy="forEach",AD="has",Ry=["clear","delete"],CD=["get",AD,"set"],R3=Ry.concat(Iy,CD),ED=Ry.concat(CD),k3=["add"].concat(Ry,Iy,AD);const wD=Cy?Fy(R3):tn("Map"),SD=Cy?Fy(ED):tn("WeakMap"),UD=Cy?Fy(k3):tn("Set"),FD=tn("WeakSet");function $a(s){for(var e=Nt(s),t=e.length,n=Array(t),i=0;i<t;i++)n[i]=s[e[i]];return n}function ID(s){for(var e=Nt(s),t=e.length,n=Array(t),i=0;i<t;i++)n[i]=[e[i],s[e[i]]];return n}function ky(s){for(var e={},t=Nt(s),n=0,i=t.length;n<i;n++)e[s[t[n]]]=t[n];return e}function pl(s){var e=[];for(var t in s)en(s[t])&&e.push(t);return e.sort()}function My(s,e){return function(t){var n=arguments.length;if(e&&(t=Object(t)),n<2||t==null)return t;for(var i=1;i<n;i++)for(var r=arguments[i],a=s(r),o=a.length,c=0;c<o;c++){var l=a[c];(!e||t[l]===void 0)&&(t[l]=r[l])}return t}}const Ny=My(_c),yc=My(Nt),Py=My(_c,!0);function M3(){return function(){}}function RD(s){if(!vs(s))return{};if(y0)return y0(s);var e=M3();e.prototype=s;var t=new e;return e.prototype=null,t}function kD(s,e){var t=RD(s);return e&&yc(t,e),t}function MD(s){return vs(s)?bs(s)?s.slice():Ny({},s):s}function ND(s,e){return e(s),s}function Ly(s){return bs(s)?s:[s]}rt.toPath=Ly;function nd(s){return rt.toPath(s)}function By(s,e){for(var t=e.length,n=0;n<t;n++){if(s==null)return;s=s[e[n]]}return t?s:void 0}function Oy(s,e,t){var n=By(s,nd(e));return _y(n)?t:n}function PD(s,e){e=nd(e);for(var t=e.length,n=0;n<t;n++){var i=e[n];if(!_s(s,i))return!1;s=s[i]}return!!t}function kf(s){return s}function Wa(s){return s=yc({},s),function(e){return Uy(e,s)}}function Mf(s){return s=nd(s),function(e){return By(e,s)}}function id(s,e,t){if(e===void 0)return s;switch(t??3){case 1:return function(n){return s.call(e,n)};case 3:return function(n,i,r){return s.call(e,n,i,r)};case 4:return function(n,i,r,a){return s.call(e,n,i,r,a)}}return function(){return s.apply(e,arguments)}}function LD(s,e,t){return s==null?kf:en(s)?id(s,e,t):vs(s)&&!bs(s)?Wa(s):Mf(s)}function Nf(s,e){return LD(s,e,1/0)}rt.iteratee=Nf;function xn(s,e,t){return rt.iteratee!==Nf?rt.iteratee(s,e):LD(s,e,t)}function BD(s,e,t){e=xn(e,t);for(var n=Nt(s),i=n.length,r={},a=0;a<i;a++){var o=n[a];r[o]=e(s[o],o,s)}return r}function Wy(){}function OD(s){return s==null?Wy:function(e){return Oy(s,e)}}function WD(s,e,t){var n=Array(Math.max(0,s));e=id(e,t,1);for(var i=0;i<s;i++)n[i]=e(i);return n}function $h(s,e){return e==null&&(e=s,s=0),s+Math.floor(Math.random()*(e-s+1))}const vc=Date.now||function(){return new Date().getTime()};function qD(s){var e=function(r){return s[r]},t="(?:"+Nt(s).join("|")+")",n=RegExp(t),i=RegExp(t,"g");return function(r){return r=r==null?"":""+r,n.test(r)?r.replace(i,e):r}}const VD={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},zD=qD(VD),N3=ky(VD),HD=qD(N3),GD=rt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var fp=/(.)^/,P3={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},L3=/\\|'|\r|\n|\u2028|\u2029/g;function B3(s){return"\\"+P3[s]}var O3=/^\s*(\w|\$)+\s*$/;function $D(s,e,t){!e&&t&&(e=t),e=Py({},e,rt.templateSettings);var n=RegExp([(e.escape||fp).source,(e.interpolate||fp).source,(e.evaluate||fp).source].join("|")+"|$","g"),i=0,r="__p+='";s.replace(n,function(l,u,d,h,p){return r+=s.slice(i,p).replace(L3,B3),i=p+l.length,u?r+=`'+
((__t=(`+u+`))==null?'':_.escape(__t))+
'`:d?r+=`'+
((__t=(`+d+`))==null?'':__t)+
'`:h&&(r+=`';
`+h+`
__p+='`),l}),r+=`';
`;var a=e.variable;if(a){if(!O3.test(a))throw new Error("variable is not a bare identifier: "+a)}else r=`with(obj||{}){
`+r+`}
`,a="obj";r=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+r+`return __p;
`;var o;try{o=new Function(a,"_",r)}catch(l){throw l.source=r,l}var c=function(l){return o.call(this,l,rt)};return c.source="function("+a+`){
`+r+"}",c}function XD(s,e,t){e=nd(e);var n=e.length;if(!n)return en(t)?t.call(s):t;for(var i=0;i<n;i++){var r=s==null?void 0:s[e[i]];r===void 0&&(r=t,i=n),s=en(r)?r.call(s):r}return s}var W3=0;function YD(s){var e=++W3+"";return s?s+e:e}function KD(s){var e=rt(s);return e._chain=!0,e}function ZD(s,e,t,n,i){if(!(n instanceof e))return s.apply(t,i);var r=RD(s.prototype),a=s.apply(r,i);return vs(a)?a:r}var Xa=un(function(s,e){var t=Xa.placeholder,n=function(){for(var i=0,r=e.length,a=Array(r),o=0;o<r;o++)a[o]=e[o]===t?arguments[i++]:e[o];for(;i<arguments.length;)a.push(arguments[i++]);return ZD(s,n,this,this,a)};return n});Xa.placeholder=rt;const qy=un(function(s,e,t){if(!en(s))throw new TypeError("Bind must be called on a function");var n=un(function(i){return ZD(s,n,e,this,t.concat(i))});return n}),Pn=vD(_n);function Ya(s,e,t,n){if(n=n||[],!e&&e!==0)e=1/0;else if(e<=0)return n.concat(s);for(var i=n.length,r=0,a=_n(s);r<a;r++){var o=s[r];if(Pn(o)&&(bs(o)||Rf(o)))if(e>1)Ya(o,e-1,t,n),i=n.length;else for(var c=0,l=o.length;c<l;)n[i++]=o[c++];else t||(n[i++]=o)}return n}const JD=un(function(s,e){e=Ya(e,!1,!1);var t=e.length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var n=e[t];s[n]=qy(s[n],s)}return s});function QD(s,e){var t=function(n){var i=t.cache,r=""+(e?e.apply(this,arguments):n);return _s(i,r)||(i[r]=s.apply(this,arguments)),i[r]};return t.cache={},t}const Vy=un(function(s,e,t){return setTimeout(function(){return s.apply(null,t)},e)}),jD=Xa(Vy,rt,1);function eT(s,e,t){var n,i,r,a,o=0;t||(t={});var c=function(){o=t.leading===!1?0:vc(),n=null,a=s.apply(i,r),n||(i=r=null)},l=function(){var u=vc();!o&&t.leading===!1&&(o=u);var d=e-(u-o);return i=this,r=arguments,d<=0||d>e?(n&&(clearTimeout(n),n=null),o=u,a=s.apply(i,r),n||(i=r=null)):!n&&t.trailing!==!1&&(n=setTimeout(c,d)),a};return l.cancel=function(){clearTimeout(n),o=0,n=i=r=null},l}function tT(s,e,t){var n,i,r,a,o,c=function(){var u=vc()-i;e>u?n=setTimeout(c,e-u):(n=null,t||(a=s.apply(o,r)),n||(r=o=null))},l=un(function(u){return o=this,r=u,i=vc(),n||(n=setTimeout(c,e),t&&(a=s.apply(o,r))),a});return l.cancel=function(){clearTimeout(n),n=r=o=null},l}function nT(s,e){return Xa(e,s)}function Pf(s){return function(){return!s.apply(this,arguments)}}function iT(){var s=arguments,e=s.length-1;return function(){for(var t=e,n=s[e].apply(this,arguments);t--;)n=s[t].call(this,n);return n}}function rT(s,e){return function(){if(--s<1)return e.apply(this,arguments)}}function zy(s,e){var t;return function(){return--s>0&&(t=e.apply(this,arguments)),s<=1&&(e=null),t}}const sT=Xa(zy,2);function Hy(s,e,t){e=xn(e,t);for(var n=Nt(s),i,r=0,a=n.length;r<a;r++)if(i=n[r],e(s[i],i,s))return i}function aT(s){return function(e,t,n){t=xn(t,n);for(var i=_n(e),r=s>0?0:i-1;r>=0&&r<i;r+=s)if(t(e[r],r,e))return r;return-1}}const Lf=aT(1),Gy=aT(-1);function $y(s,e,t,n){t=xn(t,n,1);for(var i=t(e),r=0,a=_n(s);r<a;){var o=Math.floor((r+a)/2);t(s[o])<i?r=o+1:a=o}return r}function oT(s,e,t){return function(n,i,r){var a=0,o=_n(n);if(typeof r=="number")s>0?a=r>=0?r:Math.max(r+o,a):o=r>=0?Math.min(r+1,o):r+o+1;else if(t&&r&&o)return r=t(n,i),n[r]===i?r:-1;if(i!==i)return r=e(td.call(n,a,o),Ey),r>=0?r+a:-1;for(r=s>0?a:o-1;r>=0&&r<o;r+=s)if(n[r]===i)return r;return-1}}const Xy=oT(1,Lf,$y),cT=oT(-1,Gy);function gl(s,e,t){var n=Pn(s)?Lf:Hy,i=n(s,e,t);if(i!==void 0&&i!==-1)return s[i]}function lT(s,e){return gl(s,Wa(e))}function pi(s,e,t){e=id(e,t);var n,i;if(Pn(s))for(n=0,i=s.length;n<i;n++)e(s[n],n,s);else{var r=Nt(s);for(n=0,i=r.length;n<i;n++)e(s[r[n]],r[n],s)}return s}function Sr(s,e,t){e=xn(e,t);for(var n=!Pn(s)&&Nt(s),i=(n||s).length,r=Array(i),a=0;a<i;a++){var o=n?n[a]:a;r[a]=e(s[o],o,s)}return r}function uT(s){var e=function(t,n,i,r){var a=!Pn(t)&&Nt(t),o=(a||t).length,c=s>0?0:o-1;for(r||(i=t[a?a[c]:c],c+=s);c>=0&&c<o;c+=s){var l=a?a[c]:c;i=n(i,t[l],l,t)}return i};return function(t,n,i,r){var a=arguments.length>=3;return e(t,id(n,r,4),i,a)}}const fo=uT(1),Xh=uT(-1);function ds(s,e,t){var n=[];return e=xn(e,t),pi(s,function(i,r,a){e(i,r,a)&&n.push(i)}),n}function dT(s,e,t){return ds(s,Pf(xn(e)),t)}function Yh(s,e,t){e=xn(e,t);for(var n=!Pn(s)&&Nt(s),i=(n||s).length,r=0;r<i;r++){var a=n?n[r]:r;if(!e(s[a],a,s))return!1}return!0}function Kh(s,e,t){e=xn(e,t);for(var n=!Pn(s)&&Nt(s),i=(n||s).length,r=0;r<i;r++){var a=n?n[r]:r;if(e(s[a],a,s))return!0}return!1}function Yn(s,e,t,n){return Pn(s)||(s=$a(s)),(typeof t!="number"||n)&&(t=0),Xy(s,e,t)>=0}const hT=un(function(s,e,t){var n,i;return en(e)?i=e:(e=nd(e),n=e.slice(0,-1),e=e[e.length-1]),Sr(s,function(r){var a=i;if(!a){if(n&&n.length&&(r=By(r,n)),r==null)return;a=r[e]}return a==null?a:a.apply(r,t)})});function Bf(s,e){return Sr(s,Mf(e))}function fT(s,e){return ds(s,Wa(e))}function Yy(s,e,t){var n=-1/0,i=-1/0,r,a;if(e==null||typeof e=="number"&&typeof s[0]!="object"&&s!=null){s=Pn(s)?s:$a(s);for(var o=0,c=s.length;o<c;o++)r=s[o],r!=null&&r>n&&(n=r)}else e=xn(e,t),pi(s,function(l,u,d){a=e(l,u,d),(a>i||a===-1/0&&n===-1/0)&&(n=l,i=a)});return n}function pT(s,e,t){var n=1/0,i=1/0,r,a;if(e==null||typeof e=="number"&&typeof s[0]!="object"&&s!=null){s=Pn(s)?s:$a(s);for(var o=0,c=s.length;o<c;o++)r=s[o],r!=null&&r<n&&(n=r)}else e=xn(e,t),pi(s,function(l,u,d){a=e(l,u,d),(a<i||a===1/0&&n===1/0)&&(n=l,i=a)});return n}var q3=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Ky(s){return s?bs(s)?td.call(s):If(s)?s.match(q3):Pn(s)?Sr(s,kf):$a(s):[]}function Zy(s,e,t){if(e==null||t)return Pn(s)||(s=$a(s)),s[$h(s.length-1)];var n=Ky(s),i=_n(n);e=Math.max(Math.min(e,i),0);for(var r=i-1,a=0;a<e;a++){var o=$h(a,r),c=n[a];n[a]=n[o],n[o]=c}return n.slice(0,e)}function gT(s){return Zy(s,1/0)}function mT(s,e,t){var n=0;return e=xn(e,t),Bf(Sr(s,function(i,r,a){return{value:i,index:n++,criteria:e(i,r,a)}}).sort(function(i,r){var a=i.criteria,o=r.criteria;if(a!==o){if(a>o||a===void 0)return 1;if(a<o||o===void 0)return-1}return i.index-r.index}),"value")}function Of(s,e){return function(t,n,i){var r=e?[[],[]]:{};return n=xn(n,i),pi(t,function(a,o){var c=n(a,o,t);s(r,a,c)}),r}}const yT=Of(function(s,e,t){_s(s,t)?s[t].push(e):s[t]=[e]}),vT=Of(function(s,e,t){s[t]=e}),bT=Of(function(s,e,t){_s(s,t)?s[t]++:s[t]=1}),_T=Of(function(s,e,t){s[t?0:1].push(e)},!0);function xT(s){return s==null?0:Pn(s)?s.length:Nt(s).length}function V3(s,e,t){return e in t}const Jy=un(function(s,e){var t={},n=e[0];if(s==null)return t;en(n)?(e.length>1&&(n=id(n,e[1])),e=_c(s)):(n=V3,e=Ya(e,!1,!1),s=Object(s));for(var i=0,r=e.length;i<r;i++){var a=e[i],o=s[a];n(o,a,s)&&(t[a]=o)}return t}),DT=un(function(s,e){var t=e[0],n;return en(t)?(t=Pf(t),e.length>1&&(n=e[1])):(e=Sr(Ya(e,!1,!1),String),t=function(i,r){return!Yn(e,r)}),Jy(s,t,n)});function Qy(s,e,t){return td.call(s,0,Math.max(0,s.length-(e==null||t?1:e)))}function po(s,e,t){return s==null||s.length<1?e==null||t?void 0:[]:e==null||t?s[0]:Qy(s,s.length-e)}function ka(s,e,t){return td.call(s,e==null||t?1:e)}function TT(s,e,t){return s==null||s.length<1?e==null||t?void 0:[]:e==null||t?s[s.length-1]:ka(s,Math.max(0,s.length-e))}function AT(s){return ds(s,Boolean)}function CT(s,e){return Ya(s,e,!1)}const jy=un(function(s,e){return e=Ya(e,!0,!0),ds(s,function(t){return!Yn(e,t)})}),ET=un(function(s,e){return jy(s,e)});function ml(s,e,t,n){xy(e)||(n=t,t=e,e=!1),t!=null&&(t=xn(t,n));for(var i=[],r=[],a=0,o=_n(s);a<o;a++){var c=s[a],l=t?t(c,a,s):c;e&&!t?((!a||r!==l)&&i.push(c),r=l):t?Yn(r,l)||(r.push(l),i.push(c)):Yn(i,c)||i.push(c)}return i}const wT=un(function(s){return ml(Ya(s,!0,!0))});function ST(s){for(var e=[],t=arguments.length,n=0,i=_n(s);n<i;n++){var r=s[n];if(!Yn(e,r)){var a;for(a=1;a<t&&Yn(arguments[a],r);a++);a===t&&e.push(r)}}return e}function yl(s){for(var e=s&&Yy(s,_n).length||0,t=Array(e),n=0;n<e;n++)t[n]=Bf(s,n);return t}const UT=un(yl);function FT(s,e){for(var t={},n=0,i=_n(s);n<i;n++)e?t[s[n]]=e[n]:t[s[n][0]]=s[n][1];return t}function IT(s,e,t){e==null&&(e=s||0,s=0),t||(t=e<s?-1:1);for(var n=Math.max(Math.ceil((e-s)/t),0),i=Array(n),r=0;r<n;r++,s+=t)i[r]=s;return i}function RT(s,e){if(e==null||e<1)return[];for(var t=[],n=0,i=s.length;n<i;)t.push(td.call(s,n,n+=e));return t}function ev(s,e){return s._chain?rt(e).chain():e}function tv(s){return pi(pl(s),function(e){var t=rt[e]=s[e];rt.prototype[e]=function(){var n=[this._wrapped];return v3.apply(n,arguments),ev(this,t.apply(rt,n))}}),rt}pi(["pop","push","reverse","shift","sort","splice","unshift"],function(s){var e=Ff[s];rt.prototype[s]=function(){var t=this._wrapped;return t!=null&&(e.apply(t,arguments),(s==="shift"||s==="splice")&&t.length===0&&delete t[0]),ev(this,t)}});pi(["concat","join","slice"],function(s){var e=Ff[s];rt.prototype[s]=function(){var t=this._wrapped;return t!=null&&(t=e.apply(t,arguments)),ev(this,t)}});const z3=Object.freeze(Object.defineProperty({__proto__:null,VERSION:vy,after:rT,all:Yh,allKeys:_c,any:Kh,assign:yc,before:zy,bind:qy,bindAll:JD,chain:KD,chunk:RT,clone:MD,collect:Sr,compact:AT,compose:iT,constant:wy,contains:Yn,countBy:bT,create:kD,debounce:tT,default:rt,defaults:Py,defer:jD,delay:Vy,detect:gl,difference:jy,drop:ka,each:pi,escape:zD,every:Yh,extend:Ny,extendOwn:yc,filter:ds,find:gl,findIndex:Lf,findKey:Hy,findLastIndex:Gy,findWhere:lT,first:po,flatten:CT,foldl:fo,foldr:Xh,forEach:pi,functions:pl,get:Oy,groupBy:yT,has:PD,head:po,identity:kf,include:Yn,includes:Yn,indexBy:vT,indexOf:Xy,initial:Qy,inject:fo,intersection:ST,invert:ky,invoke:hT,isArguments:Rf,isArray:bs,isArrayBuffer:Ay,isBoolean:xy,isDataView:fl,isDate:dD,isElement:uD,isEmpty:xD,isEqual:TD,isError:fD,isFinite:yD,isFunction:en,isMap:wD,isMatch:Uy,isNaN:Ey,isNull:lD,isNumber:Dy,isObject:vs,isRegExp:hD,isSet:UD,isString:If,isSymbol:Ty,isTypedArray:Sy,isUndefined:_y,isWeakMap:SD,isWeakSet:FD,iteratee:Nf,keys:Nt,last:TT,lastIndexOf:cT,map:Sr,mapObject:BD,matcher:Wa,matches:Wa,max:Yy,memoize:QD,methods:pl,min:pT,mixin:tv,negate:Pf,noop:Wy,now:vc,object:FT,omit:DT,once:sT,pairs:ID,partial:Xa,partition:_T,pick:Jy,pluck:Bf,property:Mf,propertyOf:OD,random:$h,range:IT,reduce:fo,reduceRight:Xh,reject:dT,rest:ka,restArguments:un,result:XD,sample:Zy,select:ds,shuffle:gT,size:xT,some:Kh,sortBy:mT,sortedIndex:$y,tail:ka,take:po,tap:ND,template:$D,templateSettings:GD,throttle:eT,times:WD,toArray:Ky,toPath:Ly,transpose:yl,unescape:HD,union:wT,uniq:ml,unique:ml,uniqueId:YD,unzip:yl,values:$a,where:fT,without:ET,wrap:nT,zip:UT},Symbol.toStringTag,{value:"Module"}));var iy=tv(z3);iy._=iy;const H3=Object.freeze(Object.defineProperty({__proto__:null,VERSION:vy,after:rT,all:Yh,allKeys:_c,any:Kh,assign:yc,before:zy,bind:qy,bindAll:JD,chain:KD,chunk:RT,clone:MD,collect:Sr,compact:AT,compose:iT,constant:wy,contains:Yn,countBy:bT,create:kD,debounce:tT,default:iy,defaults:Py,defer:jD,delay:Vy,detect:gl,difference:jy,drop:ka,each:pi,escape:zD,every:Yh,extend:Ny,extendOwn:yc,filter:ds,find:gl,findIndex:Lf,findKey:Hy,findLastIndex:Gy,findWhere:lT,first:po,flatten:CT,foldl:fo,foldr:Xh,forEach:pi,functions:pl,get:Oy,groupBy:yT,has:PD,head:po,identity:kf,include:Yn,includes:Yn,indexBy:vT,indexOf:Xy,initial:Qy,inject:fo,intersection:ST,invert:ky,invoke:hT,isArguments:Rf,isArray:bs,isArrayBuffer:Ay,isBoolean:xy,isDataView:fl,isDate:dD,isElement:uD,isEmpty:xD,isEqual:TD,isError:fD,isFinite:yD,isFunction:en,isMap:wD,isMatch:Uy,isNaN:Ey,isNull:lD,isNumber:Dy,isObject:vs,isRegExp:hD,isSet:UD,isString:If,isSymbol:Ty,isTypedArray:Sy,isUndefined:_y,isWeakMap:SD,isWeakSet:FD,iteratee:Nf,keys:Nt,last:TT,lastIndexOf:cT,map:Sr,mapObject:BD,matcher:Wa,matches:Wa,max:Yy,memoize:QD,methods:pl,min:pT,mixin:tv,negate:Pf,noop:Wy,now:vc,object:FT,omit:DT,once:sT,pairs:ID,partial:Xa,partition:_T,pick:Jy,pluck:Bf,property:Mf,propertyOf:OD,random:$h,range:IT,reduce:fo,reduceRight:Xh,reject:dT,rest:ka,restArguments:un,result:XD,sample:Zy,select:ds,shuffle:gT,size:xT,some:Kh,sortBy:mT,sortedIndex:$y,tail:ka,take:po,tap:ND,template:$D,templateSettings:GD,throttle:eT,times:WD,toArray:Ky,toPath:Ly,transpose:yl,unescape:HD,union:wT,uniq:ml,unique:ml,uniqueId:YD,unzip:yl,values:$a,where:fT,without:ET,wrap:nT,zip:UT},Symbol.toStringTag,{value:"Module"})),At=eA(H3);var vd={},Wn={},pp={exports:{}},bd={exports:{}},D0;function xc(){if(D0)return bd.exports;D0=1;var s=function(){return this===void 0}();if(s)bd.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:s,propertyIsWritable:function(u,d){var h=Object.getOwnPropertyDescriptor(u,d);return!!(!h||h.writable||h.set)}};else{var e={}.hasOwnProperty,t={}.toString,n={}.constructor.prototype,i=function(u){var d=[];for(var h in u)e.call(u,h)&&d.push(h);return d},r=function(u,d){return{value:u[d]}},a=function(u,d,h){return u[d]=h.value,u},o=function(u){return u},c=function(u){try{return Object(u).constructor.prototype}catch{return n}},l=function(u){try{return t.call(u)==="[object Array]"}catch{return!1}};bd.exports={isArray:l,keys:i,names:i,defineProperty:a,getDescriptor:r,freeze:o,getPrototypeOf:c,isES5:s,propertyIsWritable:function(){return!0}}}return bd.exports}var Sc,T0;function pt(){if(T0)return Sc;T0=1;var s={},e=xc(),t=typeof navigator>"u",n={e:{}},i,r=typeof self<"u"?self:typeof window<"u"?window:typeof os<"u"?os:Sc!==void 0?Sc:null;function a(){try{var Q=i;return i=null,Q.apply(this,arguments)}catch(ce){return n.e=ce,n}}function o(Q){return i=Q,a}var c=function(Q,ce){var le={}.hasOwnProperty;function ve(){this.constructor=Q,this.constructor$=ce;for(var me in ce.prototype)le.call(ce.prototype,me)&&me.charAt(me.length-1)!=="$"&&(this[me+"$"]=ce.prototype[me])}return ve.prototype=ce.prototype,Q.prototype=new ve,Q.prototype};function l(Q){return Q==null||Q===!0||Q===!1||typeof Q=="string"||typeof Q=="number"}function u(Q){return typeof Q=="function"||typeof Q=="object"&&Q!==null}function d(Q){return l(Q)?new Error(F(Q)):Q}function h(Q,ce){var le=Q.length,ve=new Array(le+1),me;for(me=0;me<le;++me)ve[me]=Q[me];return ve[me]=ce,ve}function p(Q,ce,le){if(e.isES5){var ve=Object.getOwnPropertyDescriptor(Q,ce);if(ve!=null)return ve.get==null&&ve.set==null?ve.value:le}else return{}.hasOwnProperty.call(Q,ce)?Q[ce]:void 0}function y(Q,ce,le){if(l(Q))return Q;var ve={value:le,configurable:!0,enumerable:!1,writable:!0};return e.defineProperty(Q,ce,ve),Q}function v(Q){throw Q}var b=function(){var Q=[Array.prototype,Object.prototype,Function.prototype],ce=function(me){for(var ye=0;ye<Q.length;++ye)if(Q[ye]===me)return!0;return!1};if(e.isES5){var le=Object.getOwnPropertyNames;return function(me){for(var ye=[],xe=Object.create(null);me!=null&&!ce(me);){var we;try{we=le(me)}catch{return ye}for(var ke=0;ke<we.length;++ke){var $e=we[ke];if(!xe[$e]){xe[$e]=!0;var Le=Object.getOwnPropertyDescriptor(me,$e);Le!=null&&Le.get==null&&Le.set==null&&ye.push($e)}}me=e.getPrototypeOf(me)}return ye}}else{var ve={}.hasOwnProperty;return function(me){if(ce(me))return[];var ye=[];e:for(var xe in me)if(ve.call(me,xe))ye.push(xe);else{for(var we=0;we<Q.length;++we)if(ve.call(Q[we],xe))continue e;ye.push(xe)}return ye}}}(),_=/this\s*\.\s*\S+\s*=/;function x(Q){try{if(typeof Q=="function"){var ce=e.names(Q.prototype),le=e.isES5&&ce.length>1,ve=ce.length>0&&!(ce.length===1&&ce[0]==="constructor"),me=_.test(Q+"")&&e.names(Q).length>0;if(le||ve||me)return!0}return!1}catch{return!1}}function D(Q){return Q}var A=/^[a-z$_][a-z$_0-9]*$/i;function T(Q){return A.test(Q)}function E(Q,ce,le){for(var ve=new Array(Q),me=0;me<Q;++me)ve[me]=ce+me+le;return ve}function F(Q){try{return Q+""}catch{return"[no string representation]"}}function I(Q){return Q!==null&&typeof Q=="object"&&typeof Q.message=="string"&&typeof Q.name=="string"}function U(Q){try{y(Q,"isOperational",!0)}catch{}}function L(Q){return Q==null?!1:Q instanceof Error.__BluebirdErrorTypes__.OperationalError||Q.isOperational===!0}function G(Q){return I(Q)&&e.propertyIsWritable(Q,"stack")}var S=function(){return"stack"in new Error?function(Q){return G(Q)?Q:new Error(F(Q))}:function(Q){if(G(Q))return Q;try{throw new Error(F(Q))}catch(ce){return ce}}}();function k(Q){return{}.toString.call(Q)}function w(Q,ce,le){for(var ve=e.names(Q),me=0;me<ve.length;++me){var ye=ve[me];if(le(ye))try{e.defineProperty(ce,ye,e.getDescriptor(Q,ye))}catch{}}}var X=function(Q){return e.isArray(Q)?Q:null};if(typeof Symbol<"u"&&Symbol.iterator){var W=typeof Array.from=="function"?function(Q){return Array.from(Q)}:function(Q){for(var ce=[],le=Q[Symbol.iterator](),ve;!(ve=le.next()).done;)ce.push(ve.value);return ce};X=function(Q){return e.isArray(Q)?Q:Q!=null&&typeof Q[Symbol.iterator]=="function"?W(Q):null}}var P=typeof process<"u"&&k(process).toLowerCase()==="[object process]",Z=typeof process<"u"&&typeof s<"u";function K(Q){return Z?s[Q]:void 0}function oe(){if(typeof Promise=="function")try{var Q=new Promise(function(){});if({}.toString.call(Q)==="[object Promise]")return Promise}catch{}}function H(Q,ce){return Q.bind(ce)}var Y={isClass:x,isIdentifier:T,inheritedDataKeys:b,getDataPropertyOrDefault:p,thrower:v,isArray:e.isArray,asArray:X,notEnumerableProp:y,isPrimitive:l,isObject:u,isError:I,canEvaluate:t,errorObj:n,tryCatch:o,inherits:c,withAppended:h,maybeWrapAsError:d,toFastProperties:D,filledRange:E,toString:F,canAttachTrace:G,ensureErrorObject:S,originatesFromRejection:L,markAsOriginatingFromRejection:U,classString:k,copyDescriptors:w,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:P,hasEnvVariables:Z,env:K,global:r,getNativePromise:oe,domainBind:H};Y.isRecentNode=Y.isNode&&function(){var Q=process.versions.node.split(".").map(Number);return Q[0]===0&&Q[1]>10||Q[0]>0}(),Y.isNode&&Y.toFastProperties(process);try{throw new Error}catch(Q){Y.lastLineError=Q}return Sc=Y,Sc}var _d={exports:{}},gp,A0;function G3(){if(A0)return gp;A0=1;var s=pt(),e,t=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},n=s.getNativePromise();if(s.isNode&&typeof MutationObserver>"u"){var i=os.setImmediate,r=process.nextTick;e=s.isRecentNode?function(o){i.call(os,o)}:function(o){r.call(process,o)}}else if(typeof n=="function"&&typeof n.resolve=="function"){var a=n.resolve();e=function(o){a.then(o)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?e=function(){var o=document.createElement("div"),c={attributes:!0},l=!1,u=document.createElement("div"),d=new MutationObserver(function(){o.classList.toggle("foo"),l=!1});d.observe(u,c);var h=function(){l||(l=!0,u.classList.toggle("foo"))};return function(y){var v=new MutationObserver(function(){v.disconnect(),y()});v.observe(o,c),h()}}():typeof setImmediate<"u"?e=function(o){setImmediate(o)}:typeof setTimeout<"u"?e=function(o){setTimeout(o,0)}:e=t;return gp=e,gp}var mp,C0;function $3(){if(C0)return mp;C0=1;function s(t,n,i,r,a){for(var o=0;o<a;++o)i[o+r]=t[o+n],t[o+n]=void 0}function e(t){this._capacity=t,this._length=0,this._front=0}return e.prototype._willBeOverCapacity=function(t){return this._capacity<t},e.prototype._pushOne=function(t){var n=this.length();this._checkCapacity(n+1);var i=this._front+n&this._capacity-1;this[i]=t,this._length=n+1},e.prototype.push=function(t,n,i){var r=this.length()+3;if(this._willBeOverCapacity(r)){this._pushOne(t),this._pushOne(n),this._pushOne(i);return}var a=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[a+0&o]=t,this[a+1&o]=n,this[a+2&o]=i,this._length=r},e.prototype.shift=function(){var t=this._front,n=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,n},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(t){var n=this._capacity;this._capacity=t;var i=this._front,r=this._length,a=i+r&n-1;s(this,0,this,n,a)},mp=e,mp}var E0;function X3(){if(E0)return _d.exports;E0=1;var s;try{throw new Error}catch(c){s=c}var e=G3(),t=$3(),n=pt();function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new t(16),this._normalQueue=new t(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var c=this;this.drainQueues=function(){c._drainQueues()},this._schedule=e}i.prototype.setScheduler=function(c){var l=this._schedule;return this._schedule=c,this._customScheduler=!0,l},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){n.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(c,l){l?(process.stderr.write("Fatal "+(c instanceof Error?c.stack:c)+`
`),process.exit(2)):this.throwLater(c)},i.prototype.throwLater=function(c,l){if(arguments.length===1&&(l=c,c=function(){throw l}),typeof setTimeout<"u")setTimeout(function(){c(l)},0);else try{this._schedule(function(){c(l)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function r(c,l,u){this._lateQueue.push(c,l,u),this._queueTick()}function a(c,l,u){this._normalQueue.push(c,l,u),this._queueTick()}function o(c){this._normalQueue._pushOne(c),this._queueTick()}return n.hasDevTools?(i.prototype.invokeLater=function(c,l,u){this._trampolineEnabled?r.call(this,c,l,u):this._schedule(function(){setTimeout(function(){c.call(l,u)},100)})},i.prototype.invoke=function(c,l,u){this._trampolineEnabled?a.call(this,c,l,u):this._schedule(function(){c.call(l,u)})},i.prototype.settlePromises=function(c){this._trampolineEnabled?o.call(this,c):this._schedule(function(){c._settlePromises()})}):(i.prototype.invokeLater=r,i.prototype.invoke=a,i.prototype.settlePromises=o),i.prototype._drainQueue=function(c){for(;c.length()>0;){var l=c.shift();if(typeof l!="function"){l._settlePromises();continue}var u=c.shift(),d=c.shift();l.call(u,d)}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},_d.exports=i,_d.exports.firstLineError=s,_d.exports}var yp,w0;function hs(){if(w0)return yp;w0=1;var s=xc(),e=s.freeze,t=pt(),n=t.inherits,i=t.notEnumerableProp;function r(_,x){function D(A){if(!(this instanceof D))return new D(A);i(this,"message",typeof A=="string"?A:x),i(this,"name",_),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return n(D,Error),D}var a,o,c=r("Warning","warning"),l=r("CancellationError","cancellation error"),u=r("TimeoutError","timeout error"),d=r("AggregateError","aggregate error");try{a=TypeError,o=RangeError}catch{a=r("TypeError","type error"),o=r("RangeError","range error")}for(var h="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),p=0;p<h.length;++p)typeof Array.prototype[h[p]]=="function"&&(d.prototype[h[p]]=Array.prototype[h[p]]);s.defineProperty(d.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),d.prototype.isOperational=!0;var y=0;d.prototype.toString=function(){var _=Array(y*4+1).join(" "),x=`
`+_+`AggregateError of:
`;y++,_=Array(y*4+1).join(" ");for(var D=0;D<this.length;++D){for(var A=this[D]===this?"[Circular AggregateError]":this[D]+"",T=A.split(`
`),E=0;E<T.length;++E)T[E]=_+T[E];A=T.join(`
`),x+=A+`
`}return y--,x};function v(_){if(!(this instanceof v))return new v(_);i(this,"name","OperationalError"),i(this,"message",_),this.cause=_,this.isOperational=!0,_ instanceof Error?(i(this,"message",_.message),i(this,"stack",_.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}n(v,Error);var b=Error.__BluebirdErrorTypes__;return b||(b=e({CancellationError:l,TimeoutError:u,OperationalError:v,RejectionError:v,AggregateError:d}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),yp={Error,TypeError:a,RangeError:o,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:c},yp}var vp,S0;function Y3(){return S0||(S0=1,vp=function(s,e){var t=pt(),n=t.errorObj,i=t.isObject;function r(d,h){if(i(d)){if(d instanceof s)return d;var p=o(d);if(p===n){h&&h._pushContext();var y=s.reject(p.e);return h&&h._popContext(),y}else if(typeof p=="function"){if(l(d)){var y=new s(e);return d._then(y._fulfill,y._reject,void 0,y,null),y}return u(d,p,h)}}return d}function a(d){return d.then}function o(d){try{return a(d)}catch(h){return n.e=h,n}}var c={}.hasOwnProperty;function l(d){try{return c.call(d,"_promise0")}catch{return!1}}function u(d,h,p){var y=new s(e),v=y;p&&p._pushContext(),y._captureStackTrace(),p&&p._popContext();var b=!0,_=t.tryCatch(h).call(d,x,D);b=!1,y&&_===n&&(y._rejectCallback(_.e,!0,!0),y=null);function x(A){y&&(y._resolveCallback(A),y=null)}function D(A){y&&(y._rejectCallback(A,b,!0),y=null)}return v}return r}),vp}var bp,U0;function K3(){return U0||(U0=1,bp=function(s,e,t,n,i){var r=pt();r.isArray;function a(c){switch(c){case-2:return[];case-3:return{}}}function o(c){var l=this._promise=new s(e);c instanceof s&&l._propagateFrom(c,3),l._setOnCancel(this),this._values=c,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return r.inherits(o,i),o.prototype.length=function(){return this._length},o.prototype.promise=function(){return this._promise},o.prototype._init=function c(l,u){var d=t(this._values,this._promise);if(d instanceof s){d=d._target();var h=d._bitField;if(this._values=d,(h&50397184)===0)return this._promise._setAsyncGuaranteed(),d._then(c,this._reject,void 0,this,u);if((h&33554432)!==0)d=d._value();else return(h&16777216)!==0?this._reject(d._reason()):this._cancel()}if(d=r.asArray(d),d===null){var p=n("expecting an array or an iterable object but got "+r.classString(d)).reason();this._promise._rejectCallback(p,!1);return}if(d.length===0){u===-5?this._resolveEmptyArray():this._resolve(a(u));return}this._iterate(d)},o.prototype._iterate=function(c){var l=this.getActualLength(c.length);this._length=l,this._values=this.shouldCopyValues()?new Array(l):this._values;for(var u=this._promise,d=!1,h=null,p=0;p<l;++p){var y=t(c[p],u);y instanceof s?(y=y._target(),h=y._bitField):h=null,d?h!==null&&y.suppressUnhandledRejections():h!==null?(h&50397184)===0?(y._proxy(this,p),this._values[p]=y):(h&33554432)!==0?d=this._promiseFulfilled(y._value(),p):(h&16777216)!==0?d=this._promiseRejected(y._reason(),p):d=this._promiseCancelled(p):d=this._promiseFulfilled(y,p)}d||u._setAsyncGuaranteed()},o.prototype._isResolved=function(){return this._values===null},o.prototype._resolve=function(c){this._values=null,this._promise._fulfill(c)},o.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},o.prototype._reject=function(c){this._values=null,this._promise._rejectCallback(c,!1)},o.prototype._promiseFulfilled=function(c,l){this._values[l]=c;var u=++this._totalResolved;return u>=this._length?(this._resolve(this._values),!0):!1},o.prototype._promiseCancelled=function(){return this._cancel(),!0},o.prototype._promiseRejected=function(c){return this._totalResolved++,this._reject(c),!0},o.prototype._resultCancelled=function(){if(!this._isResolved()){var c=this._values;if(this._cancel(),c instanceof s)c.cancel();else for(var l=0;l<c.length;++l)c[l]instanceof s&&c[l].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(c){return c},o}),bp}var _p,F0;function Z3(){return F0||(F0=1,_p=function(s){var e=!1,t=[];s.prototype._promiseCreated=function(){},s.prototype._pushContext=function(){},s.prototype._popContext=function(){return null},s._peekContext=s.prototype._peekContext=function(){};function n(){this._trace=new n.CapturedTrace(r())}n.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,t.push(this._trace))},n.prototype._popContext=function(){if(this._trace!==void 0){var a=t.pop(),o=a._promiseCreated;return a._promiseCreated=null,o}return null};function i(){if(e)return new n}function r(){var a=t.length-1;if(a>=0)return t[a]}return n.CapturedTrace=null,n.create=i,n.deactivateLongStackTraces=function(){},n.activateLongStackTraces=function(){var a=s.prototype._pushContext,o=s.prototype._popContext,c=s._peekContext,l=s.prototype._peekContext,u=s.prototype._promiseCreated;n.deactivateLongStackTraces=function(){s.prototype._pushContext=a,s.prototype._popContext=o,s._peekContext=c,s.prototype._peekContext=l,s.prototype._promiseCreated=u,e=!1},e=!0,s.prototype._pushContext=n.prototype._pushContext,s.prototype._popContext=n.prototype._popContext,s._peekContext=s.prototype._peekContext=r,s.prototype._promiseCreated=function(){var d=this._peekContext();d&&d._promiseCreated==null&&(d._promiseCreated=this)}},n}),_p}var xp,I0;function J3(){return I0||(I0=1,xp=function(s,e){var t=s._getDomain,n=s._async,i=hs().Warning,r=pt(),a=r.canAttachTrace,o,c,l=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,u=/\((?:timers\.js):\d+:\d+\)/,d=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,h=null,p=null,y=!1,v,b=!!(r.env("BLUEBIRD_DEBUG")!=0&&(r.env("BLUEBIRD_DEBUG")||r.env("NODE_ENV")==="development")),_=!!(r.env("BLUEBIRD_WARNINGS")!=0&&(b||r.env("BLUEBIRD_WARNINGS"))),x=!!(r.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(b||r.env("BLUEBIRD_LONG_STACK_TRACES"))),D=r.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(_||!!r.env("BLUEBIRD_W_FORGOTTEN_RETURN"));s.prototype.suppressUnhandledRejections=function(){var z=this._target();z._bitField=z._bitField&-1048577|524288},s.prototype._ensurePossibleRejectionHandled=function(){(this._bitField&524288)===0&&(this._setRejectionIsUnhandled(),n.invokeLater(this._notifyUnhandledRejection,this,void 0))},s.prototype._notifyUnhandledRejectionIsHandled=function(){$e("rejectionHandled",o,void 0,this)},s.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},s.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},s.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var z=this._settledValue();this._setUnhandledRejectionIsNotified(),$e("unhandledRejection",c,z,this)}},s.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},s.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},s.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},s.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},s.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},s.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},s.prototype._warn=function(z,J,ne){return ce(z,J,ne||this)},s.onPossiblyUnhandledRejection=function(z){var J=t();c=typeof z=="function"?J===null?z:r.domainBind(J,z):void 0},s.onUnhandledRejectionHandled=function(z){var J=t();o=typeof z=="function"?J===null?z:r.domainBind(J,z):void 0};var A=function(){};s.longStackTraces=function(){if(n.haveItemsQueued()&&!$.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!$.longStackTraces&&re()){var z=s.prototype._captureStackTrace,J=s.prototype._attachExtraTrace;$.longStackTraces=!0,A=function(){if(n.haveItemsQueued()&&!$.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);s.prototype._captureStackTrace=z,s.prototype._attachExtraTrace=J,e.deactivateLongStackTraces(),n.enableTrampoline(),$.longStackTraces=!1},s.prototype._captureStackTrace=oe,s.prototype._attachExtraTrace=H,e.activateLongStackTraces(),n.disableTrampolineIfNecessary()}},s.hasLongStackTraces=function(){return $.longStackTraces&&re()};var T=function(){try{if(typeof CustomEvent=="function"){var z=new CustomEvent("CustomEvent");return r.global.dispatchEvent(z),function(J,ne){var ae=new CustomEvent(J.toLowerCase(),{detail:ne,cancelable:!0});return!r.global.dispatchEvent(ae)}}else if(typeof Event=="function"){var z=new Event("CustomEvent");return r.global.dispatchEvent(z),function(ne,ae){var pe=new Event(ne.toLowerCase(),{cancelable:!0});return pe.detail=ae,!r.global.dispatchEvent(pe)}}else{var z=document.createEvent("CustomEvent");return z.initCustomEvent("testingtheevent",!1,!0,{}),r.global.dispatchEvent(z),function(ne,ae){var pe=document.createEvent("CustomEvent");return pe.initCustomEvent(ne.toLowerCase(),!1,!0,ae),!r.global.dispatchEvent(pe)}}}catch{}return function(){return!1}}(),E=function(){return r.isNode?function(){return process.emit.apply(process,arguments)}:r.global?function(z){var J="on"+z.toLowerCase(),ne=r.global[J];return ne?(ne.apply(r.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}();function F(z,J){return{promise:J}}var I={promiseCreated:F,promiseFulfilled:F,promiseRejected:F,promiseResolved:F,promiseCancelled:F,promiseChained:function(z,J,ne){return{promise:J,child:ne}},warning:function(z,J){return{warning:J}},unhandledRejection:function(z,J,ne){return{reason:J,promise:ne}},rejectionHandled:F},U=function(z){var J=!1;try{J=E.apply(null,arguments)}catch(ae){n.throwLater(ae),J=!0}var ne=!1;try{ne=T(z,I[z].apply(null,arguments))}catch(ae){n.throwLater(ae),ne=!0}return ne||J};s.config=function(z){if(z=Object(z),"longStackTraces"in z&&(z.longStackTraces?s.longStackTraces():!z.longStackTraces&&s.hasLongStackTraces()&&A()),"warnings"in z){var J=z.warnings;$.warnings=!!J,D=$.warnings,r.isObject(J)&&"wForgottenReturn"in J&&(D=!!J.wForgottenReturn)}if("cancellation"in z&&z.cancellation&&!$.cancellation){if(n.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");s.prototype._clearCancellationData=X,s.prototype._propagateFrom=W,s.prototype._onCancel=k,s.prototype._setOnCancel=w,s.prototype._attachCancellationCallback=S,s.prototype._execute=G,Z=W,$.cancellation=!0}return"monitoring"in z&&(z.monitoring&&!$.monitoring?($.monitoring=!0,s.prototype._fireEvent=U):!z.monitoring&&$.monitoring&&($.monitoring=!1,s.prototype._fireEvent=L)),s};function L(){return!1}s.prototype._fireEvent=L,s.prototype._execute=function(z,J,ne){try{z(J,ne)}catch(ae){return ae}},s.prototype._onCancel=function(){},s.prototype._setOnCancel=function(z){},s.prototype._attachCancellationCallback=function(z){},s.prototype._captureStackTrace=function(){},s.prototype._attachExtraTrace=function(){},s.prototype._clearCancellationData=function(){},s.prototype._propagateFrom=function(z,J){};function G(z,J,ne){var ae=this;try{z(J,ne,function(pe){if(typeof pe!="function")throw new TypeError("onCancel must be a function, got: "+r.toString(pe));ae._attachCancellationCallback(pe)})}catch(pe){return pe}}function S(z){if(!this._isCancellable())return this;var J=this._onCancel();J!==void 0?r.isArray(J)?J.push(z):this._setOnCancel([J,z]):this._setOnCancel(z)}function k(){return this._onCancelField}function w(z){this._onCancelField=z}function X(){this._cancellationParent=void 0,this._onCancelField=void 0}function W(z,J){if((J&1)!==0){this._cancellationParent=z;var ne=z._branchesRemainingToCancel;ne===void 0&&(ne=0),z._branchesRemainingToCancel=ne+1}(J&2)!==0&&z._isBound()&&this._setBoundTo(z._boundTo)}function P(z,J){(J&2)!==0&&z._isBound()&&this._setBoundTo(z._boundTo)}var Z=P;function K(){var z=this._boundTo;return z!==void 0&&z instanceof s?z.isFulfilled()?z.value():void 0:z}function oe(){this._trace=new he(this._peekContext())}function H(z,J){if(a(z)){var ne=this._trace;if(ne!==void 0&&J&&(ne=ne._parent),ne!==void 0)ne.attachExtraTrace(z);else if(!z.__stackCleaned__){var ae=we(z);r.notEnumerableProp(z,"stack",ae.message+`
`+ae.stack.join(`
`)),r.notEnumerableProp(z,"__stackCleaned__",!0)}}}function Y(z,J,ne,ae,pe){if(z===void 0&&J!==null&&D){if(pe!==void 0&&pe._returnedNonUndefined()||(ae._bitField&65535)===0)return;ne&&(ne=ne+" ");var _e="",ie="";if(J._trace){for(var ue=J._trace.stack.split(`
`),ge=ye(ue),Te=ge.length-1;Te>=0;--Te){var Fe=ge[Te];if(!u.test(Fe)){var He=Fe.match(d);He&&(_e="at "+He[1]+":"+He[2]+":"+He[3]+" ");break}}if(ge.length>0){for(var xt=ge[0],Te=0;Te<ue.length;++Te)if(ue[Te]===xt){Te>0&&(ie=`
`+ue[Te-1]);break}}}var Ct="a promise was created in a "+ne+"handler "+_e+"but was not returned from it, see http://goo.gl/rRqMUw"+ie;ae._warn(Ct,!0,J)}}function Q(z,J){var ne=z+" is deprecated and will be removed in a future version.";return J&&(ne+=" Use "+J+" instead."),ce(ne)}function ce(z,J,ne){if($.warnings){var ae=new i(z),pe;if(J)ne._attachExtraTrace(ae);else if($.longStackTraces&&(pe=s._peekContext()))pe.attachExtraTrace(ae);else{var _e=we(ae);ae.stack=_e.message+`
`+_e.stack.join(`
`)}U("warning",ae)||ke(ae,"",!0)}}function le(z,J){for(var ne=0;ne<J.length-1;++ne)J[ne].push("From previous event:"),J[ne]=J[ne].join(`
`);return ne<J.length&&(J[ne]=J[ne].join(`
`)),z+`
`+J.join(`
`)}function ve(z){for(var J=0;J<z.length;++J)(z[J].length===0||J+1<z.length&&z[J][0]===z[J+1][0])&&(z.splice(J,1),J--)}function me(z){for(var J=z[0],ne=1;ne<z.length;++ne){for(var ae=z[ne],pe=J.length-1,_e=J[pe],ie=-1,ue=ae.length-1;ue>=0;--ue)if(ae[ue]===_e){ie=ue;break}for(var ue=ie;ue>=0;--ue){var ge=ae[ue];if(J[pe]===ge)J.pop(),pe--;else break}J=ae}}function ye(z){for(var J=[],ne=0;ne<z.length;++ne){var ae=z[ne],pe=ae==="    (No stack trace)"||h.test(ae),_e=pe&&te(ae);pe&&!_e&&(y&&ae.charAt(0)!==" "&&(ae="    "+ae),J.push(ae))}return J}function xe(z){for(var J=z.stack.replace(/\s+$/g,"").split(`
`),ne=0;ne<J.length;++ne){var ae=J[ne];if(ae==="    (No stack trace)"||h.test(ae))break}return ne>0&&z.name!="SyntaxError"&&(J=J.slice(ne)),J}function we(z){var J=z.stack,ne=z.toString();return J=typeof J=="string"&&J.length>0?xe(z):["    (No stack trace)"],{message:ne,stack:z.name=="SyntaxError"?J:ye(J)}}function ke(z,J,ne){if(typeof console<"u"){var ae;if(r.isObject(z)){var pe=z.stack;ae=J+p(pe,z)}else ae=J+String(z);typeof v=="function"?v(ae,ne):(typeof console.log=="function"||typeof console.log=="object")&&console.log(ae)}}function $e(z,J,ne,ae){var pe=!1;try{typeof J=="function"&&(pe=!0,z==="rejectionHandled"?J(ae):J(ne,ae))}catch(_e){n.throwLater(_e)}z==="unhandledRejection"?!U(z,ne,ae)&&!pe&&ke(ne,"Unhandled rejection "):U(z,ae)}function Le(z){var J;if(typeof z=="function")J="[function "+(z.name||"anonymous")+"]";else{J=z&&typeof z.toString=="function"?z.toString():r.toString(z);var ne=/\[object [a-zA-Z0-9$_]+\]/;if(ne.test(J))try{var ae=JSON.stringify(z);J=ae}catch{}J.length===0&&(J="(empty array)")}return"(<"+C(J)+">, no stack trace)"}function C(z){var J=41;return z.length<J?z:z.substr(0,J-3)+"..."}function re(){return typeof se=="function"}var te=function(){return!1},V=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function q(z){var J=z.match(V);if(J)return{fileName:J[1],line:parseInt(J[2],10)}}function ee(z,J){if(re()){for(var ne=z.stack.split(`
`),ae=J.stack.split(`
`),pe=-1,_e=-1,ie,ue,ge=0;ge<ne.length;++ge){var Te=q(ne[ge]);if(Te){ie=Te.fileName,pe=Te.line;break}}for(var ge=0;ge<ae.length;++ge){var Te=q(ae[ge]);if(Te){ue=Te.fileName,_e=Te.line;break}}pe<0||_e<0||!ie||!ue||ie!==ue||pe>=_e||(te=function(Fe){if(l.test(Fe))return!0;var He=q(Fe);return!!(He&&He.fileName===ie&&pe<=He.line&&He.line<=_e)})}}function he(z){this._parent=z,this._promisesCreated=0;var J=this._length=1+(z===void 0?0:z._length);se(this,he),J>32&&this.uncycle()}r.inherits(he,Error),e.CapturedTrace=he,he.prototype.uncycle=function(){var z=this._length;if(!(z<2)){for(var J=[],ne={},ae=0,pe=this;pe!==void 0;++ae)J.push(pe),pe=pe._parent;z=this._length=ae;for(var ae=z-1;ae>=0;--ae){var _e=J[ae].stack;ne[_e]===void 0&&(ne[_e]=ae)}for(var ae=0;ae<z;++ae){var ie=J[ae].stack,ue=ne[ie];if(ue!==void 0&&ue!==ae){ue>0&&(J[ue-1]._parent=void 0,J[ue-1]._length=1),J[ae]._parent=void 0,J[ae]._length=1;var ge=ae>0?J[ae-1]:this;ue<z-1?(ge._parent=J[ue+1],ge._parent.uncycle(),ge._length=ge._parent._length+1):(ge._parent=void 0,ge._length=1);for(var Te=ge._length+1,Fe=ae-2;Fe>=0;--Fe)J[Fe]._length=Te,Te++;return}}}},he.prototype.attachExtraTrace=function(z){if(!z.__stackCleaned__){this.uncycle();for(var J=we(z),ne=J.message,ae=[J.stack],pe=this;pe!==void 0;)ae.push(ye(pe.stack.split(`
`))),pe=pe._parent;me(ae),ve(ae),r.notEnumerableProp(z,"stack",le(ne,ae)),r.notEnumerableProp(z,"__stackCleaned__",!0)}};var se=function(){var J=/^\s*at\s*/,ne=function(ie,ue){return typeof ie=="string"?ie:ue.name!==void 0&&ue.message!==void 0?ue.toString():Le(ue)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,h=J,p=ne;var ae=Error.captureStackTrace;return te=function(ie){return l.test(ie)},function(ie,ue){Error.stackTraceLimit+=6,ae(ie,ue),Error.stackTraceLimit-=6}}var pe=new Error;if(typeof pe.stack=="string"&&pe.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return h=/@/,p=ne,y=!0,function(ue){ue.stack=new Error().stack};var _e;try{throw new Error}catch(ie){_e="stack"in ie}return!("stack"in pe)&&_e&&typeof Error.stackTraceLimit=="number"?(h=J,p=ne,function(ue){Error.stackTraceLimit+=6;try{throw new Error}catch(ge){ue.stack=ge.stack}Error.stackTraceLimit-=6}):(p=function(ie,ue){return typeof ie=="string"?ie:(typeof ue=="object"||typeof ue=="function")&&ue.name!==void 0&&ue.message!==void 0?ue.toString():Le(ue)},null)}();typeof console<"u"&&typeof console.warn<"u"&&(v=function(z){console.warn(z)},r.isNode&&process.stderr.isTTY?v=function(z,J){var ne=J?"\x1B[33m":"\x1B[31m";console.warn(ne+z+`\x1B[0m
`)}:!r.isNode&&typeof new Error().stack=="string"&&(v=function(z,J){console.warn("%c"+z,J?"color: darkorange":"color: red")}));var $={warnings:_,longStackTraces:!1,cancellation:!1,monitoring:!1};return x&&s.longStackTraces(),{longStackTraces:function(){return $.longStackTraces},warnings:function(){return $.warnings},cancellation:function(){return $.cancellation},monitoring:function(){return $.monitoring},propagateFromFunction:function(){return Z},boundValueFunction:function(){return K},checkForgottenReturns:Y,setBounds:ee,warn:ce,deprecated:Q,CapturedTrace:he,fireDomEvent:T,fireGlobalEvent:E}}),xp}var Dp,R0;function Q3(){return R0||(R0=1,Dp=function(s,e){var t=pt(),n=s.CancellationError,i=t.errorObj;function r(d,h,p){this.promise=d,this.type=h,this.handler=p,this.called=!1,this.cancelPromise=null}r.prototype.isFinallyHandler=function(){return this.type===0};function a(d){this.finallyHandler=d}a.prototype._resultCancelled=function(){o(this.finallyHandler)};function o(d,h){return d.cancelPromise!=null?(arguments.length>1?d.cancelPromise._reject(h):d.cancelPromise._cancel(),d.cancelPromise=null,!0):!1}function c(){return u.call(this,this.promise._target()._settledValue())}function l(d){if(!o(this,d))return i.e=d,i}function u(d){var h=this.promise,p=this.handler;if(!this.called){this.called=!0;var y=this.isFinallyHandler()?p.call(h._boundValue()):p.call(h._boundValue(),d);if(y!==void 0){h._setReturnedNonUndefined();var v=e(y,h);if(v instanceof s){if(this.cancelPromise!=null)if(v._isCancelled()){var b=new n("late cancellation observer");return h._attachExtraTrace(b),i.e=b,i}else v.isPending()&&v._attachCancellationCallback(new a(this));return v._then(c,l,void 0,this,void 0)}}}return h.isRejected()?(o(this),i.e=d,i):(o(this),d)}return s.prototype._passThrough=function(d,h,p,y){return typeof d!="function"?this.then():this._then(p,y,void 0,new r(this,h,d),void 0)},s.prototype.lastly=s.prototype.finally=function(d){return this._passThrough(d,0,u,u)},s.prototype.tap=function(d){return this._passThrough(d,1,u)},r}),Dp}var Tp,k0;function j3(){return k0||(k0=1,Tp=function(s){var e=pt(),t=xc().keys,n=e.tryCatch,i=e.errorObj;function r(a,o,c){return function(l){var u=c._boundValue();e:for(var d=0;d<a.length;++d){var h=a[d];if(h===Error||h!=null&&h.prototype instanceof Error){if(l instanceof h)return n(o).call(u,l)}else if(typeof h=="function"){var p=n(h).call(u,l);if(p===i)return p;if(p)return n(o).call(u,l)}else if(e.isObject(l)){for(var y=t(h),v=0;v<y.length;++v){var b=y[v];if(h[b]!=l[b])continue e}return n(o).call(u,l)}}return s}}return r}),Tp}var Ap,M0;function kT(){if(M0)return Ap;M0=1;var s=pt(),e=s.maybeWrapAsError,t=hs(),n=t.OperationalError,i=xc();function r(l){return l instanceof Error&&i.getPrototypeOf(l)===Error.prototype}var a=/^(?:name|message|stack|cause)$/;function o(l){var u;if(r(l)){u=new n(l),u.name=l.name,u.message=l.message,u.stack=l.stack;for(var d=i.keys(l),h=0;h<d.length;++h){var p=d[h];a.test(p)||(u[p]=l[p])}return u}return s.markAsOriginatingFromRejection(l),l}function c(l,u){return function(d,h){if(l!==null){if(d){var p=o(e(d));l._attachExtraTrace(p),l._reject(p)}else if(!u)l._fulfill(h);else{for(var y=arguments.length,v=new Array(Math.max(y-1,0)),b=1;b<y;++b)v[b-1]=arguments[b];l._fulfill(v)}l=null}}}return Ap=c,Ap}var Cp,N0;function eM(){return N0||(N0=1,Cp=function(s,e,t,n,i){var r=pt(),a=r.tryCatch;s.method=function(o){if(typeof o!="function")throw new s.TypeError("expecting a function but got "+r.classString(o));return function(){var c=new s(e);c._captureStackTrace(),c._pushContext();var l=a(o).apply(this,arguments),u=c._popContext();return i.checkForgottenReturns(l,u,"Promise.method",c),c._resolveFromSyncValue(l),c}},s.attempt=s.try=function(o){if(typeof o!="function")return n("expecting a function but got "+r.classString(o));var c=new s(e);c._captureStackTrace(),c._pushContext();var l;if(arguments.length>1){i.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],d=arguments[2];l=r.isArray(u)?a(o).apply(d,u):a(o).call(d,u)}else l=a(o)();var h=c._popContext();return i.checkForgottenReturns(l,h,"Promise.try",c),c._resolveFromSyncValue(l),c},s.prototype._resolveFromSyncValue=function(o){o===r.errorObj?this._rejectCallback(o.e,!1):this._resolveCallback(o,!0)}}),Cp}var Ep,P0;function tM(){return P0||(P0=1,Ep=function(s,e,t,n){var i=!1,r=function(l,u){this._reject(u)},a=function(l,u){u.promiseRejectionQueued=!0,u.bindingPromise._then(r,r,null,this,l)},o=function(l,u){(this._bitField&50397184)===0&&this._resolveCallback(u.target)},c=function(l,u){u.promiseRejectionQueued||this._reject(l)};s.prototype.bind=function(l){i||(i=!0,s.prototype._propagateFrom=n.propagateFromFunction(),s.prototype._boundValue=n.boundValueFunction());var u=t(l),d=new s(e);d._propagateFrom(this,1);var h=this._target();if(d._setBoundTo(u),u instanceof s){var p={promiseRejectionQueued:!1,promise:d,target:h,bindingPromise:u};h._then(e,a,void 0,d,p),u._then(o,c,void 0,d,p),d._setOnCancel(u)}else d._resolveCallback(h);return d},s.prototype._setBoundTo=function(l){l!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=l):this._bitField=this._bitField&-2097153},s.prototype._isBound=function(){return(this._bitField&2097152)===2097152},s.bind=function(l,u){return s.resolve(u).bind(l)}}),Ep}var wp,L0;function nM(){return L0||(L0=1,wp=function(s,e,t,n){var i=pt(),r=i.tryCatch,a=i.errorObj,o=s._async;s.prototype.break=s.prototype.cancel=function(){if(!n.cancellation())return this._warn("cancellation is disabled");for(var c=this,l=c;c._isCancellable();){if(!c._cancelBy(l)){l._isFollowing()?l._followee().cancel():l._cancelBranched();break}var u=c._cancellationParent;if(u==null||!u._isCancellable()){c._isFollowing()?c._followee().cancel():c._cancelBranched();break}else c._isFollowing()&&c._followee().cancel(),c._setWillBeCancelled(),l=c,c=u}},s.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},s.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},s.prototype._cancelBy=function(c){return c===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},s.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},s.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),o.invoke(this._cancelPromises,this,void 0))},s.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},s.prototype._unsetOnCancel=function(){this._onCancelField=void 0},s.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},s.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},s.prototype._doInvokeOnCancel=function(c,l){if(i.isArray(c))for(var u=0;u<c.length;++u)this._doInvokeOnCancel(c[u],l);else if(c!==void 0)if(typeof c=="function"){if(!l){var d=r(c).call(this._boundValue());d===a&&(this._attachExtraTrace(d.e),o.throwLater(d.e))}}else c._resultCancelled(this)},s.prototype._invokeOnCancel=function(){var c=this._onCancel();this._unsetOnCancel(),o.invoke(this._doInvokeOnCancel,this,c)},s.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},s.prototype._resultCancelled=function(){this.cancel()}}),wp}var Sp,B0;function iM(){return B0||(B0=1,Sp=function(s){function e(){return this.value}function t(){throw this.reason}s.prototype.return=s.prototype.thenReturn=function(n){return n instanceof s&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},s.prototype.throw=s.prototype.thenThrow=function(n){return this._then(t,void 0,void 0,{reason:n},void 0)},s.prototype.catchThrow=function(n){if(arguments.length<=1)return this._then(void 0,t,void 0,{reason:n},void 0);var i=arguments[1],r=function(){throw i};return this.caught(n,r)},s.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof s&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var i=arguments[1];i instanceof s&&i.suppressUnhandledRejections();var r=function(){return i};return this.caught(n,r)}}),Sp}var Up,O0;function rM(){return O0||(O0=1,Up=function(s){function e(c){c!==void 0?(c=c._target(),this._bitField=c._bitField,this._settledValueField=c._isFateSealed()?c._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var t=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},n=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},i=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},r=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},a=e.prototype.isPending=function(){return(this._bitField&50397184)===0},o=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},s.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},s.prototype._isCancelled=function(){return this._target().__isCancelled()},s.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},s.prototype.isPending=function(){return a.call(this._target())},s.prototype.isRejected=function(){return r.call(this._target())},s.prototype.isFulfilled=function(){return i.call(this._target())},s.prototype.isResolved=function(){return o.call(this._target())},s.prototype.value=function(){return t.call(this._target())},s.prototype.reason=function(){var c=this._target();return c._unsetRejectionIsUnhandled(),n.call(c)},s.prototype._value=function(){return this._settledValue()},s.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},s.PromiseInspection=e}),Up}var Fp,W0;function sM(){return W0||(W0=1,Fp=function(s,e,t,n,i,r){var a=pt(),o=a.canEvaluate,c=a.tryCatch,l=a.errorObj,u;if(o){for(var d=function(x){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,x))},h=function(x){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,x))},p=function(x){for(var D=new Array(x),A=0;A<D.length;++A)D[A]="this.p"+(A+1);var T=D.join(" = ")+" = null;",E=`var promise;
`+D.map(function(L){return`                                                         
	                promise = `+L+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),F=D.join(", "),I="Holder$"+x,U=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return U=U.replace(/\[TheName\]/g,I).replace(/\[TheTotal\]/g,x).replace(/\[ThePassedArguments\]/g,F).replace(/\[TheProperties\]/g,T).replace(/\[CancellationCode\]/g,E),new Function("tryCatch","errorObj","Promise","async",U)(c,l,s,i)},y=[],v=[],b=[],_=0;_<8;++_)y.push(p(_+1)),v.push(d(_+1)),b.push(h(_+1));u=function(x){this._reject(x)}}s.join=function(){var x=arguments.length-1,D;if(x>0&&typeof arguments[x]=="function"&&(D=arguments[x],x<=8&&o)){var w=new s(n);w._captureStackTrace();for(var A=y[x-1],T=new A(D),E=v,F=0;F<x;++F){var I=t(arguments[F],w);if(I instanceof s){I=I._target();var U=I._bitField;(U&50397184)===0?(I._then(E[F],u,void 0,w,T),b[F](I,T),T.asyncNeeded=!1):(U&33554432)!==0?E[F].call(w,I._value(),T):(U&16777216)!==0?w._reject(I._reason()):w._cancel()}else E[F].call(w,I,T)}if(!w._isFateSealed()){if(T.asyncNeeded){var L=r();L!==null&&(T.fn=a.domainBind(L,T.fn))}w._setAsyncGuaranteed(),w._setOnCancel(T)}return w}for(var G=arguments.length,S=new Array(G),k=0;k<G;++k)S[k]=arguments[k];D&&S.pop();var w=new e(S).promise();return D!==void 0?w.spread(D):w}}),Fp}var Ip,q0;function aM(){return q0||(q0=1,Ip=function(s,e,t,n,i,r){var a=s._getDomain,o=pt(),c=o.tryCatch,l=o.errorObj,u=s._async;function d(p,y,v,b){this.constructor$(p),this._promise._captureStackTrace();var _=a();this._callback=_===null?y:o.domainBind(_,y),this._preservedValues=b===i?new Array(this.length()):null,this._limit=v,this._inFlight=0,this._queue=[],u.invoke(this._asyncInit,this,void 0)}o.inherits(d,e),d.prototype._asyncInit=function(){this._init$(void 0,-2)},d.prototype._init=function(){},d.prototype._promiseFulfilled=function(p,y){var v=this._values,b=this.length(),_=this._preservedValues,x=this._limit;if(y<0){if(y=y*-1-1,v[y]=p,x>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(x>=1&&this._inFlight>=x)return v[y]=p,this._queue.push(y),!1;_!==null&&(_[y]=p);var D=this._promise,A=this._callback,T=D._boundValue();D._pushContext();var E=c(A).call(T,p,y,b),F=D._popContext();if(r.checkForgottenReturns(E,F,_!==null?"Promise.filter":"Promise.map",D),E===l)return this._reject(E.e),!0;var I=n(E,this._promise);if(I instanceof s){I=I._target();var U=I._bitField;if((U&50397184)===0)return x>=1&&this._inFlight++,v[y]=I,I._proxy(this,(y+1)*-1),!1;if((U&33554432)!==0)E=I._value();else return(U&16777216)!==0?(this._reject(I._reason()),!0):(this._cancel(),!0)}v[y]=E}var L=++this._totalResolved;return L>=b?(_!==null?this._filter(v,_):this._resolve(v),!0):!1},d.prototype._drainQueue=function(){for(var p=this._queue,y=this._limit,v=this._values;p.length>0&&this._inFlight<y;){if(this._isResolved())return;var b=p.pop();this._promiseFulfilled(v[b],b)}},d.prototype._filter=function(p,y){for(var v=y.length,b=new Array(v),_=0,x=0;x<v;++x)p[x]&&(b[_++]=y[x]);b.length=_,this._resolve(b)},d.prototype.preservedValues=function(){return this._preservedValues};function h(p,y,v,b){if(typeof y!="function")return t("expecting a function but got "+o.classString(y));var _=0;if(v!==void 0)if(typeof v=="object"&&v!==null){if(typeof v.concurrency!="number")return s.reject(new TypeError("'concurrency' must be a number but it is "+o.classString(v.concurrency)));_=v.concurrency}else return s.reject(new TypeError("options argument must be an object but it is "+o.classString(v)));return _=typeof _=="number"&&isFinite(_)&&_>=1?_:0,new d(p,y,_,b).promise()}s.prototype.map=function(p,y){return h(this,p,y,null)},s.map=function(p,y,v,b){return h(p,y,v,b)}}),Ip}var Rp,V0;function oM(){if(V0)return Rp;V0=1;var s=Object.create;if(s){var e=s(null),t=s(null);e[" size"]=t[" size"]=0}return Rp=function(n){var i=pt(),r=i.canEvaluate,a=i.isIdentifier,o,c;{var l=function(b){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,b))(h)},u=function(b){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",b))},d=function(b,_,x){var D=x[b];if(typeof D!="function"){if(!a(b))return null;if(D=_(b),x[b]=D,x[" size"]++,x[" size"]>512){for(var A=Object.keys(x),T=0;T<256;++T)delete x[A[T]];x[" size"]=A.length-256}}return D};o=function(b){return d(b,l,e)},c=function(b){return d(b,u,t)}}function h(b,_){var x;if(b!=null&&(x=b[_]),typeof x!="function"){var D="Object "+i.classString(b)+" has no method '"+i.toString(_)+"'";throw new n.TypeError(D)}return x}function p(b){var _=this.pop(),x=h(b,_);return x.apply(b,this)}n.prototype.call=function(b){for(var _=arguments.length,x=new Array(Math.max(_-1,0)),D=1;D<_;++D)x[D-1]=arguments[D];if(r){var A=o(b);if(A!==null)return this._then(A,void 0,void 0,x,void 0)}return x.push(b),this._then(p,void 0,void 0,x,void 0)};function y(b){return b[this]}function v(b){var _=+this;return _<0&&(_=Math.max(0,_+b.length)),b[_]}n.prototype.get=function(b){var _=typeof b=="number",x;if(_)x=v;else if(r){var D=c(b);x=D!==null?D:y}else x=y;return this._then(x,void 0,void 0,b,void 0)}},Rp}var kp,z0;function cM(){return z0||(z0=1,kp=function(s,e,t,n,i,r){var a=pt(),o=hs().TypeError,c=pt().inherits,l=a.errorObj,u=a.tryCatch,d={};function h(D){setTimeout(function(){throw D},0)}function p(D){var A=t(D);return A!==D&&typeof D._isDisposable=="function"&&typeof D._getDisposer=="function"&&D._isDisposable()&&A._setDisposable(D._getDisposer()),A}function y(D,A){var T=0,E=D.length,F=new s(i);function I(){if(T>=E)return F._fulfill();var U=p(D[T++]);if(U instanceof s&&U._isDisposable()){try{U=t(U._getDisposer().tryDispose(A),D.promise)}catch(L){return h(L)}if(U instanceof s)return U._then(I,h,null,null,null)}I()}return I(),F}function v(D,A,T){this._data=D,this._promise=A,this._context=T}v.prototype.data=function(){return this._data},v.prototype.promise=function(){return this._promise},v.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},v.prototype.tryDispose=function(D){var A=this.resource(),T=this._context;T!==void 0&&T._pushContext();var E=A!==d?this.doDispose(A,D):null;return T!==void 0&&T._popContext(),this._promise._unsetDisposable(),this._data=null,E},v.isDisposer=function(D){return D!=null&&typeof D.resource=="function"&&typeof D.tryDispose=="function"};function b(D,A,T){this.constructor$(D,A,T)}c(b,v),b.prototype.doDispose=function(D,A){var T=this.data();return T.call(D,D,A)};function _(D){return v.isDisposer(D)?(this.resources[this.index]._setDisposable(D),D.promise()):D}function x(D){this.length=D,this.promise=null,this[D-1]=null}x.prototype._resultCancelled=function(){for(var D=this.length,A=0;A<D;++A){var T=this[A];T instanceof s&&T.cancel()}},s.using=function(){var D=arguments.length;if(D<2)return e("you must pass at least 2 arguments to Promise.using");var A=arguments[D-1];if(typeof A!="function")return e("expecting a function but got "+a.classString(A));var T,E=!0;D===2&&Array.isArray(arguments[0])?(T=arguments[0],D=T.length,E=!1):(T=arguments,D--);for(var F=new x(D),I=0;I<D;++I){var U=T[I];if(v.isDisposer(U)){var L=U;U=U.promise(),U._setDisposable(L)}else{var G=t(U);G instanceof s&&(U=G._then(_,null,null,{resources:F,index:I},void 0))}F[I]=U}for(var S=new Array(F.length),I=0;I<S.length;++I)S[I]=s.resolve(F[I]).reflect();var k=s.all(S).then(function(X){for(var W=0;W<X.length;++W){var P=X[W];if(P.isRejected())return l.e=P.error(),l;if(!P.isFulfilled()){k.cancel();return}X[W]=P.value()}w._pushContext(),A=u(A);var Z=E?A.apply(void 0,X):A(X),K=w._popContext();return r.checkForgottenReturns(Z,K,"Promise.using",w),Z}),w=k.lastly(function(){var X=new s.PromiseInspection(k);return y(F,X)});return F.promise=w,w._setOnCancel(F),w},s.prototype._setDisposable=function(D){this._bitField=this._bitField|131072,this._disposer=D},s.prototype._isDisposable=function(){return(this._bitField&131072)>0},s.prototype._getDisposer=function(){return this._disposer},s.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},s.prototype.disposer=function(D){if(typeof D=="function")return new b(D,this,n());throw new o}}),kp}var Mp,H0;function lM(){return H0||(H0=1,Mp=function(s,e,t){var n=pt(),i=s.TimeoutError;function r(d){this.handle=d}r.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(d){return o(+this).thenReturn(d)},o=s.delay=function(d,h){var p,y;return h!==void 0?(p=s.resolve(h)._then(a,null,null,d,void 0),t.cancellation()&&h instanceof s&&p._setOnCancel(h)):(p=new s(e),y=setTimeout(function(){p._fulfill()},+d),t.cancellation()&&p._setOnCancel(new r(y)),p._captureStackTrace()),p._setAsyncGuaranteed(),p};s.prototype.delay=function(d){return o(d,this)};var c=function(d,h,p){var y;typeof h!="string"?h instanceof Error?y=h:y=new i("operation timed out"):y=new i(h),n.markAsOriginatingFromRejection(y),d._attachExtraTrace(y),d._reject(y),p!=null&&p.cancel()};function l(d){return clearTimeout(this.handle),d}function u(d){throw clearTimeout(this.handle),d}s.prototype.timeout=function(d,h){d=+d;var p,y,v=new r(setTimeout(function(){p.isPending()&&c(p,h,y)},d));return t.cancellation()?(y=this.then(),p=y._then(l,u,void 0,v,void 0),p._setOnCancel(v)):p=this._then(l,u,void 0,v,void 0),p}}),Mp}var Np,G0;function uM(){return G0||(G0=1,Np=function(s,e,t,n,i,r){var a=hs(),o=a.TypeError,c=pt(),l=c.errorObj,u=c.tryCatch,d=[];function h(y,v,b){for(var _=0;_<v.length;++_){b._pushContext();var x=u(v[_])(y);if(b._popContext(),x===l){b._pushContext();var D=s.reject(l.e);return b._popContext(),D}var A=n(x,b);if(A instanceof s)return A}return null}function p(y,v,b,_){if(r.cancellation()){var x=new s(t),D=this._finallyPromise=new s(t);this._promise=x.lastly(function(){return D}),x._captureStackTrace(),x._setOnCancel(this)}else{var A=this._promise=new s(t);A._captureStackTrace()}this._stack=_,this._generatorFunction=y,this._receiver=v,this._generator=void 0,this._yieldHandlers=typeof b=="function"?[b].concat(d):d,this._yieldedPromise=null,this._cancellationPhase=!1}c.inherits(p,i),p.prototype._isResolved=function(){return this._promise===null},p.prototype._cleanup=function(){this._promise=this._generator=null,r.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},p.prototype._promiseCancelled=function(){if(!this._isResolved()){var y=typeof this._generator.return<"u",v;if(y)this._promise._pushContext(),v=u(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var b=new s.CancellationError("generator .return() sentinel");s.coroutine.returnSentinel=b,this._promise._attachExtraTrace(b),this._promise._pushContext(),v=u(this._generator.throw).call(this._generator,b),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(v)}},p.prototype._promiseFulfilled=function(y){this._yieldedPromise=null,this._promise._pushContext();var v=u(this._generator.next).call(this._generator,y);this._promise._popContext(),this._continue(v)},p.prototype._promiseRejected=function(y){this._yieldedPromise=null,this._promise._attachExtraTrace(y),this._promise._pushContext();var v=u(this._generator.throw).call(this._generator,y);this._promise._popContext(),this._continue(v)},p.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof s){var y=this._yieldedPromise;this._yieldedPromise=null,y.cancel()}},p.prototype.promise=function(){return this._promise},p.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},p.prototype._continue=function(y){var v=this._promise;if(y===l)return this._cleanup(),this._cancellationPhase?v.cancel():v._rejectCallback(y.e,!1);var b=y.value;if(y.done===!0)return this._cleanup(),this._cancellationPhase?v.cancel():v._resolveCallback(b);var _=n(b,this._promise);if(!(_ instanceof s)&&(_=h(_,this._yieldHandlers,this._promise),_===null)){this._promiseRejected(new o(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",b)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}_=_._target();var x=_._bitField;(x&50397184)===0?(this._yieldedPromise=_,_._proxy(this,null)):(x&33554432)!==0?s._async.invoke(this._promiseFulfilled,this,_._value()):(x&16777216)!==0?s._async.invoke(this._promiseRejected,this,_._reason()):this._promiseCancelled()},s.coroutine=function(y,v){if(typeof y!="function")throw new o(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var b=Object(v).yieldHandler,_=p,x=new Error().stack;return function(){var D=y.apply(this,arguments),A=new _(void 0,void 0,b,x),T=A.promise();return A._generator=D,A._promiseFulfilled(void 0),T}},s.coroutine.addYieldHandler=function(y){if(typeof y!="function")throw new o("expecting a function but got "+c.classString(y));d.push(y)},s.spawn=function(y){if(r.deprecated("Promise.spawn()","Promise.coroutine()"),typeof y!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var v=new p(y,this),b=v.promise();return v._run(s.spawn),b}}),Np}var Pp,$0;function dM(){return $0||($0=1,Pp=function(s){var e=pt(),t=s._async,n=e.tryCatch,i=e.errorObj;function r(c,l){var u=this;if(!e.isArray(c))return a.call(u,c,l);var d=n(l).apply(u._boundValue(),[null].concat(c));d===i&&t.throwLater(d.e)}function a(c,l){var u=this,d=u._boundValue(),h=c===void 0?n(l).call(d,null):n(l).call(d,null,c);h===i&&t.throwLater(h.e)}function o(c,l){var u=this;if(!c){var d=new Error(c+"");d.cause=c,c=d}var h=n(l).call(u._boundValue(),c);h===i&&t.throwLater(h.e)}s.prototype.asCallback=s.prototype.nodeify=function(c,l){if(typeof c=="function"){var u=a;l!==void 0&&Object(l).spread&&(u=r),this._then(u,o,void 0,this,c)}return this}}),Pp}var Lp,X0;function hM(){return X0||(X0=1,Lp=function(s,e){var t={},n=pt(),i=kT(),r=n.withAppended,a=n.maybeWrapAsError,o=n.canEvaluate,c=hs().TypeError,l="Async",u={__isPromisified__:!0},d=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],h=new RegExp("^(?:"+d.join("|")+")$"),p=function(k){return n.isIdentifier(k)&&k.charAt(0)!=="_"&&k!=="constructor"};function y(k){return!h.test(k)}function v(k){try{return k.__isPromisified__===!0}catch{return!1}}function b(k,w,X){var W=n.getDataPropertyOrDefault(k,w+X,u);return W?v(W):!1}function _(k,w,X){for(var W=0;W<k.length;W+=2){var P=k[W];if(X.test(P)){for(var Z=P.replace(X,""),K=0;K<k.length;K+=2)if(k[K]===Z)throw new c(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",w))}}}function x(k,w,X,W){for(var P=n.inheritedDataKeys(k),Z=[],K=0;K<P.length;++K){var oe=P[K],H=k[oe],Y=W===p?!0:p(oe);typeof H=="function"&&!v(H)&&!b(k,oe,w)&&W(oe,H,k,Y)&&Z.push(oe,H)}return _(Z,w,X),Z}var D=function(k){return k.replace(/([$])/,"\\$")},A;{var T=function(k){for(var w=[k],X=Math.max(0,k-1-3),W=k-1;W>=X;--W)w.push(W);for(var W=k+1;W<=3;++W)w.push(W);return w},E=function(k){return n.filledRange(k,"_arg","")},F=function(k){return n.filledRange(Math.max(k,3),"_arg","")},I=function(k){return typeof k.length=="number"?Math.max(Math.min(k.length,1024),0):0};A=function(k,w,X,W,P,Z){var K=Math.max(0,I(W)-1),oe=T(K),H=typeof k=="string"||w===t;function Y(ve){var me=E(ve).join(", "),ye=ve>0?", ":"",xe;return H?xe=`ret = callback.call(this, {{args}}, nodeback); break;
`:xe=w===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,xe.replace("{{args}}",me).replace(", ",ye)}function Q(){for(var ve="",me=0;me<oe.length;++me)ve+="case "+oe[me]+":"+Y(oe[me]);return ve+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",H?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),ve}var ce=typeof k=="string"?"this != null ? this['"+k+"'] : fn":"fn",le=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+Z+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",Q()).replace("[GetFunctionCode]",ce);return le=le.replace("Parameters",F(K)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",le)(s,W,w,r,a,i,n.tryCatch,n.errorObj,n.notEnumerableProp,e)}}function U(k,w,X,W,P,Z){var K=function(){return this}(),oe=k;typeof oe=="string"&&(k=W);function H(){var Y=w;w===t&&(Y=this);var Q=new s(e);Q._captureStackTrace();var ce=typeof oe=="string"&&this!==K?this[oe]:k,le=i(Q,Z);try{ce.apply(Y,r(arguments,le))}catch(ve){Q._rejectCallback(a(ve),!0,!0)}return Q._isFateSealed()||Q._setAsyncGuaranteed(),Q}return n.notEnumerableProp(H,"__isPromisified__",!0),H}var L=o?A:U;function G(k,w,X,W,P){for(var Z=new RegExp(D(w)+"$"),K=x(k,w,Z,X),oe=0,H=K.length;oe<H;oe+=2){var Y=K[oe],Q=K[oe+1],ce=Y+w;if(W===L)k[ce]=L(Y,t,Y,Q,w,P);else{var le=W(Q,function(){return L(Y,t,Y,Q,w,P)});n.notEnumerableProp(le,"__isPromisified__",!0),k[ce]=le}}return n.toFastProperties(k),k}function S(k,w,X){return L(k,w,void 0,k,null,X)}s.promisify=function(k,w){if(typeof k!="function")throw new c("expecting a function but got "+n.classString(k));if(v(k))return k;w=Object(w);var X=w.context===void 0?t:w.context,W=!!w.multiArgs,P=S(k,X,W);return n.copyDescriptors(k,P,y),P},s.promisifyAll=function(k,w){if(typeof k!="function"&&typeof k!="object")throw new c(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);w=Object(w);var X=!!w.multiArgs,W=w.suffix;typeof W!="string"&&(W=l);var P=w.filter;typeof P!="function"&&(P=p);var Z=w.promisifier;if(typeof Z!="function"&&(Z=L),!n.isIdentifier(W))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var K=n.inheritedDataKeys(k),oe=0;oe<K.length;++oe){var H=k[K[oe]];K[oe]!=="constructor"&&n.isClass(H)&&(G(H.prototype,W,P,Z,X),G(H,W,P,Z,X))}return G(k,W,P,Z,X)}}),Lp}var Bp,Y0;function fM(){return Y0||(Y0=1,Bp=function(s,e,t,n){var i=pt(),r=i.isObject,a=xc(),o;typeof Map=="function"&&(o=Map);var c=function(){var h=0,p=0;function y(v,b){this[h]=v,this[h+p]=b,h++}return function(b){p=b.size,h=0;var _=new Array(b.size*2);return b.forEach(y,_),_}}(),l=function(h){for(var p=new o,y=h.length/2|0,v=0;v<y;++v){var b=h[y+v],_=h[v];p.set(b,_)}return p};function u(h){var p=!1,y;if(o!==void 0&&h instanceof o)y=c(h),p=!0;else{var v=a.keys(h),b=v.length;y=new Array(b*2);for(var _=0;_<b;++_){var x=v[_];y[_]=h[x],y[_+b]=x}}this.constructor$(y),this._isMap=p,this._init$(void 0,-3)}i.inherits(u,e),u.prototype._init=function(){},u.prototype._promiseFulfilled=function(h,p){this._values[p]=h;var y=++this._totalResolved;if(y>=this._length){var v;if(this._isMap)v=l(this._values);else{v={};for(var b=this.length(),_=0,x=this.length();_<x;++_)v[this._values[_+b]]=this._values[_]}return this._resolve(v),!0}return!1},u.prototype.shouldCopyValues=function(){return!1},u.prototype.getActualLength=function(h){return h>>1};function d(h){var p,y=t(h);if(r(y))y instanceof s?p=y._then(s.props,void 0,void 0,void 0,void 0):p=new u(y).promise();else return n(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return y instanceof s&&p._propagateFrom(y,2),p}s.prototype.props=function(){return d(this)},s.props=function(h){return d(h)}}),Bp}var Op,K0;function pM(){return K0||(K0=1,Op=function(s,e,t,n){var i=pt(),r=function(o){return o.then(function(c){return a(c,o)})};function a(o,c){var l=t(o);if(l instanceof s)return r(l);if(o=i.asArray(o),o===null)return n("expecting an array or an iterable object but got "+i.classString(o));var u=new s(e);c!==void 0&&u._propagateFrom(c,3);for(var d=u._fulfill,h=u._reject,p=0,y=o.length;p<y;++p){var v=o[p];v===void 0&&!(p in o)||s.cast(v)._then(d,h,void 0,u,null)}return u}s.race=function(o){return a(o,void 0)},s.prototype.race=function(){return a(this,void 0)}}),Op}var Wp,Z0;function gM(){return Z0||(Z0=1,Wp=function(s,e,t,n,i,r){var a=s._getDomain,o=pt(),c=o.tryCatch;function l(y,v,b,_){this.constructor$(y);var x=a();this._fn=x===null?v:o.domainBind(x,v),b!==void 0&&(b=s.resolve(b),b._attachCancellationCallback(this)),this._initialValue=b,this._currentCancellable=null,_===i?this._eachValues=Array(this._length):_===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}o.inherits(l,e),l.prototype._gotAccum=function(y){this._eachValues!==void 0&&this._eachValues!==null&&y!==i&&this._eachValues.push(y)},l.prototype._eachComplete=function(y){return this._eachValues!==null&&this._eachValues.push(y),this._eachValues},l.prototype._init=function(){},l.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},l.prototype.shouldCopyValues=function(){return!1},l.prototype._resolve=function(y){this._promise._resolveCallback(y),this._values=null},l.prototype._resultCancelled=function(y){if(y===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof s&&this._currentCancellable.cancel(),this._initialValue instanceof s&&this._initialValue.cancel())},l.prototype._iterate=function(y){this._values=y;var v,b,_=y.length;if(this._initialValue!==void 0?(v=this._initialValue,b=0):(v=s.resolve(y[0]),b=1),this._currentCancellable=v,!v.isRejected())for(;b<_;++b){var x={accum:null,value:y[b],index:b,length:_,array:this};v=v._then(h,void 0,void 0,x,void 0)}this._eachValues!==void 0&&(v=v._then(this._eachComplete,void 0,void 0,this,void 0)),v._then(u,u,void 0,v,this)},s.prototype.reduce=function(y,v){return d(this,y,v,null)},s.reduce=function(y,v,b,_){return d(y,v,b,_)};function u(y,v){this.isFulfilled()?v._resolve(y):v._reject(y)}function d(y,v,b,_){if(typeof v!="function")return t("expecting a function but got "+o.classString(v));var x=new l(y,v,b,_);return x.promise()}function h(y){this.accum=y,this.array._gotAccum(y);var v=n(this.value,this.array._promise);return v instanceof s?(this.array._currentCancellable=v,v._then(p,void 0,void 0,this,void 0)):p.call(this,v)}function p(y){var v=this.array,b=v._promise,_=c(v._fn);b._pushContext();var x;v._eachValues!==void 0?x=_.call(b._boundValue(),y,this.index,this.length):x=_.call(b._boundValue(),this.accum,y,this.index,this.length),x instanceof s&&(v._currentCancellable=x);var D=b._popContext();return r.checkForgottenReturns(x,D,v._eachValues!==void 0?"Promise.each":"Promise.reduce",b),x}}),Wp}var qp,J0;function mM(){return J0||(J0=1,qp=function(s,e,t){var n=s.PromiseInspection,i=pt();function r(a){this.constructor$(a)}i.inherits(r,e),r.prototype._promiseResolved=function(a,o){this._values[a]=o;var c=++this._totalResolved;return c>=this._length?(this._resolve(this._values),!0):!1},r.prototype._promiseFulfilled=function(a,o){var c=new n;return c._bitField=33554432,c._settledValueField=a,this._promiseResolved(o,c)},r.prototype._promiseRejected=function(a,o){var c=new n;return c._bitField=16777216,c._settledValueField=a,this._promiseResolved(o,c)},s.settle=function(a){return t.deprecated(".settle()",".reflect()"),new r(a).promise()},s.prototype.settle=function(){return s.settle(this)}}),qp}var Vp,Q0;function yM(){return Q0||(Q0=1,Vp=function(s,e,t){var n=pt(),i=hs().RangeError,r=hs().AggregateError,a=n.isArray,o={};function c(u){this.constructor$(u),this._howMany=0,this._unwrap=!1,this._initialized=!1}n.inherits(c,e),c.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var u=a(this._values);!this._isResolved()&&u&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},c.prototype.init=function(){this._initialized=!0,this._init()},c.prototype.setUnwrap=function(){this._unwrap=!0},c.prototype.howMany=function(){return this._howMany},c.prototype.setHowMany=function(u){this._howMany=u},c.prototype._promiseFulfilled=function(u){return this._addFulfilled(u),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},c.prototype._promiseRejected=function(u){return this._addRejected(u),this._checkOutcome()},c.prototype._promiseCancelled=function(){return this._values instanceof s||this._values==null?this._cancel():(this._addRejected(o),this._checkOutcome())},c.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var u=new r,d=this.length();d<this._values.length;++d)this._values[d]!==o&&u.push(this._values[d]);return u.length>0?this._reject(u):this._cancel(),!0}return!1},c.prototype._fulfilled=function(){return this._totalResolved},c.prototype._rejected=function(){return this._values.length-this.length()},c.prototype._addRejected=function(u){this._values.push(u)},c.prototype._addFulfilled=function(u){this._values[this._totalResolved++]=u},c.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},c.prototype._getRangeError=function(u){var d="Input array must contain at least "+this._howMany+" items but contains only "+u+" items";return new i(d)},c.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function l(u,d){if((d|0)!==d||d<0)return t(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var h=new c(u),p=h.promise();return h.setHowMany(d),h.init(),p}s.some=function(u,d){return l(u,d)},s.prototype.some=function(u){return l(this,u)},s._SomePromiseArray=c}),Vp}var zp,j0;function vM(){return j0||(j0=1,zp=function(s,e){var t=s.map;s.prototype.filter=function(n,i){return t(this,n,i,e)},s.filter=function(n,i,r){return t(n,i,r,e)}}),zp}var Hp,e2;function bM(){return e2||(e2=1,Hp=function(s,e){var t=s.reduce,n=s.all;function i(){return n(this)}function r(a,o){return t(a,o,e,e)}s.prototype.each=function(a){return t(this,a,e,0)._then(i,void 0,void 0,this,void 0)},s.prototype.mapSeries=function(a){return t(this,a,e,e)},s.each=function(a,o){return t(a,o,e,0)._then(i,void 0,void 0,a,void 0)},s.mapSeries=r}),Hp}var Gp,t2;function _M(){return t2||(t2=1,Gp=function(s){var e=s._SomePromiseArray;function t(n){var i=new e(n),r=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),r}s.any=function(n){return t(n)},s.prototype.any=function(){return t(this)}}),Gp}var n2;function xM(){return n2||(n2=1,function(s){s.exports=function(){var e=function(){return new h(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},t=function(){return new S.PromiseInspection(this._target())},n=function(W){return S.reject(new h(W))};function i(){}var r={},a=pt(),o;a.isNode?o=function(){var W=process.domain;return W===void 0&&(W=null),W}:o=function(){return null},a.notEnumerableProp(S,"_getDomain",o);var c=xc(),l=X3(),u=new l;c.defineProperty(S,"_async",{value:u});var d=hs(),h=S.TypeError=d.TypeError;S.RangeError=d.RangeError;var p=S.CancellationError=d.CancellationError;S.TimeoutError=d.TimeoutError,S.OperationalError=d.OperationalError,S.RejectionError=d.OperationalError,S.AggregateError=d.AggregateError;var y=function(){},v={},b={},_=Y3()(S,y),x=K3()(S,y,_,n,i),D=Z3()(S),A=D.create,T=J3()(S,D);T.CapturedTrace;var E=Q3()(S,_),F=j3()(b),I=kT(),U=a.errorObj,L=a.tryCatch;function G(W,P){if(typeof P!="function")throw new h("expecting a function but got "+a.classString(P));if(W.constructor!==S)throw new h(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function S(W){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,W!==y&&(G(this,W),this._resolveFromExecutor(W)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}S.prototype.toString=function(){return"[object Promise]"},S.prototype.caught=S.prototype.catch=function(W){var P=arguments.length;if(P>1){var Z=new Array(P-1),K=0,oe;for(oe=0;oe<P-1;++oe){var H=arguments[oe];if(a.isObject(H))Z[K++]=H;else return n("expecting an object but got A catch statement predicate "+a.classString(H))}return Z.length=K,W=arguments[oe],this.then(void 0,F(Z,W,this))}return this.then(void 0,W)},S.prototype.reflect=function(){return this._then(t,t,void 0,this,void 0)},S.prototype.then=function(W,P){if(T.warnings()&&arguments.length>0&&typeof W!="function"&&typeof P!="function"){var Z=".then() only accepts functions but was passed: "+a.classString(W);arguments.length>1&&(Z+=", "+a.classString(P)),this._warn(Z)}return this._then(W,P,void 0,void 0,void 0)},S.prototype.done=function(W,P){var Z=this._then(W,P,void 0,void 0,void 0);Z._setIsFinal()},S.prototype.spread=function(W){return typeof W!="function"?n("expecting a function but got "+a.classString(W)):this.all()._then(W,void 0,void 0,v,void 0)},S.prototype.toJSON=function(){var W={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(W.fulfillmentValue=this.value(),W.isFulfilled=!0):this.isRejected()&&(W.rejectionReason=this.reason(),W.isRejected=!0),W},S.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new x(this).promise()},S.prototype.error=function(W){return this.caught(a.originatesFromRejection,W)},S.getNewLibraryCopy=s.exports,S.is=function(W){return W instanceof S},S.fromNode=S.fromCallback=function(W){var P=new S(y);P._captureStackTrace();var Z=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,K=L(W)(I(P,Z));return K===U&&P._rejectCallback(K.e,!0),P._isFateSealed()||P._setAsyncGuaranteed(),P},S.all=function(W){return new x(W).promise()},S.cast=function(W){var P=_(W);return P instanceof S||(P=new S(y),P._captureStackTrace(),P._setFulfilled(),P._rejectionHandler0=W),P},S.resolve=S.fulfilled=S.cast,S.reject=S.rejected=function(W){var P=new S(y);return P._captureStackTrace(),P._rejectCallback(W,!0),P},S.setScheduler=function(W){if(typeof W!="function")throw new h("expecting a function but got "+a.classString(W));return u.setScheduler(W)},S.prototype._then=function(W,P,Z,K,oe){var H=oe!==void 0,Y=H?oe:new S(y),Q=this._target(),ce=Q._bitField;H||(Y._propagateFrom(this,3),Y._captureStackTrace(),K===void 0&&(this._bitField&2097152)!==0&&((ce&50397184)!==0?K=this._boundValue():K=Q===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,Y));var le=o();if((ce&50397184)!==0){var ve,me,ye=Q._settlePromiseCtx;(ce&33554432)!==0?(me=Q._rejectionHandler0,ve=W):(ce&16777216)!==0?(me=Q._fulfillmentHandler0,ve=P,Q._unsetRejectionIsUnhandled()):(ye=Q._settlePromiseLateCancellationObserver,me=new p("late cancellation observer"),Q._attachExtraTrace(me),ve=P),u.invoke(ye,Q,{handler:le===null?ve:typeof ve=="function"&&a.domainBind(le,ve),promise:Y,receiver:K,value:me})}else Q._addCallbacks(W,P,Y,K,le);return Y},S.prototype._length=function(){return this._bitField&65535},S.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},S.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},S.prototype._setLength=function(W){this._bitField=this._bitField&-65536|W&65535},S.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},S.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},S.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},S.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},S.prototype._isFinal=function(){return(this._bitField&4194304)>0},S.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},S.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},S.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},S.prototype._setAsyncGuaranteed=function(){u.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},S.prototype._receiverAt=function(W){var P=W===0?this._receiver0:this[W*4-4+3];if(P!==r)return P===void 0&&this._isBound()?this._boundValue():P},S.prototype._promiseAt=function(W){return this[W*4-4+2]},S.prototype._fulfillmentHandlerAt=function(W){return this[W*4-4+0]},S.prototype._rejectionHandlerAt=function(W){return this[W*4-4+1]},S.prototype._boundValue=function(){},S.prototype._migrateCallback0=function(W){W._bitField;var P=W._fulfillmentHandler0,Z=W._rejectionHandler0,K=W._promise0,oe=W._receiverAt(0);oe===void 0&&(oe=r),this._addCallbacks(P,Z,K,oe,null)},S.prototype._migrateCallbackAt=function(W,P){var Z=W._fulfillmentHandlerAt(P),K=W._rejectionHandlerAt(P),oe=W._promiseAt(P),H=W._receiverAt(P);H===void 0&&(H=r),this._addCallbacks(Z,K,oe,H,null)},S.prototype._addCallbacks=function(W,P,Z,K,oe){var H=this._length();if(H>=65531&&(H=0,this._setLength(0)),H===0)this._promise0=Z,this._receiver0=K,typeof W=="function"&&(this._fulfillmentHandler0=oe===null?W:a.domainBind(oe,W)),typeof P=="function"&&(this._rejectionHandler0=oe===null?P:a.domainBind(oe,P));else{var Y=H*4-4;this[Y+2]=Z,this[Y+3]=K,typeof W=="function"&&(this[Y+0]=oe===null?W:a.domainBind(oe,W)),typeof P=="function"&&(this[Y+1]=oe===null?P:a.domainBind(oe,P))}return this._setLength(H+1),H},S.prototype._proxy=function(W,P){this._addCallbacks(void 0,void 0,P,W,null)},S.prototype._resolveCallback=function(W,P){if((this._bitField&117506048)===0){if(W===this)return this._rejectCallback(e(),!1);var Z=_(W,this);if(!(Z instanceof S))return this._fulfill(W);P&&this._propagateFrom(Z,2);var K=Z._target();if(K===this){this._reject(e());return}var oe=K._bitField;if((oe&50397184)===0){var H=this._length();H>0&&K._migrateCallback0(this);for(var Y=1;Y<H;++Y)K._migrateCallbackAt(this,Y);this._setFollowing(),this._setLength(0),this._setFollowee(K)}else if((oe&33554432)!==0)this._fulfill(K._value());else if((oe&16777216)!==0)this._reject(K._reason());else{var Q=new p("late cancellation observer");K._attachExtraTrace(Q),this._reject(Q)}}},S.prototype._rejectCallback=function(W,P,Z){var K=a.ensureErrorObject(W),oe=K===W;if(!oe&&!Z&&T.warnings()){var H="a promise was rejected with a non-error: "+a.classString(W);this._warn(H,!0)}this._attachExtraTrace(K,P?oe:!1),this._reject(W)},S.prototype._resolveFromExecutor=function(W){var P=this;this._captureStackTrace(),this._pushContext();var Z=!0,K=this._execute(W,function(oe){P._resolveCallback(oe)},function(oe){P._rejectCallback(oe,Z)});Z=!1,this._popContext(),K!==void 0&&P._rejectCallback(K,!0)},S.prototype._settlePromiseFromHandler=function(W,P,Z,K){var oe=K._bitField;if((oe&65536)===0){K._pushContext();var H;P===v?!Z||typeof Z.length!="number"?(H=U,H.e=new h("cannot .spread() a non-array: "+a.classString(Z))):H=L(W).apply(this._boundValue(),Z):H=L(W).call(P,Z);var Y=K._popContext();oe=K._bitField,(oe&65536)===0&&(H===b?K._reject(Z):H===U?K._rejectCallback(H.e,!1):(T.checkForgottenReturns(H,Y,"",K,this),K._resolveCallback(H)))}},S.prototype._target=function(){for(var W=this;W._isFollowing();)W=W._followee();return W},S.prototype._followee=function(){return this._rejectionHandler0},S.prototype._setFollowee=function(W){this._rejectionHandler0=W},S.prototype._settlePromise=function(W,P,Z,K){var oe=W instanceof S,H=this._bitField,Y=(H&134217728)!==0;(H&65536)!==0?(oe&&W._invokeInternalOnCancel(),Z instanceof E&&Z.isFinallyHandler()?(Z.cancelPromise=W,L(P).call(Z,K)===U&&W._reject(U.e)):P===t?W._fulfill(t.call(Z)):Z instanceof i?Z._promiseCancelled(W):oe||W instanceof x?W._cancel():Z.cancel()):typeof P=="function"?oe?(Y&&W._setAsyncGuaranteed(),this._settlePromiseFromHandler(P,Z,K,W)):P.call(Z,K,W):Z instanceof i?Z._isResolved()||((H&33554432)!==0?Z._promiseFulfilled(K,W):Z._promiseRejected(K,W)):oe&&(Y&&W._setAsyncGuaranteed(),(H&33554432)!==0?W._fulfill(K):W._reject(K))},S.prototype._settlePromiseLateCancellationObserver=function(W){var P=W.handler,Z=W.promise,K=W.receiver,oe=W.value;typeof P=="function"?Z instanceof S?this._settlePromiseFromHandler(P,K,oe,Z):P.call(K,oe,Z):Z instanceof S&&Z._reject(oe)},S.prototype._settlePromiseCtx=function(W){this._settlePromise(W.promise,W.handler,W.receiver,W.value)},S.prototype._settlePromise0=function(W,P,Z){var K=this._promise0,oe=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(K,W,oe,P)},S.prototype._clearCallbackDataAtIndex=function(W){var P=W*4-4;this[P+2]=this[P+3]=this[P+0]=this[P+1]=void 0},S.prototype._fulfill=function(W){var P=this._bitField;if(!((P&117506048)>>>16)){if(W===this){var Z=e();return this._attachExtraTrace(Z),this._reject(Z)}this._setFulfilled(),this._rejectionHandler0=W,(P&65535)>0&&((P&134217728)!==0?this._settlePromises():u.settlePromises(this))}},S.prototype._reject=function(W){var P=this._bitField;if(!((P&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=W,this._isFinal())return u.fatalError(W,a.isNode);(P&65535)>0?u.settlePromises(this):this._ensurePossibleRejectionHandled()}},S.prototype._fulfillPromises=function(W,P){for(var Z=1;Z<W;Z++){var K=this._fulfillmentHandlerAt(Z),oe=this._promiseAt(Z),H=this._receiverAt(Z);this._clearCallbackDataAtIndex(Z),this._settlePromise(oe,K,H,P)}},S.prototype._rejectPromises=function(W,P){for(var Z=1;Z<W;Z++){var K=this._rejectionHandlerAt(Z),oe=this._promiseAt(Z),H=this._receiverAt(Z);this._clearCallbackDataAtIndex(Z),this._settlePromise(oe,K,H,P)}},S.prototype._settlePromises=function(){var W=this._bitField,P=W&65535;if(P>0){if((W&16842752)!==0){var Z=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,Z,W),this._rejectPromises(P,Z)}else{var K=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,K,W),this._fulfillPromises(P,K)}this._setLength(0)}this._clearCancellationData()},S.prototype._settledValue=function(){var W=this._bitField;if((W&33554432)!==0)return this._rejectionHandler0;if((W&16777216)!==0)return this._fulfillmentHandler0};function k(W){this.promise._resolveCallback(W)}function w(W){this.promise._rejectCallback(W,!1)}S.defer=S.pending=function(){T.deprecated("Promise.defer","new Promise");var W=new S(y);return{promise:W,resolve:k,reject:w}},a.notEnumerableProp(S,"_makeSelfResolutionError",e),eM()(S,y,_,n,T),tM()(S,y,_,T),nM()(S,x,n,T),iM()(S),rM()(S),sM()(S,x,_,y,u,o),S.Promise=S,S.version="3.4.7",aM()(S,x,n,_,y,T),oM()(S),cM()(S,n,_,A,y,T),lM()(S,y,T),uM()(S,n,y,_,i,T),dM()(S),hM()(S,y),fM()(S,x,_,n),pM()(S,y,_,n),gM()(S,x,n,_,y,T),mM()(S,x,T),yM()(S,x,n),vM()(S,y),bM()(S,y),_M()(S),a.toFastProperties(S),a.toFastProperties(S.prototype);function X(W){var P=new S(y);P._fulfillmentHandler0=W,P._rejectionHandler0=W,P._promise0=W,P._receiver0=W}return X({a:1}),X({b:2}),X({c:3}),X(1),X(function(){}),X(void 0),X(!1),X(new S(y)),T.setBounds(l.firstLineError,a.lastLineError),S}}(pp)),pp.exports}var i2;function xs(){if(i2)return Wn;i2=1;var s=At,e=xM()();Wn.defer=t,Wn.when=e.resolve,Wn.resolve=e.resolve,Wn.all=e.all,Wn.props=e.props,Wn.reject=e.reject,Wn.promisify=e.promisify,Wn.mapSeries=e.mapSeries,Wn.attempt=e.attempt,Wn.nfcall=function(n){var i=Array.prototype.slice.call(arguments,1),r=e.promisify(n);return r.apply(null,i)},e.prototype.fail=e.prototype.caught,e.prototype.also=function(n){return this.then(function(i){var r=s.extend({},i,n(i));return e.props(r)})};function t(){var n,i,r=new e.Promise(function(a,o){n=a,i=o});return{resolve:n,reject:i,promise:r}}return Wn}var st={},r2;function Ka(){if(r2)return st;r2=1;var s=At,e=st.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function t(T,E){return E=E||{},{type:e.document,children:T,notes:E.notes||new u({}),comments:E.comments||[]}}function n(T,E){E=E||{};var F=E.indent||{};return{type:e.paragraph,children:T,styleId:E.styleId||null,styleName:E.styleName||null,numbering:E.numbering||null,alignment:E.alignment||null,indent:{start:F.start||null,end:F.end||null,firstLine:F.firstLine||null,hanging:F.hanging||null}}}function i(T,E){return E=E||{},{type:e.run,children:T,styleId:E.styleId||null,styleName:E.styleName||null,isBold:!!E.isBold,isUnderline:!!E.isUnderline,isItalic:!!E.isItalic,isStrikethrough:!!E.isStrikethrough,isAllCaps:!!E.isAllCaps,isSmallCaps:!!E.isSmallCaps,verticalAlignment:E.verticalAlignment||r.baseline,font:E.font||null,fontSize:E.fontSize||null,highlight:E.highlight||null}}var r={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function a(T){return{type:e.text,value:T}}function o(){return{type:e.tab}}function c(T,E){return{type:e.hyperlink,children:T,href:E.href,anchor:E.anchor,targetFrame:E.targetFrame}}function l(T){return{type:e.noteReference,noteType:T.noteType,noteId:T.noteId}}function u(T){this._notes=s.indexBy(T,function(E){return y(E.noteType,E.noteId)})}u.prototype.resolve=function(T){return this.findNoteByKey(y(T.noteType,T.noteId))},u.prototype.findNoteByKey=function(T){return this._notes[T]||null};function d(T){return{type:e.note,noteType:T.noteType,noteId:T.noteId,body:T.body}}function h(T){return{type:e.commentReference,commentId:T.commentId}}function p(T){return{type:e.comment,commentId:T.commentId,body:T.body,authorName:T.authorName,authorInitials:T.authorInitials}}function y(T,E){return T+"-"+E}function v(T){return{type:e.image,read:function(E){return E?T.readImage(E):T.readImage().then(function(F){return Buffer.from(F)})},readAsArrayBuffer:function(){return T.readImage()},readAsBase64String:function(){return T.readImage("base64")},readAsBuffer:function(){return T.readImage().then(function(E){return Buffer.from(E)})},altText:T.altText,contentType:T.contentType}}function b(T,E){return E=E||{},{type:e.table,children:T,styleId:E.styleId||null,styleName:E.styleName||null}}function _(T,E){return E=E||{},{type:e.tableRow,children:T,isHeader:E.isHeader||!1}}function x(T,E){return E=E||{},{type:e.tableCell,children:T,colSpan:E.colSpan==null?1:E.colSpan,rowSpan:E.rowSpan==null?1:E.rowSpan}}function D(T){return{type:e.break,breakType:T}}function A(T){return{type:e.bookmarkStart,name:T.name}}return st.document=st.Document=t,st.paragraph=st.Paragraph=n,st.run=st.Run=i,st.text=st.Text=a,st.tab=st.Tab=o,st.Hyperlink=c,st.noteReference=st.NoteReference=l,st.Notes=u,st.Note=d,st.commentReference=h,st.comment=p,st.Image=v,st.Table=b,st.TableRow=_,st.TableCell=x,st.lineBreak=D("line"),st.pageBreak=D("page"),st.columnBreak=D("column"),st.BookmarkStart=A,st.verticalAlignment=r,st}var ja={},s2;function Ur(){if(s2)return ja;s2=1;var s=At;ja.Result=e,ja.success=t,ja.warning=n,ja.error=i;function e(c,l){this.value=c,this.messages=l||[]}e.prototype.map=function(c){return new e(c(this.value),this.messages)},e.prototype.flatMap=function(c){var l=c(this.value);return new e(l.value,r([this,l]))},e.prototype.flatMapThen=function(c){var l=this;return c(this.value).then(function(u){return new e(u.value,r([l,u]))})},e.combine=function(c){var l=s.flatten(s.pluck(c,"value")),u=r(c);return new e(l,u)};function t(c){return new e(c,[])}function n(c){return{type:"warning",message:c}}function i(c){return{type:"error",message:c.message,error:c}}function r(c){var l=[];return s.flatten(s.pluck(c,"messages"),!0).forEach(function(u){a(l,u)||l.push(u)}),l}function a(c,l){return s.find(c,o.bind(null,l))!==void 0}function o(c,l){return c.type===l.type&&c.message===l.message}return ja}var Uc={},Fc={},a2;function DM(){if(a2)return Fc;a2=1,Fc.byteLength=o,Fc.toByteArray=l,Fc.fromByteArray=h;for(var s=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,r=n.length;i<r;++i)s[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function a(p){var y=p.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=p.indexOf("=");v===-1&&(v=y);var b=v===y?0:4-v%4;return[v,b]}function o(p){var y=a(p),v=y[0],b=y[1];return(v+b)*3/4-b}function c(p,y,v){return(y+v)*3/4-v}function l(p){var y,v=a(p),b=v[0],_=v[1],x=new t(c(p,b,_)),D=0,A=_>0?b-4:b,T;for(T=0;T<A;T+=4)y=e[p.charCodeAt(T)]<<18|e[p.charCodeAt(T+1)]<<12|e[p.charCodeAt(T+2)]<<6|e[p.charCodeAt(T+3)],x[D++]=y>>16&255,x[D++]=y>>8&255,x[D++]=y&255;return _===2&&(y=e[p.charCodeAt(T)]<<2|e[p.charCodeAt(T+1)]>>4,x[D++]=y&255),_===1&&(y=e[p.charCodeAt(T)]<<10|e[p.charCodeAt(T+1)]<<4|e[p.charCodeAt(T+2)]>>2,x[D++]=y>>8&255,x[D++]=y&255),x}function u(p){return s[p>>18&63]+s[p>>12&63]+s[p>>6&63]+s[p&63]}function d(p,y,v){for(var b,_=[],x=y;x<v;x+=3)b=(p[x]<<16&16711680)+(p[x+1]<<8&65280)+(p[x+2]&255),_.push(u(b));return _.join("")}function h(p){for(var y,v=p.length,b=v%3,_=[],x=16383,D=0,A=v-b;D<A;D+=x)_.push(d(p,D,D+x>A?A:D+x));return b===1?(y=p[v-1],_.push(s[y>>2]+s[y<<4&63]+"==")):b===2&&(y=(p[v-2]<<8)+p[v-1],_.push(s[y>>10]+s[y>>4&63]+s[y<<2&63]+"=")),_.join("")}return Fc}var $p={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var o2;function TM(){return o2||(o2=1,function(s,e){(function(t){s.exports=t()})(function(){return function t(n,i,r){function a(l,u){if(!i[l]){if(!n[l]){var d=typeof od=="function"&&od;if(!u&&d)return d(l,!0);if(o)return o(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[l]={exports:{}};n[l][0].call(p.exports,function(y){var v=n[l][1][y];return a(v||y)},p,p.exports,t,n,i,r)}return i[l].exports}for(var o=typeof od=="function"&&od,c=0;c<r.length;c++)a(r[c]);return a}({1:[function(t,n,i){var r=t("./utils"),a=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var l,u,d,h,p,y,v,b=[],_=0,x=c.length,D=x,A=r.getTypeOf(c)!=="string";_<c.length;)D=x-_,d=A?(l=c[_++],u=_<x?c[_++]:0,_<x?c[_++]:0):(l=c.charCodeAt(_++),u=_<x?c.charCodeAt(_++):0,_<x?c.charCodeAt(_++):0),h=l>>2,p=(3&l)<<4|u>>4,y=1<D?(15&u)<<2|d>>6:64,v=2<D?63&d:64,b.push(o.charAt(h)+o.charAt(p)+o.charAt(y)+o.charAt(v));return b.join("")},i.decode=function(c){var l,u,d,h,p,y,v=0,b=0,_="data:";if(c.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");var x,D=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===o.charAt(64)&&D--,c.charAt(c.length-2)===o.charAt(64)&&D--,D%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=a.uint8array?new Uint8Array(0|D):new Array(0|D);v<c.length;)l=o.indexOf(c.charAt(v++))<<2|(h=o.indexOf(c.charAt(v++)))>>4,u=(15&h)<<4|(p=o.indexOf(c.charAt(v++)))>>2,d=(3&p)<<6|(y=o.indexOf(c.charAt(v++))),x[b++]=l,p!==64&&(x[b++]=u),y!==64&&(x[b++]=d);return x}},{"./support":30,"./utils":32}],2:[function(t,n,i){var r=t("./external"),a=t("./stream/DataWorker"),o=t("./stream/Crc32Probe"),c=t("./stream/DataLengthProbe");function l(u,d,h,p,y){this.compressedSize=u,this.uncompressedSize=d,this.crc32=h,this.compression=p,this.compressedContent=y}l.prototype={getContentWorker:function(){var u=new a(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),d=this;return u.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new a(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(u,d,h){return u.pipe(new o).pipe(new c("uncompressedSize")).pipe(d.compressWorker(h)).pipe(new c("compressedSize")).withStreamInfo("compression",d)},n.exports=l},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,i){var r=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,i){var r=t("./utils"),a=function(){for(var o,c=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;c[l]=o}return c}();n.exports=function(o,c){return o!==void 0&&o.length?r.getTypeOf(o)!=="string"?function(l,u,d,h){var p=a,y=h+d;l^=-1;for(var v=h;v<y;v++)l=l>>>8^p[255&(l^u[v])];return-1^l}(0|c,o,o.length,0):function(l,u,d,h){var p=a,y=h+d;l^=-1;for(var v=h;v<y;v++)l=l>>>8^p[255&(l^u.charCodeAt(v))];return-1^l}(0|c,o,o.length,0):0}},{"./utils":32}],5:[function(t,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,n,i){var r=null;r=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:r}},{lie:37}],7:[function(t,n,i){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=t("pako"),o=t("./utils"),c=t("./stream/GenericWorker"),l=r?"uint8array":"array";function u(d,h){c.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=h,this.meta={}}i.magic="\b\0",o.inherits(u,c),u.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(l,d.data),!1)},u.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(h){d.push({data:h,meta:d.meta})}},i.compressWorker=function(d){return new u("Deflate",d)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,i){function r(p,y){var v,b="";for(v=0;v<y;v++)b+=String.fromCharCode(255&p),p>>>=8;return b}function a(p,y,v,b,_,x){var D,A,T=p.file,E=p.compression,F=x!==l.utf8encode,I=o.transformTo("string",x(T.name)),U=o.transformTo("string",l.utf8encode(T.name)),L=T.comment,G=o.transformTo("string",x(L)),S=o.transformTo("string",l.utf8encode(L)),k=U.length!==T.name.length,w=S.length!==L.length,X="",W="",P="",Z=T.dir,K=T.date,oe={crc32:0,compressedSize:0,uncompressedSize:0};y&&!v||(oe.crc32=p.crc32,oe.compressedSize=p.compressedSize,oe.uncompressedSize=p.uncompressedSize);var H=0;y&&(H|=8),F||!k&&!w||(H|=2048);var Y=0,Q=0;Z&&(Y|=16),_==="UNIX"?(Q=798,Y|=function(le,ve){var me=le;return le||(me=ve?16893:33204),(65535&me)<<16}(T.unixPermissions,Z)):(Q=20,Y|=function(le){return 63&(le||0)}(T.dosPermissions)),D=K.getUTCHours(),D<<=6,D|=K.getUTCMinutes(),D<<=5,D|=K.getUTCSeconds()/2,A=K.getUTCFullYear()-1980,A<<=4,A|=K.getUTCMonth()+1,A<<=5,A|=K.getUTCDate(),k&&(W=r(1,1)+r(u(I),4)+U,X+="up"+r(W.length,2)+W),w&&(P=r(1,1)+r(u(G),4)+S,X+="uc"+r(P.length,2)+P);var ce="";return ce+=`
\0`,ce+=r(H,2),ce+=E.magic,ce+=r(D,2),ce+=r(A,2),ce+=r(oe.crc32,4),ce+=r(oe.compressedSize,4),ce+=r(oe.uncompressedSize,4),ce+=r(I.length,2),ce+=r(X.length,2),{fileRecord:d.LOCAL_FILE_HEADER+ce+I+X,dirRecord:d.CENTRAL_FILE_HEADER+r(Q,2)+ce+r(G.length,2)+"\0\0\0\0"+r(Y,4)+r(b,4)+I+X+G}}var o=t("../utils"),c=t("../stream/GenericWorker"),l=t("../utf8"),u=t("../crc32"),d=t("../signature");function h(p,y,v,b){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=v,this.encodeFileName=b,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(h,c),h.prototype.push=function(p){var y=p.meta.percent||0,v=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,c.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:v?(y+100*(v-b-1))/v:100}}))},h.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var y=this.streamFiles&&!p.file.dir;if(y){var v=a(p,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(p){this.accumulate=!1;var y=this.streamFiles&&!p.file.dir,v=a(p,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),y)this.push({data:function(b){return d.DATA_DESCRIPTOR+r(b.crc32,4)+r(b.compressedSize,4)+r(b.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var p=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var v=this.bytesWritten-p,b=function(_,x,D,A,T){var E=o.transformTo("string",T(A));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(_,2)+r(_,2)+r(x,4)+r(D,4)+r(E.length,2)+E}(this.dirRecords.length,v,p,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(p){this._sources.push(p);var y=this;return p.on("data",function(v){y.processChunk(v)}),p.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),p.on("error",function(v){y.error(v)}),this},h.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(p){var y=this._sources;if(!c.prototype.error.call(this,p))return!1;for(var v=0;v<y.length;v++)try{y[v].error(p)}catch{}return!0},h.prototype.lock=function(){c.prototype.lock.call(this);for(var p=this._sources,y=0;y<p.length;y++)p[y].lock()},n.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,i){var r=t("../compressions"),a=t("./ZipFileWorker");i.generateWorker=function(o,c,l){var u=new a(c.streamFiles,l,c.platform,c.encodeFileName),d=0;try{o.forEach(function(h,p){d++;var y=function(x,D){var A=x||D,T=r[A];if(!T)throw new Error(A+" is not a valid compression method !");return T}(p.options.compression,c.compression),v=p.options.compressionOptions||c.compressionOptions||{},b=p.dir,_=p.date;p._compressWorker(y,v).withStreamInfo("file",{name:h,dir:b,date:_,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(u)}),u.entriesCount=d}catch(h){u.error(h)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,i){function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new r;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(r.prototype=t("./object")).loadAsync=t("./load"),r.support=t("./support"),r.defaults=t("./defaults"),r.version="3.10.1",r.loadAsync=function(a,o){return new r().loadAsync(a,o)},r.external=t("./external"),n.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,i){var r=t("./utils"),a=t("./external"),o=t("./utf8"),c=t("./zipEntries"),l=t("./stream/Crc32Probe"),u=t("./nodejsUtils");function d(h){return new a.Promise(function(p,y){var v=h.decompressed.getContentWorker().pipe(new l);v.on("error",function(b){y(b)}).on("end",function(){v.streamInfo.crc32!==h.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}n.exports=function(h,p){var y=this;return p=r.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(h)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",h,!0,p.optimizedBinaryString,p.base64).then(function(v){var b=new c(p);return b.load(v),b}).then(function(v){var b=[a.Promise.resolve(v)],_=v.files;if(p.checkCRC32)for(var x=0;x<_.length;x++)b.push(d(_[x]));return a.Promise.all(b)}).then(function(v){for(var b=v.shift(),_=b.files,x=0;x<_.length;x++){var D=_[x],A=D.fileNameStr,T=r.resolve(D.fileNameStr);y.file(T,D.decompressed,{binary:!0,optimizedBinaryString:!0,date:D.date,dir:D.dir,comment:D.fileCommentStr.length?D.fileCommentStr:null,unixPermissions:D.unixPermissions,dosPermissions:D.dosPermissions,createFolders:p.createFolders}),D.dir||(y.file(T).unsafeOriginalName=A)}return b.zipComment.length&&(y.comment=b.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,i){var r=t("../utils"),a=t("../stream/GenericWorker");function o(c,l){a.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(l)}r.inherits(o,a),o.prototype._bindStream=function(c){var l=this;(this._stream=c).pause(),c.on("data",function(u){l.push({data:u,meta:{percent:0}})}).on("error",function(u){l.isPaused?this.generatedError=u:l.error(u)}).on("end",function(){l.isPaused?l._upstreamEnded=!0:l.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,i){var r=t("readable-stream").Readable;function a(o,c,l){r.call(this,c),this._helper=o;var u=this;o.on("data",function(d,h){u.push(d)||u._helper.pause(),l&&l(h)}).on("error",function(d){u.emit("error",d)}).on("end",function(){u.push(null)})}t("../utils").inherits(a,r),a.prototype._read=function(){this._helper.resume()},n.exports=a},{"../utils":32,"readable-stream":16}],14:[function(t,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(r,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(r,a);if(typeof r=="number")throw new Error('The "data" argument must not be a number');return new Buffer(r,a)},allocBuffer:function(r){if(Buffer.alloc)return Buffer.alloc(r);var a=new Buffer(r);return a.fill(0),a},isBuffer:function(r){return Buffer.isBuffer(r)},isStream:function(r){return r&&typeof r.on=="function"&&typeof r.pause=="function"&&typeof r.resume=="function"}}},{}],15:[function(t,n,i){function r(T,E,F){var I,U=o.getTypeOf(E),L=o.extend(F||{},u);L.date=L.date||new Date,L.compression!==null&&(L.compression=L.compression.toUpperCase()),typeof L.unixPermissions=="string"&&(L.unixPermissions=parseInt(L.unixPermissions,8)),L.unixPermissions&&16384&L.unixPermissions&&(L.dir=!0),L.dosPermissions&&16&L.dosPermissions&&(L.dir=!0),L.dir&&(T=_(T)),L.createFolders&&(I=b(T))&&x.call(this,I,!0);var G=U==="string"&&L.binary===!1&&L.base64===!1;F&&F.binary!==void 0||(L.binary=!G),(E instanceof d&&E.uncompressedSize===0||L.dir||!E||E.length===0)&&(L.base64=!1,L.binary=!0,E="",L.compression="STORE",U="string");var S=null;S=E instanceof d||E instanceof c?E:y.isNode&&y.isStream(E)?new v(T,E):o.prepareContent(T,E,L.binary,L.optimizedBinaryString,L.base64);var k=new h(T,S,L);this.files[T]=k}var a=t("./utf8"),o=t("./utils"),c=t("./stream/GenericWorker"),l=t("./stream/StreamHelper"),u=t("./defaults"),d=t("./compressedObject"),h=t("./zipObject"),p=t("./generate"),y=t("./nodejsUtils"),v=t("./nodejs/NodejsStreamInputAdapter"),b=function(T){T.slice(-1)==="/"&&(T=T.substring(0,T.length-1));var E=T.lastIndexOf("/");return 0<E?T.substring(0,E):""},_=function(T){return T.slice(-1)!=="/"&&(T+="/"),T},x=function(T,E){return E=E!==void 0?E:u.createFolders,T=_(T),this.files[T]||r.call(this,T,null,{dir:!0,createFolders:E}),this.files[T]};function D(T){return Object.prototype.toString.call(T)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(T){var E,F,I;for(E in this.files)I=this.files[E],(F=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&T(F,I)},filter:function(T){var E=[];return this.forEach(function(F,I){T(F,I)&&E.push(I)}),E},file:function(T,E,F){if(arguments.length!==1)return T=this.root+T,r.call(this,T,E,F),this;if(D(T)){var I=T;return this.filter(function(L,G){return!G.dir&&I.test(L)})}var U=this.files[this.root+T];return U&&!U.dir?U:null},folder:function(T){if(!T)return this;if(D(T))return this.filter(function(U,L){return L.dir&&T.test(U)});var E=this.root+T,F=x.call(this,E),I=this.clone();return I.root=F.name,I},remove:function(T){T=this.root+T;var E=this.files[T];if(E||(T.slice(-1)!=="/"&&(T+="/"),E=this.files[T]),E&&!E.dir)delete this.files[T];else for(var F=this.filter(function(U,L){return L.name.slice(0,T.length)===T}),I=0;I<F.length;I++)delete this.files[F[I].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(T){var E,F={};try{if((F=o.extend(T||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");o.checkSupport(F.type),F.platform!=="darwin"&&F.platform!=="freebsd"&&F.platform!=="linux"&&F.platform!=="sunos"||(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var I=F.comment||this.comment||"";E=p.generateWorker(this,F,I)}catch(U){(E=new c("error")).error(U)}return new l(E,F.type||"string",F.mimeType)},generateAsync:function(T,E){return this.generateInternalStream(T).accumulate(E)},generateNodeStream:function(T,E){return(T=T||{}).type||(T.type="nodebuffer"),this.generateInternalStream(T).toNodejsStream(E)}};n.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,i){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,i){var r=t("./DataReader");function a(o){r.call(this,o);for(var c=0;c<this.data.length;c++)o[c]=255&o[c]}t("../utils").inherits(a,r),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var c=o.charCodeAt(0),l=o.charCodeAt(1),u=o.charCodeAt(2),d=o.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===c&&this.data[h+1]===l&&this.data[h+2]===u&&this.data[h+3]===d)return h-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var c=o.charCodeAt(0),l=o.charCodeAt(1),u=o.charCodeAt(2),d=o.charCodeAt(3),h=this.readData(4);return c===h[0]&&l===h[1]&&u===h[2]&&d===h[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=a},{"../utils":32,"./DataReader":18}],18:[function(t,n,i){var r=t("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var c,l=0;for(this.checkOffset(o),c=this.index+o-1;c>=this.index;c--)l=(l<<8)+this.byteAt(c);return this.index+=o,l},readString:function(o){return r.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=a},{"../utils":32}],19:[function(t,n,i){var r=t("./Uint8ArrayReader");function a(o){r.call(this,o)}t("../utils").inherits(a,r),a.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,i){var r=t("./DataReader");function a(o){r.call(this,o)}t("../utils").inherits(a,r),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=a},{"../utils":32,"./DataReader":18}],21:[function(t,n,i){var r=t("./ArrayReader");function a(o){r.call(this,o)}t("../utils").inherits(a,r),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,i){var r=t("../utils"),a=t("../support"),o=t("./ArrayReader"),c=t("./StringReader"),l=t("./NodeBufferReader"),u=t("./Uint8ArrayReader");n.exports=function(d){var h=r.getTypeOf(d);return r.checkSupport(h),h!=="string"||a.uint8array?h==="nodebuffer"?new l(d):a.uint8array?new u(r.transformTo("uint8array",d)):new o(r.transformTo("array",d)):new c(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,i){var r=t("./GenericWorker"),a=t("../utils");function o(c){r.call(this,"ConvertWorker to "+c),this.destType=c}a.inherits(o,r),o.prototype.processChunk=function(c){this.push({data:a.transformTo(this.destType,c.data),meta:c.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,i){var r=t("./GenericWorker"),a=t("../crc32");function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(o,r),o.prototype.processChunk=function(c){this.streamInfo.crc32=a(c.data,this.streamInfo.crc32||0),this.push(c)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,i){var r=t("../utils"),a=t("./GenericWorker");function o(c){a.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}r.inherits(o,a),o.prototype.processChunk=function(c){if(c){var l=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=l+c.data.length}a.prototype.processChunk.call(this,c)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,i){var r=t("../utils"),a=t("./GenericWorker");function o(c){a.call(this,"DataWorker");var l=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(u){l.dataIsReady=!0,l.data=u,l.max=u&&u.length||0,l.type=r.getTypeOf(u),l.isPaused||l._tickAndRepeat()},function(u){l.error(u)})}r.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,l=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,l);break;case"uint8array":c=this.data.subarray(this.index,l);break;case"array":case"nodebuffer":c=this.data.slice(this.index,l)}return this.index=l,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,i){function r(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var c=0;c<this._listeners[a].length;c++)this._listeners[a][c].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(c){o.processChunk(c)}),a.on("end",function(){o.end()}),a.on("error",function(c){o.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=r},{}],29:[function(t,n,i){var r=t("../utils"),a=t("./ConvertWorker"),o=t("./GenericWorker"),c=t("../base64"),l=t("../support"),u=t("../external"),d=null;if(l.nodestream)try{d=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(y,v){return new u.Promise(function(b,_){var x=[],D=y._internalType,A=y._outputType,T=y._mimeType;y.on("data",function(E,F){x.push(E),v&&v(F)}).on("error",function(E){x=[],_(E)}).on("end",function(){try{var E=function(F,I,U){switch(F){case"blob":return r.newBlob(r.transformTo("arraybuffer",I),U);case"base64":return c.encode(I);default:return r.transformTo(F,I)}}(A,function(F,I){var U,L=0,G=null,S=0;for(U=0;U<I.length;U++)S+=I[U].length;switch(F){case"string":return I.join("");case"array":return Array.prototype.concat.apply([],I);case"uint8array":for(G=new Uint8Array(S),U=0;U<I.length;U++)G.set(I[U],L),L+=I[U].length;return G;case"nodebuffer":return Buffer.concat(I);default:throw new Error("concat : unsupported type '"+F+"'")}}(D,x),T);b(E)}catch(F){_(F)}x=[]}).resume()})}function p(y,v,b){var _=v;switch(v){case"blob":case"arraybuffer":_="uint8array";break;case"base64":_="string"}try{this._internalType=_,this._outputType=v,this._mimeType=b,r.checkSupport(_),this._worker=y.pipe(new a(_)),y.lock()}catch(x){this._worker=new o("error"),this._worker.error(x)}}p.prototype={accumulate:function(y){return h(this,y)},on:function(y,v){var b=this;return y==="data"?this._worker.on(y,function(_){v.call(b,_.data,_.meta)}):this._worker.on(y,function(){r.delay(v,arguments,b)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(r.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},y)}},n.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var r=new ArrayBuffer(0);try{i.blob=new Blob([r],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(r),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,i){for(var r=t("./utils"),a=t("./support"),o=t("./nodejsUtils"),c=t("./stream/GenericWorker"),l=new Array(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;l[254]=l[254]=1;function d(){c.call(this,"utf-8 decode"),this.leftOver=null}function h(){c.call(this,"utf-8 encode")}i.utf8encode=function(p){return a.nodebuffer?o.newBufferFrom(p,"utf-8"):function(y){var v,b,_,x,D,A=y.length,T=0;for(x=0;x<A;x++)(64512&(b=y.charCodeAt(x)))==55296&&x+1<A&&(64512&(_=y.charCodeAt(x+1)))==56320&&(b=65536+(b-55296<<10)+(_-56320),x++),T+=b<128?1:b<2048?2:b<65536?3:4;for(v=a.uint8array?new Uint8Array(T):new Array(T),x=D=0;D<T;x++)(64512&(b=y.charCodeAt(x)))==55296&&x+1<A&&(64512&(_=y.charCodeAt(x+1)))==56320&&(b=65536+(b-55296<<10)+(_-56320),x++),b<128?v[D++]=b:(b<2048?v[D++]=192|b>>>6:(b<65536?v[D++]=224|b>>>12:(v[D++]=240|b>>>18,v[D++]=128|b>>>12&63),v[D++]=128|b>>>6&63),v[D++]=128|63&b);return v}(p)},i.utf8decode=function(p){return a.nodebuffer?r.transformTo("nodebuffer",p).toString("utf-8"):function(y){var v,b,_,x,D=y.length,A=new Array(2*D);for(v=b=0;v<D;)if((_=y[v++])<128)A[b++]=_;else if(4<(x=l[_]))A[b++]=65533,v+=x-1;else{for(_&=x===2?31:x===3?15:7;1<x&&v<D;)_=_<<6|63&y[v++],x--;1<x?A[b++]=65533:_<65536?A[b++]=_:(_-=65536,A[b++]=55296|_>>10&1023,A[b++]=56320|1023&_)}return A.length!==b&&(A.subarray?A=A.subarray(0,b):A.length=b),r.applyFromCharCode(A)}(p=r.transformTo(a.uint8array?"uint8array":"array",p))},r.inherits(d,c),d.prototype.processChunk=function(p){var y=r.transformTo(a.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var v=y;(y=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),y.set(v,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var b=function(x,D){var A;for((D=D||x.length)>x.length&&(D=x.length),A=D-1;0<=A&&(192&x[A])==128;)A--;return A<0||A===0?D:A+l[x[A]]>D?A:D}(y),_=y;b!==y.length&&(a.uint8array?(_=y.subarray(0,b),this.leftOver=y.subarray(b,y.length)):(_=y.slice(0,b),this.leftOver=y.slice(b,y.length))),this.push({data:i.utf8decode(_),meta:p.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,r.inherits(h,c),h.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,i){var r=t("./support"),a=t("./base64"),o=t("./nodejsUtils"),c=t("./external");function l(v){return v}function u(v,b){for(var _=0;_<v.length;++_)b[_]=255&v.charCodeAt(_);return b}t("setimmediate"),i.newBlob=function(v,b){i.checkSupport("blob");try{return new Blob([v],{type:b})}catch{try{var _=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return _.append(v),_.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(v,b,_){var x=[],D=0,A=v.length;if(A<=_)return String.fromCharCode.apply(null,v);for(;D<A;)b==="array"||b==="nodebuffer"?x.push(String.fromCharCode.apply(null,v.slice(D,Math.min(D+_,A)))):x.push(String.fromCharCode.apply(null,v.subarray(D,Math.min(D+_,A)))),D+=_;return x.join("")},stringifyByChar:function(v){for(var b="",_=0;_<v.length;_++)b+=String.fromCharCode(v[_]);return b},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function h(v){var b=65536,_=i.getTypeOf(v),x=!0;if(_==="uint8array"?x=d.applyCanBeUsed.uint8array:_==="nodebuffer"&&(x=d.applyCanBeUsed.nodebuffer),x)for(;1<b;)try{return d.stringifyByChunk(v,_,b)}catch{b=Math.floor(b/2)}return d.stringifyByChar(v)}function p(v,b){for(var _=0;_<v.length;_++)b[_]=v[_];return b}i.applyFromCharCode=h;var y={};y.string={string:l,array:function(v){return u(v,new Array(v.length))},arraybuffer:function(v){return y.string.uint8array(v).buffer},uint8array:function(v){return u(v,new Uint8Array(v.length))},nodebuffer:function(v){return u(v,o.allocBuffer(v.length))}},y.array={string:h,array:l,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return o.newBufferFrom(v)}},y.arraybuffer={string:function(v){return h(new Uint8Array(v))},array:function(v){return p(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:l,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return o.newBufferFrom(new Uint8Array(v))}},y.uint8array={string:h,array:function(v){return p(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:l,nodebuffer:function(v){return o.newBufferFrom(v)}},y.nodebuffer={string:h,array:function(v){return p(v,new Array(v.length))},arraybuffer:function(v){return y.nodebuffer.uint8array(v).buffer},uint8array:function(v){return p(v,new Uint8Array(v.length))},nodebuffer:l},i.transformTo=function(v,b){if(b=b||"",!v)return b;i.checkSupport(v);var _=i.getTypeOf(b);return y[_][v](b)},i.resolve=function(v){for(var b=v.split("/"),_=[],x=0;x<b.length;x++){var D=b[x];D==="."||D===""&&x!==0&&x!==b.length-1||(D===".."?_.pop():_.push(D))}return _.join("/")},i.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":r.nodebuffer&&o.isBuffer(v)?"nodebuffer":r.uint8array&&v instanceof Uint8Array?"uint8array":r.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(v){if(!r[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(v){var b,_,x="";for(_=0;_<(v||"").length;_++)x+="\\x"+((b=v.charCodeAt(_))<16?"0":"")+b.toString(16).toUpperCase();return x},i.delay=function(v,b,_){setImmediate(function(){v.apply(_||null,b||[])})},i.inherits=function(v,b){function _(){}_.prototype=b.prototype,v.prototype=new _},i.extend=function(){var v,b,_={};for(v=0;v<arguments.length;v++)for(b in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],b)&&_[b]===void 0&&(_[b]=arguments[v][b]);return _},i.prepareContent=function(v,b,_,x,D){return c.Promise.resolve(b).then(function(A){return r.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new c.Promise(function(T,E){var F=new FileReader;F.onload=function(I){T(I.target.result)},F.onerror=function(I){E(I.target.error)},F.readAsArrayBuffer(A)}):A}).then(function(A){var T=i.getTypeOf(A);return T?(T==="arraybuffer"?A=i.transformTo("uint8array",A):T==="string"&&(D?A=a.decode(A):_&&x!==!0&&(A=function(E){return u(E,r.uint8array?new Uint8Array(E.length):new Array(E.length))}(A))),A):c.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,i){var r=t("./reader/readerFor"),a=t("./utils"),o=t("./signature"),c=t("./zipEntry"),l=t("./support");function u(d){this.files=[],this.loadOptions=d}u.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(h)+", expected "+a.pretty(d)+")")}},isSignature:function(d,h){var p=this.reader.index;this.reader.setIndex(d);var y=this.reader.readString(4)===h;return this.reader.setIndex(p),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),h=l.uint8array?"uint8array":"array",p=a.transformTo(h,d);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,h,p,y=this.zip64EndOfCentralSize-44;0<y;)d=this.reader.readInt(2),h=this.reader.readInt(4),p=this.reader.readData(h),this.zip64ExtensibleData[d]={id:d,length:h,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,h;for(d=0;d<this.files.length;d++)h=this.files[d],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(d=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var h=d;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var y=h-p;if(0<y)this.isSignature(h,o.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(d){this.reader=r(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,i){var r=t("./reader/readerFor"),a=t("./utils"),o=t("./compressedObject"),c=t("./crc32"),l=t("./utf8"),u=t("./compressions"),d=t("./support");function h(p,y){this.options=p,this.loadOptions=y}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var y,v;if(p.skip(22),this.fileNameLength=p.readInt(2),v=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=function(b){for(var _ in u)if(Object.prototype.hasOwnProperty.call(u,_)&&u[_].magic===b)return u[_];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,y,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var y=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(y),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=r(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var y,v,b,_=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<_;)y=p.readInt(2),v=p.readInt(2),b=p.readData(v),this.extraFields[y]={id:y,length:v,value:b};p.setIndex(_)},handleUTF8:function(){var p=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var v=a.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var _=a.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(_)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var y=r(p.value);return y.readInt(1)!==1||c(this.fileName)!==y.readInt(4)?null:l.utf8decode(y.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var y=r(p.value);return y.readInt(1)!==1||c(this.fileComment)!==y.readInt(4)?null:l.utf8decode(y.readData(p.length-5))}return null}},n.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,i){function r(y,v,b){this.name=y,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=v,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var a=t("./stream/StreamHelper"),o=t("./stream/DataWorker"),c=t("./utf8"),l=t("./compressedObject"),u=t("./stream/GenericWorker");r.prototype={internalStream:function(y){var v=null,b="string";try{if(!y)throw new Error("No output type specified.");var _=(b=y.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),v=this._decompressWorker();var x=!this._dataBinary;x&&!_&&(v=v.pipe(new c.Utf8EncodeWorker)),!x&&_&&(v=v.pipe(new c.Utf8DecodeWorker))}catch(D){(v=new u("error")).error(D)}return new a(v,b,"")},async:function(y,v){return this.internalStream(y).accumulate(v)},nodeStream:function(y,v){return this.internalStream(y||"nodebuffer").toNodejsStream(v)},_compressWorker:function(y,v){if(this._data instanceof l&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new c.Utf8EncodeWorker)),l.createWorkerFrom(b,y,v)},_decompressWorker:function(){return this._data instanceof l?this._data.getContentWorker():this._data instanceof u?this._data:new o(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<d.length;p++)r.prototype[d[p]]=h;n.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,i){(function(r){var a,o,c=r.MutationObserver||r.WebKitMutationObserver;if(c){var l=0,u=new c(y),d=r.document.createTextNode("");u.observe(d,{characterData:!0}),a=function(){d.data=l=++l%2}}else if(r.setImmediate||r.MessageChannel===void 0)a="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var v=r.document.createElement("script");v.onreadystatechange=function(){y(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},r.document.documentElement.appendChild(v)}:function(){setTimeout(y,0)};else{var h=new r.MessageChannel;h.port1.onmessage=y,a=function(){h.port2.postMessage(0)}}var p=[];function y(){var v,b;o=!0;for(var _=p.length;_;){for(b=p,p=[],v=-1;++v<_;)b[v]();_=p.length}o=!1}n.exports=function(v){p.push(v)!==1||o||a()}}).call(this,typeof os<"u"?os:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,i){var r=t("immediate");function a(){}var o={},c=["REJECTED"],l=["FULFILLED"],u=["PENDING"];function d(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,_!==a&&v(this,_)}function h(_,x,D){this.promise=_,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof D=="function"&&(this.onRejected=D,this.callRejected=this.otherCallRejected)}function p(_,x,D){r(function(){var A;try{A=x(D)}catch(T){return o.reject(_,T)}A===_?o.reject(_,new TypeError("Cannot resolve promise with itself")):o.resolve(_,A)})}function y(_){var x=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof x=="function")return function(){x.apply(_,arguments)}}function v(_,x){var D=!1;function A(F){D||(D=!0,o.reject(_,F))}function T(F){D||(D=!0,o.resolve(_,F))}var E=b(function(){x(T,A)});E.status==="error"&&A(E.value)}function b(_,x){var D={};try{D.value=_(x),D.status="success"}catch(A){D.status="error",D.value=A}return D}(n.exports=d).prototype.finally=function(_){if(typeof _!="function")return this;var x=this.constructor;return this.then(function(D){return x.resolve(_()).then(function(){return D})},function(D){return x.resolve(_()).then(function(){throw D})})},d.prototype.catch=function(_){return this.then(null,_)},d.prototype.then=function(_,x){if(typeof _!="function"&&this.state===l||typeof x!="function"&&this.state===c)return this;var D=new this.constructor(a);return this.state!==u?p(D,this.state===l?_:x,this.outcome):this.queue.push(new h(D,_,x)),D},h.prototype.callFulfilled=function(_){o.resolve(this.promise,_)},h.prototype.otherCallFulfilled=function(_){p(this.promise,this.onFulfilled,_)},h.prototype.callRejected=function(_){o.reject(this.promise,_)},h.prototype.otherCallRejected=function(_){p(this.promise,this.onRejected,_)},o.resolve=function(_,x){var D=b(y,x);if(D.status==="error")return o.reject(_,D.value);var A=D.value;if(A)v(_,A);else{_.state=l,_.outcome=x;for(var T=-1,E=_.queue.length;++T<E;)_.queue[T].callFulfilled(x)}return _},o.reject=function(_,x){_.state=c,_.outcome=x;for(var D=-1,A=_.queue.length;++D<A;)_.queue[D].callRejected(x);return _},d.resolve=function(_){return _ instanceof this?_:o.resolve(new this(a),_)},d.reject=function(_){var x=new this(a);return o.reject(x,_)},d.all=function(_){var x=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=_.length,A=!1;if(!D)return this.resolve([]);for(var T=new Array(D),E=0,F=-1,I=new this(a);++F<D;)U(_[F],F);return I;function U(L,G){x.resolve(L).then(function(S){T[G]=S,++E!==D||A||(A=!0,o.resolve(I,T))},function(S){A||(A=!0,o.reject(I,S))})}},d.race=function(_){var x=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=_.length,A=!1;if(!D)return this.resolve([]);for(var T=-1,E=new this(a);++T<D;)F=_[T],x.resolve(F).then(function(I){A||(A=!0,o.resolve(E,I))},function(I){A||(A=!0,o.reject(E,I))});var F;return E}},{immediate:36}],38:[function(t,n,i){var r={};(0,t("./lib/utils/common").assign)(r,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,i){var r=t("./zlib/deflate"),a=t("./utils/common"),o=t("./utils/strings"),c=t("./zlib/messages"),l=t("./zlib/zstream"),u=Object.prototype.toString,d=0,h=-1,p=0,y=8;function v(_){if(!(this instanceof v))return new v(_);this.options=a.assign({level:h,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},_||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var D=r.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(D!==d)throw new Error(c[D]);if(x.header&&r.deflateSetHeader(this.strm,x.header),x.dictionary){var A;if(A=typeof x.dictionary=="string"?o.string2buf(x.dictionary):u.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(D=r.deflateSetDictionary(this.strm,A))!==d)throw new Error(c[D]);this._dict_set=!0}}function b(_,x){var D=new v(x);if(D.push(_,!0),D.err)throw D.msg||c[D.err];return D.result}v.prototype.push=function(_,x){var D,A,T=this.strm,E=this.options.chunkSize;if(this.ended)return!1;A=x===~~x?x:x===!0?4:0,typeof _=="string"?T.input=o.string2buf(_):u.call(_)==="[object ArrayBuffer]"?T.input=new Uint8Array(_):T.input=_,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new a.Buf8(E),T.next_out=0,T.avail_out=E),(D=r.deflate(T,A))!==1&&D!==d)return this.onEnd(D),!(this.ended=!0);T.avail_out!==0&&(T.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(T.output,T.next_out))):this.onData(a.shrinkBuf(T.output,T.next_out)))}while((0<T.avail_in||T.avail_out===0)&&D!==1);return A===4?(D=r.deflateEnd(this.strm),this.onEnd(D),this.ended=!0,D===d):A!==2||(this.onEnd(d),!(T.avail_out=0))},v.prototype.onData=function(_){this.chunks.push(_)},v.prototype.onEnd=function(_){_===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},i.Deflate=v,i.deflate=b,i.deflateRaw=function(_,x){return(x=x||{}).raw=!0,b(_,x)},i.gzip=function(_,x){return(x=x||{}).gzip=!0,b(_,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,i){var r=t("./zlib/inflate"),a=t("./utils/common"),o=t("./utils/strings"),c=t("./zlib/constants"),l=t("./zlib/messages"),u=t("./zlib/zstream"),d=t("./zlib/gzheader"),h=Object.prototype.toString;function p(v){if(!(this instanceof p))return new p(v);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},v||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||v&&v.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var _=r.inflateInit2(this.strm,b.windowBits);if(_!==c.Z_OK)throw new Error(l[_]);this.header=new d,r.inflateGetHeader(this.strm,this.header)}function y(v,b){var _=new p(b);if(_.push(v,!0),_.err)throw _.msg||l[_.err];return _.result}p.prototype.push=function(v,b){var _,x,D,A,T,E,F=this.strm,I=this.options.chunkSize,U=this.options.dictionary,L=!1;if(this.ended)return!1;x=b===~~b?b:b===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof v=="string"?F.input=o.binstring2buf(v):h.call(v)==="[object ArrayBuffer]"?F.input=new Uint8Array(v):F.input=v,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new a.Buf8(I),F.next_out=0,F.avail_out=I),(_=r.inflate(F,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&U&&(E=typeof U=="string"?o.string2buf(U):h.call(U)==="[object ArrayBuffer]"?new Uint8Array(U):U,_=r.inflateSetDictionary(this.strm,E)),_===c.Z_BUF_ERROR&&L===!0&&(_=c.Z_OK,L=!1),_!==c.Z_STREAM_END&&_!==c.Z_OK)return this.onEnd(_),!(this.ended=!0);F.next_out&&(F.avail_out!==0&&_!==c.Z_STREAM_END&&(F.avail_in!==0||x!==c.Z_FINISH&&x!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(D=o.utf8border(F.output,F.next_out),A=F.next_out-D,T=o.buf2string(F.output,D),F.next_out=A,F.avail_out=I-A,A&&a.arraySet(F.output,F.output,D,A,0),this.onData(T)):this.onData(a.shrinkBuf(F.output,F.next_out)))),F.avail_in===0&&F.avail_out===0&&(L=!0)}while((0<F.avail_in||F.avail_out===0)&&_!==c.Z_STREAM_END);return _===c.Z_STREAM_END&&(x=c.Z_FINISH),x===c.Z_FINISH?(_=r.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===c.Z_OK):x!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(F.avail_out=0))},p.prototype.onData=function(v){this.chunks.push(v)},p.prototype.onEnd=function(v){v===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Inflate=p,i.inflate=y,i.inflateRaw=function(v,b){return(b=b||{}).raw=!0,y(v,b)},i.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,i){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var u=l.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var d in u)u.hasOwnProperty(d)&&(c[d]=u[d])}}return c},i.shrinkBuf=function(c,l){return c.length===l?c:c.subarray?c.subarray(0,l):(c.length=l,c)};var a={arraySet:function(c,l,u,d,h){if(l.subarray&&c.subarray)c.set(l.subarray(u,u+d),h);else for(var p=0;p<d;p++)c[h+p]=l[u+p]},flattenChunks:function(c){var l,u,d,h,p,y;for(l=d=0,u=c.length;l<u;l++)d+=c[l].length;for(y=new Uint8Array(d),l=h=0,u=c.length;l<u;l++)p=c[l],y.set(p,h),h+=p.length;return y}},o={arraySet:function(c,l,u,d,h){for(var p=0;p<d;p++)c[h+p]=l[u+p]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(r)},{}],42:[function(t,n,i){var r=t("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var c=new r.Buf8(256),l=0;l<256;l++)c[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function u(d,h){if(h<65537&&(d.subarray&&o||!d.subarray&&a))return String.fromCharCode.apply(null,r.shrinkBuf(d,h));for(var p="",y=0;y<h;y++)p+=String.fromCharCode(d[y]);return p}c[254]=c[254]=1,i.string2buf=function(d){var h,p,y,v,b,_=d.length,x=0;for(v=0;v<_;v++)(64512&(p=d.charCodeAt(v)))==55296&&v+1<_&&(64512&(y=d.charCodeAt(v+1)))==56320&&(p=65536+(p-55296<<10)+(y-56320),v++),x+=p<128?1:p<2048?2:p<65536?3:4;for(h=new r.Buf8(x),v=b=0;b<x;v++)(64512&(p=d.charCodeAt(v)))==55296&&v+1<_&&(64512&(y=d.charCodeAt(v+1)))==56320&&(p=65536+(p-55296<<10)+(y-56320),v++),p<128?h[b++]=p:(p<2048?h[b++]=192|p>>>6:(p<65536?h[b++]=224|p>>>12:(h[b++]=240|p>>>18,h[b++]=128|p>>>12&63),h[b++]=128|p>>>6&63),h[b++]=128|63&p);return h},i.buf2binstring=function(d){return u(d,d.length)},i.binstring2buf=function(d){for(var h=new r.Buf8(d.length),p=0,y=h.length;p<y;p++)h[p]=d.charCodeAt(p);return h},i.buf2string=function(d,h){var p,y,v,b,_=h||d.length,x=new Array(2*_);for(p=y=0;p<_;)if((v=d[p++])<128)x[y++]=v;else if(4<(b=c[v]))x[y++]=65533,p+=b-1;else{for(v&=b===2?31:b===3?15:7;1<b&&p<_;)v=v<<6|63&d[p++],b--;1<b?x[y++]=65533:v<65536?x[y++]=v:(v-=65536,x[y++]=55296|v>>10&1023,x[y++]=56320|1023&v)}return u(x,y)},i.utf8border=function(d,h){var p;for((h=h||d.length)>d.length&&(h=d.length),p=h-1;0<=p&&(192&d[p])==128;)p--;return p<0||p===0?h:p+c[d[p]]>h?p:h}},{"./common":41}],43:[function(t,n,i){n.exports=function(r,a,o,c){for(var l=65535&r|0,u=r>>>16&65535|0,d=0;o!==0;){for(o-=d=2e3<o?2e3:o;u=u+(l=l+a[c++]|0)|0,--d;);l%=65521,u%=65521}return l|u<<16|0}},{}],44:[function(t,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,i){var r=function(){for(var a,o=[],c=0;c<256;c++){a=c;for(var l=0;l<8;l++)a=1&a?3988292384^a>>>1:a>>>1;o[c]=a}return o}();n.exports=function(a,o,c,l){var u=r,d=l+c;a^=-1;for(var h=l;h<d;h++)a=a>>>8^u[255&(a^o[h])];return-1^a}},{}],46:[function(t,n,i){var r,a=t("../utils/common"),o=t("./trees"),c=t("./adler32"),l=t("./crc32"),u=t("./messages"),d=0,h=4,p=0,y=-2,v=-1,b=4,_=2,x=8,D=9,A=286,T=30,E=19,F=2*A+1,I=15,U=3,L=258,G=L+U+1,S=42,k=113,w=1,X=2,W=3,P=4;function Z(C,re){return C.msg=u[re],re}function K(C){return(C<<1)-(4<C?9:0)}function oe(C){for(var re=C.length;0<=--re;)C[re]=0}function H(C){var re=C.state,te=re.pending;te>C.avail_out&&(te=C.avail_out),te!==0&&(a.arraySet(C.output,re.pending_buf,re.pending_out,te,C.next_out),C.next_out+=te,re.pending_out+=te,C.total_out+=te,C.avail_out-=te,re.pending-=te,re.pending===0&&(re.pending_out=0))}function Y(C,re){o._tr_flush_block(C,0<=C.block_start?C.block_start:-1,C.strstart-C.block_start,re),C.block_start=C.strstart,H(C.strm)}function Q(C,re){C.pending_buf[C.pending++]=re}function ce(C,re){C.pending_buf[C.pending++]=re>>>8&255,C.pending_buf[C.pending++]=255&re}function le(C,re){var te,V,q=C.max_chain_length,ee=C.strstart,he=C.prev_length,se=C.nice_match,$=C.strstart>C.w_size-G?C.strstart-(C.w_size-G):0,z=C.window,J=C.w_mask,ne=C.prev,ae=C.strstart+L,pe=z[ee+he-1],_e=z[ee+he];C.prev_length>=C.good_match&&(q>>=2),se>C.lookahead&&(se=C.lookahead);do if(z[(te=re)+he]===_e&&z[te+he-1]===pe&&z[te]===z[ee]&&z[++te]===z[ee+1]){ee+=2,te++;do;while(z[++ee]===z[++te]&&z[++ee]===z[++te]&&z[++ee]===z[++te]&&z[++ee]===z[++te]&&z[++ee]===z[++te]&&z[++ee]===z[++te]&&z[++ee]===z[++te]&&z[++ee]===z[++te]&&ee<ae);if(V=L-(ae-ee),ee=ae-L,he<V){if(C.match_start=re,se<=(he=V))break;pe=z[ee+he-1],_e=z[ee+he]}}while((re=ne[re&J])>$&&--q!=0);return he<=C.lookahead?he:C.lookahead}function ve(C){var re,te,V,q,ee,he,se,$,z,J,ne=C.w_size;do{if(q=C.window_size-C.lookahead-C.strstart,C.strstart>=ne+(ne-G)){for(a.arraySet(C.window,C.window,ne,ne,0),C.match_start-=ne,C.strstart-=ne,C.block_start-=ne,re=te=C.hash_size;V=C.head[--re],C.head[re]=ne<=V?V-ne:0,--te;);for(re=te=ne;V=C.prev[--re],C.prev[re]=ne<=V?V-ne:0,--te;);q+=ne}if(C.strm.avail_in===0)break;if(he=C.strm,se=C.window,$=C.strstart+C.lookahead,z=q,J=void 0,J=he.avail_in,z<J&&(J=z),te=J===0?0:(he.avail_in-=J,a.arraySet(se,he.input,he.next_in,J,$),he.state.wrap===1?he.adler=c(he.adler,se,J,$):he.state.wrap===2&&(he.adler=l(he.adler,se,J,$)),he.next_in+=J,he.total_in+=J,J),C.lookahead+=te,C.lookahead+C.insert>=U)for(ee=C.strstart-C.insert,C.ins_h=C.window[ee],C.ins_h=(C.ins_h<<C.hash_shift^C.window[ee+1])&C.hash_mask;C.insert&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[ee+U-1])&C.hash_mask,C.prev[ee&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=ee,ee++,C.insert--,!(C.lookahead+C.insert<U)););}while(C.lookahead<G&&C.strm.avail_in!==0)}function me(C,re){for(var te,V;;){if(C.lookahead<G){if(ve(C),C.lookahead<G&&re===d)return w;if(C.lookahead===0)break}if(te=0,C.lookahead>=U&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+U-1])&C.hash_mask,te=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),te!==0&&C.strstart-te<=C.w_size-G&&(C.match_length=le(C,te)),C.match_length>=U)if(V=o._tr_tally(C,C.strstart-C.match_start,C.match_length-U),C.lookahead-=C.match_length,C.match_length<=C.max_lazy_match&&C.lookahead>=U){for(C.match_length--;C.strstart++,C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+U-1])&C.hash_mask,te=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart,--C.match_length!=0;);C.strstart++}else C.strstart+=C.match_length,C.match_length=0,C.ins_h=C.window[C.strstart],C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+1])&C.hash_mask;else V=o._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++;if(V&&(Y(C,!1),C.strm.avail_out===0))return w}return C.insert=C.strstart<U-1?C.strstart:U-1,re===h?(Y(C,!0),C.strm.avail_out===0?W:P):C.last_lit&&(Y(C,!1),C.strm.avail_out===0)?w:X}function ye(C,re){for(var te,V,q;;){if(C.lookahead<G){if(ve(C),C.lookahead<G&&re===d)return w;if(C.lookahead===0)break}if(te=0,C.lookahead>=U&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+U-1])&C.hash_mask,te=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),C.prev_length=C.match_length,C.prev_match=C.match_start,C.match_length=U-1,te!==0&&C.prev_length<C.max_lazy_match&&C.strstart-te<=C.w_size-G&&(C.match_length=le(C,te),C.match_length<=5&&(C.strategy===1||C.match_length===U&&4096<C.strstart-C.match_start)&&(C.match_length=U-1)),C.prev_length>=U&&C.match_length<=C.prev_length){for(q=C.strstart+C.lookahead-U,V=o._tr_tally(C,C.strstart-1-C.prev_match,C.prev_length-U),C.lookahead-=C.prev_length-1,C.prev_length-=2;++C.strstart<=q&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+U-1])&C.hash_mask,te=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),--C.prev_length!=0;);if(C.match_available=0,C.match_length=U-1,C.strstart++,V&&(Y(C,!1),C.strm.avail_out===0))return w}else if(C.match_available){if((V=o._tr_tally(C,0,C.window[C.strstart-1]))&&Y(C,!1),C.strstart++,C.lookahead--,C.strm.avail_out===0)return w}else C.match_available=1,C.strstart++,C.lookahead--}return C.match_available&&(V=o._tr_tally(C,0,C.window[C.strstart-1]),C.match_available=0),C.insert=C.strstart<U-1?C.strstart:U-1,re===h?(Y(C,!0),C.strm.avail_out===0?W:P):C.last_lit&&(Y(C,!1),C.strm.avail_out===0)?w:X}function xe(C,re,te,V,q){this.good_length=C,this.max_lazy=re,this.nice_length=te,this.max_chain=V,this.func=q}function we(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*F),this.dyn_dtree=new a.Buf16(2*(2*T+1)),this.bl_tree=new a.Buf16(2*(2*E+1)),oe(this.dyn_ltree),oe(this.dyn_dtree),oe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(I+1),this.heap=new a.Buf16(2*A+1),oe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*A+1),oe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ke(C){var re;return C&&C.state?(C.total_in=C.total_out=0,C.data_type=_,(re=C.state).pending=0,re.pending_out=0,re.wrap<0&&(re.wrap=-re.wrap),re.status=re.wrap?S:k,C.adler=re.wrap===2?0:1,re.last_flush=d,o._tr_init(re),p):Z(C,y)}function $e(C){var re=ke(C);return re===p&&function(te){te.window_size=2*te.w_size,oe(te.head),te.max_lazy_match=r[te.level].max_lazy,te.good_match=r[te.level].good_length,te.nice_match=r[te.level].nice_length,te.max_chain_length=r[te.level].max_chain,te.strstart=0,te.block_start=0,te.lookahead=0,te.insert=0,te.match_length=te.prev_length=U-1,te.match_available=0,te.ins_h=0}(C.state),re}function Le(C,re,te,V,q,ee){if(!C)return y;var he=1;if(re===v&&(re=6),V<0?(he=0,V=-V):15<V&&(he=2,V-=16),q<1||D<q||te!==x||V<8||15<V||re<0||9<re||ee<0||b<ee)return Z(C,y);V===8&&(V=9);var se=new we;return(C.state=se).strm=C,se.wrap=he,se.gzhead=null,se.w_bits=V,se.w_size=1<<se.w_bits,se.w_mask=se.w_size-1,se.hash_bits=q+7,se.hash_size=1<<se.hash_bits,se.hash_mask=se.hash_size-1,se.hash_shift=~~((se.hash_bits+U-1)/U),se.window=new a.Buf8(2*se.w_size),se.head=new a.Buf16(se.hash_size),se.prev=new a.Buf16(se.w_size),se.lit_bufsize=1<<q+6,se.pending_buf_size=4*se.lit_bufsize,se.pending_buf=new a.Buf8(se.pending_buf_size),se.d_buf=1*se.lit_bufsize,se.l_buf=3*se.lit_bufsize,se.level=re,se.strategy=ee,se.method=te,$e(C)}r=[new xe(0,0,0,0,function(C,re){var te=65535;for(te>C.pending_buf_size-5&&(te=C.pending_buf_size-5);;){if(C.lookahead<=1){if(ve(C),C.lookahead===0&&re===d)return w;if(C.lookahead===0)break}C.strstart+=C.lookahead,C.lookahead=0;var V=C.block_start+te;if((C.strstart===0||C.strstart>=V)&&(C.lookahead=C.strstart-V,C.strstart=V,Y(C,!1),C.strm.avail_out===0)||C.strstart-C.block_start>=C.w_size-G&&(Y(C,!1),C.strm.avail_out===0))return w}return C.insert=0,re===h?(Y(C,!0),C.strm.avail_out===0?W:P):(C.strstart>C.block_start&&(Y(C,!1),C.strm.avail_out),w)}),new xe(4,4,8,4,me),new xe(4,5,16,8,me),new xe(4,6,32,32,me),new xe(4,4,16,16,ye),new xe(8,16,32,32,ye),new xe(8,16,128,128,ye),new xe(8,32,128,256,ye),new xe(32,128,258,1024,ye),new xe(32,258,258,4096,ye)],i.deflateInit=function(C,re){return Le(C,re,x,15,8,0)},i.deflateInit2=Le,i.deflateReset=$e,i.deflateResetKeep=ke,i.deflateSetHeader=function(C,re){return C&&C.state?C.state.wrap!==2?y:(C.state.gzhead=re,p):y},i.deflate=function(C,re){var te,V,q,ee;if(!C||!C.state||5<re||re<0)return C?Z(C,y):y;if(V=C.state,!C.output||!C.input&&C.avail_in!==0||V.status===666&&re!==h)return Z(C,C.avail_out===0?-5:y);if(V.strm=C,te=V.last_flush,V.last_flush=re,V.status===S)if(V.wrap===2)C.adler=0,Q(V,31),Q(V,139),Q(V,8),V.gzhead?(Q(V,(V.gzhead.text?1:0)+(V.gzhead.hcrc?2:0)+(V.gzhead.extra?4:0)+(V.gzhead.name?8:0)+(V.gzhead.comment?16:0)),Q(V,255&V.gzhead.time),Q(V,V.gzhead.time>>8&255),Q(V,V.gzhead.time>>16&255),Q(V,V.gzhead.time>>24&255),Q(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),Q(V,255&V.gzhead.os),V.gzhead.extra&&V.gzhead.extra.length&&(Q(V,255&V.gzhead.extra.length),Q(V,V.gzhead.extra.length>>8&255)),V.gzhead.hcrc&&(C.adler=l(C.adler,V.pending_buf,V.pending,0)),V.gzindex=0,V.status=69):(Q(V,0),Q(V,0),Q(V,0),Q(V,0),Q(V,0),Q(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),Q(V,3),V.status=k);else{var he=x+(V.w_bits-8<<4)<<8;he|=(2<=V.strategy||V.level<2?0:V.level<6?1:V.level===6?2:3)<<6,V.strstart!==0&&(he|=32),he+=31-he%31,V.status=k,ce(V,he),V.strstart!==0&&(ce(V,C.adler>>>16),ce(V,65535&C.adler)),C.adler=1}if(V.status===69)if(V.gzhead.extra){for(q=V.pending;V.gzindex<(65535&V.gzhead.extra.length)&&(V.pending!==V.pending_buf_size||(V.gzhead.hcrc&&V.pending>q&&(C.adler=l(C.adler,V.pending_buf,V.pending-q,q)),H(C),q=V.pending,V.pending!==V.pending_buf_size));)Q(V,255&V.gzhead.extra[V.gzindex]),V.gzindex++;V.gzhead.hcrc&&V.pending>q&&(C.adler=l(C.adler,V.pending_buf,V.pending-q,q)),V.gzindex===V.gzhead.extra.length&&(V.gzindex=0,V.status=73)}else V.status=73;if(V.status===73)if(V.gzhead.name){q=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>q&&(C.adler=l(C.adler,V.pending_buf,V.pending-q,q)),H(C),q=V.pending,V.pending===V.pending_buf_size)){ee=1;break}ee=V.gzindex<V.gzhead.name.length?255&V.gzhead.name.charCodeAt(V.gzindex++):0,Q(V,ee)}while(ee!==0);V.gzhead.hcrc&&V.pending>q&&(C.adler=l(C.adler,V.pending_buf,V.pending-q,q)),ee===0&&(V.gzindex=0,V.status=91)}else V.status=91;if(V.status===91)if(V.gzhead.comment){q=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>q&&(C.adler=l(C.adler,V.pending_buf,V.pending-q,q)),H(C),q=V.pending,V.pending===V.pending_buf_size)){ee=1;break}ee=V.gzindex<V.gzhead.comment.length?255&V.gzhead.comment.charCodeAt(V.gzindex++):0,Q(V,ee)}while(ee!==0);V.gzhead.hcrc&&V.pending>q&&(C.adler=l(C.adler,V.pending_buf,V.pending-q,q)),ee===0&&(V.status=103)}else V.status=103;if(V.status===103&&(V.gzhead.hcrc?(V.pending+2>V.pending_buf_size&&H(C),V.pending+2<=V.pending_buf_size&&(Q(V,255&C.adler),Q(V,C.adler>>8&255),C.adler=0,V.status=k)):V.status=k),V.pending!==0){if(H(C),C.avail_out===0)return V.last_flush=-1,p}else if(C.avail_in===0&&K(re)<=K(te)&&re!==h)return Z(C,-5);if(V.status===666&&C.avail_in!==0)return Z(C,-5);if(C.avail_in!==0||V.lookahead!==0||re!==d&&V.status!==666){var se=V.strategy===2?function($,z){for(var J;;){if($.lookahead===0&&(ve($),$.lookahead===0)){if(z===d)return w;break}if($.match_length=0,J=o._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++,J&&(Y($,!1),$.strm.avail_out===0))return w}return $.insert=0,z===h?(Y($,!0),$.strm.avail_out===0?W:P):$.last_lit&&(Y($,!1),$.strm.avail_out===0)?w:X}(V,re):V.strategy===3?function($,z){for(var J,ne,ae,pe,_e=$.window;;){if($.lookahead<=L){if(ve($),$.lookahead<=L&&z===d)return w;if($.lookahead===0)break}if($.match_length=0,$.lookahead>=U&&0<$.strstart&&(ne=_e[ae=$.strstart-1])===_e[++ae]&&ne===_e[++ae]&&ne===_e[++ae]){pe=$.strstart+L;do;while(ne===_e[++ae]&&ne===_e[++ae]&&ne===_e[++ae]&&ne===_e[++ae]&&ne===_e[++ae]&&ne===_e[++ae]&&ne===_e[++ae]&&ne===_e[++ae]&&ae<pe);$.match_length=L-(pe-ae),$.match_length>$.lookahead&&($.match_length=$.lookahead)}if($.match_length>=U?(J=o._tr_tally($,1,$.match_length-U),$.lookahead-=$.match_length,$.strstart+=$.match_length,$.match_length=0):(J=o._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++),J&&(Y($,!1),$.strm.avail_out===0))return w}return $.insert=0,z===h?(Y($,!0),$.strm.avail_out===0?W:P):$.last_lit&&(Y($,!1),$.strm.avail_out===0)?w:X}(V,re):r[V.level].func(V,re);if(se!==W&&se!==P||(V.status=666),se===w||se===W)return C.avail_out===0&&(V.last_flush=-1),p;if(se===X&&(re===1?o._tr_align(V):re!==5&&(o._tr_stored_block(V,0,0,!1),re===3&&(oe(V.head),V.lookahead===0&&(V.strstart=0,V.block_start=0,V.insert=0))),H(C),C.avail_out===0))return V.last_flush=-1,p}return re!==h?p:V.wrap<=0?1:(V.wrap===2?(Q(V,255&C.adler),Q(V,C.adler>>8&255),Q(V,C.adler>>16&255),Q(V,C.adler>>24&255),Q(V,255&C.total_in),Q(V,C.total_in>>8&255),Q(V,C.total_in>>16&255),Q(V,C.total_in>>24&255)):(ce(V,C.adler>>>16),ce(V,65535&C.adler)),H(C),0<V.wrap&&(V.wrap=-V.wrap),V.pending!==0?p:1)},i.deflateEnd=function(C){var re;return C&&C.state?(re=C.state.status)!==S&&re!==69&&re!==73&&re!==91&&re!==103&&re!==k&&re!==666?Z(C,y):(C.state=null,re===k?Z(C,-3):p):y},i.deflateSetDictionary=function(C,re){var te,V,q,ee,he,se,$,z,J=re.length;if(!C||!C.state||(ee=(te=C.state).wrap)===2||ee===1&&te.status!==S||te.lookahead)return y;for(ee===1&&(C.adler=c(C.adler,re,J,0)),te.wrap=0,J>=te.w_size&&(ee===0&&(oe(te.head),te.strstart=0,te.block_start=0,te.insert=0),z=new a.Buf8(te.w_size),a.arraySet(z,re,J-te.w_size,te.w_size,0),re=z,J=te.w_size),he=C.avail_in,se=C.next_in,$=C.input,C.avail_in=J,C.next_in=0,C.input=re,ve(te);te.lookahead>=U;){for(V=te.strstart,q=te.lookahead-(U-1);te.ins_h=(te.ins_h<<te.hash_shift^te.window[V+U-1])&te.hash_mask,te.prev[V&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=V,V++,--q;);te.strstart=V,te.lookahead=U-1,ve(te)}return te.strstart+=te.lookahead,te.block_start=te.strstart,te.insert=te.lookahead,te.lookahead=0,te.match_length=te.prev_length=U-1,te.match_available=0,C.next_in=se,C.input=$,C.avail_in=he,te.wrap=ee,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,i){n.exports=function(r,a){var o,c,l,u,d,h,p,y,v,b,_,x,D,A,T,E,F,I,U,L,G,S,k,w,X;o=r.state,c=r.next_in,w=r.input,l=c+(r.avail_in-5),u=r.next_out,X=r.output,d=u-(a-r.avail_out),h=u+(r.avail_out-257),p=o.dmax,y=o.wsize,v=o.whave,b=o.wnext,_=o.window,x=o.hold,D=o.bits,A=o.lencode,T=o.distcode,E=(1<<o.lenbits)-1,F=(1<<o.distbits)-1;e:do{D<15&&(x+=w[c++]<<D,D+=8,x+=w[c++]<<D,D+=8),I=A[x&E];t:for(;;){if(x>>>=U=I>>>24,D-=U,(U=I>>>16&255)===0)X[u++]=65535&I;else{if(!(16&U)){if((64&U)==0){I=A[(65535&I)+(x&(1<<U)-1)];continue t}if(32&U){o.mode=12;break e}r.msg="invalid literal/length code",o.mode=30;break e}L=65535&I,(U&=15)&&(D<U&&(x+=w[c++]<<D,D+=8),L+=x&(1<<U)-1,x>>>=U,D-=U),D<15&&(x+=w[c++]<<D,D+=8,x+=w[c++]<<D,D+=8),I=T[x&F];n:for(;;){if(x>>>=U=I>>>24,D-=U,!(16&(U=I>>>16&255))){if((64&U)==0){I=T[(65535&I)+(x&(1<<U)-1)];continue n}r.msg="invalid distance code",o.mode=30;break e}if(G=65535&I,D<(U&=15)&&(x+=w[c++]<<D,(D+=8)<U&&(x+=w[c++]<<D,D+=8)),p<(G+=x&(1<<U)-1)){r.msg="invalid distance too far back",o.mode=30;break e}if(x>>>=U,D-=U,(U=u-d)<G){if(v<(U=G-U)&&o.sane){r.msg="invalid distance too far back",o.mode=30;break e}if(k=_,(S=0)===b){if(S+=y-U,U<L){for(L-=U;X[u++]=_[S++],--U;);S=u-G,k=X}}else if(b<U){if(S+=y+b-U,(U-=b)<L){for(L-=U;X[u++]=_[S++],--U;);if(S=0,b<L){for(L-=U=b;X[u++]=_[S++],--U;);S=u-G,k=X}}}else if(S+=b-U,U<L){for(L-=U;X[u++]=_[S++],--U;);S=u-G,k=X}for(;2<L;)X[u++]=k[S++],X[u++]=k[S++],X[u++]=k[S++],L-=3;L&&(X[u++]=k[S++],1<L&&(X[u++]=k[S++]))}else{for(S=u-G;X[u++]=X[S++],X[u++]=X[S++],X[u++]=X[S++],2<(L-=3););L&&(X[u++]=X[S++],1<L&&(X[u++]=X[S++]))}break}}break}}while(c<l&&u<h);c-=L=D>>3,x&=(1<<(D-=L<<3))-1,r.next_in=c,r.next_out=u,r.avail_in=c<l?l-c+5:5-(c-l),r.avail_out=u<h?h-u+257:257-(u-h),o.hold=x,o.bits=D}},{}],49:[function(t,n,i){var r=t("../utils/common"),a=t("./adler32"),o=t("./crc32"),c=t("./inffast"),l=t("./inftrees"),u=1,d=2,h=0,p=-2,y=1,v=852,b=592;function _(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function D(S){var k;return S&&S.state?(k=S.state,S.total_in=S.total_out=k.total=0,S.msg="",k.wrap&&(S.adler=1&k.wrap),k.mode=y,k.last=0,k.havedict=0,k.dmax=32768,k.head=null,k.hold=0,k.bits=0,k.lencode=k.lendyn=new r.Buf32(v),k.distcode=k.distdyn=new r.Buf32(b),k.sane=1,k.back=-1,h):p}function A(S){var k;return S&&S.state?((k=S.state).wsize=0,k.whave=0,k.wnext=0,D(S)):p}function T(S,k){var w,X;return S&&S.state?(X=S.state,k<0?(w=0,k=-k):(w=1+(k>>4),k<48&&(k&=15)),k&&(k<8||15<k)?p:(X.window!==null&&X.wbits!==k&&(X.window=null),X.wrap=w,X.wbits=k,A(S))):p}function E(S,k){var w,X;return S?(X=new x,(S.state=X).window=null,(w=T(S,k))!==h&&(S.state=null),w):p}var F,I,U=!0;function L(S){if(U){var k;for(F=new r.Buf32(512),I=new r.Buf32(32),k=0;k<144;)S.lens[k++]=8;for(;k<256;)S.lens[k++]=9;for(;k<280;)S.lens[k++]=7;for(;k<288;)S.lens[k++]=8;for(l(u,S.lens,0,288,F,0,S.work,{bits:9}),k=0;k<32;)S.lens[k++]=5;l(d,S.lens,0,32,I,0,S.work,{bits:5}),U=!1}S.lencode=F,S.lenbits=9,S.distcode=I,S.distbits=5}function G(S,k,w,X){var W,P=S.state;return P.window===null&&(P.wsize=1<<P.wbits,P.wnext=0,P.whave=0,P.window=new r.Buf8(P.wsize)),X>=P.wsize?(r.arraySet(P.window,k,w-P.wsize,P.wsize,0),P.wnext=0,P.whave=P.wsize):(X<(W=P.wsize-P.wnext)&&(W=X),r.arraySet(P.window,k,w-X,W,P.wnext),(X-=W)?(r.arraySet(P.window,k,w-X,X,0),P.wnext=X,P.whave=P.wsize):(P.wnext+=W,P.wnext===P.wsize&&(P.wnext=0),P.whave<P.wsize&&(P.whave+=W))),0}i.inflateReset=A,i.inflateReset2=T,i.inflateResetKeep=D,i.inflateInit=function(S){return E(S,15)},i.inflateInit2=E,i.inflate=function(S,k){var w,X,W,P,Z,K,oe,H,Y,Q,ce,le,ve,me,ye,xe,we,ke,$e,Le,C,re,te,V,q=0,ee=new r.Buf8(4),he=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return p;(w=S.state).mode===12&&(w.mode=13),Z=S.next_out,W=S.output,oe=S.avail_out,P=S.next_in,X=S.input,K=S.avail_in,H=w.hold,Y=w.bits,Q=K,ce=oe,re=h;e:for(;;)switch(w.mode){case y:if(w.wrap===0){w.mode=13;break}for(;Y<16;){if(K===0)break e;K--,H+=X[P++]<<Y,Y+=8}if(2&w.wrap&&H===35615){ee[w.check=0]=255&H,ee[1]=H>>>8&255,w.check=o(w.check,ee,2,0),Y=H=0,w.mode=2;break}if(w.flags=0,w.head&&(w.head.done=!1),!(1&w.wrap)||(((255&H)<<8)+(H>>8))%31){S.msg="incorrect header check",w.mode=30;break}if((15&H)!=8){S.msg="unknown compression method",w.mode=30;break}if(Y-=4,C=8+(15&(H>>>=4)),w.wbits===0)w.wbits=C;else if(C>w.wbits){S.msg="invalid window size",w.mode=30;break}w.dmax=1<<C,S.adler=w.check=1,w.mode=512&H?10:12,Y=H=0;break;case 2:for(;Y<16;){if(K===0)break e;K--,H+=X[P++]<<Y,Y+=8}if(w.flags=H,(255&w.flags)!=8){S.msg="unknown compression method",w.mode=30;break}if(57344&w.flags){S.msg="unknown header flags set",w.mode=30;break}w.head&&(w.head.text=H>>8&1),512&w.flags&&(ee[0]=255&H,ee[1]=H>>>8&255,w.check=o(w.check,ee,2,0)),Y=H=0,w.mode=3;case 3:for(;Y<32;){if(K===0)break e;K--,H+=X[P++]<<Y,Y+=8}w.head&&(w.head.time=H),512&w.flags&&(ee[0]=255&H,ee[1]=H>>>8&255,ee[2]=H>>>16&255,ee[3]=H>>>24&255,w.check=o(w.check,ee,4,0)),Y=H=0,w.mode=4;case 4:for(;Y<16;){if(K===0)break e;K--,H+=X[P++]<<Y,Y+=8}w.head&&(w.head.xflags=255&H,w.head.os=H>>8),512&w.flags&&(ee[0]=255&H,ee[1]=H>>>8&255,w.check=o(w.check,ee,2,0)),Y=H=0,w.mode=5;case 5:if(1024&w.flags){for(;Y<16;){if(K===0)break e;K--,H+=X[P++]<<Y,Y+=8}w.length=H,w.head&&(w.head.extra_len=H),512&w.flags&&(ee[0]=255&H,ee[1]=H>>>8&255,w.check=o(w.check,ee,2,0)),Y=H=0}else w.head&&(w.head.extra=null);w.mode=6;case 6:if(1024&w.flags&&(K<(le=w.length)&&(le=K),le&&(w.head&&(C=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),r.arraySet(w.head.extra,X,P,le,C)),512&w.flags&&(w.check=o(w.check,X,le,P)),K-=le,P+=le,w.length-=le),w.length))break e;w.length=0,w.mode=7;case 7:if(2048&w.flags){if(K===0)break e;for(le=0;C=X[P+le++],w.head&&C&&w.length<65536&&(w.head.name+=String.fromCharCode(C)),C&&le<K;);if(512&w.flags&&(w.check=o(w.check,X,le,P)),K-=le,P+=le,C)break e}else w.head&&(w.head.name=null);w.length=0,w.mode=8;case 8:if(4096&w.flags){if(K===0)break e;for(le=0;C=X[P+le++],w.head&&C&&w.length<65536&&(w.head.comment+=String.fromCharCode(C)),C&&le<K;);if(512&w.flags&&(w.check=o(w.check,X,le,P)),K-=le,P+=le,C)break e}else w.head&&(w.head.comment=null);w.mode=9;case 9:if(512&w.flags){for(;Y<16;){if(K===0)break e;K--,H+=X[P++]<<Y,Y+=8}if(H!==(65535&w.check)){S.msg="header crc mismatch",w.mode=30;break}Y=H=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),S.adler=w.check=0,w.mode=12;break;case 10:for(;Y<32;){if(K===0)break e;K--,H+=X[P++]<<Y,Y+=8}S.adler=w.check=_(H),Y=H=0,w.mode=11;case 11:if(w.havedict===0)return S.next_out=Z,S.avail_out=oe,S.next_in=P,S.avail_in=K,w.hold=H,w.bits=Y,2;S.adler=w.check=1,w.mode=12;case 12:if(k===5||k===6)break e;case 13:if(w.last){H>>>=7&Y,Y-=7&Y,w.mode=27;break}for(;Y<3;){if(K===0)break e;K--,H+=X[P++]<<Y,Y+=8}switch(w.last=1&H,Y-=1,3&(H>>>=1)){case 0:w.mode=14;break;case 1:if(L(w),w.mode=20,k!==6)break;H>>>=2,Y-=2;break e;case 2:w.mode=17;break;case 3:S.msg="invalid block type",w.mode=30}H>>>=2,Y-=2;break;case 14:for(H>>>=7&Y,Y-=7&Y;Y<32;){if(K===0)break e;K--,H+=X[P++]<<Y,Y+=8}if((65535&H)!=(H>>>16^65535)){S.msg="invalid stored block lengths",w.mode=30;break}if(w.length=65535&H,Y=H=0,w.mode=15,k===6)break e;case 15:w.mode=16;case 16:if(le=w.length){if(K<le&&(le=K),oe<le&&(le=oe),le===0)break e;r.arraySet(W,X,P,le,Z),K-=le,P+=le,oe-=le,Z+=le,w.length-=le;break}w.mode=12;break;case 17:for(;Y<14;){if(K===0)break e;K--,H+=X[P++]<<Y,Y+=8}if(w.nlen=257+(31&H),H>>>=5,Y-=5,w.ndist=1+(31&H),H>>>=5,Y-=5,w.ncode=4+(15&H),H>>>=4,Y-=4,286<w.nlen||30<w.ndist){S.msg="too many length or distance symbols",w.mode=30;break}w.have=0,w.mode=18;case 18:for(;w.have<w.ncode;){for(;Y<3;){if(K===0)break e;K--,H+=X[P++]<<Y,Y+=8}w.lens[he[w.have++]]=7&H,H>>>=3,Y-=3}for(;w.have<19;)w.lens[he[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,te={bits:w.lenbits},re=l(0,w.lens,0,19,w.lencode,0,w.work,te),w.lenbits=te.bits,re){S.msg="invalid code lengths set",w.mode=30;break}w.have=0,w.mode=19;case 19:for(;w.have<w.nlen+w.ndist;){for(;xe=(q=w.lencode[H&(1<<w.lenbits)-1])>>>16&255,we=65535&q,!((ye=q>>>24)<=Y);){if(K===0)break e;K--,H+=X[P++]<<Y,Y+=8}if(we<16)H>>>=ye,Y-=ye,w.lens[w.have++]=we;else{if(we===16){for(V=ye+2;Y<V;){if(K===0)break e;K--,H+=X[P++]<<Y,Y+=8}if(H>>>=ye,Y-=ye,w.have===0){S.msg="invalid bit length repeat",w.mode=30;break}C=w.lens[w.have-1],le=3+(3&H),H>>>=2,Y-=2}else if(we===17){for(V=ye+3;Y<V;){if(K===0)break e;K--,H+=X[P++]<<Y,Y+=8}Y-=ye,C=0,le=3+(7&(H>>>=ye)),H>>>=3,Y-=3}else{for(V=ye+7;Y<V;){if(K===0)break e;K--,H+=X[P++]<<Y,Y+=8}Y-=ye,C=0,le=11+(127&(H>>>=ye)),H>>>=7,Y-=7}if(w.have+le>w.nlen+w.ndist){S.msg="invalid bit length repeat",w.mode=30;break}for(;le--;)w.lens[w.have++]=C}}if(w.mode===30)break;if(w.lens[256]===0){S.msg="invalid code -- missing end-of-block",w.mode=30;break}if(w.lenbits=9,te={bits:w.lenbits},re=l(u,w.lens,0,w.nlen,w.lencode,0,w.work,te),w.lenbits=te.bits,re){S.msg="invalid literal/lengths set",w.mode=30;break}if(w.distbits=6,w.distcode=w.distdyn,te={bits:w.distbits},re=l(d,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,te),w.distbits=te.bits,re){S.msg="invalid distances set",w.mode=30;break}if(w.mode=20,k===6)break e;case 20:w.mode=21;case 21:if(6<=K&&258<=oe){S.next_out=Z,S.avail_out=oe,S.next_in=P,S.avail_in=K,w.hold=H,w.bits=Y,c(S,ce),Z=S.next_out,W=S.output,oe=S.avail_out,P=S.next_in,X=S.input,K=S.avail_in,H=w.hold,Y=w.bits,w.mode===12&&(w.back=-1);break}for(w.back=0;xe=(q=w.lencode[H&(1<<w.lenbits)-1])>>>16&255,we=65535&q,!((ye=q>>>24)<=Y);){if(K===0)break e;K--,H+=X[P++]<<Y,Y+=8}if(xe&&(240&xe)==0){for(ke=ye,$e=xe,Le=we;xe=(q=w.lencode[Le+((H&(1<<ke+$e)-1)>>ke)])>>>16&255,we=65535&q,!(ke+(ye=q>>>24)<=Y);){if(K===0)break e;K--,H+=X[P++]<<Y,Y+=8}H>>>=ke,Y-=ke,w.back+=ke}if(H>>>=ye,Y-=ye,w.back+=ye,w.length=we,xe===0){w.mode=26;break}if(32&xe){w.back=-1,w.mode=12;break}if(64&xe){S.msg="invalid literal/length code",w.mode=30;break}w.extra=15&xe,w.mode=22;case 22:if(w.extra){for(V=w.extra;Y<V;){if(K===0)break e;K--,H+=X[P++]<<Y,Y+=8}w.length+=H&(1<<w.extra)-1,H>>>=w.extra,Y-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=23;case 23:for(;xe=(q=w.distcode[H&(1<<w.distbits)-1])>>>16&255,we=65535&q,!((ye=q>>>24)<=Y);){if(K===0)break e;K--,H+=X[P++]<<Y,Y+=8}if((240&xe)==0){for(ke=ye,$e=xe,Le=we;xe=(q=w.distcode[Le+((H&(1<<ke+$e)-1)>>ke)])>>>16&255,we=65535&q,!(ke+(ye=q>>>24)<=Y);){if(K===0)break e;K--,H+=X[P++]<<Y,Y+=8}H>>>=ke,Y-=ke,w.back+=ke}if(H>>>=ye,Y-=ye,w.back+=ye,64&xe){S.msg="invalid distance code",w.mode=30;break}w.offset=we,w.extra=15&xe,w.mode=24;case 24:if(w.extra){for(V=w.extra;Y<V;){if(K===0)break e;K--,H+=X[P++]<<Y,Y+=8}w.offset+=H&(1<<w.extra)-1,H>>>=w.extra,Y-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){S.msg="invalid distance too far back",w.mode=30;break}w.mode=25;case 25:if(oe===0)break e;if(le=ce-oe,w.offset>le){if((le=w.offset-le)>w.whave&&w.sane){S.msg="invalid distance too far back",w.mode=30;break}ve=le>w.wnext?(le-=w.wnext,w.wsize-le):w.wnext-le,le>w.length&&(le=w.length),me=w.window}else me=W,ve=Z-w.offset,le=w.length;for(oe<le&&(le=oe),oe-=le,w.length-=le;W[Z++]=me[ve++],--le;);w.length===0&&(w.mode=21);break;case 26:if(oe===0)break e;W[Z++]=w.length,oe--,w.mode=21;break;case 27:if(w.wrap){for(;Y<32;){if(K===0)break e;K--,H|=X[P++]<<Y,Y+=8}if(ce-=oe,S.total_out+=ce,w.total+=ce,ce&&(S.adler=w.check=w.flags?o(w.check,W,ce,Z-ce):a(w.check,W,ce,Z-ce)),ce=oe,(w.flags?H:_(H))!==w.check){S.msg="incorrect data check",w.mode=30;break}Y=H=0}w.mode=28;case 28:if(w.wrap&&w.flags){for(;Y<32;){if(K===0)break e;K--,H+=X[P++]<<Y,Y+=8}if(H!==(4294967295&w.total)){S.msg="incorrect length check",w.mode=30;break}Y=H=0}w.mode=29;case 29:re=1;break e;case 30:re=-3;break e;case 31:return-4;case 32:default:return p}return S.next_out=Z,S.avail_out=oe,S.next_in=P,S.avail_in=K,w.hold=H,w.bits=Y,(w.wsize||ce!==S.avail_out&&w.mode<30&&(w.mode<27||k!==4))&&G(S,S.output,S.next_out,ce-S.avail_out)?(w.mode=31,-4):(Q-=S.avail_in,ce-=S.avail_out,S.total_in+=Q,S.total_out+=ce,w.total+=ce,w.wrap&&ce&&(S.adler=w.check=w.flags?o(w.check,W,ce,S.next_out-ce):a(w.check,W,ce,S.next_out-ce)),S.data_type=w.bits+(w.last?64:0)+(w.mode===12?128:0)+(w.mode===20||w.mode===15?256:0),(Q==0&&ce===0||k===4)&&re===h&&(re=-5),re)},i.inflateEnd=function(S){if(!S||!S.state)return p;var k=S.state;return k.window&&(k.window=null),S.state=null,h},i.inflateGetHeader=function(S,k){var w;return S&&S.state?(2&(w=S.state).wrap)==0?p:((w.head=k).done=!1,h):p},i.inflateSetDictionary=function(S,k){var w,X=k.length;return S&&S.state?(w=S.state).wrap!==0&&w.mode!==11?p:w.mode===11&&a(1,k,X,0)!==w.check?-3:G(S,k,X,X)?(w.mode=31,-4):(w.havedict=1,h):p},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,i){var r=t("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(u,d,h,p,y,v,b,_){var x,D,A,T,E,F,I,U,L,G=_.bits,S=0,k=0,w=0,X=0,W=0,P=0,Z=0,K=0,oe=0,H=0,Y=null,Q=0,ce=new r.Buf16(16),le=new r.Buf16(16),ve=null,me=0;for(S=0;S<=15;S++)ce[S]=0;for(k=0;k<p;k++)ce[d[h+k]]++;for(W=G,X=15;1<=X&&ce[X]===0;X--);if(X<W&&(W=X),X===0)return y[v++]=20971520,y[v++]=20971520,_.bits=1,0;for(w=1;w<X&&ce[w]===0;w++);for(W<w&&(W=w),S=K=1;S<=15;S++)if(K<<=1,(K-=ce[S])<0)return-1;if(0<K&&(u===0||X!==1))return-1;for(le[1]=0,S=1;S<15;S++)le[S+1]=le[S]+ce[S];for(k=0;k<p;k++)d[h+k]!==0&&(b[le[d[h+k]]++]=k);if(F=u===0?(Y=ve=b,19):u===1?(Y=a,Q-=257,ve=o,me-=257,256):(Y=c,ve=l,-1),S=w,E=v,Z=k=H=0,A=-1,T=(oe=1<<(P=W))-1,u===1&&852<oe||u===2&&592<oe)return 1;for(;;){for(I=S-Z,L=b[k]<F?(U=0,b[k]):b[k]>F?(U=ve[me+b[k]],Y[Q+b[k]]):(U=96,0),x=1<<S-Z,w=D=1<<P;y[E+(H>>Z)+(D-=x)]=I<<24|U<<16|L|0,D!==0;);for(x=1<<S-1;H&x;)x>>=1;if(x!==0?(H&=x-1,H+=x):H=0,k++,--ce[S]==0){if(S===X)break;S=d[h+b[k]]}if(W<S&&(H&T)!==A){for(Z===0&&(Z=W),E+=w,K=1<<(P=S-Z);P+Z<X&&!((K-=ce[P+Z])<=0);)P++,K<<=1;if(oe+=1<<P,u===1&&852<oe||u===2&&592<oe)return 1;y[A=H&T]=W<<24|P<<16|E-v|0}}return H!==0&&(y[E+H]=S-Z<<24|64<<16|0),_.bits=W,0}},{"../utils/common":41}],51:[function(t,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,i){var r=t("../utils/common"),a=0,o=1;function c(q){for(var ee=q.length;0<=--ee;)q[ee]=0}var l=0,u=29,d=256,h=d+1+u,p=30,y=19,v=2*h+1,b=15,_=16,x=7,D=256,A=16,T=17,E=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],I=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=new Array(2*(h+2));c(G);var S=new Array(2*p);c(S);var k=new Array(512);c(k);var w=new Array(256);c(w);var X=new Array(u);c(X);var W,P,Z,K=new Array(p);function oe(q,ee,he,se,$){this.static_tree=q,this.extra_bits=ee,this.extra_base=he,this.elems=se,this.max_length=$,this.has_stree=q&&q.length}function H(q,ee){this.dyn_tree=q,this.max_code=0,this.stat_desc=ee}function Y(q){return q<256?k[q]:k[256+(q>>>7)]}function Q(q,ee){q.pending_buf[q.pending++]=255&ee,q.pending_buf[q.pending++]=ee>>>8&255}function ce(q,ee,he){q.bi_valid>_-he?(q.bi_buf|=ee<<q.bi_valid&65535,Q(q,q.bi_buf),q.bi_buf=ee>>_-q.bi_valid,q.bi_valid+=he-_):(q.bi_buf|=ee<<q.bi_valid&65535,q.bi_valid+=he)}function le(q,ee,he){ce(q,he[2*ee],he[2*ee+1])}function ve(q,ee){for(var he=0;he|=1&q,q>>>=1,he<<=1,0<--ee;);return he>>>1}function me(q,ee,he){var se,$,z=new Array(b+1),J=0;for(se=1;se<=b;se++)z[se]=J=J+he[se-1]<<1;for($=0;$<=ee;$++){var ne=q[2*$+1];ne!==0&&(q[2*$]=ve(z[ne]++,ne))}}function ye(q){var ee;for(ee=0;ee<h;ee++)q.dyn_ltree[2*ee]=0;for(ee=0;ee<p;ee++)q.dyn_dtree[2*ee]=0;for(ee=0;ee<y;ee++)q.bl_tree[2*ee]=0;q.dyn_ltree[2*D]=1,q.opt_len=q.static_len=0,q.last_lit=q.matches=0}function xe(q){8<q.bi_valid?Q(q,q.bi_buf):0<q.bi_valid&&(q.pending_buf[q.pending++]=q.bi_buf),q.bi_buf=0,q.bi_valid=0}function we(q,ee,he,se){var $=2*ee,z=2*he;return q[$]<q[z]||q[$]===q[z]&&se[ee]<=se[he]}function ke(q,ee,he){for(var se=q.heap[he],$=he<<1;$<=q.heap_len&&($<q.heap_len&&we(ee,q.heap[$+1],q.heap[$],q.depth)&&$++,!we(ee,se,q.heap[$],q.depth));)q.heap[he]=q.heap[$],he=$,$<<=1;q.heap[he]=se}function $e(q,ee,he){var se,$,z,J,ne=0;if(q.last_lit!==0)for(;se=q.pending_buf[q.d_buf+2*ne]<<8|q.pending_buf[q.d_buf+2*ne+1],$=q.pending_buf[q.l_buf+ne],ne++,se===0?le(q,$,ee):(le(q,(z=w[$])+d+1,ee),(J=F[z])!==0&&ce(q,$-=X[z],J),le(q,z=Y(--se),he),(J=I[z])!==0&&ce(q,se-=K[z],J)),ne<q.last_lit;);le(q,D,ee)}function Le(q,ee){var he,se,$,z=ee.dyn_tree,J=ee.stat_desc.static_tree,ne=ee.stat_desc.has_stree,ae=ee.stat_desc.elems,pe=-1;for(q.heap_len=0,q.heap_max=v,he=0;he<ae;he++)z[2*he]!==0?(q.heap[++q.heap_len]=pe=he,q.depth[he]=0):z[2*he+1]=0;for(;q.heap_len<2;)z[2*($=q.heap[++q.heap_len]=pe<2?++pe:0)]=1,q.depth[$]=0,q.opt_len--,ne&&(q.static_len-=J[2*$+1]);for(ee.max_code=pe,he=q.heap_len>>1;1<=he;he--)ke(q,z,he);for($=ae;he=q.heap[1],q.heap[1]=q.heap[q.heap_len--],ke(q,z,1),se=q.heap[1],q.heap[--q.heap_max]=he,q.heap[--q.heap_max]=se,z[2*$]=z[2*he]+z[2*se],q.depth[$]=(q.depth[he]>=q.depth[se]?q.depth[he]:q.depth[se])+1,z[2*he+1]=z[2*se+1]=$,q.heap[1]=$++,ke(q,z,1),2<=q.heap_len;);q.heap[--q.heap_max]=q.heap[1],function(_e,ie){var ue,ge,Te,Fe,He,xt,Ct=ie.dyn_tree,Ln=ie.max_code,rd=ie.stat_desc.static_tree,Dc=ie.stat_desc.has_stree,sd=ie.stat_desc.extra_bits,R=ie.stat_desc.extra_base,O=ie.stat_desc.max_length,j=0;for(Fe=0;Fe<=b;Fe++)_e.bl_count[Fe]=0;for(Ct[2*_e.heap[_e.heap_max]+1]=0,ue=_e.heap_max+1;ue<v;ue++)O<(Fe=Ct[2*Ct[2*(ge=_e.heap[ue])+1]+1]+1)&&(Fe=O,j++),Ct[2*ge+1]=Fe,Ln<ge||(_e.bl_count[Fe]++,He=0,R<=ge&&(He=sd[ge-R]),xt=Ct[2*ge],_e.opt_len+=xt*(Fe+He),Dc&&(_e.static_len+=xt*(rd[2*ge+1]+He)));if(j!==0){do{for(Fe=O-1;_e.bl_count[Fe]===0;)Fe--;_e.bl_count[Fe]--,_e.bl_count[Fe+1]+=2,_e.bl_count[O]--,j-=2}while(0<j);for(Fe=O;Fe!==0;Fe--)for(ge=_e.bl_count[Fe];ge!==0;)Ln<(Te=_e.heap[--ue])||(Ct[2*Te+1]!==Fe&&(_e.opt_len+=(Fe-Ct[2*Te+1])*Ct[2*Te],Ct[2*Te+1]=Fe),ge--)}}(q,ee),me(z,pe,q.bl_count)}function C(q,ee,he){var se,$,z=-1,J=ee[1],ne=0,ae=7,pe=4;for(J===0&&(ae=138,pe=3),ee[2*(he+1)+1]=65535,se=0;se<=he;se++)$=J,J=ee[2*(se+1)+1],++ne<ae&&$===J||(ne<pe?q.bl_tree[2*$]+=ne:$!==0?($!==z&&q.bl_tree[2*$]++,q.bl_tree[2*A]++):ne<=10?q.bl_tree[2*T]++:q.bl_tree[2*E]++,z=$,pe=(ne=0)===J?(ae=138,3):$===J?(ae=6,3):(ae=7,4))}function re(q,ee,he){var se,$,z=-1,J=ee[1],ne=0,ae=7,pe=4;for(J===0&&(ae=138,pe=3),se=0;se<=he;se++)if($=J,J=ee[2*(se+1)+1],!(++ne<ae&&$===J)){if(ne<pe)for(;le(q,$,q.bl_tree),--ne!=0;);else $!==0?($!==z&&(le(q,$,q.bl_tree),ne--),le(q,A,q.bl_tree),ce(q,ne-3,2)):ne<=10?(le(q,T,q.bl_tree),ce(q,ne-3,3)):(le(q,E,q.bl_tree),ce(q,ne-11,7));z=$,pe=(ne=0)===J?(ae=138,3):$===J?(ae=6,3):(ae=7,4)}}c(K);var te=!1;function V(q,ee,he,se){ce(q,(l<<1)+(se?1:0),3),function($,z,J,ne){xe($),Q($,J),Q($,~J),r.arraySet($.pending_buf,$.window,z,J,$.pending),$.pending+=J}(q,ee,he)}i._tr_init=function(q){te||(function(){var ee,he,se,$,z,J=new Array(b+1);for($=se=0;$<u-1;$++)for(X[$]=se,ee=0;ee<1<<F[$];ee++)w[se++]=$;for(w[se-1]=$,$=z=0;$<16;$++)for(K[$]=z,ee=0;ee<1<<I[$];ee++)k[z++]=$;for(z>>=7;$<p;$++)for(K[$]=z<<7,ee=0;ee<1<<I[$]-7;ee++)k[256+z++]=$;for(he=0;he<=b;he++)J[he]=0;for(ee=0;ee<=143;)G[2*ee+1]=8,ee++,J[8]++;for(;ee<=255;)G[2*ee+1]=9,ee++,J[9]++;for(;ee<=279;)G[2*ee+1]=7,ee++,J[7]++;for(;ee<=287;)G[2*ee+1]=8,ee++,J[8]++;for(me(G,h+1,J),ee=0;ee<p;ee++)S[2*ee+1]=5,S[2*ee]=ve(ee,5);W=new oe(G,F,d+1,h,b),P=new oe(S,I,0,p,b),Z=new oe(new Array(0),U,0,y,x)}(),te=!0),q.l_desc=new H(q.dyn_ltree,W),q.d_desc=new H(q.dyn_dtree,P),q.bl_desc=new H(q.bl_tree,Z),q.bi_buf=0,q.bi_valid=0,ye(q)},i._tr_stored_block=V,i._tr_flush_block=function(q,ee,he,se){var $,z,J=0;0<q.level?(q.strm.data_type===2&&(q.strm.data_type=function(ne){var ae,pe=4093624447;for(ae=0;ae<=31;ae++,pe>>>=1)if(1&pe&&ne.dyn_ltree[2*ae]!==0)return a;if(ne.dyn_ltree[18]!==0||ne.dyn_ltree[20]!==0||ne.dyn_ltree[26]!==0)return o;for(ae=32;ae<d;ae++)if(ne.dyn_ltree[2*ae]!==0)return o;return a}(q)),Le(q,q.l_desc),Le(q,q.d_desc),J=function(ne){var ae;for(C(ne,ne.dyn_ltree,ne.l_desc.max_code),C(ne,ne.dyn_dtree,ne.d_desc.max_code),Le(ne,ne.bl_desc),ae=y-1;3<=ae&&ne.bl_tree[2*L[ae]+1]===0;ae--);return ne.opt_len+=3*(ae+1)+5+5+4,ae}(q),$=q.opt_len+3+7>>>3,(z=q.static_len+3+7>>>3)<=$&&($=z)):$=z=he+5,he+4<=$&&ee!==-1?V(q,ee,he,se):q.strategy===4||z===$?(ce(q,2+(se?1:0),3),$e(q,G,S)):(ce(q,4+(se?1:0),3),function(ne,ae,pe,_e){var ie;for(ce(ne,ae-257,5),ce(ne,pe-1,5),ce(ne,_e-4,4),ie=0;ie<_e;ie++)ce(ne,ne.bl_tree[2*L[ie]+1],3);re(ne,ne.dyn_ltree,ae-1),re(ne,ne.dyn_dtree,pe-1)}(q,q.l_desc.max_code+1,q.d_desc.max_code+1,J+1),$e(q,q.dyn_ltree,q.dyn_dtree)),ye(q),se&&xe(q)},i._tr_tally=function(q,ee,he){return q.pending_buf[q.d_buf+2*q.last_lit]=ee>>>8&255,q.pending_buf[q.d_buf+2*q.last_lit+1]=255&ee,q.pending_buf[q.l_buf+q.last_lit]=255&he,q.last_lit++,ee===0?q.dyn_ltree[2*he]++:(q.matches++,ee--,q.dyn_ltree[2*(w[he]+d+1)]++,q.dyn_dtree[2*Y(ee)]++),q.last_lit===q.lit_bufsize-1},i._tr_align=function(q){ce(q,2,3),le(q,D,G),function(ee){ee.bi_valid===16?(Q(ee,ee.bi_buf),ee.bi_buf=0,ee.bi_valid=0):8<=ee.bi_valid&&(ee.pending_buf[ee.pending++]=255&ee.bi_buf,ee.bi_buf>>=8,ee.bi_valid-=8)}(q)}},{"../utils/common":41}],53:[function(t,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,i){(function(r){(function(a,o){if(!a.setImmediate){var c,l,u,d,h=1,p={},y=!1,v=a.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(a);b=b&&b.setTimeout?b:a,c={}.toString.call(a.process)==="[object process]"?function(A){process.nextTick(function(){x(A)})}:function(){if(a.postMessage&&!a.importScripts){var A=!0,T=a.onmessage;return a.onmessage=function(){A=!1},a.postMessage("","*"),a.onmessage=T,A}}()?(d="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",D,!1):a.attachEvent("onmessage",D),function(A){a.postMessage(d+A,"*")}):a.MessageChannel?((u=new MessageChannel).port1.onmessage=function(A){x(A.data)},function(A){u.port2.postMessage(A)}):v&&"onreadystatechange"in v.createElement("script")?(l=v.documentElement,function(A){var T=v.createElement("script");T.onreadystatechange=function(){x(A),T.onreadystatechange=null,l.removeChild(T),T=null},l.appendChild(T)}):function(A){setTimeout(x,0,A)},b.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var T=new Array(arguments.length-1),E=0;E<T.length;E++)T[E]=arguments[E+1];var F={callback:A,args:T};return p[h]=F,c(h),h++},b.clearImmediate=_}function _(A){delete p[A]}function x(A){if(y)setTimeout(x,0,A);else{var T=p[A];if(T){y=!0;try{(function(E){var F=E.callback,I=E.args;switch(I.length){case 0:F();break;case 1:F(I[0]);break;case 2:F(I[0],I[1]);break;case 3:F(I[0],I[1],I[2]);break;default:F.apply(o,I)}})(T)}finally{_(A),y=!1}}}}function D(A){A.source===a&&typeof A.data=="string"&&A.data.indexOf(d)===0&&x(+A.data.slice(d.length))}})(typeof self>"u"?r===void 0?this:r:self)}).call(this,typeof os<"u"?os:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}($p)),$p.exports}var c2;function MT(){if(c2)return Uc;c2=1;var s=DM(),e=TM();Uc.openArrayBuffer=t,Uc.splitPath=n,Uc.joinPath=i;function t(r){return e.loadAsync(r).then(function(a){function o(d){return a.file(d)!==null}function c(d,h){return a.file(d).async("uint8array").then(function(p){if(h==="base64")return s.fromByteArray(p);if(h){var y=new TextDecoder(h);return y.decode(p)}else return p})}function l(d,h){a.file(d,h)}function u(){return a.generateAsync({type:"arraybuffer"})}return{exists:o,read:c,write:l,toArrayBuffer:u}})}function n(r){var a=r.lastIndexOf("/");return a===-1?{dirname:"",basename:r}:{dirname:r.substring(0,a),basename:r.substring(a+1)}}function i(){var r=Array.prototype.filter.call(arguments,function(o){return o}),a=[];return r.forEach(function(o){/^\//.test(o)?a=[o]:a.push(o)}),a.join("/")}return Uc}var xd={},Ss={},Ic={},l2;function NT(){if(l2)return Ic;l2=1;var s=At;Ic.Element=t,Ic.element=function(r,a,o){return new t(r,a,o)},Ic.text=function(r){return{type:"text",value:r}};var e={first:function(){return null},firstOrEmpty:function(){return e},attributes:{}};function t(r,a,o){this.type="element",this.name=r,this.attributes=a||{},this.children=o||[]}t.prototype.first=function(r){return s.find(this.children,function(a){return a.name===r})},t.prototype.firstOrEmpty=function(r){return this.first(r)||e},t.prototype.getElementsByTagName=function(r){var a=s.filter(this.children,function(o){return o.name===r});return i(a)},t.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var n={getElementsByTagName:function(r){return i(s.flatten(this.map(function(a){return a.getElementsByTagName(r)},!0)))}};function i(r){return s.extend(r,n)}return Ic}var Xp={},Dd={},Rc={},Gi={},Us={},u2;function Wf(){if(u2)return Us;u2=1;function s(r,a,o){if(o===void 0&&(o=Array.prototype),r&&typeof o.find=="function")return o.find.call(r,a);for(var c=0;c<r.length;c++)if(Object.prototype.hasOwnProperty.call(r,c)){var l=r[c];if(a.call(void 0,l,c,r))return l}}function e(r,a){return a===void 0&&(a=Object),a&&typeof a.freeze=="function"?a.freeze(r):r}function t(r,a){if(r===null||typeof r!="object")throw new TypeError("target is not an object");for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o]);return r}var n=e({HTML:"text/html",isHTML:function(r){return r===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(r){return r===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Us.assign=t,Us.find=s,Us.freeze=e,Us.MIME_TYPE=n,Us.NAMESPACE=i,Us}var d2;function nv(){if(d2)return Gi;d2=1;var s=Wf(),e=s.find,t=s.NAMESPACE;function n(R){return R!==""}function i(R){return R?R.split(/[\t\n\f\r ]+/).filter(n):[]}function r(R,O){return R.hasOwnProperty(O)||(R[O]=!0),R}function a(R){if(!R)return[];var O=i(R);return Object.keys(O.reduce(r,{}))}function o(R){return function(O){return R&&R.indexOf(O)!==-1}}function c(R,O){for(var j in R)Object.prototype.hasOwnProperty.call(R,j)&&(O[j]=R[j])}function l(R,O){var j=R.prototype;if(!(j instanceof O)){let de=function(){};de.prototype=O.prototype,de=new de,c(j,de),R.prototype=j=de}j.constructor!=R&&(typeof R!="function"&&console.error("unknown Class:"+R),j.constructor=R)}var u={},d=u.ELEMENT_NODE=1,h=u.ATTRIBUTE_NODE=2,p=u.TEXT_NODE=3,y=u.CDATA_SECTION_NODE=4,v=u.ENTITY_REFERENCE_NODE=5,b=u.ENTITY_NODE=6,_=u.PROCESSING_INSTRUCTION_NODE=7,x=u.COMMENT_NODE=8,D=u.DOCUMENT_NODE=9,A=u.DOCUMENT_TYPE_NODE=10,T=u.DOCUMENT_FRAGMENT_NODE=11,E=u.NOTATION_NODE=12,F={},I={};F.INDEX_SIZE_ERR=(I[1]="Index size error",1),F.DOMSTRING_SIZE_ERR=(I[2]="DOMString size error",2);var U=F.HIERARCHY_REQUEST_ERR=(I[3]="Hierarchy request error",3);F.WRONG_DOCUMENT_ERR=(I[4]="Wrong document",4),F.INVALID_CHARACTER_ERR=(I[5]="Invalid character",5),F.NO_DATA_ALLOWED_ERR=(I[6]="No data allowed",6),F.NO_MODIFICATION_ALLOWED_ERR=(I[7]="No modification allowed",7);var L=F.NOT_FOUND_ERR=(I[8]="Not found",8);F.NOT_SUPPORTED_ERR=(I[9]="Not supported",9);var G=F.INUSE_ATTRIBUTE_ERR=(I[10]="Attribute in use",10);F.INVALID_STATE_ERR=(I[11]="Invalid state",11),F.SYNTAX_ERR=(I[12]="Syntax error",12),F.INVALID_MODIFICATION_ERR=(I[13]="Invalid modification",13),F.NAMESPACE_ERR=(I[14]="Invalid namespace",14),F.INVALID_ACCESS_ERR=(I[15]="Invalid access",15);function S(R,O){if(O instanceof Error)var j=O;else j=this,Error.call(this,I[R]),this.message=I[R],Error.captureStackTrace&&Error.captureStackTrace(this,S);return j.code=R,O&&(this.message=this.message+": "+O),j}S.prototype=Error.prototype,c(F,S);function k(){}k.prototype={length:0,item:function(R){return R>=0&&R<this.length?this[R]:null},toString:function(R,O){for(var j=[],de=0;de<this.length;de++)Ln(this[de],j,R,O);return j.join("")},filter:function(R){return Array.prototype.filter.call(this,R)},indexOf:function(R){return Array.prototype.indexOf.call(this,R)}};function w(R,O){this._node=R,this._refresh=O,X(this)}function X(R){var O=R._node._inc||R._node.ownerDocument._inc;if(R._inc!==O){var j=R._refresh(R._node);if(sd(R,"length",j.length),!R.$$length||j.length<R.$$length)for(var de=j.length;de in R;de++)Object.prototype.hasOwnProperty.call(R,de)&&delete R[de];c(j,R),R._inc=O}}w.prototype.item=function(R){return X(this),this[R]||null},l(w,k);function W(){}function P(R,O){for(var j=R.length;j--;)if(R[j]===O)return j}function Z(R,O,j,de){if(de?O[P(O,de)]=j:O[O.length++]=j,R){j.ownerElement=R;var De=R.ownerDocument;De&&(de&&ve(De,R,de),le(De,R,j))}}function K(R,O,j){var de=P(O,j);if(de>=0){for(var De=O.length-1;de<De;)O[de]=O[++de];if(O.length=De,R){var Be=R.ownerDocument;Be&&(ve(Be,R,j),j.ownerElement=null)}}else throw new S(L,new Error(R.tagName+"@"+j))}W.prototype={length:0,item:k.prototype.item,getNamedItem:function(R){for(var O=this.length;O--;){var j=this[O];if(j.nodeName==R)return j}},setNamedItem:function(R){var O=R.ownerElement;if(O&&O!=this._ownerElement)throw new S(G);var j=this.getNamedItem(R.nodeName);return Z(this._ownerElement,this,R,j),j},setNamedItemNS:function(R){var O=R.ownerElement,j;if(O&&O!=this._ownerElement)throw new S(G);return j=this.getNamedItemNS(R.namespaceURI,R.localName),Z(this._ownerElement,this,R,j),j},removeNamedItem:function(R){var O=this.getNamedItem(R);return K(this._ownerElement,this,O),O},removeNamedItemNS:function(R,O){var j=this.getNamedItemNS(R,O);return K(this._ownerElement,this,j),j},getNamedItemNS:function(R,O){for(var j=this.length;j--;){var de=this[j];if(de.localName==O&&de.namespaceURI==R)return de}return null}};function oe(){}oe.prototype={hasFeature:function(R,O){return!0},createDocument:function(R,O,j){var de=new ce;if(de.implementation=this,de.childNodes=new k,de.doctype=j||null,j&&de.appendChild(j),O){var De=de.createElementNS(R,O);de.appendChild(De)}return de},createDocumentType:function(R,O,j){var de=new pe;return de.name=R,de.nodeName=R,de.publicId=O||"",de.systemId=j||"",de}};function H(){}H.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(R,O){return ee(this,R,O)},replaceChild:function(R,O){ee(this,R,O,q),O&&this.removeChild(O)},removeChild:function(R){return ye(this,R)},appendChild:function(R){return this.insertBefore(R,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(R){return Dc(this.ownerDocument||this,this,R)},normalize:function(){for(var R=this.firstChild;R;){var O=R.nextSibling;O&&O.nodeType==p&&R.nodeType==p?(this.removeChild(O),R.appendData(O.data)):(R.normalize(),R=O)}},isSupported:function(R,O){return this.ownerDocument.implementation.hasFeature(R,O)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(R){for(var O=this;O;){var j=O._nsMap;if(j){for(var de in j)if(Object.prototype.hasOwnProperty.call(j,de)&&j[de]===R)return de}O=O.nodeType==h?O.ownerDocument:O.parentNode}return null},lookupNamespaceURI:function(R){for(var O=this;O;){var j=O._nsMap;if(j&&Object.prototype.hasOwnProperty.call(j,R))return j[R];O=O.nodeType==h?O.ownerDocument:O.parentNode}return null},isDefaultNamespace:function(R){var O=this.lookupPrefix(R);return O==null}};function Y(R){return R=="<"&&"&lt;"||R==">"&&"&gt;"||R=="&"&&"&amp;"||R=='"'&&"&quot;"||"&#"+R.charCodeAt()+";"}c(u,H),c(u,H.prototype);function Q(R,O){if(O(R))return!0;if(R=R.firstChild)do if(Q(R,O))return!0;while(R=R.nextSibling)}function ce(){this.ownerDocument=this}function le(R,O,j){R&&R._inc++;var de=j.namespaceURI;de===t.XMLNS&&(O._nsMap[j.prefix?j.localName:""]=j.value)}function ve(R,O,j,de){R&&R._inc++;var De=j.namespaceURI;De===t.XMLNS&&delete O._nsMap[j.prefix?j.localName:""]}function me(R,O,j){if(R&&R._inc){R._inc++;var de=O.childNodes;if(j)de[de.length++]=j;else{for(var De=O.firstChild,Be=0;De;)de[Be++]=De,De=De.nextSibling;de.length=Be,delete de[de.length]}}}function ye(R,O){var j=O.previousSibling,de=O.nextSibling;return j?j.nextSibling=de:R.firstChild=de,de?de.previousSibling=j:R.lastChild=j,O.parentNode=null,O.previousSibling=null,O.nextSibling=null,me(R.ownerDocument,R),O}function xe(R){return R&&(R.nodeType===H.DOCUMENT_NODE||R.nodeType===H.DOCUMENT_FRAGMENT_NODE||R.nodeType===H.ELEMENT_NODE)}function we(R){return R&&($e(R)||Le(R)||ke(R)||R.nodeType===H.DOCUMENT_FRAGMENT_NODE||R.nodeType===H.COMMENT_NODE||R.nodeType===H.PROCESSING_INSTRUCTION_NODE)}function ke(R){return R&&R.nodeType===H.DOCUMENT_TYPE_NODE}function $e(R){return R&&R.nodeType===H.ELEMENT_NODE}function Le(R){return R&&R.nodeType===H.TEXT_NODE}function C(R,O){var j=R.childNodes||[];if(e(j,$e)||ke(O))return!1;var de=e(j,ke);return!(O&&de&&j.indexOf(de)>j.indexOf(O))}function re(R,O){var j=R.childNodes||[];function de(Be){return $e(Be)&&Be!==O}if(e(j,de))return!1;var De=e(j,ke);return!(O&&De&&j.indexOf(De)>j.indexOf(O))}function te(R,O,j){if(!xe(R))throw new S(U,"Unexpected parent node type "+R.nodeType);if(j&&j.parentNode!==R)throw new S(L,"child not in parent");if(!we(O)||ke(O)&&R.nodeType!==H.DOCUMENT_NODE)throw new S(U,"Unexpected node type "+O.nodeType+" for parent node type "+R.nodeType)}function V(R,O,j){var de=R.childNodes||[],De=O.childNodes||[];if(O.nodeType===H.DOCUMENT_FRAGMENT_NODE){var Be=De.filter($e);if(Be.length>1||e(De,Le))throw new S(U,"More than one element or text in fragment");if(Be.length===1&&!C(R,j))throw new S(U,"Element in fragment can not be inserted before doctype")}if($e(O)&&!C(R,j))throw new S(U,"Only one element can be added and only after doctype");if(ke(O)){if(e(de,ke))throw new S(U,"Only one doctype is allowed");var gt=e(de,$e);if(j&&de.indexOf(gt)<de.indexOf(j))throw new S(U,"Doctype can only be inserted before an element");if(!j&&gt)throw new S(U,"Doctype can not be appended since element is present")}}function q(R,O,j){var de=R.childNodes||[],De=O.childNodes||[];if(O.nodeType===H.DOCUMENT_FRAGMENT_NODE){var Be=De.filter($e);if(Be.length>1||e(De,Le))throw new S(U,"More than one element or text in fragment");if(Be.length===1&&!re(R,j))throw new S(U,"Element in fragment can not be inserted before doctype")}if($e(O)&&!re(R,j))throw new S(U,"Only one element can be added and only after doctype");if(ke(O)){if(e(de,function(qi){return ke(qi)&&qi!==j}))throw new S(U,"Only one doctype is allowed");var gt=e(de,$e);if(j&&de.indexOf(gt)<de.indexOf(j))throw new S(U,"Doctype can only be inserted before an element")}}function ee(R,O,j,de){te(R,O,j),R.nodeType===H.DOCUMENT_NODE&&(de||V)(R,O,j);var De=O.parentNode;if(De&&De.removeChild(O),O.nodeType===T){var Be=O.firstChild;if(Be==null)return O;var gt=O.lastChild}else Be=gt=O;var dn=j?j.previousSibling:R.lastChild;Be.previousSibling=dn,gt.nextSibling=j,dn?dn.nextSibling=Be:R.firstChild=Be,j==null?R.lastChild=gt:j.previousSibling=gt;do Be.parentNode=R;while(Be!==gt&&(Be=Be.nextSibling));return me(R.ownerDocument||R,R),O.nodeType==T&&(O.firstChild=O.lastChild=null),O}function he(R,O){return O.parentNode&&O.parentNode.removeChild(O),O.parentNode=R,O.previousSibling=R.lastChild,O.nextSibling=null,O.previousSibling?O.previousSibling.nextSibling=O:R.firstChild=O,R.lastChild=O,me(R.ownerDocument,R,O),O}ce.prototype={nodeName:"#document",nodeType:D,doctype:null,documentElement:null,_inc:1,insertBefore:function(R,O){if(R.nodeType==T){for(var j=R.firstChild;j;){var de=j.nextSibling;this.insertBefore(j,O),j=de}return R}return ee(this,R,O),R.ownerDocument=this,this.documentElement===null&&R.nodeType===d&&(this.documentElement=R),R},removeChild:function(R){return this.documentElement==R&&(this.documentElement=null),ye(this,R)},replaceChild:function(R,O){ee(this,R,O,q),R.ownerDocument=this,O&&this.removeChild(O),$e(R)&&(this.documentElement=R)},importNode:function(R,O){return rd(this,R,O)},getElementById:function(R){var O=null;return Q(this.documentElement,function(j){if(j.nodeType==d&&j.getAttribute("id")==R)return O=j,!0}),O},getElementsByClassName:function(R){var O=a(R);return new w(this,function(j){var de=[];return O.length>0&&Q(j.documentElement,function(De){if(De!==j&&De.nodeType===d){var Be=De.getAttribute("class");if(Be){var gt=R===Be;if(!gt){var dn=a(Be);gt=O.every(o(dn))}gt&&de.push(De)}}}),de})},createElement:function(R){var O=new se;O.ownerDocument=this,O.nodeName=R,O.tagName=R,O.localName=R,O.childNodes=new k;var j=O.attributes=new W;return j._ownerElement=O,O},createDocumentFragment:function(){var R=new ge;return R.ownerDocument=this,R.childNodes=new k,R},createTextNode:function(R){var O=new J;return O.ownerDocument=this,O.appendData(R),O},createComment:function(R){var O=new ne;return O.ownerDocument=this,O.appendData(R),O},createCDATASection:function(R){var O=new ae;return O.ownerDocument=this,O.appendData(R),O},createProcessingInstruction:function(R,O){var j=new Te;return j.ownerDocument=this,j.tagName=j.nodeName=j.target=R,j.nodeValue=j.data=O,j},createAttribute:function(R){var O=new $;return O.ownerDocument=this,O.name=R,O.nodeName=R,O.localName=R,O.specified=!0,O},createEntityReference:function(R){var O=new ue;return O.ownerDocument=this,O.nodeName=R,O},createElementNS:function(R,O){var j=new se,de=O.split(":"),De=j.attributes=new W;return j.childNodes=new k,j.ownerDocument=this,j.nodeName=O,j.tagName=O,j.namespaceURI=R,de.length==2?(j.prefix=de[0],j.localName=de[1]):j.localName=O,De._ownerElement=j,j},createAttributeNS:function(R,O){var j=new $,de=O.split(":");return j.ownerDocument=this,j.nodeName=O,j.name=O,j.namespaceURI=R,j.specified=!0,de.length==2?(j.prefix=de[0],j.localName=de[1]):j.localName=O,j}},l(ce,H);function se(){this._nsMap={}}se.prototype={nodeType:d,hasAttribute:function(R){return this.getAttributeNode(R)!=null},getAttribute:function(R){var O=this.getAttributeNode(R);return O&&O.value||""},getAttributeNode:function(R){return this.attributes.getNamedItem(R)},setAttribute:function(R,O){var j=this.ownerDocument.createAttribute(R);j.value=j.nodeValue=""+O,this.setAttributeNode(j)},removeAttribute:function(R){var O=this.getAttributeNode(R);O&&this.removeAttributeNode(O)},appendChild:function(R){return R.nodeType===T?this.insertBefore(R,null):he(this,R)},setAttributeNode:function(R){return this.attributes.setNamedItem(R)},setAttributeNodeNS:function(R){return this.attributes.setNamedItemNS(R)},removeAttributeNode:function(R){return this.attributes.removeNamedItem(R.nodeName)},removeAttributeNS:function(R,O){var j=this.getAttributeNodeNS(R,O);j&&this.removeAttributeNode(j)},hasAttributeNS:function(R,O){return this.getAttributeNodeNS(R,O)!=null},getAttributeNS:function(R,O){var j=this.getAttributeNodeNS(R,O);return j&&j.value||""},setAttributeNS:function(R,O,j){var de=this.ownerDocument.createAttributeNS(R,O);de.value=de.nodeValue=""+j,this.setAttributeNode(de)},getAttributeNodeNS:function(R,O){return this.attributes.getNamedItemNS(R,O)},getElementsByTagName:function(R){return new w(this,function(O){var j=[];return Q(O,function(de){de!==O&&de.nodeType==d&&(R==="*"||de.tagName==R)&&j.push(de)}),j})},getElementsByTagNameNS:function(R,O){return new w(this,function(j){var de=[];return Q(j,function(De){De!==j&&De.nodeType===d&&(R==="*"||De.namespaceURI===R)&&(O==="*"||De.localName==O)&&de.push(De)}),de})}},ce.prototype.getElementsByTagName=se.prototype.getElementsByTagName,ce.prototype.getElementsByTagNameNS=se.prototype.getElementsByTagNameNS,l(se,H);function $(){}$.prototype.nodeType=h,l($,H);function z(){}z.prototype={data:"",substringData:function(R,O){return this.data.substring(R,R+O)},appendData:function(R){R=this.data+R,this.nodeValue=this.data=R,this.length=R.length},insertData:function(R,O){this.replaceData(R,0,O)},appendChild:function(R){throw new Error(I[U])},deleteData:function(R,O){this.replaceData(R,O,"")},replaceData:function(R,O,j){var de=this.data.substring(0,R),De=this.data.substring(R+O);j=de+j+De,this.nodeValue=this.data=j,this.length=j.length}},l(z,H);function J(){}J.prototype={nodeName:"#text",nodeType:p,splitText:function(R){var O=this.data,j=O.substring(R);O=O.substring(0,R),this.data=this.nodeValue=O,this.length=O.length;var de=this.ownerDocument.createTextNode(j);return this.parentNode&&this.parentNode.insertBefore(de,this.nextSibling),de}},l(J,z);function ne(){}ne.prototype={nodeName:"#comment",nodeType:x},l(ne,z);function ae(){}ae.prototype={nodeName:"#cdata-section",nodeType:y},l(ae,z);function pe(){}pe.prototype.nodeType=A,l(pe,H);function _e(){}_e.prototype.nodeType=E,l(_e,H);function ie(){}ie.prototype.nodeType=b,l(ie,H);function ue(){}ue.prototype.nodeType=v,l(ue,H);function ge(){}ge.prototype.nodeName="#document-fragment",ge.prototype.nodeType=T,l(ge,H);function Te(){}Te.prototype.nodeType=_,l(Te,H);function Fe(){}Fe.prototype.serializeToString=function(R,O,j){return He.call(R,O,j)},H.prototype.toString=He;function He(R,O){var j=[],de=this.nodeType==9&&this.documentElement||this,De=de.prefix,Be=de.namespaceURI;if(Be&&De==null){var De=de.lookupPrefix(Be);if(De==null)var gt=[{namespace:Be,prefix:null}]}return Ln(this,j,R,O,gt),j.join("")}function xt(R,O,j){var de=R.prefix||"",De=R.namespaceURI;if(!De||de==="xml"&&De===t.XML||De===t.XMLNS)return!1;for(var Be=j.length;Be--;){var gt=j[Be];if(gt.prefix===de)return gt.namespace!==De}return!0}function Ct(R,O,j){R.push(" ",O,'="',j.replace(/[<>&"\t\n\r]/g,Y),'"')}function Ln(R,O,j,de,De){if(De||(De=[]),de)if(R=de(R),R){if(typeof R=="string"){O.push(R);return}}else return;switch(R.nodeType){case d:var Be=R.attributes,gt=Be.length,Xt=R.firstChild,dn=R.tagName;j=t.isHTML(R.namespaceURI)||j;var qi=dn;if(!j&&!R.prefix&&R.namespaceURI){for(var Rr,Vi=0;Vi<Be.length;Vi++)if(Be.item(Vi).name==="xmlns"){Rr=Be.item(Vi).value;break}if(!Rr)for(var Ts=De.length-1;Ts>=0;Ts--){var As=De[Ts];if(As.prefix===""&&As.namespace===R.namespaceURI){Rr=As.namespace;break}}if(Rr!==R.namespaceURI)for(var Ts=De.length-1;Ts>=0;Ts--){var As=De[Ts];if(As.namespace===R.namespaceURI){As.prefix&&(qi=As.prefix+":"+dn);break}}}O.push("<",qi);for(var Cs=0;Cs<gt;Cs++){var gi=Be.item(Cs);gi.prefix=="xmlns"?De.push({prefix:gi.localName,namespace:gi.value}):gi.nodeName=="xmlns"&&De.push({prefix:"",namespace:gi.value})}for(var Cs=0;Cs<gt;Cs++){var gi=Be.item(Cs);if(xt(gi,j,De)){var Es=gi.prefix||"",Tc=gi.namespaceURI;Ct(O,Es?"xmlns:"+Es:"xmlns",Tc),De.push({prefix:Es,namespace:Tc})}Ln(gi,O,j,de,De)}if(dn===qi&&xt(R,j,De)){var Es=R.prefix||"",Tc=R.namespaceURI;Ct(O,Es?"xmlns:"+Es:"xmlns",Tc),De.push({prefix:Es,namespace:Tc})}if(Xt||j&&!/^(?:meta|link|img|br|hr|input)$/i.test(dn)){if(O.push(">"),j&&/^script$/i.test(dn))for(;Xt;)Xt.data?O.push(Xt.data):Ln(Xt,O,j,de,De.slice()),Xt=Xt.nextSibling;else for(;Xt;)Ln(Xt,O,j,de,De.slice()),Xt=Xt.nextSibling;O.push("</",qi,">")}else O.push("/>");return;case D:case T:for(var Xt=R.firstChild;Xt;)Ln(Xt,O,j,de,De.slice()),Xt=Xt.nextSibling;return;case h:return Ct(O,R.name,R.value);case p:return O.push(R.data.replace(/[<&>]/g,Y));case y:return O.push("<![CDATA[",R.data,"]]>");case x:return O.push("<!--",R.data,"-->");case A:var uv=R.publicId,Za=R.systemId;if(O.push("<!DOCTYPE ",R.name),uv)O.push(" PUBLIC ",uv),Za&&Za!="."&&O.push(" ",Za),O.push(">");else if(Za&&Za!=".")O.push(" SYSTEM ",Za,">");else{var dv=R.internalSubset;dv&&O.push(" [",dv,"]"),O.push(">")}return;case _:return O.push("<?",R.target," ",R.data,"?>");case v:return O.push("&",R.nodeName,";");default:O.push("??",R.nodeName)}}function rd(R,O,j){var de;switch(O.nodeType){case d:de=O.cloneNode(!1),de.ownerDocument=R;case T:break;case h:j=!0;break}if(de||(de=O.cloneNode(!1)),de.ownerDocument=R,de.parentNode=null,j)for(var De=O.firstChild;De;)de.appendChild(rd(R,De,j)),De=De.nextSibling;return de}function Dc(R,O,j){var de=new O.constructor;for(var De in O)if(Object.prototype.hasOwnProperty.call(O,De)){var Be=O[De];typeof Be!="object"&&Be!=de[De]&&(de[De]=Be)}switch(O.childNodes&&(de.childNodes=new k),de.ownerDocument=R,de.nodeType){case d:var gt=O.attributes,dn=de.attributes=new W,qi=gt.length;dn._ownerElement=de;for(var Rr=0;Rr<qi;Rr++)de.setAttributeNode(Dc(R,gt.item(Rr),!0));break;case h:j=!0}if(j)for(var Vi=O.firstChild;Vi;)de.appendChild(Dc(R,Vi,j)),Vi=Vi.nextSibling;return de}function sd(R,O,j){R[O]=j}try{if(Object.defineProperty){let R=function(O){switch(O.nodeType){case d:case T:var j=[];for(O=O.firstChild;O;)O.nodeType!==7&&O.nodeType!==8&&j.push(R(O)),O=O.nextSibling;return j.join("");default:return O.nodeValue}};Object.defineProperty(w.prototype,"length",{get:function(){return X(this),this.$$length}}),Object.defineProperty(H.prototype,"textContent",{get:function(){return R(this)},set:function(O){switch(this.nodeType){case d:case T:for(;this.firstChild;)this.removeChild(this.firstChild);(O||String(O))&&this.appendChild(this.ownerDocument.createTextNode(O));break;default:this.data=O,this.value=O,this.nodeValue=O}}}),sd=function(O,j,de){O["$$"+j]=de}}}catch{}return Gi.DocumentType=pe,Gi.DOMException=S,Gi.DOMImplementation=oe,Gi.Element=se,Gi.Node=H,Gi.NodeList=k,Gi.XMLSerializer=Fe,Gi}var kc={},Yp={},h2;function AM(){return h2||(h2=1,function(s){var e=Wf().freeze;s.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),s.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),s.entityMap=s.HTML_ENTITIES}(Yp)),Yp}var Td={},f2;function CM(){if(f2)return Td;f2=1;var s=Wf().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,t=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),n=new RegExp("^"+e.source+t.source+"*(?::"+e.source+t.source+"*)?$"),i=0,r=1,a=2,o=3,c=4,l=5,u=6,d=7;function h(U,L){this.message=U,this.locator=L,Error.captureStackTrace&&Error.captureStackTrace(this,h)}h.prototype=new Error,h.prototype.name=h.name;function p(){}p.prototype={parse:function(U,L,G){var S=this.domBuilder;S.startDocument(),A(L,L={}),y(U,L,G,S,this.errorHandler),S.endDocument()}};function y(U,L,G,S,k){function w(se){if(se>65535){se-=65536;var $=55296+(se>>10),z=56320+(se&1023);return String.fromCharCode($,z)}else return String.fromCharCode(se)}function X(se){var $=se.slice(1,-1);return Object.hasOwnProperty.call(G,$)?G[$]:$.charAt(0)==="#"?w(parseInt($.substr(1).replace("x","0x"))):(k.error("entity not found:"+se),se)}function W(se){if(se>ce){var $=U.substring(ce,se).replace(/&#?\w+;/g,X);H&&P(ce),S.characters($,0,se-ce),ce=se}}function P(se,$){for(;se>=K&&($=oe.exec(U));)Z=$.index,K=Z+$[0].length,H.lineNumber++;H.columnNumber=se-Z+1}for(var Z=0,K=0,oe=/.*(?:\r\n?|\n)|.*$/g,H=S.locator,Y=[{currentNSMap:L}],Q={},ce=0;;){try{var le=U.indexOf("<",ce);if(le<0){if(!U.substr(ce).match(/^\s*$/)){var ve=S.doc,me=ve.createTextNode(U.substr(ce));ve.appendChild(me),S.currentElement=me}return}switch(le>ce&&W(le),U.charAt(le+1)){case"/":var te=U.indexOf(">",le+3),ye=U.substring(le+2,te).replace(/[ \t\n\r]+$/g,""),xe=Y.pop();te<0?(ye=U.substring(le+2).replace(/[\s<].*/,""),k.error("end tag name: "+ye+" is not complete:"+xe.tagName),te=le+1+ye.length):ye.match(/\s</)&&(ye=ye.replace(/[\s<].*/,""),k.error("end tag name: "+ye+" maybe not complete"),te=le+1+ye.length);var we=xe.localNSMap,ke=xe.tagName==ye,$e=ke||xe.tagName&&xe.tagName.toLowerCase()==ye.toLowerCase();if($e){if(S.endElement(xe.uri,xe.localName,ye),we)for(var Le in we)Object.prototype.hasOwnProperty.call(we,Le)&&S.endPrefixMapping(Le);ke||k.fatalError("end tag name: "+ye+" is not match the current start tagName:"+xe.tagName)}else Y.push(xe);te++;break;case"?":H&&P(le),te=E(U,le,S);break;case"!":H&&P(le),te=T(U,le,S,k);break;default:H&&P(le);var C=new F,re=Y[Y.length-1].currentNSMap,te=b(U,le,C,re,X,k),V=C.length;if(!C.closed&&D(U,te,C.tagName,Q)&&(C.closed=!0,G.nbsp||k.warning("unclosed xml attribute")),H&&V){for(var q=v(H,{}),ee=0;ee<V;ee++){var he=C[ee];P(he.offset),he.locator=v(H,{})}S.locator=q,_(C,S,re)&&Y.push(C),S.locator=H}else _(C,S,re)&&Y.push(C);s.isHTML(C.uri)&&!C.closed?te=x(U,te,C.tagName,X,S):te++}}catch(se){if(se instanceof h)throw se;k.error("element parse error: "+se),te=-1}te>ce?ce=te:W(Math.max(le,ce)+1)}}function v(U,L){return L.lineNumber=U.lineNumber,L.columnNumber=U.columnNumber,L}function b(U,L,G,S,k,w){function X(H,Y,Q){G.attributeNames.hasOwnProperty(H)&&w.fatalError("Attribute "+H+" redefined"),G.addValue(H,Y.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,k),Q)}for(var W,P,Z=++L,K=i;;){var oe=U.charAt(Z);switch(oe){case"=":if(K===r)W=U.slice(L,Z),K=o;else if(K===a)K=o;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(K===o||K===r)if(K===r&&(w.warning('attribute value must after "="'),W=U.slice(L,Z)),L=Z+1,Z=U.indexOf(oe,L),Z>0)P=U.slice(L,Z),X(W,P,L-1),K=l;else throw new Error("attribute value no end '"+oe+"' match");else if(K==c)P=U.slice(L,Z),X(W,P,L),w.warning('attribute "'+W+'" missed start quot('+oe+")!!"),L=Z+1,K=l;else throw new Error('attribute value must after "="');break;case"/":switch(K){case i:G.setTagName(U.slice(L,Z));case l:case u:case d:K=d,G.closed=!0;case c:case r:break;case a:G.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return w.error("unexpected end of input"),K==i&&G.setTagName(U.slice(L,Z)),Z;case">":switch(K){case i:G.setTagName(U.slice(L,Z));case l:case u:case d:break;case c:case r:P=U.slice(L,Z),P.slice(-1)==="/"&&(G.closed=!0,P=P.slice(0,-1));case a:K===a&&(P=W),K==c?(w.warning('attribute "'+P+'" missed quot(")!'),X(W,P,L)):((!s.isHTML(S[""])||!P.match(/^(?:disabled|checked|selected)$/i))&&w.warning('attribute "'+P+'" missed value!! "'+P+'" instead!!'),X(P,P,L));break;case o:throw new Error("attribute value missed!!")}return Z;case"":oe=" ";default:if(oe<=" ")switch(K){case i:G.setTagName(U.slice(L,Z)),K=u;break;case r:W=U.slice(L,Z),K=a;break;case c:var P=U.slice(L,Z);w.warning('attribute "'+P+'" missed quot(")!!'),X(W,P,L);case l:K=u;break}else switch(K){case a:G.tagName,(!s.isHTML(S[""])||!W.match(/^(?:disabled|checked|selected)$/i))&&w.warning('attribute "'+W+'" missed value!! "'+W+'" instead2!!'),X(W,W,L),L=Z,K=r;break;case l:w.warning('attribute space is required"'+W+'"!!');case u:K=r,L=Z;break;case o:K=c,L=Z;break;case d:throw new Error("elements closed character '/' and '>' must be connected to")}}Z++}}function _(U,L,G){for(var S=U.tagName,k=null,oe=U.length;oe--;){var w=U[oe],X=w.qName,W=w.value,H=X.indexOf(":");if(H>0)var P=w.prefix=X.slice(0,H),Z=X.slice(H+1),K=P==="xmlns"&&Z;else Z=X,P=null,K=X==="xmlns"&&"";w.localName=Z,K!==!1&&(k==null&&(k={},A(G,G={})),G[K]=k[K]=W,w.uri=s.XMLNS,L.startPrefixMapping(K,W))}for(var oe=U.length;oe--;){w=U[oe];var P=w.prefix;P&&(P==="xml"&&(w.uri=s.XML),P!=="xmlns"&&(w.uri=G[P||""]))}var H=S.indexOf(":");H>0?(P=U.prefix=S.slice(0,H),Z=U.localName=S.slice(H+1)):(P=null,Z=U.localName=S);var Y=U.uri=G[P||""];if(L.startElement(Y,Z,S,U),U.closed){if(L.endElement(Y,Z,S),k)for(P in k)Object.prototype.hasOwnProperty.call(k,P)&&L.endPrefixMapping(P)}else return U.currentNSMap=G,U.localNSMap=k,!0}function x(U,L,G,S,k){if(/^(?:script|textarea)$/i.test(G)){var w=U.indexOf("</"+G+">",L),X=U.substring(L+1,w);if(/[&<]/.test(X))return/^script$/i.test(G)?(k.characters(X,0,X.length),w):(X=X.replace(/&#?\w+;/g,S),k.characters(X,0,X.length),w)}return L+1}function D(U,L,G,S){var k=S[G];return k==null&&(k=U.lastIndexOf("</"+G+">"),k<L&&(k=U.lastIndexOf("</"+G)),S[G]=k),k<L}function A(U,L){for(var G in U)Object.prototype.hasOwnProperty.call(U,G)&&(L[G]=U[G])}function T(U,L,G,S){var k=U.charAt(L+2);switch(k){case"-":if(U.charAt(L+3)==="-"){var w=U.indexOf("-->",L+4);return w>L?(G.comment(U,L+4,w-L-4),w+3):(S.error("Unclosed comment"),-1)}else return-1;default:if(U.substr(L+3,6)=="CDATA["){var w=U.indexOf("]]>",L+9);return G.startCDATA(),G.characters(U,L+9,w-L-9),G.endCDATA(),w+3}var X=I(U,L),W=X.length;if(W>1&&/!doctype/i.test(X[0][0])){var P=X[1][0],Z=!1,K=!1;W>3&&(/^public$/i.test(X[2][0])?(Z=X[3][0],K=W>4&&X[4][0]):/^system$/i.test(X[2][0])&&(K=X[3][0]));var oe=X[W-1];return G.startDTD(P,Z,K),G.endDTD(),oe.index+oe[0].length}}return-1}function E(U,L,G){var S=U.indexOf("?>",L);if(S){var k=U.substring(L,S).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return k?(k[0].length,G.processingInstruction(k[1],k[2]),S+2):-1}return-1}function F(){this.attributeNames={}}F.prototype={setTagName:function(U){if(!n.test(U))throw new Error("invalid tagName:"+U);this.tagName=U},addValue:function(U,L,G){if(!n.test(U))throw new Error("invalid attribute:"+U);this.attributeNames[U]=this.length,this[this.length++]={qName:U,value:L,offset:G}},length:0,getLocalName:function(U){return this[U].localName},getLocator:function(U){return this[U].locator},getQName:function(U){return this[U].qName},getURI:function(U){return this[U].uri},getValue:function(U){return this[U].value}};function I(U,L){var G,S=[],k=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(k.lastIndex=L,k.exec(U);G=k.exec(U);)if(S.push(G),G[1])return S}return Td.XMLReader=p,Td.ParseError=h,Td}var p2;function EM(){if(p2)return kc;p2=1;var s=Wf(),e=nv(),t=AM(),n=CM(),i=e.DOMImplementation,r=s.NAMESPACE,a=n.ParseError,o=n.XMLReader;function c(b){return b.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function l(b){this.options=b||{locator:{}}}l.prototype.parseFromString=function(b,_){var x=this.options,D=new o,A=x.domBuilder||new d,T=x.errorHandler,E=x.locator,F=x.xmlns||{},I=/\/x?html?$/.test(_),U=I?t.HTML_ENTITIES:t.XML_ENTITIES;E&&A.setDocumentLocator(E),D.errorHandler=u(T,A,E),D.domBuilder=x.domBuilder||A,I&&(F[""]=r.HTML),F.xml=F.xml||r.XML;var L=x.normalizeLineEndings||c;return b&&typeof b=="string"?D.parse(L(b),F,U):D.errorHandler.error("invalid doc source"),A.doc};function u(b,_,x){if(!b){if(_ instanceof d)return _;b=_}var D={},A=b instanceof Function;x=x||{};function T(E){var F=b[E];!F&&A&&(F=b.length==2?function(I){b(E,I)}:b),D[E]=F&&function(I){F("[xmldom "+E+"]	"+I+p(x))}||function(){}}return T("warning"),T("error"),T("fatalError"),D}function d(){this.cdata=!1}function h(b,_){_.lineNumber=b.lineNumber,_.columnNumber=b.columnNumber}d.prototype={startDocument:function(){this.doc=new i().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(b,_,x,D){var A=this.doc,T=A.createElementNS(b,x||_),E=D.length;v(this,T),this.currentElement=T,this.locator&&h(this.locator,T);for(var F=0;F<E;F++){var b=D.getURI(F),I=D.getValue(F),x=D.getQName(F),U=A.createAttributeNS(b,x);this.locator&&h(D.getLocator(F),U),U.value=U.nodeValue=I,T.setAttributeNode(U)}},endElement:function(b,_,x){var D=this.currentElement;D.tagName,this.currentElement=D.parentNode},startPrefixMapping:function(b,_){},endPrefixMapping:function(b){},processingInstruction:function(b,_){var x=this.doc.createProcessingInstruction(b,_);this.locator&&h(this.locator,x),v(this,x)},ignorableWhitespace:function(b,_,x){},characters:function(b,_,x){if(b=y.apply(this,arguments),b){if(this.cdata)var D=this.doc.createCDATASection(b);else var D=this.doc.createTextNode(b);this.currentElement?this.currentElement.appendChild(D):/^\s*$/.test(b)&&this.doc.appendChild(D),this.locator&&h(this.locator,D)}},skippedEntity:function(b){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(b){(this.locator=b)&&(b.lineNumber=0)},comment:function(b,_,x){b=y.apply(this,arguments);var D=this.doc.createComment(b);this.locator&&h(this.locator,D),v(this,D)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(b,_,x){var D=this.doc.implementation;if(D&&D.createDocumentType){var A=D.createDocumentType(b,_,x);this.locator&&h(this.locator,A),v(this,A),this.doc.doctype=A}},warning:function(b){console.warn("[xmldom warning]	"+b,p(this.locator))},error:function(b){console.error("[xmldom error]	"+b,p(this.locator))},fatalError:function(b){throw new a(b,this.locator)}};function p(b){if(b)return`
@`+(b.systemId||"")+"#[line:"+b.lineNumber+",col:"+b.columnNumber+"]"}function y(b,_,x){return typeof b=="string"?b.substr(_,x):b.length>=_+x||_?new java.lang.String(b,_,x)+"":b}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(b){d.prototype[b]=function(){return null}});function v(b,_){b.currentElement?b.currentElement.appendChild(_):b.doc.appendChild(_)}return kc.__DOMHandler=d,kc.normalizeLineEndings=c,kc.DOMParser=l,kc}var g2;function wM(){if(g2)return Rc;g2=1;var s=nv();return Rc.DOMImplementation=s.DOMImplementation,Rc.XMLSerializer=s.XMLSerializer,Rc.DOMParser=EM().DOMParser,Rc}var m2;function SM(){if(m2)return Dd;m2=1;var s=wM(),e=nv();function t(n){var i=null,r=new s.DOMParser({errorHandler:function(o,c){i={level:o,message:c}}}),a=r.parseFromString(n);if(i===null)return a;throw new Error(i.level+": "+i.message)}return Dd.parseFromString=t,Dd.Node=e.Node,Dd}var y2;function UM(){if(y2)return Xp;y2=1;var s=xs(),e=At,t=SM(),n=NT(),i=n.Element;Xp.readString=a;var r=t.Node;function a(o,c){c=c||{};try{var l=t.parseFromString(o,"text/xml")}catch(p){return s.reject(p)}if(l.documentElement.tagName==="parsererror")return s.resolve(new Error(l.documentElement.textContent));function u(p){switch(p.nodeType){case r.ELEMENT_NODE:return d(p);case r.TEXT_NODE:return n.text(p.nodeValue)}}function d(p){var y=h(p),v=[];e.forEach(p.childNodes,function(_){var x=u(_);x&&v.push(x)});var b={};return e.forEach(p.attributes,function(_){b[h(_)]=_.value}),new i(y,b,v)}function h(p){if(p.namespaceURI){var y=c[p.namespaceURI],v;return y?v=y+":":v="{"+p.namespaceURI+"}",v+p.localName}else return p.localName}return s.resolve(u(l.documentElement))}return Xp}var Kp={},Fs={},yi={},v2;function Ds(){return v2||(v2=1,(function(){var s,e,t,n,i,r,a,o=[].slice,c={}.hasOwnProperty;s=function(){var l,u,d,h,p,y;if(y=arguments[0],p=2<=arguments.length?o.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(l=0,d=p.length;l<d;l++)if(h=p[l],h!=null)for(u in h)c.call(h,u)&&(y[u]=h[u]);return y},i=function(l){return!!l&&Object.prototype.toString.call(l)==="[object Function]"},r=function(l){var u;return!!l&&((u=typeof l)=="function"||u==="object")},t=function(l){return i(Array.isArray)?Array.isArray(l):Object.prototype.toString.call(l)==="[object Array]"},n=function(l){var u;if(t(l))return!l.length;for(u in l)if(c.call(l,u))return!1;return!0},a=function(l){var u,d;return r(l)&&(d=Object.getPrototypeOf(l))&&(u=d.constructor)&&typeof u=="function"&&u instanceof u&&Function.prototype.toString.call(u)===Function.prototype.toString.call(Object)},e=function(l){return i(l.valueOf)?l.valueOf():l},yi.assign=s,yi.isFunction=i,yi.isObject=r,yi.isArray=t,yi.isEmpty=n,yi.isPlainObject=a,yi.getValue=e}).call(yi)),yi}var oh={exports:{}},ch={exports:{}},lh={exports:{}},uh={exports:{}},FM=uh.exports,b2;function PT(){return b2||(b2=1,(function(){uh.exports=function(){function s(e,t,n){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,t==null)throw new Error("Missing attribute name. "+this.debugInfo(t));if(n==null)throw new Error("Missing attribute value. "+this.debugInfo(t));this.name=this.stringify.attName(t),this.value=this.stringify.attValue(n)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},s.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},s}()}).call(FM)),uh.exports}var IM=lh.exports,_2;function qf(){return _2||(_2=1,(function(){var s,e,t,n,i,r,a=function(c,l){for(var u in l)o.call(l,u)&&(c[u]=l[u]);function d(){this.constructor=c}return d.prototype=l.prototype,c.prototype=new d,c.__super__=l.prototype,c},o={}.hasOwnProperty;r=Ds(),i=r.isObject,n=r.isFunction,t=r.getValue,e=Dn(),s=PT(),lh.exports=function(c){a(l,c);function l(u,d,h){if(l.__super__.constructor.call(this,u),d==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(d),this.attributes={},h!=null&&this.attribute(h),u.isDocument&&(this.isRoot=!0,this.documentObject=u,u.rootObject=this)}return l.prototype.clone=function(){var u,d,h,p;h=Object.create(this),h.isRoot&&(h.documentObject=null),h.attributes={},p=this.attributes;for(d in p)o.call(p,d)&&(u=p[d],h.attributes[d]=u.clone());return h.children=[],this.children.forEach(function(y){var v;return v=y.clone(),v.parent=h,h.children.push(v)}),h},l.prototype.attribute=function(u,d){var h,p;if(u!=null&&(u=t(u)),i(u))for(h in u)o.call(u,h)&&(p=u[h],this.attribute(h,p));else n(d)&&(d=d.apply()),(!this.options.skipNullAttributes||d!=null)&&(this.attributes[u]=new s(this,u,d));return this},l.prototype.removeAttribute=function(u){var d,h,p;if(u==null)throw new Error("Missing attribute name. "+this.debugInfo());if(u=t(u),Array.isArray(u))for(h=0,p=u.length;h<p;h++)d=u[h],delete this.attributes[d];else delete this.attributes[u];return this},l.prototype.toString=function(u){return this.options.writer.set(u).element(this)},l.prototype.att=function(u,d){return this.attribute(u,d)},l.prototype.a=function(u,d){return this.attribute(u,d)},l}(e)}).call(IM)),lh.exports}var dh={exports:{}},RM=dh.exports,x2;function Vf(){return x2||(x2=1,(function(){var s,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function a(){this.constructor=n}return a.prototype=i.prototype,n.prototype=new a,n.__super__=i.prototype,n},t={}.hasOwnProperty;s=Dn(),dh.exports=function(n){e(i,n);function i(r,a){if(i.__super__.constructor.call(this,r),a==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(r){return this.options.writer.set(r).cdata(this)},i}(s)}).call(RM)),dh.exports}var hh={exports:{}},kM=hh.exports,D2;function zf(){return D2||(D2=1,(function(){var s,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function a(){this.constructor=n}return a.prototype=i.prototype,n.prototype=new a,n.__super__=i.prototype,n},t={}.hasOwnProperty;s=Dn(),hh.exports=function(n){e(i,n);function i(r,a){if(i.__super__.constructor.call(this,r),a==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(r){return this.options.writer.set(r).comment(this)},i}(s)}).call(kM)),hh.exports}var fh={exports:{}},MM=fh.exports,T2;function Hf(){return T2||(T2=1,(function(){var s,e,t=function(i,r){for(var a in r)n.call(r,a)&&(i[a]=r[a]);function o(){this.constructor=i}return o.prototype=r.prototype,i.prototype=new o,i.__super__=r.prototype,i},n={}.hasOwnProperty;e=Ds().isObject,s=Dn(),fh.exports=function(i){t(r,i);function r(a,o,c,l){var u;r.__super__.constructor.call(this,a),e(o)&&(u=o,o=u.version,c=u.encoding,l=u.standalone),o||(o="1.0"),this.version=this.stringify.xmlVersion(o),c!=null&&(this.encoding=this.stringify.xmlEncoding(c)),l!=null&&(this.standalone=this.stringify.xmlStandalone(l))}return r.prototype.toString=function(a){return this.options.writer.set(a).declaration(this)},r}(s)}).call(MM)),fh.exports}var ph={exports:{}},gh={exports:{}},NM=gh.exports,A2;function Gf(){return A2||(A2=1,(function(){var s,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function a(){this.constructor=n}return a.prototype=i.prototype,n.prototype=new a,n.__super__=i.prototype,n},t={}.hasOwnProperty;s=Dn(),gh.exports=function(n){e(i,n);function i(r,a,o,c,l,u){if(i.__super__.constructor.call(this,r),a==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(o==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(a));if(!c)throw new Error("Missing DTD attribute type. "+this.debugInfo(a));if(!l)throw new Error("Missing DTD attribute default. "+this.debugInfo(a));if(l.indexOf("#")!==0&&(l="#"+l),!l.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(a));if(u&&!l.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(a));this.elementName=this.stringify.eleName(a),this.attributeName=this.stringify.attName(o),this.attributeType=this.stringify.dtdAttType(c),this.defaultValue=this.stringify.dtdAttDefault(u),this.defaultValueType=l}return i.prototype.toString=function(r){return this.options.writer.set(r).dtdAttList(this)},i}(s)}).call(NM)),gh.exports}var mh={exports:{}},PM=mh.exports,C2;function $f(){return C2||(C2=1,(function(){var s,e,t=function(i,r){for(var a in r)n.call(r,a)&&(i[a]=r[a]);function o(){this.constructor=i}return o.prototype=r.prototype,i.prototype=new o,i.__super__=r.prototype,i},n={}.hasOwnProperty;e=Ds().isObject,s=Dn(),mh.exports=function(i){t(r,i);function r(a,o,c,l){if(r.__super__.constructor.call(this,a),c==null)throw new Error("Missing DTD entity name. "+this.debugInfo(c));if(l==null)throw new Error("Missing DTD entity value. "+this.debugInfo(c));if(this.pe=!!o,this.name=this.stringify.eleName(c),!e(l))this.value=this.stringify.dtdEntityValue(l);else{if(!l.pubID&&!l.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(c));if(l.pubID&&!l.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(c));if(l.pubID!=null&&(this.pubID=this.stringify.dtdPubID(l.pubID)),l.sysID!=null&&(this.sysID=this.stringify.dtdSysID(l.sysID)),l.nData!=null&&(this.nData=this.stringify.dtdNData(l.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(c))}}return r.prototype.toString=function(a){return this.options.writer.set(a).dtdEntity(this)},r}(s)}).call(PM)),mh.exports}var yh={exports:{}},LM=yh.exports,E2;function Xf(){return E2||(E2=1,(function(){var s,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function a(){this.constructor=n}return a.prototype=i.prototype,n.prototype=new a,n.__super__=i.prototype,n},t={}.hasOwnProperty;s=Dn(),yh.exports=function(n){e(i,n);function i(r,a,o){if(i.__super__.constructor.call(this,r),a==null)throw new Error("Missing DTD element name. "+this.debugInfo());o||(o="(#PCDATA)"),Array.isArray(o)&&(o="("+o.join(",")+")"),this.name=this.stringify.eleName(a),this.value=this.stringify.dtdElementValue(o)}return i.prototype.toString=function(r){return this.options.writer.set(r).dtdElement(this)},i}(s)}).call(LM)),yh.exports}var vh={exports:{}},BM=vh.exports,w2;function Yf(){return w2||(w2=1,(function(){var s,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function a(){this.constructor=n}return a.prototype=i.prototype,n.prototype=new a,n.__super__=i.prototype,n},t={}.hasOwnProperty;s=Dn(),vh.exports=function(n){e(i,n);function i(r,a,o){if(i.__super__.constructor.call(this,r),a==null)throw new Error("Missing DTD notation name. "+this.debugInfo(a));if(!o.pubID&&!o.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(a));this.name=this.stringify.eleName(a),o.pubID!=null&&(this.pubID=this.stringify.dtdPubID(o.pubID)),o.sysID!=null&&(this.sysID=this.stringify.dtdSysID(o.sysID))}return i.prototype.toString=function(r){return this.options.writer.set(r).dtdNotation(this)},i}(s)}).call(BM)),vh.exports}var OM=ph.exports,S2;function Kf(){return S2||(S2=1,(function(){var s,e,t,n,i,r,a=function(c,l){for(var u in l)o.call(l,u)&&(c[u]=l[u]);function d(){this.constructor=c}return d.prototype=l.prototype,c.prototype=new d,c.__super__=l.prototype,c},o={}.hasOwnProperty;r=Ds().isObject,i=Dn(),s=Gf(),t=$f(),e=Xf(),n=Yf(),ph.exports=function(c){a(l,c);function l(u,d,h){var p,y;l.__super__.constructor.call(this,u),this.name="!DOCTYPE",this.documentObject=u,r(d)&&(p=d,d=p.pubID,h=p.sysID),h==null&&(y=[d,h],h=y[0],d=y[1]),d!=null&&(this.pubID=this.stringify.dtdPubID(d)),h!=null&&(this.sysID=this.stringify.dtdSysID(h))}return l.prototype.element=function(u,d){var h;return h=new e(this,u,d),this.children.push(h),this},l.prototype.attList=function(u,d,h,p,y){var v;return v=new s(this,u,d,h,p,y),this.children.push(v),this},l.prototype.entity=function(u,d){var h;return h=new t(this,!1,u,d),this.children.push(h),this},l.prototype.pEntity=function(u,d){var h;return h=new t(this,!0,u,d),this.children.push(h),this},l.prototype.notation=function(u,d){var h;return h=new n(this,u,d),this.children.push(h),this},l.prototype.toString=function(u){return this.options.writer.set(u).docType(this)},l.prototype.ele=function(u,d){return this.element(u,d)},l.prototype.att=function(u,d,h,p,y){return this.attList(u,d,h,p,y)},l.prototype.ent=function(u,d){return this.entity(u,d)},l.prototype.pent=function(u,d){return this.pEntity(u,d)},l.prototype.not=function(u,d){return this.notation(u,d)},l.prototype.up=function(){return this.root()||this.documentObject},l}(i)}).call(OM)),ph.exports}var bh={exports:{}},WM=bh.exports,U2;function Zf(){return U2||(U2=1,(function(){var s,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function a(){this.constructor=n}return a.prototype=i.prototype,n.prototype=new a,n.__super__=i.prototype,n},t={}.hasOwnProperty;s=Dn(),bh.exports=function(n){e(i,n);function i(r,a){if(i.__super__.constructor.call(this,r),a==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(r){return this.options.writer.set(r).raw(this)},i}(s)}).call(WM)),bh.exports}var _h={exports:{}},qM=_h.exports,F2;function Jf(){return F2||(F2=1,(function(){var s,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function a(){this.constructor=n}return a.prototype=i.prototype,n.prototype=new a,n.__super__=i.prototype,n},t={}.hasOwnProperty;s=Dn(),_h.exports=function(n){e(i,n);function i(r,a){if(i.__super__.constructor.call(this,r),a==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(r){return this.options.writer.set(r).text(this)},i}(s)}).call(qM)),_h.exports}var xh={exports:{}},VM=xh.exports,I2;function Qf(){return I2||(I2=1,(function(){var s,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function a(){this.constructor=n}return a.prototype=i.prototype,n.prototype=new a,n.__super__=i.prototype,n},t={}.hasOwnProperty;s=Dn(),xh.exports=function(n){e(i,n);function i(r,a,o){if(i.__super__.constructor.call(this,r),a==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(a),o&&(this.value=this.stringify.insValue(o))}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(r){return this.options.writer.set(r).processingInstruction(this)},i}(s)}).call(VM)),xh.exports}var Dh={exports:{}},zM=Dh.exports,R2;function iv(){return R2||(R2=1,(function(){var s,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function a(){this.constructor=n}return a.prototype=i.prototype,n.prototype=new a,n.__super__=i.prototype,n},t={}.hasOwnProperty;s=Dn(),Dh.exports=function(n){e(i,n);function i(r){i.__super__.constructor.call(this,r),this.isDummy=!0}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(r){return""},i}(s)}).call(zM)),Dh.exports}var HM=ch.exports,k2;function Dn(){return k2||(k2=1,(function(){var s,e,t,n,i,r,a,o,c,l,u,d,h,p,y={}.hasOwnProperty;p=Ds(),h=p.isObject,d=p.isFunction,u=p.isEmpty,l=p.getValue,r=null,s=null,e=null,t=null,n=null,o=null,c=null,a=null,i=null,ch.exports=function(){function v(b){this.parent=b,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],r||(r=qf(),s=Vf(),e=zf(),t=Hf(),n=Kf(),o=Zf(),c=Jf(),a=Qf(),i=iv())}return v.prototype.element=function(b,_,x){var D,A,T,E,F,I,U,L,G,S,k;if(I=null,_===null&&x==null&&(G=[{},null],_=G[0],x=G[1]),_==null&&(_={}),_=l(_),h(_)||(S=[_,x],x=S[0],_=S[1]),b!=null&&(b=l(b)),Array.isArray(b))for(T=0,U=b.length;T<U;T++)A=b[T],I=this.element(A);else if(d(b))I=this.element(b.apply());else if(h(b)){for(F in b)if(y.call(b,F))if(k=b[F],d(k)&&(k=k.apply()),h(k)&&u(k)&&(k=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&F.indexOf(this.stringify.convertAttKey)===0)I=this.attribute(F.substr(this.stringify.convertAttKey.length),k);else if(!this.options.separateArrayItems&&Array.isArray(k))for(E=0,L=k.length;E<L;E++)A=k[E],D={},D[F]=A,I=this.element(D);else h(k)?(I=this.element(F),I.element(k)):I=this.element(F,k)}else this.options.skipNullNodes&&x===null?I=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&b.indexOf(this.stringify.convertTextKey)===0?I=this.text(x):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&b.indexOf(this.stringify.convertCDataKey)===0?I=this.cdata(x):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&b.indexOf(this.stringify.convertCommentKey)===0?I=this.comment(x):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&b.indexOf(this.stringify.convertRawKey)===0?I=this.raw(x):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&b.indexOf(this.stringify.convertPIKey)===0?I=this.instruction(b.substr(this.stringify.convertPIKey.length),x):I=this.node(b,_,x);if(I==null)throw new Error("Could not create any elements with: "+b+". "+this.debugInfo());return I},v.prototype.insertBefore=function(b,_,x){var D,A,T;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(b));return A=this.parent.children.indexOf(this),T=this.parent.children.splice(A),D=this.parent.element(b,_,x),Array.prototype.push.apply(this.parent.children,T),D},v.prototype.insertAfter=function(b,_,x){var D,A,T;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(b));return A=this.parent.children.indexOf(this),T=this.parent.children.splice(A+1),D=this.parent.element(b,_,x),Array.prototype.push.apply(this.parent.children,T),D},v.prototype.remove=function(){var b;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return b=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[b,b-b+1].concat([])),this.parent},v.prototype.node=function(b,_,x){var D,A;return b!=null&&(b=l(b)),_||(_={}),_=l(_),h(_)||(A=[_,x],x=A[0],_=A[1]),D=new r(this,b,_),x!=null&&D.text(x),this.children.push(D),D},v.prototype.text=function(b){var _;return _=new c(this,b),this.children.push(_),this},v.prototype.cdata=function(b){var _;return _=new s(this,b),this.children.push(_),this},v.prototype.comment=function(b){var _;return _=new e(this,b),this.children.push(_),this},v.prototype.commentBefore=function(b){var _,x;return _=this.parent.children.indexOf(this),x=this.parent.children.splice(_),this.parent.comment(b),Array.prototype.push.apply(this.parent.children,x),this},v.prototype.commentAfter=function(b){var _,x;return _=this.parent.children.indexOf(this),x=this.parent.children.splice(_+1),this.parent.comment(b),Array.prototype.push.apply(this.parent.children,x),this},v.prototype.raw=function(b){var _;return _=new o(this,b),this.children.push(_),this},v.prototype.dummy=function(){var b;return b=new i(this),this.children.push(b),b},v.prototype.instruction=function(b,_){var x,D,A,T,E;if(b!=null&&(b=l(b)),_!=null&&(_=l(_)),Array.isArray(b))for(T=0,E=b.length;T<E;T++)x=b[T],this.instruction(x);else if(h(b))for(x in b)y.call(b,x)&&(D=b[x],this.instruction(x,D));else d(_)&&(_=_.apply()),A=new a(this,b,_),this.children.push(A);return this},v.prototype.instructionBefore=function(b,_){var x,D;return x=this.parent.children.indexOf(this),D=this.parent.children.splice(x),this.parent.instruction(b,_),Array.prototype.push.apply(this.parent.children,D),this},v.prototype.instructionAfter=function(b,_){var x,D;return x=this.parent.children.indexOf(this),D=this.parent.children.splice(x+1),this.parent.instruction(b,_),Array.prototype.push.apply(this.parent.children,D),this},v.prototype.declaration=function(b,_,x){var D,A;return D=this.document(),A=new t(D,b,_,x),D.children[0]instanceof t?D.children[0]=A:D.children.unshift(A),D.root()||D},v.prototype.doctype=function(b,_){var x,D,A,T,E,F,I,U,L,G;for(D=this.document(),A=new n(D,b,_),L=D.children,T=E=0,I=L.length;E<I;T=++E)if(x=L[T],x instanceof n)return D.children[T]=A,A;for(G=D.children,T=F=0,U=G.length;F<U;T=++F)if(x=G[T],x.isRoot)return D.children.splice(T,0,A),A;return D.children.push(A),A},v.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},v.prototype.root=function(){var b;for(b=this;b;){if(b.isDocument)return b.rootObject;if(b.isRoot)return b;b=b.parent}},v.prototype.document=function(){var b;for(b=this;b;){if(b.isDocument)return b;b=b.parent}},v.prototype.end=function(b){return this.document().end(b)},v.prototype.prev=function(){var b;for(b=this.parent.children.indexOf(this);b>0&&this.parent.children[b-1].isDummy;)b=b-1;if(b<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[b-1]},v.prototype.next=function(){var b;for(b=this.parent.children.indexOf(this);b<this.parent.children.length-1&&this.parent.children[b+1].isDummy;)b=b+1;if(b===-1||b===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[b+1]},v.prototype.importDocument=function(b){var _;return _=b.root().clone(),_.parent=this,_.isRoot=!1,this.children.push(_),this},v.prototype.debugInfo=function(b){var _,x;return b=b||this.name,b==null&&!((_=this.parent)!=null&&_.name)?"":b==null?"parent: <"+this.parent.name+">":(x=this.parent)!=null&&x.name?"node: <"+b+">, parent: <"+this.parent.name+">":"node: <"+b+">"},v.prototype.ele=function(b,_,x){return this.element(b,_,x)},v.prototype.nod=function(b,_,x){return this.node(b,_,x)},v.prototype.txt=function(b){return this.text(b)},v.prototype.dat=function(b){return this.cdata(b)},v.prototype.com=function(b){return this.comment(b)},v.prototype.ins=function(b,_){return this.instruction(b,_)},v.prototype.doc=function(){return this.document()},v.prototype.dec=function(b,_,x){return this.declaration(b,_,x)},v.prototype.dtd=function(b,_){return this.doctype(b,_)},v.prototype.e=function(b,_,x){return this.element(b,_,x)},v.prototype.n=function(b,_,x){return this.node(b,_,x)},v.prototype.t=function(b){return this.text(b)},v.prototype.d=function(b){return this.cdata(b)},v.prototype.c=function(b){return this.comment(b)},v.prototype.r=function(b){return this.raw(b)},v.prototype.i=function(b,_){return this.instruction(b,_)},v.prototype.u=function(){return this.up()},v.prototype.importXMLBuilder=function(b){return this.importDocument(b)},v}()}).call(HM)),ch.exports}var Th={exports:{}},GM=Th.exports,M2;function LT(){return M2||(M2=1,(function(){var s=function(t,n){return function(){return t.apply(n,arguments)}},e={}.hasOwnProperty;Th.exports=function(){function t(n){this.assertLegalChar=s(this.assertLegalChar,this);var i,r,a;n||(n={}),this.noDoubleEncoding=n.noDoubleEncoding,r=n.stringify||{};for(i in r)e.call(r,i)&&(a=r[i],this[i]=a)}return t.prototype.eleName=function(n){return n=""+n||"",this.assertLegalChar(n)},t.prototype.eleText=function(n){return n=""+n||"",this.assertLegalChar(this.elEscape(n))},t.prototype.cdata=function(n){return n=""+n||"",n=n.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(n)},t.prototype.comment=function(n){if(n=""+n||"",n.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+n);return this.assertLegalChar(n)},t.prototype.raw=function(n){return""+n||""},t.prototype.attName=function(n){return n=""+n||""},t.prototype.attValue=function(n){return n=""+n||"",this.attEscape(n)},t.prototype.insTarget=function(n){return""+n||""},t.prototype.insValue=function(n){if(n=""+n||"",n.match(/\?>/))throw new Error("Invalid processing instruction value: "+n);return n},t.prototype.xmlVersion=function(n){if(n=""+n||"",!n.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+n);return n},t.prototype.xmlEncoding=function(n){if(n=""+n||"",!n.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+n);return n},t.prototype.xmlStandalone=function(n){return n?"yes":"no"},t.prototype.dtdPubID=function(n){return""+n||""},t.prototype.dtdSysID=function(n){return""+n||""},t.prototype.dtdElementValue=function(n){return""+n||""},t.prototype.dtdAttType=function(n){return""+n||""},t.prototype.dtdAttDefault=function(n){return n!=null?""+n||"":n},t.prototype.dtdEntityValue=function(n){return""+n||""},t.prototype.dtdNData=function(n){return""+n||""},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(n){var i;if(i=n.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),i)throw new Error("Invalid character in string: "+n+" at index "+i.index);return n},t.prototype.elEscape=function(n){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(i,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},t.prototype.attEscape=function(n){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(i,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},t}()}).call(GM)),Th.exports}var Ah={exports:{}},Ch={exports:{}},$M=Ch.exports,N2;function BT(){return N2||(N2=1,(function(){var s={}.hasOwnProperty;Ch.exports=function(){function e(t){var n,i,r,a,o,c,l,u,d;t||(t={}),this.pretty=t.pretty||!1,this.allowEmpty=(i=t.allowEmpty)!=null?i:!1,this.pretty?(this.indent=(r=t.indent)!=null?r:"  ",this.newline=(a=t.newline)!=null?a:`
`,this.offset=(o=t.offset)!=null?o:0,this.dontprettytextnodes=(c=t.dontprettytextnodes)!=null?c:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(l=t.spacebeforeslash)!=null?l:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,u=t.writer||{};for(n in u)s.call(u,n)&&(d=u[n],this[n]=d)}return e.prototype.set=function(t){var n,i,r;t||(t={}),"pretty"in t&&(this.pretty=t.pretty),"allowEmpty"in t&&(this.allowEmpty=t.allowEmpty),this.pretty?(this.indent="indent"in t?t.indent:"  ",this.newline="newline"in t?t.newline:`
`,this.offset="offset"in t?t.offset:0,this.dontprettytextnodes="dontprettytextnodes"in t?t.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in t?t.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,i=t.writer||{};for(n in i)s.call(i,n)&&(r=i[n],this[n]=r);return this},e.prototype.space=function(t){var n;return this.pretty?(n=(t||0)+this.offset+1,n>0?new Array(n).join(this.indent):""):""},e}()}).call($M)),Ch.exports}var XM=Ah.exports,P2;function rv(){return P2||(P2=1,(function(){var s,e,t,n,i,r,a,o,c,l,u,d,h,p,y=function(b,_){for(var x in _)v.call(_,x)&&(b[x]=_[x]);function D(){this.constructor=b}return D.prototype=_.prototype,b.prototype=new D,b.__super__=_.prototype,b},v={}.hasOwnProperty;a=Hf(),o=Kf(),s=Vf(),e=zf(),l=qf(),d=Zf(),h=Jf(),u=Qf(),c=iv(),t=Gf(),n=Xf(),i=$f(),r=Yf(),p=BT(),Ah.exports=function(b){y(_,b);function _(x){_.__super__.constructor.call(this,x)}return _.prototype.document=function(x){var D,A,T,E,F;for(this.textispresent=!1,E="",F=x.children,A=0,T=F.length;A<T;A++)D=F[A],!(D instanceof c)&&(E+=(function(){switch(!1){case!(D instanceof a):return this.declaration(D);case!(D instanceof o):return this.docType(D);case!(D instanceof e):return this.comment(D);case!(D instanceof u):return this.processingInstruction(D);default:return this.element(D,0)}}).call(this));return this.pretty&&E.slice(-this.newline.length)===this.newline&&(E=E.slice(0,-this.newline.length)),E},_.prototype.attribute=function(x){return" "+x.name+'="'+x.value+'"'},_.prototype.cdata=function(x,D){return this.space(D)+"<![CDATA["+x.text+"]]>"+this.newline},_.prototype.comment=function(x,D){return this.space(D)+"<!-- "+x.text+" -->"+this.newline},_.prototype.declaration=function(x,D){var A;return A=this.space(D),A+='<?xml version="'+x.version+'"',x.encoding!=null&&(A+=' encoding="'+x.encoding+'"'),x.standalone!=null&&(A+=' standalone="'+x.standalone+'"'),A+=this.spacebeforeslash+"?>",A+=this.newline,A},_.prototype.docType=function(x,D){var A,T,E,F,I;if(D||(D=0),F=this.space(D),F+="<!DOCTYPE "+x.root().name,x.pubID&&x.sysID?F+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.sysID&&(F+=' SYSTEM "'+x.sysID+'"'),x.children.length>0){for(F+=" [",F+=this.newline,I=x.children,T=0,E=I.length;T<E;T++)A=I[T],F+=(function(){switch(!1){case!(A instanceof t):return this.dtdAttList(A,D+1);case!(A instanceof n):return this.dtdElement(A,D+1);case!(A instanceof i):return this.dtdEntity(A,D+1);case!(A instanceof r):return this.dtdNotation(A,D+1);case!(A instanceof s):return this.cdata(A,D+1);case!(A instanceof e):return this.comment(A,D+1);case!(A instanceof u):return this.processingInstruction(A,D+1);default:throw new Error("Unknown DTD node type: "+A.constructor.name)}}).call(this);F+="]"}return F+=this.spacebeforeslash+">",F+=this.newline,F},_.prototype.element=function(x,D){var A,T,E,F,I,U,L,G,S,k,w,X,W;D||(D=0),W=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),X=this.space(D),G="",G+=X+"<"+x.name,S=x.attributes;for(L in S)v.call(S,L)&&(A=S[L],G+=this.attribute(A));if(x.children.length===0||x.children.every(function(P){return P.value===""}))this.allowEmpty?G+="></"+x.name+">"+this.newline:G+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&x.children.length===1&&x.children[0].value!=null)G+=">",G+=x.children[0].value,G+="</"+x.name+">"+this.newline;else{if(this.dontprettytextnodes){for(k=x.children,E=0,I=k.length;E<I;E++)if(T=k[E],T.value!=null){this.textispresent++,W=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,X=this.space(D)),G+=">"+this.newline,w=x.children,F=0,U=w.length;F<U;F++)T=w[F],G+=(function(){switch(!1){case!(T instanceof s):return this.cdata(T,D+1);case!(T instanceof e):return this.comment(T,D+1);case!(T instanceof l):return this.element(T,D+1);case!(T instanceof d):return this.raw(T,D+1);case!(T instanceof h):return this.text(T,D+1);case!(T instanceof u):return this.processingInstruction(T,D+1);case!(T instanceof c):return"";default:throw new Error("Unknown XML node type: "+T.constructor.name)}}).call(this);W&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),G+=X+"</"+x.name+">"+this.newline}return G},_.prototype.processingInstruction=function(x,D){var A;return A=this.space(D)+"<?"+x.target,x.value&&(A+=" "+x.value),A+=this.spacebeforeslash+"?>"+this.newline,A},_.prototype.raw=function(x,D){return this.space(D)+x.value+this.newline},_.prototype.text=function(x,D){return this.space(D)+x.value+this.newline},_.prototype.dtdAttList=function(x,D){var A;return A=this.space(D)+"<!ATTLIST "+x.elementName+" "+x.attributeName+" "+x.attributeType,x.defaultValueType!=="#DEFAULT"&&(A+=" "+x.defaultValueType),x.defaultValue&&(A+=' "'+x.defaultValue+'"'),A+=this.spacebeforeslash+">"+this.newline,A},_.prototype.dtdElement=function(x,D){return this.space(D)+"<!ELEMENT "+x.name+" "+x.value+this.spacebeforeslash+">"+this.newline},_.prototype.dtdEntity=function(x,D){var A;return A=this.space(D)+"<!ENTITY",x.pe&&(A+=" %"),A+=" "+x.name,x.value?A+=' "'+x.value+'"':(x.pubID&&x.sysID?A+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.sysID&&(A+=' SYSTEM "'+x.sysID+'"'),x.nData&&(A+=" NDATA "+x.nData)),A+=this.spacebeforeslash+">"+this.newline,A},_.prototype.dtdNotation=function(x,D){var A;return A=this.space(D)+"<!NOTATION "+x.name,x.pubID&&x.sysID?A+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.pubID?A+=' PUBLIC "'+x.pubID+'"':x.sysID&&(A+=' SYSTEM "'+x.sysID+'"'),A+=this.spacebeforeslash+">"+this.newline,A},_.prototype.openNode=function(x,D){var A,T,E,F;if(D||(D=0),x instanceof l){E=this.space(D)+"<"+x.name,F=x.attributes;for(T in F)v.call(F,T)&&(A=F[T],E+=this.attribute(A));return E+=(x.children?">":"/>")+this.newline,E}else return E=this.space(D)+"<!DOCTYPE "+x.rootNodeName,x.pubID&&x.sysID?E+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.sysID&&(E+=' SYSTEM "'+x.sysID+'"'),E+=(x.children?" [":">")+this.newline,E},_.prototype.closeNode=function(x,D){switch(D||(D=0),!1){case!(x instanceof l):return this.space(D)+"</"+x.name+">"+this.newline;case!(x instanceof o):return this.space(D)+"]>"+this.newline}},_}(p)}).call(XM)),Ah.exports}var YM=oh.exports,L2;function KM(){return L2||(L2=1,(function(){var s,e,t,n,i=function(a,o){for(var c in o)r.call(o,c)&&(a[c]=o[c]);function l(){this.constructor=a}return l.prototype=o.prototype,a.prototype=new l,a.__super__=o.prototype,a},r={}.hasOwnProperty;n=Ds().isPlainObject,s=Dn(),t=LT(),e=rv(),oh.exports=function(a){i(o,a);function o(c){o.__super__.constructor.call(this,null),this.name="?xml",c||(c={}),c.writer||(c.writer=new e),this.options=c,this.stringify=new t(c),this.isDocument=!0}return o.prototype.end=function(c){var l;return c?n(c)&&(l=c,c=this.options.writer.set(l)):c=this.options.writer,c.document(this)},o.prototype.toString=function(c){return this.options.writer.set(c).document(this)},o}(s)}).call(YM)),oh.exports}var Eh={exports:{}},ZM=Eh.exports,B2;function JM(){return B2||(B2=1,(function(){var s,e,t,n,i,r,a,o,c,l,u,d,h,p,y,v,b,_,x,D,A={}.hasOwnProperty;D=Ds(),_=D.isObject,b=D.isFunction,x=D.isPlainObject,v=D.getValue,l=qf(),e=Vf(),t=zf(),d=Zf(),y=Jf(),u=Qf(),o=Hf(),c=Kf(),n=Gf(),r=$f(),i=Xf(),a=Yf(),s=PT(),p=LT(),h=rv(),Eh.exports=function(){function T(E,F,I){var U;this.name="?xml",E||(E={}),E.writer?x(E.writer)&&(U=E.writer,E.writer=new h(U)):E.writer=new h(E),this.options=E,this.writer=E.writer,this.stringify=new p(E),this.onDataCallback=F||function(){},this.onEndCallback=I||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return T.prototype.node=function(E,F,I){var U,L;if(E==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(E));return this.openCurrent(),E=v(E),F===null&&I==null&&(U=[{},null],F=U[0],I=U[1]),F==null&&(F={}),F=v(F),_(F)||(L=[F,I],I=L[0],F=L[1]),this.currentNode=new l(this,E,F),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,I!=null&&this.text(I),this},T.prototype.element=function(E,F,I){return this.currentNode&&this.currentNode instanceof c?this.dtdElement.apply(this,arguments):this.node(E,F,I)},T.prototype.attribute=function(E,F){var I,U;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(E));if(E!=null&&(E=v(E)),_(E))for(I in E)A.call(E,I)&&(U=E[I],this.attribute(I,U));else b(F)&&(F=F.apply()),(!this.options.skipNullAttributes||F!=null)&&(this.currentNode.attributes[E]=new s(this,E,F));return this},T.prototype.text=function(E){var F;return this.openCurrent(),F=new y(this,E),this.onData(this.writer.text(F,this.currentLevel+1),this.currentLevel+1),this},T.prototype.cdata=function(E){var F;return this.openCurrent(),F=new e(this,E),this.onData(this.writer.cdata(F,this.currentLevel+1),this.currentLevel+1),this},T.prototype.comment=function(E){var F;return this.openCurrent(),F=new t(this,E),this.onData(this.writer.comment(F,this.currentLevel+1),this.currentLevel+1),this},T.prototype.raw=function(E){var F;return this.openCurrent(),F=new d(this,E),this.onData(this.writer.raw(F,this.currentLevel+1),this.currentLevel+1),this},T.prototype.instruction=function(E,F){var I,U,L,G,S;if(this.openCurrent(),E!=null&&(E=v(E)),F!=null&&(F=v(F)),Array.isArray(E))for(I=0,G=E.length;I<G;I++)U=E[I],this.instruction(U);else if(_(E))for(U in E)A.call(E,U)&&(L=E[U],this.instruction(U,L));else b(F)&&(F=F.apply()),S=new u(this,E,F),this.onData(this.writer.processingInstruction(S,this.currentLevel+1),this.currentLevel+1);return this},T.prototype.declaration=function(E,F,I){var U;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return U=new o(this,E,F,I),this.onData(this.writer.declaration(U,this.currentLevel+1),this.currentLevel+1),this},T.prototype.doctype=function(E,F,I){if(this.openCurrent(),E==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new c(this,F,I),this.currentNode.rootNodeName=E,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},T.prototype.dtdElement=function(E,F){var I;return this.openCurrent(),I=new i(this,E,F),this.onData(this.writer.dtdElement(I,this.currentLevel+1),this.currentLevel+1),this},T.prototype.attList=function(E,F,I,U,L){var G;return this.openCurrent(),G=new n(this,E,F,I,U,L),this.onData(this.writer.dtdAttList(G,this.currentLevel+1),this.currentLevel+1),this},T.prototype.entity=function(E,F){var I;return this.openCurrent(),I=new r(this,!1,E,F),this.onData(this.writer.dtdEntity(I,this.currentLevel+1),this.currentLevel+1),this},T.prototype.pEntity=function(E,F){var I;return this.openCurrent(),I=new r(this,!0,E,F),this.onData(this.writer.dtdEntity(I,this.currentLevel+1),this.currentLevel+1),this},T.prototype.notation=function(E,F){var I;return this.openCurrent(),I=new a(this,E,F),this.onData(this.writer.dtdNotation(I,this.currentLevel+1),this.currentLevel+1),this},T.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},T.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},T.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},T.prototype.openNode=function(E){if(!E.isOpen)return!this.root&&this.currentLevel===0&&E instanceof l&&(this.root=E),this.onData(this.writer.openNode(E,this.currentLevel),this.currentLevel),E.isOpen=!0},T.prototype.closeNode=function(E){if(!E.isClosed)return this.onData(this.writer.closeNode(E,this.currentLevel),this.currentLevel),E.isClosed=!0},T.prototype.onData=function(E,F){return this.documentStarted=!0,this.onDataCallback(E,F+1)},T.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},T.prototype.debugInfo=function(E){return E==null?"":"node: <"+E+">"},T.prototype.ele=function(){return this.element.apply(this,arguments)},T.prototype.nod=function(E,F,I){return this.node(E,F,I)},T.prototype.txt=function(E){return this.text(E)},T.prototype.dat=function(E){return this.cdata(E)},T.prototype.com=function(E){return this.comment(E)},T.prototype.ins=function(E,F){return this.instruction(E,F)},T.prototype.dec=function(E,F,I){return this.declaration(E,F,I)},T.prototype.dtd=function(E,F,I){return this.doctype(E,F,I)},T.prototype.e=function(E,F,I){return this.element(E,F,I)},T.prototype.n=function(E,F,I){return this.node(E,F,I)},T.prototype.t=function(E){return this.text(E)},T.prototype.d=function(E){return this.cdata(E)},T.prototype.c=function(E){return this.comment(E)},T.prototype.r=function(E){return this.raw(E)},T.prototype.i=function(E,F){return this.instruction(E,F)},T.prototype.att=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},T.prototype.a=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},T.prototype.ent=function(E,F){return this.entity(E,F)},T.prototype.pent=function(E,F){return this.pEntity(E,F)},T.prototype.not=function(E,F){return this.notation(E,F)},T}()}).call(ZM)),Eh.exports}var wh={exports:{}},QM=wh.exports,O2;function jM(){return O2||(O2=1,(function(){var s,e,t,n,i,r,a,o,c,l,u,d,h,p,y=function(b,_){for(var x in _)v.call(_,x)&&(b[x]=_[x]);function D(){this.constructor=b}return D.prototype=_.prototype,b.prototype=new D,b.__super__=_.prototype,b},v={}.hasOwnProperty;a=Hf(),o=Kf(),s=Vf(),e=zf(),l=qf(),d=Zf(),h=Jf(),u=Qf(),c=iv(),t=Gf(),n=Xf(),i=$f(),r=Yf(),p=BT(),wh.exports=function(b){y(_,b);function _(x,D){_.__super__.constructor.call(this,D),this.stream=x}return _.prototype.document=function(x){var D,A,T,E,F,I,U,L;for(I=x.children,A=0,E=I.length;A<E;A++)D=I[A],D.isLastRootNode=!1;for(x.children[x.children.length-1].isLastRootNode=!0,U=x.children,L=[],T=0,F=U.length;T<F;T++)if(D=U[T],!(D instanceof c))switch(!1){case!(D instanceof a):L.push(this.declaration(D));break;case!(D instanceof o):L.push(this.docType(D));break;case!(D instanceof e):L.push(this.comment(D));break;case!(D instanceof u):L.push(this.processingInstruction(D));break;default:L.push(this.element(D))}return L},_.prototype.attribute=function(x){return this.stream.write(" "+x.name+'="'+x.value+'"')},_.prototype.cdata=function(x,D){return this.stream.write(this.space(D)+"<![CDATA["+x.text+"]]>"+this.endline(x))},_.prototype.comment=function(x,D){return this.stream.write(this.space(D)+"<!-- "+x.text+" -->"+this.endline(x))},_.prototype.declaration=function(x,D){return this.stream.write(this.space(D)),this.stream.write('<?xml version="'+x.version+'"'),x.encoding!=null&&this.stream.write(' encoding="'+x.encoding+'"'),x.standalone!=null&&this.stream.write(' standalone="'+x.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(x))},_.prototype.docType=function(x,D){var A,T,E,F;if(D||(D=0),this.stream.write(this.space(D)),this.stream.write("<!DOCTYPE "+x.root().name),x.pubID&&x.sysID?this.stream.write(' PUBLIC "'+x.pubID+'" "'+x.sysID+'"'):x.sysID&&this.stream.write(' SYSTEM "'+x.sysID+'"'),x.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(x)),F=x.children,T=0,E=F.length;T<E;T++)switch(A=F[T],!1){case!(A instanceof t):this.dtdAttList(A,D+1);break;case!(A instanceof n):this.dtdElement(A,D+1);break;case!(A instanceof i):this.dtdEntity(A,D+1);break;case!(A instanceof r):this.dtdNotation(A,D+1);break;case!(A instanceof s):this.cdata(A,D+1);break;case!(A instanceof e):this.comment(A,D+1);break;case!(A instanceof u):this.processingInstruction(A,D+1);break;default:throw new Error("Unknown DTD node type: "+A.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(x))},_.prototype.element=function(x,D){var A,T,E,F,I,U,L,G;D||(D=0),G=this.space(D),this.stream.write(G+"<"+x.name),U=x.attributes;for(I in U)v.call(U,I)&&(A=U[I],this.attribute(A));if(x.children.length===0||x.children.every(function(S){return S.value===""}))this.allowEmpty?this.stream.write("></"+x.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&x.children.length===1&&x.children[0].value!=null)this.stream.write(">"),this.stream.write(x.children[0].value),this.stream.write("</"+x.name+">");else{for(this.stream.write(">"+this.newline),L=x.children,E=0,F=L.length;E<F;E++)switch(T=L[E],!1){case!(T instanceof s):this.cdata(T,D+1);break;case!(T instanceof e):this.comment(T,D+1);break;case!(T instanceof l):this.element(T,D+1);break;case!(T instanceof d):this.raw(T,D+1);break;case!(T instanceof h):this.text(T,D+1);break;case!(T instanceof u):this.processingInstruction(T,D+1);break;case!(T instanceof c):break;default:throw new Error("Unknown XML node type: "+T.constructor.name)}this.stream.write(G+"</"+x.name+">")}return this.stream.write(this.endline(x))},_.prototype.processingInstruction=function(x,D){return this.stream.write(this.space(D)+"<?"+x.target),x.value&&this.stream.write(" "+x.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(x))},_.prototype.raw=function(x,D){return this.stream.write(this.space(D)+x.value+this.endline(x))},_.prototype.text=function(x,D){return this.stream.write(this.space(D)+x.value+this.endline(x))},_.prototype.dtdAttList=function(x,D){return this.stream.write(this.space(D)+"<!ATTLIST "+x.elementName+" "+x.attributeName+" "+x.attributeType),x.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+x.defaultValueType),x.defaultValue&&this.stream.write(' "'+x.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},_.prototype.dtdElement=function(x,D){return this.stream.write(this.space(D)+"<!ELEMENT "+x.name+" "+x.value),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},_.prototype.dtdEntity=function(x,D){return this.stream.write(this.space(D)+"<!ENTITY"),x.pe&&this.stream.write(" %"),this.stream.write(" "+x.name),x.value?this.stream.write(' "'+x.value+'"'):(x.pubID&&x.sysID?this.stream.write(' PUBLIC "'+x.pubID+'" "'+x.sysID+'"'):x.sysID&&this.stream.write(' SYSTEM "'+x.sysID+'"'),x.nData&&this.stream.write(" NDATA "+x.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},_.prototype.dtdNotation=function(x,D){return this.stream.write(this.space(D)+"<!NOTATION "+x.name),x.pubID&&x.sysID?this.stream.write(' PUBLIC "'+x.pubID+'" "'+x.sysID+'"'):x.pubID?this.stream.write(' PUBLIC "'+x.pubID+'"'):x.sysID&&this.stream.write(' SYSTEM "'+x.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},_.prototype.endline=function(x){return x.isLastRootNode?"":this.newline},_}(p)}).call(QM)),wh.exports}var W2;function eN(){return W2||(W2=1,(function(){var s,e,t,n,i,r,a;a=Ds(),i=a.assign,r=a.isFunction,s=KM(),e=JM(),n=rv(),t=jM(),Fs.create=function(o,c,l,u){var d,h;if(o==null)throw new Error("Root element needs a name.");return u=i({},c,l,u),d=new s(u),h=d.element(o),u.headless||(d.declaration(u),(u.pubID!=null||u.sysID!=null)&&d.doctype(u)),h},Fs.begin=function(o,c,l){var u;return r(o)&&(u=[o,c],c=u[0],l=u[1],o={}),c?new e(o,c,l):new s(o)},Fs.stringWriter=function(o){return new n(o)},Fs.streamWriter=function(o,c){return new t(o,c)}}).call(Fs)),Fs}var q2;function tN(){if(q2)return Kp;q2=1;var s=At,e=eN();Kp.writeString=t;function t(i,r){var a=s.invert(r),o={element:l,text:n};function c(h,p){return o[p.type](h,p)}function l(h,p){var y=h.element(u(p.name),p.attributes);p.children.forEach(function(v){c(y,v)})}function u(h){var p=/^\{(.*)\}(.*)$/.exec(h);if(p){var y=a[p[1]];return y+(y===""?"":":")+p[2]}else return h}function d(h){var p=e.create(u(h.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return s.forEach(r,function(y,v){var b="xmlns"+(v===""?"":":"+v);p.attribute(b,y)}),h.children.forEach(function(y){c(p,y)}),p.end()}return d(i)}function n(i,r){i.text(r.value)}return Kp}var V2;function OT(){if(V2)return Ss;V2=1;var s=NT();return Ss.Element=s.Element,Ss.element=s.element,Ss.text=s.text,Ss.readString=UM().readString,Ss.writeString=tN().writeString,Ss}var z2;function nN(){if(z2)return xd;z2=1;var s=At,e=xs(),t=OT();xd.read=i,xd.readXmlFromZipFile=r;var n={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word"};function i(c){return t.readString(c,n).then(function(l){return o(l)[0]})}function r(c,l){return c.exists(l)?c.read(l,"utf-8").then(a).then(i):e.resolve(null)}function a(c){return c.replace(/^\uFEFF/g,"")}function o(c){return c.type==="element"?c.name==="mc:AlternateContent"?c.first("mc:Fallback").children:(c.children=s.flatten(c.children.map(o,!0)),[c]):[c]}return xd}var Ad={},Zn={},Cd={},H2;function iN(){if(H2)return Cd;H2=1,Object.defineProperty(Cd,"__esModule",{value:!0});var s=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];return Cd.default=s,Cd}var G2;function rN(){if(G2)return Zn;G2=1;var s=Zn&&Zn.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.hex=Zn.dec=Zn.codePoint=void 0;for(var e=s(iN()),t={},n=String.fromCodePoint?String.fromCodePoint:h,i=0,r=e.default;i<r.length;i++){var a=r[i],o=parseInt(a["Unicode dec"],10),c={codePoint:o,string:n(o)};t[a["Typeface name"].toUpperCase()+"_"+a["Dingbat dec"]]=c}function l(p,y){return t[p.toUpperCase()+"_"+y]}Zn.codePoint=l;function u(p,y){return l(p,parseInt(y,10))}Zn.dec=u;function d(p,y){return l(p,parseInt(y,16))}Zn.hex=d;function h(p){if(p<=65535)return String.fromCharCode(p);var y=Math.floor((p-65536)/1024)+55296,v=(p-65536)%1024+56320;return String.fromCharCode(y,v)}return Zn}var Ed={},$2;function sN(){if($2)return Ed;$2=1,Ed.uriToZipEntryName=s,Ed.replaceFragment=e;function s(t,n){return n.charAt(0)==="/"?n.substr(1):t+"/"+n}function e(t,n){var i=t.indexOf("#");return i!==-1&&(t=t.substring(0,i)),t+"#"+n}return Ed}var X2;function aN(){if(X2)return Ad;X2=1,Ad.createBodyReader=a,Ad._readNumberingProperties=c;var s=rN(),e=At,t=Ka(),n=Ur().Result,i=Ur().warning,r=sN();function a(D){return{readXmlElement:function(A){return new o(D).readXmlElement(A)},readXmlElements:function(A){return new o(D).readXmlElements(A)}}}function o(D){var A=[],T=[],E=[],F=D.relationships,I=D.contentTypes,U=D.docxFile,L=D.files,G=D.numbering,S=D.styles;function k(ie){var ue=ie.map(w);return b(ue)}function w(ie){if(ie.type==="element"){var ue=C[ie.name];if(ue)return ue(ie);if(!Object.prototype.hasOwnProperty.call(u,ie.name)){var ge=i("An unrecognised element was ignored: "+ie.name);return d([ge])}}return h()}function X(ie){return H(ie).map(function(ue){return{type:"paragraphProperties",styleId:ue.styleId,styleName:ue.name,alignment:ie.firstOrEmpty("w:jc").attributes["w:val"],numbering:c(ue.styleId,ie.firstOrEmpty("w:numPr"),G),indent:W(ie.firstOrEmpty("w:ind"))}})}function W(ie){return{start:ie.attributes["w:start"]||ie.attributes["w:left"],end:ie.attributes["w:end"]||ie.attributes["w:right"],firstLine:ie.attributes["w:firstLine"],hanging:ie.attributes["w:hanging"]}}function P(ie){return Y(ie).map(function(ue){var ge=ie.firstOrEmpty("w:sz").attributes["w:val"],Te=/^[0-9]+$/.test(ge)?parseInt(ge,10)/2:null;return{type:"runProperties",styleId:ue.styleId,styleName:ue.name,verticalAlignment:ie.firstOrEmpty("w:vertAlign").attributes["w:val"],font:ie.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:Te,isBold:K(ie.first("w:b")),isUnderline:Z(ie.first("w:u")),isItalic:K(ie.first("w:i")),isStrikethrough:K(ie.first("w:strike")),isAllCaps:K(ie.first("w:caps")),isSmallCaps:K(ie.first("w:smallCaps")),highlight:oe(ie.firstOrEmpty("w:highlight").attributes["w:val"])}})}function Z(ie){if(ie){var ue=ie.attributes["w:val"];return ue!==void 0&&ue!=="false"&&ue!=="0"&&ue!=="none"}else return!1}function K(ie){if(ie){var ue=ie.attributes["w:val"];return ue!=="false"&&ue!=="0"}else return!1}function oe(ie){return!ie||ie==="none"?null:ie}function H(ie){return ce(ie,"w:pStyle","Paragraph",S.findParagraphStyleById)}function Y(ie){return ce(ie,"w:rStyle","Run",S.findCharacterStyleById)}function Q(ie){return ce(ie,"w:tblStyle","Table",S.findTableStyleById)}function ce(ie,ue,ge,Te){var Fe=[],He=ie.first(ue),xt=null,Ct=null;if(He&&(xt=He.attributes["w:val"],xt)){var Ln=Te(xt);Ln?Ct=Ln.name:Fe.push(_e(ge,xt))}return y({styleId:xt,name:Ct},Fe)}var le={type:"unknown"};function ve(ie){var ue=ie.attributes["w:fldCharType"];if(ue==="begin")A.push(le),T=[];else if(ue==="end")A.pop();else if(ue==="separate"){var ge=ye(T.join("")),Te=ge===null?le:{type:"hyperlink",options:ge};A.pop(),A.push(Te)}return h()}function me(){var ie=e.last(A.filter(function(ue){return ue.type==="hyperlink"}));return ie?ie.options:null}function ye(ie){var ue=/\s*HYPERLINK "(.*)"/.exec(ie);if(ue)return{href:ue[1]};var ge=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(ie);return ge?{anchor:ge[1]}:null}function xe(ie){return T.push(ie.text()),h()}function we(ie){var ue=ie.attributes["w:font"],ge=ie.attributes["w:char"],Te=s.hex(ue,ge);return Te==null&&/^F0..$/.test(ge)&&(Te=s.hex(ue,ge.substring(2))),Te==null?d([i("A w:sym element with an unsupported character was ignored: char "+ge+" in font "+ue)]):p(new t.Text(Te.string))}function ke(ie){return function(ue){var ge=ue.attributes["w:id"];return p(new t.NoteReference({noteType:ie,noteId:ge}))}}function $e(ie){return p(t.commentReference({commentId:ie.attributes["w:id"]}))}function Le(ie){return k(ie.children)}var C={"w:p":function(ie){var ue=ie.firstOrEmpty("w:pPr"),ge=!!ue.firstOrEmpty("w:rPr").first("w:del");if(ge)return ie.children.forEach(function(Fe){E.push(Fe)}),h();var Te=ie.children;return E.length>0&&(Te=E.concat(Te),E=[]),v.map(X(ue),k(Te),function(Fe,He){return new t.Paragraph(He,Fe)}).insertExtra()},"w:r":function(ie){return v.map(P(ie.firstOrEmpty("w:rPr")),k(ie.children),function(ue,ge){var Te=me();return Te!==null&&(ge=[new t.Hyperlink(ge,Te)]),new t.Run(ge,ue)})},"w:fldChar":ve,"w:instrText":xe,"w:t":function(ie){return p(new t.Text(ie.text()))},"w:tab":function(ie){return p(new t.Tab)},"w:noBreakHyphen":function(){return p(new t.Text(""))},"w:softHyphen":function(ie){return p(new t.Text(""))},"w:sym":we,"w:hyperlink":function(ie){var ue=ie.attributes["r:id"],ge=ie.attributes["w:anchor"];return k(ie.children).map(function(Te){function Fe(xt){var Ct=ie.attributes["w:tgtFrame"]||null;return new t.Hyperlink(Te,e.extend({targetFrame:Ct},xt))}if(ue){var He=F.findTargetByRelationshipId(ue);return ge&&(He=r.replaceFragment(He,ge)),Fe({href:He})}else return ge?Fe({anchor:ge}):Te})},"w:tbl":re,"w:tr":V,"w:tc":q,"w:footnoteReference":ke("footnote"),"w:endnoteReference":ke("endnote"),"w:commentReference":$e,"w:br":function(ie){var ue=ie.attributes["w:type"];return ue==null||ue==="textWrapping"?p(t.lineBreak):ue==="page"?p(t.pageBreak):ue==="column"?p(t.columnBreak):d([i("Unsupported break type: "+ue)])},"w:bookmarkStart":function(ie){var ue=ie.attributes["w:name"];return ue==="_GoBack"?h():p(new t.BookmarkStart({name:ue}))},"mc:AlternateContent":function(ie){return Le(ie.first("mc:Fallback"))},"w:sdt":function(ie){return k(ie.firstOrEmpty("w:sdtContent").children)},"w:ins":Le,"w:object":Le,"w:smartTag":Le,"w:drawing":Le,"w:pict":function(ie){return Le(ie).toExtra()},"v:roundrect":Le,"v:shape":Le,"v:textbox":Le,"w:txbxContent":Le,"wp:inline":se,"wp:anchor":se,"v:imagedata":ne,"v:group":Le,"v:rect":Le};return{readXmlElement:w,readXmlElements:k};function re(ie){var ue=te(ie.firstOrEmpty("w:tblPr"));return k(ie.children).flatMap(he).flatMap(function(ge){return ue.map(function(Te){return t.Table(ge,Te)})})}function te(ie){return Q(ie).map(function(ue){return{styleId:ue.styleId,styleName:ue.name}})}function V(ie){var ue=ie.firstOrEmpty("w:trPr"),ge=!!ue.first("w:tblHeader");return k(ie.children).map(function(Te){return t.TableRow(Te,{isHeader:ge})})}function q(ie){return k(ie.children).map(function(ue){var ge=ie.firstOrEmpty("w:tcPr"),Te=ge.firstOrEmpty("w:gridSpan").attributes["w:val"],Fe=Te?parseInt(Te,10):1,He=t.TableCell(ue,{colSpan:Fe});return He._vMerge=ee(ge),He})}function ee(ie){var ue=ie.first("w:vMerge");if(ue){var ge=ue.attributes["w:val"];return ge==="continue"||!ge}else return null}function he(ie){var ue=e.any(ie,function(Fe){return Fe.type!==t.types.tableRow});if(ue)return y(ie,[i("unexpected non-row element in table, cell merging may be incorrect")]);var ge=e.any(ie,function(Fe){return e.any(Fe.children,function(He){return He.type!==t.types.tableCell})});if(ge)return y(ie,[i("unexpected non-cell element in table row, cell merging may be incorrect")]);var Te={};return ie.forEach(function(Fe){var He=0;Fe.children.forEach(function(xt){xt._vMerge&&Te[He]?Te[He].rowSpan++:(Te[He]=xt,xt._vMerge=!1),He+=xt.colSpan})}),ie.forEach(function(Fe){Fe.children=Fe.children.filter(function(He){return!He._vMerge}),Fe.children.forEach(function(He){delete He._vMerge})}),p(ie)}function se(ie){var ue=ie.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return b(ue.map($.bind(null,ie)))}function $(ie,ue){var ge=ie.first("wp:docPr").attributes,Te=z(ge.descr)?ge.title:ge.descr,Fe=J(ue);return Fe===null?d([i("Could not find image file for a:blip element")]):pe(Fe,Te)}function z(ie){return ie==null||/^\s*$/.test(ie)}function J(ie){var ue=ie.attributes["r:embed"],ge=ie.attributes["r:link"];if(ue)return ae(ue);if(ge){var Te=F.findTargetByRelationshipId(ge);return{path:Te,read:L.read.bind(L,Te)}}else return null}function ne(ie){var ue=ie.attributes["r:id"];return ue?pe(ae(ue),ie.attributes["o:title"]):d([i("A v:imagedata element without a relationship ID was ignored")])}function ae(ie){var ue=r.uriToZipEntryName("word",F.findTargetByRelationshipId(ie));return{path:ue,read:U.read.bind(U,ue)}}function pe(ie,ue){var ge=I.findContentType(ie.path),Te=t.Image({readImage:ie.read,altText:ue,contentType:ge}),Fe=l[ge]?[]:i("Image of type "+ge+" is unlikely to display in web browsers");return y(Te,Fe)}function _e(ie,ue){return i(ie+" style with ID "+ue+" was referenced but not defined in the document")}}function c(D,A,T){var E=A.firstOrEmpty("w:ilvl").attributes["w:val"],F=A.firstOrEmpty("w:numId").attributes["w:val"];if(E!==void 0&&F!==void 0)return T.findLevel(F,E);if(D!=null){var I=T.findLevelByParagraphStyleId(D);if(I!=null)return I}return null}var l={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},u={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function d(D){return new v(null,null,D)}function h(){return new v(null)}function p(D){return new v(D)}function y(D,A){return new v(D,null,A)}function v(D,A,T){this.value=D||[],this.extra=A||[],this._result=new n({element:this.value,extra:A},T),this.messages=this._result.messages}v.prototype.toExtra=function(){return new v(null,_(this.extra,this.value),this.messages)},v.prototype.insertExtra=function(){var D=this.extra;return D&&D.length?new v(_(this.value,D),null,this.messages):this},v.prototype.map=function(D){var A=this._result.map(function(T){return D(T.element)});return new v(A.value,this.extra,A.messages)},v.prototype.flatMap=function(D){var A=this._result.flatMap(function(T){return D(T.element)._result});return new v(A.value.element,_(this.extra,A.value.extra),A.messages)},v.map=function(D,A,T){return new v(T(D.value,A.value),_(D.extra,A.extra),D.messages.concat(A.messages))};function b(D){var A=n.combine(e.pluck(D,"_result"));return new v(e.flatten(e.pluck(A.value,"element")),e.filter(e.flatten(e.pluck(A.value,"extra")),x),A.messages)}function _(D,A){return e.flatten([D,A])}function x(D){return D}return Ad}var Zp={},Y2;function oN(){if(Y2)return Zp;Y2=1,Zp.DocumentXmlReader=t;var s=Ka(),e=Ur().Result;function t(n){var i=n.bodyReader;function r(a){var o=a.first("w:body");if(o==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var c=i.readXmlElements(o.children).map(function(l){return new s.Document(l,{notes:n.notes,comments:n.comments})});return new e(c.value,c.messages)}return{convertXmlToDocument:r}}return Zp}var Mc={},K2;function cN(){if(K2)return Mc;K2=1,Mc.readRelationships=s,Mc.defaultValue=new e([]),Mc.Relationships=e;function s(t){var n=[];return t.children.forEach(function(i){if(i.name==="relationships:Relationship"){var r={relationshipId:i.attributes.Id,target:i.attributes.Target,type:i.attributes.Type};n.push(r)}}),new e(n)}function e(t){var n={};t.forEach(function(r){n[r.relationshipId]=r.target});var i={};return t.forEach(function(r){i[r.type]||(i[r.type]=[]),i[r.type].push(r.target)}),{findTargetByRelationshipId:function(r){return n[r]},findTargetsByType:function(r){return i[r]||[]}}}return Mc}var wd={},Z2;function lN(){if(Z2)return wd;Z2=1,wd.readContentTypesFromXml=e;var s={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};wd.defaultContentTypes=t({},{});function e(n){var i={},r={};return n.children.forEach(function(a){if(a.name==="content-types:Default"&&(i[a.attributes.Extension]=a.attributes.ContentType),a.name==="content-types:Override"){var o=a.attributes.PartName;o.charAt(0)==="/"&&(o=o.substring(1)),r[o]=a.attributes.ContentType}}),t(r,i)}function t(n,i){return{findContentType:function(r){var a=n[r];if(a)return a;var o=r.split("."),c=o[o.length-1];if(i.hasOwnProperty(c))return i[c];var l=s[c.toLowerCase()];return l?"image/"+l:null}}}return wd}var Nc={},J2;function uN(){if(J2)return Nc;J2=1;var s=At;Nc.readNumberingXml=t,Nc.Numbering=e,Nc.defaultNumbering=new e({},{});function e(a,o,c){var l=s.flatten(s.values(o).map(function(p){return s.values(p.levels)})),u=s.indexBy(l.filter(function(p){return p.paragraphStyleId!=null}),"paragraphStyleId");function d(p,y){var v=a[p];if(v){var b=o[v.abstractNumId];if(b){if(b.numStyleLink==null)return o[v.abstractNumId].levels[y];var _=c.findNumberingStyleById(b.numStyleLink);return d(_.numId,y)}else return null}else return null}function h(p){return u[p]||null}return{findLevel:d,findLevelByParagraphStyleId:h}}function t(a,o){if(!o||!o.styles)throw new Error("styles is missing");var c=n(a),l=r(a);return new e(l,c,o.styles)}function n(a){var o={};return a.getElementsByTagName("w:abstractNum").forEach(function(c){var l=c.attributes["w:abstractNumId"];o[l]=i(c)}),o}function i(a){var o={};a.getElementsByTagName("w:lvl").forEach(function(l){var u=l.attributes["w:ilvl"],d=l.firstOrEmpty("w:numFmt").attributes["w:val"],h=l.firstOrEmpty("w:pStyle").attributes["w:val"];o[u]={isOrdered:d!=="bullet",level:u,paragraphStyleId:h}});var c=a.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:o,numStyleLink:c}}function r(a){var o={};return a.getElementsByTagName("w:num").forEach(function(c){var l=c.attributes["w:numId"],u=c.first("w:abstractNumId").attributes["w:val"];o[l]={abstractNumId:u}}),o}return Nc}var Pc={},Q2;function dN(){if(Q2)return Pc;Q2=1,Pc.readStylesXml=e,Pc.Styles=s,Pc.defaultStyles=new s({},{});function s(r,a,o,c){return{findParagraphStyleById:function(l){return r[l]},findCharacterStyleById:function(l){return a[l]},findTableStyleById:function(l){return o[l]},findNumberingStyleById:function(l){return c[l]}}}s.EMPTY=new s({},{},{},{});function e(r){var a={},o={},c={},l={},u={paragraph:a,character:o,table:c};return r.getElementsByTagName("w:style").forEach(function(d){var h=t(d);if(h.type==="numbering")l[h.styleId]=i(d);else{var p=u[h.type];p&&(p[h.styleId]=h)}}),new s(a,o,c,l)}function t(r){var a=r.attributes["w:type"],o=r.attributes["w:styleId"],c=n(r);return{type:a,styleId:o,name:c}}function n(r){var a=r.first("w:name");return a?a.attributes["w:val"]:null}function i(r){var a=r.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{numId:a}}return Pc}var eo={},j2;function hN(){if(j2)return eo;j2=1;var s=Ka(),e=Ur().Result;eo.createFootnotesReader=t.bind(eo,"footnote"),eo.createEndnotesReader=t.bind(eo,"endnote");function t(n,i){function r(c){return e.combine(c.getElementsByTagName("w:"+n).filter(a).map(o))}function a(c){var l=c.attributes["w:type"];return l!=="continuationSeparator"&&l!=="separator"}function o(c){var l=c.attributes["w:id"];return i.readXmlElements(c.children).map(function(u){return s.Note({noteType:n,noteId:l,body:u})})}return r}return eo}var Jp={},e1;function fN(){if(e1)return Jp;e1=1;var s=Ka(),e=Ur().Result;function t(n){function i(a){return e.combine(a.getElementsByTagName("w:comment").map(r))}function r(a){var o=a.attributes["w:id"];function c(l){return(a.attributes[l]||"").trim()||null}return n.readXmlElements(a.children).map(function(l){return s.comment({commentId:o,body:l,authorName:c("w:author"),authorInitials:c("w:initials")})})}return i}return Jp.createCommentsReader=t,Jp}var Qp={},t1;function pN(){if(t1)return Qp;t1=1;var s=xs();Qp.Files=e;function e(){function t(n){return s.reject(new Error("could not open external image: '"+n+`'
cannot open linked files from a web browser`))}return{read:t}}return Qp}var n1;function gN(){if(n1)return vd;n1=1,vd.read=y,vd._findPartPaths=v;var s=xs(),e=Ka(),t=Ur().Result,n=MT(),i=nN().readXmlFromZipFile,r=aN().createBodyReader,a=oN().DocumentXmlReader,o=cN(),c=lN(),l=uN(),u=dN(),d=hN(),h=fN(),p=pN().Files;function y(U,L){return L=L||{},s.props({contentTypes:T(U),partPaths:v(U),docxFile:U,files:L.path?p.relativeToFile(L.path):new p(null)}).also(function(G){return{styles:F(U,G.partPaths.styles)}}).also(function(G){return{numbering:E(U,G.partPaths.numbering,G.styles)}}).also(function(G){return{footnotes:D(G.partPaths.footnotes,G,function(S,k){return k?d.createFootnotesReader(S)(k):new t([])}),endnotes:D(G.partPaths.endnotes,G,function(S,k){return k?d.createEndnotesReader(S)(k):new t([])}),comments:D(G.partPaths.comments,G,function(S,k){return k?h.createCommentsReader(S)(k):new t([])})}}).also(function(G){return{notes:G.footnotes.flatMap(function(S){return G.endnotes.map(function(k){return new e.Notes(S.concat(k))})})}}).then(function(G){return D(G.partPaths.mainDocument,G,function(S,k){return G.notes.flatMap(function(w){return G.comments.flatMap(function(X){var W=new a({bodyReader:S,notes:w,comments:X});return W.convertXmlToDocument(k)})})})})}function v(U){return I(U).then(function(L){var G=b({docxFile:U,relationships:L,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!U.exists(G))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return x({filename:A(G),readElement:o.readRelationships,defaultValue:o.defaultValue})(U).then(function(S){function k(w){return b({docxFile:U,relationships:S,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+w,basePath:n.splitPath(G).dirname,fallbackPath:"word/"+w+".xml"})}return{mainDocument:G,comments:k("comments"),endnotes:k("endnotes"),footnotes:k("footnotes"),numbering:k("numbering"),styles:k("styles")}})})}function b(U){var L=U.docxFile,G=U.relationships,S=U.relationshipType,k=U.basePath,w=U.fallbackPath,X=G.findTargetsByType(S),W=X.map(function(Z){return _(n.joinPath(k,Z),"/")}),P=W.filter(function(Z){return L.exists(Z)});return P.length===0?w:P[0]}function _(U,L){return U.substring(0,L.length)===L?U.substring(L.length):U}function x(U){return function(L){return i(L,U.filename).then(function(G){return G?U.readElement(G):U.defaultValue})}}function D(U,L,G){var S=x({filename:A(U),readElement:o.readRelationships,defaultValue:o.defaultValue});return S(L.docxFile).then(function(k){var w=new r({relationships:k,contentTypes:L.contentTypes,docxFile:L.docxFile,numbering:L.numbering,styles:L.styles,files:L.files});return i(L.docxFile,U).then(function(X){return G(w,X)})})}function A(U){var L=n.splitPath(U);return n.joinPath(L.dirname,"_rels",L.basename+".rels")}var T=x({filename:"[Content_Types].xml",readElement:c.readContentTypesFromXml,defaultValue:c.defaultContentTypes});function E(U,L,G){return x({filename:L,readElement:function(S){return l.readNumberingXml(S,{styles:G})},defaultValue:l.defaultNumbering})(U)}function F(U,L){return x({filename:L,readElement:u.readStylesXml,defaultValue:u.defaultStyles})(U)}var I=x({filename:"_rels/.rels",readElement:o.readRelationships,defaultValue:o.defaultValue});return vd}var Sd={},i1;function mN(){if(i1)return Sd;i1=1;var s=At,e=xs(),t=OT();Sd.writeStyleMap=a,Sd.readStyleMap=u;var n="http://schemas.zwobble.org/mammoth/style-map",i="mammoth/style-map",r="/"+i;function a(d,h){return d.write(i,h),o(d).then(function(){return c(d)})}function o(d){var h="word/_rels/document.xml.rels",p="http://schemas.openxmlformats.org/package/2006/relationships",y="{"+p+"}Relationship";return d.read(h,"utf8").then(t.readString).then(function(v){var b=v.children;l(b,y,"Id",{Id:"rMammothStyleMap",Type:n,Target:r});var _={"":p};return d.write(h,t.writeString(v,_))})}function c(d){var h="[Content_Types].xml",p="http://schemas.openxmlformats.org/package/2006/content-types",y="{"+p+"}Override";return d.read(h,"utf8").then(t.readString).then(function(v){var b=v.children;l(b,y,"PartName",{PartName:r,ContentType:"text/prs.mammoth.style-map"});var _={"":p};return d.write(h,t.writeString(v,_))})}function l(d,h,p,y){var v=s.find(d,function(b){return b.name===h&&b.attributes[p]===y[p]});v?v.attributes=y:d.push(t.element(h,y))}function u(d){return d.exists(i)?d.read(i,"utf8"):e.resolve(null)}return Sd}var Ud={},Is={},$i={},Mr={},r1;function WT(){if(r1)return Mr;r1=1;var s=ep();function e(c,l,u){return n(s.element(c,l,{fresh:!1}),u)}function t(c,l,u){var d=s.element(c,l,{fresh:!0});return n(d,u)}function n(c,l){return{type:"element",tag:c,children:l||[]}}function i(c){return{type:"text",value:c}}var r={type:"forceWrite"};Mr.freshElement=t,Mr.nonFreshElement=e,Mr.elementWithTag=n,Mr.text=i,Mr.forceWrite=r;var a={br:!0,hr:!0,img:!0};function o(c){return c.children.length===0&&a[c.tag.tagName]}return Mr.isVoidElement=o,Mr}var jp,s1;function yN(){if(s1)return jp;s1=1;var s=At,e=WT();function t(v){return n(l(v))}function n(v){var b=[];return v.map(i).forEach(function(_){c(b,_)}),b}function i(v){return r[v.type](v)}var r={element:a,text:o,forceWrite:o};function a(v){return e.elementWithTag(v.tag,n(v.children))}function o(v){return v}function c(v,b){var _=v[v.length-1];b.type==="element"&&!b.tag.fresh&&_&&_.type==="element"&&b.tag.matchesElement(_.tag)?(b.tag.separator&&c(_.children,e.text(b.tag.separator)),b.children.forEach(function(x){c(_.children,x)})):v.push(b)}function l(v){return u(v,function(b){return d[b.type](b)})}function u(v,b){return s.flatten(s.map(v,b),!0)}var d={element:p,text:y,forceWrite:h};function h(v){return[v]}function p(v){var b=l(v.children);return b.length===0&&!e.isVoidElement(v)?[]:[e.elementWithTag(v.tag,b)]}function y(v){return v.value.length===0?[]:[v]}return jp=t,jp}var a1;function jf(){if(a1)return $i;a1=1;var s=WT();$i.freshElement=s.freshElement,$i.nonFreshElement=s.nonFreshElement,$i.elementWithTag=s.elementWithTag,$i.text=s.text,$i.forceWrite=s.forceWrite,$i.simplify=yN();function e(a,o){o.forEach(function(c){t(a,c)})}function t(a,o){n[o.type](a,o)}var n={element:i,text:r,forceWrite:function(){}};function i(a,o){s.isVoidElement(o)?a.selfClosing(o.tag.tagName,o.tag.attributes):(a.open(o.tag.tagName,o.tag.attributes),e(a,o.children),a.close(o.tag.tagName))}function r(a,o){a.text(o.value)}return $i.write=e,$i}var o1;function ep(){if(o1)return Is;o1=1;var s=At,e=jf();Is.topLevelElement=t,Is.elements=n,Is.element=r;function t(o,c){return n([r(o,c,{fresh:!0})])}function n(o){return new i(o.map(function(c){return s.isString(c)?r(c):c}))}function i(o){this._elements=o}i.prototype.wrap=function(c){for(var l=c(),u=this._elements.length-1;u>=0;u--)l=this._elements[u].wrapNodes(l);return l};function r(o,c,l){return l=l||{},new a(o,c,l)}function a(o,c,l){var u={};s.isArray(o)?(o.forEach(function(d){u[d]=!0}),o=o[0]):u[o]=!0,this.tagName=o,this.tagNames=u,this.attributes=c||{},this.fresh=l.fresh,this.separator=l.separator}return a.prototype.matchesElement=function(o){return this.tagNames[o.tagName]&&s.isEqual(this.attributes||{},o.attributes||{})},a.prototype.wrap=function(c){return this.wrapNodes(c())},a.prototype.wrapNodes=function(c){return[e.elementWithTag(this,c)]},Is.empty=n([]),Is.ignore={wrap:function(){return[]}},Is}var eg={},c1;function qT(){return c1||(c1=1,function(s){var e=At,t=xs(),n=jf();s.imgElement=i;function i(r){return function(a,o){return t.when(r(a)).then(function(c){var l={};return a.altText&&(l.alt=a.altText),e.extend(l,c),[n.freshElement("img",l)]})}}s.inline=s.imgElement,s.dataUri=i(function(r){return r.readAsBase64String().then(function(a){return{src:"data:"+r.contentType+";base64,"+a}})})}(eg)),eg}var tg={},ng={},l1;function vN(){if(l1)return ng;l1=1;var s=At;ng.writer=e;function e(o){return o=o||{},o.prettyPrint?n():i()}var t={div:!0,p:!0,ul:!0,li:!0};function n(){var o=0,c="  ",l=[],u=!0,d=!1,h=i();function p(T,E){t[T]&&D(),l.push(T),h.open(T,E),t[T]&&o++,u=!1}function y(T){t[T]&&(o--,D()),l.pop(),h.close(T)}function v(T){x();var E=A()?T:T.replace(`
`,`
`+c);h.text(E)}function b(T,E){D(),h.selfClosing(T,E)}function _(){return l.length===0||t[l[l.length-1]]}function x(){d||(D(),d=!0)}function D(){if(d=!1,!u&&_()&&!A()){h._append(`
`);for(var T=0;T<o;T++)h._append(c)}}function A(){return s.some(l,function(T){return T==="pre"})}return{asString:h.asString,open:p,close:y,text:v,selfClosing:b}}function i(){var o=[];function c(v,b){var _=d(b);o.push("<"+v+_+">")}function l(v){o.push("</"+v+">")}function u(v,b){var _=d(b);o.push("<"+v+_+" />")}function d(v){return s.map(v,function(b,_){return" "+_+'="'+a(b)+'"'}).join("")}function h(v){o.push(r(v))}function p(v){o.push(v)}function y(){return o.join("")}return{asString:y,open:c,close:l,text:h,selfClosing:u,_append:p}}function r(o){return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(o){return o.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return ng}var ig={},u1;function bN(){if(u1)return ig;u1=1;var s=At;function e(d){return t(d,d)}function t(d,h){return function(){return{start:d,end:h}}}function n(d){var h=d.href||"";return h?{start:"[",end:"]("+h+")",anchorPosition:"before"}:{}}function i(d){var h=d.src||"",p=d.alt||"";return h||p?{start:"!["+p+"]("+h+")"}:{}}function r(d){return function(h,p){return{start:p?`
`:"",end:p?"":`
`,list:{isOrdered:d.isOrdered,indent:p?p.indent+1:0,count:0}}}}function a(d,h,p){h=h||{indent:0,isOrdered:!1,count:0},h.count++,p.hasClosed=!1;var y=h.isOrdered?h.count+".":"-",v=c("	",h.indent)+y+" ";return{start:v,end:function(){if(!p.hasClosed)return p.hasClosed=!0,`
`}}}var o={p:t("",`

`),br:t("",`  
`),ul:r({isOrdered:!1}),ol:r({isOrdered:!0}),li:a,strong:e("__"),em:e("*"),a:n,img:i};(function(){for(var d=1;d<=6;d++)o["h"+d]=t(c("#",d)+" ",`

`)})();function c(d,h){return new Array(h+1).join(d)}function l(){var d=[],h=[],p=null,y={};function v(T,E){E=E||{};var F=o[T]||function(){return{}},I=F(E,p,y);h.push({end:I.end,list:p}),I.list&&(p=I.list);var U=I.anchorPosition==="before";U&&b(E),d.push(I.start||""),U||b(E)}function b(T){T.id&&d.push('<a id="'+T.id+'"></a>')}function _(T){var E=h.pop();p=E.list;var F=s.isFunction(E.end)?E.end():E.end;d.push(F||"")}function x(T,E){v(T,E),_()}function D(T){d.push(u(T))}function A(){return d.join("")}return{asString:A,open:v,close:_,text:D,selfClosing:x}}ig.writer=l;function u(d){return d.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}return ig}var d1;function _N(){if(d1)return tg;d1=1;var s=vN(),e=bN();tg.writer=t;function t(n){return n=n||{},n.outputFormat==="markdown"?e.writer():s.writer(n)}return tg}var h1;function xN(){if(h1)return Ud;h1=1;var s=At,e=xs(),t=Ka(),n=ep(),i=Ur(),r=qT(),a=jf(),o=_N();Ud.DocumentConverter=c;function c(b){return{convertToHtml:function(_){var x=s.indexBy(_.type===t.types.document?_.comments:[],"commentId"),D=new l(b,x);return D.convertToHtml(_)}}}function l(b,_){var x=1,D=[],A=[];b=s.extend({ignoreEmptyParagraphs:!0},b);var T=b.idPrefix===void 0?"":b.idPrefix,E=b.ignoreEmptyParagraphs,F=n.topLevelElement("p"),I=b.styleMap||[];function U(C){var re=[],te=G(C,re,{}),V=[];y(te,function(ee){ee.type==="deferred"&&V.push(ee)});var q={};return e.mapSeries(V,function(ee){return ee.value().then(function(he){q[ee.id]=he})}).then(function(){function ee(se){return p(se,function($){return $.type==="deferred"?q[$.id]:$.children?[s.extend({},$,{children:ee($.children)})]:[$]})}var he=o.writer({prettyPrint:b.prettyPrint,outputFormat:b.outputFormat});return a.write(he,a.simplify(ee(te))),new i.Result(he.asString(),re)})}function L(C,re,te){return p(C,function(V){return G(V,re,te)})}function G(C,re,te){if(!te)throw new Error("options not set");var V=Le[C.type];return V?V(C,re,te):[]}function S(C,re,te){return k(C,re).wrap(function(){var V=L(C.children,re,te);return E?V:[a.forceWrite].concat(V)})}function k(C,re){var te=P(C);return te?te.to:(C.styleId&&re.push(h("paragraph",C)),F)}function w(C,re,te){var V=function(){return L(C.children,re,te)},q=[];if(C.highlight!==null){var ee=W({type:"highlight",color:C.highlight});ee&&q.push(ee)}C.isSmallCaps&&q.push(X("smallCaps")),C.isAllCaps&&q.push(X("allCaps")),C.isStrikethrough&&q.push(X("strikethrough","s")),C.isUnderline&&q.push(X("underline")),C.verticalAlignment===t.verticalAlignment.subscript&&q.push(n.element("sub",{},{fresh:!1})),C.verticalAlignment===t.verticalAlignment.superscript&&q.push(n.element("sup",{},{fresh:!1})),C.isItalic&&q.push(X("italic","em")),C.isBold&&q.push(X("bold","strong"));var he=n.empty,se=P(C);return se?he=se.to:C.styleId&&re.push(h("run",C)),q.push(he),q.forEach(function($){V=$.wrap.bind($,V)}),V()}function X(C,re){var te=W({type:C});return te||(re?n.element(re,{},{fresh:!1}):n.empty)}function W(C,re){var te=P(C);return te?te.to:re}function P(C){for(var re=0;re<I.length;re++)if(I[re].from.matches(C))return I[re]}function Z(C){return function(re,te){return e.attempt(function(){return C(re,te)}).caught(function(V){return te.push(i.error(V)),[]})}}function K(C){return H(C.noteType,C.noteId)}function oe(C){return Y(C.noteType,C.noteId)}function H(C,re){return Q(C+"-"+re)}function Y(C,re){return Q(C+"-ref-"+re)}function Q(C){return T+C}var ce=n.elements([n.element("table",{},{fresh:!0})]);function le(C,re,te){return W(C,ce).wrap(function(){return ve(C,re,te)})}function ve(C,re,te){var V=s.findIndex(C.children,function(se){return!se.type===t.types.tableRow||!se.isHeader});V===-1&&(V=C.children.length);var q;if(V===0)q=L(C.children,re,s.extend({},te,{isTableHeader:!1}));else{var ee=L(C.children.slice(0,V),re,s.extend({},te,{isTableHeader:!0})),he=L(C.children.slice(V),re,s.extend({},te,{isTableHeader:!1}));q=[a.freshElement("thead",{},ee),a.freshElement("tbody",{},he)]}return[a.forceWrite].concat(q)}function me(C,re,te){var V=L(C.children,re,te);return[a.freshElement("tr",{},[a.forceWrite].concat(V))]}function ye(C,re,te){var V=te.isTableHeader?"th":"td",q=L(C.children,re,te),ee={};return C.colSpan!==1&&(ee.colspan=C.colSpan.toString()),C.rowSpan!==1&&(ee.rowspan=C.rowSpan.toString()),[a.freshElement(V,ee,[a.forceWrite].concat(q))]}function xe(C,re,te){return W(C,n.ignore).wrap(function(){var V=_[C.commentId],q=A.length+1,ee="["+v(V)+q+"]";return A.push({label:ee,comment:V}),[a.freshElement("a",{href:"#"+H("comment",C.commentId),id:Y("comment",C.commentId)},[a.text(ee)])]})}function we(C,re,te){var V=C.label,q=C.comment,ee=L(q.body,re,te).concat([a.nonFreshElement("p",{},[a.text(" "),a.freshElement("a",{href:"#"+Y("comment",q.commentId)},[a.text("")])])]);return[a.freshElement("dt",{id:H("comment",q.commentId)},[a.text("Comment "+V)]),a.freshElement("dd",{},ee)]}function ke(C,re,te){return $e(C).wrap(function(){return[]})}function $e(C){var re=P(C);return re?re.to:C.breakType==="line"?n.topLevelElement("br"):n.empty}var Le={document:function(C,re,te){var V=L(C.children,re,te),q=D.map(function(he){return C.notes.resolve(he)}),ee=L(q,re,te);return V.concat([a.freshElement("ol",{},ee),a.freshElement("dl",{},p(A,function(he){return we(he,re,te)}))])},paragraph:S,run:w,text:function(C,re,te){return[a.text(C.value)]},tab:function(C,re,te){return[a.text("	")]},hyperlink:function(C,re,te){var V=C.anchor?"#"+Q(C.anchor):C.href,q={href:V};C.targetFrame!=null&&(q.target=C.targetFrame);var ee=L(C.children,re,te);return[a.nonFreshElement("a",q,ee)]},bookmarkStart:function(C,re,te){var V=a.freshElement("a",{id:Q(C.name)},[a.forceWrite]);return[V]},noteReference:function(C,re,te){D.push(C);var V=a.freshElement("a",{href:"#"+K(C),id:oe(C)},[a.text("["+x+++"]")]);return[a.freshElement("sup",{},[V])]},note:function(C,re,te){var V=L(C.body,re,te),q=a.elementWithTag(n.element("p",{},{fresh:!1}),[a.text(" "),a.freshElement("a",{href:"#"+oe(C)},[a.text("")])]),ee=V.concat([q]);return a.freshElement("li",{id:K(C)},ee)},commentReference:xe,comment:we,image:d(Z(b.convertImage||r.dataUri)),table:le,tableRow:me,tableCell:ye,break:ke};return{convertToHtml:U}}var u=1;function d(b){return function(_,x,D){return[{type:"deferred",id:u++,value:function(){return b(_,x,D)}}]}}function h(b,_){return i.warning("Unrecognised "+b+" style: '"+_.styleName+"' (Style ID: "+_.styleId+")")}function p(b,_){return s.flatten(b.map(_),!0)}function y(b,_){b.forEach(function(x){_(x),x.children&&y(x.children,_)})}var v=Ud.commentAuthorLabel=function(_){return _.authorInitials||""};return Ud}var rg={},f1;function DN(){if(f1)return rg;f1=1;var s=Ka();function e(t){if(t.type==="text")return t.value;if(t.type===s.types.tab)return"	";var n=t.type==="paragraph"?`

`:"";return(t.children||[]).map(e).join("")+n}return rg.convertElementToRawText=e,rg}var Lc={},Jn={},sg={},ag={exports:{}},p1;function TN(){if(p1)return ag.exports;p1=1;var s=ag.exports=function(e,t){this._tokens=e,this._startIndex=t||0};return s.prototype.head=function(){return this._tokens[this._startIndex]},s.prototype.tail=function(e){return new s(this._tokens,this._startIndex+1)},s.prototype.toArray=function(){return this._tokens.slice(this._startIndex)},s.prototype.end=function(){return this._tokens[this._tokens.length-1]},s.prototype.to=function(e){var t=this.head().source,n=e.head()||e.end();return t.to(n.source)},ag.exports}var g1;function AN(){if(g1)return sg;g1=1;var s=TN();return sg.Parser=function(e){var t=function(n,i){return n(new s(i))};return{parseTokens:t}},sg}var og={},cg={},m1;function CN(){return m1||(m1=1,function(s){s.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return s.none},flatMap:function(){return s.none},filter:function(){return s.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(n){return typeof n=="function"?n():n}s.some=function(n){return new t(n)};var t=function(n){this._value=n};t.prototype.value=function(){return this._value},t.prototype.isNone=function(){return!1},t.prototype.isSome=function(){return!0},t.prototype.map=function(n){return new t(n(this._value))},t.prototype.flatMap=function(n){return n(this._value)},t.prototype.filter=function(n){return n(this._value)?this:s.none},t.prototype.toArray=function(){return[this._value]},t.prototype.orElse=function(n){return this},t.prototype.valueOrElse=function(n){return this._value},s.isOption=function(n){return n===s.none||n instanceof t},s.fromNullable=function(n){return n==null?s.none:new t(n)}}(cg)),cg}var lg,y1;function sv(){if(y1)return lg;y1=1,lg={failure:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new s({status:"failure",remaining:t,errors:e})},error:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new s({status:"error",remaining:t,errors:e})},success:function(e,t,n){return new s({status:"success",value:e,source:n,remaining:t,errors:[]})},cut:function(e){return new s({status:"cut",remaining:e,errors:[]})}};var s=function(e){this._value=e.value,this._status=e.status,this._hasValue=e.value!==void 0,this._remaining=e.remaining,this._source=e.source,this._errors=e.errors};return s.prototype.map=function(e){return this._hasValue?new s({value:e(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this},s.prototype.changeRemaining=function(e){return new s({value:this._value,status:this._status,remaining:e,source:this._source,errors:this._errors})},s.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"},s.prototype.isFailure=function(){return this._status==="failure"},s.prototype.isError=function(){return this._status==="error"},s.prototype.isCut=function(){return this._status==="cut"},s.prototype.value=function(){return this._value},s.prototype.remaining=function(){return this._remaining},s.prototype.source=function(){return this._source},s.prototype.errors=function(){return this._errors},lg}var ug={},v1;function VT(){if(v1)return ug;v1=1,ug.error=function(e){return new s(e)};var s=function(e){this.expected=e.expected,this.actual=e.actual,this._location=e.location};return s.prototype.describe=function(){var e=this._location?this._location.describe()+`:
`:"";return e+"Expected "+this.expected+`
but got `+this.actual},s.prototype.lineNumber=function(){return this._location.lineNumber()},s.prototype.characterNumber=function(){return this._location.characterNumber()},ug}var dg={},b1;function EN(){if(b1)return dg;b1=1,dg.fromArray=function(e){var t=0,n=function(){return t<e.length};return new s({hasNext:n,next:function(){if(n())return e[t++];throw new Error("No more elements")}})};var s=function(e){this._iterator=e};return s.prototype.map=function(e){var t=this._iterator;return new s({hasNext:function(){return t.hasNext()},next:function(){return e(t.next())}})},s.prototype.filter=function(e){var t=this._iterator,n=!1,i=!1,r,a=function(){if(!n)for(n=!0,i=!1;t.hasNext()&&!i;)r=t.next(),i=e(r)};return new s({hasNext:function(){return a(),i},next:function(){a();var o=r;return n=!1,o}})},s.prototype.first=function(){var e=this._iterator;return this._iterator.hasNext()?e.next():null},s.prototype.toArray=function(){for(var e=[];this._iterator.hasNext();)e.push(this._iterator.next());return e},dg}var _1;function zT(){return _1||(_1=1,function(s){var e=At,t=CN(),n=sv(),i=VT(),r=EN();s.token=function(h,p){var y=p!==void 0;return function(v){var b=v.head();if(b&&b.name===h&&(!y||b.value===p))return n.success(b.value,v.tail(),b.source);var _=u({name:h,value:p});return d(v,_)}},s.tokenOfType=function(h){return s.token(h)},s.firstOf=function(h,p){return e.isArray(p)||(p=Array.prototype.slice.call(arguments,1)),function(y){return r.fromArray(p).map(function(v){return v(y)}).filter(function(v){return v.isSuccess()||v.isError()}).first()||d(y,h)}},s.then=function(h,p){return function(y){var v=h(y);return v.map||console.log(v),v.map(p)}},s.sequence=function(){var h=Array.prototype.slice.call(arguments,0),p=function(v){var b=e.foldl(h,function(x,D){var A=x.result,T=x.hasCut;if(!A.isSuccess())return{result:A,hasCut:T};var E=D(A.remaining());if(E.isCut())return{result:A,hasCut:!0};if(E.isSuccess()){var F;D.isCaptured?F=A.value().withValue(D,E.value()):F=A.value();var I=E.remaining(),U=v.to(I);return{result:n.success(F,I,U),hasCut:T}}else return T?{result:n.error(E.errors(),E.remaining()),hasCut:T}:{result:E,hasCut:T}},{result:n.success(new a,v),hasCut:!1}).result,_=v.to(b.remaining());return b.map(function(x){return x.withValue(s.sequence.source,_)})};p.head=function(){var v=e.find(h,y);return s.then(p,s.sequence.extract(v))},p.map=function(v){return s.then(p,function(b){return v.apply(this,b.toArray())})};function y(v){return v.isCaptured}return p};var a=function(h,p){this._values=h||{},this._valuesArray=p||[]};a.prototype.withValue=function(h,p){if(h.captureName&&h.captureName in this._values)throw new Error('Cannot add second value for capture "'+h.captureName+'"');var y=e.clone(this._values);y[h.captureName]=p;var v=this._valuesArray.concat([p]);return new a(y,v)},a.prototype.get=function(h){if(h.captureName in this._values)return this._values[h.captureName];throw new Error('No value for capture "'+h.captureName+'"')},a.prototype.toArray=function(){return this._valuesArray},s.sequence.capture=function(h,p){var y=function(){return h.apply(this,arguments)};return y.captureName=p,y.isCaptured=!0,y},s.sequence.extract=function(h){return function(p){return p.get(h)}},s.sequence.applyValues=function(h){var p=Array.prototype.slice.call(arguments,1);return function(y){var v=p.map(function(b){return y.get(b)});return h.apply(this,v)}},s.sequence.source={captureName:"source"},s.sequence.cut=function(){return function(h){return n.cut(h)}},s.optional=function(h){return function(p){var y=h(p);return y.isSuccess()?y.map(t.some):y.isFailure()?n.success(t.none,p):y}},s.zeroOrMoreWithSeparator=function(h,p){return l(h,p,!1)},s.oneOrMoreWithSeparator=function(h,p){return l(h,p,!0)};var o=s.zeroOrMore=function(h){return function(p){for(var y=[],v;(v=h(p))&&v.isSuccess();)p=v.remaining(),y.push(v.value());return v.isError()?v:n.success(y,p)}};s.oneOrMore=function(h){return s.oneOrMoreWithSeparator(h,c)};function c(h){return n.success(null,h)}var l=function(h,p,y){return function(v){var b=h(v);if(b.isSuccess()){var _=s.sequence.capture(h,"main"),x=o(s.then(s.sequence(p,_),s.sequence.extract(_))),D=x(b.remaining());return n.success([b.value()].concat(D.value()),D.remaining())}else return y||b.isError()?b:n.success([],v)}};s.leftAssociative=function(h,p,y){var v;y?v=[{func:y,rule:p}]:v=p,v=v.map(function(_){return s.then(_.rule,function(x){return function(D,A){return _.func(D,x,A)}})});var b=s.firstOf.apply(null,["rules"].concat(v));return function(_){var x=_,D=h(_);if(!D.isSuccess())return D;for(var A=b(D.remaining());A.isSuccess();){var T=A.remaining(),E=x.to(A.remaining()),F=A.value();D=n.success(F(D.value(),E),T,E),A=b(D.remaining())}return A.isError()?A:D}},s.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},s.nonConsuming=function(h){return function(p){return h(p).changeRemaining(p)}};var u=function(h){return h.value?h.name+' "'+h.value+'"':h.name};function d(h,p){var y,v=h.head();return v?y=i.error({expected:p,actual:u(v),location:v.source}):y=i.error({expected:p,actual:"end of tokens"}),n.failure([y],h)}}(og)),og}var hg={exports:{}},x1;function HT(){if(x1)return hg.exports;x1=1,hg.exports=function(e,t){var n={asString:function(){return e},range:function(i,r){return new s(e,t,i,r)}};return n};var s=function(e,t,n,i){this._string=e,this._description=t,this._startIndex=n,this._endIndex=i};return s.prototype.to=function(e){return new s(this._string,this._description,this._startIndex,e._endIndex)},s.prototype.describe=function(){var e=this._position(),t=this._description?this._description+`
`:"";return t+"Line number: "+e.lineNumber+`
Character number: `+e.characterNumber},s.prototype.lineNumber=function(){return this._position().lineNumber},s.prototype.characterNumber=function(){return this._position().characterNumber},s.prototype._position=function(){for(var e=this,t=0,n=function(){return e._string.indexOf(`
`,t)},i=1;n()!==-1&&n()<this._startIndex;)t=n()+1,i+=1;var r=this._startIndex-t+1;return{lineNumber:i,characterNumber:r}},hg.exports}var fg,D1;function GT(){return D1||(D1=1,fg=function(s,e,t){this.name=s,this.value=e,t&&(this.source=t)}),fg}var pg={},T1;function wN(){return T1||(T1=1,function(s){var e=zT(),t=sv();s.parser=function(r,a,o){var c={rule:h,leftAssociative:p,rightAssociative:y},l=new n(o.map(d)),u=e.firstOf(r,a);function d(_){return{name:_.name,rule:i(_.ruleBuilder.bind(null,c))}}function h(){return v(l)}function p(_){return v(l.untilExclusive(_))}function y(_){return v(l.untilInclusive(_))}function v(_){return b.bind(null,_)}function b(_,x){var D=u(x);return D.isSuccess()?_.apply(D):D}return c};function n(r){function a(d){return new n(r.slice(0,c().indexOf(d)))}function o(d){return new n(r.slice(0,c().indexOf(d)+1))}function c(){return r.map(function(d){return d.name})}function l(d){for(var h,p;;)if(h=u(d.remaining()),h.isSuccess())p=d.source().to(h.source()),d=t.success(h.value()(d.value(),p),h.remaining(),p);else return h.isFailure()?d:h}function u(d){return e.firstOf("infix",r.map(function(h){return h.rule}))(d)}return{apply:l,untilExclusive:a,untilInclusive:o}}s.infix=function(r,a){function o(c){return s.infix(r,function(l){var u=a(l);return function(d){var h=u(d);return h.map(function(p){return function(y,v){return c(y,p,v)}})}})}return{name:r,ruleBuilder:a,map:o}};var i=function(r){var a;return function(o){return a||(a=r()),a(o)}}}(pg)),pg}var gg={},A1;function SN(){if(A1)return gg;A1=1;var s=GT(),e=HT();gg.RegexTokeniser=t;function t(n){n=n.map(function(o){return{name:o.name,regex:new RegExp(o.regex.source,"g")}});function i(o,c){for(var l=new e(o,c),u=0,d=[];u<o.length;){var h=r(o,u,l);u=h.endIndex,d.push(h.token)}return d.push(a(o,l)),d}function r(o,c,l){for(var u=0;u<n.length;u++){var d=n[u].regex;d.lastIndex=c;var h=d.exec(o);if(h){var y=c+h[0].length;if(h.index===c&&y>c){var p=h[1],v=new s(n[u].name,p,l.range(c,y));return{token:v,endIndex:y}}}}var y=c+1,v=new s("unrecognisedCharacter",o.substring(c,y),l.range(c,y));return{token:v,endIndex:y}}function a(o,c){return new s("end",null,c.range(o.length,o.length))}return{tokenise:i}}return gg}var C1;function $T(){return C1||(C1=1,Jn.Parser=AN().Parser,Jn.rules=zT(),Jn.errors=VT(),Jn.results=sv(),Jn.StringSource=HT(),Jn.Token=GT(),Jn.bottomUp=wN(),Jn.RegexTokeniser=SN().RegexTokeniser,Jn.rule=function(s){var e;return function(t){return e||(e=s()),e(t)}}),Jn}var Pt={},E1;function UN(){if(E1)return Pt;E1=1,Pt.paragraph=s,Pt.run=e,Pt.table=t,Pt.bold=new i("bold"),Pt.italic=new i("italic"),Pt.underline=new i("underline"),Pt.strikethrough=new i("strikethrough"),Pt.allCaps=new i("allCaps"),Pt.smallCaps=new i("smallCaps"),Pt.highlight=n,Pt.commentReference=new i("commentReference"),Pt.lineBreak=new a({breakType:"line"}),Pt.pageBreak=new a({breakType:"page"}),Pt.columnBreak=new a({breakType:"column"}),Pt.equalTo=c,Pt.startsWith=l;function s(h){return new i("paragraph",h)}function e(h){return new i("run",h)}function t(h){return new i("table",h)}function n(h){return new r(h)}function i(h,p){p=p||{},this._elementType=h,this._styleId=p.styleId,this._styleName=p.styleName,p.list&&(this._listIndex=p.list.levelIndex,this._listIsOrdered=p.list.isOrdered)}i.prototype.matches=function(h){return h.type===this._elementType&&(this._styleId===void 0||h.styleId===this._styleId)&&(this._styleName===void 0||h.styleName&&this._styleName.operator(this._styleName.operand,h.styleName))&&(this._listIndex===void 0||o(h,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===h.breakType)};function r(h){h=h||{},this._color=h.color}r.prototype.matches=function(h){return h.type==="highlight"&&(this._color===void 0||h.color===this._color)};function a(h){h=h||{},this._breakType=h.breakType}a.prototype.matches=function(h){return h.type==="break"&&(this._breakType===void 0||h.breakType===this._breakType)};function o(h,p,y){return h.numbering&&h.numbering.level==p&&h.numbering.isOrdered==y}function c(h){return{operator:u,operand:h}}function l(h){return{operator:d,operand:h}}function u(h,p){return h.toUpperCase()===p.toUpperCase()}function d(h,p){return p.toUpperCase().indexOf(h.toUpperCase())===0}return Pt}var mg={},w1;function FN(){if(w1)return mg;w1=1;var s=$T(),e=s.RegexTokeniser;mg.tokenise=n;var t="'((?:\\\\.|[^'])*)";function n(i){var r="(?:[a-zA-Z\\-_]|\\\\.)",a=new e([{name:"identifier",regex:new RegExp("("+r+"(?:"+r+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(t+"'")},{name:"unterminated-string",regex:new RegExp(t)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return a.tokenise(i)}return mg}var S1;function IN(){if(S1)return Lc;S1=1;var s=At,e=$T(),t=UN(),n=ep(),i=FN().tokenise,r=Ur();Lc.readHtmlPath=u,Lc.readDocumentMatcher=c,Lc.readStyle=a;function a(I){return A(F,I)}function o(){return e.rules.sequence(e.rules.sequence.capture(l()),e.rules.tokenOfType("whitespace"),e.rules.tokenOfType("arrow"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("whitespace"),e.rules.sequence.capture(d())).head())),e.rules.tokenOfType("end")).map(function(I,U){return{from:I,to:U.valueOrElse(n.empty)}})}function c(I){return A(l(),I)}function l(){var I=e.rules.sequence,U=function(we,ke){return e.rules.then(e.rules.token("identifier",we),function(){return ke})},L=U("p",t.paragraph),G=U("r",t.run),S=e.rules.firstOf("p or r or table",L,G),k=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(h)).map(function(we){return{styleId:we}}),w=e.rules.firstOf("style name matcher",e.rules.then(e.rules.sequence(e.rules.tokenOfType("equals"),e.rules.sequence.cut(),e.rules.sequence.capture(y)).head(),function(we){return{styleName:t.equalTo(we)}}),e.rules.then(e.rules.sequence(e.rules.tokenOfType("startsWith"),e.rules.sequence.cut(),e.rules.sequence.capture(y)).head(),function(we){return{styleName:t.startsWith(we)}})),X=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","style-name"),e.rules.sequence.capture(w),e.rules.tokenOfType("close-square-bracket")).head(),W=e.rules.firstOf("list type",U("ordered-list",{isOrdered:!0}),U("unordered-list",{isOrdered:!1})),P=I(e.rules.tokenOfType("colon"),I.capture(W),I.cut(),e.rules.tokenOfType("open-paren"),I.capture(p),e.rules.tokenOfType("close-paren")).map(function(we,ke){return{list:{isOrdered:we.isOrdered,levelIndex:ke-1}}});function Z(we){var ke=e.rules.firstOf.apply(e.rules.firstOf,["matcher suffix"].concat(we)),$e=e.rules.zeroOrMore(ke);return e.rules.then($e,function(Le){var C={};return Le.forEach(function(re){s.extend(C,re)}),C})}var K=I(I.capture(S),I.capture(Z([k,X,P]))).map(function(we,ke){return we(ke)}),oe=I(e.rules.token("identifier","table"),I.capture(Z([k,X]))).map(function(we){return t.table(we)}),H=U("b",t.bold),Y=U("i",t.italic),Q=U("u",t.underline),ce=U("strike",t.strikethrough),le=U("all-caps",t.allCaps),ve=U("small-caps",t.smallCaps),me=I(e.rules.token("identifier","highlight"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","color"),e.rules.tokenOfType("equals"),e.rules.sequence.capture(y),e.rules.tokenOfType("close-square-bracket")).head()))).map(function(we){return t.highlight({color:we.valueOrElse(void 0)})}),ye=U("comment-reference",t.commentReference),xe=I(e.rules.token("identifier","br"),I.cut(),e.rules.tokenOfType("open-square-bracket"),e.rules.token("identifier","type"),e.rules.tokenOfType("equals"),I.capture(y),e.rules.tokenOfType("close-square-bracket")).map(function(we){switch(we){case"line":return t.lineBreak;case"page":return t.pageBreak;case"column":return t.columnBreak}});return e.rules.firstOf("element type",K,oe,H,Y,Q,ce,le,ve,me,ye,xe)}function u(I){return A(d(),I)}function d(){var I=e.rules.sequence.capture,U=e.rules.tokenOfType("whitespace"),L=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","fresh"))),function(w){return w.map(function(){return!0}).valueOrElse(!1)}),G=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","separator"),e.rules.tokenOfType("open-paren"),I(y),e.rules.tokenOfType("close-paren")).head()),function(w){return w.valueOrElse("")}),S=e.rules.oneOrMoreWithSeparator(h,e.rules.tokenOfType("choice")),k=e.rules.sequence(I(S),I(e.rules.zeroOrMore(D)),I(L),I(G)).map(function(w,X,W,P){var Z={},K={};return X.forEach(function(oe){oe.append&&Z[oe.name]?Z[oe.name]+=" "+oe.value:Z[oe.name]=oe.value}),W&&(K.fresh=!0),P&&(K.separator=P),n.element(w,Z,K)});return e.rules.firstOf("html path",e.rules.then(e.rules.tokenOfType("bang"),function(){return n.ignore}),e.rules.then(e.rules.zeroOrMoreWithSeparator(k,e.rules.sequence(U,e.rules.tokenOfType("gt"),U)),n.elements))}var h=e.rules.then(e.rules.tokenOfType("identifier"),b),p=e.rules.tokenOfType("integer"),y=e.rules.then(e.rules.tokenOfType("string"),b),v={n:`
`,r:"\r",t:"	"};function b(I){return I.replace(/\\(.)/g,function(U,L){return v[L]||L})}var _=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.sequence.capture(h),e.rules.tokenOfType("equals"),e.rules.sequence.capture(y),e.rules.tokenOfType("close-square-bracket")).map(function(I,U){return{name:I,value:U,append:!1}}),x=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(h)).map(function(I){return{name:"class",value:I,append:!0}}),D=e.rules.firstOf("attribute or class",_,x);function A(I,U){var L=i(U),G=e.Parser(),S=G.parseTokens(I,L);return S.isSuccess()?r.success(S.value()):new r.Result(null,[r.warning(T(U,S))])}function T(I,U){return"Did not understand this style mapping, so ignored it: "+I+`
`+U.errors().map(E).join(`
`)}function E(I){return"Error was at character number "+I.characterNumber()+": Expected "+I.expected+" but got "+I.actual}var F=o();return Lc}var Bc={},U1;function RN(){if(U1)return Bc;U1=1,Bc.readOptions=n;var s=At,e=Bc._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh"],t=Bc._standardOptions={transformDocument:r,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function n(a){return a=a||{},s.extend({},t,a,{customStyleMap:i(a.styleMap),readStyleMap:function(){var o=this.customStyleMap;return this.includeEmbeddedStyleMap&&(o=o.concat(i(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(o=o.concat(e)),o}})}function i(a){return a?s.isString(a)?a.split(`
`).map(function(o){return o.trim()}).filter(function(o){return o!==""&&o.charAt(0)!=="#"}):a:[]}function r(a){return a}return Bc}var yg={},F1;function kN(){if(F1)return yg;F1=1;var s=xs(),e=MT();yg.openZip=t;function t(n){return n.arrayBuffer?s.resolve(e.openArrayBuffer(n.arrayBuffer)):s.reject(new Error("Could not find file in options"))}return yg}var Rs={},I1;function MN(){if(I1)return Rs;I1=1;var s=At;Rs.paragraph=e,Rs.run=t,Rs._elements=i,Rs.getDescendantsOfType=r,Rs.getDescendants=a;function e(c){return n("paragraph",c)}function t(c){return n("run",c)}function n(c,l){return i(function(u){return u.type===c?l(u):u})}function i(c){return function l(u){if(u.children){var d=s.map(u.children,l);u=s.extend(u,{children:d})}return c(u)}}function r(c,l){return a(c).filter(function(u){return u.type===l})}function a(c){var l=[];return o(c,function(u){l.push(u)}),l}function o(c,l){c.children&&c.children.forEach(function(u){o(u,l),l(u)})}return Rs}var vg={},R1;function NN(){if(R1)return vg;R1=1;var s=ep(),e=jf();vg.element=t;function t(n){return function(i){return e.elementWithTag(s.element(n),[i])}}return vg}var k1;function PN(){if(k1)return On;k1=1;var s=At,e=gN(),t=mN(),n=xN().DocumentConverter,i=DN().convertElementToRawText,r=IN().readStyle,a=RN().readOptions,o=kN(),c=Ur().Result;On.convertToHtml=l,On.convertToMarkdown=u,On.convert=d,On.extractRawText=v,On.images=qT(),On.transforms=MN(),On.underline=NN(),On.embedStyleMap=b,On.readEmbeddedStyleMap=h;function l(_,x){return d(_,x)}function u(_,x){var D=Object.create(x||{});return D.outputFormat="markdown",d(_,D)}function d(_,x){return x=a(x),o.openZip(_).tap(function(D){return t.readStyleMap(D).then(function(A){x.embeddedStyleMap=A})}).then(function(D){return e.read(D,_).then(function(A){return A.map(x.transformDocument)}).then(function(A){return p(A,x)})})}function h(_){return o.openZip(_).then(t.readStyleMap)}function p(_,x){var D=y(x.readStyleMap()),A=s.extend({},x,{styleMap:D.value}),T=new n(A);return _.flatMapThen(function(E){return D.flatMapThen(function(F){return T.convertToHtml(E)})})}function y(_){return c.combine((_||[]).map(r)).map(function(x){return x.filter(function(D){return!!D})})}function v(_){return o.openZip(_).then(e.read).then(function(x){return x.map(i)})}function b(_,x){return o.openZip(_).tap(function(D){return t.writeStyleMap(D,x)}).then(function(D){return D.toArrayBuffer()}).then(function(D){return{toArrayBuffer:function(){return D},toBuffer:function(){return Buffer.from(D)}}})}return On.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)},On}var LN=PN();const BN=tA(LN);typeof window<"u"&&(m3.workerSrc="https://esm.sh/pdfjs-dist@4.4.168/build/pdf.worker.min.js");const ON=async s=>{const e=await s.arrayBuffer(),t=await y3({data:e}).promise;let n="";for(let i=1;i<=t.numPages;i++){const a=await(await t.getPage(i)).getTextContent();n+=a.items.map(o=>"str"in o?o.str:"").join(" ")+`
`}return n},WN=async s=>{const e=await s.arrayBuffer();return(await BN.extractRawText({arrayBuffer:e})).value},qN=s=>new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{const r=n.result.split(",");if(r.length!==2){t(new Error("Invalid file data for base64 conversion"));return}const a=r[0].split(":")[1].split(";")[0];e({base64Data:r[1],mimeType:a})},n.onerror=i=>t(i),n.readAsDataURL(s)}),bg=5,_g="quizAICreationTimestamps_unauth",Oc=2,Fd=[.25,.1,.25,1],Yi=({icon:s,label:e,value:t,iconClassName:n="text-[var(--color-primary-accent)]"})=>fe.jsxs("div",{className:"flex items-start py-2.5",children:[fe.jsx("span",{className:`mr-3.5 mt-0.5 flex-shrink-0 ${n}`,children:s}),fe.jsxs("div",{className:"flex-grow",children:[fe.jsx("strong",{className:"text-[var(--color-text-primary)] font-medium block text-sm",children:e}),fe.jsx("span",{className:"text-[var(--color-text-secondary)] text-sm leading-relaxed",children:t})]})]});Yi.displayName="SummaryItem";const VN=()=>{const{addQuiz:s,language:e,isGeminiKeyAvailable:t,currentUser:n}=nA(),{t:i}=iA(),r=rA(),[a,o]=ze.useState(1),[c,l]=ze.useState(null),[u,d]=ze.useState(""),[h,p]=ze.useState(null),[y,v]=ze.useState(null),[b,_]=ze.useState(null),[x,D]=ze.useState(""),[A,T]=ze.useState(""),E=!0,[F,I]=ze.useState(E),[U,L]=ze.useState("Medium"),[G,S]=ze.useState(10),[k,w]=ze.useState({numQuestions:0,difficulty:"AI-Determined",language:e==="vi"?"Vietnamese":"English",selectedModel:Mn}),[X,W]=ze.useState(!1),[P,Z]=ze.useState(!1),[K,oe]=ze.useState(null),[H,Y]=ze.useState(0),[Q,ce]=ze.useState(""),[le,ve]=ze.useState(!1),[me,ye]=ze.useState(!1),xe=se=>{oe(se),se&&Ze.warn(`Processing Error Set: ${se}`,"QuizCreatePage")};ze.useEffect(()=>{w(se=>({...se,language:e==="vi"?"Vietnamese":"English",difficulty:F?"AI-Determined":U!=="AI-Determined"?U:"Medium",numQuestions:F?se.numQuestions:G>0?G:10,selectedModel:Mn}))},[e,F,U,G]),ze.useEffect(()=>{window.scrollTo(0,0)},[a]);const we=()=>!t,ke=async se=>{Ze.info("File upload initiated.","QuizCreatePage",{filename:se.name,filetype:se.type}),l(se),d(""),v(null),p(null),_(null),W(!0),xe(null),Y(0);try{D(se.name.split(".").slice(0,-1).join(".")||i("step2QuizTitlePlaceholder")),Y(10),await new Promise(z=>setTimeout(z,200));let $=null;if(se.type==="application/pdf")Y(30),$=await ON(se),Y(70);else if(se.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||se.name.endsWith(".docx"))Y(30),$=await WN(se),Y(70);else if(se.type.startsWith("image/")){Y(30);const z=await qN(se);v(z),Y(50),we()?(Ze.warn("API key for Gemini is missing. Skipping text extraction from image for display.","QuizCreatePageFileProcessing"),$=i("step1ErrorProcessingFile")+" (API Key missing for text extraction)"):$=await gR(z)||i("step1ErrorProcessingFile")+" (AI could not extract text)",_($),Y(70)}else if(se.type==="text/plain"||se.name.endsWith(".txt"))Y(30),$=await se.text(),Y(70);else throw new Error(i("step1ErrorUnsupportedFile"));p($),Ze.info("File processed successfully.","QuizCreatePage",{extractedTextLength:$==null?void 0:$.length}),await new Promise(z=>setTimeout(z,300)),Y(100),o(2)}catch($){Ze.error("Error processing file:","QuizCreatePageFileProcessing",void 0,$),xe($ instanceof Error?$.message:i("step1ErrorProcessingFile")),Y(0)}finally{W(!1)}},$e=()=>{u.trim()?(Ze.info("Using pasted text.","QuizCreatePage",{textLength:u.trim().length}),p(u.trim()),l(null),v(null),_(null),D(i("step2PastedText")+" Quiz"),o(2),xe(null)):(xe(i("step1ErrorPasteText")),Ze.warn("Attempted to use empty pasted text.","QuizCreatePage"))},Le=se=>{const{name:$,value:z}=se.target;if($==="numQuestions"){const J=se.target.value,ne=parseInt(J,10),ae=isNaN(ne)||ne<0?0:ne;if(F)w(pe=>({...pe,numQuestions:ae}));else{const pe=ae<=0?1:ae;w(_e=>({..._e,numQuestions:pe})),S(pe)}}else if($==="difficulty"){const J=z;w(ne=>({...ne,difficulty:J,selectedModel:Mn})),!F&&J!=="AI-Determined"&&L(J)}else w(J=>({...J,[$]:z,selectedModel:Mn}))},C=se=>{I(se),se?(k.difficulty!=="AI-Determined"&&L(k.difficulty),S($=>k.numQuestions>0?k.numQuestions:$),w($=>({...$,difficulty:"AI-Determined",numQuestions:0}))):w($=>({...$,difficulty:U==="AI-Determined"?"Medium":U,numQuestions:G>0?G:10}))},re=async()=>{if(Ze.info("Quiz generation initiated.","QuizCreatePageGenerate",{config:k}),we()){xe(i("step3ErrorAPIKeyMissingForModel",{modelName:"Google Gemini"}));return}if(!n){const z=Date.now()-24*60*60*1e3;let J=[];try{const ae=localStorage.getItem(_g);ae&&(J=JSON.parse(ae))}catch(ae){Ze.error("Error reading unauth timestamps from localStorage","QuizCreateRateLimit",void 0,ae),J=[]}if(J.filter(ae=>ae>z).length>=bg){xe(i("rateLimitErrorUnauthenticated",{limit:bg})),Z(!1),Y(0);return}}let se;if(y)se=h&&h.trim()&&b&&h.trim()!==b.trim()?h:y;else if(h&&h.trim())se=h;else if(y&&(!h||!h.trim()))se=y;else{xe(i("step1ErrorProcessingFile"));return}Z(!0),xe(null),Y(0),ce(i("step3AIIsThinking"));for(let $=0;$<=Oc;$++)try{$>0&&(ce(i("step3AIIsRetrying",{currentAttempt:$,maxAttempts:Oc})),await new Promise(pe=>setTimeout(pe,1500*$)));const z={...k,customUserPrompt:A.trim()||void 0,selectedModel:Mn};Y(10+$*5);const J=mR(se,z,x);let ne=setInterval(()=>{Y(pe=>pe>=85-$*5?(clearInterval(ne),pe):Math.min(pe+5,85-$*5))},400);const ae=await J;if(clearInterval(ne),Y(95),!n){let pe=[];try{const ge=localStorage.getItem(_g);ge&&(pe=JSON.parse(ge))}catch(ge){Ze.error("Error reading unauth timestamps for update","QuizCreateRateLimit",void 0,ge),pe=[]}const _e=Date.now(),ie=_e-24*60*60*1e3,ue=pe.filter(ge=>ge>ie);ue.push(_e);try{localStorage.setItem(_g,JSON.stringify(ue))}catch(ge){Ze.error("Error writing unauth timestamps to localStorage","QuizCreateRateLimit",void 0,ge)}}Ze.info("Quiz generated successfully, navigating to review.","QuizCreatePageGenerate",{title:ae.title}),r("/review",{state:{generatedQuizData:ae,quizTitleSuggestion:x||ae.title,finalConfig:z}}),Y(100),Z(!1),ce("");return}catch(z){if(Ze.error(`Error generating quiz (Attempt ${$+1}/${Oc+1}):`,"QuizCreatePageGenerate",{config:k},z),z.message&&z.message.includes("Gemini AI failed to generate quiz")&&$<Oc)$===Oc-1&&Y(70);else{xe(z instanceof Error?z.message:i("step3ErrorGenerate")),Y(0),Z(!1),ce("");return}}},te=()=>{h&&navigator.clipboard.writeText(h).then(()=>{ye(!0),setTimeout(()=>ye(!1),2e3)}).catch(se=>{Ze.error("Failed to copy text to clipboard","QuizCreatePage",void 0,se),alert(i("azotaExportErrorCopy"))})},V=ze.useCallback(()=>ve(!1),[]),q="https://img.icons8.com/?size=256&id=eoxMN35Z6JKg&format=png",ee=(se,$,z,J,ne=!1)=>{const ae=se===$,pe=se>$,_e="text-[var(--color-text-muted)]";let ie;const ue="https://img.icons8.com/?size=256&id=VFaz7MkjAiu0&format=png",ge="w-5 h-5 sm:w-6 sm:h-6 transition-transform var(--duration-fast) var(--ease-ios)";if(pe)ie=fe.jsx("img",{src:ue,alt:i("stepCompleted"),className:ge});else if(ae){let Te="";$===1?Te="https://img.icons8.com/?size=256&id=hwKgsZN5Is2H&format=png":$===2?Te="https://img.icons8.com/?size=256&id=WwHcZxa9PFUq&format=png":$===3&&(Te=q),Te?ie=fe.jsx("img",{src:Te,alt:i(z),className:`${ge} scale-110`}):ld.isValidElement(J)?ie=ld.cloneElement(J,{className:`${ge} scale-110`}):ie=J}else ld.isValidElement(J)?ie=ld.cloneElement(J,{className:ge}):ie=J;return fe.jsxs("div",{className:`flex flex-col items-center transition-colors var(--duration-fast) var(--ease-ios) ${ae?"text-[var(--color-primary-accent)]":pe?"text-green-400":_e}`,children:[fe.jsxs("div",{className:`flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 rounded-full border-2 mb-2.5 transition-all var(--duration-fast) var(--ease-ios) will-change-transform, border, background-color, box-shadow ${ae?"border-[var(--color-primary-accent)] bg-[var(--color-primary-accent)]/20 text-[var(--color-primary-accent)] shadow-xl scale-105":pe?"border-green-400 bg-green-400/20 text-green-400 shadow-lg":`border-[var(--color-border-default)] bg-[var(--color-bg-surface-2)]/60 ${_e}`} font-semibold text-base sm:text-lg`,children:[" ",ie," "]}),fe.jsx("span",{className:`text-xs sm:text-sm font-semibold text-center transition-colors var(--duration-fast) var(--ease-ios) ${ae?"text-[var(--color-text-primary)]":pe?"text-[var(--color-text-secondary)]":_e}`,children:i(z)})]})},he=()=>{switch(a){case 1:return fe.jsxs(Ja,{className:"max-w-xl mx-auto shadow-2xl !rounded-2xl",useGlassEffect:!0,children:[" ",fe.jsxs("div",{className:"space-y-8",children:[" ",fe.jsx(dA,{onFileUpload:ke,acceptedFileTypes:".pdf,.txt,.docx,.jpg,.png,.jpeg",maxFileSizeMB:10,label:fe.jsx("p",{className:"text-base font-semibold text-[var(--color-text-primary)] mb-2",children:i("step1UploadOrDrag")}),icon:fe.jsx("img",{src:"https://img.icons8.com/?size=256&id=hwKgsZN5Is2H&format=png",alt:i("upload"),className:"w-12 h-12 sm:w-14 sm:h-14 mb-3.5 text-[var(--color-text-muted)] group-hover:text-[var(--color-primary-accent)] transition-all var(--duration-fast) var(--ease-ios) group-hover:scale-105"}),isLoading:X,currentFile:c})," ",X&&H>0&&fe.jsx(gv,{progress:H,label:i("step1ProcessingFile"),className:"mt-4 animate-fadeIn"})," ",fe.jsxs("div",{className:"relative flex py-1 items-center",children:[" ",fe.jsx("div",{className:"flex-grow border-t border-[var(--color-border-default)]"})," ",fe.jsx("span",{className:"flex-shrink mx-4 text-[var(--color-text-muted)] text-xs font-medium uppercase tracking-wider",children:i("step1Or")})," ",fe.jsx("div",{className:"flex-grow border-t border-[var(--color-border-default)]"})," "]})," ",fe.jsx(ip,{label:fe.jsx("p",{className:"text-base font-semibold text-[var(--color-text-primary)]",children:i("step1PasteTextLabel")}),value:u,onChange:_e=>d(_e.target.value),placeholder:i("step1PasteTextPlaceholder"),rows:6,className:"min-h-[150px] text-sm paste-text-area"})," ",fe.jsxs(kr,{onClick:$e,disabled:!u.trim()||X,fullWidth:!0,size:"lg",variant:"secondary",className:"py-3 shadow-lg",children:[" ",i("step1UsePastedText")," "]})," ",K&&!X&&fe.jsx("div",{role:"alert",className:"p-3.5 bg-red-500/20 border border-red-500/50 rounded-lg text-sm text-red-300 text-center shadow-md animate-fadeIn",children:K})," "]})," "]});case 2:const se=fe.jsxs("div",{className:"flex items-center text-sm font-semibold text-[var(--color-text-primary)]",children:[" ",fe.jsx("img",{src:"https://www.pngall.com/wp-content/uploads/16/Google-Gemini-Logo-Transparent.png",alt:i("step2AIModelLabel"),className:"w-5 h-5 mr-2.5"})," ",i("step2AIModelLabel")," ",we()&&fe.jsxs(yv,{content:i("apiKeyMissingTooltip"),placement:"top",children:[" ",fe.jsx(aA,{className:"w-4 h-4 text-yellow-400 ml-2.5 cursor-help"})," "]})," "]}),$=fe.jsxs("div",{className:"flex items-center text-sm font-medium text-[var(--color-text-secondary)]",children:[i("step2CustomPromptLabel"),fe.jsx(yv,{content:fe.jsx("div",{className:"max-w-xs text-left text-xs",children:i("step2CustomPromptPlaceholder")}),placement:"top",children:fe.jsx(pv,{className:"w-4 h-4 text-[var(--color-text-muted)] ml-2.5 cursor-help"})})]}),z=[{value:"Easy",label:i("step2DifficultyEasy")},{value:"Medium",label:i("step2DifficultyMedium")},{value:"Hard",label:i("step2DifficultyHard")}],J=[...z,{value:"AI-Determined",label:i("step2DifficultyAIDetermined")}],ne=i(F?"step2NumQuestionsLabelAIMode":"step2NumQuestionsLabel");return fe.jsxs(Ja,{className:"max-w-2xl mx-auto shadow-2xl !rounded-2xl",useGlassEffect:!0,children:[" ",fe.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[" ",fe.jsxs(Ja,{className:"!bg-[var(--color-bg-surface-2)]/70 !border-[var(--color-border-default)] p-4 sm:p-5 !rounded-xl shadow-lg",useGlassEffect:!1,children:[" ",fe.jsx("h3",{className:"text-sm font-semibold text-[var(--color-text-secondary)] mb-2.5",children:i("step2SourceContent")})," ",fe.jsxs("div",{className:"flex items-center text-sm text-[var(--color-text-body)] overflow-x-auto overflow-y-hidden whitespace-nowrap cursor-default thin-scrollbar-horizontal py-0.5",children:[" ",fe.jsx(np,{className:"w-5 h-5 mr-3 text-[var(--color-primary-accent)] flex-shrink-0",strokeWidth:1.5})," ",fe.jsxs("span",{className:"pr-1",children:[" ",c?y?i("step2Image",{fileName:c.name}):i("step2File",{fileName:c.name}):u?i("step2PastedText"):"N/A"," "]})," "]})," ",h&&fe.jsxs(kr,{variant:"secondary",onClick:()=>ve(!0),className:"text-xs !font-semibold mt-3.5 py-2 px-4 rounded-lg shadow-md",leftIcon:fe.jsx(np,{className:"w-4 h-4",strokeWidth:2}),children:[" ",i("step2ViewFullText")," "]})," "]})," ",fe.jsx(vv,{label:fe.jsx("p",{className:"text-base font-semibold text-[var(--color-text-primary)]",children:i("step2QuizTitleLabel")}),name:"quizTitle",value:x,onChange:_e=>D(_e.target.value),placeholder:i("step2QuizTitlePlaceholder"),inputClassName:"text-lg py-3"})," ",fe.jsxs(Ja,{className:"!bg-[var(--color-bg-surface-2)]/70 !border-[var(--color-border-default)] p-4 sm:p-5 !rounded-xl shadow-lg",useGlassEffect:!1,children:[" ",se," ",fe.jsxs("p",{className:"text-sm text-[var(--color-text-secondary)] mt-1.5",children:["Google Gemini ",fe.jsx("span",{className:"font-medium",children:we()?fe.jsxs("span",{className:"text-yellow-400",children:["(",i("apiKeyMissingShort"),")"]}):fe.jsxs("span",{className:"text-green-400",children:["(",i("default"),")"]})})]})," "]})," ",fe.jsxs(Ja,{className:"p-4 sm:p-5 !border-[var(--color-border-default)] !bg-[var(--color-bg-surface-1)]/70 shadow-lg space-y-5 !rounded-xl",useGlassEffect:!1,children:[" ",fe.jsx(oA,{label:fe.jsx("p",{className:"text-base font-semibold text-[var(--color-text-primary)]",children:i("step2AIModeLabel")}),checked:F,onChange:C})," ",fe.jsx(vv,{label:ne,type:"number",name:"numQuestions",value:k.numQuestions,onChange:Le,min:F?"0":"1",max:"50",containerClassName:F?"mt-4":"",placeholder:F&&k.numQuestions===0?i("step2NumQuestionsAIPlaceholder"):void 0})," ",fe.jsx(bv,{label:i("step2DifficultyLabel"),name:"difficulty",value:k.difficulty,onChange:Le,options:F?J:z,disabled:F})," ",fe.jsx(bv,{label:i("step2LanguageLabel"),name:"language",value:k.language,onChange:Le,options:[{value:"English",label:i("step2LanguageEnglish")},{value:"Vietnamese",label:i("step2LanguageVietnamese")}]})," "]})," ",fe.jsx(ip,{label:$,name:"customUserPrompt",value:A,onChange:_e=>T(_e.target.value),placeholder:i("step2CustomPromptPlaceholder").substring(0,60)+"...",rows:4,className:"min-h-[90px] text-sm"})," ",K&&fe.jsx("div",{role:"alert",className:"p-3.5 bg-red-500/20 border border-red-500/50 rounded-lg text-sm text-red-300 text-center shadow-md animate-fadeIn",children:K})," ",fe.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center pt-5 gap-4",children:[" ",fe.jsxs(kr,{variant:"outline",onClick:()=>{o(1),p(null),v(null),l(null),d(""),xe(null),_(null)},leftIcon:fe.jsx(mv,{className:"w-4 h-4"}),size:"lg",className:"w-full sm:w-auto py-3",children:[" ",i("back")," "]})," ",fe.jsxs(kr,{onClick:()=>{o(3),xe(null)},disabled:we()&&k.selectedModel===Mn,rightIcon:fe.jsx(cA,{className:"w-4 h-4"}),variant:"primary",size:"lg",tooltip:we()&&k.selectedModel===Mn?i("apiKeyMissingTooltip"):void 0,className:"w-full sm:w-auto py-3",children:[" ",i("step2NextButton")," "]})," "]})," "]})," ",le&&fe.jsxs(lA,{isOpen:le,onClose:V,title:i("fullTextModalTitle"),size:"3xl",footerContent:fe.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between items-center w-full gap-3 sm:gap-0",children:[" ",fe.jsxs(kr,{variant:"outline",onClick:te,leftIcon:fe.jsx(uA,{className:"w-4 h-4"}),size:"md",className:"w-full sm:w-auto",children:[" ",i(me?"azotaExportCopied":"azotaExportCopy")," "]})," ",fe.jsxs(kr,{onClick:V,variant:"secondary",size:"md",className:"w-full sm:w-auto",children:[" ",i("close")," "]})," "]}),children:[" ",fe.jsx(ip,{value:h||"",readOnly:!0,className:"!bg-[var(--color-bg-surface-2)] !border-[var(--color-border-default)] text-[var(--color-text-primary)] whitespace-pre-wrap text-sm min-h-[60vh] max-h-[65vh] shadow-inner focus:!border-[var(--color-primary-accent)]/70 focus:!ring-[var(--color-primary-accent)]/40",rows:20,"aria-label":i("fullTextModalTitle")})," "]})," "]});case 3:const ae="w-5 h-5";let pe=i("step3GenerateButton");if(P){const _e=Q.match(/Attempt (\d+)\/(\d+)/)||Q.match(/Ln (\d+)\/(\d+)/);if(_e&&_e.length===3){const ie=parseInt(_e[1],10),ue=parseInt(_e[2],10);pe=i("step3GeneratingRetryButton",{currentAttempt:ie,maxAttempts:ue})}else pe=i("step3GeneratingButton")}return fe.jsxs(Ja,{className:"max-w-xl mx-auto shadow-2xl !rounded-2xl",useGlassEffect:!0,children:[" ",fe.jsxs("div",{className:"!bg-[var(--color-bg-surface-2)]/70 p-6 sm:p-8 !rounded-xl mb-8 border border-[var(--color-border-default)] shadow-xl",children:[" ",fe.jsx("h3",{className:"text-2xl sm:text-3xl font-semibold text-[var(--color-text-primary)] mb-6 text-center",children:i("step3SummaryTitle")})," ",fe.jsxs("div",{className:"space-y-1 divide-y divide-[var(--color-border-default)]/50",children:[" ",fe.jsx(Yi,{icon:fe.jsx("img",{src:"https://www.pngall.com/wp-content/uploads/16/Google-Gemini-Logo-Transparent.png",alt:i("step2AIModelLabel"),className:ae}),label:i("step3AIModelSelected",{modelName:""}),value:"Google Gemini"})," ",fe.jsx(Yi,{icon:fe.jsx(np,{className:ae}),label:i("step3TitleSuggestion",{title:""}),value:fe.jsx(fv,{text:x||i("step3TitleAISuggested")})})," ",fe.jsx(Yi,{icon:fe.jsx("img",{src:"https://img.icons8.com/?size=256&id=hwKgsZN5Is2H&format=png",alt:i("upload"),className:ae}),label:i("step3ContentSource",{source:""}),value:c?y?i("step2Image",{fileName:c.name}):i("step2File",{fileName:c.name}):u?i("step2PastedText"):"N/A"})," ",fe.jsx(Yi,{icon:fe.jsx("img",{src:"https://img.icons8.com/?size=256&id=WwHcZxa9PFUq&format=png",alt:i("settings"),className:ae}),label:i("step3Mode",{mode:""}),value:F?i("step3ModeAIOptimized"):"Manual"})," ",fe.jsx(Yi,{icon:fe.jsx("img",{src:"https://img.icons8.com/?size=256&id=PPnPJOpQpJ2J&format=png",alt:i("step3NumQuestions",{count:""}),className:ae}),label:i("step3NumQuestions",{count:""}),value:F&&k.numQuestions===0?i("step2NumQuestionsAIPlaceholder"):k.numQuestions})," ",fe.jsx(Yi,{icon:fe.jsx(sA,{className:ae}),label:i("step3Difficulty",{level:""}),value:k.difficulty==="AI-Determined"?i("step2DifficultyAIDetermined"):i(`step2Difficulty${k.difficulty}`)})," ",fe.jsx(Yi,{icon:fe.jsx("img",{src:"https://img.icons8.com/?size=48&id=fs8AdHsHlO36&format=png",alt:"Language",className:ae}),label:i("step3Language",{lang:""}),value:k.language==="English"?i("step2LanguageEnglish"):i("step2LanguageVietnamese")})," ",fe.jsxs("div",{className:"pt-2.5",children:[" ",fe.jsx(Yi,{icon:fe.jsx(pv,{className:ae}),label:A.trim()?i("step3CustomPromptProvidedLabel"):i("step3CustomPromptNone"),value:A.trim()?fe.jsx("blockquote",{className:"text-xs text-[var(--color-text-body)]/90 italic whitespace-pre-wrap max-h-24 overflow-y-auto bg-[var(--color-bg-surface-1)]/40 p-2 rounded-md mt-1 border-l-2 border-[var(--color-border-default)]/70",children:fe.jsx(fv,{text:A.trim()})}):""})," "]})," "]})," "]})," ",we()&&k.selectedModel===Mn&&fe.jsxs("div",{role:"alert",className:"my-5 p-3.5 bg-red-500/20 border border-red-500/50 rounded-lg text-sm text-red-300 text-center shadow-md animate-fadeIn",children:[i("error"),"! ",i("step3ErrorAPIKeyMissingForModel",{modelName:"Google Gemini"})]})," ",fe.jsxs(kr,{onClick:re,isLoading:P,disabled:P||we()&&k.selectedModel===Mn,fullWidth:!0,size:"lg",variant:"primary",leftIcon:fe.jsx("img",{src:q,alt:i("step3GenerateButton"),className:"w-5 h-5"}),className:"bg-gradient-to-r from-green-500 via-teal-500 to-sky-500 hover:from-green-600 hover:via-teal-600 hover:to-sky-600 text-white dark:text-white shadow-xl hover:shadow-green-500/40 py-3.5 rounded-xl",children:[" ",pe," "]})," ",P&&fe.jsx(gv,{progress:H,label:Q||i("step3AIIsThinking"),className:"mt-6 animate-fadeIn"})," ",K&&!P&&fe.jsx("div",{role:"alert",className:"mt-5 p-3.5 bg-red-500/20 border border-red-500/50 rounded-lg text-sm text-red-300 text-center shadow-md animate-fadeIn",children:K})," ",fe.jsxs("div",{className:"mt-8 text-center",children:[" ",fe.jsxs(kr,{variant:"outline",onClick:()=>{o(2),xe(null),ce("")},leftIcon:fe.jsx(mv,{className:"w-4 h-4"}),size:"lg",className:"w-full sm:w-auto py-3",children:[" ",i("step3BackButtonCfg")," "]})," "]})," "]})}};return fe.jsxs("div",{className:"py-6 sm:py-8",children:[" ",fe.jsxs(cd.div,{className:"relative mb-10 sm:mb-12",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.35,ease:Fd},children:[" ",fe.jsxs("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:[" ",fe.jsx("div",{className:"w-full border-t-2 border-[var(--color-border-default)]/60 border-dashed"})," "]})," ",fe.jsxs("div",{className:"relative flex justify-center",children:[" ",fe.jsxs("span",{className:"px-5 sm:px-6 bg-[var(--color-bg-body)] text-2xl sm:text-3xl font-bold text-[var(--color-text-primary)] tracking-tight",children:[" ",i("createQuiz")," "]})," "]})," "]})," ",fe.jsxs(cd.div,{className:"mb-8 sm:mb-10 text-center px-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.35,ease:Fd,delay:.1},children:[" ",fe.jsxs("p",{className:"text-xs text-[var(--color-text-muted)]",children:[" ",i("rateLimitInfoUnauthenticated",{limit:bg})," ",i("rateLimitInfoAuthenticated")," "]})," "]})," ",fe.jsxs(cd.div,{className:"max-w-lg mx-auto mb-12 sm:mb-16 flex justify-around items-start p-4 sm:p-5 bg-[var(--color-bg-surface-1)]/70 rounded-2xl shadow-xl border border-[var(--color-border-default)] glass-effect",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:Fd,delay:.2},children:[" ",ee(a,1,"step1Title",fe.jsx("img",{src:"https://img.icons8.com/?size=256&id=hwKgsZN5Is2H&format=png",alt:i("step1Title")}))," ",fe.jsxs("div",{className:"flex-grow h-1.5 bg-[var(--color-bg-surface-3)] rounded-full mx-3 sm:mx-5 mt-5 sm:mt-[1.375rem]",children:[fe.jsx("div",{className:"h-1.5 bg-[var(--color-primary-accent)] rounded-full transition-width var(--duration-normal) var(--ease-ios)",style:{width:a===1?"0%":a===2?"50%":"100%"}})," "]})," ",ee(a,2,"step2Title",fe.jsx("img",{src:"https://img.icons8.com/?size=256&id=WwHcZxa9PFUq&format=png",alt:i("step2Title")}))," ",fe.jsxs("div",{className:"flex-grow h-1.5 bg-[var(--color-bg-surface-3)] rounded-full mx-3 sm:mx-5 mt-5 sm:mt-[1.375rem]",children:[fe.jsx("div",{className:"h-1.5 bg-[var(--color-primary-accent)] rounded-full transition-width var(--duration-normal) var(--ease-ios)",style:{width:a<=2?"0%":"100%"}})," "]})," ",ee(a,3,"step3Title",fe.jsx("img",{src:q,alt:i("step3Title"),className:"w-5 h-5 sm:w-6 sm:h-6"}),!0)," "]})," ",fe.jsxs(mA,{mode:"wait",children:[" ",fe.jsxs(cd.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:Fd},children:[" ",he()," "]},a)," "]})," "]})};VN.displayName="QuizCreatePage";export{VN as default};
