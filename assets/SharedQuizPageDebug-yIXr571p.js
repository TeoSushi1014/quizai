import{j as e}from"./ui-BGuvgkTr.js";import{f,u as x,r as t}from"./router-BxjC687J.js";import{c as S,u as D,l as s,W as b,Y as j,Z as m}from"./index-BHoEX43D.js";import"./vendor-DoC2WAmd.js";import"./utils-rUpm7H1u.js";import"./markdown-Bj7tmv2T.js";const A=()=>{var h;const{quizId:i}=f();S();const d=x(),{currentUser:l}=D(),[n,z]=t.useState(null),[Q,g]=t.useState(!0),[c,u]=t.useState(null),[o,a]=t.useState("Component loaded");return t.useEffect(()=>{(async()=>{try{if(s.info("SharedQuizPageDebug: Starting to load quiz","SharedQuizPageDebug",{quizId:i}),a(`Starting to load quiz ID: ${i}`),!i){u("No quiz ID provided"),a("No quiz ID in URL params"),g(!1);return}a(`Quiz ID: ${i}, Valid format: ${b(i)}`);const r=await j(i,l);if(r)s.info("SharedQuizPageDebug: Quiz found!","SharedQuizPageDebug",{quizId:i}),z(r),a(`Quiz found: ${r.title}`);else{s.warn("SharedQuizPageDebug: Quiz not found","SharedQuizPageDebug",{quizId:i});const p=m();u("Quiz not found"),a(`Quiz not found. Available: ${p.join(", ")||"none"}`)}}catch(r){s.error("SharedQuizPageDebug: Error loading quiz","SharedQuizPageDebug",{quizId:i},r),u(`Error: ${r.message}`),a(`Error occurred: ${r.message}`)}finally{g(!1)}})()},[i,l]),Q?e.jsxs("div",{style:{padding:"50px",textAlign:"center"},children:[e.jsx("h1",{children:"Loading Quiz..."}),e.jsxs("p",{children:["Debug: ",o]})]}):c||!n?e.jsxs("div",{style:{padding:"50px",textAlign:"center"},children:[e.jsx("h1",{children:"Error Loading Quiz"}),e.jsxs("p",{children:["Error: ",c]}),e.jsxs("p",{children:["Debug: ",o]}),e.jsxs("p",{children:["Quiz ID: ",i]}),e.jsx("button",{onClick:()=>d("/"),children:"Go Home"})]}):e.jsxs("div",{style:{padding:"50px"},children:[e.jsx("h1",{children:"Quiz Found!"}),e.jsx("h2",{children:n.title}),e.jsxs("p",{children:["Questions: ",((h=n.questions)==null?void 0:h.length)||0]}),e.jsxs("p",{children:["Debug: ",o]}),e.jsx("button",{onClick:()=>d("/"),children:"Go Home"})]})};export{A as default};
