import{U as q,V as ne,k as oe,i as k,h as re,W as le,r as E,A as de,l as v,j as a,E as ce,C,Y as ue,B as z,J as pe,N as xe,Z as me,$ as fe,s as G,D as ge,n as he,O as we,x as B,c as ve,a0 as ye,m as Ee,T as M,a1 as F,v as _,a2 as ze,S as V,y as be,a3 as Ne}from"./index-BiirWOEV.js";const R=e=>{if(!e)return"NB";switch(e){case"Easy":return"NB";case"Medium":return"TH";case"Hard":return"VD";case"AI-Determined":return"NB";default:return"NB"}},P=e=>String.fromCharCode(65+e),$=(e,s,t,n,o=!1)=>{const c=e.questionText;let p=n;const m=c.match(/\(?\[?([A-Z]{2,3})[\]\)]?\.?\s/i);m&&m[1]&&(p=m[1].toUpperCase());let d=`${t("azotaFormatQuestionPrefix")} ${s}.(${p}) ${c}
`;return e.options.forEach((g,w)=>{const b=g===e.correctAnswer;d+=`${o&&b?"*":""}${P(w)}. ${g}	`,(w+1)%2===0&&w<e.options.length-1&&e.options.length>2?d=d.trimEnd()+`
`:d=d.trimEnd()+"  "}),d=d.trim()+`
`,d},Z=(e,s,t,n,o=!1)=>{var g,w;const c=e.explanation.split("Cách giải:"),p=((g=c[0])==null?void 0:g.replace("Phương pháp:","").trim())||"",m=((w=c[1])==null?void 0:w.trim())||(p?"":e.explanation.trim());let d=`${t("azotaFormatQuestionPrefix")} ${s} (${n}):
`;if(p&&(d+=`${t("azotaFormatExplanationMethod")} ${p}
`),d+=`${t("azotaFormatExplanationSolution")} ${m||t("resultsNoExplanation")}
`,o){const b=e.options.findIndex(u=>u===e.correctAnswer);b!==-1&&(d+=`${t("azotaFormatChooseAnswer")} ${P(b)}
`)}return d},Qe=(e,s)=>{var m;let t="";const n=R((m=e.config)==null?void 0:m.difficulty);let o=1;e.questions.length>0&&(t+=`${s("azotaFormatMCQSection")}
`,e.questions.forEach(d=>{t+=$(d,o++,s,n),t+=`
`})),t+=`${s("azotaFormatEndOfQuiz")}
`,t+=`${s("azotaFormatAnswerTableTitle")}
`;let c=1;e.questions.forEach(d=>{const g=d.options.findIndex(w=>w===d.correctAnswer);g!==-1&&(t+=`${c++}${P(g)} `)}),t=t.trim()+`

`,t+=`${s("azotaFormatExplanationSectionTitle")}
`;let p=1;return e.questions.forEach(d=>{var g;t+=Z(d,p++,s,R((g=e.config)==null?void 0:g.difficulty)),t+=`
`}),t},Ie=(e,s)=>{var c;let t="";const n=R((c=e.config)==null?void 0:c.difficulty);let o=1;return e.questions.length>0&&(t+=`${s("azotaFormatMCQSection")}
`,e.questions.forEach(p=>{t+=$(p,o,s,n),t+=`${s("azotaFormatExplanationTitle")}
`,t+=Z(p,o,s,n,!0),t+=`
`,o++})),t},Te=(e,s)=>{var c;let t="";const n=R((c=e.config)==null?void 0:c.difficulty);let o=1;return e.questions.length>0&&(t+=`${s("azotaFormatMCQSection")}
`,e.questions.forEach(p=>{t+=$(p,o++,s,n,!0),t+=`
`})),t};q("en");const J={editableQuiz:null,originalQuiz:null,isLoading:!0,isSaving:!1,error:null,isDirty:!1,questionToDelete:null};function Se(e,s){var t,n;switch(s.type){case"INIT_QUIZ_DATA":return{...J,editableQuiz:JSON.parse(JSON.stringify(s.payload.quiz)),originalQuiz:JSON.parse(JSON.stringify(s.payload.quiz)),isLoading:!1,isDirty:!1};case"SET_LOADING":return{...e,isLoading:s.payload};case"SET_ERROR":return{...e,error:s.payload,isSaving:!1};case"SET_SAVING":return{...e,isSaving:s.payload};case"UPDATE_QUIZ_TITLE":return e.editableQuiz?{...e,editableQuiz:{...e.editableQuiz,title:s.payload},isDirty:!0}:e;case"UPDATE_QUESTION":if(!e.editableQuiz)return e;const o=[...e.editableQuiz.questions];return o[s.payload.index]=s.payload.question,{...e,editableQuiz:{...e.editableQuiz,questions:o},isDirty:!0};case"ADD_QUESTION":if(!e.editableQuiz)return e;const c=q(s.payload.language),p={id:`manual-q-${Date.now()}`,questionText:c("reviewNewQuestionDefaultText"),options:[c("reviewNewOptionDefault",{index:1}),c("reviewNewOptionDefault",{index:2})],correctAnswer:c("reviewNewOptionDefault",{index:1}),explanation:c("reviewNewExplanationDefaultText")};return{...e,editableQuiz:{...e.editableQuiz,questions:[...e.editableQuiz.questions,p]},isDirty:!0};case"REMOVE_QUESTION_REQUEST":return{...e,questionToDelete:{index:s.payload.index,questionId:s.payload.questionId}};case"REMOVE_QUESTION_CONFIRMED":if(!e.editableQuiz||e.editableQuiz.questions.length<=1){const d=((n=(t=e.editableQuiz)==null?void 0:t.config)==null?void 0:n.language)==="Vietnamese"?"vi":"en";return{...e,error:q(d)("reviewCannotSaveNoQuestions"),questionToDelete:null}}const m=e.editableQuiz.questions.filter((d,g)=>g!==s.payload.index);return{...e,editableQuiz:{...e.editableQuiz,questions:m},error:null,isDirty:!0,questionToDelete:null};case"CLEAR_QUESTION_TO_DELETE_REQUEST":return{...e,questionToDelete:null};case"RESET_QUIZ_STATE":return e.originalQuiz?{...e,editableQuiz:JSON.parse(JSON.stringify(e.originalQuiz)),isDirty:!1,error:null,questionToDelete:null}:e;default:return e}}const H=({isOpen:e,onClose:s,quiz:t})=>{const{t:n}=k(),[o,c]=E.useState("style1"),[p,m]=E.useState(""),[d,g]=E.useState(!1),[w,b]=E.useState(null);E.useEffect(()=>{if(e&&t){b(null);try{let l="";switch(o){case"style1":l=Qe(t,n);break;case"style2":l=Ie(t,n);break;case"style4":l=Te(t,n);break;default:l=n("azotaExportErrorGenerating")}m(l)}catch(l){v.error("Error formatting quiz for Azota:","AzotaExportModal",{quizId:t.id,format:o},l),m(n("azotaExportErrorGenerating")),b(l instanceof Error?l.message:String(l))}}},[e,t,o,n]);const u=()=>{navigator.clipboard.writeText(p).then(()=>{g(!0),setTimeout(()=>g(!1),2e3)}).catch(l=>{v.error("Failed to copy Azota text to clipboard","AzotaExportModal",void 0,l),alert(n("azotaExportErrorCopy"))})},i=()=>{const l=new Blob([p],{type:"text/plain;charset=utf-8"}),h=document.createElement("a");h.href=URL.createObjectURL(l);const I=t.title.replace(/[^a-z0-9_.-]/gi,"_").substring(0,50)||"quiz";h.download=`${I}_Azota_${o}.txt`,document.body.appendChild(h),h.click(),document.body.removeChild(h),v.info("Azota quiz downloaded","AzotaExportModal",{quizId:t.id,format:o,filename:h.download})},f=[{value:"style1",label:n("azotaExportFormatStyle1")},{value:"style2",label:n("azotaExportFormatStyle2")},{value:"style4",label:n("azotaExportFormatStyle4")}];return t?a.jsx(B,{isOpen:e,onClose:s,title:n("azotaExportTitle"),size:"3xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx(V,{label:n("azotaExportSelectFormat"),options:f,value:o,onChange:l=>c(l.target.value)}),w&&a.jsxs("div",{role:"alert",className:"p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-xs text-red-300",children:[a.jsxs("p",{children:[a.jsxs("strong",{children:[n("error"),":"]})," ",n("azotaExportErrorGenerating")]}),a.jsx("p",{className:"mt-1 text-red-400/80",children:w})]}),a.jsx(_,{value:p,readOnly:!0,rows:18,className:"text-xs font-mono !bg-slate-700/70 !border-slate-600 p-4 min-h-[360px] shadow-inner","aria-label":n("azotaExportPreviewArea")}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3.5 pt-2",children:[a.jsx(z,{variant:"secondary",onClick:s,size:"md",children:n("close")}),a.jsxs(z,{variant:"outline",onClick:u,leftIcon:a.jsx(be,{className:"w-4 h-4"}),size:"md",className:"w-full sm:w-auto",disabled:!!w,children:[" ",n(d?"azotaExportCopied":"azotaExportCopy")," "]}),a.jsxs(z,{variant:"primary",onClick:i,leftIcon:a.jsx(Ne,{className:"w-4 h-4"}),size:"md",className:"w-full sm:w-auto",disabled:!!w,children:[" ",n("azotaExportDownload")," "]})]})]})}):null};H.displayName="AzotaExportModal";const W=({question:e,index:s,dispatch:t,animationDelayFactor:n})=>{const{t:o}=k(),c=E.useRef(null),p=ye(c,{threshold:.1,freezeOnceVisible:!0}),m=e.options.map((i,f)=>({value:i,label:`${o("reviewOptionLabel",{index:f+1})}: ${i.length>30?i.substring(0,27)+"...":i}`}));m.length===0&&e.correctAnswer&&m.push({value:e.correctAnswer,label:e.correctAnswer});const d=(i,f)=>{t({type:"UPDATE_QUESTION",payload:{index:s,question:{...e,[i]:f}}})},g=(i,f)=>{const l=[...e.options];l[i]=f;let h=e.correctAnswer;e.correctAnswer===e.options[i]?h=f:!l.includes(e.correctAnswer)&&l.length>0?h=l[0]:l.length===0&&(h=""),t({type:"UPDATE_QUESTION",payload:{index:s,question:{...e,options:l,correctAnswer:h}}})},w=()=>{if(e.options.length>=5)return;const i=o("reviewNewOptionDefault",{index:e.options.length+1}),f=[...e.options,i];t({type:"UPDATE_QUESTION",payload:{index:s,question:{...e,options:f}}})},b=i=>{if(e.options.length<=2){alert(o("reviewErrorNotEnoughOptions",{id:""}).replace(" for question ID: {id}",""));return}const f=e.options[i],l=e.options.filter((I,j)=>j!==i);let h=e.correctAnswer;f===e.correctAnswer&&!l.includes(f)&&(h=l.length>0?l[0]:""),t({type:"UPDATE_QUESTION",payload:{index:s,question:{...e,options:l,correctAnswer:h}}})},u=()=>{t({type:"REMOVE_QUESTION_REQUEST",payload:{index:s,questionId:e.id}})};return a.jsx(Ee.div,{ref:c,initial:{opacity:0,y:30},animate:p?{opacity:1,y:0}:{opacity:0,y:30},transition:{duration:.4,ease:[.25,.1,.25,1],delay:p?n*.07:0},className:"question-item-motion-wrapper",children:a.jsxs(C,{useGlassEffect:!0,className:"shadow-xl !rounded-2xl !border-slate-700/50",children:[a.jsxs("div",{className:"flex justify-between items-center mb-5 sm:mb-6",children:[a.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-sky-300",children:o("reviewQuestionLabel",{index:s+1})}),a.jsx(M,{content:o("reviewDeleteQuestionLabel"),placement:"left",children:a.jsx(z,{variant:"danger",size:"sm",onClick:u,className:"!p-2.5 rounded-lg shadow-md hover:shadow-red-500/50","aria-label":o("reviewDeleteQuestionLabel"),children:a.jsx(F,{className:"w-4 h-4"})})})]}),a.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[a.jsx(_,{label:a.jsx("span",{className:"font-medium text-slate-200",children:o("reviewQuestionTextLabel")}),value:e.questionText,onChange:i=>d("questionText",i.target.value),placeholder:o("reviewQuestionTextPlaceholder"),rows:3,className:"min-h-[80px] text-sm"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-2.5",children:o("reviewOptionsLabel")}),a.jsx("div",{className:"space-y-3.5",children:e.options.map((i,f)=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(G,{id:`option-input-${e.id}-${f}`,value:i,onChange:l=>g(f,l.target.value),placeholder:o("reviewOptionPlaceholder",{index:f+1}),inputClassName:"text-sm !py-2.5",containerClassName:"flex-grow"}),e.options.length>2&&a.jsx(M,{content:o("reviewRemoveOptionLabel"),placement:"right",children:a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>b(f),className:"!p-2.5 rounded-lg text-red-400/80 hover:text-red-400 hover:bg-red-400/15","aria-label":o("reviewRemoveOptionLabel"),children:a.jsx(F,{className:"w-4 h-4"})})})]},f))}),e.options.length<5&&a.jsx(z,{variant:"outline",size:"sm",onClick:w,leftIcon:a.jsx(ze,{className:"w-4 h-4",strokeWidth:2}),className:"mt-4 py-2 px-4 rounded-lg border-dashed border-sky-400/70 text-sky-300 hover:bg-sky-400/15 hover:border-sky-400",children:o("reviewAddOption")})]}),a.jsx(V,{label:a.jsx("span",{className:"font-medium text-slate-200",children:o("reviewCorrectAnswerLabel")}),value:e.correctAnswer,onChange:i=>d("correctAnswer",i.target.value),options:m.length>0?m:[{value:"",label:"Please add options"}],disabled:m.length===0,className:"text-sm"}),a.jsx(_,{label:a.jsx("span",{className:"font-medium text-slate-200",children:o("reviewExplanationLabel")}),value:e.explanation,onChange:i=>d("explanation",i.target.value),placeholder:o("reviewExplanationPlaceholder"),rows:3,className:"min-h-[80px] text-sm"})]})]})})};W.displayName="QuestionItem";const je=()=>{const e=ne(),s=oe(),{t,language:n}=k(),{addQuiz:o,updateQuiz:c,quizzes:p}=re(),{notification:m,showSuccess:d,showError:g,clearNotification:w}=le(),[b,u]=E.useReducer(Se,J),{editableQuiz:i,isLoading:f,isSaving:l,error:h,questionToDelete:I}=b,[j,U]=E.useState(!1),[T,K]=E.useState(null),[N,O]=E.useState({isOpen:!1,questionIndex:null,questionId:null}),{quizId:Q}=de();E.useEffect(()=>{var D;v.info("QuizReviewPage: Initializing or location state changed.","QuizReviewPage",{hasLocationState:!!e.state,existingQuizIdFromParams:Q}),u({type:"SET_LOADING",payload:!0});let r=null;e.state&&(r=e.state);const x=Q||((D=r==null?void 0:r.existingQuiz)==null?void 0:D.id);let y=null;if(x){if(y=(r==null?void 0:r.existingQuiz)||p.find(S=>S.id===x)||null,!y){v.error("Quiz not found for editing.","QuizReviewPage",{existingQuizId:x}),u({type:"SET_ERROR",payload:t("reviewErrorQuizNotFound")}),u({type:"SET_LOADING",payload:!1});return}v.info("Loading existing quiz for review/edit.","QuizReviewPage",{quizId:y.id})}else if(r!=null&&r.generatedQuizData&&r.finalConfig){const{generatedQuizData:S,quizTitleSuggestion:ie,finalConfig:se}=r,L=new Date().toISOString();y={id:`new-quiz-${Date.now()}`,title:ie||S.title||t("untitledQuiz"),questions:S.questions,config:se,sourceContentSnippet:S.sourceContentSnippet,createdAt:L,lastModified:L},v.info("Initializing review page with newly generated quiz data.","QuizReviewPage",{title:y.title})}y?u({type:"INIT_QUIZ_DATA",payload:{quiz:y,language:n}}):Q||(v.warn("No quiz data provided to review page.","QuizReviewPage"),u({type:"SET_ERROR",payload:t("reviewErrorNoQuizData")}),u({type:"SET_LOADING",payload:!1}))},[e.state,Q,p,t,n,u]),E.useEffect(()=>{if(T&&i){if(i.questions.find(x=>x.id===T.questionId)){const x=`option-input-${T.questionId}-${T.optionIndex}`,y=document.getElementById(x);y==null||y.focus()}K(null)}},[T,i]),E.useEffect(()=>{I&&O({isOpen:!0,questionIndex:I.index,questionId:I.questionId})},[I]);const Y=r=>{u({type:"UPDATE_QUIZ_TITLE",payload:r})},X=()=>{u({type:"ADD_QUESTION",payload:{language:n}}),v.info("Added new question to quiz being reviewed.","QuizReviewPage")},ee=async()=>{if(!i||N.questionIndex===null||N.questionId===null)return;const r=N.questionIndex;O({isOpen:!1,questionIndex:null,questionId:null});const x={...i,questions:i.questions.filter((y,D)=>D!==r),lastModified:new Date().toISOString()};u({type:"REMOVE_QUESTION_CONFIRMED",payload:{index:r}});try{Q?await c(x):await c(x),v.info("Question deleted and quiz updated","QuizReviewPage",{quizId:x.id,questionId:N.questionId,remainingQuestions:x.questions.length}),d(t("questionDeletedSuccessfully"),3e3)}catch(y){v.error("Error saving quiz after question deletion","QuizReviewPage",{quizId:x.id,questionId:N.questionId},y),g(t("reviewErrorSaving"),5e3),u({type:"INIT_QUIZ_DATA",payload:{quiz:i,language:n}})}},te=async()=>{if(!i||i.questions.length===0){u({type:"SET_ERROR",payload:t("reviewCannotSaveNoQuestions")}),v.warn("Attempted to save quiz with no questions.","QuizReviewPage",{quizId:i==null?void 0:i.id});return}for(const r of i.questions){if(!r.questionText.trim()){u({type:"SET_ERROR",payload:t("reviewErrorEmptyQuestionText",{id:r.id.substring(0,8)})});return}if(r.options.length<2){u({type:"SET_ERROR",payload:t("reviewErrorNotEnoughOptions",{id:r.id.substring(0,8)})});return}if(!r.correctAnswer||!r.options.includes(r.correctAnswer)){u({type:"SET_ERROR",payload:t("reviewErrorInvalidCorrectAnswer",{id:r.id.substring(0,8)})});return}if(!r.explanation.trim()){u({type:"SET_ERROR",payload:t("reviewErrorEmptyExplanation",{id:r.id.substring(0,8)})});return}}u({type:"SET_ERROR",payload:null}),u({type:"SET_SAVING",payload:!0});try{const r=new Date().toISOString(),x={...i,id:Q||i.id||`quiz-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,title:i.title.trim()||t("untitledQuiz"),createdAt:i.createdAt||r,lastModified:r,config:i.config||{numQuestions:i.questions.length,difficulty:"Medium",language:n==="vi"?"Vietnamese":"English",customUserPrompt:"",selectedModel:ve}};v.info("Attempting to save quiz...","QuizReviewPage",{quizId:x.id,title:x.title,questionCount:x.questions.length}),Q?await c(x):await o(x),v.info("Quiz saved successfully. Navigating to dashboard.","QuizReviewPage",{quizId:x.id}),s("/dashboard")}catch(r){v.error("Error saving quiz","QuizReviewPage",{quizId:i==null?void 0:i.id},r),u({type:"SET_ERROR",payload:t("reviewErrorSaving")})}finally{u({type:"SET_SAVING",payload:!1})}},ae=E.useCallback(()=>U(!1),[]);if(f)return a.jsx(ce,{text:t("loading"),className:"mt-24",size:"xl"});if(h&&!i&&!l)return a.jsx(C,{className:"text-red-400 p-12 text-center shadow-xl !border-red-500/70 !bg-red-800/40 text-lg font-semibold !rounded-2xl animate-fadeInUp",useGlassEffect:!0,children:h});if(!i)return a.jsx(C,{className:"text-slate-400 p-12 text-center shadow-lg text-lg font-medium !rounded-2xl animate-fadeInUp",useGlassEffect:!0,children:t("reviewErrorNoQuizData")});const A=!!Q;return a.jsxs("div",{className:"pb-16",children:[a.jsx(ue,{notification:m,onClose:w}),a.jsx("div",{className:"sticky-review-actions bg-slate-800 shadow-xl py-4 -mx-4 sm:-mx-6 lg:-mx-8 rounded-b-2xl border-b border-slate-700 animate-fadeInUp",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-50 leading-tight truncate tracking-tight flex items-center",title:i.title,children:t(A?"reviewEditQuizTitle":"reviewFinalizeQuizTitle")}),a.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-end items-center gap-2.5",children:[!A&&a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>s("/create"),leftIcon:a.jsx(pe,{className:"w-4 h-4"}),className:"py-2.5 px-4 rounded-lg",children:[" ",t("reviewDiscardRegenerateShort")," "]}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>s("/dashboard"),leftIcon:a.jsx(xe,{className:"w-4 h-4"}),className:"py-2.5 px-4 rounded-lg",children:[" ",t(A?"cancel":"reviewDiscardToDashboardShort")," "]}),a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>U(!0),leftIcon:a.jsx(me,{className:"w-4 h-4"}),className:"py-2.5 px-4 rounded-lg border-sky-400/70 text-sky-300 hover:bg-sky-400/15",disabled:!i||i.questions.length===0,children:[" ",t("azotaExportButton")," "]}),a.jsxs(z,{variant:"primary",size:"sm",onClick:te,isLoading:l,disabled:l||!i.questions.length,leftIcon:a.jsx(fe,{className:"w-4 h-4"}),className:"bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white py-2.5 px-4 rounded-lg",children:[" ",t(l?"reviewSavingButton":A?"reviewSaveChangesButton":"reviewSaveButton")," "]})]})]}),h&&a.jsx("p",{role:"alert",className:"text-xs text-red-300 mt-4 bg-red-500/20 p-3 rounded-lg text-center sm:text-left shadow animate-fadeIn",children:h}),i&&!i.questions.length&&a.jsx("p",{role:"alert",className:"text-xs text-yellow-400 mt-4 bg-yellow-500/20 p-3 rounded-lg text-center sm:text-left shadow animate-fadeIn",children:t("reviewCannotSaveNoQuestions")})]})}),a.jsxs("div",{className:"pt-6 sm:pt-8",children:[a.jsxs(C,{useGlassEffect:!0,className:"shadow-xl !rounded-2xl !border-slate-700/50 mb-6 sm:mb-8",children:[a.jsx(G,{label:a.jsx("p",{className:"text-lg font-semibold text-slate-100",children:t("reviewQuizTitleLabel")}),value:i.title,onChange:r=>Y(r.target.value),placeholder:t("step2QuizTitlePlaceholder"),inputClassName:"text-xl py-3.5",containerClassName:"mb-2"}),i.sourceContentSnippet&&a.jsxs("details",{className:"mt-4",children:[a.jsxs("summary",{className:"text-xs text-slate-400 cursor-pointer hover:text-sky-300 flex items-center font-semibold group transition-colors var(--duration-fast) var(--ease-ios)",children:[a.jsx(ge,{className:"w-4 h-4 mr-2.5 text-slate-500 group-hover:text-sky-400 transition-colors var(--duration-fast) var(--ease-ios)",strokeWidth:2}),t("resultsViewSourceSnippet")]}),a.jsx("blockquote",{className:"mt-3 text-xs text-slate-400/80 max-h-24 overflow-y-auto p-3 bg-slate-700/60 border border-slate-600/60 rounded-lg shadow-inner italic",children:a.jsx(he,{text:i.sourceContentSnippet})})]})]}),a.jsx("div",{className:"space-y-6 sm:space-y-8",children:i.questions.map((r,x)=>a.jsx(W,{question:r,index:x,dispatch:u,animationDelayFactor:x},r.id))})]}),a.jsx("div",{className:"mt-10 sm:mt-12 text-center",children:a.jsx(z,{variant:"subtle",onClick:X,leftIcon:a.jsx(we,{className:"w-5 h-5"}),className:"border-2 border-dashed border-slate-600 hover:border-sky-400/80 text-slate-300 hover:text-sky-300 py-3 px-6 rounded-xl shadow-lg hover:shadow-black/20",children:t("reviewAddNewQuestion")})}),i&&j&&a.jsx(H,{isOpen:j,onClose:ae,quiz:i}),N.isOpen&&a.jsx(B,{isOpen:N.isOpen,onClose:()=>O({isOpen:!1,questionIndex:null,questionId:null}),title:t("confirmDeletionTitle"),size:"md",footerContent:a.jsxs("div",{className:"flex justify-end gap-3.5",children:[a.jsx(z,{variant:"secondary",onClick:()=>O({isOpen:!1,questionIndex:null,questionId:null}),size:"md",children:t("cancel")}),a.jsx(z,{variant:"danger",onClick:ee,size:"md",children:t("confirmDeleteButton")})]}),children:a.jsx("p",{className:"text-slate-200 text-base leading-relaxed",children:t("reviewDeleteQuestionConfirmationMessage",{questionIndex:(N.questionIndex??0)+1})})})]})};je.displayName="QuizReviewPage";export{je as default};
