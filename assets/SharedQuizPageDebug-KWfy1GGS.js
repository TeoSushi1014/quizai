import{j as e}from"./ui-BGuvgkTr.js";import{f as Q,u as f,r as a}from"./router-BxjC687J.js";import{u as x,l as s,W as S,Y as D}from"./index-CILUtkwX.js";import"./vendor-DoC2WAmd.js";import"./utils-rUpm7H1u.js";import"./markdown-Bj7tmv2T.js";const v=()=>{var h;const{quizId:r}=Q(),d=f(),{currentUser:l}=x(),[u,z]=a.useState(null),[p,g]=a.useState(!0),[c,n]=a.useState(null),[o,t]=a.useState("Component loaded");return a.useEffect(()=>{(async()=>{try{if(s.info("SharedQuizPageDebug: Starting to load quiz","SharedQuizPageDebug",{quizId:r}),t(`Starting to load quiz ID: ${r}`),!r){n("No quiz ID provided"),t("No quiz ID in URL params"),g(!1);return}t(`Quiz ID: ${r}, Valid format: ${S(r)}`);const i=await D(r,l);i?(s.info("SharedQuizPageDebug: Quiz found!","SharedQuizPageDebug",{quizId:r}),z(i),t(`Quiz found: ${i.title}`)):(s.warn("SharedQuizPageDebug: Quiz not found","SharedQuizPageDebug",{quizId:r}),n("Quiz not found"),t("Quiz not found in Supabase database."))}catch(i){s.error("SharedQuizPageDebug: Error loading quiz","SharedQuizPageDebug",{quizId:r},i),n(`Error: ${i.message}`),t(`Error occurred: ${i.message}`)}finally{g(!1)}})()},[r,l]),p?e.jsxs("div",{style:{padding:"50px",textAlign:"center"},children:[e.jsx("h1",{children:"Loading Quiz..."}),e.jsxs("p",{children:["Debug: ",o]})]}):c||!u?e.jsxs("div",{style:{padding:"50px",textAlign:"center"},children:[e.jsx("h1",{children:"Error Loading Quiz"}),e.jsxs("p",{children:["Error: ",c]}),e.jsxs("p",{children:["Debug: ",o]}),e.jsxs("p",{children:["Quiz ID: ",r]}),e.jsx("button",{onClick:()=>d("/"),children:"Go Home"})]}):e.jsxs("div",{style:{padding:"50px"},children:[e.jsx("h1",{children:"Quiz Found!"}),e.jsx("h2",{children:u.title}),e.jsxs("p",{children:["Questions: ",((h=u.questions)==null?void 0:h.length)||0]}),e.jsxs("p",{children:["Debug: ",o]}),e.jsx("button",{onClick:()=>d("/"),children:"Go Home"})]})};export{v as default};
