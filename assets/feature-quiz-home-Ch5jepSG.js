import{r as e,j as t}from"./core-react-DcE6uGcR.js";import{u as s,a,L as i,B as r,f as n,o,C as l,p as c,q as m}from"./app-components-CFPFxe5x.js";import{a as d}from"./feature-quiz-components-CChsAlA6.js";import{e as x}from"./services-BHj8px4z.js";import{m as u}from"./ui-framework-CdNWeEQR.js";import{a as h}from"./router-Dk7yDelZ.js";function p(){const[t,s]=e.useState(!1);return e.useEffect(()=>{if("undefined"!=typeof window&&"function"==typeof window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion: reduce)");s(e.matches);const t=e=>{s(e.matches)};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}s(!1)},[]),t}const y=[.25,.1,.25,1],g=.35,b=()=>{const{currentUser:i,setCurrentView:n,showSuccessNotification:o,showErrorNotification:d}=s(),{t:h}=a(),[b,v]=e.useState(""),[f,j]=e.useState(!1),w=p();return t.jsx(u.section,{className:"py-12 md:py-16",initial:w?{opacity:1,y:0}:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:w?.001:.4,ease:y,delay:.2},children:t.jsx(l,{useGlassEffect:!0,className:"max-w-2xl mx-auto shadow-2xl !rounded-2xl",children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start gap-6 sm:gap-8",children:[t.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[t.jsx(u.h2,{className:"text-xl sm:text-2xl font-bold text-[var(--color-text-primary)] mb-2 sm:mb-3",initial:w?{opacity:1,y:0}:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:w?.001:g,ease:y,delay:.1},children:h("feedbackSectionTitle")}),t.jsx(u.p,{className:"text-[var(--color-text-secondary)] text-sm sm:text-base mb-4 sm:mb-0",initial:w?{opacity:1,y:0}:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:w?.001:g,ease:y,delay:.2},children:h("feedbackSectionSubtitle")})]}),t.jsx(u.div,{initial:w?{opacity:1,y:0}:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:w?.001:g,ease:y,delay:.3},className:"flex-1 w-full",children:i?t.jsxs("div",{className:"space-y-4",children:[t.jsx(c,{label:t.jsx("span",{className:"text-sm font-medium text-[var(--color-text-secondary)]",children:h("feedbackTextareaLabel")}),value:b,onChange:e=>v(e.target.value),placeholder:h("feedbackTextareaPlaceholder"),rows:4,className:"min-h-[100px] sm:min-h-[120px]"}),t.jsx(r,{onClick:async()=>{if(i&&b.trim()&&!f){j(!0);try{if(await x.sendContactMessage({userEmail:i.email||"",userName:i.name||"Unknown User",message:b.trim(),userId:i.id})){const e=h("feedbackSentSuccess");o(e,5e3),v("")}else{const e=h("feedbackSentError");d(e,5e3)}}catch(e){d(h("feedbackSentError"),5e3)}finally{j(!1)}}},disabled:!b.trim()||f,fullWidth:!0,size:"md",variant:"secondary",className:"py-2.5 sm:py-3 shadow-lg",children:h(f?"feedbackSendingButton":"feedbackSendButton")})]}):t.jsxs("div",{className:"text-center bg-[var(--color-bg-surface-2)]/70 p-5 sm:p-6 rounded-xl border border-[var(--color-border-default)] shadow-inner",children:[t.jsx(m,{className:"w-12 h-12 sm:w-16 sm:h-16 text-[var(--color-text-muted)] mx-auto mb-4 sm:mb-6"}),t.jsx("p",{className:"text-base sm:text-lg font-semibold text-[var(--color-text-primary)] mb-2 sm:mb-3",children:h("feedbackLoginPromptTitle")}),t.jsx("p",{className:"text-[var(--color-text-secondary)] text-xs sm:text-sm mb-6 sm:mb-8 max-w-md mx-auto",children:h("feedbackLoginPromptSubtitle")}),t.jsx(r,{onClick:()=>n("/signin"),variant:"primary",size:"sm",className:"py-2.5 px-5 sm:px-6 rounded-lg",children:h("signIn")})]})})]})})})};b.displayName="FeedbackSection";const v=()=>{const{quizzes:l,currentUser:c,setCurrentView:m,deleteQuiz:x,isLoading:v}=s(),{t:f}=a(),j=h(),w=p(),[N,z]=e.useState([]);e.useEffect(()=>{v||z([...l])},[l,v]);const k=e.useMemo(()=>[...N].sort((e,t)=>new Date(t.lastModified||t.createdAt).getTime()-new Date(e.lastModified||e.createdAt).getTime()).slice(0,3),[N]),C=e.useMemo(()=>N.length,[N]),S=e.useMemo(()=>(e=>({hidden:{opacity:e?1:0},visible:{opacity:1,transition:{staggerChildren:e?0:.15,duration:e?.001:g,ease:y}}}))(w),[w]),T=e.useMemo(()=>(e=>({hidden:{opacity:e?1:0,y:e?0:20},visible:{opacity:1,y:0,transition:{duration:e?.001:.4,ease:y}}}))(w),[w]),A=e.useMemo(()=>(e=>({hidden:{opacity:e?1:0},visible:{opacity:1,transition:{staggerChildren:e?0:.1,duration:e?.001:.3,ease:y}}}))(w),[w]);return t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 pb-16",children:[v&&0===N.length?t.jsxs(u.div,{className:"flex flex-col justify-center items-center py-20 md:py-24",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[t.jsx(i,{size:"xl"}),t.jsx("p",{className:"mt-4 text-md md:text-lg text-[var(--color-text-secondary)]",children:f("loadingQuizzesMessage")})]},"loading-state"):v||0!==C?C>0?t.jsxs(u.div,{variants:A,initial:"hidden",animate:"visible",className:"space-y-12 sm:space-y-16",children:[t.jsxs(u.section,{"aria-labelledby":"hero-title-existing",className:"text-center py-12 md:py-16",variants:S,children:[t.jsx(u.h1,{variants:T,id:"hero-title-existing",className:"text-4xl md:text-5xl font-bold text-[var(--color-text-primary)] mb-4 md:mb-6",children:c?f("heroTitleUser",{name:(null==(E=c.name)?void 0:E.split(" ")[0])||f("guest")}):f("heroTitleExistingQuizzes")}),t.jsx(u.p,{variants:T,className:"text-lg md:text-xl text-[var(--color-text-secondary)] mb-8 md:mb-10 max-w-2xl mx-auto",children:f("heroSubtitleUserWithQuizzes")}),t.jsx(u.div,{variants:T,children:t.jsxs(r,{size:"lg",variant:"primary",onClick:()=>j("/create"),className:"group shadow-lg","aria-label":f("heroCTACreateAnother"),children:[t.jsx("img",{src:"https://stg-images.samsung.com/is/image/samsung/assets/in/unpacked/ai-icon.png",alt:"AI Create Quiz Icon",className:"w-5 h-5 mr-2"}),t.jsx(n,{text:f("heroCTACreateAnother")})]})})]},"hero-existing-quizzes"),k.length>0&&t.jsxs(u.section,{"aria-labelledby":"recent-quizzes-title",variants:A,children:[t.jsxs(u.div,{variants:T,className:"flex justify-between items-center mb-6 md:mb-8",children:[t.jsx("h2",{id:"recent-quizzes-title",className:"text-2xl md:text-3xl font-bold text-[var(--color-text-primary)]",children:f("recentQuizzesTitle")}),C>3&&t.jsxs(r,{variant:"ghost",onClick:()=>m("/dashboard"),className:"group text-sm md:text-base",children:[f("viewAllButton"),t.jsx(o,{className:"w-4 h-4 ml-1 transition-transform duration-200 ease-in-out group-hover:translate-x-1"})]})]}),t.jsx(u.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map((e,s)=>t.jsx(u.div,{variants:T,children:t.jsx(d,{quiz:e,onDelete:()=>{return t=e.id,void x(t);var t},onEdit:()=>(e=>{j(`/review/${e.id}`,{state:{existingQuiz:e}})})(e),animationDelay:.1*s},e.id)},e.id))})]},"recent-quizzes-list")]},"quizzes-exist-content"):null:t.jsxs(u.section,{"aria-labelledby":"hero-title-empty",className:"text-center py-12 md:py-16",variants:S,initial:"hidden",animate:"visible",children:[t.jsx(u.h1,{variants:T,id:"hero-title-empty",className:"text-4xl md:text-5xl font-bold text-[var(--color-text-primary)] mb-4 md:mb-6",children:f("welcomeToQuizAI")}),t.jsx(u.p,{variants:T,className:"text-lg md:text-xl text-[var(--color-text-secondary)] mb-8 md:mb-10 max-w-2xl mx-auto",children:f("heroSubtitleUserNoQuizzes")}),t.jsx(u.div,{variants:T,children:t.jsxs(r,{size:"lg",variant:"primary",onClick:()=>j("/create"),className:"group shadow-lg","aria-label":f("heroCTA"),children:[t.jsx("img",{src:"https://stg-images.samsung.com/is/image/samsung/assets/in/unpacked/ai-icon.png",alt:"AI Create Quiz Icon",className:"w-5 h-5 mr-2"}),t.jsx(n,{text:f("heroCTA")})]})})]},"hero-empty-state"),t.jsx(b,{})]});var E};v.displayName="HomePage";export{v as H,p as u};
