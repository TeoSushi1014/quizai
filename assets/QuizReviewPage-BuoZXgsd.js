import{g as q,Y as se,m as re,k,i as le,Z as de,r as E,E as ce,l as v,j as a,F as ue,C,$ as pe,o as F,B as z,Q as xe,U as me,a0 as fe,a1 as ge,t as B,D as he,V as we,y as V,c as ve,a2 as ye,n as Ee,T as L,a3 as G,w as _,a4 as ze,S as Z,z as be,a5 as Ne}from"./index-DCYZb2u-.js";const R=e=>{if(!e)return"NB";switch(e){case"Easy":return"NB";case"Medium":return"TH";case"Hard":return"VD";case"AI-Determined":return"NB";default:return"NB"}},M=e=>String.fromCharCode(65+e),$=(e,n,t,o,s=!1)=>{const u=e.questionText;let p=o;const f=u.match(/\(?\[?([A-Z]{2,3})[\]\)]?\.?\s/i);f&&f[1]&&(p=f[1].toUpperCase());let d=`${t("azotaFormatQuestionPrefix")} ${n}.(${p}) ${u}
`;return e.options.forEach((g,h)=>{const b=g===e.correctAnswer;d+=`${s&&b?"*":""}${M(h)}. ${g}	`,(h+1)%2===0&&h<e.options.length-1&&e.options.length>2?d=d.trimEnd()+`
`:d=d.trimEnd()+"  "}),d=d.trim()+`
`,d},J=(e,n,t,o,s=!1)=>{var b,c;const u=t("azotaFormatExplanationSolutionMarker"),p=t("azotaFormatExplanationMethodMarker"),f=e.explanation.split(u),d=((b=f[0])==null?void 0:b.replace(p,"").trim())||"",g=((c=f[1])==null?void 0:c.trim())||(d?"":e.explanation.trim());let h=`${t("azotaFormatQuestionPrefix")} ${n} (${o}):
`;if(d&&(h+=`${t("azotaFormatExplanationMethod")} ${d}
`),h+=`${t("azotaFormatExplanationSolution")} ${g||t("resultsNoExplanation")}
`,s){const i=e.options.findIndex(x=>x===e.correctAnswer);i!==-1&&(h+=`${t("azotaFormatChooseAnswer")} ${M(i)}
`)}return h},Qe=(e,n)=>{var f;let t="";const o=R((f=e.config)==null?void 0:f.difficulty);let s=1;e.questions.length>0&&(t+=`${n("azotaFormatMCQSection")}
`,e.questions.forEach(d=>{t+=$(d,s++,n,o),t+=`
`})),t+=`${n("azotaFormatEndOfQuiz")}
`,t+=`${n("azotaFormatAnswerTableTitle")}
`;let u=1;e.questions.forEach(d=>{const g=d.options.findIndex(h=>h===d.correctAnswer);g!==-1&&(t+=`${u++}${M(g)} `)}),t=t.trim()+`

`,t+=`${n("azotaFormatExplanationSectionTitle")}
`;let p=1;return e.questions.forEach(d=>{var g;t+=J(d,p++,n,R((g=e.config)==null?void 0:g.difficulty)),t+=`
`}),t},Ie=(e,n)=>{var u;let t="";const o=R((u=e.config)==null?void 0:u.difficulty);let s=1;return e.questions.length>0&&(t+=`${n("azotaFormatMCQSection")}
`,e.questions.forEach(p=>{t+=$(p,s,n,o),t+=`${n("azotaFormatExplanationTitle")}
`,t+=J(p,s,n,o,!0),t+=`
`,s++})),t},Te=(e,n)=>{var u;let t="";const o=R((u=e.config)==null?void 0:u.difficulty);let s=1;return e.questions.length>0&&(t+=`${n("azotaFormatMCQSection")}
`,e.questions.forEach(p=>{t+=$(p,s++,n,o,!0),t+=`
`})),t};q("en");const H={editableQuiz:null,originalQuiz:null,isLoading:!0,isSaving:!1,error:null,isDirty:!1,questionToDelete:null};function Se(e,n){var t,o;switch(n.type){case"INIT_QUIZ_DATA":return{...H,editableQuiz:JSON.parse(JSON.stringify(n.payload.quiz)),originalQuiz:JSON.parse(JSON.stringify(n.payload.quiz)),isLoading:!1,isDirty:!1};case"SET_LOADING":return{...e,isLoading:n.payload};case"SET_ERROR":return{...e,error:n.payload,isSaving:!1};case"SET_SAVING":return{...e,isSaving:n.payload};case"UPDATE_QUIZ_TITLE":return e.editableQuiz?{...e,editableQuiz:{...e.editableQuiz,title:n.payload},isDirty:!0}:e;case"UPDATE_QUESTION":if(!e.editableQuiz)return e;const s=[...e.editableQuiz.questions];return s[n.payload.index]=n.payload.question,{...e,editableQuiz:{...e.editableQuiz,questions:s},isDirty:!0};case"ADD_QUESTION":if(!e.editableQuiz)return e;const u=q(n.payload.language),p={id:`manual-q-${Date.now()}`,questionText:u("reviewNewQuestionDefaultText"),options:[u("reviewNewOptionDefault",{index:1}),u("reviewNewOptionDefault",{index:2})],correctAnswer:u("reviewNewOptionDefault",{index:1}),explanation:u("reviewNewExplanationDefaultText")};return{...e,editableQuiz:{...e.editableQuiz,questions:[...e.editableQuiz.questions,p]},isDirty:!0};case"REMOVE_QUESTION_REQUEST":return{...e,questionToDelete:{index:n.payload.index,questionId:n.payload.questionId}};case"REMOVE_QUESTION_CONFIRMED":if(!e.editableQuiz||e.editableQuiz.questions.length<=1){const d=((o=(t=e.editableQuiz)==null?void 0:t.config)==null?void 0:o.language)==="Vietnamese"?"vi":"en";return{...e,error:q(d)("reviewCannotSaveNoQuestions"),questionToDelete:null}}const f=e.editableQuiz.questions.filter((d,g)=>g!==n.payload.index);return{...e,editableQuiz:{...e.editableQuiz,questions:f},error:null,isDirty:!0,questionToDelete:null};case"CLEAR_QUESTION_TO_DELETE_REQUEST":return{...e,questionToDelete:null};case"RESET_QUIZ_STATE":return e.originalQuiz?{...e,editableQuiz:JSON.parse(JSON.stringify(e.originalQuiz)),isDirty:!1,error:null,questionToDelete:null}:e;default:return e}}const W=({isOpen:e,onClose:n,quiz:t})=>{const{t:o}=k(),[s,u]=E.useState("style1"),[p,f]=E.useState(""),[d,g]=E.useState(!1),[h,b]=E.useState(null);E.useEffect(()=>{if(e&&t){b(null);try{let l="";switch(s){case"style1":l=Qe(t,o);break;case"style2":l=Ie(t,o);break;case"style4":l=Te(t,o);break;default:l=o("azotaExportErrorGenerating")}f(l)}catch(l){v.error("Error formatting quiz for Azota:","AzotaExportModal",{quizId:t.id,format:s},l),f(o("azotaExportErrorGenerating")),b(l instanceof Error?l.message:String(l))}}},[e,t,s,o]);const c=()=>{navigator.clipboard.writeText(p).then(()=>{g(!0),setTimeout(()=>g(!1),2e3)}).catch(l=>{v.error("Failed to copy Azota text to clipboard","AzotaExportModal",void 0,l),alert(o("azotaExportErrorCopy"))})},i=()=>{const l=new Blob([p],{type:"text/plain;charset=utf-8"}),w=document.createElement("a");w.href=URL.createObjectURL(l);const I=t.title.replace(/[^a-z0-9_.-]/gi,"_").substring(0,50)||"quiz";w.download=`${I}_Azota_${s}.txt`,document.body.appendChild(w),w.click(),document.body.removeChild(w),v.info("Azota quiz downloaded","AzotaExportModal",{quizId:t.id,format:s,filename:w.download})},x=[{value:"style1",label:o("azotaExportFormatStyle1")},{value:"style2",label:o("azotaExportFormatStyle2")},{value:"style4",label:o("azotaExportFormatStyle4")}];return t?a.jsx(V,{isOpen:e,onClose:n,title:o("azotaExportTitle"),size:"3xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx(Z,{label:o("azotaExportSelectFormat"),options:x,value:s,onChange:l=>u(l.target.value)}),h&&a.jsxs("div",{role:"alert",className:"p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-xs text-red-300",children:[a.jsxs("p",{children:[a.jsxs("strong",{children:[o("error"),":"]})," ",o("azotaExportErrorGenerating")]}),a.jsx("p",{className:"mt-1 text-red-400/80",children:h})]}),a.jsx(_,{value:p,readOnly:!0,rows:18,className:"text-xs font-mono !bg-slate-700/70 !border-slate-600 p-4 min-h-[360px] shadow-inner","aria-label":o("azotaExportPreviewArea")}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3.5 pt-2",children:[a.jsx(z,{variant:"secondary",onClick:n,size:"md",children:o("close")}),a.jsxs(z,{variant:"outline",onClick:c,leftIcon:a.jsx(be,{className:"w-4 h-4"}),size:"md",className:"w-full sm:w-auto",disabled:!!h,children:[" ",o(d?"azotaExportCopied":"azotaExportCopy")," "]}),a.jsxs(z,{variant:"primary",onClick:i,leftIcon:a.jsx(Ne,{className:"w-4 h-4"}),size:"md",className:"w-full sm:w-auto",disabled:!!h,children:[" ",o("azotaExportDownload")," "]})]})]})}):null};W.displayName="AzotaExportModal";const K=({question:e,index:n,dispatch:t,animationDelayFactor:o})=>{const{t:s}=k(),u=E.useRef(null),p=ye(u,{threshold:.1,freezeOnceVisible:!0}),f=e.options.map((i,x)=>({value:i,label:`${s("reviewOptionLabel",{index:x+1})}: ${i.length>30?i.substring(0,27)+"...":i}`}));f.length===0&&e.correctAnswer&&f.push({value:e.correctAnswer,label:e.correctAnswer});const d=(i,x)=>{t({type:"UPDATE_QUESTION",payload:{index:n,question:{...e,[i]:x}}})},g=(i,x)=>{const l=[...e.options];l[i]=x;let w=e.correctAnswer;e.correctAnswer===e.options[i]?w=x:!l.includes(e.correctAnswer)&&l.length>0?w=l[0]:l.length===0&&(w=""),t({type:"UPDATE_QUESTION",payload:{index:n,question:{...e,options:l,correctAnswer:w}}})},h=()=>{if(e.options.length>=5)return;const i=s("reviewNewOptionDefault",{index:e.options.length+1}),x=[...e.options,i];t({type:"UPDATE_QUESTION",payload:{index:n,question:{...e,options:x}}})},b=i=>{if(e.options.length<=2){alert(s("reviewErrorNotEnoughOptions",{id:""}).replace(" for question ID: {id}",""));return}const x=e.options[i],l=e.options.filter((I,j)=>j!==i);let w=e.correctAnswer;x===e.correctAnswer&&!l.includes(x)&&(w=l.length>0?l[0]:""),t({type:"UPDATE_QUESTION",payload:{index:n,question:{...e,options:l,correctAnswer:w}}})},c=()=>{t({type:"REMOVE_QUESTION_REQUEST",payload:{index:n,questionId:e.id}})};return a.jsx(Ee.div,{ref:u,initial:{opacity:0,y:30},animate:p?{opacity:1,y:0}:{opacity:0,y:30},transition:{duration:.4,ease:[.25,.1,.25,1],delay:p?o*.07:0},className:"question-item-motion-wrapper",children:a.jsxs(C,{useGlassEffect:!0,className:"shadow-xl !rounded-2xl !border-slate-700/50",children:[a.jsxs("div",{className:"flex justify-between items-center mb-5 sm:mb-6",children:[a.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-sky-300",children:s("reviewQuestionLabel",{index:n+1})}),a.jsx(L,{content:s("reviewDeleteQuestionLabel"),placement:"left",children:a.jsx(z,{variant:"danger",size:"sm",onClick:c,className:"!p-2.5 rounded-lg shadow-md hover:shadow-red-500/50","aria-label":s("reviewDeleteQuestionLabel"),children:a.jsx(G,{className:"w-4 h-4"})})})]}),a.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[a.jsx(_,{label:a.jsx("span",{className:"font-medium text-slate-200",children:s("reviewQuestionTextLabel")}),value:e.questionText,onChange:i=>d("questionText",i.target.value),placeholder:s("reviewQuestionTextPlaceholder"),rows:3,className:"min-h-[80px] text-sm"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-2.5",children:s("reviewOptionsLabel")}),a.jsx("div",{className:"space-y-3.5",children:e.options.map((i,x)=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(B,{id:`option-input-${e.id}-${x}`,value:i,onChange:l=>g(x,l.target.value),placeholder:s("reviewOptionPlaceholder",{index:x+1}),inputClassName:"text-sm !py-2.5",containerClassName:"flex-grow"}),e.options.length>2&&a.jsx(L,{content:s("reviewRemoveOptionLabel"),placement:"right",children:a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>b(x),className:"!p-2.5 rounded-lg text-red-400/80 hover:text-red-400 hover:bg-red-400/15","aria-label":s("reviewRemoveOptionLabel"),children:a.jsx(G,{className:"w-4 h-4"})})})]},x))}),e.options.length<5&&a.jsx(z,{variant:"outline",size:"sm",onClick:h,leftIcon:a.jsx(ze,{className:"w-4 h-4",strokeWidth:2}),className:"mt-4 py-2 px-4 rounded-lg border-dashed border-sky-400/70 text-sky-300 hover:bg-sky-400/15 hover:border-sky-400",children:s("reviewAddOption")})]}),a.jsx(Z,{label:a.jsx("span",{className:"font-medium text-slate-200",children:s("reviewCorrectAnswerLabel")}),value:e.correctAnswer,onChange:i=>d("correctAnswer",i.target.value),options:f.length>0?f:[{value:"",label:"Please add options"}],disabled:f.length===0,className:"text-sm"}),a.jsx(_,{label:a.jsx("span",{className:"font-medium text-slate-200",children:s("reviewExplanationLabel")}),value:e.explanation,onChange:i=>d("explanation",i.target.value),placeholder:s("reviewExplanationPlaceholder"),rows:3,className:"min-h-[80px] text-sm"})]})]})})};K.displayName="QuestionItem";const je=()=>{const e=se(),n=re(),{t,language:o}=k(),{addQuiz:s,updateQuiz:u,quizzes:p}=le(),{notification:f,showSuccess:d,showError:g,clearNotification:h}=de(),[b,c]=E.useReducer(Se,H),{editableQuiz:i,isLoading:x,isSaving:l,error:w,questionToDelete:I}=b,[j,P]=E.useState(!1),[T,Y]=E.useState(null),[N,O]=E.useState({isOpen:!1,questionIndex:null,questionId:null}),{quizId:Q}=ce();E.useEffect(()=>{var D;v.info("QuizReviewPage: Initializing or location state changed.","QuizReviewPage",{hasLocationState:!!e.state,existingQuizIdFromParams:Q}),c({type:"SET_LOADING",payload:!0});let r=null;e.state&&(r=e.state);const m=Q||((D=r==null?void 0:r.existingQuiz)==null?void 0:D.id);let y=null;if(m){if(y=(r==null?void 0:r.existingQuiz)||p.find(S=>S.id===m)||null,!y){v.error("Quiz not found for editing.","QuizReviewPage",{existingQuizId:m}),c({type:"SET_ERROR",payload:t("reviewErrorQuizNotFound")}),c({type:"SET_LOADING",payload:!1});return}v.info("Loading existing quiz for review/edit.","QuizReviewPage",{quizId:y.id})}else if(r!=null&&r.generatedQuizData&&r.finalConfig){const{generatedQuizData:S,quizTitleSuggestion:ne,finalConfig:oe}=r,U=new Date().toISOString();y={id:`new-quiz-${Date.now()}`,title:ne||S.title||t("untitledQuiz"),questions:S.questions,config:oe,sourceContentSnippet:S.sourceContentSnippet,createdAt:U,lastModified:U},v.info("Initializing review page with newly generated quiz data.","QuizReviewPage",{title:y.title})}y?c({type:"INIT_QUIZ_DATA",payload:{quiz:y,language:o}}):Q||(v.warn("No quiz data provided to review page.","QuizReviewPage"),c({type:"SET_ERROR",payload:t("reviewErrorNoQuizData")}),c({type:"SET_LOADING",payload:!1}))},[e.state,Q,p,t,o,c]),E.useEffect(()=>{if(T&&i){if(i.questions.find(m=>m.id===T.questionId)){const m=`option-input-${T.questionId}-${T.optionIndex}`,y=document.getElementById(m);y==null||y.focus()}Y(null)}},[T,i]),E.useEffect(()=>{I&&O({isOpen:!0,questionIndex:I.index,questionId:I.questionId})},[I]);const X=r=>{c({type:"UPDATE_QUIZ_TITLE",payload:r})},ee=()=>{c({type:"ADD_QUESTION",payload:{language:o}}),v.info("Added new question to quiz being reviewed.","QuizReviewPage")},te=async()=>{if(!i||N.questionIndex===null||N.questionId===null)return;const r=N.questionIndex;O({isOpen:!1,questionIndex:null,questionId:null});const m={...i,questions:i.questions.filter((y,D)=>D!==r),lastModified:new Date().toISOString()};c({type:"REMOVE_QUESTION_CONFIRMED",payload:{index:r}});try{Q?await u(m):await u(m),v.info("Question deleted and quiz updated","QuizReviewPage",{quizId:m.id,questionId:N.questionId,remainingQuestions:m.questions.length}),d(t("questionDeletedSuccessfully"),3e3)}catch(y){v.error("Error saving quiz after question deletion","QuizReviewPage",{quizId:m.id,questionId:N.questionId},y),g(t("reviewErrorSaving"),5e3),c({type:"INIT_QUIZ_DATA",payload:{quiz:i,language:o}})}},ae=async()=>{if(!i||i.questions.length===0){c({type:"SET_ERROR",payload:t("reviewCannotSaveNoQuestions")}),v.warn("Attempted to save quiz with no questions.","QuizReviewPage",{quizId:i==null?void 0:i.id});return}for(const r of i.questions){if(!r.questionText.trim()){c({type:"SET_ERROR",payload:t("reviewErrorEmptyQuestionText",{id:r.id.substring(0,8)})});return}if(r.options.length<2){c({type:"SET_ERROR",payload:t("reviewErrorNotEnoughOptions",{id:r.id.substring(0,8)})});return}if(!r.correctAnswer||!r.options.includes(r.correctAnswer)){c({type:"SET_ERROR",payload:t("reviewErrorInvalidCorrectAnswer",{id:r.id.substring(0,8)})});return}if(!r.explanation.trim()){c({type:"SET_ERROR",payload:t("reviewErrorEmptyExplanation",{id:r.id.substring(0,8)})});return}}c({type:"SET_ERROR",payload:null}),c({type:"SET_SAVING",payload:!0});try{const r=new Date().toISOString(),m={...i,id:Q||i.id||`quiz-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,title:i.title.trim()||t("untitledQuiz"),createdAt:i.createdAt||r,lastModified:r,config:i.config||{numQuestions:i.questions.length,difficulty:"Medium",language:o==="vi"?"Vietnamese":"English",customUserPrompt:"",selectedModel:ve}};v.info("Attempting to save quiz...","QuizReviewPage",{quizId:m.id,title:m.title,questionCount:m.questions.length}),Q?await u(m):await s(m),v.info("Quiz saved successfully. Navigating to dashboard.","QuizReviewPage",{quizId:m.id}),n("/dashboard")}catch(r){v.error("Error saving quiz","QuizReviewPage",{quizId:i==null?void 0:i.id},r),c({type:"SET_ERROR",payload:t("reviewErrorSaving")})}finally{c({type:"SET_SAVING",payload:!1})}},ie=E.useCallback(()=>P(!1),[]);if(x)return a.jsx(ue,{text:t("loading"),className:"mt-24",size:"xl"});if(w&&!i&&!l)return a.jsx(C,{className:"text-red-400 p-12 text-center shadow-xl !border-red-500/70 !bg-red-800/40 text-lg font-semibold !rounded-2xl animate-fadeInUp",useGlassEffect:!0,children:w});if(!i)return a.jsx(C,{className:"text-slate-400 p-12 text-center shadow-lg text-lg font-medium !rounded-2xl animate-fadeInUp",useGlassEffect:!0,children:t("reviewErrorNoQuizData")});const A=!!Q;return a.jsxs("div",{className:"pb-16",children:[a.jsx(pe,{notification:f,onClose:h}),a.jsx("div",{className:"sticky-review-actions bg-slate-800 shadow-xl py-4 -mx-4 sm:-mx-6 lg:-mx-8 rounded-b-2xl border-b border-slate-700 animate-fadeInUp",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-50 leading-tight truncate tracking-tight flex items-center",title:i.title,children:a.jsx(F,{text:t(A?"reviewEditQuizTitle":"reviewFinalizeQuizTitle"),markdownFormatting:!0})}),a.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-end items-center gap-2.5",children:[!A&&a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>n("/create"),leftIcon:a.jsx(xe,{className:"w-4 h-4"}),children:[" ",t("reviewDiscardRegenerateShort")," "]}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>n("/dashboard"),leftIcon:a.jsx(me,{className:"w-4 h-4"}),children:[" ",t(A?"cancel":"reviewDiscardToDashboardShort")," "]}),a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>P(!0),leftIcon:a.jsx(fe,{className:"w-4 h-4"}),className:"border-sky-400/70 text-sky-300 hover:bg-sky-400/15",disabled:!i||i.questions.length===0,children:[" ",t("azotaExportButton")," "]}),a.jsxs(z,{variant:"primary",size:"sm",onClick:ae,isLoading:l,disabled:l||!i.questions.length,leftIcon:a.jsx(ge,{className:"w-4 h-4"}),className:"bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white",children:[" ",t(l?"reviewSavingButton":A?"reviewSaveChangesButton":"reviewSaveButton")," "]})]})]}),w&&a.jsx("p",{role:"alert",className:"text-xs text-red-300 mt-4 bg-red-500/20 p-3 rounded-lg text-center sm:text-left shadow animate-fadeIn",children:w}),i&&!i.questions.length&&a.jsx("p",{role:"alert",className:"text-xs text-yellow-400 mt-4 bg-yellow-500/20 p-3 rounded-lg text-center sm:text-left shadow animate-fadeIn",children:t("reviewCannotSaveNoQuestions")})]})}),a.jsxs("div",{className:"pt-6 sm:pt-8",children:[a.jsxs(C,{useGlassEffect:!0,className:"shadow-xl !rounded-2xl !border-slate-700/50 mb-6 sm:mb-8",children:[a.jsx(B,{label:a.jsx("p",{className:"text-lg font-semibold text-slate-100",children:t("reviewQuizTitleLabel")}),value:i.title,onChange:r=>X(r.target.value),placeholder:t("step2QuizTitlePlaceholder"),inputClassName:"text-xl py-3.5",containerClassName:"mb-2"}),i.sourceContentSnippet&&a.jsxs("details",{className:"mt-4",children:[a.jsxs("summary",{className:"text-xs text-slate-400 cursor-pointer hover:text-sky-300 flex items-center font-semibold group transition-colors var(--duration-fast) var(--ease-ios)",children:[a.jsx(he,{className:"w-4 h-4 mr-2.5 text-slate-500 group-hover:text-sky-400 transition-colors var(--duration-fast) var(--ease-ios)",strokeWidth:2}),t("resultsViewSourceSnippet")]}),a.jsx("blockquote",{className:"mt-3 text-xs text-slate-400/80 max-h-24 overflow-y-auto p-3 bg-slate-700/60 border border-slate-600/60 rounded-lg shadow-inner italic",children:a.jsx(F,{text:i.sourceContentSnippet,markdownFormatting:!0})})]})]}),a.jsx("div",{className:"space-y-6 sm:space-y-8",children:i.questions.map((r,m)=>a.jsx(K,{question:r,index:m,dispatch:c,animationDelayFactor:m},r.id))})]}),a.jsx("div",{className:"mt-10 sm:mt-12 text-center",children:a.jsx(z,{variant:"subtle",onClick:ee,leftIcon:a.jsx(we,{className:"w-5 h-5"}),className:"border-2 border-dashed border-slate-600 hover:border-sky-400/80 text-slate-300 hover:text-sky-300 py-3 px-6 rounded-xl shadow-lg hover:shadow-black/20",children:t("reviewAddNewQuestion")})}),i&&j&&a.jsx(W,{isOpen:j,onClose:ie,quiz:i}),N.isOpen&&a.jsx(V,{isOpen:N.isOpen,onClose:()=>O({isOpen:!1,questionIndex:null,questionId:null}),title:t("confirmDeletionTitle"),size:"md",footerContent:a.jsxs("div",{className:"flex justify-end gap-3.5",children:[a.jsx(z,{variant:"secondary",onClick:()=>O({isOpen:!1,questionIndex:null,questionId:null}),size:"md",children:t("cancel")}),a.jsx(z,{variant:"danger",onClick:te,size:"md",children:t("confirmDeleteButton")})]}),children:a.jsx("p",{className:"text-slate-200 text-base leading-relaxed",children:t("reviewDeleteQuestionConfirmationMessage",{questionIndex:(N.questionIndex??0)+1})})})]})};je.displayName="QuizReviewPage";export{je as default};
