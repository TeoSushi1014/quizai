var KT=Object.defineProperty;var fv=s=>{throw TypeError(s)};var ZT=(s,e,t)=>e in s?KT(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var $e=(s,e,t)=>ZT(s,typeof e!="symbol"?e+"":e,t),np=(s,e,t)=>e.has(s)||fv("Cannot "+t);var g=(s,e,t)=>(np(s,e,"read from private field"),t?t.call(s):e.get(s)),L=(s,e,t)=>e.has(s)?fv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),k=(s,e,t,n)=>(np(s,e,"write to private field"),n?n.call(s,t):e.set(s,t),t),M=(s,e,t)=>(np(s,e,"access private method"),t);var En=(s,e,t,n)=>({set _(i){k(s,e,i,t)},get _(){return g(s,e,n)}});import{r as Le,M as JT,j as de,u as N2,P as QT,a as jT,b as eA,L as tA,l as nt,G as Dg,g as ry,c as ro,_ as Ws,d as nA,e as ls,f as cd,h as iA,i as rA,k as sA,m as aA,n as ld,R as ud,C as eo,o as pv,D as ip,p as oA,I as gv,B as Gi,q as mv,s as yv,T as cA,t as vv,v as lA,S as bv,w as dd,x as uA,y as dA,z as hA,A as fA}from"./index-CEvnFZHP.js";import{g as pA}from"./uuidUtils-VJ_Xs91T.js";import{s as gA}from"./secureConfigService-CNhI3-V0.js";class mA extends Le.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function yA({children:s,isPresent:e}){const t=Le.useId(),n=Le.useRef(null),i=Le.useRef({width:0,height:0,top:0,left:0}),{nonce:r}=Le.useContext(JT);return Le.useInsertionEffect(()=>{const{width:a,height:o,top:c,left:l}=i.current;if(e||!n.current||!a||!o)return;n.current.dataset.motionPopId=t;const u=document.createElement("style");return r&&(u.nonce=r),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${c}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),de.jsx(mA,{isPresent:e,childRef:n,sizeRef:i,children:Le.cloneElement(s,{ref:n})})}const vA=({children:s,initial:e,isPresent:t,onExitComplete:n,custom:i,presenceAffectsLayout:r,mode:a})=>{const o=N2(bA),c=Le.useId(),l=Le.useCallback(d=>{o.set(d,!0);for(const h of o.values())if(!h)return;n&&n()},[o,n]),u=Le.useMemo(()=>({id:c,initial:e,isPresent:t,custom:i,onExitComplete:l,register:d=>(o.set(d,!1),()=>o.delete(d))}),r?[Math.random(),l]:[t,l]);return Le.useMemo(()=>{o.forEach((d,h)=>o.set(h,!1))},[t]),Le.useEffect(()=>{!t&&!o.size&&n&&n()},[t]),a==="popLayout"&&(s=de.jsx(yA,{isPresent:t,children:s})),de.jsx(QT.Provider,{value:u,children:s})};function bA(){return new Map}const hd=s=>s.key||"";function xv(s){const e=[];return Le.Children.forEach(s,t=>{Le.isValidElement(t)&&e.push(t)}),e}const xA=({children:s,custom:e,initial:t=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:r="sync",propagate:a=!1})=>{const[o,c]=jT(a),l=Le.useMemo(()=>xv(s),[s]),u=a&&!o?[]:l.map(hd),d=Le.useRef(!0),h=Le.useRef(l),p=N2(()=>new Map),[y,v]=Le.useState(l),[b,x]=Le.useState(l);eA(()=>{d.current=!1,h.current=l;for(let A=0;A<b.length;A++){const T=hd(b[A]);u.includes(T)?p.delete(T):p.get(T)!==!0&&p.set(T,!1)}},[b,u.length,u.join("-")]);const _=[];if(l!==y){let A=[...l];for(let T=0;T<b.length;T++){const w=b[T],F=hd(w);u.includes(F)||(A.splice(T,0,w),_.push(w))}r==="wait"&&_.length&&(A=_),x(xv(A)),v(l);return}const{forceRender:D}=Le.useContext(tA);return de.jsx(de.Fragment,{children:b.map(A=>{const T=hd(A),w=a&&!o?!1:l===b||u.includes(T),F=()=>{if(p.has(T))p.set(T,!0);else return;let I=!0;p.forEach(U=>{U||(I=!1)}),I&&(D==null||D(),x(h.current),a&&(c==null||c()),n&&n())};return de.jsx(vA,{isPresent:w,initial:!d.current||t?void 0:!1,custom:w?void 0:e,presenceAffectsLayout:i,mode:r,onExitComplete:w?void 0:F,children:A},T)})})};var rt;(function(s){s.assertEqual=i=>{};function e(i){}s.assertIs=e;function t(i){throw new Error}s.assertNever=t,s.arrayToEnum=i=>{const r={};for(const a of i)r[a]=a;return r},s.getValidEnumValues=i=>{const r=s.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of r)a[o]=i[o];return s.objectValues(a)},s.objectValues=i=>s.objectKeys(i).map(function(r){return i[r]}),s.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const r=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&r.push(a);return r},s.find=(i,r)=>{for(const a of i)if(r(a))return a},s.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,r=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(r)}s.joinValues=n,s.jsonStringifyReplacer=(i,r)=>typeof r=="bigint"?r.toString():r})(rt||(rt={}));var _v;(function(s){s.mergeShapes=(e,t)=>({...e,...t})})(_v||(_v={}));const Fe=rt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Wr=s=>{switch(typeof s){case"undefined":return Fe.undefined;case"string":return Fe.string;case"number":return Number.isNaN(s)?Fe.nan:Fe.number;case"boolean":return Fe.boolean;case"function":return Fe.function;case"bigint":return Fe.bigint;case"symbol":return Fe.symbol;case"object":return Array.isArray(s)?Fe.array:s===null?Fe.null:s.then&&typeof s.then=="function"&&s.catch&&typeof s.catch=="function"?Fe.promise:typeof Map<"u"&&s instanceof Map?Fe.map:typeof Set<"u"&&s instanceof Set?Fe.set:typeof Date<"u"&&s instanceof Date?Fe.date:Fe.object;default:return Fe.unknown}},be=rt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Fr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(r){return r.message},n={_errors:[]},i=r=>{for(const a of r.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(t(a));else{let o=n,c=0;for(;c<a.path.length;){const l=a.path[c];c===a.path.length-1?(o[l]=o[l]||{_errors:[]},o[l]._errors.push(t(a))):o[l]=o[l]||{_errors:[]},o=o[l],c++}}};return i(this),n}static assert(e){if(!(e instanceof Fr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,rt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},n=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}Fr.create=s=>new Fr(s);const Tg=(s,e)=>{let t;switch(s.code){case be.invalid_type:s.received===Fe.undefined?t="Required":t=`Expected ${s.expected}, received ${s.received}`;break;case be.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(s.expected,rt.jsonStringifyReplacer)}`;break;case be.unrecognized_keys:t=`Unrecognized key(s) in object: ${rt.joinValues(s.keys,", ")}`;break;case be.invalid_union:t="Invalid input";break;case be.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${rt.joinValues(s.options)}`;break;case be.invalid_enum_value:t=`Invalid enum value. Expected ${rt.joinValues(s.options)}, received '${s.received}'`;break;case be.invalid_arguments:t="Invalid function arguments";break;case be.invalid_return_type:t="Invalid function return type";break;case be.invalid_date:t="Invalid date";break;case be.invalid_string:typeof s.validation=="object"?"includes"in s.validation?(t=`Invalid input: must include "${s.validation.includes}"`,typeof s.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${s.validation.position}`)):"startsWith"in s.validation?t=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?t=`Invalid input: must end with "${s.validation.endsWith}"`:rt.assertNever(s.validation):s.validation!=="regex"?t=`Invalid ${s.validation}`:t="Invalid";break;case be.too_small:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(s.minimum))}`:t="Invalid input";break;case be.too_big:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="bigint"?t=`BigInt must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(s.maximum))}`:t="Invalid input";break;case be.custom:t="Invalid input";break;case be.invalid_intersection_types:t="Intersection results could not be merged";break;case be.not_multiple_of:t=`Number must be a multiple of ${s.multipleOf}`;break;case be.not_finite:t="Number must be finite";break;default:t=e.defaultError,rt.assertNever(s)}return{message:t}};let _A=Tg;function DA(){return _A}const TA=s=>{const{data:e,path:t,errorMaps:n,issueData:i}=s,r=[...t,...i.path||[]],a={...i,path:r};if(i.message!==void 0)return{...i,path:r,message:i.message};let o="";const c=n.filter(l=>!!l).slice().reverse();for(const l of c)o=l(a,{data:e,defaultError:o}).message;return{...i,path:r,message:o}};function we(s,e){const t=DA(),n=TA({issueData:e,data:s.data,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,t,t===Tg?void 0:Tg].filter(i=>!!i)});s.common.issues.push(n)}class fn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const i of t){if(i.status==="aborted")return Xe;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const i of t){const r=await i.key,a=await i.value;n.push({key:r,value:a})}return fn.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const i of t){const{key:r,value:a}=i;if(r.status==="aborted"||a.status==="aborted")return Xe;r.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),r.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(n[r.value]=a.value)}return{status:e.value,value:n}}}const Xe=Object.freeze({status:"aborted"}),Hc=s=>({status:"dirty",value:s}),Jn=s=>({status:"valid",value:s}),Dv=s=>s.status==="aborted",Tv=s=>s.status==="dirty",pc=s=>s.status==="valid",Fh=s=>typeof Promise<"u"&&s instanceof Promise;var ke;(function(s){s.errToObj=e=>typeof e=="string"?{message:e}:e||{},s.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ke||(ke={}));var Ih=function(s,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?s!==e||!n:!e.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(s):n?n.value:e.get(s)},P2=function(s,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?s!==e||!i:!e.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(s,t):i?i.value=t:e.set(s,t),t},Gc,$c;class qi{constructor(e,t,n,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Av=(s,e)=>{if(pc(e))return{success:!0,data:e.value};if(!s.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Fr(s.common.issues);return this._error=t,this._error}}};function Ke(s){if(!s)return{};const{errorMap:e,invalid_type_error:t,required_error:n,description:i}=s;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>{const{message:c}=s;return a.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??n??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:c??t??o.defaultError}},description:i}}class et{get description(){return this._def.description}_getType(e){return Wr(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Wr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new fn,ctx:{common:e.parent.common,data:e.data,parsedType:Wr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Fh(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){const n={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wr(e)},i=this._parseSync({data:e,path:n.path,parent:n});return Av(n,i)}"~validate"(e){var n,i;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wr(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:t});return pc(r)?{value:r.value}:{issues:t.common.issues}}catch(r){(i=(n=r==null?void 0:r.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(r=>pc(r)?{value:r.value}:{issues:t.common.issues})}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wr(e)},i=this._parse({data:e,path:n.path,parent:n}),r=await(Fh(i)?i:Promise.resolve(i));return Av(n,r)}refine(e,t){const n=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,r)=>{const a=e(i),o=()=>r.addIssue({code:be.custom,...n(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,t){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof t=="function"?t(n,i):t),!1))}_refinement(e){return new yc({schema:this,typeName:He.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return us.create(this,this._def)}nullable(){return vc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Bi.create(this)}promise(){return Ph.create(this,this._def)}or(e){return kh.create([this,e],this._def)}and(e){return Mh.create(this,e,this._def)}transform(e){return new yc({...Ke(this._def),schema:this,typeName:He.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Eg({...Ke(this._def),innerType:this,defaultValue:t,typeName:He.ZodDefault})}brand(){return new $A({typeName:He.ZodBranded,type:this,...Ke(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Sg({...Ke(this._def),innerType:this,catchValue:t,typeName:He.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return sy.create(this,e)}readonly(){return Ug.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const AA=/^c[^\s-]{8,}$/i,CA=/^[0-9a-z]+$/,wA=/^[0-9A-HJKMNP-TV-Z]{26}$/i,EA=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,SA=/^[a-z0-9_-]{21}$/i,UA=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,FA=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,IA=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,RA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let rp;const kA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,MA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,NA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,PA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,LA=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,BA=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,L2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",OA=new RegExp(`^${L2}$`);function B2(s){let e="[0-5]\\d";s.precision?e=`${e}\\.\\d{${s.precision}}`:s.precision==null&&(e=`${e}(\\.\\d+)?`);const t=s.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function WA(s){return new RegExp(`^${B2(s)}$`)}function qA(s){let e=`${L2}T${B2(s)}`;const t=[];return t.push(s.local?"Z?":"Z"),s.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function VA(s,e){return!!((e==="v4"||!e)&&kA.test(s)||(e==="v6"||!e)&&NA.test(s))}function zA(s,e){if(!UA.test(s))return!1;try{const[t]=s.split("."),n=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function HA(s,e){return!!((e==="v4"||!e)&&MA.test(s)||(e==="v6"||!e)&&PA.test(s))}class Li extends et{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Fe.string){const r=this._getOrReturnCtx(e);return we(r,{code:be.invalid_type,expected:Fe.string,received:r.parsedType}),Xe}const n=new fn;let i;for(const r of this._def.checks)if(r.kind==="min")e.data.length<r.value&&(i=this._getOrReturnCtx(e,i),we(i,{code:be.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),n.dirty());else if(r.kind==="max")e.data.length>r.value&&(i=this._getOrReturnCtx(e,i),we(i,{code:be.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),n.dirty());else if(r.kind==="length"){const a=e.data.length>r.value,o=e.data.length<r.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?we(i,{code:be.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):o&&we(i,{code:be.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),n.dirty())}else if(r.kind==="email")IA.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"email",code:be.invalid_string,message:r.message}),n.dirty());else if(r.kind==="emoji")rp||(rp=new RegExp(RA,"u")),rp.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"emoji",code:be.invalid_string,message:r.message}),n.dirty());else if(r.kind==="uuid")EA.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"uuid",code:be.invalid_string,message:r.message}),n.dirty());else if(r.kind==="nanoid")SA.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"nanoid",code:be.invalid_string,message:r.message}),n.dirty());else if(r.kind==="cuid")AA.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"cuid",code:be.invalid_string,message:r.message}),n.dirty());else if(r.kind==="cuid2")CA.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"cuid2",code:be.invalid_string,message:r.message}),n.dirty());else if(r.kind==="ulid")wA.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"ulid",code:be.invalid_string,message:r.message}),n.dirty());else if(r.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),we(i,{validation:"url",code:be.invalid_string,message:r.message}),n.dirty()}else r.kind==="regex"?(r.regex.lastIndex=0,r.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"regex",code:be.invalid_string,message:r.message}),n.dirty())):r.kind==="trim"?e.data=e.data.trim():r.kind==="includes"?e.data.includes(r.value,r.position)||(i=this._getOrReturnCtx(e,i),we(i,{code:be.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),n.dirty()):r.kind==="toLowerCase"?e.data=e.data.toLowerCase():r.kind==="toUpperCase"?e.data=e.data.toUpperCase():r.kind==="startsWith"?e.data.startsWith(r.value)||(i=this._getOrReturnCtx(e,i),we(i,{code:be.invalid_string,validation:{startsWith:r.value},message:r.message}),n.dirty()):r.kind==="endsWith"?e.data.endsWith(r.value)||(i=this._getOrReturnCtx(e,i),we(i,{code:be.invalid_string,validation:{endsWith:r.value},message:r.message}),n.dirty()):r.kind==="datetime"?qA(r).test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{code:be.invalid_string,validation:"datetime",message:r.message}),n.dirty()):r.kind==="date"?OA.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{code:be.invalid_string,validation:"date",message:r.message}),n.dirty()):r.kind==="time"?WA(r).test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{code:be.invalid_string,validation:"time",message:r.message}),n.dirty()):r.kind==="duration"?FA.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"duration",code:be.invalid_string,message:r.message}),n.dirty()):r.kind==="ip"?VA(e.data,r.version)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"ip",code:be.invalid_string,message:r.message}),n.dirty()):r.kind==="jwt"?zA(e.data,r.alg)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"jwt",code:be.invalid_string,message:r.message}),n.dirty()):r.kind==="cidr"?HA(e.data,r.version)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"cidr",code:be.invalid_string,message:r.message}),n.dirty()):r.kind==="base64"?LA.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"base64",code:be.invalid_string,message:r.message}),n.dirty()):r.kind==="base64url"?BA.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"base64url",code:be.invalid_string,message:r.message}),n.dirty()):rt.assertNever(r);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(i=>e.test(i),{validation:t,code:be.invalid_string,...ke.errToObj(n)})}_addCheck(e){return new Li({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ke.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ke.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ke.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ke.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ke.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ke.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ke.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ke.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ke.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ke.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ke.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ke.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ke.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ke.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ke.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ke.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ke.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...ke.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ke.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ke.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ke.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ke.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ke.errToObj(t)})}nonempty(e){return this.min(1,ke.errToObj(e))}trim(){return new Li({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Li({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Li({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Li.create=s=>new Li({checks:[],typeName:He.ZodString,coerce:(s==null?void 0:s.coerce)??!1,...Ke(s)});function GA(s,e){const t=(s.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=t>n?t:n,r=Number.parseInt(s.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return r%a/10**i}class La extends et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Fe.number){const r=this._getOrReturnCtx(e);return we(r,{code:be.invalid_type,expected:Fe.number,received:r.parsedType}),Xe}let n;const i=new fn;for(const r of this._def.checks)r.kind==="int"?rt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),we(n,{code:be.invalid_type,expected:"integer",received:"float",message:r.message}),i.dirty()):r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(n=this._getOrReturnCtx(e,n),we(n,{code:be.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(n=this._getOrReturnCtx(e,n),we(n,{code:be.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):r.kind==="multipleOf"?GA(e.data,r.value)!==0&&(n=this._getOrReturnCtx(e,n),we(n,{code:be.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):r.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),we(n,{code:be.not_finite,message:r.message}),i.dirty()):rt.assertNever(r);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ke.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ke.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ke.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ke.toString(t))}setLimit(e,t,n,i){return new La({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:ke.toString(i)}]})}_addCheck(e){return new La({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ke.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ke.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ke.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ke.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ke.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ke.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ke.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ke.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ke.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&rt.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}La.create=s=>new La({checks:[],typeName:He.ZodNumber,coerce:(s==null?void 0:s.coerce)||!1,...Ke(s)});class Ba extends et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Fe.bigint)return this._getInvalidInput(e);let n;const i=new fn;for(const r of this._def.checks)r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(n=this._getOrReturnCtx(e,n),we(n,{code:be.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(n=this._getOrReturnCtx(e,n),we(n,{code:be.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):r.kind==="multipleOf"?e.data%r.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),we(n,{code:be.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):rt.assertNever(r);return{status:i.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return we(t,{code:be.invalid_type,expected:Fe.bigint,received:t.parsedType}),Xe}gte(e,t){return this.setLimit("min",e,!0,ke.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ke.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ke.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ke.toString(t))}setLimit(e,t,n,i){return new Ba({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:ke.toString(i)}]})}_addCheck(e){return new Ba({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ke.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ke.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ke.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ke.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ke.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ba.create=s=>new Ba({checks:[],typeName:He.ZodBigInt,coerce:(s==null?void 0:s.coerce)??!1,...Ke(s)});class Rh extends et{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Fe.boolean){const n=this._getOrReturnCtx(e);return we(n,{code:be.invalid_type,expected:Fe.boolean,received:n.parsedType}),Xe}return Jn(e.data)}}Rh.create=s=>new Rh({typeName:He.ZodBoolean,coerce:(s==null?void 0:s.coerce)||!1,...Ke(s)});class gc extends et{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Fe.date){const r=this._getOrReturnCtx(e);return we(r,{code:be.invalid_type,expected:Fe.date,received:r.parsedType}),Xe}if(Number.isNaN(e.data.getTime())){const r=this._getOrReturnCtx(e);return we(r,{code:be.invalid_date}),Xe}const n=new fn;let i;for(const r of this._def.checks)r.kind==="min"?e.data.getTime()<r.value&&(i=this._getOrReturnCtx(e,i),we(i,{code:be.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),n.dirty()):r.kind==="max"?e.data.getTime()>r.value&&(i=this._getOrReturnCtx(e,i),we(i,{code:be.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),n.dirty()):rt.assertNever(r);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new gc({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ke.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ke.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}gc.create=s=>new gc({checks:[],coerce:(s==null?void 0:s.coerce)||!1,typeName:He.ZodDate,...Ke(s)});class Cv extends et{_parse(e){if(this._getType(e)!==Fe.symbol){const n=this._getOrReturnCtx(e);return we(n,{code:be.invalid_type,expected:Fe.symbol,received:n.parsedType}),Xe}return Jn(e.data)}}Cv.create=s=>new Cv({typeName:He.ZodSymbol,...Ke(s)});class wv extends et{_parse(e){if(this._getType(e)!==Fe.undefined){const n=this._getOrReturnCtx(e);return we(n,{code:be.invalid_type,expected:Fe.undefined,received:n.parsedType}),Xe}return Jn(e.data)}}wv.create=s=>new wv({typeName:He.ZodUndefined,...Ke(s)});class Ev extends et{_parse(e){if(this._getType(e)!==Fe.null){const n=this._getOrReturnCtx(e);return we(n,{code:be.invalid_type,expected:Fe.null,received:n.parsedType}),Xe}return Jn(e.data)}}Ev.create=s=>new Ev({typeName:He.ZodNull,...Ke(s)});class Sv extends et{constructor(){super(...arguments),this._any=!0}_parse(e){return Jn(e.data)}}Sv.create=s=>new Sv({typeName:He.ZodAny,...Ke(s)});class Ag extends et{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Jn(e.data)}}Ag.create=s=>new Ag({typeName:He.ZodUnknown,...Ke(s)});class ds extends et{_parse(e){const t=this._getOrReturnCtx(e);return we(t,{code:be.invalid_type,expected:Fe.never,received:t.parsedType}),Xe}}ds.create=s=>new ds({typeName:He.ZodNever,...Ke(s)});class Uv extends et{_parse(e){if(this._getType(e)!==Fe.undefined){const n=this._getOrReturnCtx(e);return we(n,{code:be.invalid_type,expected:Fe.void,received:n.parsedType}),Xe}return Jn(e.data)}}Uv.create=s=>new Uv({typeName:He.ZodVoid,...Ke(s)});class Bi extends et{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),i=this._def;if(t.parsedType!==Fe.array)return we(t,{code:be.invalid_type,expected:Fe.array,received:t.parsedType}),Xe;if(i.exactLength!==null){const a=t.data.length>i.exactLength.value,o=t.data.length<i.exactLength.value;(a||o)&&(we(t,{code:a?be.too_big:be.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(we(t,{code:be.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(we(t,{code:be.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((a,o)=>i.type._parseAsync(new qi(t,a,t.path,o)))).then(a=>fn.mergeArray(n,a));const r=[...t.data].map((a,o)=>i.type._parseSync(new qi(t,a,t.path,o)));return fn.mergeArray(n,r)}get element(){return this._def.type}min(e,t){return new Bi({...this._def,minLength:{value:e,message:ke.toString(t)}})}max(e,t){return new Bi({...this._def,maxLength:{value:e,message:ke.toString(t)}})}length(e,t){return new Bi({...this._def,exactLength:{value:e,message:ke.toString(t)}})}nonempty(e){return this.min(1,e)}}Bi.create=(s,e)=>new Bi({type:s,minLength:null,maxLength:null,exactLength:null,typeName:He.ZodArray,...Ke(e)});function so(s){if(s instanceof It){const e={};for(const t in s.shape){const n=s.shape[t];e[t]=us.create(so(n))}return new It({...s._def,shape:()=>e})}else return s instanceof Bi?new Bi({...s._def,type:so(s.element)}):s instanceof us?us.create(so(s.unwrap())):s instanceof vc?vc.create(so(s.unwrap())):s instanceof Oa?Oa.create(s.items.map(e=>so(e))):s}class It extends et{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=rt.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==Fe.object){const l=this._getOrReturnCtx(e);return we(l,{code:be.invalid_type,expected:Fe.object,received:l.parsedType}),Xe}const{status:n,ctx:i}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof ds&&this._def.unknownKeys==="strip"))for(const l in i.data)a.includes(l)||o.push(l);const c=[];for(const l of a){const u=r[l],d=i.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new qi(i,d,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof ds){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of o)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(l==="strict")o.length>0&&(we(i,{code:be.unrecognized_keys,keys:o}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of o){const d=i.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new qi(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key,h=await u.value;l.push({key:d,value:h,alwaysSet:u.alwaysSet})}return l}).then(l=>fn.mergeObjectSync(n,l)):fn.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return ke.errToObj,new It({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{var r,a;const i=((a=(r=this._def).errorMap)==null?void 0:a.call(r,t,n).message)??n.defaultError;return t.code==="unrecognized_keys"?{message:ke.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new It({...this._def,unknownKeys:"strip"})}passthrough(){return new It({...this._def,unknownKeys:"passthrough"})}extend(e){return new It({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new It({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:He.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new It({...this._def,catchall:e})}pick(e){const t={};for(const n of rt.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new It({...this._def,shape:()=>t})}omit(e){const t={};for(const n of rt.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new It({...this._def,shape:()=>t})}deepPartial(){return so(this)}partial(e){const t={};for(const n of rt.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?t[n]=i:t[n]=i.optional()}return new It({...this._def,shape:()=>t})}required(e){const t={};for(const n of rt.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let r=this.shape[n];for(;r instanceof us;)r=r._def.innerType;t[n]=r}return new It({...this._def,shape:()=>t})}keyof(){return O2(rt.objectKeys(this.shape))}}It.create=(s,e)=>new It({shape:()=>s,unknownKeys:"strip",catchall:ds.create(),typeName:He.ZodObject,...Ke(e)});It.strictCreate=(s,e)=>new It({shape:()=>s,unknownKeys:"strict",catchall:ds.create(),typeName:He.ZodObject,...Ke(e)});It.lazycreate=(s,e)=>new It({shape:s,unknownKeys:"strip",catchall:ds.create(),typeName:He.ZodObject,...Ke(e)});class kh extends et{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;function i(r){for(const o of r)if(o.result.status==="valid")return o.result;for(const o of r)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;const a=r.map(o=>new Fr(o.ctx.common.issues));return we(t,{code:be.invalid_union,unionErrors:a}),Xe}if(t.common.async)return Promise.all(n.map(async r=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await r._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(i);{let r;const a=[];for(const c of n){const l={...t,common:{...t.common,issues:[]},parent:null},u=c._parseSync({data:t.data,path:t.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!r&&(r={result:u,ctx:l}),l.common.issues.length&&a.push(l.common.issues)}if(r)return t.common.issues.push(...r.ctx.common.issues),r.result;const o=a.map(c=>new Fr(c));return we(t,{code:be.invalid_union,unionErrors:o}),Xe}}get options(){return this._def.options}}kh.create=(s,e)=>new kh({options:s,typeName:He.ZodUnion,...Ke(e)});function Cg(s,e){const t=Wr(s),n=Wr(e);if(s===e)return{valid:!0,data:s};if(t===Fe.object&&n===Fe.object){const i=rt.objectKeys(e),r=rt.objectKeys(s).filter(o=>i.indexOf(o)!==-1),a={...s,...e};for(const o of r){const c=Cg(s[o],e[o]);if(!c.valid)return{valid:!1};a[o]=c.data}return{valid:!0,data:a}}else if(t===Fe.array&&n===Fe.array){if(s.length!==e.length)return{valid:!1};const i=[];for(let r=0;r<s.length;r++){const a=s[r],o=e[r],c=Cg(a,o);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return t===Fe.date&&n===Fe.date&&+s==+e?{valid:!0,data:s}:{valid:!1}}class Mh extends et{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),i=(r,a)=>{if(Dv(r)||Dv(a))return Xe;const o=Cg(r.value,a.value);return o.valid?((Tv(r)||Tv(a))&&t.dirty(),{status:t.value,value:o.data}):(we(n,{code:be.invalid_intersection_types}),Xe)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([r,a])=>i(r,a)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Mh.create=(s,e,t)=>new Mh({left:s,right:e,typeName:He.ZodIntersection,...Ke(t)});class Oa extends et{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Fe.array)return we(n,{code:be.invalid_type,expected:Fe.array,received:n.parsedType}),Xe;if(n.data.length<this._def.items.length)return we(n,{code:be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Xe;!this._def.rest&&n.data.length>this._def.items.length&&(we(n,{code:be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map((a,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new qi(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(r).then(a=>fn.mergeArray(t,a)):fn.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Oa({...this._def,rest:e})}}Oa.create=(s,e)=>{if(!Array.isArray(s))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Oa({items:s,typeName:He.ZodTuple,rest:null,...Ke(e)})};class Nh extends et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Fe.object)return we(n,{code:be.invalid_type,expected:Fe.object,received:n.parsedType}),Xe;const i=[],r=this._def.keyType,a=this._def.valueType;for(const o in n.data)i.push({key:r._parse(new qi(n,o,n.path,o)),value:a._parse(new qi(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?fn.mergeObjectAsync(t,i):fn.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof et?new Nh({keyType:e,valueType:t,typeName:He.ZodRecord,...Ke(n)}):new Nh({keyType:Li.create(),valueType:e,typeName:He.ZodRecord,...Ke(t)})}}class Fv extends et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Fe.map)return we(n,{code:be.invalid_type,expected:Fe.map,received:n.parsedType}),Xe;const i=this._def.keyType,r=this._def.valueType,a=[...n.data.entries()].map(([o,c],l)=>({key:i._parse(new qi(n,o,n.path,[l,"key"])),value:r._parse(new qi(n,c,n.path,[l,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of a){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return Xe;(l.status==="dirty"||u.status==="dirty")&&t.dirty(),o.set(l.value,u.value)}return{status:t.value,value:o}})}else{const o=new Map;for(const c of a){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return Xe;(l.status==="dirty"||u.status==="dirty")&&t.dirty(),o.set(l.value,u.value)}return{status:t.value,value:o}}}}Fv.create=(s,e,t)=>new Fv({valueType:e,keyType:s,typeName:He.ZodMap,...Ke(t)});class pl extends et{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Fe.set)return we(n,{code:be.invalid_type,expected:Fe.set,received:n.parsedType}),Xe;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(we(n,{code:be.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(we(n,{code:be.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const r=this._def.valueType;function a(c){const l=new Set;for(const u of c){if(u.status==="aborted")return Xe;u.status==="dirty"&&t.dirty(),l.add(u.value)}return{status:t.value,value:l}}const o=[...n.data.values()].map((c,l)=>r._parse(new qi(n,c,n.path,l)));return n.common.async?Promise.all(o).then(c=>a(c)):a(o)}min(e,t){return new pl({...this._def,minSize:{value:e,message:ke.toString(t)}})}max(e,t){return new pl({...this._def,maxSize:{value:e,message:ke.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}pl.create=(s,e)=>new pl({valueType:s,minSize:null,maxSize:null,typeName:He.ZodSet,...Ke(e)});class wg extends et{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}wg.create=(s,e)=>new wg({getter:s,typeName:He.ZodLazy,...Ke(e)});class Iv extends et{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return we(t,{received:t.data,code:be.invalid_literal,expected:this._def.value}),Xe}return{status:"valid",value:e.data}}get value(){return this._def.value}}Iv.create=(s,e)=>new Iv({value:s,typeName:He.ZodLiteral,...Ke(e)});function O2(s,e){return new mc({values:s,typeName:He.ZodEnum,...Ke(e)})}class mc extends et{constructor(){super(...arguments),Gc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),n=this._def.values;return we(t,{expected:rt.joinValues(n),received:t.parsedType,code:be.invalid_type}),Xe}if(Ih(this,Gc,"f")||P2(this,Gc,new Set(this._def.values),"f"),!Ih(this,Gc,"f").has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return we(t,{received:t.data,code:be.invalid_enum_value,options:n}),Xe}return Jn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return mc.create(e,{...this._def,...t})}exclude(e,t=this._def){return mc.create(this.options.filter(n=>!e.includes(n)),{...this._def,...t})}}Gc=new WeakMap;mc.create=O2;class Rv extends et{constructor(){super(...arguments),$c.set(this,void 0)}_parse(e){const t=rt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Fe.string&&n.parsedType!==Fe.number){const i=rt.objectValues(t);return we(n,{expected:rt.joinValues(i),received:n.parsedType,code:be.invalid_type}),Xe}if(Ih(this,$c,"f")||P2(this,$c,new Set(rt.getValidEnumValues(this._def.values)),"f"),!Ih(this,$c,"f").has(e.data)){const i=rt.objectValues(t);return we(n,{received:n.data,code:be.invalid_enum_value,options:i}),Xe}return Jn(e.data)}get enum(){return this._def.values}}$c=new WeakMap;Rv.create=(s,e)=>new Rv({values:s,typeName:He.ZodNativeEnum,...Ke(e)});class Ph extends et{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Fe.promise&&t.common.async===!1)return we(t,{code:be.invalid_type,expected:Fe.promise,received:t.parsedType}),Xe;const n=t.parsedType===Fe.promise?t.data:Promise.resolve(t.data);return Jn(n.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Ph.create=(s,e)=>new Ph({type:s,typeName:He.ZodPromise,...Ke(e)});class yc extends et{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===He.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),i=this._def.effect||null,r={addIssue:a=>{we(n,a),a.fatal?t.abort():t.dirty()},get path(){return n.path}};if(r.addIssue=r.addIssue.bind(r),i.type==="preprocess"){const a=i.transform(n.data,r);if(n.common.async)return Promise.resolve(a).then(async o=>{if(t.value==="aborted")return Xe;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?Xe:c.status==="dirty"||t.value==="dirty"?Hc(c.value):c});{if(t.value==="aborted")return Xe;const o=this._def.schema._parseSync({data:a,path:n.path,parent:n});return o.status==="aborted"?Xe:o.status==="dirty"||t.value==="dirty"?Hc(o.value):o}}if(i.type==="refinement"){const a=o=>{const c=i.refinement(o,r);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Xe:(o.status==="dirty"&&t.dirty(),a(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Xe:(o.status==="dirty"&&t.dirty(),a(o.value).then(()=>({status:t.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!pc(a))return a;const o=i.transform(a.value,r);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>pc(a)?Promise.resolve(i.transform(a.value,r)).then(o=>({status:t.value,value:o})):a);rt.assertNever(i)}}yc.create=(s,e,t)=>new yc({schema:s,typeName:He.ZodEffects,effect:e,...Ke(t)});yc.createWithPreprocess=(s,e,t)=>new yc({schema:e,effect:{type:"preprocess",transform:s},typeName:He.ZodEffects,...Ke(t)});class us extends et{_parse(e){return this._getType(e)===Fe.undefined?Jn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}us.create=(s,e)=>new us({innerType:s,typeName:He.ZodOptional,...Ke(e)});class vc extends et{_parse(e){return this._getType(e)===Fe.null?Jn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}vc.create=(s,e)=>new vc({innerType:s,typeName:He.ZodNullable,...Ke(e)});class Eg extends et{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===Fe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Eg.create=(s,e)=>new Eg({innerType:s,typeName:He.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ke(e)});class Sg extends et{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Fh(i)?i.then(r=>({status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Fr(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Fr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Sg.create=(s,e)=>new Sg({innerType:s,typeName:He.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ke(e)});class kv extends et{_parse(e){if(this._getType(e)!==Fe.nan){const n=this._getOrReturnCtx(e);return we(n,{code:be.invalid_type,expected:Fe.nan,received:n.parsedType}),Xe}return{status:"valid",value:e.data}}}kv.create=s=>new kv({typeName:He.ZodNaN,...Ke(s)});class $A extends et{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class sy extends et{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const r=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return r.status==="aborted"?Xe:r.status==="dirty"?(t.dirty(),Hc(r.value)):this._def.out._parseAsync({data:r.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Xe:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,t){return new sy({in:e,out:t,typeName:He.ZodPipeline})}}class Ug extends et{_parse(e){const t=this._def.innerType._parse(e),n=i=>(pc(i)&&(i.value=Object.freeze(i.value)),i);return Fh(t)?t.then(i=>n(i)):n(t)}unwrap(){return this._def.innerType}}Ug.create=(s,e)=>new Ug({innerType:s,typeName:He.ZodReadonly,...Ke(e)});var He;(function(s){s.ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly"})(He||(He={}));const Us=Li.create,Mv=La.create;Ba.create;const XA=Rh.create;gc.create;const Nv=Ag.create;ds.create;const Xc=Bi.create,YA=It.create,KA=kh.create;Mh.create;Oa.create;const ZA=Nh.create,JA=wg.create,QA=mc.create;Ph.create;us.create;vc.create;const to={string:s=>Li.create({...s,coerce:!0}),number:s=>La.create({...s,coerce:!0}),boolean:s=>Rh.create({...s,coerce:!0}),bigint:s=>Ba.create({...s,coerce:!0}),date:s=>gc.create({...s,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let jA,eC;function tC(){return{geminiUrl:jA,vertexUrl:eC}}function nC(s,e,t){var n,i,r;if(!(!((n=s.httpOptions)===null||n===void 0)&&n.baseUrl)){const a=tC();return s.vertexai?(i=a.vertexUrl)!==null&&i!==void 0?i:e:(r=a.geminiUrl)!==null&&r!==void 0?r:t}return s.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ed{}function We(s,e){const t=/\{([^}]+)\}/g;return s.replace(t,(n,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const r=e[i];return r!=null?String(r):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function m(s,e,t){for(let r=0;r<e.length-1;r++){const a=e[r];if(a.endsWith("[]")){const o=a.slice(0,-2);if(!(o in s))if(Array.isArray(t))s[o]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(s[o])){const c=s[o];if(Array.isArray(t))for(let l=0;l<c.length;l++){const u=c[l];m(u,e.slice(r+1),t[l])}else for(const l of c)m(l,e.slice(r+1),t)}return}else if(a.endsWith("[0]")){const o=a.slice(0,-3);o in s||(s[o]=[{}]);const c=s[o];m(c[0],e.slice(r+1),t);return}(!s[a]||typeof s[a]!="object")&&(s[a]={}),s=s[a]}const n=e[e.length-1],i=s[n];if(i!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===i)return;if(typeof i=="object"&&typeof t=="object"&&i!==null&&t!==null)Object.assign(i,t);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else s[n]=t}function f(s,e){try{if(e.length===1&&e[0]==="_self")return s;for(let t=0;t<e.length;t++){if(typeof s!="object"||s===null)return;const n=e[t];if(n.endsWith("[]")){const i=n.slice(0,-2);if(i in s){const r=s[i];return Array.isArray(r)?r.map(a=>f(a,e.slice(t+1))):void 0}else return}else s=s[n]}return s}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Pv;(function(s){s.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",s.OUTCOME_OK="OUTCOME_OK",s.OUTCOME_FAILED="OUTCOME_FAILED",s.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Pv||(Pv={}));var Lv;(function(s){s.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",s.PYTHON="PYTHON"})(Lv||(Lv={}));var Pi;(function(s){s.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",s.STRING="STRING",s.NUMBER="NUMBER",s.INTEGER="INTEGER",s.BOOLEAN="BOOLEAN",s.ARRAY="ARRAY",s.OBJECT="OBJECT",s.NULL="NULL"})(Pi||(Pi={}));var Bv;(function(s){s.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",s.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",s.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",s.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",s.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",s.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Bv||(Bv={}));var Ov;(function(s){s.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",s.SEVERITY="SEVERITY",s.PROBABILITY="PROBABILITY"})(Ov||(Ov={}));var Wv;(function(s){s.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",s.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",s.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",s.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",s.BLOCK_NONE="BLOCK_NONE",s.OFF="OFF"})(Wv||(Wv={}));var qv;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.MODE_DYNAMIC="MODE_DYNAMIC"})(qv||(qv={}));var Vv;(function(s){s.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",s.NO_AUTH="NO_AUTH",s.API_KEY_AUTH="API_KEY_AUTH",s.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",s.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",s.OAUTH="OAUTH",s.OIDC_AUTH="OIDC_AUTH"})(Vv||(Vv={}));var zv;(function(s){s.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",s.STOP="STOP",s.MAX_TOKENS="MAX_TOKENS",s.SAFETY="SAFETY",s.RECITATION="RECITATION",s.LANGUAGE="LANGUAGE",s.OTHER="OTHER",s.BLOCKLIST="BLOCKLIST",s.PROHIBITED_CONTENT="PROHIBITED_CONTENT",s.SPII="SPII",s.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",s.IMAGE_SAFETY="IMAGE_SAFETY"})(zv||(zv={}));var Hv;(function(s){s.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",s.NEGLIGIBLE="NEGLIGIBLE",s.LOW="LOW",s.MEDIUM="MEDIUM",s.HIGH="HIGH"})(Hv||(Hv={}));var Gv;(function(s){s.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",s.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",s.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",s.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",s.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Gv||(Gv={}));var $v;(function(s){s.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",s.SAFETY="SAFETY",s.OTHER="OTHER",s.BLOCKLIST="BLOCKLIST",s.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})($v||($v={}));var Xv;(function(s){s.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",s.ON_DEMAND="ON_DEMAND",s.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Xv||(Xv={}));var Lh;(function(s){s.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",s.TEXT="TEXT",s.IMAGE="IMAGE",s.AUDIO="AUDIO"})(Lh||(Lh={}));var Yv;(function(s){s.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",s.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",s.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",s.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Yv||(Yv={}));var Fg;(function(s){s.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",s.JOB_STATE_QUEUED="JOB_STATE_QUEUED",s.JOB_STATE_PENDING="JOB_STATE_PENDING",s.JOB_STATE_RUNNING="JOB_STATE_RUNNING",s.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",s.JOB_STATE_FAILED="JOB_STATE_FAILED",s.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",s.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",s.JOB_STATE_PAUSED="JOB_STATE_PAUSED",s.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",s.JOB_STATE_UPDATING="JOB_STATE_UPDATING",s.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Fg||(Fg={}));var Kv;(function(s){s.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",s.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",s.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",s.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",s.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",s.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",s.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Kv||(Kv={}));var Zv;(function(s){s.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",s.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",s.BALANCED="BALANCED",s.PRIORITIZE_COST="PRIORITIZE_COST"})(Zv||(Zv={}));var Jv;(function(s){s.UNSPECIFIED="UNSPECIFIED",s.BLOCKING="BLOCKING",s.NON_BLOCKING="NON_BLOCKING"})(Jv||(Jv={}));var Qv;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.MODE_DYNAMIC="MODE_DYNAMIC"})(Qv||(Qv={}));var jv;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.AUTO="AUTO",s.ANY="ANY",s.NONE="NONE"})(jv||(jv={}));var eb;(function(s){s.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",s.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",s.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(eb||(eb={}));var tb;(function(s){s.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",s.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",s.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",s.BLOCK_NONE="BLOCK_NONE"})(tb||(tb={}));var nb;(function(s){s.DONT_ALLOW="DONT_ALLOW",s.ALLOW_ADULT="ALLOW_ADULT",s.ALLOW_ALL="ALLOW_ALL"})(nb||(nb={}));var ib;(function(s){s.auto="auto",s.en="en",s.ja="ja",s.ko="ko",s.hi="hi"})(ib||(ib={}));var rb;(function(s){s.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",s.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",s.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",s.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",s.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(rb||(rb={}));var sb;(function(s){s.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",s.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",s.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",s.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(sb||(sb={}));var ab;(function(s){s.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",s.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",s.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",s.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ab||(ab={}));var ob;(function(s){s.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",s.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",s.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",s.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",s.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",s.EDIT_MODE_STYLE="EDIT_MODE_STYLE",s.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",s.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ob||(ob={}));var cb;(function(s){s.STATE_UNSPECIFIED="STATE_UNSPECIFIED",s.PROCESSING="PROCESSING",s.ACTIVE="ACTIVE",s.FAILED="FAILED"})(cb||(cb={}));var lb;(function(s){s.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",s.UPLOADED="UPLOADED",s.GENERATED="GENERATED"})(lb||(lb={}));var ub;(function(s){s.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",s.TEXT="TEXT",s.IMAGE="IMAGE",s.VIDEO="VIDEO",s.AUDIO="AUDIO",s.DOCUMENT="DOCUMENT"})(ub||(ub={}));var db;(function(s){s.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",s.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",s.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(db||(db={}));var hb;(function(s){s.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",s.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",s.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(hb||(hb={}));var fb;(function(s){s.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",s.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",s.NO_INTERRUPTION="NO_INTERRUPTION"})(fb||(fb={}));var pb;(function(s){s.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",s.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",s.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(pb||(pb={}));var gb;(function(s){s.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",s.SILENT="SILENT",s.WHEN_IDLE="WHEN_IDLE",s.INTERRUPT="INTERRUPT"})(gb||(gb={}));var mb;(function(s){s.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",s.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",s.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",s.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",s.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",s.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",s.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",s.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",s.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",s.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",s.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",s.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",s.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(mb||(mb={}));var yb;(function(s){s.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",s.QUALITY="QUALITY",s.DIVERSITY="DIVERSITY"})(yb||(yb={}));var fo;(function(s){s.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",s.PLAY="PLAY",s.PAUSE="PAUSE",s.STOP="STOP",s.RESET_CONTEXT="RESET_CONTEXT"})(fo||(fo={}));class Sc{get text(){var e,t,n,i,r,a,o,c;if(((i=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let l="",u=!1;const d=[];for(const h of(c=(o=(a=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[p,y]of Object.entries(h))p!=="text"&&p!=="thought"&&(y!==null||y!==void 0)&&d.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,l+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?l:void 0}get data(){var e,t,n,i,r,a,o,c;if(((i=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let l="";const u=[];for(const d of(c=(o=(a=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[h,p]of Object.entries(d))h!=="inlineData"&&(p!==null||p!==void 0)&&u.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(l+=atob(d.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}get functionCalls(){var e,t,n,i,r,a,o,c;if(((i=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const l=(c=(o=(a=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(u=>u.functionCall).map(u=>u.functionCall).filter(u=>u!==void 0);if((l==null?void 0:l.length)!==0)return l}get executableCode(){var e,t,n,i,r,a,o,c,l;if(((i=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=(c=(o=(a=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return(l=u==null?void 0:u[0])===null||l===void 0?void 0:l.code}get codeExecutionResult(){var e,t,n,i,r,a,o,c,l;if(((i=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=(c=(o=(a=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return(l=u==null?void 0:u[0])===null||l===void 0?void 0:l.output}}class vb{}class bb{}class iC{}class rC{}class xb{}class _b{}class Db{}class sC{}class Tb{}class Ab{}class Cb{}class aC{}class Ig{constructor(e){const t={};for(const n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class oC{}class cC{}class lC{get text(){var e,t,n;let i="",r=!1;const a=[];for(const o of(n=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&n!==void 0?n:[]){for(const[c,l]of Object.entries(o))c!=="text"&&c!=="thought"&&l!==null&&a.push(c);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;r=!0,i+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),r?i:void 0}get data(){var e,t,n;let i="";const r=[];for(const a of(n=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&n!==void 0?n:[]){for(const[o,c]of Object.entries(a))o!=="inlineData"&&c!==null&&r.push(o);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return r.length>0&&console.warn(`there are non-data parts ${r} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class uC{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _t(s,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(s.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function W2(s,e){const t=_t(s,e);return t?t.startsWith("publishers/")&&s.isVertexAI()?`projects/${s.getProject()}/locations/${s.getLocation()}/${t}`:t.startsWith("models/")&&s.isVertexAI()?`projects/${s.getProject()}/locations/${s.getLocation()}/publishers/google/${t}`:t:""}function q2(s,e){return Array.isArray(e)?e.map(t=>Bh(s,t)):[Bh(s,e)]}function Bh(s,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function dC(s,e){const t=Bh(s,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function hC(s,e){const t=Bh(s,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function wb(s,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function V2(s,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>wb(s,t)):[wb(s,e)]}function Rg(s){return s!=null&&typeof s=="object"&&"parts"in s&&Array.isArray(s.parts)}function Eb(s){return s!=null&&typeof s=="object"&&"functionCall"in s}function Sb(s){return s!=null&&typeof s=="object"&&"functionResponse"in s}function xn(s,e){if(e==null)throw new Error("ContentUnion is required");return Rg(e)?e:{role:"user",parts:V2(s,e)}}function z2(s,e){if(!e)return[];if(s.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const n=xn(s,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(s.isVertexAI()){const t=xn(s,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>xn(s,t)):[xn(s,e)]}function gi(s,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Eb(e)||Sb(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[xn(s,e)]}const t=[],n=[],i=Rg(e[0]);for(const r of e){const a=Rg(r);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(r);else{if(Eb(r)||Sb(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return i||t.push({role:"user",parts:V2(s,n)}),t}const Ub=QA(["string","number","integer","object","array","boolean","null"]),fC=KA([Ub,Xc(Ub)]);function pC(s=!0){const e=JA(()=>{const t=YA({type:fC.optional(),format:Us().optional(),title:Us().optional(),description:Us().optional(),default:Nv().optional(),items:e.optional(),minItems:to.string().optional(),maxItems:to.string().optional(),enum:Xc(Nv()).optional(),properties:ZA(Us(),e).optional(),required:Xc(Us()).optional(),minProperties:to.string().optional(),maxProperties:to.string().optional(),propertyOrdering:Xc(Us()).optional(),minimum:Mv().optional(),maximum:Mv().optional(),minLength:to.string().optional(),maxLength:to.string().optional(),pattern:Us().optional(),anyOf:Xc(e).optional(),additionalProperties:XA().optional()});return s?t.strict():t});return e}function gC(s,e){s.includes("null")&&(e.nullable=!0);const t=s.filter(n=>n!=="null");if(t.length===1)e.type=Object.keys(Pi).includes(t[0].toUpperCase())?Pi[t[0].toUpperCase()]:Pi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const n of t)e.anyOf.push({type:Object.keys(Pi).includes(n.toUpperCase())?Pi[n.toUpperCase()]:Pi.TYPE_UNSPECIFIED})}}function ll(s){const e={},t=["items"],n=["anyOf"],i=["properties"];if(s.type&&s.anyOf)throw new Error("type and anyOf cannot be both populated.");const r=s.anyOf;r!=null&&r.length==2&&(r[0].type==="null"?(e.nullable=!0,s=r[1]):r[1].type==="null"&&(e.nullable=!0,s=r[0])),s.type instanceof Array&&gC(s.type,e);for(const[a,o]of Object.entries(s))if(o!=null)if(a=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.keys(Pi).includes(o.toUpperCase())?o.toUpperCase():Pi.TYPE_UNSPECIFIED}else if(t.includes(a))e[a]=ll(o);else if(n.includes(a)){const c=[];for(const l of o){if(l.type=="null"){e.nullable=!0;continue}c.push(ll(l))}e[a]=c}else if(i.includes(a)){const c={};for(const[l,u]of Object.entries(o))c[l]=ll(u);e[a]=c}else{if(a==="additionalProperties")continue;e[a]=o}return e}function Oh(s,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=pC().parse(e);return ll(t)}else return ll(e)}function H2(s,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function G2(s,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function vf(s,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=Oh(s,t.parameters)),t.response&&(t.response=Oh(s,t.response));return e}function bf(s,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function mC(s,e,t,n=1){const i=!e.startsWith(`${t}/`)&&e.split("/").length===n;return s.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${s.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${s.getProject()}/locations/${s.getLocation()}/${e}`:i?`projects/${s.getProject()}/locations/${s.getLocation()}/${t}/${e}`:e:i?`${t}/${e}`:e}function ys(s,e){if(typeof e!="string")throw new Error("name must be a string");return mC(s,e,"cachedContents")}function $2(s,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function vs(s,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function yC(s){return s!=null&&typeof s=="object"&&"name"in s}function vC(s){return s!=null&&typeof s=="object"&&"video"in s}function bC(s){return s!=null&&typeof s=="object"&&"uri"in s}function X2(s,e){var t;let n;if(yC(e)&&(n=e.name),!(bC(e)&&(n=e.uri,n===void 0))&&!(vC(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Y2(s,e){let t;return s.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function K2(s,e){for(const t of["models","tunedModels","publisherModels"])if(xC(e,t))return e[t];return[]}function xC(s,e){return s!==null&&typeof s=="object"&&e in s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _C(s,e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const i=f(e,["endOffset"]);i!=null&&m(t,["endOffset"],i);const r=f(e,["startOffset"]);return r!=null&&m(t,["startOffset"],r),t}function DC(s,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["data"]);n!=null&&m(t,["data"],n);const i=f(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function TC(s,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&m(t,["fileUri"],n);const i=f(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function AC(s,e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],_C(s,n));const i=f(e,["thought"]);i!=null&&m(t,["thought"],i);const r=f(e,["inlineData"]);r!=null&&m(t,["inlineData"],DC(s,r));const a=f(e,["fileData"]);a!=null&&m(t,["fileData"],TC(s,a));const o=f(e,["codeExecutionResult"]);o!=null&&m(t,["codeExecutionResult"],o);const c=f(e,["executableCode"]);c!=null&&m(t,["executableCode"],c);const l=f(e,["functionCall"]);l!=null&&m(t,["functionCall"],l);const u=f(e,["functionResponse"]);u!=null&&m(t,["functionResponse"],u);const d=f(e,["text"]);return d!=null&&m(t,["text"],d),t}function Fb(s,e){const t={},n=f(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>AC(s,a))),m(t,["parts"],r)}const i=f(e,["role"]);return i!=null&&m(t,["role"],i),t}function CC(s,e){const t={},n=f(e,["behavior"]);n!=null&&m(t,["behavior"],n);const i=f(e,["description"]);i!=null&&m(t,["description"],i);const r=f(e,["name"]);r!=null&&m(t,["name"],r);const a=f(e,["parameters"]);a!=null&&m(t,["parameters"],a);const o=f(e,["response"]);return o!=null&&m(t,["response"],o),t}function wC(s,e){const t={},n=f(e,["startTime"]);n!=null&&m(t,["startTime"],n);const i=f(e,["endTime"]);return i!=null&&m(t,["endTime"],i),t}function EC(s,e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&m(t,["timeRangeFilter"],wC(s,n)),t}function SC(s,e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const i=f(e,["dynamicThreshold"]);return i!=null&&m(t,["dynamicThreshold"],i),t}function UC(s,e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&m(t,["dynamicRetrievalConfig"],SC(s,n)),t}function FC(){return{}}function IC(s,e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(l=>CC(s,l))),m(t,["functionDeclarations"],c)}if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(e,["googleSearch"]);i!=null&&m(t,["googleSearch"],EC(s,i));const r=f(e,["googleSearchRetrieval"]);if(r!=null&&m(t,["googleSearchRetrieval"],UC(s,r)),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(e,["urlContext"])!=null&&m(t,["urlContext"],FC());const o=f(e,["codeExecution"]);return o!=null&&m(t,["codeExecution"],o),t}function RC(s,e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const i=f(e,["allowedFunctionNames"]);return i!=null&&m(t,["allowedFunctionNames"],i),t}function kC(s,e){const t={},n=f(e,["latitude"]);n!=null&&m(t,["latitude"],n);const i=f(e,["longitude"]);return i!=null&&m(t,["longitude"],i),t}function MC(s,e){const t={},n=f(e,["latLng"]);n!=null&&m(t,["latLng"],kC(s,n));const i=f(e,["languageCode"]);return i!=null&&m(t,["languageCode"],i),t}function NC(s,e){const t={},n=f(e,["functionCallingConfig"]);n!=null&&m(t,["functionCallingConfig"],RC(s,n));const i=f(e,["retrievalConfig"]);return i!=null&&m(t,["retrievalConfig"],MC(s,i)),t}function PC(s,e,t){const n={},i=f(e,["ttl"]);t!==void 0&&i!=null&&m(t,["ttl"],i);const r=f(e,["expireTime"]);t!==void 0&&r!=null&&m(t,["expireTime"],r);const a=f(e,["displayName"]);t!==void 0&&a!=null&&m(t,["displayName"],a);const o=f(e,["contents"]);if(t!==void 0&&o!=null){let d=gi(s,o);Array.isArray(d)&&(d=d.map(h=>Fb(s,h))),m(t,["contents"],d)}const c=f(e,["systemInstruction"]);t!==void 0&&c!=null&&m(t,["systemInstruction"],Fb(s,xn(s,c)));const l=f(e,["tools"]);if(t!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>IC(s,h))),m(t,["tools"],d)}const u=f(e,["toolConfig"]);if(t!==void 0&&u!=null&&m(t,["toolConfig"],NC(s,u)),f(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function LC(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["model"],W2(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],PC(s,i,t)),t}function BC(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["_url","name"],ys(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function OC(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["_url","name"],ys(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function WC(s,e,t){const n={},i=f(e,["ttl"]);t!==void 0&&i!=null&&m(t,["ttl"],i);const r=f(e,["expireTime"]);return t!==void 0&&r!=null&&m(t,["expireTime"],r),n}function qC(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["_url","name"],ys(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],WC(s,i,t)),t}function VC(s,e,t){const n={},i=f(e,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const r=f(e,["pageToken"]);return t!==void 0&&r!=null&&m(t,["_query","pageToken"],r),n}function zC(s,e){const t={},n=f(e,["config"]);return n!=null&&m(t,["config"],VC(s,n,t)),t}function HC(s,e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const i=f(e,["endOffset"]);i!=null&&m(t,["endOffset"],i);const r=f(e,["startOffset"]);return r!=null&&m(t,["startOffset"],r),t}function GC(s,e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const i=f(e,["data"]);i!=null&&m(t,["data"],i);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function $C(s,e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const i=f(e,["fileUri"]);i!=null&&m(t,["fileUri"],i);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function XC(s,e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],HC(s,n));const i=f(e,["thought"]);i!=null&&m(t,["thought"],i);const r=f(e,["inlineData"]);r!=null&&m(t,["inlineData"],GC(s,r));const a=f(e,["fileData"]);a!=null&&m(t,["fileData"],$C(s,a));const o=f(e,["codeExecutionResult"]);o!=null&&m(t,["codeExecutionResult"],o);const c=f(e,["executableCode"]);c!=null&&m(t,["executableCode"],c);const l=f(e,["functionCall"]);l!=null&&m(t,["functionCall"],l);const u=f(e,["functionResponse"]);u!=null&&m(t,["functionResponse"],u);const d=f(e,["text"]);return d!=null&&m(t,["text"],d),t}function Ib(s,e){const t={},n=f(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>XC(s,a))),m(t,["parts"],r)}const i=f(e,["role"]);return i!=null&&m(t,["role"],i),t}function YC(s,e){const t={};if(f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(e,["description"]);n!=null&&m(t,["description"],n);const i=f(e,["name"]);i!=null&&m(t,["name"],i);const r=f(e,["parameters"]);r!=null&&m(t,["parameters"],r);const a=f(e,["response"]);return a!=null&&m(t,["response"],a),t}function KC(s,e){const t={},n=f(e,["startTime"]);n!=null&&m(t,["startTime"],n);const i=f(e,["endTime"]);return i!=null&&m(t,["endTime"],i),t}function ZC(s,e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&m(t,["timeRangeFilter"],KC(s,n)),t}function JC(s,e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const i=f(e,["dynamicThreshold"]);return i!=null&&m(t,["dynamicThreshold"],i),t}function QC(s,e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&m(t,["dynamicRetrievalConfig"],JC(s,n)),t}function jC(){return{}}function ew(s,e){const t={},n=f(e,["apiKeyString"]);return n!=null&&m(t,["apiKeyString"],n),t}function tw(s,e){const t={},n=f(e,["apiKeyConfig"]);n!=null&&m(t,["apiKeyConfig"],ew(s,n));const i=f(e,["authType"]);i!=null&&m(t,["authType"],i);const r=f(e,["googleServiceAccountConfig"]);r!=null&&m(t,["googleServiceAccountConfig"],r);const a=f(e,["httpBasicAuthConfig"]);a!=null&&m(t,["httpBasicAuthConfig"],a);const o=f(e,["oauthConfig"]);o!=null&&m(t,["oauthConfig"],o);const c=f(e,["oidcConfig"]);return c!=null&&m(t,["oidcConfig"],c),t}function nw(s,e){const t={},n=f(e,["authConfig"]);return n!=null&&m(t,["authConfig"],tw(s,n)),t}function iw(s,e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>YC(s,d))),m(t,["functionDeclarations"],u)}const i=f(e,["retrieval"]);i!=null&&m(t,["retrieval"],i);const r=f(e,["googleSearch"]);r!=null&&m(t,["googleSearch"],ZC(s,r));const a=f(e,["googleSearchRetrieval"]);a!=null&&m(t,["googleSearchRetrieval"],QC(s,a)),f(e,["enterpriseWebSearch"])!=null&&m(t,["enterpriseWebSearch"],jC());const c=f(e,["googleMaps"]);if(c!=null&&m(t,["googleMaps"],nw(s,c)),f(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const l=f(e,["codeExecution"]);return l!=null&&m(t,["codeExecution"],l),t}function rw(s,e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const i=f(e,["allowedFunctionNames"]);return i!=null&&m(t,["allowedFunctionNames"],i),t}function sw(s,e){const t={},n=f(e,["latitude"]);n!=null&&m(t,["latitude"],n);const i=f(e,["longitude"]);return i!=null&&m(t,["longitude"],i),t}function aw(s,e){const t={},n=f(e,["latLng"]);n!=null&&m(t,["latLng"],sw(s,n));const i=f(e,["languageCode"]);return i!=null&&m(t,["languageCode"],i),t}function ow(s,e){const t={},n=f(e,["functionCallingConfig"]);n!=null&&m(t,["functionCallingConfig"],rw(s,n));const i=f(e,["retrievalConfig"]);return i!=null&&m(t,["retrievalConfig"],aw(s,i)),t}function cw(s,e,t){const n={},i=f(e,["ttl"]);t!==void 0&&i!=null&&m(t,["ttl"],i);const r=f(e,["expireTime"]);t!==void 0&&r!=null&&m(t,["expireTime"],r);const a=f(e,["displayName"]);t!==void 0&&a!=null&&m(t,["displayName"],a);const o=f(e,["contents"]);if(t!==void 0&&o!=null){let h=gi(s,o);Array.isArray(h)&&(h=h.map(p=>Ib(s,p))),m(t,["contents"],h)}const c=f(e,["systemInstruction"]);t!==void 0&&c!=null&&m(t,["systemInstruction"],Ib(s,xn(s,c)));const l=f(e,["tools"]);if(t!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>iw(s,p))),m(t,["tools"],h)}const u=f(e,["toolConfig"]);t!==void 0&&u!=null&&m(t,["toolConfig"],ow(s,u));const d=f(e,["kmsKeyName"]);return t!==void 0&&d!=null&&m(t,["encryption_spec","kmsKeyName"],d),n}function lw(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["model"],W2(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],cw(s,i,t)),t}function uw(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["_url","name"],ys(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function dw(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["_url","name"],ys(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function hw(s,e,t){const n={},i=f(e,["ttl"]);t!==void 0&&i!=null&&m(t,["ttl"],i);const r=f(e,["expireTime"]);return t!==void 0&&r!=null&&m(t,["expireTime"],r),n}function fw(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["_url","name"],ys(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],hw(s,i,t)),t}function pw(s,e,t){const n={},i=f(e,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const r=f(e,["pageToken"]);return t!==void 0&&r!=null&&m(t,["_query","pageToken"],r),n}function gw(s,e){const t={},n=f(e,["config"]);return n!=null&&m(t,["config"],pw(s,n,t)),t}function kd(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const i=f(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=f(e,["model"]);r!=null&&m(t,["model"],r);const a=f(e,["createTime"]);a!=null&&m(t,["createTime"],a);const o=f(e,["updateTime"]);o!=null&&m(t,["updateTime"],o);const c=f(e,["expireTime"]);c!=null&&m(t,["expireTime"],c);const l=f(e,["usageMetadata"]);return l!=null&&m(t,["usageMetadata"],l),t}function mw(){return{}}function yw(s,e){const t={},n=f(e,["nextPageToken"]);n!=null&&m(t,["nextPageToken"],n);const i=f(e,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>kd(s,a))),m(t,["cachedContents"],r)}return t}function Md(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const i=f(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=f(e,["model"]);r!=null&&m(t,["model"],r);const a=f(e,["createTime"]);a!=null&&m(t,["createTime"],a);const o=f(e,["updateTime"]);o!=null&&m(t,["updateTime"],o);const c=f(e,["expireTime"]);c!=null&&m(t,["expireTime"],c);const l=f(e,["usageMetadata"]);return l!=null&&m(t,["usageMetadata"],l),t}function vw(){return{}}function bw(s,e){const t={},n=f(e,["nextPageToken"]);n!=null&&m(t,["nextPageToken"],n);const i=f(e,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>Md(s,a))),m(t,["cachedContents"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var bc;(function(s){s.PAGED_ITEM_BATCH_JOBS="batchJobs",s.PAGED_ITEM_MODELS="models",s.PAGED_ITEM_TUNING_JOBS="tuningJobs",s.PAGED_ITEM_FILES="files",s.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(bc||(bc={}));class xf{constructor(e,t,n,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,i)}init(e,t,n){var i,r;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let a={config:{}};n?typeof n=="object"?a=Object.assign({},n):a=n:a={config:{}},a.config&&(a.config.pageToken=t.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(r=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&r!==void 0?r:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xw extends ed{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new xf(bc.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(t),t)}async create(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=lw(this.apiClient,e);return o=We("cachedContents",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>Md(this.apiClient,u))}else{const l=LC(this.apiClient,e);return o=We("cachedContents",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>kd(this.apiClient,u))}}async get(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=uw(this.apiClient,e);return o=We("{name}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>Md(this.apiClient,u))}else{const l=BC(this.apiClient,e);return o=We("{name}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>kd(this.apiClient,u))}}async delete(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=dw(this.apiClient,e);return o=We("{name}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(()=>{const u=vw(),d=new Ab;return Object.assign(d,u),d})}else{const l=OC(this.apiClient,e);return o=We("{name}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(()=>{const u=mw(),d=new Ab;return Object.assign(d,u),d})}}async update(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=fw(this.apiClient,e);return o=We("{name}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>Md(this.apiClient,u))}else{const l=qC(this.apiClient,e);return o=We("{name}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>kd(this.apiClient,u))}}async listInternal(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=gw(this.apiClient,e);return o=We("cachedContents",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>{const d=bw(this.apiClient,u),h=new Cb;return Object.assign(h,d),h})}else{const l=zC(this.apiClient,e);return o=We("cachedContents",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>{const d=yw(this.apiClient,u),h=new Cb;return Object.assign(h,d),h})}}}function Rb(s){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&s[e],n=0;if(t)return t.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&n>=s.length&&(s=void 0),{value:s&&s[n++],done:!s}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function At(s){return this instanceof At?(this.v=s,this):new At(s)}function ul(s,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(s,e||[]),i,r=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(p){return function(y){return Promise.resolve(y).then(p,d)}}function o(p,y){n[p]&&(i[p]=function(v){return new Promise(function(b,x){r.push([p,v,b,x])>1||c(p,v)})},y&&(i[p]=y(i[p])))}function c(p,y){try{l(n[p](y))}catch(v){h(r[0][3],v)}}function l(p){p.value instanceof At?Promise.resolve(p.value.v).then(u,d):h(r[0][2],p)}function u(p){c("next",p)}function d(p){c("throw",p)}function h(p,y){p(y),r.shift(),r.length&&c(r[0][0],r[0][1])}}function Nd(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=s[Symbol.asyncIterator],t;return e?e.call(s):(s=typeof Rb=="function"?Rb(s):s[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=s[r]&&function(a){return new Promise(function(o,c){a=s[r](a),i(o,c,a.done,a.value)})}}function i(r,a,o,c){Promise.resolve(c).then(function(l){r({value:l,done:o})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _w(s){var e;if(s.candidates==null||s.candidates.length===0)return!1;const t=(e=s.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:Z2(t)}function Z2(s){if(s.parts===void 0||s.parts.length===0)return!1;for(const e of s.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function Dw(s){if(s.length!==0){for(const e of s)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function kb(s){if(s===void 0||s.length===0)return[];const e=[],t=s.length;let n=0;for(;n<t;)if(s[n].role==="user")e.push(s[n]),n++;else{const i=[];let r=!0;for(;n<t&&s[n].role==="model";)i.push(s[n]),r&&!Z2(s[n])&&(r=!1),n++;r?e.push(...i):e.pop()}return e}class Tw{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new Aw(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Aw{constructor(e,t,n,i={},r=[]){this.apiClient=e,this.modelsModule=t,this.model=n,this.config=i,this.history=r,this.sendPromise=Promise.resolve(),Dw(r)}async sendMessage(e){var t;await this.sendPromise;const n=xn(this.apiClient,e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var r,a,o;const c=await i,l=(a=(r=c.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content,u=c.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let h=[];u!=null&&(h=(o=u.slice(d))!==null&&o!==void 0?o:[]);const p=l?[l]:[];this.recordHistory(n,p,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var t;await this.sendPromise;const n=xn(this.apiClient,e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const r=await i;return this.processStreamResponse(r,n)}getHistory(e=!1){const t=e?kb(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var n,i;return ul(this,arguments,function*(){var a,o,c,l;const u=[];try{for(var d=!0,h=Nd(e),p;p=yield At(h.next()),a=p.done,!a;d=!0){l=p.value,d=!1;const y=l;if(_w(y)){const v=(i=(n=y.candidates)===null||n===void 0?void 0:n[0])===null||i===void 0?void 0:i.content;v!==void 0&&u.push(v)}yield yield At(y)}}catch(y){o={error:y}}finally{try{!d&&!a&&(c=h.return)&&(yield At(c.call(h)))}finally{if(o)throw o.error}}this.recordHistory(t,u)})}recordHistory(e,t,n){let i=[];t.length>0&&t.every(r=>r.role!==void 0)?i=t:i.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...kb(n)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cw(s,e,t){const n={},i=f(e,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const r=f(e,["pageToken"]);return t!==void 0&&r!=null&&m(t,["_query","pageToken"],r),n}function ww(s,e){const t={},n=f(e,["config"]);return n!=null&&m(t,["config"],Cw(s,n,t)),t}function Ew(s,e){const t={},n=f(e,["details"]);n!=null&&m(t,["details"],n);const i=f(e,["message"]);i!=null&&m(t,["message"],i);const r=f(e,["code"]);return r!=null&&m(t,["code"],r),t}function Sw(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const i=f(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=f(e,["mimeType"]);r!=null&&m(t,["mimeType"],r);const a=f(e,["sizeBytes"]);a!=null&&m(t,["sizeBytes"],a);const o=f(e,["createTime"]);o!=null&&m(t,["createTime"],o);const c=f(e,["expirationTime"]);c!=null&&m(t,["expirationTime"],c);const l=f(e,["updateTime"]);l!=null&&m(t,["updateTime"],l);const u=f(e,["sha256Hash"]);u!=null&&m(t,["sha256Hash"],u);const d=f(e,["uri"]);d!=null&&m(t,["uri"],d);const h=f(e,["downloadUri"]);h!=null&&m(t,["downloadUri"],h);const p=f(e,["state"]);p!=null&&m(t,["state"],p);const y=f(e,["source"]);y!=null&&m(t,["source"],y);const v=f(e,["videoMetadata"]);v!=null&&m(t,["videoMetadata"],v);const b=f(e,["error"]);return b!=null&&m(t,["error"],Ew(s,b)),t}function Uw(s,e){const t={},n=f(e,["file"]);n!=null&&m(t,["file"],Sw(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function Fw(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["_url","file"],X2(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function Iw(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["_url","file"],X2(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function Rw(s,e){const t={},n=f(e,["details"]);n!=null&&m(t,["details"],n);const i=f(e,["message"]);i!=null&&m(t,["message"],i);const r=f(e,["code"]);return r!=null&&m(t,["code"],r),t}function kg(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const i=f(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=f(e,["mimeType"]);r!=null&&m(t,["mimeType"],r);const a=f(e,["sizeBytes"]);a!=null&&m(t,["sizeBytes"],a);const o=f(e,["createTime"]);o!=null&&m(t,["createTime"],o);const c=f(e,["expirationTime"]);c!=null&&m(t,["expirationTime"],c);const l=f(e,["updateTime"]);l!=null&&m(t,["updateTime"],l);const u=f(e,["sha256Hash"]);u!=null&&m(t,["sha256Hash"],u);const d=f(e,["uri"]);d!=null&&m(t,["uri"],d);const h=f(e,["downloadUri"]);h!=null&&m(t,["downloadUri"],h);const p=f(e,["state"]);p!=null&&m(t,["state"],p);const y=f(e,["source"]);y!=null&&m(t,["source"],y);const v=f(e,["videoMetadata"]);v!=null&&m(t,["videoMetadata"],v);const b=f(e,["error"]);return b!=null&&m(t,["error"],Rw(s,b)),t}function kw(s,e){const t={},n=f(e,["nextPageToken"]);n!=null&&m(t,["nextPageToken"],n);const i=f(e,["files"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>kg(s,a))),m(t,["files"],r)}return t}function Mw(){return{}}function Nw(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pw extends ed{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new xf(bc.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>kg(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,n;let i,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ww(this.apiClient,e);return r=We("files",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const l=kw(this.apiClient,c),u=new aC;return Object.assign(u,l),u})}}async createInternal(e){var t,n;let i,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Uw(this.apiClient,e);return r=We("upload/v1beta/files",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(()=>{const c=Mw(),l=new oC;return Object.assign(l,c),l})}}async get(e){var t,n;let i,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Fw(this.apiClient,e);return r=We("files/{file}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>kg(this.apiClient,c))}}async delete(e){var t,n;let i,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Iw(this.apiClient,e);return r=We("files/{file}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(()=>{const c=Nw(),l=new cC;return Object.assign(l,c),l})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lw(s,e){const t={},n=f(e,["voiceName"]);return n!=null&&m(t,["voiceName"],n),t}function Bw(s,e){const t={},n=f(e,["voiceName"]);return n!=null&&m(t,["voiceName"],n),t}function J2(s,e){const t={},n=f(e,["prebuiltVoiceConfig"]);return n!=null&&m(t,["prebuiltVoiceConfig"],Lw(s,n)),t}function Ow(s,e){const t={},n=f(e,["prebuiltVoiceConfig"]);return n!=null&&m(t,["prebuiltVoiceConfig"],Bw(s,n)),t}function Ww(s,e){const t={},n=f(e,["speaker"]);n!=null&&m(t,["speaker"],n);const i=f(e,["voiceConfig"]);return i!=null&&m(t,["voiceConfig"],J2(s,i)),t}function qw(s,e){const t={},n=f(e,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Ww(s,r))),m(t,["speakerVoiceConfigs"],i)}return t}function Vw(s,e){const t={},n=f(e,["voiceConfig"]);n!=null&&m(t,["voiceConfig"],J2(s,n));const i=f(e,["multiSpeakerVoiceConfig"]);i!=null&&m(t,["multiSpeakerVoiceConfig"],qw(s,i));const r=f(e,["languageCode"]);return r!=null&&m(t,["languageCode"],r),t}function zw(s,e){const t={},n=f(e,["voiceConfig"]);if(n!=null&&m(t,["voiceConfig"],Ow(s,n)),f(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=f(e,["languageCode"]);return i!=null&&m(t,["languageCode"],i),t}function Hw(s,e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const i=f(e,["endOffset"]);i!=null&&m(t,["endOffset"],i);const r=f(e,["startOffset"]);return r!=null&&m(t,["startOffset"],r),t}function Gw(s,e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const i=f(e,["endOffset"]);i!=null&&m(t,["endOffset"],i);const r=f(e,["startOffset"]);return r!=null&&m(t,["startOffset"],r),t}function $w(s,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["data"]);n!=null&&m(t,["data"],n);const i=f(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function Xw(s,e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const i=f(e,["data"]);i!=null&&m(t,["data"],i);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function Yw(s,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&m(t,["fileUri"],n);const i=f(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function Kw(s,e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const i=f(e,["fileUri"]);i!=null&&m(t,["fileUri"],i);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function Zw(s,e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],Hw(s,n));const i=f(e,["thought"]);i!=null&&m(t,["thought"],i);const r=f(e,["inlineData"]);r!=null&&m(t,["inlineData"],$w(s,r));const a=f(e,["fileData"]);a!=null&&m(t,["fileData"],Yw(s,a));const o=f(e,["codeExecutionResult"]);o!=null&&m(t,["codeExecutionResult"],o);const c=f(e,["executableCode"]);c!=null&&m(t,["executableCode"],c);const l=f(e,["functionCall"]);l!=null&&m(t,["functionCall"],l);const u=f(e,["functionResponse"]);u!=null&&m(t,["functionResponse"],u);const d=f(e,["text"]);return d!=null&&m(t,["text"],d),t}function Jw(s,e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],Gw(s,n));const i=f(e,["thought"]);i!=null&&m(t,["thought"],i);const r=f(e,["inlineData"]);r!=null&&m(t,["inlineData"],Xw(s,r));const a=f(e,["fileData"]);a!=null&&m(t,["fileData"],Kw(s,a));const o=f(e,["codeExecutionResult"]);o!=null&&m(t,["codeExecutionResult"],o);const c=f(e,["executableCode"]);c!=null&&m(t,["executableCode"],c);const l=f(e,["functionCall"]);l!=null&&m(t,["functionCall"],l);const u=f(e,["functionResponse"]);u!=null&&m(t,["functionResponse"],u);const d=f(e,["text"]);return d!=null&&m(t,["text"],d),t}function Qw(s,e){const t={},n=f(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>Zw(s,a))),m(t,["parts"],r)}const i=f(e,["role"]);return i!=null&&m(t,["role"],i),t}function jw(s,e){const t={},n=f(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>Jw(s,a))),m(t,["parts"],r)}const i=f(e,["role"]);return i!=null&&m(t,["role"],i),t}function eE(s,e){const t={},n=f(e,["behavior"]);n!=null&&m(t,["behavior"],n);const i=f(e,["description"]);i!=null&&m(t,["description"],i);const r=f(e,["name"]);r!=null&&m(t,["name"],r);const a=f(e,["parameters"]);a!=null&&m(t,["parameters"],a);const o=f(e,["response"]);return o!=null&&m(t,["response"],o),t}function tE(s,e){const t={};if(f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(e,["description"]);n!=null&&m(t,["description"],n);const i=f(e,["name"]);i!=null&&m(t,["name"],i);const r=f(e,["parameters"]);r!=null&&m(t,["parameters"],r);const a=f(e,["response"]);return a!=null&&m(t,["response"],a),t}function nE(s,e){const t={},n=f(e,["startTime"]);n!=null&&m(t,["startTime"],n);const i=f(e,["endTime"]);return i!=null&&m(t,["endTime"],i),t}function iE(s,e){const t={},n=f(e,["startTime"]);n!=null&&m(t,["startTime"],n);const i=f(e,["endTime"]);return i!=null&&m(t,["endTime"],i),t}function rE(s,e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&m(t,["timeRangeFilter"],nE(s,n)),t}function sE(s,e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&m(t,["timeRangeFilter"],iE(s,n)),t}function aE(s,e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const i=f(e,["dynamicThreshold"]);return i!=null&&m(t,["dynamicThreshold"],i),t}function oE(s,e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const i=f(e,["dynamicThreshold"]);return i!=null&&m(t,["dynamicThreshold"],i),t}function cE(s,e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&m(t,["dynamicRetrievalConfig"],aE(s,n)),t}function lE(s,e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&m(t,["dynamicRetrievalConfig"],oE(s,n)),t}function uE(){return{}}function dE(s,e){const t={},n=f(e,["apiKeyString"]);return n!=null&&m(t,["apiKeyString"],n),t}function hE(s,e){const t={},n=f(e,["apiKeyConfig"]);n!=null&&m(t,["apiKeyConfig"],dE(s,n));const i=f(e,["authType"]);i!=null&&m(t,["authType"],i);const r=f(e,["googleServiceAccountConfig"]);r!=null&&m(t,["googleServiceAccountConfig"],r);const a=f(e,["httpBasicAuthConfig"]);a!=null&&m(t,["httpBasicAuthConfig"],a);const o=f(e,["oauthConfig"]);o!=null&&m(t,["oauthConfig"],o);const c=f(e,["oidcConfig"]);return c!=null&&m(t,["oidcConfig"],c),t}function fE(s,e){const t={},n=f(e,["authConfig"]);return n!=null&&m(t,["authConfig"],hE(s,n)),t}function pE(){return{}}function gE(s,e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(l=>eE(s,l))),m(t,["functionDeclarations"],c)}if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(e,["googleSearch"]);i!=null&&m(t,["googleSearch"],rE(s,i));const r=f(e,["googleSearchRetrieval"]);if(r!=null&&m(t,["googleSearchRetrieval"],cE(s,r)),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(e,["urlContext"])!=null&&m(t,["urlContext"],pE());const o=f(e,["codeExecution"]);return o!=null&&m(t,["codeExecution"],o),t}function mE(s,e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>tE(s,d))),m(t,["functionDeclarations"],u)}const i=f(e,["retrieval"]);i!=null&&m(t,["retrieval"],i);const r=f(e,["googleSearch"]);r!=null&&m(t,["googleSearch"],sE(s,r));const a=f(e,["googleSearchRetrieval"]);a!=null&&m(t,["googleSearchRetrieval"],lE(s,a)),f(e,["enterpriseWebSearch"])!=null&&m(t,["enterpriseWebSearch"],uE());const c=f(e,["googleMaps"]);if(c!=null&&m(t,["googleMaps"],fE(s,c)),f(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const l=f(e,["codeExecution"]);return l!=null&&m(t,["codeExecution"],l),t}function yE(s,e){const t={},n=f(e,["handle"]);if(n!=null&&m(t,["handle"],n),f(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function vE(s,e){const t={},n=f(e,["handle"]);n!=null&&m(t,["handle"],n);const i=f(e,["transparent"]);return i!=null&&m(t,["transparent"],i),t}function Mb(){return{}}function Nb(){return{}}function bE(s,e){const t={},n=f(e,["disabled"]);n!=null&&m(t,["disabled"],n);const i=f(e,["startOfSpeechSensitivity"]);i!=null&&m(t,["startOfSpeechSensitivity"],i);const r=f(e,["endOfSpeechSensitivity"]);r!=null&&m(t,["endOfSpeechSensitivity"],r);const a=f(e,["prefixPaddingMs"]);a!=null&&m(t,["prefixPaddingMs"],a);const o=f(e,["silenceDurationMs"]);return o!=null&&m(t,["silenceDurationMs"],o),t}function xE(s,e){const t={},n=f(e,["disabled"]);n!=null&&m(t,["disabled"],n);const i=f(e,["startOfSpeechSensitivity"]);i!=null&&m(t,["startOfSpeechSensitivity"],i);const r=f(e,["endOfSpeechSensitivity"]);r!=null&&m(t,["endOfSpeechSensitivity"],r);const a=f(e,["prefixPaddingMs"]);a!=null&&m(t,["prefixPaddingMs"],a);const o=f(e,["silenceDurationMs"]);return o!=null&&m(t,["silenceDurationMs"],o),t}function _E(s,e){const t={},n=f(e,["automaticActivityDetection"]);n!=null&&m(t,["automaticActivityDetection"],bE(s,n));const i=f(e,["activityHandling"]);i!=null&&m(t,["activityHandling"],i);const r=f(e,["turnCoverage"]);return r!=null&&m(t,["turnCoverage"],r),t}function DE(s,e){const t={},n=f(e,["automaticActivityDetection"]);n!=null&&m(t,["automaticActivityDetection"],xE(s,n));const i=f(e,["activityHandling"]);i!=null&&m(t,["activityHandling"],i);const r=f(e,["turnCoverage"]);return r!=null&&m(t,["turnCoverage"],r),t}function TE(s,e){const t={},n=f(e,["targetTokens"]);return n!=null&&m(t,["targetTokens"],n),t}function AE(s,e){const t={},n=f(e,["targetTokens"]);return n!=null&&m(t,["targetTokens"],n),t}function CE(s,e){const t={},n=f(e,["triggerTokens"]);n!=null&&m(t,["triggerTokens"],n);const i=f(e,["slidingWindow"]);return i!=null&&m(t,["slidingWindow"],TE(s,i)),t}function wE(s,e){const t={},n=f(e,["triggerTokens"]);n!=null&&m(t,["triggerTokens"],n);const i=f(e,["slidingWindow"]);return i!=null&&m(t,["slidingWindow"],AE(s,i)),t}function EE(s,e){const t={},n=f(e,["proactiveAudio"]);return n!=null&&m(t,["proactiveAudio"],n),t}function SE(s,e){const t={},n=f(e,["proactiveAudio"]);return n!=null&&m(t,["proactiveAudio"],n),t}function UE(s,e,t){const n={},i=f(e,["generationConfig"]);t!==void 0&&i!=null&&m(t,["setup","generationConfig"],i);const r=f(e,["responseModalities"]);t!==void 0&&r!=null&&m(t,["setup","generationConfig","responseModalities"],r);const a=f(e,["temperature"]);t!==void 0&&a!=null&&m(t,["setup","generationConfig","temperature"],a);const o=f(e,["topP"]);t!==void 0&&o!=null&&m(t,["setup","generationConfig","topP"],o);const c=f(e,["topK"]);t!==void 0&&c!=null&&m(t,["setup","generationConfig","topK"],c);const l=f(e,["maxOutputTokens"]);t!==void 0&&l!=null&&m(t,["setup","generationConfig","maxOutputTokens"],l);const u=f(e,["mediaResolution"]);t!==void 0&&u!=null&&m(t,["setup","generationConfig","mediaResolution"],u);const d=f(e,["seed"]);t!==void 0&&d!=null&&m(t,["setup","generationConfig","seed"],d);const h=f(e,["speechConfig"]);t!==void 0&&h!=null&&m(t,["setup","generationConfig","speechConfig"],Vw(s,G2(s,h)));const p=f(e,["enableAffectiveDialog"]);t!==void 0&&p!=null&&m(t,["setup","generationConfig","enableAffectiveDialog"],p);const y=f(e,["systemInstruction"]);t!==void 0&&y!=null&&m(t,["setup","systemInstruction"],Qw(s,xn(s,y)));const v=f(e,["tools"]);if(t!==void 0&&v!=null){let w=bf(s,v);Array.isArray(w)&&(w=w.map(F=>gE(s,vf(s,F)))),m(t,["setup","tools"],w)}const b=f(e,["sessionResumption"]);t!==void 0&&b!=null&&m(t,["setup","sessionResumption"],yE(s,b));const x=f(e,["inputAudioTranscription"]);t!==void 0&&x!=null&&m(t,["setup","inputAudioTranscription"],Mb());const _=f(e,["outputAudioTranscription"]);t!==void 0&&_!=null&&m(t,["setup","outputAudioTranscription"],Mb());const D=f(e,["realtimeInputConfig"]);t!==void 0&&D!=null&&m(t,["setup","realtimeInputConfig"],_E(s,D));const A=f(e,["contextWindowCompression"]);t!==void 0&&A!=null&&m(t,["setup","contextWindowCompression"],CE(s,A));const T=f(e,["proactivity"]);return t!==void 0&&T!=null&&m(t,["setup","proactivity"],EE(s,T)),n}function FE(s,e,t){const n={},i=f(e,["generationConfig"]);t!==void 0&&i!=null&&m(t,["setup","generationConfig"],i);const r=f(e,["responseModalities"]);t!==void 0&&r!=null&&m(t,["setup","generationConfig","responseModalities"],r);const a=f(e,["temperature"]);t!==void 0&&a!=null&&m(t,["setup","generationConfig","temperature"],a);const o=f(e,["topP"]);t!==void 0&&o!=null&&m(t,["setup","generationConfig","topP"],o);const c=f(e,["topK"]);t!==void 0&&c!=null&&m(t,["setup","generationConfig","topK"],c);const l=f(e,["maxOutputTokens"]);t!==void 0&&l!=null&&m(t,["setup","generationConfig","maxOutputTokens"],l);const u=f(e,["mediaResolution"]);t!==void 0&&u!=null&&m(t,["setup","generationConfig","mediaResolution"],u);const d=f(e,["seed"]);t!==void 0&&d!=null&&m(t,["setup","generationConfig","seed"],d);const h=f(e,["speechConfig"]);t!==void 0&&h!=null&&m(t,["setup","generationConfig","speechConfig"],zw(s,G2(s,h)));const p=f(e,["enableAffectiveDialog"]);t!==void 0&&p!=null&&m(t,["setup","generationConfig","enableAffectiveDialog"],p);const y=f(e,["systemInstruction"]);t!==void 0&&y!=null&&m(t,["setup","systemInstruction"],jw(s,xn(s,y)));const v=f(e,["tools"]);if(t!==void 0&&v!=null){let w=bf(s,v);Array.isArray(w)&&(w=w.map(F=>mE(s,vf(s,F)))),m(t,["setup","tools"],w)}const b=f(e,["sessionResumption"]);t!==void 0&&b!=null&&m(t,["setup","sessionResumption"],vE(s,b));const x=f(e,["inputAudioTranscription"]);t!==void 0&&x!=null&&m(t,["setup","inputAudioTranscription"],Nb());const _=f(e,["outputAudioTranscription"]);t!==void 0&&_!=null&&m(t,["setup","outputAudioTranscription"],Nb());const D=f(e,["realtimeInputConfig"]);t!==void 0&&D!=null&&m(t,["setup","realtimeInputConfig"],DE(s,D));const A=f(e,["contextWindowCompression"]);t!==void 0&&A!=null&&m(t,["setup","contextWindowCompression"],wE(s,A));const T=f(e,["proactivity"]);return t!==void 0&&T!=null&&m(t,["setup","proactivity"],SE(s,T)),n}function IE(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["setup","model"],_t(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],UE(s,i,t)),t}function RE(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["setup","model"],_t(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],FE(s,i,t)),t}function kE(){return{}}function ME(){return{}}function NE(){return{}}function PE(){return{}}function LE(s,e){const t={},n=f(e,["media"]);n!=null&&m(t,["mediaChunks"],q2(s,n));const i=f(e,["audio"]);i!=null&&m(t,["audio"],hC(s,i));const r=f(e,["audioStreamEnd"]);r!=null&&m(t,["audioStreamEnd"],r);const a=f(e,["video"]);a!=null&&m(t,["video"],dC(s,a));const o=f(e,["text"]);return o!=null&&m(t,["text"],o),f(e,["activityStart"])!=null&&m(t,["activityStart"],kE()),f(e,["activityEnd"])!=null&&m(t,["activityEnd"],NE()),t}function BE(s,e){const t={},n=f(e,["media"]);if(n!=null&&m(t,["mediaChunks"],q2(s,n)),f(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const i=f(e,["audioStreamEnd"]);if(i!=null&&m(t,["audioStreamEnd"],i),f(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(f(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return f(e,["activityStart"])!=null&&m(t,["activityStart"],ME()),f(e,["activityEnd"])!=null&&m(t,["activityEnd"],PE()),t}function Q2(s,e){const t={},n=f(e,["text"]);n!=null&&m(t,["text"],n);const i=f(e,["weight"]);return i!=null&&m(t,["weight"],i),t}function OE(s,e){const t={},n=f(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Q2(s,r))),m(t,["weightedPrompts"],i)}return t}function j2(s,e){const t={},n=f(e,["temperature"]);n!=null&&m(t,["temperature"],n);const i=f(e,["topK"]);i!=null&&m(t,["topK"],i);const r=f(e,["seed"]);r!=null&&m(t,["seed"],r);const a=f(e,["guidance"]);a!=null&&m(t,["guidance"],a);const o=f(e,["bpm"]);o!=null&&m(t,["bpm"],o);const c=f(e,["density"]);c!=null&&m(t,["density"],c);const l=f(e,["brightness"]);l!=null&&m(t,["brightness"],l);const u=f(e,["scale"]);u!=null&&m(t,["scale"],u);const d=f(e,["muteBass"]);d!=null&&m(t,["muteBass"],d);const h=f(e,["muteDrums"]);h!=null&&m(t,["muteDrums"],h);const p=f(e,["onlyBassAndDrums"]);p!=null&&m(t,["onlyBassAndDrums"],p);const y=f(e,["musicGenerationMode"]);return y!=null&&m(t,["musicGenerationMode"],y),t}function WE(s,e){const t={},n=f(e,["musicGenerationConfig"]);return n!=null&&m(t,["musicGenerationConfig"],j2(s,n)),t}function ex(s,e){const t={},n=f(e,["model"]);return n!=null&&m(t,["model"],n),t}function tx(s,e){const t={},n=f(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Q2(s,r))),m(t,["weightedPrompts"],i)}return t}function Mg(s,e){const t={},n=f(e,["setup"]);n!=null&&m(t,["setup"],ex(s,n));const i=f(e,["clientContent"]);i!=null&&m(t,["clientContent"],tx(s,i));const r=f(e,["musicGenerationConfig"]);r!=null&&m(t,["musicGenerationConfig"],j2(s,r));const a=f(e,["playbackControl"]);return a!=null&&m(t,["playbackControl"],a),t}function qE(){return{}}function VE(){return{}}function zE(s,e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const i=f(e,["endOffset"]);i!=null&&m(t,["endOffset"],i);const r=f(e,["startOffset"]);return r!=null&&m(t,["startOffset"],r),t}function HE(s,e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const i=f(e,["endOffset"]);i!=null&&m(t,["endOffset"],i);const r=f(e,["startOffset"]);return r!=null&&m(t,["startOffset"],r),t}function GE(s,e){const t={},n=f(e,["data"]);n!=null&&m(t,["data"],n);const i=f(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function $E(s,e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const i=f(e,["data"]);i!=null&&m(t,["data"],i);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function XE(s,e){const t={},n=f(e,["fileUri"]);n!=null&&m(t,["fileUri"],n);const i=f(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function YE(s,e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const i=f(e,["fileUri"]);i!=null&&m(t,["fileUri"],i);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function KE(s,e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],zE(s,n));const i=f(e,["thought"]);i!=null&&m(t,["thought"],i);const r=f(e,["inlineData"]);r!=null&&m(t,["inlineData"],GE(s,r));const a=f(e,["fileData"]);a!=null&&m(t,["fileData"],XE(s,a));const o=f(e,["codeExecutionResult"]);o!=null&&m(t,["codeExecutionResult"],o);const c=f(e,["executableCode"]);c!=null&&m(t,["executableCode"],c);const l=f(e,["functionCall"]);l!=null&&m(t,["functionCall"],l);const u=f(e,["functionResponse"]);u!=null&&m(t,["functionResponse"],u);const d=f(e,["text"]);return d!=null&&m(t,["text"],d),t}function ZE(s,e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],HE(s,n));const i=f(e,["thought"]);i!=null&&m(t,["thought"],i);const r=f(e,["inlineData"]);r!=null&&m(t,["inlineData"],$E(s,r));const a=f(e,["fileData"]);a!=null&&m(t,["fileData"],YE(s,a));const o=f(e,["codeExecutionResult"]);o!=null&&m(t,["codeExecutionResult"],o);const c=f(e,["executableCode"]);c!=null&&m(t,["executableCode"],c);const l=f(e,["functionCall"]);l!=null&&m(t,["functionCall"],l);const u=f(e,["functionResponse"]);u!=null&&m(t,["functionResponse"],u);const d=f(e,["text"]);return d!=null&&m(t,["text"],d),t}function JE(s,e){const t={},n=f(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>KE(s,a))),m(t,["parts"],r)}const i=f(e,["role"]);return i!=null&&m(t,["role"],i),t}function QE(s,e){const t={},n=f(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>ZE(s,a))),m(t,["parts"],r)}const i=f(e,["role"]);return i!=null&&m(t,["role"],i),t}function Pb(s,e){const t={},n=f(e,["text"]);n!=null&&m(t,["text"],n);const i=f(e,["finished"]);return i!=null&&m(t,["finished"],i),t}function Lb(s,e){const t={},n=f(e,["text"]);n!=null&&m(t,["text"],n);const i=f(e,["finished"]);return i!=null&&m(t,["finished"],i),t}function jE(s,e){const t={},n=f(e,["retrievedUrl"]);n!=null&&m(t,["retrievedUrl"],n);const i=f(e,["urlRetrievalStatus"]);return i!=null&&m(t,["urlRetrievalStatus"],i),t}function eS(s,e){const t={},n=f(e,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>jE(s,r))),m(t,["urlMetadata"],i)}return t}function tS(s,e){const t={},n=f(e,["modelTurn"]);n!=null&&m(t,["modelTurn"],JE(s,n));const i=f(e,["turnComplete"]);i!=null&&m(t,["turnComplete"],i);const r=f(e,["interrupted"]);r!=null&&m(t,["interrupted"],r);const a=f(e,["groundingMetadata"]);a!=null&&m(t,["groundingMetadata"],a);const o=f(e,["generationComplete"]);o!=null&&m(t,["generationComplete"],o);const c=f(e,["inputTranscription"]);c!=null&&m(t,["inputTranscription"],Pb(s,c));const l=f(e,["outputTranscription"]);l!=null&&m(t,["outputTranscription"],Pb(s,l));const u=f(e,["urlContextMetadata"]);return u!=null&&m(t,["urlContextMetadata"],eS(s,u)),t}function nS(s,e){const t={},n=f(e,["modelTurn"]);n!=null&&m(t,["modelTurn"],QE(s,n));const i=f(e,["turnComplete"]);i!=null&&m(t,["turnComplete"],i);const r=f(e,["interrupted"]);r!=null&&m(t,["interrupted"],r);const a=f(e,["groundingMetadata"]);a!=null&&m(t,["groundingMetadata"],a);const o=f(e,["generationComplete"]);o!=null&&m(t,["generationComplete"],o);const c=f(e,["inputTranscription"]);c!=null&&m(t,["inputTranscription"],Lb(s,c));const l=f(e,["outputTranscription"]);return l!=null&&m(t,["outputTranscription"],Lb(s,l)),t}function iS(s,e){const t={},n=f(e,["id"]);n!=null&&m(t,["id"],n);const i=f(e,["args"]);i!=null&&m(t,["args"],i);const r=f(e,["name"]);return r!=null&&m(t,["name"],r),t}function rS(s,e){const t={},n=f(e,["args"]);n!=null&&m(t,["args"],n);const i=f(e,["name"]);return i!=null&&m(t,["name"],i),t}function sS(s,e){const t={},n=f(e,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>iS(s,r))),m(t,["functionCalls"],i)}return t}function aS(s,e){const t={},n=f(e,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>rS(s,r))),m(t,["functionCalls"],i)}return t}function oS(s,e){const t={},n=f(e,["ids"]);return n!=null&&m(t,["ids"],n),t}function cS(s,e){const t={},n=f(e,["ids"]);return n!=null&&m(t,["ids"],n),t}function fd(s,e){const t={},n=f(e,["modality"]);n!=null&&m(t,["modality"],n);const i=f(e,["tokenCount"]);return i!=null&&m(t,["tokenCount"],i),t}function pd(s,e){const t={},n=f(e,["modality"]);n!=null&&m(t,["modality"],n);const i=f(e,["tokenCount"]);return i!=null&&m(t,["tokenCount"],i),t}function lS(s,e){const t={},n=f(e,["promptTokenCount"]);n!=null&&m(t,["promptTokenCount"],n);const i=f(e,["cachedContentTokenCount"]);i!=null&&m(t,["cachedContentTokenCount"],i);const r=f(e,["responseTokenCount"]);r!=null&&m(t,["responseTokenCount"],r);const a=f(e,["toolUsePromptTokenCount"]);a!=null&&m(t,["toolUsePromptTokenCount"],a);const o=f(e,["thoughtsTokenCount"]);o!=null&&m(t,["thoughtsTokenCount"],o);const c=f(e,["totalTokenCount"]);c!=null&&m(t,["totalTokenCount"],c);const l=f(e,["promptTokensDetails"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(y=>fd(s,y))),m(t,["promptTokensDetails"],p)}const u=f(e,["cacheTokensDetails"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(y=>fd(s,y))),m(t,["cacheTokensDetails"],p)}const d=f(e,["responseTokensDetails"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(y=>fd(s,y))),m(t,["responseTokensDetails"],p)}const h=f(e,["toolUsePromptTokensDetails"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(y=>fd(s,y))),m(t,["toolUsePromptTokensDetails"],p)}return t}function uS(s,e){const t={},n=f(e,["promptTokenCount"]);n!=null&&m(t,["promptTokenCount"],n);const i=f(e,["cachedContentTokenCount"]);i!=null&&m(t,["cachedContentTokenCount"],i);const r=f(e,["candidatesTokenCount"]);r!=null&&m(t,["responseTokenCount"],r);const a=f(e,["toolUsePromptTokenCount"]);a!=null&&m(t,["toolUsePromptTokenCount"],a);const o=f(e,["thoughtsTokenCount"]);o!=null&&m(t,["thoughtsTokenCount"],o);const c=f(e,["totalTokenCount"]);c!=null&&m(t,["totalTokenCount"],c);const l=f(e,["promptTokensDetails"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(v=>pd(s,v))),m(t,["promptTokensDetails"],y)}const u=f(e,["cacheTokensDetails"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(v=>pd(s,v))),m(t,["cacheTokensDetails"],y)}const d=f(e,["candidatesTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(v=>pd(s,v))),m(t,["responseTokensDetails"],y)}const h=f(e,["toolUsePromptTokensDetails"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(v=>pd(s,v))),m(t,["toolUsePromptTokensDetails"],y)}const p=f(e,["trafficType"]);return p!=null&&m(t,["trafficType"],p),t}function dS(s,e){const t={},n=f(e,["timeLeft"]);return n!=null&&m(t,["timeLeft"],n),t}function hS(s,e){const t={},n=f(e,["timeLeft"]);return n!=null&&m(t,["timeLeft"],n),t}function fS(s,e){const t={},n=f(e,["newHandle"]);n!=null&&m(t,["newHandle"],n);const i=f(e,["resumable"]);i!=null&&m(t,["resumable"],i);const r=f(e,["lastConsumedClientMessageIndex"]);return r!=null&&m(t,["lastConsumedClientMessageIndex"],r),t}function pS(s,e){const t={},n=f(e,["newHandle"]);n!=null&&m(t,["newHandle"],n);const i=f(e,["resumable"]);i!=null&&m(t,["resumable"],i);const r=f(e,["lastConsumedClientMessageIndex"]);return r!=null&&m(t,["lastConsumedClientMessageIndex"],r),t}function gS(s,e){const t={};f(e,["setupComplete"])!=null&&m(t,["setupComplete"],qE());const i=f(e,["serverContent"]);i!=null&&m(t,["serverContent"],tS(s,i));const r=f(e,["toolCall"]);r!=null&&m(t,["toolCall"],sS(s,r));const a=f(e,["toolCallCancellation"]);a!=null&&m(t,["toolCallCancellation"],oS(s,a));const o=f(e,["usageMetadata"]);o!=null&&m(t,["usageMetadata"],lS(s,o));const c=f(e,["goAway"]);c!=null&&m(t,["goAway"],dS(s,c));const l=f(e,["sessionResumptionUpdate"]);return l!=null&&m(t,["sessionResumptionUpdate"],fS(s,l)),t}function mS(s,e){const t={};f(e,["setupComplete"])!=null&&m(t,["setupComplete"],VE());const i=f(e,["serverContent"]);i!=null&&m(t,["serverContent"],nS(s,i));const r=f(e,["toolCall"]);r!=null&&m(t,["toolCall"],aS(s,r));const a=f(e,["toolCallCancellation"]);a!=null&&m(t,["toolCallCancellation"],cS(s,a));const o=f(e,["usageMetadata"]);o!=null&&m(t,["usageMetadata"],uS(s,o));const c=f(e,["goAway"]);c!=null&&m(t,["goAway"],hS(s,c));const l=f(e,["sessionResumptionUpdate"]);return l!=null&&m(t,["sessionResumptionUpdate"],pS(s,l)),t}function yS(){return{}}function vS(s,e){const t={},n=f(e,["text"]);n!=null&&m(t,["text"],n);const i=f(e,["weight"]);return i!=null&&m(t,["weight"],i),t}function bS(s,e){const t={},n=f(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>vS(s,r))),m(t,["weightedPrompts"],i)}return t}function xS(s,e){const t={},n=f(e,["temperature"]);n!=null&&m(t,["temperature"],n);const i=f(e,["topK"]);i!=null&&m(t,["topK"],i);const r=f(e,["seed"]);r!=null&&m(t,["seed"],r);const a=f(e,["guidance"]);a!=null&&m(t,["guidance"],a);const o=f(e,["bpm"]);o!=null&&m(t,["bpm"],o);const c=f(e,["density"]);c!=null&&m(t,["density"],c);const l=f(e,["brightness"]);l!=null&&m(t,["brightness"],l);const u=f(e,["scale"]);u!=null&&m(t,["scale"],u);const d=f(e,["muteBass"]);d!=null&&m(t,["muteBass"],d);const h=f(e,["muteDrums"]);h!=null&&m(t,["muteDrums"],h);const p=f(e,["onlyBassAndDrums"]);p!=null&&m(t,["onlyBassAndDrums"],p);const y=f(e,["musicGenerationMode"]);return y!=null&&m(t,["musicGenerationMode"],y),t}function _S(s,e){const t={},n=f(e,["clientContent"]);n!=null&&m(t,["clientContent"],bS(s,n));const i=f(e,["musicGenerationConfig"]);return i!=null&&m(t,["musicGenerationConfig"],xS(s,i)),t}function DS(s,e){const t={},n=f(e,["data"]);n!=null&&m(t,["data"],n);const i=f(e,["mimeType"]);i!=null&&m(t,["mimeType"],i);const r=f(e,["sourceMetadata"]);return r!=null&&m(t,["sourceMetadata"],_S(s,r)),t}function TS(s,e){const t={},n=f(e,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>DS(s,r))),m(t,["audioChunks"],i)}return t}function AS(s,e){const t={},n=f(e,["text"]);n!=null&&m(t,["text"],n);const i=f(e,["filteredReason"]);return i!=null&&m(t,["filteredReason"],i),t}function CS(s,e){const t={};f(e,["setupComplete"])!=null&&m(t,["setupComplete"],yS());const i=f(e,["serverContent"]);i!=null&&m(t,["serverContent"],TS(s,i));const r=f(e,["filteredPrompt"]);return r!=null&&m(t,["filteredPrompt"],AS(s,r)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wS(s,e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const i=f(e,["endOffset"]);i!=null&&m(t,["endOffset"],i);const r=f(e,["startOffset"]);return r!=null&&m(t,["startOffset"],r),t}function ES(s,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["data"]);n!=null&&m(t,["data"],n);const i=f(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function SS(s,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&m(t,["fileUri"],n);const i=f(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function US(s,e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],wS(s,n));const i=f(e,["thought"]);i!=null&&m(t,["thought"],i);const r=f(e,["inlineData"]);r!=null&&m(t,["inlineData"],ES(s,r));const a=f(e,["fileData"]);a!=null&&m(t,["fileData"],SS(s,a));const o=f(e,["codeExecutionResult"]);o!=null&&m(t,["codeExecutionResult"],o);const c=f(e,["executableCode"]);c!=null&&m(t,["executableCode"],c);const l=f(e,["functionCall"]);l!=null&&m(t,["functionCall"],l);const u=f(e,["functionResponse"]);u!=null&&m(t,["functionResponse"],u);const d=f(e,["text"]);return d!=null&&m(t,["text"],d),t}function _f(s,e){const t={},n=f(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>US(s,a))),m(t,["parts"],r)}const i=f(e,["role"]);return i!=null&&m(t,["role"],i),t}function FS(s,e){const t={},n=f(e,["anyOf"]);n!=null&&m(t,["anyOf"],n);const i=f(e,["default"]);i!=null&&m(t,["default"],i);const r=f(e,["description"]);r!=null&&m(t,["description"],r);const a=f(e,["enum"]);a!=null&&m(t,["enum"],a);const o=f(e,["example"]);o!=null&&m(t,["example"],o);const c=f(e,["format"]);c!=null&&m(t,["format"],c);const l=f(e,["items"]);l!=null&&m(t,["items"],l);const u=f(e,["maxItems"]);u!=null&&m(t,["maxItems"],u);const d=f(e,["maxLength"]);d!=null&&m(t,["maxLength"],d);const h=f(e,["maxProperties"]);h!=null&&m(t,["maxProperties"],h);const p=f(e,["maximum"]);p!=null&&m(t,["maximum"],p);const y=f(e,["minItems"]);y!=null&&m(t,["minItems"],y);const v=f(e,["minLength"]);v!=null&&m(t,["minLength"],v);const b=f(e,["minProperties"]);b!=null&&m(t,["minProperties"],b);const x=f(e,["minimum"]);x!=null&&m(t,["minimum"],x);const _=f(e,["nullable"]);_!=null&&m(t,["nullable"],_);const D=f(e,["pattern"]);D!=null&&m(t,["pattern"],D);const A=f(e,["properties"]);A!=null&&m(t,["properties"],A);const T=f(e,["propertyOrdering"]);T!=null&&m(t,["propertyOrdering"],T);const w=f(e,["required"]);w!=null&&m(t,["required"],w);const F=f(e,["title"]);F!=null&&m(t,["title"],F);const I=f(e,["type"]);return I!=null&&m(t,["type"],I),t}function IS(s,e){const t={};if(f(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=f(e,["category"]);n!=null&&m(t,["category"],n);const i=f(e,["threshold"]);return i!=null&&m(t,["threshold"],i),t}function RS(s,e){const t={},n=f(e,["behavior"]);n!=null&&m(t,["behavior"],n);const i=f(e,["description"]);i!=null&&m(t,["description"],i);const r=f(e,["name"]);r!=null&&m(t,["name"],r);const a=f(e,["parameters"]);a!=null&&m(t,["parameters"],a);const o=f(e,["response"]);return o!=null&&m(t,["response"],o),t}function kS(s,e){const t={},n=f(e,["startTime"]);n!=null&&m(t,["startTime"],n);const i=f(e,["endTime"]);return i!=null&&m(t,["endTime"],i),t}function MS(s,e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&m(t,["timeRangeFilter"],kS(s,n)),t}function NS(s,e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const i=f(e,["dynamicThreshold"]);return i!=null&&m(t,["dynamicThreshold"],i),t}function PS(s,e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&m(t,["dynamicRetrievalConfig"],NS(s,n)),t}function LS(){return{}}function BS(s,e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(l=>RS(s,l))),m(t,["functionDeclarations"],c)}if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(e,["googleSearch"]);i!=null&&m(t,["googleSearch"],MS(s,i));const r=f(e,["googleSearchRetrieval"]);if(r!=null&&m(t,["googleSearchRetrieval"],PS(s,r)),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(e,["urlContext"])!=null&&m(t,["urlContext"],LS());const o=f(e,["codeExecution"]);return o!=null&&m(t,["codeExecution"],o),t}function OS(s,e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const i=f(e,["allowedFunctionNames"]);return i!=null&&m(t,["allowedFunctionNames"],i),t}function WS(s,e){const t={},n=f(e,["latitude"]);n!=null&&m(t,["latitude"],n);const i=f(e,["longitude"]);return i!=null&&m(t,["longitude"],i),t}function qS(s,e){const t={},n=f(e,["latLng"]);n!=null&&m(t,["latLng"],WS(s,n));const i=f(e,["languageCode"]);return i!=null&&m(t,["languageCode"],i),t}function VS(s,e){const t={},n=f(e,["functionCallingConfig"]);n!=null&&m(t,["functionCallingConfig"],OS(s,n));const i=f(e,["retrievalConfig"]);return i!=null&&m(t,["retrievalConfig"],qS(s,i)),t}function zS(s,e){const t={},n=f(e,["voiceName"]);return n!=null&&m(t,["voiceName"],n),t}function nx(s,e){const t={},n=f(e,["prebuiltVoiceConfig"]);return n!=null&&m(t,["prebuiltVoiceConfig"],zS(s,n)),t}function HS(s,e){const t={},n=f(e,["speaker"]);n!=null&&m(t,["speaker"],n);const i=f(e,["voiceConfig"]);return i!=null&&m(t,["voiceConfig"],nx(s,i)),t}function GS(s,e){const t={},n=f(e,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>HS(s,r))),m(t,["speakerVoiceConfigs"],i)}return t}function $S(s,e){const t={},n=f(e,["voiceConfig"]);n!=null&&m(t,["voiceConfig"],nx(s,n));const i=f(e,["multiSpeakerVoiceConfig"]);i!=null&&m(t,["multiSpeakerVoiceConfig"],GS(s,i));const r=f(e,["languageCode"]);return r!=null&&m(t,["languageCode"],r),t}function XS(s,e){const t={},n=f(e,["includeThoughts"]);n!=null&&m(t,["includeThoughts"],n);const i=f(e,["thinkingBudget"]);return i!=null&&m(t,["thinkingBudget"],i),t}function YS(s,e,t){const n={},i=f(e,["systemInstruction"]);t!==void 0&&i!=null&&m(t,["systemInstruction"],_f(s,xn(s,i)));const r=f(e,["temperature"]);r!=null&&m(n,["temperature"],r);const a=f(e,["topP"]);a!=null&&m(n,["topP"],a);const o=f(e,["topK"]);o!=null&&m(n,["topK"],o);const c=f(e,["candidateCount"]);c!=null&&m(n,["candidateCount"],c);const l=f(e,["maxOutputTokens"]);l!=null&&m(n,["maxOutputTokens"],l);const u=f(e,["stopSequences"]);u!=null&&m(n,["stopSequences"],u);const d=f(e,["responseLogprobs"]);d!=null&&m(n,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&m(n,["logprobs"],h);const p=f(e,["presencePenalty"]);p!=null&&m(n,["presencePenalty"],p);const y=f(e,["frequencyPenalty"]);y!=null&&m(n,["frequencyPenalty"],y);const v=f(e,["seed"]);v!=null&&m(n,["seed"],v);const b=f(e,["responseMimeType"]);b!=null&&m(n,["responseMimeType"],b);const x=f(e,["responseSchema"]);if(x!=null&&m(n,["responseSchema"],FS(s,Oh(s,x))),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=f(e,["safetySettings"]);if(t!==void 0&&_!=null){let P=_;Array.isArray(P)&&(P=P.map(H=>IS(s,H))),m(t,["safetySettings"],P)}const D=f(e,["tools"]);if(t!==void 0&&D!=null){let P=bf(s,D);Array.isArray(P)&&(P=P.map(H=>BS(s,vf(s,H)))),m(t,["tools"],P)}const A=f(e,["toolConfig"]);if(t!==void 0&&A!=null&&m(t,["toolConfig"],VS(s,A)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=f(e,["cachedContent"]);t!==void 0&&T!=null&&m(t,["cachedContent"],ys(s,T));const w=f(e,["responseModalities"]);w!=null&&m(n,["responseModalities"],w);const F=f(e,["mediaResolution"]);F!=null&&m(n,["mediaResolution"],F);const I=f(e,["speechConfig"]);if(I!=null&&m(n,["speechConfig"],$S(s,H2(s,I))),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=f(e,["thinkingConfig"]);return U!=null&&m(n,["thinkingConfig"],XS(s,U)),n}function Bb(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],_t(s,n));const i=f(e,["contents"]);if(i!=null){let a=gi(s,i);Array.isArray(a)&&(a=a.map(o=>_f(s,o))),m(t,["contents"],a)}const r=f(e,["config"]);return r!=null&&m(t,["generationConfig"],YS(s,r,t)),t}function KS(s,e,t){const n={},i=f(e,["taskType"]);t!==void 0&&i!=null&&m(t,["requests[]","taskType"],i);const r=f(e,["title"]);t!==void 0&&r!=null&&m(t,["requests[]","title"],r);const a=f(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&m(t,["requests[]","outputDimensionality"],a),f(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function ZS(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],_t(s,n));const i=f(e,["contents"]);i!=null&&m(t,["requests[]","content"],z2(s,i));const r=f(e,["config"]);r!=null&&m(t,["config"],KS(s,r,t));const a=f(e,["model"]);return a!==void 0&&m(t,["requests[]","model"],_t(s,a)),t}function JS(s,e,t){const n={};if(f(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=f(e,["numberOfImages"]);t!==void 0&&i!=null&&m(t,["parameters","sampleCount"],i);const r=f(e,["aspectRatio"]);t!==void 0&&r!=null&&m(t,["parameters","aspectRatio"],r);const a=f(e,["guidanceScale"]);if(t!==void 0&&a!=null&&m(t,["parameters","guidanceScale"],a),f(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=f(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&m(t,["parameters","safetySetting"],o);const c=f(e,["personGeneration"]);t!==void 0&&c!=null&&m(t,["parameters","personGeneration"],c);const l=f(e,["includeSafetyAttributes"]);t!==void 0&&l!=null&&m(t,["parameters","includeSafetyAttributes"],l);const u=f(e,["includeRaiReason"]);t!==void 0&&u!=null&&m(t,["parameters","includeRaiReason"],u);const d=f(e,["language"]);t!==void 0&&d!=null&&m(t,["parameters","language"],d);const h=f(e,["outputMimeType"]);t!==void 0&&h!=null&&m(t,["parameters","outputOptions","mimeType"],h);const p=f(e,["outputCompressionQuality"]);if(t!==void 0&&p!=null&&m(t,["parameters","outputOptions","compressionQuality"],p),f(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function QS(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],_t(s,n));const i=f(e,["prompt"]);i!=null&&m(t,["instances[0]","prompt"],i);const r=f(e,["config"]);return r!=null&&m(t,["config"],JS(s,r,t)),t}function jS(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","name"],_t(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function eU(s,e,t){const n={},i=f(e,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const r=f(e,["pageToken"]);t!==void 0&&r!=null&&m(t,["_query","pageToken"],r);const a=f(e,["filter"]);t!==void 0&&a!=null&&m(t,["_query","filter"],a);const o=f(e,["queryBase"]);return t!==void 0&&o!=null&&m(t,["_url","models_url"],Y2(s,o)),n}function tU(s,e){const t={},n=f(e,["config"]);return n!=null&&m(t,["config"],eU(s,n,t)),t}function nU(s,e,t){const n={},i=f(e,["displayName"]);t!==void 0&&i!=null&&m(t,["displayName"],i);const r=f(e,["description"]);t!==void 0&&r!=null&&m(t,["description"],r);const a=f(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&m(t,["defaultCheckpointId"],a),n}function iU(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","name"],_t(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],nU(s,i,t)),t}function rU(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","name"],_t(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function sU(s,e){const t={};if(f(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function aU(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],_t(s,n));const i=f(e,["contents"]);if(i!=null){let a=gi(s,i);Array.isArray(a)&&(a=a.map(o=>_f(s,o))),m(t,["contents"],a)}const r=f(e,["config"]);return r!=null&&m(t,["config"],sU(s,r)),t}function oU(s,e){const t={};if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(e,["imageBytes"]);n!=null&&m(t,["bytesBase64Encoded"],vs(s,n));const i=f(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function cU(s,e,t){const n={},i=f(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&m(t,["parameters","sampleCount"],i),f(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=f(e,["durationSeconds"]);if(t!==void 0&&r!=null&&m(t,["parameters","durationSeconds"],r),f(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=f(e,["aspectRatio"]);if(t!==void 0&&a!=null&&m(t,["parameters","aspectRatio"],a),f(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const o=f(e,["personGeneration"]);if(t!==void 0&&o!=null&&m(t,["parameters","personGeneration"],o),f(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=f(e,["negativePrompt"]);if(t!==void 0&&c!=null&&m(t,["parameters","negativePrompt"],c),f(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function lU(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],_t(s,n));const i=f(e,["prompt"]);i!=null&&m(t,["instances[0]","prompt"],i);const r=f(e,["image"]);r!=null&&m(t,["instances[0]","image"],oU(s,r));const a=f(e,["config"]);return a!=null&&m(t,["config"],cU(s,a,t)),t}function uU(s,e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const i=f(e,["endOffset"]);i!=null&&m(t,["endOffset"],i);const r=f(e,["startOffset"]);return r!=null&&m(t,["startOffset"],r),t}function dU(s,e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const i=f(e,["data"]);i!=null&&m(t,["data"],i);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function hU(s,e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const i=f(e,["fileUri"]);i!=null&&m(t,["fileUri"],i);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function fU(s,e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],uU(s,n));const i=f(e,["thought"]);i!=null&&m(t,["thought"],i);const r=f(e,["inlineData"]);r!=null&&m(t,["inlineData"],dU(s,r));const a=f(e,["fileData"]);a!=null&&m(t,["fileData"],hU(s,a));const o=f(e,["codeExecutionResult"]);o!=null&&m(t,["codeExecutionResult"],o);const c=f(e,["executableCode"]);c!=null&&m(t,["executableCode"],c);const l=f(e,["functionCall"]);l!=null&&m(t,["functionCall"],l);const u=f(e,["functionResponse"]);u!=null&&m(t,["functionResponse"],u);const d=f(e,["text"]);return d!=null&&m(t,["text"],d),t}function Ac(s,e){const t={},n=f(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>fU(s,a))),m(t,["parts"],r)}const i=f(e,["role"]);return i!=null&&m(t,["role"],i),t}function pU(s,e){const t={},n=f(e,["anyOf"]);n!=null&&m(t,["anyOf"],n);const i=f(e,["default"]);i!=null&&m(t,["default"],i);const r=f(e,["description"]);r!=null&&m(t,["description"],r);const a=f(e,["enum"]);a!=null&&m(t,["enum"],a);const o=f(e,["example"]);o!=null&&m(t,["example"],o);const c=f(e,["format"]);c!=null&&m(t,["format"],c);const l=f(e,["items"]);l!=null&&m(t,["items"],l);const u=f(e,["maxItems"]);u!=null&&m(t,["maxItems"],u);const d=f(e,["maxLength"]);d!=null&&m(t,["maxLength"],d);const h=f(e,["maxProperties"]);h!=null&&m(t,["maxProperties"],h);const p=f(e,["maximum"]);p!=null&&m(t,["maximum"],p);const y=f(e,["minItems"]);y!=null&&m(t,["minItems"],y);const v=f(e,["minLength"]);v!=null&&m(t,["minLength"],v);const b=f(e,["minProperties"]);b!=null&&m(t,["minProperties"],b);const x=f(e,["minimum"]);x!=null&&m(t,["minimum"],x);const _=f(e,["nullable"]);_!=null&&m(t,["nullable"],_);const D=f(e,["pattern"]);D!=null&&m(t,["pattern"],D);const A=f(e,["properties"]);A!=null&&m(t,["properties"],A);const T=f(e,["propertyOrdering"]);T!=null&&m(t,["propertyOrdering"],T);const w=f(e,["required"]);w!=null&&m(t,["required"],w);const F=f(e,["title"]);F!=null&&m(t,["title"],F);const I=f(e,["type"]);return I!=null&&m(t,["type"],I),t}function gU(s,e){const t={},n=f(e,["featureSelectionPreference"]);return n!=null&&m(t,["featureSelectionPreference"],n),t}function mU(s,e){const t={},n=f(e,["method"]);n!=null&&m(t,["method"],n);const i=f(e,["category"]);i!=null&&m(t,["category"],i);const r=f(e,["threshold"]);return r!=null&&m(t,["threshold"],r),t}function yU(s,e){const t={};if(f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(e,["description"]);n!=null&&m(t,["description"],n);const i=f(e,["name"]);i!=null&&m(t,["name"],i);const r=f(e,["parameters"]);r!=null&&m(t,["parameters"],r);const a=f(e,["response"]);return a!=null&&m(t,["response"],a),t}function vU(s,e){const t={},n=f(e,["startTime"]);n!=null&&m(t,["startTime"],n);const i=f(e,["endTime"]);return i!=null&&m(t,["endTime"],i),t}function bU(s,e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&m(t,["timeRangeFilter"],vU(s,n)),t}function xU(s,e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const i=f(e,["dynamicThreshold"]);return i!=null&&m(t,["dynamicThreshold"],i),t}function _U(s,e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&m(t,["dynamicRetrievalConfig"],xU(s,n)),t}function DU(){return{}}function TU(s,e){const t={},n=f(e,["apiKeyString"]);return n!=null&&m(t,["apiKeyString"],n),t}function AU(s,e){const t={},n=f(e,["apiKeyConfig"]);n!=null&&m(t,["apiKeyConfig"],TU(s,n));const i=f(e,["authType"]);i!=null&&m(t,["authType"],i);const r=f(e,["googleServiceAccountConfig"]);r!=null&&m(t,["googleServiceAccountConfig"],r);const a=f(e,["httpBasicAuthConfig"]);a!=null&&m(t,["httpBasicAuthConfig"],a);const o=f(e,["oauthConfig"]);o!=null&&m(t,["oauthConfig"],o);const c=f(e,["oidcConfig"]);return c!=null&&m(t,["oidcConfig"],c),t}function CU(s,e){const t={},n=f(e,["authConfig"]);return n!=null&&m(t,["authConfig"],AU(s,n)),t}function ix(s,e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>yU(s,d))),m(t,["functionDeclarations"],u)}const i=f(e,["retrieval"]);i!=null&&m(t,["retrieval"],i);const r=f(e,["googleSearch"]);r!=null&&m(t,["googleSearch"],bU(s,r));const a=f(e,["googleSearchRetrieval"]);a!=null&&m(t,["googleSearchRetrieval"],_U(s,a)),f(e,["enterpriseWebSearch"])!=null&&m(t,["enterpriseWebSearch"],DU());const c=f(e,["googleMaps"]);if(c!=null&&m(t,["googleMaps"],CU(s,c)),f(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const l=f(e,["codeExecution"]);return l!=null&&m(t,["codeExecution"],l),t}function wU(s,e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const i=f(e,["allowedFunctionNames"]);return i!=null&&m(t,["allowedFunctionNames"],i),t}function EU(s,e){const t={},n=f(e,["latitude"]);n!=null&&m(t,["latitude"],n);const i=f(e,["longitude"]);return i!=null&&m(t,["longitude"],i),t}function SU(s,e){const t={},n=f(e,["latLng"]);n!=null&&m(t,["latLng"],EU(s,n));const i=f(e,["languageCode"]);return i!=null&&m(t,["languageCode"],i),t}function UU(s,e){const t={},n=f(e,["functionCallingConfig"]);n!=null&&m(t,["functionCallingConfig"],wU(s,n));const i=f(e,["retrievalConfig"]);return i!=null&&m(t,["retrievalConfig"],SU(s,i)),t}function FU(s,e){const t={},n=f(e,["voiceName"]);return n!=null&&m(t,["voiceName"],n),t}function IU(s,e){const t={},n=f(e,["prebuiltVoiceConfig"]);return n!=null&&m(t,["prebuiltVoiceConfig"],FU(s,n)),t}function RU(s,e){const t={},n=f(e,["voiceConfig"]);if(n!=null&&m(t,["voiceConfig"],IU(s,n)),f(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=f(e,["languageCode"]);return i!=null&&m(t,["languageCode"],i),t}function kU(s,e){const t={},n=f(e,["includeThoughts"]);n!=null&&m(t,["includeThoughts"],n);const i=f(e,["thinkingBudget"]);return i!=null&&m(t,["thinkingBudget"],i),t}function MU(s,e,t){const n={},i=f(e,["systemInstruction"]);t!==void 0&&i!=null&&m(t,["systemInstruction"],Ac(s,xn(s,i)));const r=f(e,["temperature"]);r!=null&&m(n,["temperature"],r);const a=f(e,["topP"]);a!=null&&m(n,["topP"],a);const o=f(e,["topK"]);o!=null&&m(n,["topK"],o);const c=f(e,["candidateCount"]);c!=null&&m(n,["candidateCount"],c);const l=f(e,["maxOutputTokens"]);l!=null&&m(n,["maxOutputTokens"],l);const u=f(e,["stopSequences"]);u!=null&&m(n,["stopSequences"],u);const d=f(e,["responseLogprobs"]);d!=null&&m(n,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&m(n,["logprobs"],h);const p=f(e,["presencePenalty"]);p!=null&&m(n,["presencePenalty"],p);const y=f(e,["frequencyPenalty"]);y!=null&&m(n,["frequencyPenalty"],y);const v=f(e,["seed"]);v!=null&&m(n,["seed"],v);const b=f(e,["responseMimeType"]);b!=null&&m(n,["responseMimeType"],b);const x=f(e,["responseSchema"]);x!=null&&m(n,["responseSchema"],pU(s,Oh(s,x)));const _=f(e,["routingConfig"]);_!=null&&m(n,["routingConfig"],_);const D=f(e,["modelSelectionConfig"]);D!=null&&m(n,["modelConfig"],gU(s,D));const A=f(e,["safetySettings"]);if(t!==void 0&&A!=null){let E=A;Array.isArray(E)&&(E=E.map(X=>mU(s,X))),m(t,["safetySettings"],E)}const T=f(e,["tools"]);if(t!==void 0&&T!=null){let E=bf(s,T);Array.isArray(E)&&(E=E.map(X=>ix(s,vf(s,X)))),m(t,["tools"],E)}const w=f(e,["toolConfig"]);t!==void 0&&w!=null&&m(t,["toolConfig"],UU(s,w));const F=f(e,["labels"]);t!==void 0&&F!=null&&m(t,["labels"],F);const I=f(e,["cachedContent"]);t!==void 0&&I!=null&&m(t,["cachedContent"],ys(s,I));const U=f(e,["responseModalities"]);U!=null&&m(n,["responseModalities"],U);const P=f(e,["mediaResolution"]);P!=null&&m(n,["mediaResolution"],P);const H=f(e,["speechConfig"]);H!=null&&m(n,["speechConfig"],RU(s,H2(s,H)));const S=f(e,["audioTimestamp"]);S!=null&&m(n,["audioTimestamp"],S);const N=f(e,["thinkingConfig"]);return N!=null&&m(n,["thinkingConfig"],kU(s,N)),n}function Ob(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],_t(s,n));const i=f(e,["contents"]);if(i!=null){let a=gi(s,i);Array.isArray(a)&&(a=a.map(o=>Ac(s,o))),m(t,["contents"],a)}const r=f(e,["config"]);return r!=null&&m(t,["generationConfig"],MU(s,r,t)),t}function NU(s,e,t){const n={},i=f(e,["taskType"]);t!==void 0&&i!=null&&m(t,["instances[]","task_type"],i);const r=f(e,["title"]);t!==void 0&&r!=null&&m(t,["instances[]","title"],r);const a=f(e,["outputDimensionality"]);t!==void 0&&a!=null&&m(t,["parameters","outputDimensionality"],a);const o=f(e,["mimeType"]);t!==void 0&&o!=null&&m(t,["instances[]","mimeType"],o);const c=f(e,["autoTruncate"]);return t!==void 0&&c!=null&&m(t,["parameters","autoTruncate"],c),n}function PU(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],_t(s,n));const i=f(e,["contents"]);i!=null&&m(t,["instances[]","content"],z2(s,i));const r=f(e,["config"]);return r!=null&&m(t,["config"],NU(s,r,t)),t}function LU(s,e,t){const n={},i=f(e,["outputGcsUri"]);t!==void 0&&i!=null&&m(t,["parameters","storageUri"],i);const r=f(e,["negativePrompt"]);t!==void 0&&r!=null&&m(t,["parameters","negativePrompt"],r);const a=f(e,["numberOfImages"]);t!==void 0&&a!=null&&m(t,["parameters","sampleCount"],a);const o=f(e,["aspectRatio"]);t!==void 0&&o!=null&&m(t,["parameters","aspectRatio"],o);const c=f(e,["guidanceScale"]);t!==void 0&&c!=null&&m(t,["parameters","guidanceScale"],c);const l=f(e,["seed"]);t!==void 0&&l!=null&&m(t,["parameters","seed"],l);const u=f(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&m(t,["parameters","safetySetting"],u);const d=f(e,["personGeneration"]);t!==void 0&&d!=null&&m(t,["parameters","personGeneration"],d);const h=f(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&m(t,["parameters","includeSafetyAttributes"],h);const p=f(e,["includeRaiReason"]);t!==void 0&&p!=null&&m(t,["parameters","includeRaiReason"],p);const y=f(e,["language"]);t!==void 0&&y!=null&&m(t,["parameters","language"],y);const v=f(e,["outputMimeType"]);t!==void 0&&v!=null&&m(t,["parameters","outputOptions","mimeType"],v);const b=f(e,["outputCompressionQuality"]);t!==void 0&&b!=null&&m(t,["parameters","outputOptions","compressionQuality"],b);const x=f(e,["addWatermark"]);t!==void 0&&x!=null&&m(t,["parameters","addWatermark"],x);const _=f(e,["enhancePrompt"]);return t!==void 0&&_!=null&&m(t,["parameters","enhancePrompt"],_),n}function BU(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],_t(s,n));const i=f(e,["prompt"]);i!=null&&m(t,["instances[0]","prompt"],i);const r=f(e,["config"]);return r!=null&&m(t,["config"],LU(s,r,t)),t}function ay(s,e){const t={},n=f(e,["gcsUri"]);n!=null&&m(t,["gcsUri"],n);const i=f(e,["imageBytes"]);i!=null&&m(t,["bytesBase64Encoded"],vs(s,i));const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function OU(s,e){const t={},n=f(e,["maskMode"]);n!=null&&m(t,["maskMode"],n);const i=f(e,["segmentationClasses"]);i!=null&&m(t,["maskClasses"],i);const r=f(e,["maskDilation"]);return r!=null&&m(t,["dilation"],r),t}function WU(s,e){const t={},n=f(e,["controlType"]);n!=null&&m(t,["controlType"],n);const i=f(e,["enableControlImageComputation"]);return i!=null&&m(t,["computeControl"],i),t}function qU(s,e){const t={},n=f(e,["styleDescription"]);return n!=null&&m(t,["styleDescription"],n),t}function VU(s,e){const t={},n=f(e,["subjectType"]);n!=null&&m(t,["subjectType"],n);const i=f(e,["subjectDescription"]);return i!=null&&m(t,["subjectDescription"],i),t}function zU(s,e){const t={},n=f(e,["referenceImage"]);n!=null&&m(t,["referenceImage"],ay(s,n));const i=f(e,["referenceId"]);i!=null&&m(t,["referenceId"],i);const r=f(e,["referenceType"]);r!=null&&m(t,["referenceType"],r);const a=f(e,["maskImageConfig"]);a!=null&&m(t,["maskImageConfig"],OU(s,a));const o=f(e,["controlImageConfig"]);o!=null&&m(t,["controlImageConfig"],WU(s,o));const c=f(e,["styleImageConfig"]);c!=null&&m(t,["styleImageConfig"],qU(s,c));const l=f(e,["subjectImageConfig"]);return l!=null&&m(t,["subjectImageConfig"],VU(s,l)),t}function HU(s,e,t){const n={},i=f(e,["outputGcsUri"]);t!==void 0&&i!=null&&m(t,["parameters","storageUri"],i);const r=f(e,["negativePrompt"]);t!==void 0&&r!=null&&m(t,["parameters","negativePrompt"],r);const a=f(e,["numberOfImages"]);t!==void 0&&a!=null&&m(t,["parameters","sampleCount"],a);const o=f(e,["aspectRatio"]);t!==void 0&&o!=null&&m(t,["parameters","aspectRatio"],o);const c=f(e,["guidanceScale"]);t!==void 0&&c!=null&&m(t,["parameters","guidanceScale"],c);const l=f(e,["seed"]);t!==void 0&&l!=null&&m(t,["parameters","seed"],l);const u=f(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&m(t,["parameters","safetySetting"],u);const d=f(e,["personGeneration"]);t!==void 0&&d!=null&&m(t,["parameters","personGeneration"],d);const h=f(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&m(t,["parameters","includeSafetyAttributes"],h);const p=f(e,["includeRaiReason"]);t!==void 0&&p!=null&&m(t,["parameters","includeRaiReason"],p);const y=f(e,["language"]);t!==void 0&&y!=null&&m(t,["parameters","language"],y);const v=f(e,["outputMimeType"]);t!==void 0&&v!=null&&m(t,["parameters","outputOptions","mimeType"],v);const b=f(e,["outputCompressionQuality"]);t!==void 0&&b!=null&&m(t,["parameters","outputOptions","compressionQuality"],b);const x=f(e,["editMode"]);t!==void 0&&x!=null&&m(t,["parameters","editMode"],x);const _=f(e,["baseSteps"]);return t!==void 0&&_!=null&&m(t,["parameters","editConfig","baseSteps"],_),n}function GU(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],_t(s,n));const i=f(e,["prompt"]);i!=null&&m(t,["instances[0]","prompt"],i);const r=f(e,["referenceImages"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(c=>zU(s,c))),m(t,["instances[0]","referenceImages"],o)}const a=f(e,["config"]);return a!=null&&m(t,["config"],HU(s,a,t)),t}function $U(s,e,t){const n={},i=f(e,["includeRaiReason"]);t!==void 0&&i!=null&&m(t,["parameters","includeRaiReason"],i);const r=f(e,["outputMimeType"]);t!==void 0&&r!=null&&m(t,["parameters","outputOptions","mimeType"],r);const a=f(e,["outputCompressionQuality"]);t!==void 0&&a!=null&&m(t,["parameters","outputOptions","compressionQuality"],a);const o=f(e,["numberOfImages"]);t!==void 0&&o!=null&&m(t,["parameters","sampleCount"],o);const c=f(e,["mode"]);return t!==void 0&&c!=null&&m(t,["parameters","mode"],c),n}function XU(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],_t(s,n));const i=f(e,["image"]);i!=null&&m(t,["instances[0]","image"],ay(s,i));const r=f(e,["upscaleFactor"]);r!=null&&m(t,["parameters","upscaleConfig","upscaleFactor"],r);const a=f(e,["config"]);return a!=null&&m(t,["config"],$U(s,a,t)),t}function YU(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","name"],_t(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function KU(s,e,t){const n={},i=f(e,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const r=f(e,["pageToken"]);t!==void 0&&r!=null&&m(t,["_query","pageToken"],r);const a=f(e,["filter"]);t!==void 0&&a!=null&&m(t,["_query","filter"],a);const o=f(e,["queryBase"]);return t!==void 0&&o!=null&&m(t,["_url","models_url"],Y2(s,o)),n}function ZU(s,e){const t={},n=f(e,["config"]);return n!=null&&m(t,["config"],KU(s,n,t)),t}function JU(s,e,t){const n={},i=f(e,["displayName"]);t!==void 0&&i!=null&&m(t,["displayName"],i);const r=f(e,["description"]);t!==void 0&&r!=null&&m(t,["description"],r);const a=f(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&m(t,["defaultCheckpointId"],a),n}function QU(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],_t(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],JU(s,i,t)),t}function jU(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","name"],_t(s,n));const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function eF(s,e,t){const n={},i=f(e,["systemInstruction"]);t!==void 0&&i!=null&&m(t,["systemInstruction"],Ac(s,xn(s,i)));const r=f(e,["tools"]);if(t!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(c=>ix(s,c))),m(t,["tools"],o)}const a=f(e,["generationConfig"]);return t!==void 0&&a!=null&&m(t,["generationConfig"],a),n}function tF(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],_t(s,n));const i=f(e,["contents"]);if(i!=null){let a=gi(s,i);Array.isArray(a)&&(a=a.map(o=>Ac(s,o))),m(t,["contents"],a)}const r=f(e,["config"]);return r!=null&&m(t,["config"],eF(s,r,t)),t}function nF(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],_t(s,n));const i=f(e,["contents"]);if(i!=null){let a=gi(s,i);Array.isArray(a)&&(a=a.map(o=>Ac(s,o))),m(t,["contents"],a)}const r=f(e,["config"]);return r!=null&&m(t,["config"],r),t}function iF(s,e,t){const n={},i=f(e,["numberOfVideos"]);t!==void 0&&i!=null&&m(t,["parameters","sampleCount"],i);const r=f(e,["outputGcsUri"]);t!==void 0&&r!=null&&m(t,["parameters","storageUri"],r);const a=f(e,["fps"]);t!==void 0&&a!=null&&m(t,["parameters","fps"],a);const o=f(e,["durationSeconds"]);t!==void 0&&o!=null&&m(t,["parameters","durationSeconds"],o);const c=f(e,["seed"]);t!==void 0&&c!=null&&m(t,["parameters","seed"],c);const l=f(e,["aspectRatio"]);t!==void 0&&l!=null&&m(t,["parameters","aspectRatio"],l);const u=f(e,["resolution"]);t!==void 0&&u!=null&&m(t,["parameters","resolution"],u);const d=f(e,["personGeneration"]);t!==void 0&&d!=null&&m(t,["parameters","personGeneration"],d);const h=f(e,["pubsubTopic"]);t!==void 0&&h!=null&&m(t,["parameters","pubsubTopic"],h);const p=f(e,["negativePrompt"]);t!==void 0&&p!=null&&m(t,["parameters","negativePrompt"],p);const y=f(e,["enhancePrompt"]);return t!==void 0&&y!=null&&m(t,["parameters","enhancePrompt"],y),n}function rF(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["_url","model"],_t(s,n));const i=f(e,["prompt"]);i!=null&&m(t,["instances[0]","prompt"],i);const r=f(e,["image"]);r!=null&&m(t,["instances[0]","image"],ay(s,r));const a=f(e,["config"]);return a!=null&&m(t,["config"],iF(s,a,t)),t}function sF(s,e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const i=f(e,["endOffset"]);i!=null&&m(t,["endOffset"],i);const r=f(e,["startOffset"]);return r!=null&&m(t,["startOffset"],r),t}function aF(s,e){const t={},n=f(e,["data"]);n!=null&&m(t,["data"],n);const i=f(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function oF(s,e){const t={},n=f(e,["fileUri"]);n!=null&&m(t,["fileUri"],n);const i=f(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function cF(s,e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],sF(s,n));const i=f(e,["thought"]);i!=null&&m(t,["thought"],i);const r=f(e,["inlineData"]);r!=null&&m(t,["inlineData"],aF(s,r));const a=f(e,["fileData"]);a!=null&&m(t,["fileData"],oF(s,a));const o=f(e,["codeExecutionResult"]);o!=null&&m(t,["codeExecutionResult"],o);const c=f(e,["executableCode"]);c!=null&&m(t,["executableCode"],c);const l=f(e,["functionCall"]);l!=null&&m(t,["functionCall"],l);const u=f(e,["functionResponse"]);u!=null&&m(t,["functionResponse"],u);const d=f(e,["text"]);return d!=null&&m(t,["text"],d),t}function lF(s,e){const t={},n=f(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>cF(s,a))),m(t,["parts"],r)}const i=f(e,["role"]);return i!=null&&m(t,["role"],i),t}function uF(s,e){const t={},n=f(e,["citationSources"]);return n!=null&&m(t,["citations"],n),t}function dF(s,e){const t={},n=f(e,["retrievedUrl"]);n!=null&&m(t,["retrievedUrl"],n);const i=f(e,["urlRetrievalStatus"]);return i!=null&&m(t,["urlRetrievalStatus"],i),t}function hF(s,e){const t={},n=f(e,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>dF(s,r))),m(t,["urlMetadata"],i)}return t}function fF(s,e){const t={},n=f(e,["content"]);n!=null&&m(t,["content"],lF(s,n));const i=f(e,["citationMetadata"]);i!=null&&m(t,["citationMetadata"],uF(s,i));const r=f(e,["tokenCount"]);r!=null&&m(t,["tokenCount"],r);const a=f(e,["finishReason"]);a!=null&&m(t,["finishReason"],a);const o=f(e,["urlContextMetadata"]);o!=null&&m(t,["urlContextMetadata"],hF(s,o));const c=f(e,["avgLogprobs"]);c!=null&&m(t,["avgLogprobs"],c);const l=f(e,["groundingMetadata"]);l!=null&&m(t,["groundingMetadata"],l);const u=f(e,["index"]);u!=null&&m(t,["index"],u);const d=f(e,["logprobsResult"]);d!=null&&m(t,["logprobsResult"],d);const h=f(e,["safetyRatings"]);return h!=null&&m(t,["safetyRatings"],h),t}function Wb(s,e){const t={},n=f(e,["candidates"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(c=>fF(s,c))),m(t,["candidates"],o)}const i=f(e,["modelVersion"]);i!=null&&m(t,["modelVersion"],i);const r=f(e,["promptFeedback"]);r!=null&&m(t,["promptFeedback"],r);const a=f(e,["usageMetadata"]);return a!=null&&m(t,["usageMetadata"],a),t}function pF(s,e){const t={},n=f(e,["values"]);return n!=null&&m(t,["values"],n),t}function gF(){return{}}function mF(s,e){const t={},n=f(e,["embeddings"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>pF(s,a))),m(t,["embeddings"],r)}return f(e,["metadata"])!=null&&m(t,["metadata"],gF()),t}function yF(s,e){const t={},n=f(e,["bytesBase64Encoded"]);n!=null&&m(t,["imageBytes"],vs(s,n));const i=f(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function rx(s,e){const t={},n=f(e,["safetyAttributes","categories"]);n!=null&&m(t,["categories"],n);const i=f(e,["safetyAttributes","scores"]);i!=null&&m(t,["scores"],i);const r=f(e,["contentType"]);return r!=null&&m(t,["contentType"],r),t}function vF(s,e){const t={},n=f(e,["_self"]);n!=null&&m(t,["image"],yF(s,n));const i=f(e,["raiFilteredReason"]);i!=null&&m(t,["raiFilteredReason"],i);const r=f(e,["_self"]);return r!=null&&m(t,["safetyAttributes"],rx(s,r)),t}function bF(s,e){const t={},n=f(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>vF(s,a))),m(t,["generatedImages"],r)}const i=f(e,["positivePromptSafetyAttributes"]);return i!=null&&m(t,["positivePromptSafetyAttributes"],rx(s,i)),t}function xF(s,e){const t={},n=f(e,["baseModel"]);n!=null&&m(t,["baseModel"],n);const i=f(e,["createTime"]);i!=null&&m(t,["createTime"],i);const r=f(e,["updateTime"]);return r!=null&&m(t,["updateTime"],r),t}function Ng(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const i=f(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=f(e,["description"]);r!=null&&m(t,["description"],r);const a=f(e,["version"]);a!=null&&m(t,["version"],a);const o=f(e,["_self"]);o!=null&&m(t,["tunedModelInfo"],xF(s,o));const c=f(e,["inputTokenLimit"]);c!=null&&m(t,["inputTokenLimit"],c);const l=f(e,["outputTokenLimit"]);l!=null&&m(t,["outputTokenLimit"],l);const u=f(e,["supportedGenerationMethods"]);return u!=null&&m(t,["supportedActions"],u),t}function _F(s,e){const t={},n=f(e,["nextPageToken"]);n!=null&&m(t,["nextPageToken"],n);const i=f(e,["_self"]);if(i!=null){let r=K2(s,i);Array.isArray(r)&&(r=r.map(a=>Ng(s,a))),m(t,["models"],r)}return t}function DF(){return{}}function TF(s,e){const t={},n=f(e,["totalTokens"]);n!=null&&m(t,["totalTokens"],n);const i=f(e,["cachedContentTokenCount"]);return i!=null&&m(t,["cachedContentTokenCount"],i),t}function AF(s,e){const t={},n=f(e,["video","uri"]);n!=null&&m(t,["uri"],n);const i=f(e,["video","encodedVideo"]);i!=null&&m(t,["videoBytes"],vs(s,i));const r=f(e,["encoding"]);return r!=null&&m(t,["mimeType"],r),t}function CF(s,e){const t={},n=f(e,["_self"]);return n!=null&&m(t,["video"],AF(s,n)),t}function wF(s,e){const t={},n=f(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>CF(s,o))),m(t,["generatedVideos"],a)}const i=f(e,["raiMediaFilteredCount"]);i!=null&&m(t,["raiMediaFilteredCount"],i);const r=f(e,["raiMediaFilteredReasons"]);return r!=null&&m(t,["raiMediaFilteredReasons"],r),t}function EF(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const i=f(e,["metadata"]);i!=null&&m(t,["metadata"],i);const r=f(e,["done"]);r!=null&&m(t,["done"],r);const a=f(e,["error"]);a!=null&&m(t,["error"],a);const o=f(e,["response","generateVideoResponse"]);return o!=null&&m(t,["response"],wF(s,o)),t}function SF(s,e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const i=f(e,["endOffset"]);i!=null&&m(t,["endOffset"],i);const r=f(e,["startOffset"]);return r!=null&&m(t,["startOffset"],r),t}function UF(s,e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const i=f(e,["data"]);i!=null&&m(t,["data"],i);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function FF(s,e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const i=f(e,["fileUri"]);i!=null&&m(t,["fileUri"],i);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function IF(s,e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],SF(s,n));const i=f(e,["thought"]);i!=null&&m(t,["thought"],i);const r=f(e,["inlineData"]);r!=null&&m(t,["inlineData"],UF(s,r));const a=f(e,["fileData"]);a!=null&&m(t,["fileData"],FF(s,a));const o=f(e,["codeExecutionResult"]);o!=null&&m(t,["codeExecutionResult"],o);const c=f(e,["executableCode"]);c!=null&&m(t,["executableCode"],c);const l=f(e,["functionCall"]);l!=null&&m(t,["functionCall"],l);const u=f(e,["functionResponse"]);u!=null&&m(t,["functionResponse"],u);const d=f(e,["text"]);return d!=null&&m(t,["text"],d),t}function RF(s,e){const t={},n=f(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>IF(s,a))),m(t,["parts"],r)}const i=f(e,["role"]);return i!=null&&m(t,["role"],i),t}function kF(s,e){const t={},n=f(e,["citations"]);return n!=null&&m(t,["citations"],n),t}function MF(s,e){const t={},n=f(e,["content"]);n!=null&&m(t,["content"],RF(s,n));const i=f(e,["citationMetadata"]);i!=null&&m(t,["citationMetadata"],kF(s,i));const r=f(e,["finishMessage"]);r!=null&&m(t,["finishMessage"],r);const a=f(e,["finishReason"]);a!=null&&m(t,["finishReason"],a);const o=f(e,["avgLogprobs"]);o!=null&&m(t,["avgLogprobs"],o);const c=f(e,["groundingMetadata"]);c!=null&&m(t,["groundingMetadata"],c);const l=f(e,["index"]);l!=null&&m(t,["index"],l);const u=f(e,["logprobsResult"]);u!=null&&m(t,["logprobsResult"],u);const d=f(e,["safetyRatings"]);return d!=null&&m(t,["safetyRatings"],d),t}function qb(s,e){const t={},n=f(e,["candidates"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>MF(s,u))),m(t,["candidates"],l)}const i=f(e,["createTime"]);i!=null&&m(t,["createTime"],i);const r=f(e,["responseId"]);r!=null&&m(t,["responseId"],r);const a=f(e,["modelVersion"]);a!=null&&m(t,["modelVersion"],a);const o=f(e,["promptFeedback"]);o!=null&&m(t,["promptFeedback"],o);const c=f(e,["usageMetadata"]);return c!=null&&m(t,["usageMetadata"],c),t}function NF(s,e){const t={},n=f(e,["truncated"]);n!=null&&m(t,["truncated"],n);const i=f(e,["token_count"]);return i!=null&&m(t,["tokenCount"],i),t}function PF(s,e){const t={},n=f(e,["values"]);n!=null&&m(t,["values"],n);const i=f(e,["statistics"]);return i!=null&&m(t,["statistics"],NF(s,i)),t}function LF(s,e){const t={},n=f(e,["billableCharacterCount"]);return n!=null&&m(t,["billableCharacterCount"],n),t}function BF(s,e){const t={},n=f(e,["predictions[]","embeddings"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>PF(s,a))),m(t,["embeddings"],r)}const i=f(e,["metadata"]);return i!=null&&m(t,["metadata"],LF(s,i)),t}function OF(s,e){const t={},n=f(e,["gcsUri"]);n!=null&&m(t,["gcsUri"],n);const i=f(e,["bytesBase64Encoded"]);i!=null&&m(t,["imageBytes"],vs(s,i));const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function sx(s,e){const t={},n=f(e,["safetyAttributes","categories"]);n!=null&&m(t,["categories"],n);const i=f(e,["safetyAttributes","scores"]);i!=null&&m(t,["scores"],i);const r=f(e,["contentType"]);return r!=null&&m(t,["contentType"],r),t}function oy(s,e){const t={},n=f(e,["_self"]);n!=null&&m(t,["image"],OF(s,n));const i=f(e,["raiFilteredReason"]);i!=null&&m(t,["raiFilteredReason"],i);const r=f(e,["_self"]);r!=null&&m(t,["safetyAttributes"],sx(s,r));const a=f(e,["prompt"]);return a!=null&&m(t,["enhancedPrompt"],a),t}function WF(s,e){const t={},n=f(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>oy(s,a))),m(t,["generatedImages"],r)}const i=f(e,["positivePromptSafetyAttributes"]);return i!=null&&m(t,["positivePromptSafetyAttributes"],sx(s,i)),t}function qF(s,e){const t={},n=f(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>oy(s,r))),m(t,["generatedImages"],i)}return t}function VF(s,e){const t={},n=f(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>oy(s,r))),m(t,["generatedImages"],i)}return t}function zF(s,e){const t={},n=f(e,["endpoint"]);n!=null&&m(t,["name"],n);const i=f(e,["deployedModelId"]);return i!=null&&m(t,["deployedModelId"],i),t}function HF(s,e){const t={},n=f(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(t,["baseModel"],n);const i=f(e,["createTime"]);i!=null&&m(t,["createTime"],i);const r=f(e,["updateTime"]);return r!=null&&m(t,["updateTime"],r),t}function GF(s,e){const t={},n=f(e,["checkpointId"]);n!=null&&m(t,["checkpointId"],n);const i=f(e,["epoch"]);i!=null&&m(t,["epoch"],i);const r=f(e,["step"]);return r!=null&&m(t,["step"],r),t}function Pg(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const i=f(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=f(e,["description"]);r!=null&&m(t,["description"],r);const a=f(e,["versionId"]);a!=null&&m(t,["version"],a);const o=f(e,["deployedModels"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>zF(s,p))),m(t,["endpoints"],h)}const c=f(e,["labels"]);c!=null&&m(t,["labels"],c);const l=f(e,["_self"]);l!=null&&m(t,["tunedModelInfo"],HF(s,l));const u=f(e,["defaultCheckpointId"]);u!=null&&m(t,["defaultCheckpointId"],u);const d=f(e,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(p=>GF(s,p))),m(t,["checkpoints"],h)}return t}function $F(s,e){const t={},n=f(e,["nextPageToken"]);n!=null&&m(t,["nextPageToken"],n);const i=f(e,["_self"]);if(i!=null){let r=K2(s,i);Array.isArray(r)&&(r=r.map(a=>Pg(s,a))),m(t,["models"],r)}return t}function XF(){return{}}function YF(s,e){const t={},n=f(e,["totalTokens"]);return n!=null&&m(t,["totalTokens"],n),t}function KF(s,e){const t={},n=f(e,["tokensInfo"]);return n!=null&&m(t,["tokensInfo"],n),t}function ZF(s,e){const t={},n=f(e,["gcsUri"]);n!=null&&m(t,["uri"],n);const i=f(e,["bytesBase64Encoded"]);i!=null&&m(t,["videoBytes"],vs(s,i));const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function JF(s,e){const t={},n=f(e,["_self"]);return n!=null&&m(t,["video"],ZF(s,n)),t}function QF(s,e){const t={},n=f(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>JF(s,o))),m(t,["generatedVideos"],a)}const i=f(e,["raiMediaFilteredCount"]);i!=null&&m(t,["raiMediaFilteredCount"],i);const r=f(e,["raiMediaFilteredReasons"]);return r!=null&&m(t,["raiMediaFilteredReasons"],r),t}function jF(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const i=f(e,["metadata"]);i!=null&&m(t,["metadata"],i);const r=f(e,["done"]);r!=null&&m(t,["done"],r);const a=f(e,["error"]);a!=null&&m(t,["error"],a);const o=f(e,["response"]);return o!=null&&m(t,["response"],QF(s,o)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eI="Content-Type",tI="X-Server-Timeout",nI="User-Agent",Lg="x-goog-api-client",iI="1.1.0",rI=`google-genai-sdk/${iI}`,sI="v1beta1",aI="v1beta",Vb=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class ax extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class Bg extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class oI{constructor(e){var t,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:sI,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:aI,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&n.push(e.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,n){const i=[this.getRequestUrlInternal(t)];return n&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,n);if(e.queryParams)for(const[a,o]of Object.entries(e.queryParams))i.searchParams.append(a,String(o));let r={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=e.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,t,e.abortSignal),this.unaryApiCall(i,r,e.httpMethod)}patchHttpOptions(e,t){const n=JSON.parse(JSON.stringify(e));for(const[i,r]of Object.entries(t))typeof r=="object"?n[i]=Object.assign(Object.assign({},n[i]),r):r!==void 0&&(n[i]=r);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,n);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let r={};return r.body=e.body,r=await this.includeExtraHttpOptionsToRequestInit(r,t,e.abortSignal),this.streamApiCall(i,r,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n){if(t&&t.timeout||n){const i=new AbortController,r=i.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>i.abort(),t.timeout),n&&n.addEventListener("abort",()=>{i.abort()}),e.signal=r}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async i=>(await zb(i),new Ig(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async i=>(await zb(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var t;return ul(this,arguments,function*(){const i=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),r=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:o,value:c}=yield At(i.read());if(o){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const l=r.decode(c);try{const d=JSON.parse(l);if("error"in d){const h=JSON.parse(JSON.stringify(d.error)),p=h.status,y=h.code,v=`got status: ${p}. ${JSON.stringify(d)}`;if(y>=400&&y<500)throw new ax(v);if(y>=500&&y<600)throw new Bg(v)}}catch(d){const h=d;if(h.name==="ClientError"||h.name==="ServerError")throw d}a+=l;let u=a.match(Vb);for(;u;){const d=u[1];try{const h=new Response(d,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield At(new Ig(h)),a=a.slice(u[0].length),u=a.match(Vb)}catch(h){throw new Error(`exception parsing stream chunk ${d}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(n=>{throw new Error(`exception ${n} sending request`)})}getDefaultHeaders(){const e={},t=rI+" "+this.clientOptions.userAgentExtra;return e[nI]=t,e[Lg]=t,e[eI]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[n,i]of Object.entries(e.headers))t.append(n,i);e.timeout&&e.timeout>0&&t.append(tI,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var n;const i={};t!=null&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const r=this.clientOptions.uploader,a=await r.stat(e);i.sizeBytes=String(a.size);const o=(n=t==null?void 0:t.mimeType)!==null&&n!==void 0?n:a.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const c=await this.fetchUploadUrl(i,t);return r.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var n;let i={};t!=null&&t.httpOptions?i=t.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const r={file:e},a=await this.request({path:We("upload/v1beta/files",r._url),body:JSON.stringify(r),httpMethod:"POST",httpOptions:i});if(!a||!(a!=null&&a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const o=(n=a==null?void 0:a.headers)===null||n===void 0?void 0:n["x-goog-upload-url"];if(o===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return o}}async function zb(s){var e;if(s===void 0)throw new Bg("response is undefined");if(!s.ok){const t=s.status,n=s.statusText;let i;!((e=s.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await s.json():i={error:{message:await s.text(),code:s.status,status:s.statusText}};const r=`got status: ${t} ${n}. ${JSON.stringify(i)}`;throw t>=400&&t<500?new ax(r):t>=500&&t<600?new Bg(r):new Error(r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hb="mcp_used/unknown";function ox(s){for(const e of s)if(cy(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function cx(s){var e;const t=(e=s[Lg])!==null&&e!==void 0?e:"";t.includes(Hb)||(s[Lg]=(t+` ${Hb}`).trimStart())}function cI(s){var e,t,n;return(n=(t=(e=s.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>cy(i)))!==null&&n!==void 0?n:!1}function lI(s){var e,t,n;return(n=(t=(e=s.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>!cy(i)))!==null&&n!==void 0?n:!1}function cy(s){return s!==null&&typeof s=="object"&&"tool"in s&&"callTool"in s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function uI(s,e,t){const n=new uC;let i;t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data);const r=CS(s,i);Object.assign(n,r),e(n)}class dI{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){var t,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),a=pI(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${r}.GenerativeService.BidiGenerateMusic?key=${o}`;let l=()=>{};const u=new Promise(D=>{l=D}),d=e.callbacks,h=function(){l({})},p=this.apiClient,y={onopen:h,onmessage:D=>{uI(p,d.onmessage,D)},onerror:(t=d==null?void 0:d.onerror)!==null&&t!==void 0?t:function(D){},onclose:(n=d==null?void 0:d.onclose)!==null&&n!==void 0?n:function(D){}},v=this.webSocketFactory.create(c,fI(a),y);v.connect(),await u;const b=_t(this.apiClient,e.model),x=ex(this.apiClient,{model:b}),_=Mg(this.apiClient,{setup:x});return v.send(JSON.stringify(_)),new hI(v,this.apiClient)}}class hI{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=OE(this.apiClient,e),n=tx(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=WE(this.apiClient,e),n=Mg(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const t=Mg(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(fo.PLAY)}pause(){this.sendPlaybackControl(fo.PAUSE)}stop(){this.sendPlaybackControl(fo.STOP)}resetContext(){this.sendPlaybackControl(fo.RESET_CONTEXT)}close(){this.conn.close()}}function fI(s){const e={};return s.forEach((t,n)=>{e[n]=t}),e}function pI(s){const e=new Headers;for(const[t,n]of Object.entries(s))e.append(t,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gI="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function mI(s,e,t){const n=new lC;let i;if(t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data),s.isVertexAI()){const r=mS(s,i);Object.assign(n,r)}else{const r=gS(s,i);Object.assign(n,r)}e(n)}class yI{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new dI(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,n,i,r,a,o;const c=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion();let u;const d=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&ox(e.config.tools)&&cx(d);const h=_I(d);if(this.apiClient.isVertexAI())u=`${c}/ws/google.cloud.aiplatform.${l}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const U=this.apiClient.getApiKey();u=`${c}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateContent?key=${U}`}let p=()=>{};const y=new Promise(U=>{p=U}),v=e.callbacks,b=function(){var U;(U=v==null?void 0:v.onopen)===null||U===void 0||U.call(v),p({})},x=this.apiClient,_={onopen:b,onmessage:U=>{mI(x,v.onmessage,U)},onerror:(t=v==null?void 0:v.onerror)!==null&&t!==void 0?t:function(U){},onclose:(n=v==null?void 0:v.onclose)!==null&&n!==void 0?n:function(U){}},D=this.webSocketFactory.create(u,xI(h),_);D.connect(),await y;let A=_t(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&A.startsWith("publishers/")){const U=this.apiClient.getProject(),P=this.apiClient.getLocation();A=`projects/${U}/locations/${P}/`+A}let T={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Lh.AUDIO]}:e.config.responseModalities=[Lh.AUDIO]),!((r=e.config)===null||r===void 0)&&r.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const w=(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[],F=[];for(const U of w)if(this.isCallableTool(U)){const P=U;F.push(await P.tool())}else F.push(U);F.length>0&&(e.config.tools=F);const I={model:A,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?T=RE(this.apiClient,I):T=IE(this.apiClient,I),delete T.config,D.send(JSON.stringify(T)),new bI(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const vI={turnComplete:!0};class bI{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let n=[];try{n=gi(e,t.turns),e.isVertexAI()?n=n.map(i=>Ac(e,i)):n=n.map(i=>_f(e,i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:n,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?n=t.functionResponses:n=[t.functionResponses],n.length===0)throw new Error("functionResponses is required.");for(const r of n){if(typeof r!="object"||r===null||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error(gI)}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},vI),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:BE(this.apiClient,e)}:t={realtimeInput:LE(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function xI(s){const e={};return s.forEach((t,n)=>{e[n]=t}),e}function _I(s){const e=new Headers;for(const[t,n]of Object.entries(s))e.append(t,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gb=10;function $b(s){var e,t,n;if(!((e=s==null?void 0:s.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(t=s==null?void 0:s.tools)!==null&&t!==void 0?t:[])if(Pd(a)){i=!0;break}if(!i)return!0;const r=(n=s==null?void 0:s.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls;return r&&(r<0||!Number.isInteger(r))||r==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",r),!0):!1}function Pd(s){return"callTool"in s&&typeof s.callTool=="function"}function Xb(s){var e;return!(!((e=s==null?void 0:s.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DI extends ed{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var n,i,r,a,o;const c=await this.processParamsForMcpUsage(t);if(!cI(t)||$b(t.config))return await this.generateContentInternal(c);if(lI(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let l,u;const d=gi(this.apiClient,c.contents),h=(r=(i=(n=c.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:Gb;let p=0;for(;p<h&&(l=await this.generateContentInternal(c),!(!l.functionCalls||l.functionCalls.length===0));){const y=l.candidates[0].content,v=[];for(const b of(o=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(Pd(b)){const _=await b.callTool(l.functionCalls);v.push(..._)}p++,u={role:"user",parts:v},c.contents=gi(this.apiClient,c.contents),c.contents.push(y),c.contents.push(u),Xb(c.config)&&(d.push(y),d.push(u))}return Xb(c.config)&&(l.automaticFunctionCallingHistory=d),l},this.generateContentStream=async t=>{if($b(t.config)){const n=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(n)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(n=>{var i;let r;const a=[];if(n!=null&&n.generatedImages)for(const c of n.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?r=c==null?void 0:c.safetyAttributes:a.push(c);let o;return r?o={generatedImages:a,positivePromptSafetyAttributes:r}:o={generatedImages:a},o}),this.list=async t=>{var n;const a={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((n=a.config)===null||n===void 0)&&n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new xf(bc.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(a),a)},this.editImage=async t=>{const n={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(n.referenceImages=t.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async t=>{let n={numberOfImages:1,mode:"upscale"};t.config&&(n=Object.assign(Object.assign({},n),t.config));const i={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:n};return await this.upscaleImageInternal(i)}}async processParamsForMcpUsage(e){var t,n,i;const r=(t=e.config)===null||t===void 0?void 0:t.tools;if(!r)return e;const a=await Promise.all(r.map(async c=>Pd(c)?await c.tool():c)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(o.config.tools=a,e.config&&e.config.tools&&ox(e.config.tools)){const c=(i=(n=e.config.httpOptions)===null||n===void 0?void 0:n.headers)!==null&&i!==void 0?i:{};let l=Object.assign({},c);Object.keys(l).length===0&&(l=this.apiClient.getDefaultHeaders()),cx(l),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:l})}return o}async initAfcToolsMap(e){var t,n,i;const r=new Map;for(const a of(n=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&n!==void 0?n:[])if(Pd(a)){const o=a,c=await o.tool();for(const l of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!l.name)throw new Error("Function declaration name is required.");if(r.has(l.name))throw new Error(`Duplicate tool declaration name: ${l.name}`);r.set(l.name,o)}}return r}async processAfcStream(e){var t,n,i;const r=(i=(n=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls)!==null&&i!==void 0?i:Gb;let a=!1,o=0;const c=await this.initAfcToolsMap(e);return function(l,u,d){var h,p;return ul(this,arguments,function*(){for(var y,v,b,x;o<r;){a&&(o++,a=!1);const T=yield At(l.processParamsForMcpUsage(d)),w=yield At(l.generateContentStreamInternal(T)),F=[],I=[];try{for(var _=!0,D=(v=void 0,Nd(w)),A;A=yield At(D.next()),y=A.done,!y;_=!0){x=A.value,_=!1;const U=x;if(yield yield At(U),U.candidates&&(!((h=U.candidates[0])===null||h===void 0)&&h.content)){I.push(U.candidates[0].content);for(const P of(p=U.candidates[0].content.parts)!==null&&p!==void 0?p:[])if(o<r&&P.functionCall){if(!P.functionCall.name)throw new Error("Function call name was not returned by the model.");if(u.has(P.functionCall.name)){const H=yield At(u.get(P.functionCall.name).callTool([P.functionCall]));F.push(...H)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${u.keys()}, mising tool: ${P.functionCall.name}`)}}}}catch(U){v={error:U}}finally{try{!_&&!y&&(b=D.return)&&(yield At(b.call(D)))}finally{if(v)throw v.error}}if(F.length>0){a=!0;const U=new Sc;U.candidates=[{content:{role:"user",parts:F}}],yield yield At(U);const P=[];P.push(...I),P.push({role:"user",parts:F});const H=gi(l.apiClient,d.contents).concat(P);d.contents=H}else break}})}(this,c,e)}async generateContentInternal(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=Ob(this.apiClient,e);return o=We("{model}:generateContent",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>{const d=qb(this.apiClient,u),h=new Sc;return Object.assign(h,d),h})}else{const l=Bb(this.apiClient,e);return o=We("{model}:generateContent",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>{const d=Wb(this.apiClient,u),h=new Sc;return Object.assign(h,d),h})}}async generateContentStreamInternal(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=Ob(this.apiClient,e);o=We("{model}:streamGenerateContent?alt=sse",l._url),c=l._query,delete l.config,delete l._url,delete l._query;const u=this.apiClient;return a=u.requestStream({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}),a.then(function(d){return ul(this,arguments,function*(){var h,p,y,v;try{for(var b=!0,x=Nd(d),_;_=yield At(x.next()),h=_.done,!h;b=!0){v=_.value,b=!1;const A=qb(u,yield At(v.json())),T=new Sc;Object.assign(T,A),yield yield At(T)}}catch(D){p={error:D}}finally{try{!b&&!h&&(y=x.return)&&(yield At(y.call(x)))}finally{if(p)throw p.error}}})})}else{const l=Bb(this.apiClient,e);o=We("{model}:streamGenerateContent?alt=sse",l._url),c=l._query,delete l.config,delete l._url,delete l._query;const u=this.apiClient;return a=u.requestStream({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(d){return ul(this,arguments,function*(){var h,p,y,v;try{for(var b=!0,x=Nd(d),_;_=yield At(x.next()),h=_.done,!h;b=!0){v=_.value,b=!1;const A=Wb(u,yield At(v.json())),T=new Sc;Object.assign(T,A),yield yield At(T)}}catch(D){p={error:D}}finally{try{!b&&!h&&(y=x.return)&&(yield At(y.call(x)))}finally{if(p)throw p.error}}})})}}async embedContent(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=PU(this.apiClient,e);return o=We("{model}:predict",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>{const d=BF(this.apiClient,u),h=new vb;return Object.assign(h,d),h})}else{const l=ZS(this.apiClient,e);return o=We("{model}:batchEmbedContents",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>{const d=mF(this.apiClient,u),h=new vb;return Object.assign(h,d),h})}}async generateImagesInternal(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=BU(this.apiClient,e);return o=We("{model}:predict",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>{const d=WF(this.apiClient,u),h=new bb;return Object.assign(h,d),h})}else{const l=QS(this.apiClient,e);return o=We("{model}:predict",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>{const d=bF(this.apiClient,u),h=new bb;return Object.assign(h,d),h})}}async editImageInternal(e){var t,n;let i,r="",a={};if(this.apiClient.isVertexAI()){const o=GU(this.apiClient,e);return r=We("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const l=qF(this.apiClient,c),u=new iC;return Object.assign(u,l),u})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,n;let i,r="",a={};if(this.apiClient.isVertexAI()){const o=XU(this.apiClient,e);return r=We("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const l=VF(this.apiClient,c),u=new rC;return Object.assign(u,l),u})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=YU(this.apiClient,e);return o=We("{name}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>Pg(this.apiClient,u))}else{const l=jS(this.apiClient,e);return o=We("{name}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>Ng(this.apiClient,u))}}async listInternal(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=ZU(this.apiClient,e);return o=We("{models_url}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>{const d=$F(this.apiClient,u),h=new xb;return Object.assign(h,d),h})}else{const l=tU(this.apiClient,e);return o=We("{models_url}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>{const d=_F(this.apiClient,u),h=new xb;return Object.assign(h,d),h})}}async update(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=QU(this.apiClient,e);return o=We("{model}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>Pg(this.apiClient,u))}else{const l=iU(this.apiClient,e);return o=We("{name}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>Ng(this.apiClient,u))}}async delete(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=jU(this.apiClient,e);return o=We("{name}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(()=>{const u=XF(),d=new _b;return Object.assign(d,u),d})}else{const l=rU(this.apiClient,e);return o=We("{name}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(()=>{const u=DF(),d=new _b;return Object.assign(d,u),d})}}async countTokens(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=tF(this.apiClient,e);return o=We("{model}:countTokens",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>{const d=YF(this.apiClient,u),h=new Db;return Object.assign(h,d),h})}else{const l=aU(this.apiClient,e);return o=We("{model}:countTokens",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>{const d=TF(this.apiClient,u),h=new Db;return Object.assign(h,d),h})}}async computeTokens(e){var t,n;let i,r="",a={};if(this.apiClient.isVertexAI()){const o=nF(this.apiClient,e);return r=We("{model}:computeTokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const l=KF(this.apiClient,c),u=new sC;return Object.assign(u,l),u})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=rF(this.apiClient,e);return o=We("{model}:predictLongRunning",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>jF(this.apiClient,u))}else{const l=lU(this.apiClient,e);return o=We("{model}:predictLongRunning",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>EF(this.apiClient,u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TI(s,e){const t={},n=f(e,["operationName"]);n!=null&&m(t,["_url","operationName"],n);const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function AI(s,e){const t={},n=f(e,["operationName"]);n!=null&&m(t,["_url","operationName"],n);const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function CI(s,e){const t={},n=f(e,["operationName"]);n!=null&&m(t,["operationName"],n);const i=f(e,["resourceName"]);i!=null&&m(t,["_url","resourceName"],i);const r=f(e,["config"]);return r!=null&&m(t,["config"],r),t}function wI(s,e){const t={},n=f(e,["video","uri"]);n!=null&&m(t,["uri"],n);const i=f(e,["video","encodedVideo"]);i!=null&&m(t,["videoBytes"],vs(s,i));const r=f(e,["encoding"]);return r!=null&&m(t,["mimeType"],r),t}function EI(s,e){const t={},n=f(e,["_self"]);return n!=null&&m(t,["video"],wI(s,n)),t}function SI(s,e){const t={},n=f(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>EI(s,o))),m(t,["generatedVideos"],a)}const i=f(e,["raiMediaFilteredCount"]);i!=null&&m(t,["raiMediaFilteredCount"],i);const r=f(e,["raiMediaFilteredReasons"]);return r!=null&&m(t,["raiMediaFilteredReasons"],r),t}function UI(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const i=f(e,["metadata"]);i!=null&&m(t,["metadata"],i);const r=f(e,["done"]);r!=null&&m(t,["done"],r);const a=f(e,["error"]);a!=null&&m(t,["error"],a);const o=f(e,["response","generateVideoResponse"]);return o!=null&&m(t,["response"],SI(s,o)),t}function FI(s,e){const t={},n=f(e,["gcsUri"]);n!=null&&m(t,["uri"],n);const i=f(e,["bytesBase64Encoded"]);i!=null&&m(t,["videoBytes"],vs(s,i));const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function II(s,e){const t={},n=f(e,["_self"]);return n!=null&&m(t,["video"],FI(s,n)),t}function RI(s,e){const t={},n=f(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>II(s,o))),m(t,["generatedVideos"],a)}const i=f(e,["raiMediaFilteredCount"]);i!=null&&m(t,["raiMediaFilteredCount"],i);const r=f(e,["raiMediaFilteredReasons"]);return r!=null&&m(t,["raiMediaFilteredReasons"],r),t}function Yb(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const i=f(e,["metadata"]);i!=null&&m(t,["metadata"],i);const r=f(e,["done"]);r!=null&&m(t,["done"],r);const a=f(e,["error"]);a!=null&&m(t,["error"],a);const o=f(e,["response"]);return o!=null&&m(t,["response"],RI(s,o)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kI extends ed{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,n=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let r;return n&&"httpOptions"in n&&(r=n.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:r}})}else return this.getVideosOperationInternal({operationName:t.name,config:n})}async getVideosOperationInternal(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=AI(this.apiClient,e);return o=We("{operationName}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>Yb(this.apiClient,u))}else{const l=TI(this.apiClient,e);return o=We("{operationName}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>UI(this.apiClient,u))}}async fetchPredictVideosOperationInternal(e){var t,n;let i,r="",a={};if(this.apiClient.isVertexAI()){const o=CI(this.apiClient,e);return r=We("{resourceName}:fetchPredictOperation",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>Yb(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MI(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["_url","name"],n);const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function NI(s,e,t){const n={},i=f(e,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const r=f(e,["pageToken"]);t!==void 0&&r!=null&&m(t,["_query","pageToken"],r);const a=f(e,["filter"]);return t!==void 0&&a!=null&&m(t,["_query","filter"],a),n}function PI(s,e){const t={},n=f(e,["config"]);return n!=null&&m(t,["config"],NI(s,n,t)),t}function LI(s,e){const t={},n=f(e,["textInput"]);n!=null&&m(t,["textInput"],n);const i=f(e,["output"]);return i!=null&&m(t,["output"],i),t}function BI(s,e){const t={};if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(e,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>LI(s,r))),m(t,["examples","examples"],i)}return t}function OI(s,e,t){const n={};if(f(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=f(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&m(t,["displayName"],i),f(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=f(e,["epochCount"]);t!==void 0&&r!=null&&m(t,["tuningTask","hyperparameters","epochCount"],r);const a=f(e,["learningRateMultiplier"]);if(a!=null&&m(n,["tuningTask","hyperparameters","learningRateMultiplier"],a),f(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=f(e,["batchSize"]);t!==void 0&&o!=null&&m(t,["tuningTask","hyperparameters","batchSize"],o);const c=f(e,["learningRate"]);return t!==void 0&&c!=null&&m(t,["tuningTask","hyperparameters","learningRate"],c),n}function WI(s,e){const t={},n=f(e,["baseModel"]);n!=null&&m(t,["baseModel"],n);const i=f(e,["trainingDataset"]);i!=null&&m(t,["tuningTask","trainingData"],BI(s,i));const r=f(e,["config"]);return r!=null&&m(t,["config"],OI(s,r,t)),t}function qI(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["_url","name"],n);const i=f(e,["config"]);return i!=null&&m(t,["config"],i),t}function VI(s,e,t){const n={},i=f(e,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const r=f(e,["pageToken"]);t!==void 0&&r!=null&&m(t,["_query","pageToken"],r);const a=f(e,["filter"]);return t!==void 0&&a!=null&&m(t,["_query","filter"],a),n}function zI(s,e){const t={},n=f(e,["config"]);return n!=null&&m(t,["config"],VI(s,n,t)),t}function HI(s,e,t){const n={},i=f(e,["gcsUri"]);if(t!==void 0&&i!=null&&m(t,["supervisedTuningSpec","trainingDatasetUri"],i),f(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function GI(s,e){const t={},n=f(e,["gcsUri"]);return n!=null&&m(t,["validationDatasetUri"],n),t}function $I(s,e,t){const n={},i=f(e,["validationDataset"]);t!==void 0&&i!=null&&m(t,["supervisedTuningSpec"],GI(s,i));const r=f(e,["tunedModelDisplayName"]);t!==void 0&&r!=null&&m(t,["tunedModelDisplayName"],r);const a=f(e,["description"]);t!==void 0&&a!=null&&m(t,["description"],a);const o=f(e,["epochCount"]);t!==void 0&&o!=null&&m(t,["supervisedTuningSpec","hyperParameters","epochCount"],o);const c=f(e,["learningRateMultiplier"]);t!==void 0&&c!=null&&m(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],c);const l=f(e,["exportLastCheckpointOnly"]);t!==void 0&&l!=null&&m(t,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const u=f(e,["adapterSize"]);if(t!==void 0&&u!=null&&m(t,["supervisedTuningSpec","hyperParameters","adapterSize"],u),f(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function XI(s,e){const t={},n=f(e,["baseModel"]);n!=null&&m(t,["baseModel"],n);const i=f(e,["trainingDataset"]);i!=null&&m(t,["supervisedTuningSpec","trainingDatasetUri"],HI(s,i,t));const r=f(e,["config"]);return r!=null&&m(t,["config"],$I(s,r,t)),t}function YI(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["model"],n);const i=f(e,["name"]);return i!=null&&m(t,["endpoint"],i),t}function lx(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const i=f(e,["state"]);i!=null&&m(t,["state"],$2(s,i));const r=f(e,["createTime"]);r!=null&&m(t,["createTime"],r);const a=f(e,["tuningTask","startTime"]);a!=null&&m(t,["startTime"],a);const o=f(e,["tuningTask","completeTime"]);o!=null&&m(t,["endTime"],o);const c=f(e,["updateTime"]);c!=null&&m(t,["updateTime"],c);const l=f(e,["description"]);l!=null&&m(t,["description"],l);const u=f(e,["baseModel"]);u!=null&&m(t,["baseModel"],u);const d=f(e,["_self"]);d!=null&&m(t,["tunedModel"],YI(s,d));const h=f(e,["distillationSpec"]);h!=null&&m(t,["distillationSpec"],h);const p=f(e,["experiment"]);p!=null&&m(t,["experiment"],p);const y=f(e,["labels"]);y!=null&&m(t,["labels"],y);const v=f(e,["pipelineJob"]);v!=null&&m(t,["pipelineJob"],v);const b=f(e,["serviceAccount"]);b!=null&&m(t,["serviceAccount"],b);const x=f(e,["tunedModelDisplayName"]);return x!=null&&m(t,["tunedModelDisplayName"],x),t}function KI(s,e){const t={},n=f(e,["nextPageToken"]);n!=null&&m(t,["nextPageToken"],n);const i=f(e,["tunedModels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>lx(s,a))),m(t,["tuningJobs"],r)}return t}function ZI(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const i=f(e,["metadata"]);i!=null&&m(t,["metadata"],i);const r=f(e,["done"]);r!=null&&m(t,["done"],r);const a=f(e,["error"]);return a!=null&&m(t,["error"],a),t}function JI(s,e){const t={},n=f(e,["checkpointId"]);n!=null&&m(t,["checkpointId"],n);const i=f(e,["epoch"]);i!=null&&m(t,["epoch"],i);const r=f(e,["step"]);r!=null&&m(t,["step"],r);const a=f(e,["endpoint"]);return a!=null&&m(t,["endpoint"],a),t}function QI(s,e){const t={},n=f(e,["model"]);n!=null&&m(t,["model"],n);const i=f(e,["endpoint"]);i!=null&&m(t,["endpoint"],i);const r=f(e,["checkpoints"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>JI(s,o))),m(t,["checkpoints"],a)}return t}function Og(s,e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const i=f(e,["state"]);i!=null&&m(t,["state"],$2(s,i));const r=f(e,["createTime"]);r!=null&&m(t,["createTime"],r);const a=f(e,["startTime"]);a!=null&&m(t,["startTime"],a);const o=f(e,["endTime"]);o!=null&&m(t,["endTime"],o);const c=f(e,["updateTime"]);c!=null&&m(t,["updateTime"],c);const l=f(e,["error"]);l!=null&&m(t,["error"],l);const u=f(e,["description"]);u!=null&&m(t,["description"],u);const d=f(e,["baseModel"]);d!=null&&m(t,["baseModel"],d);const h=f(e,["tunedModel"]);h!=null&&m(t,["tunedModel"],QI(s,h));const p=f(e,["supervisedTuningSpec"]);p!=null&&m(t,["supervisedTuningSpec"],p);const y=f(e,["tuningDataStats"]);y!=null&&m(t,["tuningDataStats"],y);const v=f(e,["encryptionSpec"]);v!=null&&m(t,["encryptionSpec"],v);const b=f(e,["partnerModelTuningSpec"]);b!=null&&m(t,["partnerModelTuningSpec"],b);const x=f(e,["distillationSpec"]);x!=null&&m(t,["distillationSpec"],x);const _=f(e,["experiment"]);_!=null&&m(t,["experiment"],_);const D=f(e,["labels"]);D!=null&&m(t,["labels"],D);const A=f(e,["pipelineJob"]);A!=null&&m(t,["pipelineJob"],A);const T=f(e,["serviceAccount"]);T!=null&&m(t,["serviceAccount"],T);const w=f(e,["tunedModelDisplayName"]);return w!=null&&m(t,["tunedModelDisplayName"],w),t}function jI(s,e){const t={},n=f(e,["nextPageToken"]);n!=null&&m(t,["nextPageToken"],n);const i=f(e,["tuningJobs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>Og(s,a))),m(t,["tuningJobs"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eR extends ed{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new xf(bc.PAGED_ITEM_TUNING_JOBS,n=>this.listInternal(n),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const n=await this.tuneMldevInternal(t);let i="";return n.metadata!==void 0&&n.metadata.tunedModel!==void 0?i=n.metadata.tunedModel:n.name!==void 0&&n.name.includes("/operations/")&&(i=n.name.split("/operations/")[0]),{name:i,state:Fg.JOB_STATE_QUEUED}}}}async getInternal(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=qI(this.apiClient,e);return o=We("{name}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>Og(this.apiClient,u))}else{const l=MI(this.apiClient,e);return o=We("{name}",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>lx(this.apiClient,u))}}async listInternal(e){var t,n,i,r;let a,o="",c={};if(this.apiClient.isVertexAI()){const l=zI(this.apiClient,e);return o=We("tuningJobs",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>{const d=jI(this.apiClient,u),h=new Tb;return Object.assign(h,d),h})}else{const l=PI(this.apiClient,e);return o=We("tunedModels",l._url),c=l._query,delete l.config,delete l._url,delete l._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>{const d=KI(this.apiClient,u),h=new Tb;return Object.assign(h,d),h})}}async tuneInternal(e){var t,n;let i,r="",a={};if(this.apiClient.isVertexAI()){const o=XI(this.apiClient,e);return r=We("tuningJobs",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>Og(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,n;let i,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=WI(this.apiClient,e);return r=We("tunedModels",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>ZI(this.apiClient,c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tR{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const nR=1024*1024*8,iR=3,rR=1e3,sR=2,sp="x-goog-upload-status";async function aR(s,e,t){var n,i,r;let a=0,o=0,c=new Ig(new Response),l="upload";for(a=s.size;o<a;){const d=Math.min(nR,a-o),h=s.slice(o,o+d);o+d>=a&&(l+=", finalize");let p=0,y=rR;for(;p<iR&&(c=await t.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(o),"Content-Length":String(d)}}}),!(!((n=c==null?void 0:c.headers)===null||n===void 0)&&n[sp]));)p++,await cR(y),y=y*sR;if(o+=d,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[sp])!=="active")break;if(a<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const u=await(c==null?void 0:c.json());if(((r=c==null?void 0:c.headers)===null||r===void 0?void 0:r[sp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function oR(s){return{size:s.size,type:s.type}}function cR(s){return new Promise(e=>setTimeout(e,s))}class lR{async upload(e,t,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await aR(e,t,n)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await oR(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uR{create(e,t,n){return new dR(e,t,n)}}class dR{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kb="x-goog-api-key";class hR{constructor(e){this.apiKey=e}async addAuthHeaders(e){e.get(Kb)===null&&e.append(Kb,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fR="gl-node/";class pR{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const n=nC(e,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion;const i=new hR(this.apiKey);this.apiClient=new oI({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:fR+"web",uploader:new lR,downloader:new tR}),this.models=new DI(this.apiClient),this.live=new yI(this.apiClient,i,new uR),this.chats=new Tw(this.models,this.apiClient),this.caches=new xw(this.apiClient),this.files=new Pw(this.apiClient),this.operations=new kI(this.apiClient),this.tunings=new eR(this.apiClient)}}const ux=s=>{if(!s||typeof s!="string")return!1;const e=[/(?:Question|Câu)\s*\d+\s*[:)]/i,/^\s*\d+\s*[.)]\s*\S+/m,/\b(?:Question|Câu)\s*\d+\s*[:)]/i],t=[/[A-D]\s*\.\s*\S+/i,/[A-D]\s*\)\s*\S+/i,/[A]\s*[.)].*?[B]\s*[.)]/is,/[B]\s*[.)].*?[C]\s*[.)]/is,/[C]\s*[.)].*?[D]\s*[.)]/is],n=e.some(a=>a.test(s)),r=t.filter(a=>a.test(s)).length>=2;return n&&r};let ap=null;const dx=async()=>{if(!ap){let s=await gA.getApiKey("GEMINI_API_KEY");if(s||(s=null,nt.warn("Using fallback API key from environment","GeminiServiceInit")),typeof s!="string"||!s){const e="Google Gemini API Key not available. Please configure it in Supabase or environment variables. Quiz generation may fail.";throw nt.error(e,"GeminiServiceInit"),new Error(e)}nt.info("Gemini AI SDK Initializing with secure API Key.","GeminiServiceInit"),ap=new pR({apiKey:s})}return ap},gR=s=>{let e=s.trim();const n=/^```(?:json)?\s*\n?(.*?)\n?\s*```$/s.exec(e);n&&n[1]&&(e=n[1].trim()),e=e.replace(/侬/g,""),e=e.replace(/ܘ/g,""),e=e.replace(/对着/g,""),e=e.replace(/"\s*```\s*([\]\},])/g,'"$1'),e=e.replace(/"\s*```\s*(,"[^"]+")/g,'"$1');try{const i='("[^"\\\\]*(?:\\\\.[^"\\\\]*)*")\\s*\\n\\s*([a-zA-Z_][a-zA-Z0-9_]*(?:\\s+[a-zA-Z_][a-zA-Z0-9_]*)*\\s*)"',r=new RegExp(i,"g");e=e.replace(r,(a,o,c)=>`${o.slice(0,-1)} ${c.trim()}"`)}catch(i){nt.warn("Error during string newline fixing regex replacement.","GeminiServiceParse",void 0,i)}e=e.replace(/,\s*([\}\]])/g,"$1");try{e=e.replace(/\\(?![bfnrtv"\\/]|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{2})/g,"\\\\")}catch(i){nt.warn("Error during bad escape fixing regex replacement.","GeminiServiceParse",void 0,i)}try{return JSON.parse(e)}catch(i){nt.error("Primary JSON.parse failed for Gemini response.","GeminiServiceParse",{errorMsg:i.message,cleanedJsonPreview:e.substring(0,200),originalTextPreview:s.substring(0,200)},i);const r=e.indexOf("["),a=e.indexOf("{");let o=-1;if(r!==-1&&(a===-1||r<a)?o=r:a!==-1&&(o=a),o!==-1){let c=0,l=0,u=-1,d=!1;const h=e[o];for(let p=o;p<e.length;p++){const y=e[p];if(y==='"'&&(p===0||e[p-1]!=="\\"||e[p-1]==="\\"&&p>1&&e[p-2]==="\\")&&(d=!d),!d){if(y==="{"?l++:y==="}"?l--:y==="["?c++:y==="]"&&c--,h==="{"&&l===0&&c===0&&p>=o){u=p;break}if(h==="["&&c===0&&l===0&&p>=o){u=p;break}}}if(u!==-1)try{let p=e.substring(o,u+1);return p=p.replace(/,\s*([\}\]])/g,"$1"),nt.info("Fallback parsing attempting with substring.","GeminiServiceParse",{substringPreview:p.substring(0,200)}),JSON.parse(p)}catch(p){nt.error("Fallback JSON.parse also failed (Gemini).","GeminiServiceParse",{errorMsg:p.message,substringAttempted:e.substring(o,u+1).substring(0,200)},p)}else nt.warn("Fallback parsing: Could not determine a valid JSON substring (Gemini).","GeminiServiceParse")}else nt.warn("Fallback parsing: No JSON start characters ([ or {) found in the response (Gemini).","GeminiServiceParse");return null}},mR=s=>`
CRITICAL JSON Output Schema (MUST follow strictly):
{
  "title": "string (creative and relevant quiz title in ${s}, or use original title if preserving a formatted quiz)",
  "questions": [
    {
      "id": "string (unique identifier, e.g., 'q1', 'q2'. Make this reasonably unique.)",
      "questionText": "string (If preserving a formatted quiz: use the EXACT original question text including any numbering like 'Question 1:' or 'Câu 1:'. Otherwise: create a clear, unambiguous multiple-choice question in ${s}. This string MUST be formatted using Markdown, including lists, bolding, and LaTeX for math like $inline_math$ or $$block_math$$ where appropriate. Do not truncate.)",
      "options": ["string (A JSON array of EXACTLY 4 distinct option strings. If preserving a formatted quiz: use the exact original options, preserving their order as A, B, C, D. Each option string MUST be formatted using Markdown. CRITICAL: Each option MUST be a complete, valid JSON string, properly quoted (e.g., \\"Option Text\\"), and NOT TRUNCATED. All string content, including special characters and internal quotes, MUST be correctly escaped (e.g., \\"Option with \\\\\\"quote\\\\\\" inside\\"). Options in the array MUST be separated by commas. ABSOLUTELY NO extraneous text, unquoted characters, or non-JSON content should appear.)",
      ],
      "correctAnswer": "string (If preserving a formatted quiz with provided answers: use the exact correct answer from the original. If preserving a quiz without answers: research to find the correct answer. Otherwise for new quizzes: select one option as the correct answer. Must exactly match one of the option strings in the options array.)",
      "explanation": "string (Detailed explanation in ${s}, formatted using Markdown. For preserved formatted quizzes: provide explanation if available in original, otherwise create a brief explanation of why the answer is correct. For new quizzes: ideally 2-4 concise sentences explaining why the answer is correct and why distractors are wrong. Refer to source content if possible. This field can ALSO include supplementary information as requested by custom user prompts. Ensure this string is valid JSON content, formatted with Markdown, and not truncated.)"
    }
  ]
}
`,yR=s=>`You are an expert quiz creator for students. Your role is to:

1. Create high-quality multiple choice questions based on the provided content.
2. Each question MUST have EXACTLY 4 multiple-choice options (A, B, C, D).
3. Format all content using Markdown syntax for better readability.
4. For each question, provide:
   - A clear question text formatted with proper Markdown
   - Exactly 4 answer options (no more, no less)
   - The correct answer clearly identified
   - A detailed explanation that teaches the concept
   
5. IMPORTANT ROLE - FORMATTED QUIZ HANDLING: 
   If the user uploads a properly formatted quiz file, you MUST:
   - Use that quiz EXACTLY as provided without creating new questions
   - Keep the exact format, content, and options from the original quiz
   - Preserve all question numbering and formatting (e.g., "Question 1:" or "Câu 1:")
   - Preserve all option letters (A, B, C, D) and their exact content
   - Example: If content has "Câu 1: 1+1=? A. 2 B. 3 C. 4 D. 5", output this exact question and options
   - If answers are provided (e.g., "Answer: A"), use them
   - If answers are not provided, research to add the correct answers
   - Add explanations for each answer if not already included

IMPORTANT ROLE - FORMAT DETECTION:
If the user provides a properly formatted multiple-choice quiz file, you MUST:
- Use that quiz exactly as provided without creating new questions
- Keep the format, content, and options exactly the same
- For example, if the provided content has questions like:
  "Question 1: 1+1=?
   A. 2
   B. 3
   C. 4
   D. 5"
  You MUST use these exact questions and options in your output
- If the correct answers are provided, use them
- If correct answers are not provided, research and provide the correct answers
- Never create new questions when a properly formatted quiz is detected

FORMAT REQUIREMENTS:
- Use Markdown formatting for better readability (e.g., **bold**, *italic*, lists).
- Use **bold text** for emphasis.
- Use bullet lists for organizing information.
- Use > blockquotes for important notes.
- For math formulas, use proper LaTeX syntax with $...$ for inline and $$...$$ for block equations.
- NUMBER each question clearly (this is for conceptual structure; the JSON output will have question objects in an array).

EXPECTED OUTPUT FORMAT (This describes the conceptual structure that your JSON output should represent for each question object within the main JSON):
### Question {number} (This conceptual title should be mapped to the 'questionText' field in the JSON)

{question text with proper markdown} (This is the content for 'questionText' field)

A. {option A} (These are for the 'options' array in JSON)
B. {option B}
C. {option C}
D. {option D}

Correct Answer: {letter} (The 'correctAnswer' field in JSON should contain the full text of the correct option string, not just the letter)

**Explanation:**
{detailed explanation using markdown} (This is for the 'explanation' field in JSON)

IMPORTANT REQUIREMENTS FOR JSON:
- Always create EXACTLY 4 options (A, B, C, D) for each multiple-choice question. These go into the 'options' array.
- Make sure incorrect options are plausible but clearly incorrect upon analysis.
- All answers must be mutually exclusive with no ambiguity.
- Ensure questions test understanding, not just memorization.
- The entire output MUST be a single, valid JSON object, adhering to the schema specified in the user prompt.
- All string values (questionText, options, correctAnswer, explanation) must be valid JSON strings, with internal quotes and special characters properly escaped (e.g., "Option with a \\"quote\\""). For LaTeX, backslashes must be doubled (e.g., \\\\sqrt{x}).
- Do not truncate any JSON strings or the overall JSON structure.

USER CUSTOMIZATION:
Review the 'USER-PROVIDED INSTRUCTIONS' block in the user prompt.
IF IT CONTAINS TEXT:
    - These instructions DEFINE the *content, style, tone, and focus* for quiz elements. They OVERRIDE general guidelines.
    - Integrate any requested supplementary information (e.g., IPA, etymology) into the 'explanation' field, alongside the core explanation.
ELSE (if empty or states no custom instructions):
    - Generate the quiz based on general guidelines and the source content, prioritizing core requirements.
`,vR=(s,e,t)=>{let n="";const i=[],r=yR(),a=e.language||"English",o=ry(a==="Vietnamese"?"vi":"en"),c={Easy:o("step2DifficultyEasy"),Medium:o("step2DifficultyMedium"),Hard:o("step2DifficultyHard"),"AI-Determined":o("step2DifficultyAIDetermined")},l=c[e.difficulty]||c["AI-Determined"],u=e.numQuestions>0?e.numQuestions.toString():o("step2NumQuestionsAIPlaceholder"),d=o("step1PasteTextLabel");let h=`You are an expert quiz creator. Your task is to create a high-quality quiz based on the provided content.

`;return h+=`${d}

`,h+=`${o("step2DifficultyLabel")}: ${l}
`,h+=`${o("step2NumQuestionsLabel")}: ${u}

`,h+=`${o("step2LanguageLabel")}: ${a}

`,h+=`REQUIREMENTS:
`,h+=`- Use Markdown formatting throughout for better readability.
`,h+=`- EVERY question MUST have EXACTLY 4 multiple choice options (A, B, C, D).
`,h+=`- Present questions in clear, concise language.
`,h+=`- Provide detailed explanations for answers that teach the concept.

`,h+=`FORMATTED QUIZ DETECTION:
`,h+=`- CRITICAL INSTRUCTION: If the content contains a properly formatted multiple-choice quiz (like "Question 1: 1+1=? A. 2 B. 3 C. 4 D. 5"), use that quiz EXACTLY as provided.
`,h+=`- DO NOT create new questions or modify existing ones if a formatted quiz is detected.
`,h+=`- Preserve the exact wording of all questions and options (A, B, C, D).
`,h+=`- Keep question numbering and formatting exactly as in the original (e.g., "Question 1:" or "Câu 1:").
`,h+=`- If correct answers are provided in the original (e.g., with "Answer: A" or similar), use them.
`,h+=`- If correct answers are not provided, research to determine and add the correct answers.
`,h+=`- Generate explanations only if they're not already included in the original quiz.

`,h+=`MARKDOWN FORMAT:
`,h+=`- Use ### for conceptual question titles (map to 'questionText' in JSON).
`,h+=`- Use **bold** for emphasis.
`,h+=`- Use proper lists for options conceptually (map to 'options' array in JSON).
`,h+=`- Format math with $...$ (inline) and $$...$$ (block).
`,h+=`- Use blockquotes > for important notes.

`,typeof s=="string"&&s==="Generate quiz from user prompt."&&e.customUserPrompt&&e.customUserPrompt.trim().length>0&&e.customUserPrompt?(h+=`USER-PROVIDED PROMPT (PRIMARY SOURCE):
${e.customUserPrompt.trim()}

`,h+=`This is a prompt-only request. The user has not provided any source content. Instead, generate a quiz based ENTIRELY on the user's prompt above.
`,h+=`Create appropriate multiple-choice questions that fulfill the requirements in the user's prompt.

`):e.customUserPrompt&&e.customUserPrompt.trim()?h+=`USER-PROVIDED INSTRUCTIONS (OVERRIDE general guidelines if conflicting, otherwise supplement):
${e.customUserPrompt.trim()}

`:h+=`USER-PROVIDED INSTRUCTIONS: No specific user instructions provided. Default quiz generation guidelines apply, strictly adhering to core requirements.

`,h+=`Based on the content below, and all prior instructions, create a quiz. The quiz title suggestion is: "${t||"AI Suggested Title"}".

`,h+=`STRICTLY ADHERE to this JSON Output Schema:
${mR(a)}

`,h+=`CONTENT TO PROCESS:
`,typeof s=="string"&&s==="Generate quiz from user prompt."&&e.customUserPrompt&&e.customUserPrompt.trim().length>0&&e.customUserPrompt?(n=`AI Prompt: ${e.customUserPrompt.substring(0,500)}`+(e.customUserPrompt.length>500?"...":""),i.push({text:h})):typeof s=="string"?(n=s.substring(0,500)+(s.length>500?"...":""),i.push({text:`${h}"""${s}"""`})):(n=`Image content (${s.mimeType})`,i.push({text:h}),i.push({inlineData:{data:s.base64Data,mimeType:s.mimeType}})),{requestContents:{parts:i},sourceContentSnippet:n,systemInstructionString:r}},bR=(s,e)=>{const t=ry(e);return s.map((n,i)=>{let r=Array.isArray(n.options)?[...n.options]:[],a=n.correctAnswer;if(r=r.map(o=>typeof o=="string"?o:String(o)),typeof a!="string"&&(a=String(a)),r.length<4){const o=4-r.length;for(let c=0;c<o;c++)r.push(t("reviewNewOptionDefault",{index:r.length+1+i*10}))}else if(r.length>4){const o=a;let c=r.slice(0,4);if(!c.includes(o)){for(c=[...Array.from(new Set(c.slice(0,3)))];c.length<3;)c.push(t("reviewNewOptionDefault",{index:c.length+1+i*10+100}));c.push(o),c.length>4&&(c=c.slice(c.length-4)),a=o}r=c}return!r.includes(a)&&r.length>0?(nt.warn(`Correct answer for Q${i+1} ('${a}') was not in the final 4 options. Defaulting to first option.`,"GeminiServiceValidation",{options:r,originalCorrect:n.correctAnswer}),a=r[0]):r.length===0&&(a=t("error"),r=[t("error"),t("error"),t("error"),t("error")]),{...n,options:r,correctAnswer:a}})},hx=async(s,e,t)=>{var c,l;if(nt.info("Attempting to generate quiz with Gemini","GeminiService",{model:Dg,lang:e.language}),typeof s=="string"&&s==="Generate quiz from user prompt."&&e.customUserPrompt&&e.customUserPrompt.trim().length>0)nt.info("Prompt-only mode detected - using customUserPrompt as primary source","GeminiService",{promptPreview:(c=e.customUserPrompt)==null?void 0:c.substring(0,100),promptOnlyMode:!0});else if(typeof s=="string"&&ux(s)){const u=s.match(/(?:Question|Câu)\s*\d+|^\s*\d+\s*[.)]/gmi)||[],d=s.match(/[A-D]\s*[.)]\s*\S+/gi)||[];nt.info("Formatted quiz detected - will preserve exact format","GeminiService",{contentPreview:s.substring(0,100),formattedQuiz:!0,questionCount:u.length,optionCount:d.length})}const i=await dx(),{requestContents:r,sourceContentSnippet:a,systemInstructionString:o}=vR(s,e,t);try{const d=(await i.models.generateContent({model:Dg,contents:r,config:{responseMimeType:"application/json",systemInstruction:o}})).text||"";nt.info("Received response from Gemini","GeminiService",{responsePreview:d.substring(0,200)});const h=gR(d);if(!h||!h.questions||!h.title||!Array.isArray(h.questions)||h.questions.length===0)throw nt.error("Failed to parse quiz data or data is incomplete/invalid structure (Gemini).","GeminiService",{parsedDataPreview:(l=JSON.stringify(h))==null?void 0:l.substring(0,200)}),new Error("Gemini AI failed to generate quiz in the expected format or returned an empty/invalid quiz. Please check the console for the raw AI response and parsing attempts.");const p=e.language==="Vietnamese"?"vi":"en",v=bR(h.questions,p).map(b=>{let x=b.id;return x||(x=pA()),{...b,id:x,explanation:b.explanation||ry(p)("resultsNoExplanation")}});return nt.info("Successfully generated and validated quiz from Gemini.","GeminiService",{title:h.title,questionCount:v.length}),{...h,questions:v,sourceContentSnippet:a}}catch(u){nt.error("Error generating quiz with Gemini","GeminiService",void 0,u);let d="Failed to generate quiz with Gemini. An unexpected error occurred. Please try again later.";if(u instanceof Error){const h=u.message,p=h.toLowerCase();p.includes("api key not valid")||p.includes("api_key_invalid")||p.includes("process.env.api_key not set")||p.includes("api_key is not configured")||p.includes("process.env.gemini_api_key")?d="Invalid or Missing Gemini API Key (process.env.API_KEY). Please ensure the environment variable is correctly configured and accessible.":p.includes("deadline exceeded")?d="The Gemini AI took too long to respond. This might be due to complex content or a temporary issue. Please try again or simplify the content.":p.includes("quota")?d="Gemini API quota exceeded. Please check your Google AI Platform quotas or try again later.":p.includes("500")||p.includes("unknown")||p.includes("rpc failed")||p.includes("xhr error")?d="An unexpected error occurred while communicating with the AI service (Server Error or Network Issue). Please check your internet connection and try again in a few moments. If the problem persists, the AI service might be temporarily unavailable.":(p.includes("ai failed to generate quiz")||p.includes("empty/invalid quiz"))&&(d=h)}throw new Error(d)}},fx=async s=>{nt.info("Attempting to extract text from image with Gemini","GeminiServiceImage",{mimeType:s.mimeType});const e=await dx(),i={parts:[{inlineData:{data:s.base64Data,mimeType:s.mimeType}},{text:"Extract all visible text from this image. Respond with only the extracted text, without any additional commentary, formatting, or markdown. Just return the raw text content found in the image."}]};try{const a=(await e.models.generateContent({model:Dg,contents:i})).text||"";return nt.info("Successfully extracted text from image.","GeminiServiceImage",{textLength:a.trim().length}),a.trim()}catch(r){if(nt.error("Error extracting text from image with Gemini","GeminiServiceImage",void 0,r),r instanceof Error){const a=r.message.toLowerCase();if(a.includes("api key not valid")||a.includes("api_key_invalid")||a.includes("api_key is not configured")||a.includes("process.env.api_key not set")||a.includes("process.env.gemini_api_key"))throw new Error("Invalid or Missing Gemini API Key (process.env.API_KEY) for text extraction. Please ensure the environment variable is correctly configured and accessible.");if(a.includes("500")||a.includes("unknown")||a.includes("rpc failed")||a.includes("xhr error"))throw new Error("Failed to extract text from image due to a server or network error. Please try again.")}return null}},op=Object.freeze(Object.defineProperty({__proto__:null,extractTextFromImageWithGemini:fx,generateQuizWithGemini:hx,isFormattedQuiz:ux},Symbol.toStringTag,{value:"Module"})),xR=async(s,e,t)=>{try{if(e.selectedModel===ro)return await hx(s,e,t);{const n=`Unsupported model: ${e.selectedModel}`;throw nt.error(n,"aiQuizService",{config:e}),new Error(n)}}catch(n){throw nt.error(`Error in generateQuizWithSelectedModel using ${e.selectedModel||"unknown model"}`,"aiQuizService",{config:e},n),n}};var dl={};dl.d=(s,e)=>{for(var t in e)dl.o(e,t)&&!dl.o(s,t)&&Object.defineProperty(s,t,{enumerable:!0,get:e[t]})};dl.o=(s,e)=>Object.prototype.hasOwnProperty.call(s,e);var qe=globalThis.pdfjsLib={};dl.d(qe,{AbortException:()=>Xa,AnnotationEditorLayer:()=>Km,AnnotationEditorParamsType:()=>Ge,AnnotationEditorType:()=>tt,AnnotationEditorUIManager:()=>qa,AnnotationLayer:()=>v3,AnnotationMode:()=>qr,CMapCompressionType:()=>qg,ColorPicker:()=>Gh,DOMSVGFactory:()=>dy,DrawLayer:()=>jm,FeatureTest:()=>_n,GlobalWorkerOptions:()=>wr,ImageKind:()=>Ld,InvalidPDFException:()=>gx,MissingPDFException:()=>$a,OPS:()=>ti,Outliner:()=>Fm,PDFDataRangeTransport:()=>u_,PDFDateString:()=>Dx,PDFWorker:()=>mo,PasswordResponses:()=>AR,PermissionFlag:()=>TR,PixelsPerInch:()=>hs,RenderingCancelledException:()=>hy,TextLayer:()=>xc,UnexpectedResponseException:()=>Cf,Util:()=>Me,VerbosityLevel:()=>Df,XfaLayer:()=>h_,build:()=>Qk,createValidAbsoluteUrl:()=>SR,fetchData:()=>Ff,getDocument:()=>zk,getFilenameFromUrl:()=>BR,getPdfFilenameFromUrl:()=>OR,getXfaPageViewport:()=>WR,isDataScheme:()=>fy,isPdfFile:()=>py,noContextMenu:()=>Tn,normalizeUnicode:()=>MR,renderTextLayer:()=>Mk,setLayerDimensions:()=>Wa,shadow:()=>it,updateTextLayer:()=>Nk,version:()=>Jk});const sn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),px=[1,0,0,1,0,0],Wg=[.001,0,0,.001,0,0],_R=1e7,cp=1.35,Xn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},qr={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},DR="pdfjs_internal_editor_",tt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Ge={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},TR={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},jt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Ld={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},kt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Uc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Df={ERRORS:0,WARNINGS:1,INFOS:5},qg={NONE:0,BINARY:1},ti={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},AR={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Tf=Df.WARNINGS;function CR(s){Number.isInteger(s)&&(Tf=s)}function wR(){return Tf}function Af(s){Tf>=Df.INFOS&&console.log(`Info: ${s}`)}function Ze(s){Tf>=Df.WARNINGS&&console.log(`Warning: ${s}`)}function ht(s){throw new Error(s)}function Bt(s,e){s||ht(e)}function ER(s){switch(s==null?void 0:s.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function SR(s,e=null,t=null){if(!s)return null;try{if(t&&typeof s=="string"){if(t.addDefaultProtocol&&s.startsWith("www.")){const i=s.match(/\./g);(i==null?void 0:i.length)>=2&&(s=`http://${s}`)}if(t.tryConvertEncoding)try{s=kR(s)}catch{}}const n=e?new URL(s,e):new URL(s);if(ER(n))return n}catch{}return null}function it(s,e,t,n=!1){return Object.defineProperty(s,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const bs=function(){function e(t,n){this.constructor===e&&ht("Cannot initialize BaseException."),this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class Vg extends bs{constructor(e,t){super(e,"PasswordException"),this.code=t}}class zg extends bs{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class gx extends bs{constructor(e){super(e,"InvalidPDFException")}}class $a extends bs{constructor(e){super(e,"MissingPDFException")}}class Cf extends bs{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class UR extends bs{constructor(e){super(e,"FormatError")}}class Xa extends bs{constructor(e){super(e,"AbortException")}}function mx(s){(typeof s!="object"||(s==null?void 0:s.length)===void 0)&&ht("Invalid argument for bytesToString");const e=s.length,t=8192;if(e<t)return String.fromCharCode.apply(null,s);const n=[];for(let i=0;i<e;i+=t){const r=Math.min(i+t,e),a=s.subarray(i,r);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function wf(s){typeof s!="string"&&ht("Invalid argument for stringToBytes");const e=s.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=s.charCodeAt(n)&255;return t}function FR(s){return String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255)}function ly(s){const e=Object.create(null);for(const[t,n]of s)e[t]=n;return e}function IR(){const s=new Uint8Array(4);return s[0]=1,new Uint32Array(s.buffer,0,1)[0]===1}function RR(){try{return new Function(""),!0}catch{return!1}}class _n{static get isLittleEndian(){return it(this,"isLittleEndian",IR())}static get isEvalSupported(){return it(this,"isEvalSupported",RR())}static get isOffscreenCanvasSupported(){return it(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?it(this,"platform",{isMac:navigator.platform.includes("Mac")}):it(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return it(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const lp=Array.from(Array(256).keys(),s=>s.toString(16).padStart(2,"0"));var Sr,Bd,Hg;class Me{static makeHexColor(e,t,n){return`#${lp[e]}${lp[t]}${lp[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const n=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[n,i]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,r=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n;return[i,r]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),r=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],i[0],r[0],a[0]),Math.min(n[1],i[1],r[1],a[1]),Math.max(n[0],i[0],r[0],a[0]),Math.max(n[1],i[1],r[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],r=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],o=(n+a)/2,c=Math.sqrt((n+a)**2-4*(n*a-r*i))/2,l=o+c||1,u=o-c||1;return[Math.sqrt(l),Math.sqrt(u)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const r=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return r>a?null:[n,r,i,a]}static bezierBoundingBox(e,t,n,i,r,a,o,c,l){return l?(l[0]=Math.min(l[0],e,o),l[1]=Math.min(l[1],t,c),l[2]=Math.max(l[2],e,o),l[3]=Math.max(l[3],t,c)):l=[Math.min(e,o),Math.min(t,c),Math.max(e,o),Math.max(t,c)],M(this,Sr,Hg).call(this,e,n,r,o,t,i,a,c,3*(-e+3*(n-r)+o),6*(e-2*n+r),3*(n-e),l),M(this,Sr,Hg).call(this,e,n,r,o,t,i,a,c,3*(-t+3*(i-a)+c),6*(t-2*i+a),3*(i-t),l),l}}Sr=new WeakSet,Bd=function(e,t,n,i,r,a,o,c,l,u){if(l<=0||l>=1)return;const d=1-l,h=l*l,p=h*l,y=d*(d*(d*e+3*l*t)+3*h*n)+p*i,v=d*(d*(d*r+3*l*a)+3*h*o)+p*c;u[0]=Math.min(u[0],y),u[1]=Math.min(u[1],v),u[2]=Math.max(u[2],y),u[3]=Math.max(u[3],v)},Hg=function(e,t,n,i,r,a,o,c,l,u,d,h){if(Math.abs(l)<1e-12){Math.abs(u)>=1e-12&&M(this,Sr,Bd).call(this,e,t,n,i,r,a,o,c,-d/u,h);return}const p=u**2-4*d*l;if(p<0)return;const y=Math.sqrt(p),v=2*l;M(this,Sr,Bd).call(this,e,t,n,i,r,a,o,c,(-u+y)/v,h),M(this,Sr,Bd).call(this,e,t,n,i,r,a,o,c,(-u-y)/v,h)},L(Me,Sr);function kR(s){return decodeURIComponent(escape(s))}let up=null,Zb=null;function MR(s){return up||(up=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Zb=new Map([["ﬅ","ſt"]])),s.replaceAll(up,(e,t,n)=>t?t.normalize("NFKC"):Zb.get(n))}function NR(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const s=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(s);else for(let e=0;e<32;e++)s[e]=Math.floor(Math.random()*255);return mx(s)}const yx="pdfjs_internal_id_",$i={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class Ef{constructor(){this.constructor===Ef&&ht("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,r){return"none"}destroy(e=!1){}}var Dl;const ov=class ov{constructor({enableHWA:e=!1}={}){L(this,Dl,!1);this.constructor===ov&&ht("Cannot initialize BaseCanvasFactory."),k(this,Dl,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!g(this,Dl)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){ht("Abstract method `_createCanvas` called.")}};Dl=new WeakMap;let Wh=ov;class Sf{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===Sf&&ht("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),n=this.isCompressed?qg.BINARY:qg.NONE;return this._fetchData(t,n).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){ht("Abstract method `_fetchData` called.")}}class Uf{constructor({baseUrl:e=null}){this.constructor===Uf&&ht("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){ht("Abstract method `_fetchData` called.")}}class uy{constructor(){this.constructor===uy&&ht("Cannot initialize BaseSVGFactory.")}create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){ht("Abstract method `_createSVG` called.")}}const Zi="http://www.w3.org/2000/svg",Bs=class Bs{};$e(Bs,"CSS",96),$e(Bs,"PDF",72),$e(Bs,"PDF_TO_CSS_UNITS",Bs.CSS/Bs.PDF);let hs=Bs;var qs,xi,nr,yn,Qh,Vs,Re,en,ao,oo,Od,vx,Gg,co,Yc,Kc,$g,Zc;class PR extends Ef{constructor({docId:t,ownerDocument:n=globalThis.document}={}){super();L(this,Re);L(this,qs);L(this,xi);L(this,nr);L(this,yn);L(this,Qh);L(this,Vs,0);k(this,nr,t),k(this,yn,n)}addFilter(t){if(!t)return"none";let n=g(this,Re,en).get(t);if(n)return n;const[i,r,a]=M(this,Re,Od).call(this,t),o=t.length===1?i:`${i}${r}${a}`;if(n=g(this,Re,en).get(o),n)return g(this,Re,en).set(t,n),n;const c=`g_${g(this,nr)}_transfer_map_${En(this,Vs)._++}`,l=`url(#${c})`;g(this,Re,en).set(t,l),g(this,Re,en).set(o,l);const u=M(this,Re,co).call(this,c);return M(this,Re,Kc).call(this,i,r,a,u),l}addHCMFilter(t,n){var y;const i=`${t}-${n}`,r="base";let a=g(this,Re,ao).get(r);if((a==null?void 0:a.key)===i||(a?((y=a.filter)==null||y.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},g(this,Re,ao).set(r,a)),!t||!n))return a.url;const o=M(this,Re,Zc).call(this,t);t=Me.makeHexColor(...o);const c=M(this,Re,Zc).call(this,n);if(n=Me.makeHexColor(...c),g(this,Re,oo).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return a.url;const l=new Array(256);for(let v=0;v<=255;v++){const b=v/255;l[v]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const u=l.join(","),d=`g_${g(this,nr)}_hcm_filter`,h=a.filter=M(this,Re,co).call(this,d);M(this,Re,Kc).call(this,u,u,u,h),M(this,Re,Gg).call(this,h);const p=(v,b)=>{const x=o[v]/255,_=c[v]/255,D=new Array(b+1);for(let A=0;A<=b;A++)D[A]=x+A/b*(_-x);return D.join(",")};return M(this,Re,Kc).call(this,p(0,5),p(1,5),p(2,5),h),a.url=`url(#${d})`,a.url}addAlphaFilter(t){let n=g(this,Re,en).get(t);if(n)return n;const[i]=M(this,Re,Od).call(this,[t]),r=`alpha_${i}`;if(n=g(this,Re,en).get(r),n)return g(this,Re,en).set(t,n),n;const a=`g_${g(this,nr)}_alpha_map_${En(this,Vs)._++}`,o=`url(#${a})`;g(this,Re,en).set(t,o),g(this,Re,en).set(r,o);const c=M(this,Re,co).call(this,a);return M(this,Re,$g).call(this,i,c),o}addLuminosityFilter(t){let n=g(this,Re,en).get(t||"luminosity");if(n)return n;let i,r;if(t?([i]=M(this,Re,Od).call(this,[t]),r=`luminosity_${i}`):r="luminosity",n=g(this,Re,en).get(r),n)return g(this,Re,en).set(t,n),n;const a=`g_${g(this,nr)}_luminosity_map_${En(this,Vs)._++}`,o=`url(#${a})`;g(this,Re,en).set(t,o),g(this,Re,en).set(r,o);const c=M(this,Re,co).call(this,a);return M(this,Re,vx).call(this,c),t&&M(this,Re,$g).call(this,i,c),o}addHighlightHCMFilter(t,n,i,r,a){var _;const o=`${n}-${i}-${r}-${a}`;let c=g(this,Re,ao).get(t);if((c==null?void 0:c.key)===o||(c?((_=c.filter)==null||_.remove(),c.key=o,c.url="none",c.filter=null):(c={key:o,url:"none",filter:null},g(this,Re,ao).set(t,c)),!n||!i))return c.url;const[l,u]=[n,i].map(M(this,Re,Zc).bind(this));let d=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[p,y]=[r,a].map(M(this,Re,Zc).bind(this));h<d&&([d,h,p,y]=[h,d,y,p]),g(this,Re,oo).style.color="";const v=(D,A,T)=>{const w=new Array(256),F=(h-d)/T,I=D/255,U=(A-D)/(255*T);let P=0;for(let H=0;H<=T;H++){const S=Math.round(d+H*F),N=I+H*U;for(let E=P;E<=S;E++)w[E]=N;P=S+1}for(let H=P;H<256;H++)w[H]=w[P-1];return w.join(",")},b=`g_${g(this,nr)}_hcm_${t}_filter`,x=c.filter=M(this,Re,co).call(this,b);return M(this,Re,Gg).call(this,x),M(this,Re,Kc).call(this,v(p[0],y[0],5),v(p[1],y[1],5),v(p[2],y[2],5),x),c.url=`url(#${b})`,c.url}destroy(t=!1){t&&g(this,Re,ao).size!==0||(g(this,xi)&&(g(this,xi).parentNode.parentNode.remove(),k(this,xi,null)),g(this,qs)&&(g(this,qs).clear(),k(this,qs,null)),k(this,Vs,0))}}qs=new WeakMap,xi=new WeakMap,nr=new WeakMap,yn=new WeakMap,Qh=new WeakMap,Vs=new WeakMap,Re=new WeakSet,en=function(){return g(this,qs)||k(this,qs,new Map)},ao=function(){return g(this,Qh)||k(this,Qh,new Map)},oo=function(){if(!g(this,xi)){const t=g(this,yn).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=g(this,yn).createElementNS(Zi,"svg");i.setAttribute("width",0),i.setAttribute("height",0),k(this,xi,g(this,yn).createElementNS(Zi,"defs")),t.append(i),i.append(g(this,xi)),g(this,yn).body.append(t)}return g(this,xi)},Od=function(t){if(t.length===1){const l=t[0],u=new Array(256);for(let h=0;h<256;h++)u[h]=l[h]/255;const d=u.join(",");return[d,d,d]}const[n,i,r]=t,a=new Array(256),o=new Array(256),c=new Array(256);for(let l=0;l<256;l++)a[l]=n[l]/255,o[l]=i[l]/255,c[l]=r[l]/255;return[a.join(","),o.join(","),c.join(",")]},vx=function(t){const n=g(this,yn).createElementNS(Zi,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},Gg=function(t){const n=g(this,yn).createElementNS(Zi,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},co=function(t){const n=g(this,yn).createElementNS(Zi,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),g(this,Re,oo).append(n),n},Yc=function(t,n,i){const r=g(this,yn).createElementNS(Zi,n);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),t.append(r)},Kc=function(t,n,i,r){const a=g(this,yn).createElementNS(Zi,"feComponentTransfer");r.append(a),M(this,Re,Yc).call(this,a,"feFuncR",t),M(this,Re,Yc).call(this,a,"feFuncG",n),M(this,Re,Yc).call(this,a,"feFuncB",i)},$g=function(t,n){const i=g(this,yn).createElementNS(Zi,"feComponentTransfer");n.append(i),M(this,Re,Yc).call(this,i,"feFuncA",t)},Zc=function(t){return g(this,Re,oo).style.color=t,gy(getComputedStyle(g(this,Re,oo)).getPropertyValue("color"))};class LR extends Wh{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}async function Ff(s,e="text"){if(Jc(s,document.baseURI)){const t=await fetch(s);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const i=new XMLHttpRequest;i.open("GET",s,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class bx extends Sf{_fetchData(e,t){return Ff(e,this.isCompressed?"arraybuffer":"text").then(n=>({cMapData:n instanceof ArrayBuffer?new Uint8Array(n):wf(n),compressionType:t}))}}class xx extends Uf{_fetchData(e){return Ff(e,"arraybuffer").then(t=>new Uint8Array(t))}}class dy extends uy{_createSVG(e){return document.createElementNS(Zi,e)}}class td{constructor({viewBox:e,scale:t,rotation:n,offsetX:i=0,offsetY:r=0,dontFlip:a=!1}){this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=i,this.offsetY=r;const o=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let l,u,d,h;switch(n%=360,n<0&&(n+=360),n){case 180:l=-1,u=0,d=0,h=1;break;case 90:l=0,u=1,d=1,h=0;break;case 270:l=0,u=-1,d=-1,h=0;break;case 0:l=1,u=0,d=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(d=-d,h=-h);let p,y,v,b;l===0?(p=Math.abs(c-e[1])*t+i,y=Math.abs(o-e[0])*t+r,v=(e[3]-e[1])*t,b=(e[2]-e[0])*t):(p=Math.abs(o-e[0])*t+i,y=Math.abs(c-e[1])*t+r,v=(e[2]-e[0])*t,b=(e[3]-e[1])*t),this.transform=[l*t,u*t,d*t,h*t,p-l*t*o-d*t*c,y-u*t*o-h*t*c],this.width=v,this.height=b}get rawDims(){const{viewBox:e}=this;return it(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:r=!1}={}){return new td({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:r})}convertToViewportPoint(e,t){return Me.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Me.applyTransform([e[0],e[1]],this.transform),n=Me.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return Me.applyInverseTransform([e,t],this.transform)}}class hy extends bs{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function fy(s){const e=s.length;let t=0;for(;t<e&&s[t].trim()==="";)t++;return s.substring(t,t+5).toLowerCase()==="data:"}function py(s){return typeof s=="string"&&/\.pdf$/i.test(s)}function BR(s){return[s]=s.split(/[#?]/,1),s.substring(s.lastIndexOf("/")+1)}function OR(s,e="document.pdf"){if(typeof s!="string")return e;if(fy(s))return Ze('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(s);let r=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(r&&(r=r[0],r.includes("%")))try{r=n.exec(decodeURIComponent(r))[0]}catch{}return r||e}class Jb{constructor(){$e(this,"started",Object.create(null));$e(this,"times",[])}time(e){e in this.started&&Ze(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ze(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:r}of this.times)e.push(`${n.padEnd(t)} ${r-i}ms
`);return e.join("")}}function Jc(s,e){try{const{protocol:t}=e?new URL(s,e):new URL(s);return t==="http:"||t==="https:"}catch{return!1}}function Tn(s){s.preventDefault()}function _x(s){console.log("Deprecated API usage: "+s)}let Qb;class Dx{static toDateObject(e){if(!e||typeof e!="string")return null;Qb||(Qb=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=Qb.exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let r=parseInt(t[3],10);r=r>=1&&r<=31?r:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const l=t[7]||"Z";let u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,l==="-"?(a+=u,o+=d):l==="+"&&(a-=u,o-=d),new Date(Date.UTC(n,i,r,a,o,c))}}function WR(s,{scale:e=1,rotation:t=0}){const{width:n,height:i}=s.attributes.style,r=[0,0,parseInt(n),parseInt(i)];return new td({viewBox:r,scale:e,rotation:t})}function gy(s){if(s.startsWith("#")){const e=parseInt(s.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return s.startsWith("rgb(")?s.slice(4,-1).split(",").map(e=>parseInt(e)):s.startsWith("rgba(")?s.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ze(`Not a valid color format: "${s}"`),[0,0,0])}function qR(s){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of s.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;s.set(t,gy(n))}e.remove()}function Tt(s){const{a:e,b:t,c:n,d:i,e:r,f:a}=s.getTransform();return[e,t,n,i,r,a]}function Xi(s){const{a:e,b:t,c:n,d:i,e:r,f:a}=s.getTransform().invertSelf();return[e,t,n,i,r,a]}function Wa(s,e,t=!1,n=!0){if(e instanceof td){const{pageWidth:i,pageHeight:r}=e.rawDims,{style:a}=s,o=_n.isCSSRoundSupported,c=`var(--scale-factor) * ${i}px`,l=`var(--scale-factor) * ${r}px`,u=o?`round(${c}, 1px)`:`calc(${c})`,d=o?`round(${l}, 1px)`:`calc(${l})`;!t||e.rotation%180===0?(a.width=u,a.height=d):(a.width=d,a.height=u)}n&&s.setAttribute("data-main-rotation",e.rotation)}var zs,Hs,Fn,Gs,jh,Tx,dn,Ax,Cx,Wd,wx,Yg;const ef=class ef{constructor(e){L(this,dn);L(this,zs,null);L(this,Hs,null);L(this,Fn);L(this,Gs,null);k(this,Fn,e)}render(){const e=k(this,zs,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=g(this,Fn)._uiManager._signal;e.addEventListener("contextmenu",Tn,{signal:t}),e.addEventListener("pointerdown",M(ef,jh,Tx),{signal:t});const n=k(this,Gs,document.createElement("div"));n.className="buttons",e.append(n);const i=g(this,Fn).toolbarPosition;if(i){const{style:r}=e,a=g(this,Fn)._uiManager.direction==="ltr"?1-i[0]:i[0];r.insetInlineEnd=`${100*a}%`,r.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return M(this,dn,wx).call(this),e}hide(){var e;g(this,zs).classList.add("hidden"),(e=g(this,Hs))==null||e.hideDropdown()}show(){g(this,zs).classList.remove("hidden")}addAltTextButton(e){M(this,dn,Wd).call(this,e),g(this,Gs).prepend(e,g(this,dn,Yg))}addColorPicker(e){k(this,Hs,e);const t=e.renderButton();M(this,dn,Wd).call(this,t),g(this,Gs).prepend(t,g(this,dn,Yg))}remove(){var e;g(this,zs).remove(),(e=g(this,Hs))==null||e.destroy(),k(this,Hs,null)}};zs=new WeakMap,Hs=new WeakMap,Fn=new WeakMap,Gs=new WeakMap,jh=new WeakSet,Tx=function(e){e.stopPropagation()},dn=new WeakSet,Ax=function(e){g(this,Fn)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},Cx=function(e){g(this,Fn)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Wd=function(e){const t=g(this,Fn)._uiManager._signal;e.addEventListener("focusin",M(this,dn,Ax).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",M(this,dn,Cx).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Tn,{signal:t})},wx=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${g(this,Fn).editorType}-button`),M(this,dn,Wd).call(this,e),e.addEventListener("click",t=>{g(this,Fn)._uiManager.delete()},{signal:g(this,Fn)._uiManager._signal}),g(this,Gs).append(e)},Yg=function(){const e=document.createElement("div");return e.className="divider",e},L(ef,jh);let Xg=ef;var Tl,$s,Xs,gs,Ex,Sx,Ux;class VR{constructor(e){L(this,gs);L(this,Tl,null);L(this,$s,null);L(this,Xs);k(this,Xs,e)}show(e,t,n){const[i,r]=M(this,gs,Sx).call(this,t,n),{style:a}=g(this,$s)||k(this,$s,M(this,gs,Ex).call(this));e.append(g(this,$s)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){g(this,$s).remove()}}Tl=new WeakMap,$s=new WeakMap,Xs=new WeakMap,gs=new WeakSet,Ex=function(){const e=k(this,$s,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Tn,{signal:g(this,Xs)._signal});const t=k(this,Tl,document.createElement("div"));return t.className="buttons",e.append(t),M(this,gs,Ux).call(this),e},Sx=function(e,t){let n=0,i=0;for(const r of e){const a=r.y+r.height;if(a<n)continue;const o=r.x+(t?r.width:0);if(a>n){i=o,n=a;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,n]},Ux=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=g(this,Xs)._signal;e.addEventListener("contextmenu",Tn,{signal:n}),e.addEventListener("click",()=>{g(this,Xs).highlightSelection("floating_button")},{signal:n}),g(this,Tl).append(e)};function qh(s,e,t){for(const n of t)e.addEventListener(n,s[n].bind(s))}function zR(s){return Math.round(Math.min(255,Math.max(1,255*s))).toString(16).padStart(2,"0")}var tf;class HR{constructor(){L(this,tf,0)}get id(){return`${DR}${En(this,tf)._++}`}}tf=new WeakMap;var Al,nf,zn,Cl,Zg;const cv=class cv{constructor(){L(this,Cl);L(this,Al,NR());L(this,nf,0);L(this,zn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const r=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return it(this,"_isSVGFittingCanvas",r)}async getFromFile(e){const{lastModified:t,name:n,size:i,type:r}=e;return M(this,Cl,Zg).call(this,`${t}_${n}_${i}_${r}`,e)}async getFromUrl(e){return M(this,Cl,Zg).call(this,e,e)}async getFromId(e){g(this,zn)||k(this,zn,new Map);const t=g(this,zn).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=g(this,zn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){g(this,zn)||k(this,zn,new Map);const t=g(this,zn).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${g(this,Al)}_`)}};Al=new WeakMap,nf=new WeakMap,zn=new WeakMap,Cl=new WeakSet,Zg=async function(e,t){g(this,zn)||k(this,zn,new Map);let n=g(this,zn).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${g(this,Al)}_${En(this,nf)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(n.url=t,i=await Ff(t,"blob")):i=n.file=t,i.type==="image/svg+xml"){const r=cv._isSVGFittingCanvas,a=new FileReader,o=new Image,c=new Promise((l,u)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,l()},a.onload=async()=>{const d=n.svgUrl=a.result;o.src=await r?`${d}#svgView(preserveAspectRatio(none))`:d},o.onerror=a.onerror=u});a.readAsDataURL(i),await c}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){console.error(i),n=null}return g(this,zn).set(e,n),n&&g(this,zn).set(n.id,n),n};let Kg=cv;var qt,Vr,wl,Vt;class GR{constructor(e=128){L(this,qt,[]);L(this,Vr,!1);L(this,wl);L(this,Vt,-1);k(this,wl,e)}add({cmd:e,undo:t,post:n,mustExec:i,type:r=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),g(this,Vr))return;const c={cmd:e,undo:t,post:n,type:r};if(g(this,Vt)===-1){g(this,qt).length>0&&(g(this,qt).length=0),k(this,Vt,0),g(this,qt).push(c);return}if(a&&g(this,qt)[g(this,Vt)].type===r){o&&(c.undo=g(this,qt)[g(this,Vt)].undo),g(this,qt)[g(this,Vt)]=c;return}const l=g(this,Vt)+1;l===g(this,wl)?g(this,qt).splice(0,1):(k(this,Vt,l),l<g(this,qt).length&&g(this,qt).splice(l)),g(this,qt).push(c)}undo(){if(g(this,Vt)===-1)return;k(this,Vr,!0);const{undo:e,post:t}=g(this,qt)[g(this,Vt)];e(),t==null||t(),k(this,Vr,!1),k(this,Vt,g(this,Vt)-1)}redo(){if(g(this,Vt)<g(this,qt).length-1){k(this,Vt,g(this,Vt)+1),k(this,Vr,!0);const{cmd:e,post:t}=g(this,qt)[g(this,Vt)];e(),t==null||t(),k(this,Vr,!1)}}hasSomethingToUndo(){return g(this,Vt)!==-1}hasSomethingToRedo(){return g(this,Vt)<g(this,qt).length-1}destroy(){k(this,qt,null)}}qt=new WeakMap,Vr=new WeakMap,wl=new WeakMap,Vt=new WeakMap;var rf,Fx;class nd{constructor(e){L(this,rf);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=_n.platform;for(const[n,i,r={}]of e)for(const a of n){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:i,options:r}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:i,options:r}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(M(this,rf,Fx).call(this,t));if(!n)return;const{callback:i,options:{bubbles:r=!1,args:a=[],checker:o=null}}=n;o&&!o(e,t)||(i.bind(e,...a,t)(),r||(t.stopPropagation(),t.preventDefault()))}}rf=new WeakSet,Fx=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const sf=class sf{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return qR(e),it(this,"_colors",e)}convert(e){const t=gy(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every((r,a)=>r===t[a]))return sf._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Me.makeHexColor(...t):e}};$e(sf,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Jg=sf;var bo,In,Mt,Ht,xo,ir,_o,ni,Do,Ys,_i,ii,Ks,El,Sl,Di,To,zr,Ti,af,Hr,Ul,Zs,Fl,Ao,Gt,lt,rr,Js,Il,Rl,kl,Ml,Nl,Pl,Ll,Bl,Ol,Wl,ql,Vl,zl,Gr,Ai,sr,Hl,Ae,qd,Ix,Rx,Vd,kx,Mx,Nx,Qg,Px,jg,em,Lx,on,Lr,Bx,Ox,tm,Wx,Qc,nm;const po=class po{constructor(e,t,n,i,r,a,o,c,l){L(this,Ae);L(this,bo,new AbortController);L(this,In,null);L(this,Mt,new Map);L(this,Ht,new Map);L(this,xo,null);L(this,ir,null);L(this,_o,null);L(this,ni,new GR);L(this,Do,0);L(this,Ys,new Set);L(this,_i,null);L(this,ii,null);L(this,Ks,new Set);L(this,El,!1);L(this,Sl,null);L(this,Di,null);L(this,To,null);L(this,zr,!1);L(this,Ti,null);L(this,af,new HR);L(this,Hr,!1);L(this,Ul,!1);L(this,Zs,null);L(this,Fl,null);L(this,Ao,null);L(this,Gt,tt.NONE);L(this,lt,new Set);L(this,rr,null);L(this,Js,null);L(this,Il,null);L(this,Rl,this.blur.bind(this));L(this,kl,this.focus.bind(this));L(this,Ml,this.copy.bind(this));L(this,Nl,this.cut.bind(this));L(this,Pl,this.paste.bind(this));L(this,Ll,this.keydown.bind(this));L(this,Bl,this.keyup.bind(this));L(this,Ol,this.onEditingAction.bind(this));L(this,Wl,this.onPageChanging.bind(this));L(this,ql,this.onScaleChanging.bind(this));L(this,Vl,this.onRotationChanging.bind(this));L(this,zl,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});L(this,Gr,[0,0]);L(this,Ai,null);L(this,sr,null);L(this,Hl,null);this._signal=g(this,bo).signal,k(this,sr,e),k(this,Hl,t),k(this,xo,n),this._eventBus=i,this._eventBus._on("editingaction",g(this,Ol)),this._eventBus._on("pagechanging",g(this,Wl)),this._eventBus._on("scalechanging",g(this,ql)),this._eventBus._on("rotationchanging",g(this,Vl)),M(this,Ae,kx).call(this),M(this,Ae,Lx).call(this),M(this,Ae,Qg).call(this),k(this,ir,r.annotationStorage),k(this,Sl,r.filterFactory),k(this,Js,a),k(this,To,o||null),k(this,El,c),k(this,Ao,l||null),this.viewParameters={realScale:hs.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=po.prototype,t=a=>g(a,sr).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),n=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:c}=o;return c!=="text"&&c!=="number"}return!0},i=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return it(this,"_keyboardManager",new nd([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&g(a,sr).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&g(a,sr).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}]]))}destroy(){var e,t,n;(e=g(this,bo))==null||e.abort(),k(this,bo,null),this._signal=null,this._eventBus._off("editingaction",g(this,Ol)),this._eventBus._off("pagechanging",g(this,Wl)),this._eventBus._off("scalechanging",g(this,ql)),this._eventBus._off("rotationchanging",g(this,Vl));for(const i of g(this,Ht).values())i.destroy();g(this,Ht).clear(),g(this,Mt).clear(),g(this,Ks).clear(),k(this,In,null),g(this,lt).clear(),g(this,ni).destroy(),(t=g(this,xo))==null||t.destroy(),(n=g(this,Ti))==null||n.hide(),k(this,Ti,null),g(this,Di)&&(clearTimeout(g(this,Di)),k(this,Di,null)),g(this,Ai)&&(clearTimeout(g(this,Ai)),k(this,Ai,null))}async mlGuess(e){var t;return((t=g(this,Ao))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!g(this,Ao)}get hcmFilter(){return it(this,"hcmFilter",g(this,Js)?g(this,Sl).addHCMFilter(g(this,Js).foreground,g(this,Js).background):"none")}get direction(){return it(this,"direction",getComputedStyle(g(this,sr)).direction)}get highlightColors(){return it(this,"highlightColors",g(this,To)?new Map(g(this,To).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return it(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){k(this,Fl,e)}editAltText(e){var t;(t=g(this,xo))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){k(this,Do,e-1)}focusMainContainer(){g(this,sr).focus()}findParent(e,t){for(const n of g(this,Ht).values()){const{x:i,y:r,width:a,height:o}=n.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=r&&t<=r+o)return n}return null}disableUserSelect(e=!1){g(this,Hl).classList.toggle("noUserSelect",e)}addShouldRescale(e){g(this,Ks).add(e)}removeShouldRescale(e){g(this,Ks).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*hs.PDF_TO_CSS_UNITS;for(const t of g(this,Ks))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:a}=t,o=t.toString(),l=M(this,Ae,qd).call(this,t).closest(".textLayer"),u=this.getSelectionBoxes(l);if(u){t.empty(),g(this,Gt)===tt.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:tt.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const d of g(this,Ht).values())if(d.hasTextLayer(l)){d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:u,anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:a,text:o});break}}}addToAnnotationStorage(e){!e.isEmpty()&&g(this,ir)&&!g(this,ir).has(e.id)&&g(this,ir).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,g(this,zr)&&(k(this,zr,!1),M(this,Ae,Vd).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of g(this,lt))if(t.div.contains(e)){k(this,Zs,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!g(this,Zs))return;const[e,t]=g(this,Zs);k(this,Zs,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){M(this,Ae,Qg).call(this),M(this,Ae,jg).call(this)}removeEditListeners(){M(this,Ae,Px).call(this),M(this,Ae,em).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of g(this,ii))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of g(this,ii))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=g(this,In))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of g(this,lt)){const r=i.serialize(!0);r&&t.push(r)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const r of t.items)for(const a of g(this,ii))if(a.isHandlingMimeForPasting(r.type)){a.paste(r,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(r){Ze(`paste: "${r.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const r=[];for(const c of n){const l=i.deserialize(c);if(!l)return;r.push(l)}const a=()=>{for(const c of r)M(this,Ae,tm).call(this,c);M(this,Ae,nm).call(this,r)},o=()=>{for(const c of r)c.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(r){Ze(`paste: "${r.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),g(this,Gt)!==tt.NONE&&!this.isEditorHandlingKeyboard&&po._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,g(this,zr)&&(k(this,zr,!1),M(this,Ae,Vd).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(M(this,Ae,Mx).call(this),M(this,Ae,jg).call(this),M(this,Ae,on).call(this,{isEditing:g(this,Gt)!==tt.NONE,isEmpty:M(this,Ae,Qc).call(this),hasSomethingToUndo:g(this,ni).hasSomethingToUndo(),hasSomethingToRedo:g(this,ni).hasSomethingToRedo(),hasSelectedEditor:!1})):(M(this,Ae,Nx).call(this),M(this,Ae,em).call(this),M(this,Ae,on).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!g(this,ii)){k(this,ii,e);for(const t of g(this,ii))M(this,Ae,Lr).call(this,t.defaultPropertiesToUpdate)}}getId(){return g(this,af).id}get currentLayer(){return g(this,Ht).get(g(this,Do))}getLayer(e){return g(this,Ht).get(e)}get currentPageIndex(){return g(this,Do)}addLayer(e){g(this,Ht).set(e.pageIndex,e),g(this,Hr)?e.enable():e.disable()}removeLayer(e){g(this,Ht).delete(e.pageIndex)}updateMode(e,t=null,n=!1){if(g(this,Gt)!==e){if(k(this,Gt,e),e===tt.NONE){this.setEditingState(!1),M(this,Ae,Ox).call(this);return}this.setEditingState(!0),M(this,Ae,Bx).call(this),this.unselectAll();for(const i of g(this,Ht).values())i.updateMode(e);if(!t&&n){this.addNewEditorFromKeyboard();return}if(t){for(const i of g(this,Mt).values())if(i.annotationElementId===t){this.setSelected(i),i.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==g(this,Gt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var n;if(g(this,ii)){switch(e){case Ge.CREATE:this.currentLayer.addNewEditor();return;case Ge.HIGHLIGHT_DEFAULT_COLOR:(n=g(this,Fl))==null||n.updateColor(t);break;case Ge.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(g(this,Il)||k(this,Il,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of g(this,lt))i.updateParams(e,t);for(const i of g(this,ii))i.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var r;for(const a of g(this,Mt).values())a.editorType===e&&a.show(t);(((r=g(this,Il))==null?void 0:r.get(Ge.HIGHLIGHT_SHOW_ALL))??!0)!==t&&M(this,Ae,Lr).call(this,[[Ge.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(g(this,Ul)!==e){k(this,Ul,e);for(const t of g(this,Ht).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of g(this,Mt).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return g(this,Mt).get(e)}addEditor(e){g(this,Mt).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(g(this,Di)&&clearTimeout(g(this,Di)),k(this,Di,setTimeout(()=>{this.focusMainContainer(),k(this,Di,null)},0))),g(this,Mt).delete(e.id),this.unselect(e),(!e.annotationElementId||!g(this,Ys).has(e.annotationElementId))&&((t=g(this,ir))==null||t.remove(e.id))}addDeletedAnnotationElement(e){g(this,Ys).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return g(this,Ys).has(e)}removeDeletedAnnotationElement(e){g(this,Ys).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){g(this,In)!==e&&(k(this,In,e),e&&M(this,Ae,Lr).call(this,e.propertiesToUpdate))}updateUI(e){g(this,Ae,Wx)===e&&M(this,Ae,Lr).call(this,e.propertiesToUpdate)}toggleSelected(e){if(g(this,lt).has(e)){g(this,lt).delete(e),e.unselect(),M(this,Ae,on).call(this,{hasSelectedEditor:this.hasSelection});return}g(this,lt).add(e),e.select(),M(this,Ae,Lr).call(this,e.propertiesToUpdate),M(this,Ae,on).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of g(this,lt))t!==e&&t.unselect();g(this,lt).clear(),g(this,lt).add(e),e.select(),M(this,Ae,Lr).call(this,e.propertiesToUpdate),M(this,Ae,on).call(this,{hasSelectedEditor:!0})}isSelected(e){return g(this,lt).has(e)}get firstSelectedEditor(){return g(this,lt).values().next().value}unselect(e){e.unselect(),g(this,lt).delete(e),M(this,Ae,on).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return g(this,lt).size!==0}get isEnterHandled(){return g(this,lt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){g(this,ni).undo(),M(this,Ae,on).call(this,{hasSomethingToUndo:g(this,ni).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:M(this,Ae,Qc).call(this)})}redo(){g(this,ni).redo(),M(this,Ae,on).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:g(this,ni).hasSomethingToRedo(),isEmpty:M(this,Ae,Qc).call(this)})}addCommands(e){g(this,ni).add(e),M(this,Ae,on).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:M(this,Ae,Qc).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...g(this,lt)],t=()=>{for(const i of e)i.remove()},n=()=>{for(const i of e)M(this,Ae,tm).call(this,i)};this.addCommands({cmd:t,undo:n,mustExec:!0})}commitOrRemove(){var e;(e=g(this,In))==null||e.commitOrRemove()}hasSomethingToControl(){return g(this,In)||this.hasSelection}selectAll(){for(const e of g(this,lt))e.commit();M(this,Ae,nm).call(this,g(this,Mt).values())}unselectAll(){if(!(g(this,In)&&(g(this,In).commitOrRemove(),g(this,Gt)!==tt.NONE))&&this.hasSelection){for(const e of g(this,lt))e.unselect();g(this,lt).clear(),M(this,Ae,on).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;g(this,Gr)[0]+=e,g(this,Gr)[1]+=t;const[i,r]=g(this,Gr),a=[...g(this,lt)],o=1e3;g(this,Ai)&&clearTimeout(g(this,Ai)),k(this,Ai,setTimeout(()=>{k(this,Ai,null),g(this,Gr)[0]=g(this,Gr)[1]=0,this.addCommands({cmd:()=>{for(const c of a)g(this,Mt).has(c.id)&&c.translateInPage(i,r)},undo:()=>{for(const c of a)g(this,Mt).has(c.id)&&c.translateInPage(-i,-r)},mustExec:!1})},o));for(const c of a)c.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),k(this,_i,new Map);for(const e of g(this,lt))g(this,_i).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!g(this,_i))return!1;this.disableUserSelect(!1);const e=g(this,_i);k(this,_i,null);let t=!1;for(const[{x:i,y:r,pageIndex:a},o]of e)o.newX=i,o.newY=r,o.newPageIndex=a,t||(t=i!==o.savedX||r!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const n=(i,r,a,o)=>{if(g(this,Mt).has(i.id)){const c=g(this,Ht).get(o);c?i._setParentAndPosition(c,r,a):(i.pageIndex=o,i.x=r,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:r,newY:a,newPageIndex:o}]of e)n(i,r,a,o)},undo:()=>{for(const[i,{savedX:r,savedY:a,savedPageIndex:o}]of e)n(i,r,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(g(this,_i))for(const n of g(this,_i).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||g(this,lt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return g(this,In)===e}getActive(){return g(this,In)}getMode(){return g(this,Gt)}get imageManager(){return it(this,"imageManager",new Kg)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let l=0,u=t.rangeCount;l<u;l++)if(!e.contains(t.getRangeAt(l).commonAncestorContainer))return null;const{x:n,y:i,width:r,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(l,u,d,h)=>({x:(u-i)/a,y:1-(l+d-n)/r,width:h/a,height:d/r});break;case"180":o=(l,u,d,h)=>({x:1-(l+d-n)/r,y:1-(u+h-i)/a,width:d/r,height:h/a});break;case"270":o=(l,u,d,h)=>({x:1-(u+h-i)/a,y:(l-n)/r,width:h/a,height:d/r});break;default:o=(l,u,d,h)=>({x:(l-n)/r,y:(u-i)/a,width:d/r,height:h/a});break}const c=[];for(let l=0,u=t.rangeCount;l<u;l++){const d=t.getRangeAt(l);if(!d.collapsed)for(const{x:h,y:p,width:y,height:v}of d.getClientRects())y===0||v===0||c.push(o(h,p,y,v))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(g(this,_o)||k(this,_o,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=g(this,_o))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=g(this,_o))==null?void 0:i.get(e.data.id);if(!t)return;const n=g(this,ir).getRawValue(t);n&&(g(this,Gt)===tt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};bo=new WeakMap,In=new WeakMap,Mt=new WeakMap,Ht=new WeakMap,xo=new WeakMap,ir=new WeakMap,_o=new WeakMap,ni=new WeakMap,Do=new WeakMap,Ys=new WeakMap,_i=new WeakMap,ii=new WeakMap,Ks=new WeakMap,El=new WeakMap,Sl=new WeakMap,Di=new WeakMap,To=new WeakMap,zr=new WeakMap,Ti=new WeakMap,af=new WeakMap,Hr=new WeakMap,Ul=new WeakMap,Zs=new WeakMap,Fl=new WeakMap,Ao=new WeakMap,Gt=new WeakMap,lt=new WeakMap,rr=new WeakMap,Js=new WeakMap,Il=new WeakMap,Rl=new WeakMap,kl=new WeakMap,Ml=new WeakMap,Nl=new WeakMap,Pl=new WeakMap,Ll=new WeakMap,Bl=new WeakMap,Ol=new WeakMap,Wl=new WeakMap,ql=new WeakMap,Vl=new WeakMap,zl=new WeakMap,Gr=new WeakMap,Ai=new WeakMap,sr=new WeakMap,Hl=new WeakMap,Ae=new WeakSet,qd=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Ix=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=M(this,Ae,qd).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(g(this,Ti)||k(this,Ti,new VR(this)),g(this,Ti).show(n,i,this.direction==="ltr"))},Rx=function(){var r,a,o;const e=document.getSelection();if(!e||e.isCollapsed){g(this,rr)&&((r=g(this,Ti))==null||r.hide(),k(this,rr,null),M(this,Ae,on).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===g(this,rr))return;if(!M(this,Ae,qd).call(this,e).closest(".textLayer")){g(this,rr)&&((a=g(this,Ti))==null||a.hide(),k(this,rr,null),M(this,Ae,on).call(this,{hasSelectedText:!1}));return}if((o=g(this,Ti))==null||o.hide(),k(this,rr,t),M(this,Ae,on).call(this,{hasSelectedText:!0}),!(g(this,Gt)!==tt.HIGHLIGHT&&g(this,Gt)!==tt.NONE)&&(g(this,Gt)===tt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),k(this,zr,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=this._signal,l=u=>{u.type==="pointerup"&&u.button!==0||(window.removeEventListener("pointerup",l),window.removeEventListener("blur",l),u.type==="pointerup"&&M(this,Ae,Vd).call(this,"main_toolbar"))};window.addEventListener("pointerup",l,{signal:c}),window.addEventListener("blur",l,{signal:c})}},Vd=function(e=""){g(this,Gt)===tt.HIGHLIGHT?this.highlightSelection(e):g(this,El)&&M(this,Ae,Ix).call(this)},kx=function(){document.addEventListener("selectionchange",M(this,Ae,Rx).bind(this),{signal:this._signal})},Mx=function(){const e=this._signal;window.addEventListener("focus",g(this,kl),{signal:e}),window.addEventListener("blur",g(this,Rl),{signal:e})},Nx=function(){window.removeEventListener("focus",g(this,kl)),window.removeEventListener("blur",g(this,Rl))},Qg=function(){const e=this._signal;window.addEventListener("keydown",g(this,Ll),{signal:e}),window.addEventListener("keyup",g(this,Bl),{signal:e})},Px=function(){window.removeEventListener("keydown",g(this,Ll)),window.removeEventListener("keyup",g(this,Bl))},jg=function(){const e=this._signal;document.addEventListener("copy",g(this,Ml),{signal:e}),document.addEventListener("cut",g(this,Nl),{signal:e}),document.addEventListener("paste",g(this,Pl),{signal:e})},em=function(){document.removeEventListener("copy",g(this,Ml)),document.removeEventListener("cut",g(this,Nl)),document.removeEventListener("paste",g(this,Pl))},Lx=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},on=function(e){Object.entries(e).some(([n,i])=>g(this,zl)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(g(this,zl),e)}),g(this,Gt)===tt.HIGHLIGHT&&e.hasSelectedEditor===!1&&M(this,Ae,Lr).call(this,[[Ge.HIGHLIGHT_FREE,!0]]))},Lr=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},Bx=function(){if(!g(this,Hr)){k(this,Hr,!0);for(const e of g(this,Ht).values())e.enable();for(const e of g(this,Mt).values())e.enable()}},Ox=function(){if(this.unselectAll(),g(this,Hr)){k(this,Hr,!1);for(const e of g(this,Ht).values())e.disable();for(const e of g(this,Mt).values())e.disable()}},tm=function(e){const t=g(this,Ht).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},Wx=function(){let e=null;for(e of g(this,lt));return e},Qc=function(){if(g(this,Mt).size===0)return!0;if(g(this,Mt).size===1)for(const e of g(this,Mt).values())return e.isEmpty();return!1},nm=function(e){for(const t of g(this,lt))t.unselect();g(this,lt).clear();for(const t of e)t.isEmpty()||(g(this,lt).add(t),t.select());M(this,Ae,on).call(this,{hasSelectedEditor:this.hasSelection})},$e(po,"TRANSLATE_SMALL",1),$e(po,"TRANSLATE_BIG",10);let qa=po;var ar,or,ri,cr,Rn,Co,si,Gl,im;const Qi=class Qi{constructor(e){L(this,Gl);L(this,ar,"");L(this,or,!1);L(this,ri,null);L(this,cr,null);L(this,Rn,null);L(this,Co,!1);L(this,si,null);k(this,si,e)}static initialize(e){Qi._l10nPromise||(Qi._l10nPromise=e)}async render(){const e=k(this,ri,document.createElement("button"));e.className="altText";const t=await Qi._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0";const n=g(this,si)._uiManager._signal;e.addEventListener("contextmenu",Tn,{signal:n}),e.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:n});const i=r=>{r.preventDefault(),g(this,si)._uiManager.editAltText(g(this,si))};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",r=>{r.target===e&&r.key==="Enter"&&(k(this,Co,!0),i(r))},{signal:n}),await M(this,Gl,im).call(this),e}finish(){g(this,ri)&&(g(this,ri).focus({focusVisible:g(this,Co)}),k(this,Co,!1))}isEmpty(){return!g(this,ar)&&!g(this,or)}get data(){return{altText:g(this,ar),decorative:g(this,or)}}set data({altText:e,decorative:t}){g(this,ar)===e&&g(this,or)===t||(k(this,ar,e),k(this,or,t),M(this,Gl,im).call(this))}toggle(e=!1){g(this,ri)&&(!e&&g(this,Rn)&&(clearTimeout(g(this,Rn)),k(this,Rn,null)),g(this,ri).disabled=!e)}destroy(){var e;(e=g(this,ri))==null||e.remove(),k(this,ri,null),k(this,cr,null)}};ar=new WeakMap,or=new WeakMap,ri=new WeakMap,cr=new WeakMap,Rn=new WeakMap,Co=new WeakMap,si=new WeakMap,Gl=new WeakSet,im=async function(){var i;const e=g(this,ri);if(!e)return;if(!g(this,ar)&&!g(this,or)){e.classList.remove("done"),(i=g(this,cr))==null||i.remove();return}e.classList.add("done"),Qi._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(r=>{e.setAttribute("aria-label",r)});let t=g(this,cr);if(!t){k(this,cr,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const r=t.id=`alt-text-tooltip-${g(this,si).id}`;e.setAttribute("aria-describedby",r);const a=100,o=g(this,si)._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(g(this,Rn)),k(this,Rn,null)},{once:!0}),e.addEventListener("mouseenter",()=>{k(this,Rn,setTimeout(()=>{k(this,Rn,null),g(this,cr).classList.add("show"),g(this,si)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:o}),e.addEventListener("mouseleave",()=>{var c;g(this,Rn)&&(clearTimeout(g(this,Rn)),k(this,Rn,null)),(c=g(this,cr))==null||c.classList.remove("show")},{signal:o})}t.innerText=g(this,or)?await Qi._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):g(this,ar),t.parentNode||e.append(t);const n=g(this,si).getImageForAltText();n==null||n.setAttribute("aria-describedby",t.id)},$e(Qi,"_l10nPromise",null);let Vh=Qi;var Qs,ai,nn,wo,js,$t,ea,Eo,So,rn,$l,ta,$r,Xl,na,lr,Ci,Uo,Fo,Hn,Yl,of,Je,rm,Kl,sm,am,qx,Vx,om,cm,lm,zx,Hx,Gx,$x,um,jc;const pt=class pt{constructor(e){L(this,Je);L(this,Qs,null);L(this,ai,null);L(this,nn,null);L(this,wo,!1);L(this,js,!1);L(this,$t,null);L(this,ea,null);L(this,Eo,this.focusin.bind(this));L(this,So,this.focusout.bind(this));L(this,rn,null);L(this,$l,"");L(this,ta,!1);L(this,$r,null);L(this,Xl,!1);L(this,na,!1);L(this,lr,!1);L(this,Ci,null);L(this,Uo,0);L(this,Fo,0);L(this,Hn,null);$e(this,"_initialOptions",Object.create(null));$e(this,"_isVisible",!0);$e(this,"_uiManager",null);$e(this,"_focusEventsAllowed",!0);$e(this,"_l10nPromise",null);L(this,Yl,!1);L(this,of,pt._zIndex++);this.constructor===pt&&ht("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[r,a];const[o,c]=this.parentDimensions;this.x=e.x/o,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=pt.prototype._resizeWithKeyboard,t=qa.TRANSLATE_SMALL,n=qa.TRANSLATE_BIG;return it(this,"_resizerKeyboardManager",new nd([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],pt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return it(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new $R({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,n){if(pt._l10nPromise||(pt._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(r=>[r,e.get(r.replaceAll(/([A-Z])/g,a=>`-${a.toLowerCase()}`))]))),n!=null&&n.strings)for(const r of n.strings)pt._l10nPromise.set(r,e.get(r));if(pt._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);pt._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){ht("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return g(this,Yl)}set _isDraggable(e){var t;k(this,Yl,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=g(this,of)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):M(this,Je,jc).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(g(this,ta)?k(this,ta,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[r,a]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/r,this.y=(t+i)/a,this.fixAndSetPosition()}translate(e,t){M(this,Je,rm).call(this,this.parentDimensions,e,t)}translateInPage(e,t){g(this,$r)||k(this,$r,[this.x,this.y]),M(this,Je,rm).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){g(this,$r)||k(this,$r,[this.x,this.y]);const[n,i]=this.parentDimensions;if(this.x+=e/n,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:l,y:u}=this.div.getBoundingClientRect();this.parent.findNewParent(this,l,u)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:a}=this;const[o,c]=this.getBaseTranslation();r+=o,a+=c,this.div.style.left=`${(100*r).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!g(this,$r)&&(g(this,$r)[0]!==this.x||g(this,$r)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=pt,i=n/e,r=n/t;switch(this.rotation){case 90:return[-i,r];case 180:return[i,r];case 270:return[i,-r];default:return[-i,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,n]=this.pageDimensions;let{x:i,y:r,width:a,height:o}=this;if(a*=t,o*=n,i*=t,r*=n,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-a,i)),r=Math.max(0,Math.min(n-o,r));break;case 90:i=Math.max(0,Math.min(t-o,i)),r=Math.min(n,Math.max(a,r));break;case 180:i=Math.min(t,Math.max(a,i)),r=Math.min(n,Math.max(o,r));break;case 270:i=Math.min(t,Math.max(o,i)),r=Math.max(0,Math.min(n-a,r));break}this.x=i/=t,this.y=r/=n;const[c,l]=this.getBaseTranslation();i+=c,r+=l;const{style:u}=this.div;u.left=`${(100*i).toFixed(2)}%`,u.top=`${(100*r).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return M(n=pt,Kl,sm).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return M(n=pt,Kl,sm).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this,i=t*e,r=n*e;return _n.isCSSRoundSupported?[Math.round(i),Math.round(r)]:[i,r]}setDims(e,t){const[n,i]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,g(this,js)||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,i=n.endsWith("%"),r=!g(this,js)&&t.endsWith("%");if(i&&r)return;const[a,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(n)/a).toFixed(2)}%`),!g(this,js)&&!r&&(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=g(this,nn))==null||e.finish()}async addEditToolbar(){return g(this,rn)||g(this,na)?g(this,rn):(k(this,rn,new Xg(this)),this.div.append(g(this,rn).render()),g(this,nn)&&g(this,rn).addAltTextButton(await g(this,nn).render()),g(this,rn))}removeEditToolbar(){var e;g(this,rn)&&(g(this,rn).remove(),k(this,rn,null),(e=g(this,nn))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){g(this,nn)||(Vh.initialize(pt._l10nPromise),k(this,nn,new Vh(this)),g(this,Qs)&&(g(this,nn).data=g(this,Qs),k(this,Qs,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=g(this,nn))==null?void 0:e.data}set altTextData(e){g(this,nn)&&(g(this,nn).data=e)}hasAltText(){var e;return!((e=g(this,nn))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=g(this,wo)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",g(this,Eo),{signal:e}),this.div.addEventListener("focusout",g(this,So),{signal:e});const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[i,r]=this.getInitialTranslation();return this.translate(i,r),qh(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=_n.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(k(this,ta,!0),this._isDraggable){M(this,Je,zx).call(this,e);return}M(this,Je,lm).call(this,e)}moveInDOM(){g(this,Ci)&&clearTimeout(g(this,Ci)),k(this,Ci,setTimeout(()=>{var e;k(this,Ci,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t,n=this.rotation){const i=this.parentScale,[r,a]=this.pageDimensions,[o,c]=this.pageTranslation,l=e/i,u=t/i,d=this.x*r,h=this.y*a,p=this.width*r,y=this.height*a;switch(n){case 0:return[d+l+o,a-h-u-y+c,d+l+p+o,a-h-u+c];case 90:return[d+u+o,a-h+l+c,d+u+y+o,a-h+l+p+c];case 180:return[d-l-p+o,a-h+u+c,d-l+o,a-h+u+y+c];case 270:return[d-u-y+o,a-h-l-p+c,d-u+o,a-h-l+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,r,a]=e,o=r-n,c=a-i;switch(this.rotation){case 0:return[n,t-a,o,c];case 90:return[n,t-i,c,o];case 180:return[r,t-i,o,c];case 270:return[r,t-a,c,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){k(this,na,!0)}disableEditMode(){k(this,na,!1)}isInEditMode(){return g(this,na)}shouldGetKeyboardEvents(){return g(this,lr)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t,n;const e=this._uiManager._signal;(t=this.div)==null||t.addEventListener("focusin",g(this,Eo),{signal:e}),(n=this.div)==null||n.addEventListener("focusout",g(this,So),{signal:e})}rotate(e){}serialize(e=!1,t=null){ht("An editor must be serializable")}static deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});i.rotation=e.rotation,k(i,Qs,e.accessibilityData);const[r,a]=i.pageDimensions,[o,c,l,u]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/r,i.y=c/a,i.width=l/r,i.height=u/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",g(this,Eo)),this.div.removeEventListener("focusout",g(this,So)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),g(this,Ci)&&(clearTimeout(g(this,Ci)),k(this,Ci,null)),M(this,Je,jc).call(this),this.removeEditToolbar(),g(this,Hn)){for(const e of g(this,Hn).values())clearTimeout(e);k(this,Hn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(M(this,Je,qx).call(this),g(this,$t).classList.remove("hidden"),qh(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),k(this,ea,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=g(this,$t).children;if(!g(this,ai)){k(this,ai,Array.from(t));const a=M(this,Je,Hx).bind(this),o=M(this,Je,Gx).bind(this),c=this._uiManager._signal;for(const l of g(this,ai)){const u=l.getAttribute("data-resizer-name");l.setAttribute("role","spinbutton"),l.addEventListener("keydown",a,{signal:c}),l.addEventListener("blur",o,{signal:c}),l.addEventListener("focus",M(this,Je,$x).bind(this,u),{signal:c}),pt._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(d=>l.setAttribute("aria-label",d))}}const n=g(this,ai)[0];let i=0;for(const a of t){if(a===n)break;i++}const r=(360-this.rotation+this.parentRotation)%360/90*(g(this,ai).length/4);if(r!==i){if(r<i)for(let o=0;o<i-r;o++)g(this,$t).append(g(this,$t).firstChild);else if(r>i)for(let o=0;o<r-i;o++)g(this,$t).firstChild.before(g(this,$t).lastChild);let a=0;for(const o of t){const l=g(this,ai)[a++].getAttribute("data-resizer-name");pt._l10nPromise.get(`pdfjs-editor-resizer-label-${l}`).then(u=>o.setAttribute("aria-label",u))}}M(this,Je,um).call(this,0),k(this,lr,!0),g(this,$t).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){g(this,lr)&&M(this,Je,cm).call(this,g(this,$l),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){M(this,Je,jc).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!g(this,rn)){this.addEditToolbar().then(()=>{var n,i;(n=this.div)!=null&&n.classList.contains("selectedEditor")&&((i=g(this,rn))==null||i.show())});return}(t=g(this,rn))==null||t.show()}unselect(){var e,t,n,i;(e=g(this,$t))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=g(this,rn))==null||i.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return g(this,Xl)}set isEditing(e){k(this,Xl,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){k(this,js,!0);const n=e/t,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){g(this,Hn)||k(this,Hn,new Map);const{action:n}=e;let i=g(this,Hn).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),g(this,Hn).delete(n),g(this,Hn).size===0&&k(this,Hn,null)},pt._telemetryTimeout),g(this,Hn).set(n,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),k(this,wo,!1)}disable(){this.div&&(this.div.tabIndex=-1),k(this,wo,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Qs=new WeakMap,ai=new WeakMap,nn=new WeakMap,wo=new WeakMap,js=new WeakMap,$t=new WeakMap,ea=new WeakMap,Eo=new WeakMap,So=new WeakMap,rn=new WeakMap,$l=new WeakMap,ta=new WeakMap,$r=new WeakMap,Xl=new WeakMap,na=new WeakMap,lr=new WeakMap,Ci=new WeakMap,Uo=new WeakMap,Fo=new WeakMap,Hn=new WeakMap,Yl=new WeakMap,of=new WeakMap,Je=new WeakSet,rm=function([e,t],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/t,this.fixAndSetPosition()},Kl=new WeakSet,sm=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},am=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},qx=function(){if(g(this,$t))return;k(this,$t,document.createElement("div")),g(this,$t).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const i=document.createElement("div");g(this,$t).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",M(this,Je,Vx).bind(this,n),{signal:t}),i.addEventListener("contextmenu",Tn,{signal:t}),i.tabIndex=-1}this.div.prepend(g(this,$t))},Vx=function(e,t){var v;t.preventDefault();const{isMac:n}=_n.platform;if(t.button!==0||t.ctrlKey&&n)return;(v=g(this,nn))==null||v.toggle(!1);const i=M(this,Je,cm).bind(this,e),r=this._isDraggable;this._isDraggable=!1;const a=this._uiManager._signal,o={passive:!0,capture:!0,signal:a};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,o),window.addEventListener("contextmenu",Tn,{signal:a});const c=this.x,l=this.y,u=this.width,d=this.height,h=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const y=()=>{var b;this.parent.togglePointerEvents(!0),(b=g(this,nn))==null||b.toggle(!0),this._isDraggable=r,window.removeEventListener("pointerup",y),window.removeEventListener("blur",y),window.removeEventListener("pointermove",i,o),window.removeEventListener("contextmenu",Tn),this.parent.div.style.cursor=h,this.div.style.cursor=p,M(this,Je,om).call(this,c,l,u,d)};window.addEventListener("pointerup",y,{signal:a}),window.addEventListener("blur",y,{signal:a})},om=function(e,t,n,i){const r=this.x,a=this.y,o=this.width,c=this.height;r===e&&a===t&&o===n&&c===i||this.addCommands({cmd:()=>{this.width=o,this.height=c,this.x=r,this.y=a;const[l,u]=this.parentDimensions;this.setDims(l*o,u*c),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=i,this.x=e,this.y=t;const[l,u]=this.parentDimensions;this.setDims(l*n,u*i),this.fixAndSetPosition()},mustExec:!0})},cm=function(e,t){const[n,i]=this.parentDimensions,r=this.x,a=this.y,o=this.width,c=this.height,l=pt.MIN_SIZE/n,u=pt.MIN_SIZE/i,d=O=>Math.round(O*1e4)/1e4,h=M(this,Je,am).call(this,this.rotation),p=(O,Y)=>[h[0]*O+h[2]*Y,h[1]*O+h[3]*Y],y=M(this,Je,am).call(this,360-this.rotation),v=(O,Y)=>[y[0]*O+y[2]*Y,y[1]*O+y[3]*Y];let b,x,_=!1,D=!1;switch(e){case"topLeft":_=!0,b=(O,Y)=>[0,0],x=(O,Y)=>[O,Y];break;case"topMiddle":b=(O,Y)=>[O/2,0],x=(O,Y)=>[O/2,Y];break;case"topRight":_=!0,b=(O,Y)=>[O,0],x=(O,Y)=>[0,Y];break;case"middleRight":D=!0,b=(O,Y)=>[O,Y/2],x=(O,Y)=>[0,Y/2];break;case"bottomRight":_=!0,b=(O,Y)=>[O,Y],x=(O,Y)=>[0,0];break;case"bottomMiddle":b=(O,Y)=>[O/2,Y],x=(O,Y)=>[O/2,0];break;case"bottomLeft":_=!0,b=(O,Y)=>[0,Y],x=(O,Y)=>[O,0];break;case"middleLeft":D=!0,b=(O,Y)=>[0,Y/2],x=(O,Y)=>[O,Y/2];break}const A=b(o,c),T=x(o,c);let w=p(...T);const F=d(r+w[0]),I=d(a+w[1]);let U=1,P=1,[H,S]=this.screenToPageTranslation(t.movementX,t.movementY);if([H,S]=v(H/n,S/i),_){const O=Math.hypot(o,c);U=P=Math.max(Math.min(Math.hypot(T[0]-A[0]-H,T[1]-A[1]-S)/O,1/o,1/c),l/o,u/c)}else D?U=Math.max(l,Math.min(1,Math.abs(T[0]-A[0]-H)))/o:P=Math.max(u,Math.min(1,Math.abs(T[1]-A[1]-S)))/c;const N=d(o*U),E=d(c*P);w=p(...x(N,E));const X=F-w[0],W=I-w[1];this.width=N,this.height=E,this.x=X,this.y=W,this.setDims(n*N,i*E),this.fixAndSetPosition()},lm=function(e){const{isMac:t}=_n.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},zx=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let n,i;const r=this._uiManager._signal;t&&(this.div.classList.add("moving"),n={passive:!0,capture:!0,signal:r},k(this,Uo,e.clientX),k(this,Fo,e.clientY),i=o=>{const{clientX:c,clientY:l}=o,[u,d]=this.screenToPageTranslation(c-g(this,Uo),l-g(this,Fo));k(this,Uo,c),k(this,Fo,l),this._uiManager.dragSelectedEditors(u,d)},window.addEventListener("pointermove",i,n));const a=()=>{window.removeEventListener("pointerup",a),window.removeEventListener("blur",a),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,n)),k(this,ta,!1),this._uiManager.endDragSession()||M(this,Je,lm).call(this,e)};window.addEventListener("pointerup",a,{signal:r}),window.addEventListener("blur",a,{signal:r})},Hx=function(e){pt._resizerKeyboardManager.exec(this,e)},Gx=function(e){var t;g(this,lr)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==g(this,$t)&&M(this,Je,jc).call(this)},$x=function(e){k(this,$l,g(this,lr)?e:"")},um=function(e){if(g(this,ai))for(const t of g(this,ai))t.tabIndex=e},jc=function(){if(k(this,lr,!1),M(this,Je,um).call(this,-1),g(this,ea)){const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=g(this,ea);M(this,Je,om).call(this,e,t,n,i),k(this,ea,null)}},L(pt,Kl),$e(pt,"_borderLineWidth",-1),$e(pt,"_colorManager",new Jg),$e(pt,"_zIndex",1),$e(pt,"_telemetryTimeout",1e3);let ut=pt;class $R extends ut{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const jb=3285377520,Wn=4294901760,vi=65535;class Xx{constructor(e){this.h1=e?e&4294967295:jb,this.h2=e?e&4294967295:jb}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let v=0,b=e.length;v<b;v++){const x=e.charCodeAt(v);x<=255?t[n++]=x:(t[n++]=x>>>8,t[n++]=x&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,r=n-i*4,a=new Uint32Array(t.buffer,0,i);let o=0,c=0,l=this.h1,u=this.h2;const d=3432918353,h=461845907,p=d&vi,y=h&vi;for(let v=0;v<i;v++)v&1?(o=a[v],o=o*d&Wn|o*p&vi,o=o<<15|o>>>17,o=o*h&Wn|o*y&vi,l^=o,l=l<<13|l>>>19,l=l*5+3864292196):(c=a[v],c=c*d&Wn|c*p&vi,c=c<<15|c>>>17,c=c*h&Wn|c*y&vi,u^=c,u=u<<13|u>>>19,u=u*5+3864292196);switch(o=0,r){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*d&Wn|o*p&vi,o=o<<15|o>>>17,o=o*h&Wn|o*y&vi,i&1?l^=o:u^=o}this.h1=l,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Wn|e*36045&vi,t=t*4283543511&Wn|((t<<16|e>>>16)*2950163797&Wn)>>>16,e^=t>>>1,e=e*444984403&Wn|e*60499&vi,t=t*3301882366&Wn|((t<<16|e>>>16)*3120437893&Wn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const dm=Object.freeze({map:null,hash:"",transfer:void 0});var ia,Xt,cf,Yx;class my{constructor(){L(this,cf);L(this,ia,!1);L(this,Xt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=g(this,Xt).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return g(this,Xt).get(e)}remove(e){if(g(this,Xt).delete(e),g(this,Xt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of g(this,Xt).values())if(t instanceof ut)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=g(this,Xt).get(e);let i=!1;if(n!==void 0)for(const[r,a]of Object.entries(t))n[r]!==a&&(i=!0,n[r]=a);else i=!0,g(this,Xt).set(e,t);i&&M(this,cf,Yx).call(this),t instanceof ut&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return g(this,Xt).has(e)}getAll(){return g(this,Xt).size>0?ly(g(this,Xt)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return g(this,Xt).size}resetModified(){g(this,ia)&&(k(this,ia,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Kx(this)}get serializable(){if(g(this,Xt).size===0)return dm;const e=new Map,t=new Xx,n=[],i=Object.create(null);let r=!1;for(const[a,o]of g(this,Xt)){const c=o instanceof ut?o.serialize(!1,i):o;c&&(e.set(a,c),t.update(`${a}:${JSON.stringify(c)}`),r||(r=!!c.bitmap))}if(r)for(const a of e.values())a.bitmap&&n.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:dm}get editorStats(){let e=null;const t=new Map;for(const n of g(this,Xt).values()){if(!(n instanceof ut))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:r}=i;t.has(r)||t.set(r,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const a=e[r]||(e[r]=new Map);for(const[o,c]of Object.entries(i)){if(o==="type")continue;let l=a.get(o);l||(l=new Map,a.set(o,l));const u=l.get(c)??0;l.set(c,u+1)}}for(const[n,i]of t)e[n]=i.computeTelemetryFinalData(e[n]);return e}}ia=new WeakMap,Xt=new WeakMap,cf=new WeakSet,Yx=function(){g(this,ia)||(k(this,ia,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Zl;class Kx extends my{constructor(t){super();L(this,Zl);const{map:n,hash:i,transfer:r}=t.serializable,a=structuredClone(n,r?{transfer:r}:null);k(this,Zl,{map:a,hash:i,transfer:r})}get print(){ht("Should not call PrintAnnotationStorage.print")}get serializable(){return g(this,Zl)}}Zl=new WeakMap;var Io;class XR{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){L(this,Io,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),g(this,Io).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||g(this,Io).has(e.loadedName))){if(Bt(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:i,style:r}=e,a=new FontFace(n,i,r);this.addNativeFontFace(a);try{await a.load(),g(this,Io).add(n),t==null||t(e)}catch{Ze(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}ht("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw Ze(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return it(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(sn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),it(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Bt(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const r=n.shift();setTimeout(r.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:t,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return it(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(A,T){return A.charCodeAt(T)<<24|A.charCodeAt(T+1)<<16|A.charCodeAt(T+2)<<8|A.charCodeAt(T+3)&255}function i(A,T,w,F){const I=A.substring(0,T),U=A.substring(T+w);return I+F+U}let r,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const c=o.getContext("2d");let l=0;function u(A,T){if(++l>30){Ze("Load test font never loaded."),T();return}if(c.font="30px "+A,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(u.bind(null,A,T))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=i(h,976,d.length,d);const y=16,v=1482184792;let b=n(h,y);for(r=0,a=d.length-3;r<a;r+=4)b=b-v+n(d,r)|0;r<d.length&&(b=b-v+n(d+"XXX",r)|0),h=i(h,y,4,FR(b));const x=`url(data:font/opentype;base64,${btoa(h)});`,_=`@font-face {font-family:"${d}";src:${x}}`;this.insertRule(_);const D=this._document.createElement("div");D.style.visibility="hidden",D.style.width=D.style.height="10px",D.style.position="absolute",D.style.top=D.style.left="0px";for(const A of[e.loadedName,d]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=A,D.append(T)}this._document.body.append(D),u(d,()=>{D.remove(),t.complete()})}}Io=new WeakMap;class YR{constructor(e,{disableFontFace:t=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=n}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=mx(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),n}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(r){Ze(`getPathGenerator - ignoring character: "${r}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[t]=function(r,a){};const i=[];for(let r=0,a=n.length;r<a;)switch(n[r++]){case $i.BEZIER_CURVE_TO:{const[o,c,l,u,d,h]=n.slice(r,r+6);i.push(p=>p.bezierCurveTo(o,c,l,u,d,h)),r+=6}break;case $i.MOVE_TO:{const[o,c]=n.slice(r,r+2);i.push(l=>l.moveTo(o,c)),r+=2}break;case $i.LINE_TO:{const[o,c]=n.slice(r,r+2);i.push(l=>l.lineTo(o,c)),r+=2}break;case $i.QUADRATIC_CURVE_TO:{const[o,c,l,u]=n.slice(r,r+4);i.push(d=>d.quadraticCurveTo(o,c,l,u)),r+=4}break;case $i.RESTORE:i.push(o=>o.restore());break;case $i.SAVE:i.push(o=>o.save());break;case $i.SCALE:Bt(i.length===2,"Scale command is only valid at the third position.");break;case $i.TRANSFORM:{const[o,c,l,u,d,h]=n.slice(r,r+6);i.push(p=>p.transform(o,c,l,u,d,h)),r+=6}break;case $i.TRANSLATE:{const[o,c]=n.slice(r,r+2);i.push(l=>l.translate(o,c)),r+=2}break}return this.compiledGlyphs[t]=function(a,o){i[0](a),i[1](a),a.scale(o,-o);for(let c=2,l=i.length;c<l;c++)i[c](a)}}}if(sn){var hm=Promise.withResolvers(),hl=null;(async()=>{const e=await Ws(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await Ws(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await Ws(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await Ws(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let r,a;return new Map(Object.entries({fs:e,http:t,https:n,url:i,canvas:r,path2d:a}))})().then(e=>{hl=e,hm.resolve()},e=>{Ze(`loadPackages: ${e}`),hl=new Map,hm.resolve()})}class Vi{static get promise(){return hm.promise}static get(e){return hl==null?void 0:hl.get(e)}}const Zx=function(s){return Vi.get("fs").promises.readFile(s).then(t=>new Uint8Array(t))};class KR extends Ef{}class ZR extends Wh{_createCanvas(e,t){return Vi.get("canvas").createCanvas(e,t)}}class JR extends Sf{_fetchData(e,t){return Zx(e).then(n=>({cMapData:n,compressionType:t}))}}class QR extends Uf{_fetchData(e){return Zx(e)}}const un={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function fm(s,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,n),s.clip(i)}class id{constructor(){this.constructor===id&&ht("Cannot initialize BaseShadingPattern.")}getPattern(){ht("Abstract method `getPattern` called.")}}class jR extends id{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,i){let r;if(i===un.STROKE||i===un.FILL){const a=t.current.getClippedPathBoundingBox(i,Tt(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,c=Math.ceil(a[3]-a[1])||1,l=t.cachedCanvases.getCanvas("pattern",o,c,!0),u=l.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-a[0],-a[1]),n=Me.transform(n,[1,0,0,1,a[0],a[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),fm(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),r=e.createPattern(l.canvas,"no-repeat");const d=new DOMMatrix(n);r.setTransform(d)}else fm(e,this._bbox),r=this._createGradient(e);return r}}function dp(s,e,t,n,i,r,a,o){const c=e.coords,l=e.colors,u=s.data,d=s.width*4;let h;c[t+1]>c[n+1]&&(h=t,t=n,n=h,h=r,r=a,a=h),c[n+1]>c[i+1]&&(h=n,n=i,i=h,h=a,a=o,o=h),c[t+1]>c[n+1]&&(h=t,t=n,n=h,h=r,r=a,a=h);const p=(c[t]+e.offsetX)*e.scaleX,y=(c[t+1]+e.offsetY)*e.scaleY,v=(c[n]+e.offsetX)*e.scaleX,b=(c[n+1]+e.offsetY)*e.scaleY,x=(c[i]+e.offsetX)*e.scaleX,_=(c[i+1]+e.offsetY)*e.scaleY;if(y>=_)return;const D=l[r],A=l[r+1],T=l[r+2],w=l[a],F=l[a+1],I=l[a+2],U=l[o],P=l[o+1],H=l[o+2],S=Math.round(y),N=Math.round(_);let E,X,W,O,Y,$,se,z;for(let J=S;J<=N;J++){if(J<b){const me=J<y?0:(y-J)/(y-b);E=p-(p-v)*me,X=D-(D-w)*me,W=A-(A-F)*me,O=T-(T-I)*me}else{let me;J>_?me=1:b===_?me=0:me=(b-J)/(b-_),E=v-(v-x)*me,X=w-(w-U)*me,W=F-(F-P)*me,O=I-(I-H)*me}let Z;J<y?Z=0:J>_?Z=1:Z=(y-J)/(y-_),Y=p-(p-x)*Z,$=D-(D-U)*Z,se=A-(A-P)*Z,z=T-(T-H)*Z;const oe=Math.round(Math.min(E,Y)),ae=Math.round(Math.max(E,Y));let ve=d*J+oe*4;for(let me=oe;me<=ae;me++)Z=(E-me)/(E-Y),Z<0?Z=0:Z>1&&(Z=1),u[ve++]=X-(X-$)*Z|0,u[ve++]=W-(W-se)*Z|0,u[ve++]=O-(O-z)*Z|0,u[ve++]=255}}function ek(s,e,t){const n=e.coords,i=e.colors;let r,a;switch(e.type){case"lattice":const o=e.verticesPerRow,c=Math.floor(n.length/o)-1,l=o-1;for(r=0;r<c;r++){let u=r*o;for(let d=0;d<l;d++,u++)dp(s,t,n[u],n[u+1],n[u+o],i[u],i[u+1],i[u+o]),dp(s,t,n[u+o+1],n[u+1],n[u+o],i[u+o+1],i[u+1],i[u+o])}break;case"triangles":for(r=0,a=n.length;r<a;r+=3)dp(s,t,n[r],n[r+1],n[r+2],i[r],i[r+1],i[r+2]);break;default:throw new Error("illegal figure")}}class tk extends id{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const o=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),l=Math.ceil(this._bounds[2])-o,u=Math.ceil(this._bounds[3])-c,d=Math.min(Math.ceil(Math.abs(l*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),p=l/d,y=u/h,v={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-c,scaleX:1/p,scaleY:1/y},b=d+2*2,x=h+2*2,_=n.getCanvas("mesh",b,x,!1),D=_.context,A=D.createImageData(d,h);if(t){const w=A.data;for(let F=0,I=w.length;F<I;F+=4)w[F]=t[0],w[F+1]=t[1],w[F+2]=t[2],w[F+3]=255}for(const w of this._figures)ek(A,w,v);return D.putImageData(A,2,2),{canvas:_.canvas,offsetX:o-2*p,offsetY:c-2*y,scaleX:p,scaleY:y}}getPattern(e,t,n,i){fm(e,this._bbox);let r;if(i===un.SHADING)r=Me.singularValueDecompose2dScale(Tt(e));else if(r=Me.singularValueDecompose2dScale(t.baseTransform),this.matrix){const o=Me.singularValueDecompose2dScale(this.matrix);r=[r[0]*o[0],r[1]*o[1]]}const a=this._createMeshCanvas(r,i===un.SHADING?null:this._background,t.cachedCanvases);return i!==un.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class nk extends id{getPattern(){return"hotpink"}}function ik(s){switch(s[0]){case"RadialAxial":return new jR(s);case"Mesh":return new tk(s);case"Dummy":return new nk}throw new Error(`Unknown IR type: ${s[0]}`)}const e0={COLORED:1,UNCOLORED:2},lf=class lf{constructor(e,t,n,i,r){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(e){const t=this.operatorList,n=this.bbox,i=this.xstep,r=this.ystep,a=this.paintType,o=this.tilingType,c=this.color,l=this.canvasGraphicsFactory;Af("TilingType: "+o);const u=n[0],d=n[1],h=n[2],p=n[3],y=Me.singularValueDecompose2dScale(this.matrix),v=Me.singularValueDecompose2dScale(this.baseTransform),b=[y[0]*v[0],y[1]*v[1]],x=this.getSizeAndScale(i,this.ctx.canvas.width,b[0]),_=this.getSizeAndScale(r,this.ctx.canvas.height,b[1]),D=e.cachedCanvases.getCanvas("pattern",x.size,_.size,!0),A=D.context,T=l.createCanvasGraphics(A);T.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(T,a,c);let w=u,F=d,I=h,U=p;return u<0&&(w=0,I+=Math.abs(u)),d<0&&(F=0,U+=Math.abs(d)),A.translate(-(x.scale*w),-(_.scale*F)),T.transform(x.scale,0,0,_.scale,0,0),A.save(),this.clipBbox(T,w,F,I,U),T.baseTransform=Tt(T.ctx),T.executeOperatorList(t),T.endDrawing(),{canvas:D.canvas,scaleX:x.scale,scaleY:_.scale,offsetX:w,offsetY:F}}getSizeAndScale(e,t,n){e=Math.abs(e);const i=Math.max(lf.MAX_PATTERN_SIZE,t);let r=Math.ceil(e*n);return r>=i?r=i:n=r/e,{scale:n,size:r}}clipBbox(e,t,n,i,r){const a=i-t,o=r-n;e.ctx.rect(t,n,a,o),e.current.updateRectMinMax(Tt(e.ctx),[t,n,i,r]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,r=e.current;switch(t){case e0.COLORED:const a=this.ctx;i.fillStyle=a.fillStyle,i.strokeStyle=a.strokeStyle,r.fillColor=a.fillStyle,r.strokeColor=a.strokeStyle;break;case e0.UNCOLORED:const o=Me.makeHexColor(n[0],n[1],n[2]);i.fillStyle=o,i.strokeStyle=o,r.fillColor=o,r.strokeColor=o;break;default:throw new UR(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,i){let r=n;i!==un.SHADING&&(r=Me.transform(r,t.baseTransform),this.matrix&&(r=Me.transform(r,this.matrix)));const a=this.createPatternCanvas(t);let o=new DOMMatrix(r);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const c=e.createPattern(a.canvas,"repeat");return c.setTransform(o),c}};$e(lf,"MAX_PATTERN_SIZE",3e3);let pm=lf;function rk({src:s,srcPos:e=0,dest:t,width:n,height:i,nonBlackColor:r=4294967295,inverseDecode:a=!1}){const o=_n.isLittleEndian?4278190080:255,[c,l]=a?[r,o]:[o,r],u=n>>3,d=n&7,h=s.length;t=new Uint32Array(t.buffer);let p=0;for(let y=0;y<i;y++){for(const b=e+u;e<b;e++){const x=e<h?s[e]:255;t[p++]=x&128?l:c,t[p++]=x&64?l:c,t[p++]=x&32?l:c,t[p++]=x&16?l:c,t[p++]=x&8?l:c,t[p++]=x&4?l:c,t[p++]=x&2?l:c,t[p++]=x&1?l:c}if(d===0)continue;const v=e<h?s[e++]:255;for(let b=0;b<d;b++)t[p++]=v&1<<7-b?l:c}return{srcPos:e,destPos:p}}const t0=16,n0=100,sk=15,i0=10,r0=1e3,bn=16;function ak(s,e){if(s._removeMirroring)throw new Error("Context is already forwarding operations.");s.__originalSave=s.save,s.__originalRestore=s.restore,s.__originalRotate=s.rotate,s.__originalScale=s.scale,s.__originalTranslate=s.translate,s.__originalTransform=s.transform,s.__originalSetTransform=s.setTransform,s.__originalResetTransform=s.resetTransform,s.__originalClip=s.clip,s.__originalMoveTo=s.moveTo,s.__originalLineTo=s.lineTo,s.__originalBezierCurveTo=s.bezierCurveTo,s.__originalRect=s.rect,s.__originalClosePath=s.closePath,s.__originalBeginPath=s.beginPath,s._removeMirroring=()=>{s.save=s.__originalSave,s.restore=s.__originalRestore,s.rotate=s.__originalRotate,s.scale=s.__originalScale,s.translate=s.__originalTranslate,s.transform=s.__originalTransform,s.setTransform=s.__originalSetTransform,s.resetTransform=s.__originalResetTransform,s.clip=s.__originalClip,s.moveTo=s.__originalMoveTo,s.lineTo=s.__originalLineTo,s.bezierCurveTo=s.__originalBezierCurveTo,s.rect=s.__originalRect,s.closePath=s.__originalClosePath,s.beginPath=s.__originalBeginPath,delete s._removeMirroring},s.save=function(){e.save(),this.__originalSave()},s.restore=function(){e.restore(),this.__originalRestore()},s.translate=function(n,i){e.translate(n,i),this.__originalTranslate(n,i)},s.scale=function(n,i){e.scale(n,i),this.__originalScale(n,i)},s.transform=function(n,i,r,a,o,c){e.transform(n,i,r,a,o,c),this.__originalTransform(n,i,r,a,o,c)},s.setTransform=function(n,i,r,a,o,c){e.setTransform(n,i,r,a,o,c),this.__originalSetTransform(n,i,r,a,o,c)},s.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},s.rotate=function(n){e.rotate(n),this.__originalRotate(n)},s.clip=function(n){e.clip(n),this.__originalClip(n)},s.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},s.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},s.bezierCurveTo=function(t,n,i,r,a,o){e.bezierCurveTo(t,n,i,r,a,o),this.__originalBezierCurveTo(t,n,i,r,a,o)},s.rect=function(t,n,i,r){e.rect(t,n,i,r),this.__originalRect(t,n,i,r)},s.closePath=function(){e.closePath(),this.__originalClosePath()},s.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class ok{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function gd(s,e,t,n,i,r,a,o,c,l){const[u,d,h,p,y,v]=Tt(s);if(d===0&&h===0){const _=a*u+y,D=Math.round(_),A=o*p+v,T=Math.round(A),w=(a+c)*u+y,F=Math.abs(Math.round(w)-D)||1,I=(o+l)*p+v,U=Math.abs(Math.round(I)-T)||1;return s.setTransform(Math.sign(u),0,0,Math.sign(p),D,T),s.drawImage(e,t,n,i,r,0,0,F,U),s.setTransform(u,d,h,p,y,v),[F,U]}if(u===0&&p===0){const _=o*h+y,D=Math.round(_),A=a*d+v,T=Math.round(A),w=(o+l)*h+y,F=Math.abs(Math.round(w)-D)||1,I=(a+c)*d+v,U=Math.abs(Math.round(I)-T)||1;return s.setTransform(0,Math.sign(d),Math.sign(h),0,D,T),s.drawImage(e,t,n,i,r,0,0,U,F),s.setTransform(u,d,h,p,y,v),[U,F]}s.drawImage(e,t,n,i,r,a,o,c,l);const b=Math.hypot(u,d),x=Math.hypot(h,p);return[b*c,x*l]}function ck(s){const{width:e,height:t}=s;if(e>r0||t>r0)return null;const n=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=e+1;let a=new Uint8Array(r*(t+1)),o,c,l;const u=e+7&-8;let d=new Uint8Array(u*t),h=0;for(const x of s.data){let _=128;for(;_>0;)d[h++]=x&_?0:255,_>>=1}let p=0;for(h=0,d[h]!==0&&(a[0]=1,++p),c=1;c<e;c++)d[h]!==d[h+1]&&(a[c]=d[h]?2:1,++p),h++;for(d[h]!==0&&(a[c]=2,++p),o=1;o<t;o++){h=o*u,l=o*r,d[h-u]!==d[h]&&(a[l]=d[h]?1:8,++p);let x=(d[h]?4:0)+(d[h-u]?8:0);for(c=1;c<e;c++)x=(x>>2)+(d[h+1]?4:0)+(d[h-u+1]?8:0),i[x]&&(a[l+c]=i[x],++p),h++;if(d[h-u]!==d[h]&&(a[l+c]=d[h]?2:4,++p),p>n)return null}for(h=u*(t-1),l=o*r,d[h]!==0&&(a[l]=8,++p),c=1;c<e;c++)d[h]!==d[h+1]&&(a[l+c]=d[h]?4:8,++p),h++;if(d[h]!==0&&(a[l+c]=4,++p),p>n)return null;const y=new Int32Array([0,r,-1,0,-r,0,0,0,1]),v=new Path2D;for(o=0;p&&o<=t;o++){let x=o*r;const _=x+e;for(;x<_&&!a[x];)x++;if(x===_)continue;v.moveTo(x%r,o);const D=x;let A=a[x];do{const T=y[A];do x+=T;while(!a[x]);const w=a[x];w!==5&&w!==10?(A=w,a[x]=0):(A=w&51*A>>4,a[x]&=A>>2|A<<2),v.lineTo(x%r,x/r|0),a[x]||--p}while(D!==x);--o}return d=null,a=null,function(x){x.save(),x.scale(1/e,-1/t),x.translate(0,-t),x.fill(v),x.beginPath(),x.restore()}}class s0{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=px,this.textMatrixScale=1,this.fontMatrix=Wg,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=jt.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=Me.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=Me.applyTransform(t,e),i=Me.applyTransform(t.slice(2),e),r=Me.applyTransform([t[0],t[3]],e),a=Me.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],i[0],r[0],a[0]),this.minY=Math.min(this.minY,n[1],i[1],r[1],a[1]),this.maxX=Math.max(this.maxX,n[0],i[0],r[0],a[0]),this.maxY=Math.max(this.maxY,n[1],i[1],r[1],a[1])}updateScalingPathMinMax(e,t){Me.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,i,r,a,o,c,l,u){const d=Me.bezierBoundingBox(t,n,i,r,a,o,c,l,u);u||this.updateRectMinMax(e,d)}getPathBoundingBox(e=un.FILL,t=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===un.STROKE){t||ht("Stroke bounding box must include transform.");const i=Me.singularValueDecompose2dScale(t),r=i[0]*this.lineWidth/2,a=i[1]*this.lineWidth/2;n[0]-=r,n[1]-=a,n[2]+=r,n[3]+=a}return n}updateClipFromPath(){const e=Me.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=un.FILL,t=null){return Me.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function a0(s,e){if(typeof ImageData<"u"&&e instanceof ImageData){s.putImageData(e,0,0);return}const t=e.height,n=e.width,i=t%bn,r=(t-i)/bn,a=i===0?r:r+1,o=s.createImageData(n,bn);let c=0,l;const u=e.data,d=o.data;let h,p,y,v;if(e.kind===Ld.GRAYSCALE_1BPP){const b=u.byteLength,x=new Uint32Array(d.buffer,0,d.byteLength>>2),_=x.length,D=n+7>>3,A=4294967295,T=_n.isLittleEndian?4278190080:255;for(h=0;h<a;h++){for(y=h<r?bn:i,l=0,p=0;p<y;p++){const w=b-c;let F=0;const I=w>D?n:w*8-7,U=I&-8;let P=0,H=0;for(;F<U;F+=8)H=u[c++],x[l++]=H&128?A:T,x[l++]=H&64?A:T,x[l++]=H&32?A:T,x[l++]=H&16?A:T,x[l++]=H&8?A:T,x[l++]=H&4?A:T,x[l++]=H&2?A:T,x[l++]=H&1?A:T;for(;F<I;F++)P===0&&(H=u[c++],P=128),x[l++]=H&P?A:T,P>>=1}for(;l<_;)x[l++]=0;s.putImageData(o,0,h*bn)}}else if(e.kind===Ld.RGBA_32BPP){for(p=0,v=n*bn*4,h=0;h<r;h++)d.set(u.subarray(c,c+v)),c+=v,s.putImageData(o,0,p),p+=bn;h<a&&(v=n*i*4,d.set(u.subarray(c,c+v)),s.putImageData(o,0,p))}else if(e.kind===Ld.RGB_24BPP)for(y=bn,v=n*y,h=0;h<a;h++){for(h>=r&&(y=i,v=n*y),l=0,p=v;p--;)d[l++]=u[c++],d[l++]=u[c++],d[l++]=u[c++],d[l++]=255;s.putImageData(o,0,h*bn)}else throw new Error(`bad image kind: ${e.kind}`)}function o0(s,e){if(e.bitmap){s.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,i=t%bn,r=(t-i)/bn,a=i===0?r:r+1,o=s.createImageData(n,bn);let c=0;const l=e.data,u=o.data;for(let d=0;d<a;d++){const h=d<r?bn:i;({srcPos:c}=rk({src:l,srcPos:c,dest:u,width:n,height:h,nonBlackColor:0})),s.putImageData(o,0,d*bn)}}function Fc(s,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)s[n]!==void 0&&(e[n]=s[n]);s.setLineDash!==void 0&&(e.setLineDash(s.getLineDash()),e.lineDashOffset=s.lineDashOffset)}function md(s){if(s.strokeStyle=s.fillStyle="#000000",s.fillRule="nonzero",s.globalAlpha=1,s.lineWidth=1,s.lineCap="butt",s.lineJoin="miter",s.miterLimit=10,s.globalCompositeOperation="source-over",s.font="10px sans-serif",s.setLineDash!==void 0&&(s.setLineDash([]),s.lineDashOffset=0),!sn){const{filter:e}=s;e!=="none"&&e!==""&&(s.filter="none")}}function c0(s,e){if(e)return!0;const t=Me.singularValueDecompose2dScale(s);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*hs.PDF_TO_CSS_UNITS);return t[0]<=n&&t[1]<=n}const lk=["butt","round","square"],uk=["miter","round","bevel"],dk={},l0={};var ms,gm,mm;const lv=class lv{constructor(e,t,n,i,r,{optionalContentConfig:a,markedContentStack:o=null},c,l){L(this,ms);this.ctx=e,this.current=new s0(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new ok(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=l,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:i=null}){const r=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,r,a),this.ctx.fillStyle=o,n){const c=this.cachedCanvases.getCanvas("transparent",r,a);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...Tt(this.compositeCtx))}this.ctx.save(),md(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Tt(this.ctx)}executeOperatorList(e,t,n,i){const r=e.argsArray,a=e.fnArray;let o=t||0;const c=r.length;if(c===o)return o;const l=c-o>i0&&typeof n=="function",u=l?Date.now()+sk:0;let d=0;const h=this.commonObjs,p=this.objs;let y;for(;;){if(i!==void 0&&o===i.nextBreakPoint)return i.breakIt(o,n),o;if(y=a[o],y!==ti.dependency)this[y].apply(this,r[o]);else for(const v of r[o]){const b=v.startsWith("g_")?h:p;if(!b.has(v))return b.get(v,n),o}if(o++,o===c)return o;if(l&&++d>i0){if(Date.now()>u)return n(),o;d=0}}}endDrawing(){M(this,ms,gm).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),M(this,ms,mm).call(this)}_scaleImage(e,t){const n=e.width,i=e.height;let r=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=n,c=i,l="prescale1",u,d;for(;r>2&&o>1||a>2&&c>1;){let h=o,p=c;r>2&&o>1&&(h=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),r/=o/h),a>2&&c>1&&(p=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,a/=c/p),u=this.cachedCanvases.getCanvas(l,h,p),d=u.context,d.clearRect(0,0,h,p),d.drawImage(e,0,0,o,c,0,0,h,p),e=u.canvas,o=h,c=p,l=l==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:i}=e,r=this.current.fillColor,a=this.current.patternFill,o=Tt(t);let c,l,u,d;if((e.bitmap||e.data)&&e.count>1){const I=e.bitmap||e.data.buffer;l=JSON.stringify(a?o:[o.slice(0,4),r]),c=this._cachedBitmapsMap.get(I),c||(c=new Map,this._cachedBitmapsMap.set(I,c));const U=c.get(l);if(U&&!a){const P=Math.round(Math.min(o[0],o[2])+o[4]),H=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:U,offsetX:P,offsetY:H}}u=U}u||(d=this.cachedCanvases.getCanvas("maskCanvas",n,i),o0(d.context,e));let h=Me.transform(o,[1/n,0,0,-1/i,0,0]);h=Me.transform(h,[1,0,0,1,0,-i]);const[p,y,v,b]=Me.getAxialAlignedBoundingBox([0,0,n,i],h),x=Math.round(v-p)||1,_=Math.round(b-y)||1,D=this.cachedCanvases.getCanvas("fillCanvas",x,_),A=D.context,T=p,w=y;A.translate(-T,-w),A.transform(...h),u||(u=this._scaleImage(d.canvas,Xi(A)),u=u.img,c&&a&&c.set(l,u)),A.imageSmoothingEnabled=c0(Tt(A),e.interpolate),gd(A,u,0,0,u.width,u.height,0,0,n,i),A.globalCompositeOperation="source-in";const F=Me.transform(Xi(A),[1,0,0,1,-T,-w]);return A.fillStyle=a?r.getPattern(t,this,F,un.FILL):r,A.fillRect(0,0,n,i),c&&!a&&(this.cachedCanvases.delete("fillCanvas"),c.set(l,D.canvas)),{canvas:D.canvas,offsetX:Math.round(T),offsetY:Math.round(w)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=lk[e]}setLineJoin(e){this.ctx.lineJoin=uk[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const r=this.ctx;r.setTransform(...Tt(this.suspendedCtx)),Fc(this.suspendedCtx,r),ak(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Fc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const r=i[0],a=i[1],o=i[2]-r,c=i[3]-a;o===0||c===0||(this.genericComposeSMask(t.context,n,o,c,t.subtype,t.backdrop,t.transferMap,r,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,r,a,o,c,l,u,d){let h=e.canvas,p=c-u,y=l-d;if(a){if(p<0||y<0||p+n>h.width||y+i>h.height){const b=this.cachedCanvases.getCanvas("maskExtension",n,i),x=b.context;x.drawImage(h,-p,-y),a.some(_=>_!==0)&&(x.globalCompositeOperation="destination-atop",x.fillStyle=Me.makeHexColor(...a),x.fillRect(0,0,n,i),x.globalCompositeOperation="source-over"),h=b.canvas,p=y=0}else if(a.some(b=>b!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(p,y,n,i),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=Me.makeHexColor(...a),e.fillRect(p,y,n,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),r==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):r==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const v=new Path2D;v.rect(c,l,n,i),t.clip(v),t.globalCompositeOperation="destination-in",t.drawImage(h,p,y,n,i,c,l,n,i),t.restore()}save(){this.inSMaskMode?(Fc(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Fc(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,i,r,a){this.ctx.transform(e,t,n,i,r,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const i=this.ctx,r=this.current;let a=r.x,o=r.y,c,l;const u=Tt(i),d=u[0]===0&&u[3]===0||u[1]===0&&u[2]===0,h=d?n.slice(0):null;for(let p=0,y=0,v=e.length;p<v;p++)switch(e[p]|0){case ti.rectangle:a=t[y++],o=t[y++];const b=t[y++],x=t[y++],_=a+b,D=o+x;i.moveTo(a,o),b===0||x===0?i.lineTo(_,D):(i.lineTo(_,o),i.lineTo(_,D),i.lineTo(a,D)),d||r.updateRectMinMax(u,[a,o,_,D]),i.closePath();break;case ti.moveTo:a=t[y++],o=t[y++],i.moveTo(a,o),d||r.updatePathMinMax(u,a,o);break;case ti.lineTo:a=t[y++],o=t[y++],i.lineTo(a,o),d||r.updatePathMinMax(u,a,o);break;case ti.curveTo:c=a,l=o,a=t[y+4],o=t[y+5],i.bezierCurveTo(t[y],t[y+1],t[y+2],t[y+3],a,o),r.updateCurvePathMinMax(u,c,l,t[y],t[y+1],t[y+2],t[y+3],a,o,h),y+=6;break;case ti.curveTo2:c=a,l=o,i.bezierCurveTo(a,o,t[y],t[y+1],t[y+2],t[y+3]),r.updateCurvePathMinMax(u,c,l,a,o,t[y],t[y+1],t[y+2],t[y+3],h),a=t[y+2],o=t[y+3],y+=4;break;case ti.curveTo3:c=a,l=o,a=t[y+2],o=t[y+3],i.bezierCurveTo(t[y],t[y+1],a,o,a,o),r.updateCurvePathMinMax(u,c,l,t[y],t[y+1],a,o,a,o,h),y+=4;break;case ti.closePath:i.closePath();break}d&&r.updateScalingPathMinMax(u,h),r.setCurrentPoint(a,o)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(t.save(),t.strokeStyle=n.getPattern(t,this,Xi(t),un.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;let r=!1;i&&(t.save(),t.fillStyle=n.getPattern(t,this,Xi(t),un.FILL),r=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),r&&t.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=dk}eoClip(){this.pendingClip=l0}beginText(){this.current.textMatrix=px,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var u;const n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=n.fontMatrix||Wg,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Ze("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const r=n.loadedName||"sans-serif",a=((u=n.systemFontInfo)==null?void 0:u.css)||`"${r}", ${n.fallbackName}`;let o="normal";n.black?o="900":n.bold&&(o="bold");const c=n.italic?"italic":"normal";let l=t;t<t0?l=t0:t>n0&&(l=n0),this.current.fontSizeScale=t/l,this.ctx.font=`${c} ${o} ${l}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,i,r,a){this.current.textMatrix=[e,t,n,i,r,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,i){const r=this.ctx,a=this.current,o=a.font,c=a.textRenderingMode,l=a.fontSize/a.fontSizeScale,u=c&jt.FILL_STROKE_MASK,d=!!(c&jt.ADD_TO_PATH_FLAG),h=a.patternFill&&!o.missingFile;let p;(o.disableFontFace||d||h)&&(p=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace||h?(r.save(),r.translate(t,n),r.beginPath(),p(r,l),i&&r.setTransform(...i),(u===jt.FILL||u===jt.FILL_STROKE)&&r.fill(),(u===jt.STROKE||u===jt.FILL_STROKE)&&r.stroke(),r.restore()):((u===jt.FILL||u===jt.FILL_STROKE)&&r.fillText(e,t,n),(u===jt.STROKE||u===jt.FILL_STROKE)&&r.strokeText(e,t,n)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Tt(r),x:t,y:n,fontSize:l,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return it(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const r=this.ctx,a=t.fontSizeScale,o=t.charSpacing,c=t.wordSpacing,l=t.fontDirection,u=t.textHScale*l,d=e.length,h=n.vertical,p=h?1:-1,y=n.defaultVMetrics,v=i*t.fontMatrix[0],b=t.textRenderingMode===jt.FILL&&!n.disableFontFace&&!t.patternFill;r.save(),r.transform(...t.textMatrix),r.translate(t.x,t.y+t.textRise),l>0?r.scale(u,-1):r.scale(u,1);let x;if(t.patternFill){r.save();const w=t.fillColor.getPattern(r,this,Xi(r),un.FILL);x=Tt(r),r.restore(),r.fillStyle=w}let _=t.lineWidth;const D=t.textMatrixScale;if(D===0||_===0){const w=t.textRenderingMode&jt.FILL_STROKE_MASK;(w===jt.STROKE||w===jt.FILL_STROKE)&&(_=this.getSinglePixelWidth())}else _/=D;if(a!==1&&(r.scale(a,a),_/=a),r.lineWidth=_,n.isInvalidPDFjsFont){const w=[];let F=0;for(const I of e)w.push(I.unicode),F+=I.width;r.fillText(w.join(""),0,0),t.x+=F*v*u,r.restore(),this.compose();return}let A=0,T;for(T=0;T<d;++T){const w=e[T];if(typeof w=="number"){A+=p*w*i/1e3;continue}let F=!1;const I=(w.isSpace?c:0)+o,U=w.fontChar,P=w.accent;let H,S,N=w.width;if(h){const X=w.vmetric||y,W=-(w.vmetric?X[1]:N*.5)*v,O=X[2]*v;N=X?-X[0]:N,H=W/a,S=(A+O)/a}else H=A/a,S=0;if(n.remeasure&&N>0){const X=r.measureText(U).width*1e3/i*a;if(N<X&&this.isFontSubpixelAAEnabled){const W=N/X;F=!0,r.save(),r.scale(W,1),H/=W}else N!==X&&(H+=(N-X)/2e3*i/a)}if(this.contentVisible&&(w.isInFont||n.missingFile)){if(b&&!P)r.fillText(U,H,S);else if(this.paintChar(U,H,S,x),P){const X=H+i*P.offset.x/a,W=S-i*P.offset.y/a;this.paintChar(P.fontChar,X,W,x)}}const E=h?N*v-I*l:N*v+I*l;A+=E,F&&r.restore()}h?t.y-=A:t.x+=A*u,r.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,i=n.font,r=n.fontSize,a=n.fontDirection,o=i.vertical?1:-1,c=n.charSpacing,l=n.wordSpacing,u=n.textHScale*a,d=n.fontMatrix||Wg,h=e.length,p=n.textRenderingMode===jt.INVISIBLE;let y,v,b,x;if(!(p||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(u,a),y=0;y<h;++y){if(v=e[y],typeof v=="number"){x=o*v*r/1e3,this.ctx.translate(x,0),n.x+=x*u;continue}const _=(v.isSpace?l:0)+c,D=i.charProcOperatorList[v.operatorListId];if(!D){Ze(`Type3 character "${v.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=v,this.save(),t.scale(r,r),t.transform(...d),this.executeOperatorList(D),this.restore()),b=Me.applyTransform([v.width,0],d)[0]*r+_,t.translate(b,0),n.x+=b*u}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,i,r,a){this.ctx.rect(n,i,r-n,a-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=e[1],i=this.baseTransform||Tt(this.ctx),r={createCanvasGraphics:a=>new lv(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new pm(e,n,this.ctx,r,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){const i=Me.makeHexColor(e,t,n);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,t,n){const i=Me.makeHexColor(e,t,n);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=ik(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,Xi(t),un.SHADING);const i=Xi(t);if(i){const{width:r,height:a}=t.canvas,[o,c,l,u]=Me.getAxialAlignedBoundingBox([0,0,r,a],i);this.ctx.fillRect(o,c,l-o,u-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ht("Should not call beginInlineImage")}beginImageData(){ht("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Tt(this.ctx),t)){const n=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],n,i),this.current.updateRectMinMax(Tt(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Af("TODO: Support non-isolated groups."),e.knockout&&Ze("Knockout groups not supported.");const n=Tt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Me.getAxialAlignedBoundingBox(e.bbox,Tt(t));const r=[0,0,t.canvas.width,t.canvas.height];i=Me.intersect(i,r)||[0,0,0,0];const a=Math.floor(i[0]),o=Math.floor(i[1]),c=Math.max(Math.ceil(i[2])-a,1),l=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,c,l]);let u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(u,c,l),h=d.context;h.translate(-a,-o),h.transform(...n),e.smask?this.smaskStack.push({canvas:d.canvas,context:h,offsetX:a,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,o),t.save()),Fc(t,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Tt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const r=Me.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(e,t,n,i,r){if(M(this,ms,gm).call(this),md(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const a=t[2]-t[0],o=t[3]-t[1];if(r&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=a,t[3]=o;const[c,l]=Me.singularValueDecompose2dScale(Tt(this.ctx)),{viewportScale:u}=this,d=Math.ceil(a*this.outputScaleX*u),h=Math.ceil(o*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:p,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(c,0,0,-l,0,o*l),md(this.ctx)}else md(this.ctx),this.ctx.rect(t[0],t[1],a,o),this.ctx.clip(),this.endPath()}this.current=new s0(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),M(this,ms,mm).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=ck(e)),i.compiled)){i.compiled(n);return}const r=this._createMaskCanvas(e),a=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,i=0,r,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const c=Tt(o);o.transform(t,n,i,r,0,0);const l=this._createMaskCanvas(e);o.setTransform(1,0,0,1,l.offsetX-c[4],l.offsetY-c[5]);for(let u=0,d=a.length;u<d;u+=2){const h=Me.transform(c,[t,n,i,r,a[u],a[u+1]]),[p,y]=Me.applyTransform([0,0],h);o.drawImage(l.canvas,p,y)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const r of e){const{data:a,width:o,height:c,transform:l}=r,u=this.cachedCanvases.getCanvas("maskCanvas",o,c),d=u.context;d.save();const h=this.getObject(a,r);o0(d,h),d.globalCompositeOperation="source-in",d.fillStyle=i?n.getPattern(d,this,Xi(t),un.FILL):n,d.fillRect(0,0,o,c),d.restore(),t.save(),t.transform(...l),t.scale(1,-1),gd(t,u.canvas,0,0,o,c,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Ze("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,i){if(!this.contentVisible)return;const r=this.getObject(e);if(!r){Ze("Dependent image isn't ready yet");return}const a=r.width,o=r.height,c=[];for(let l=0,u=i.length;l<u;l+=2)c.push({transform:[t,0,0,n,i[l],i[l+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(r,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:i}=e,r=this.cachedCanvases.getCanvas("inlineImage",n,i),a=r.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",r.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,i=this.ctx;if(this.save(),!sn){const{filter:o}=i;o!=="none"&&o!==""&&(i.filter="none")}i.scale(1/t,-1/n);let r;if(e.bitmap)r=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)r=e;else{const c=this.cachedCanvases.getCanvas("inlineImage",t,n).context;a0(c,e),r=this.applyTransferMapsToCanvas(c)}const a=this._scaleImage(r,Xi(i));i.imageSmoothingEnabled=c0(Tt(i),e.interpolate),gd(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const r=e.width,a=e.height,c=this.cachedCanvases.getCanvas("inlineImage",r,a).context;a0(c,e),i=this.applyTransferMapsToCanvas(c)}for(const r of t)n.save(),n.transform(...r.transform),n.scale(1,-1),gd(n,i,r.x,r.y,r.w,r.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===l0?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Tt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:r}=this.ctx.getTransform();let a,o;if(n===0&&i===0){const c=Math.abs(t),l=Math.abs(r);if(c===l)if(e===0)a=o=1/c;else{const u=c*e;a=o=u<1?1/u:1}else if(e===0)a=1/c,o=1/l;else{const u=c*e,d=l*e;a=u<1?1/u:1,o=d<1?1/d:1}}else{const c=Math.abs(t*r-n*i),l=Math.hypot(t,n),u=Math.hypot(i,r);if(e===0)a=u/c,o=l/c;else{const d=e*c;a=u>d?u/d:1,o=l>d?l/d:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[i,r]=this.getScaleForStroking();if(t.lineWidth=n||1,i===1&&r===1){t.stroke();return}const a=t.getLineDash();if(e&&t.save(),t.scale(i,r),a.length>0){const o=Math.max(i,r);t.setLineDash(a.map(c=>c/o)),t.lineDashOffset/=o}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};ms=new WeakSet,gm=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},mm=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let go=lv;for(const s in ti)go.prototype[s]!==void 0&&(go.prototype[ti[s]]=go.prototype[s]);var Jl,Ql;class wr{static get workerPort(){return g(this,Jl)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");k(this,Jl,e)}static get workerSrc(){return g(this,Ql)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");k(this,Ql,e)}}Jl=new WeakMap,Ql=new WeakMap,L(wr,Jl,null),L(wr,Ql,"");const yd={DATA:1,ERROR:2},Ft={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Sn(s){switch(s instanceof Error||typeof s=="object"&&s!==null||ht('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),s.name){case"AbortException":return new Xa(s.message);case"MissingPDFException":return new $a(s.message);case"PasswordException":return new Vg(s.message,s.code);case"UnexpectedResponseException":return new Cf(s.message,s.status);case"UnknownErrorException":return new zg(s.message,s.details);default:return new zg(s.message,s.toString())}}var Oi,Jx,Qx,zd;class el{constructor(e,t,n){L(this,Oi);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=i=>{const r=i.data;if(r.targetName!==this.sourceName)return;if(r.stream){M(this,Oi,Qx).call(this,r);return}if(r.callback){const o=r.callbackId,c=this.callbackCapabilities[o];if(!c)throw new Error(`Cannot resolve callback ${o}`);if(delete this.callbackCapabilities[o],r.callback===yd.DATA)c.resolve(r.data);else if(r.callback===yd.ERROR)c.reject(Sn(r.reason));else throw new Error("Unexpected callback case");return}const a=this.actionHandler[r.action];if(!a)throw new Error(`Unknown action from worker: ${r.action}`);if(r.callbackId){const o=this.sourceName,c=r.sourceName;new Promise(function(l){l(a(r.data))}).then(function(l){n.postMessage({sourceName:o,targetName:c,callback:yd.DATA,callbackId:r.callbackId,data:l})},function(l){n.postMessage({sourceName:o,targetName:c,callback:yd.ERROR,callbackId:r.callbackId,reason:Sn(l)})});return}if(r.streamId){M(this,Oi,Jx).call(this,r);return}a(r.data)},n.addEventListener("message",this._onComObjOnMessage)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[i]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(a){r.reject(a)}return r.promise}sendWithStream(e,t,n,i){const r=this.streamId++,a=this.sourceName,o=this.targetName,c=this.comObj;return new ReadableStream({start:l=>{const u=Promise.withResolvers();return this.streamControllers[r]={controller:l,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:a,targetName:o,action:e,streamId:r,data:t,desiredSize:l.desiredSize},i),u.promise},pull:l=>{const u=Promise.withResolvers();return this.streamControllers[r].pullCall=u,c.postMessage({sourceName:a,targetName:o,stream:Ft.PULL,streamId:r,desiredSize:l.desiredSize}),u.promise},cancel:l=>{Bt(l instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[r].cancelCall=u,this.streamControllers[r].isClosed=!0,c.postMessage({sourceName:a,targetName:o,stream:Ft.CANCEL,streamId:r,reason:Sn(l)}),u.promise}},n)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Oi=new WeakSet,Jx=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,r=this.comObj,a=this,o=this.actionHandler[e.action],c={enqueue(l,u=1,d){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=u,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:n,targetName:i,stream:Ft.ENQUEUE,streamId:t,chunk:l},d)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:Ft.CLOSE,streamId:t}),delete a.streamSinks[t])},error(l){Bt(l instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:Ft.ERROR,streamId:t,reason:Sn(l)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,new Promise(function(l){l(o(e.data,c))}).then(function(){r.postMessage({sourceName:n,targetName:i,stream:Ft.START_COMPLETE,streamId:t,success:!0})},function(l){r.postMessage({sourceName:n,targetName:i,stream:Ft.START_COMPLETE,streamId:t,reason:Sn(l)})})},Qx=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,r=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case Ft.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Sn(e.reason));break;case Ft.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Sn(e.reason));break;case Ft.PULL:if(!o){r.postMessage({sourceName:n,targetName:i,stream:Ft.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,new Promise(function(c){var l;c((l=o.onPull)==null?void 0:l.call(o))}).then(function(){r.postMessage({sourceName:n,targetName:i,stream:Ft.PULL_COMPLETE,streamId:t,success:!0})},function(c){r.postMessage({sourceName:n,targetName:i,stream:Ft.PULL_COMPLETE,streamId:t,reason:Sn(c)})});break;case Ft.ENQUEUE:if(Bt(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Ft.CLOSE:if(Bt(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),M(this,Oi,zd).call(this,a,t);break;case Ft.ERROR:Bt(a,"error should have stream controller"),a.controller.error(Sn(e.reason)),M(this,Oi,zd).call(this,a,t);break;case Ft.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Sn(e.reason)),M(this,Oi,zd).call(this,a,t);break;case Ft.CANCEL:if(!o)break;new Promise(function(c){var l;c((l=o.onCancel)==null?void 0:l.call(o,Sn(e.reason)))}).then(function(){r.postMessage({sourceName:n,targetName:i,stream:Ft.CANCEL_COMPLETE,streamId:t,success:!0})},function(c){r.postMessage({sourceName:n,targetName:i,stream:Ft.CANCEL_COMPLETE,streamId:t,reason:Sn(c)})}),o.sinkCapability.reject(Sn(e.reason)),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},zd=async function(e,t){var n,i,r;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(i=e.pullCall)==null?void 0:i.promise,(r=e.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[t]};var ra,jl;class hk{constructor({parsedData:e,rawData:t}){L(this,ra);L(this,jl);k(this,ra,e),k(this,jl,t)}getRaw(){return g(this,jl)}get(e){return g(this,ra).get(e)??null}getAll(){return ly(g(this,ra))}has(e){return g(this,ra).has(e)}}ra=new WeakMap,jl=new WeakMap;const Br=Symbol("INTERNAL");var eu,tu,nu,Ro;class fk{constructor(e,{name:t,intent:n,usage:i}){L(this,eu,!1);L(this,tu,!1);L(this,nu,!1);L(this,Ro,!0);k(this,eu,!!(e&Xn.DISPLAY)),k(this,tu,!!(e&Xn.PRINT)),this.name=t,this.intent=n,this.usage=i}get visible(){if(g(this,nu))return g(this,Ro);if(!g(this,Ro))return!1;const{print:e,view:t}=this.usage;return g(this,eu)?(t==null?void 0:t.viewState)!=="OFF":g(this,tu)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==Br&&ht("Internal method `_setVisible` called."),k(this,nu,n),k(this,Ro,t)}}eu=new WeakMap,tu=new WeakMap,nu=new WeakMap,Ro=new WeakMap;var Xr,dt,ko,Mo,iu,ym;class pk{constructor(e,t=Xn.DISPLAY){L(this,iu);L(this,Xr,null);L(this,dt,new Map);L(this,ko,null);L(this,Mo,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,k(this,Mo,e.order);for(const n of e.groups)g(this,dt).set(n.id,new fk(t,n));if(e.baseState==="OFF")for(const n of g(this,dt).values())n._setVisible(Br,!1);for(const n of e.on)g(this,dt).get(n)._setVisible(Br,!0);for(const n of e.off)g(this,dt).get(n)._setVisible(Br,!1);k(this,ko,this.getHash())}}isVisible(e){if(g(this,dt).size===0)return!0;if(!e)return Af("Optional content group not defined."),!0;if(e.type==="OCG")return g(this,dt).has(e.id)?g(this,dt).get(e.id).visible:(Ze(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return M(this,iu,ym).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!g(this,dt).has(t))return Ze(`Optional content group not found: ${t}`),!0;if(g(this,dt).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!g(this,dt).has(t))return Ze(`Optional content group not found: ${t}`),!0;if(!g(this,dt).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!g(this,dt).has(t))return Ze(`Optional content group not found: ${t}`),!0;if(!g(this,dt).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!g(this,dt).has(t))return Ze(`Optional content group not found: ${t}`),!0;if(g(this,dt).get(t).visible)return!1}return!0}return Ze(`Unknown optional content policy ${e.policy}.`),!0}return Ze(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const n=g(this,dt).get(e);if(!n){Ze(`Optional content group not found: ${e}`);return}n._setVisible(Br,!!t,!0),k(this,Xr,null)}setOCGState({state:e,preserveRB:t}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const r=g(this,dt).get(i);if(r)switch(n){case"ON":r._setVisible(Br,!0);break;case"OFF":r._setVisible(Br,!1);break;case"Toggle":r._setVisible(Br,!r.visible);break}}k(this,Xr,null)}get hasInitialVisibility(){return g(this,ko)===null||this.getHash()===g(this,ko)}getOrder(){return g(this,dt).size?g(this,Mo)?g(this,Mo).slice():[...g(this,dt).keys()]:null}getGroups(){return g(this,dt).size>0?ly(g(this,dt)):null}getGroup(e){return g(this,dt).get(e)||null}getHash(){if(g(this,Xr)!==null)return g(this,Xr);const e=new Xx;for(const[t,n]of g(this,dt))e.update(`${t}:${n.visible}`);return k(this,Xr,e.hexdigest())}}Xr=new WeakMap,dt=new WeakMap,ko=new WeakMap,Mo=new WeakMap,iu=new WeakSet,ym=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const r=e[i];let a;if(Array.isArray(r))a=M(this,iu,ym).call(this,r);else if(g(this,dt).has(r))a=g(this,dt).get(r).visible;else return Ze(`Optional content group not found: ${r}`),!0;switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return n==="And"};class gk{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Bt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:r,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(r==null?void 0:r.length)>0){const c=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,l)=>{this._onReceiveData({begin:c,chunk:l})}),e.addProgressListener((c,l)=>{this._onProgress({loaded:c,total:l})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(r){return r._begin!==e?!1:(r._enqueue(n),!0)});Bt(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,i,r;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(r=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||r.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Bt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new mk(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new yk(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class mk{constructor(e,t,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=py(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class yk{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function vk(s){let e=!0,t=n("filename\\*","i").exec(s);if(t){t=t[1];let u=o(t);return u=unescape(u),u=c(u),u=l(u),r(u)}if(t=a(s),t){const u=l(t);return r(u)}if(t=n("filename","i").exec(s),t){t=t[1];let u=o(t);return u=l(u),r(u)}function n(u,d){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(u,d){if(u){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const h=new TextDecoder(u,{fatal:!0}),p=wf(d);d=h.decode(p),e=!1}catch{}}return d}function r(u){return e&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),e&&(u=i("iso-8859-1",u))),u}function a(u){const d=[];let h;const p=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=p.exec(u))!==null;){let[,v,b,x]=h;if(v=parseInt(v,10),v in d){if(v===0)break;continue}d[v]=[b,x]}const y=[];for(let v=0;v<d.length&&v in d;++v){let[b,x]=d[v];x=o(x),b&&(x=unescape(x),v===0&&(x=c(x))),y.push(x)}return y.join("")}function o(u){if(u.startsWith('"')){const d=u.slice(1).split('\\"');for(let h=0;h<d.length;++h){const p=d[h].indexOf('"');p!==-1&&(d[h]=d[h].slice(0,p),d.length=h+1),d[h]=d[h].replaceAll(/\\(.)/g,"$1")}u=d.join('"')}return u}function c(u){const d=u.indexOf("'");if(d===-1)return u;const h=u.slice(0,d),y=u.slice(d+1).replace(/^[^']*'/,"");return i(h,y)}function l(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,h,p,y){if(p==="q"||p==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,b){return String.fromCharCode(parseInt(b,16))}),i(h,y);try{y=atob(y)}catch{}return i(h,y)})}return""}function yy({getResponseHeader:s,isHttp:e,rangeChunkSize:t,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(s("Content-Length"),10);return!Number.isInteger(r)||(i.suggestedLength=r,r<=2*t)||n||!e||s("Accept-Ranges")!=="bytes"||(s("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function vy(s){const e=s("Content-Disposition");if(e){let t=vk(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(py(t))return t}return null}function If(s,e){return s===404||s===0&&e.startsWith("file:")?new $a('Missing PDF "'+e+'".'):new Cf(`Unexpected server response (${s}) while retrieving PDF "${e}".`,s)}function jx(s){return s===200||s===206}function e_(s,e,t){return{method:"GET",headers:s,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function t_(s){const e=new Headers;for(const t in s){const n=s[t];n!==void 0&&e.append(t,n)}return e}function n_(s){return s instanceof Uint8Array?s.buffer:s instanceof ArrayBuffer?s:(Ze(`getArrayBuffer - unexpected data format: ${s}`),new Uint8Array(s).buffer)}class u0{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Bt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new bk(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new xk(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class bk{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=t_(this._stream.httpHeaders);const n=t.url;fetch(n,e_(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!jx(i.status))throw If(i.status,n);this._reader=i.body.getReader(),this._headersCapability.resolve();const r=c=>i.headers.get(c),{allowRangeRequests:a,suggestedLength:o}=yy({getResponseHeader:r,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=o||this._contentLength,this._filename=vy(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Xa("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:n_(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class xk{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=t_(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${n-1}`);const r=i.url;fetch(r,e_(this._headers,this._withCredentials,this._abortController)).then(a=>{if(!jx(a.status))throw If(a.status,r);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:n_(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const hp=200,fp=206;function _k(s){const e=s.response;return typeof e!="string"?e:wf(e).buffer}class Dk{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const i={begin:e,end:t};for(const r in n)i[r]=n[r];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const r in this.httpHeaders){const a=this.httpHeaders[r];a!==void 0&&t.setRequestHeader(r,a)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=fp):i.expectedStatus=hp,t.responseType="arraybuffer",e.onError&&(t.onerror=function(r){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var i;const n=this.pendingRequests[e];n&&((i=n.onProgress)==null||i.call(n,t))}onStateChange(e,t){var c,l,u;const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(c=n.onError)==null||c.call(n,i.status);return}const r=i.status||hp;if(!(r===hp&&n.expectedStatus===fp)&&r!==n.expectedStatus){(l=n.onError)==null||l.call(n,i.status);return}const o=_k(i);if(r===fp){const d=i.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);n.onDone({begin:parseInt(h[1],10),chunk:o})}else o?n.onDone({begin:0,chunk:o}):(u=n.onError)==null||u.call(n,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class Tk{constructor(e){this._source=e,this._manager=new Dk(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Bt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Ak(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new Ck(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Ak{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=a=>t.getResponseHeader(a),{allowRangeRequests:i,suggestedLength:r}=yy({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=vy(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=If(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Ck{constructor(e,t,n){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=If(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const i_=/^file:\/\/\/[a-zA-Z]:\//;function wk(s){const e=Vi.get("url"),t=e.parse(s);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(s)?e.parse(`file:///${s}`):(t.host||(t.protocol="file:"),t)}class Ek{constructor(e){this.source=e,this.url=wk(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Bt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Fk(this):new Sk(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new Ik(this,e,t):new Uk(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class r_{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Xa("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class s_{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function zh(s,e){return{protocol:s.protocol,auth:s.auth,host:s.hostname,port:s.port,path:s.path,method:"GET",headers:e}}class Sk extends r_{constructor(e){super(e);const t=n=>{if(n.statusCode===404){const o=new $a(`Missing PDF "${this._url}".`);this._storedError=o,this._headersCapability.reject(o);return}this._headersCapability.resolve(),this._setReadableStream(n);const i=o=>this._readableStream.headers[o.toLowerCase()],{allowRangeRequests:r,suggestedLength:a}=yy({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=a||this._contentLength,this._filename=vy(i)};if(this._request=null,this._url.protocol==="http:"){const n=Vi.get("http");this._request=n.request(zh(this._url,e.httpHeaders),t)}else{const n=Vi.get("https");this._request=n.request(zh(this._url,e.httpHeaders),t)}this._request.on("error",n=>{this._storedError=n,this._headersCapability.reject(n)}),this._request.end()}}class Uk extends s_{constructor(e,t,n){super(e),this._httpHeaders={};for(const r in e.httpHeaders){const a=e.httpHeaders[r];a!==void 0&&(this._httpHeaders[r]=a)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;const i=r=>{if(r.statusCode===404){const a=new $a(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(r)};if(this._request=null,this._url.protocol==="http:"){const r=Vi.get("http");this._request=r.request(zh(this._url,this._httpHeaders),i)}else{const r=Vi.get("https");this._request=r.request(zh(this._url,this._httpHeaders),i)}this._request.on("error",r=>{this._storedError=r}),this._request.end()}}class Fk extends r_{constructor(e){super(e);let t=decodeURIComponent(this._url.path);i_.test(this._url.href)&&(t=t.replace(/^\//,""));const n=Vi.get("fs");n.promises.lstat(t).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(t)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new $a(`Missing PDF "${t}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class Ik extends s_{constructor(e,t,n){super(e);let i=decodeURIComponent(this._url.path);i_.test(this._url.href)&&(i=i.replace(/^\//,""));const r=Vi.get("fs");this._setReadableStream(r.createReadStream(i,{start:t,end:n-1}))}}const Rk=1e5,mn=30,kk=.8;var M2,Yr,vn,ru,su,sa,ur,au,ou,aa,No,Po,Kr,Lo,cu,Bo,oa,lu,uu,ca,la,Zr,Oo,kr,a_,o_,vm,Wi,Hd,c_,l_;const tn=class tn{constructor({textContentSource:e,container:t,viewport:n}){L(this,kr);L(this,Yr,Promise.withResolvers());L(this,vn,null);L(this,ru,!1);L(this,su,!!((M2=globalThis.FontInspector)!=null&&M2.enabled));L(this,sa,null);L(this,ur,null);L(this,au,0);L(this,ou,0);L(this,aa,null);L(this,No,null);L(this,Po,0);L(this,Kr,0);L(this,Lo,Object.create(null));L(this,cu,[]);L(this,Bo,null);L(this,oa,[]);L(this,lu,new WeakMap);L(this,uu,null);var c;if(e instanceof ReadableStream)k(this,Bo,e);else if(typeof e=="object")k(this,Bo,new ReadableStream({start(l){l.enqueue(e),l.close()}}));else throw new Error('No "textContentSource" parameter specified.');k(this,vn,k(this,No,t)),k(this,Kr,n.scale*(globalThis.devicePixelRatio||1)),k(this,Po,n.rotation),k(this,ur,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:r,pageX:a,pageY:o}=n.rawDims;k(this,uu,[1,0,0,-1,-a,o+r]),k(this,ou,i),k(this,au,r),M(c=tn,Wi,c_).call(c),Wa(t,n),g(this,Yr).promise.catch(()=>{}).then(()=>{g(tn,Oo).delete(this),k(this,ur,null),k(this,Lo,null)})}render(){const e=()=>{g(this,aa).read().then(({value:t,done:n})=>{if(n){g(this,Yr).resolve();return}g(this,sa)??k(this,sa,t.lang),Object.assign(g(this,Lo),t.styles),M(this,kr,a_).call(this,t.items),e()},g(this,Yr).reject)};return k(this,aa,g(this,Bo).getReader()),g(tn,Oo).add(this),e(),g(this,Yr).promise}update({viewport:e,onBefore:t=null}){var r;const n=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==g(this,Po)&&(t==null||t(),k(this,Po,i),Wa(g(this,No),{rotation:i})),n!==g(this,Kr)){t==null||t(),k(this,Kr,n);const a={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:M(r=tn,Wi,Hd).call(r,g(this,sa))};for(const o of g(this,oa))a.properties=g(this,lu).get(o),a.div=o,M(this,kr,vm).call(this,a)}}cancel(){var t;const e=new Xa("TextLayer task cancelled.");(t=g(this,aa))==null||t.cancel(e).catch(()=>{}),k(this,aa,null),g(this,Yr).reject(e)}get textDivs(){return g(this,oa)}get textContentItemsStr(){return g(this,cu)}static cleanup(){if(!(g(this,Oo).size>0)){g(this,ca).clear();for(const{canvas:e}of g(this,la).values())e.remove();g(this,la).clear()}}};Yr=new WeakMap,vn=new WeakMap,ru=new WeakMap,su=new WeakMap,sa=new WeakMap,ur=new WeakMap,au=new WeakMap,ou=new WeakMap,aa=new WeakMap,No=new WeakMap,Po=new WeakMap,Kr=new WeakMap,Lo=new WeakMap,cu=new WeakMap,Bo=new WeakMap,oa=new WeakMap,lu=new WeakMap,uu=new WeakMap,ca=new WeakMap,la=new WeakMap,Zr=new WeakMap,Oo=new WeakMap,kr=new WeakSet,a_=function(e){var i,r;if(g(this,ru))return;(r=g(this,ur)).ctx??(r.ctx=M(i=tn,Wi,Hd).call(i,g(this,sa)));const t=g(this,oa),n=g(this,cu);for(const a of e){if(t.length>Rk){Ze("Ignoring additional textDivs for performance reasons."),k(this,ru,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=g(this,vn);k(this,vn,document.createElement("span")),g(this,vn).classList.add("markedContent"),a.id!==null&&g(this,vn).setAttribute("id",`${a.id}`),o.append(g(this,vn))}else a.type==="endMarkedContent"&&k(this,vn,g(this,vn).parentNode);continue}n.push(a.str),M(this,kr,o_).call(this,a)}},o_=function(e){var v;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};g(this,oa).push(t);const i=Me.transform(g(this,uu),e.transform);let r=Math.atan2(i[1],i[0]);const a=g(this,Lo)[e.fontName];a.vertical&&(r+=Math.PI/2);const o=g(this,su)&&a.fontSubstitution||a.fontFamily,c=Math.hypot(i[2],i[3]),l=c*M(v=tn,Wi,l_).call(v,o,g(this,sa));let u,d;r===0?(u=i[4],d=i[5]-l):(u=i[4]+l*Math.sin(r),d=i[5]-l*Math.cos(r));const h="calc(var(--scale-factor)*",p=t.style;g(this,vn)===g(this,No)?(p.left=`${(100*u/g(this,ou)).toFixed(2)}%`,p.top=`${(100*d/g(this,au)).toFixed(2)}%`):(p.left=`${h}${u.toFixed(2)}px)`,p.top=`${h}${d.toFixed(2)}px)`),p.fontSize=`${h}${(g(tn,Zr)*c).toFixed(2)}px)`,p.fontFamily=o,n.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,g(this,su)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),r!==0&&(n.angle=r*(180/Math.PI));let y=!1;if(e.str.length>1)y=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),x=Math.abs(e.transform[3]);b!==x&&Math.max(b,x)/Math.min(b,x)>1.5&&(y=!0)}if(y&&(n.canvasWidth=a.vertical?e.height:e.width),g(this,lu).set(t,n),g(this,ur).div=t,g(this,ur).properties=n,M(this,kr,vm).call(this,g(this,ur)),n.hasText&&g(this,vn).append(t),n.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),g(this,vn).append(b)}},vm=function(e){const{div:t,properties:n,ctx:i,prevFontSize:r,prevFontFamily:a}=e,{style:o}=t;let c="";if(g(tn,Zr)>1&&(c=`scale(${1/g(tn,Zr)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:l}=o,{canvasWidth:u,fontSize:d}=n;(r!==d||a!==l)&&(i.font=`${d*g(this,Kr)}px ${l}`,e.prevFontSize=d,e.prevFontFamily=l);const{width:h}=i.measureText(t.textContent);h>0&&(c=`scaleX(${u*g(this,Kr)/h}) ${c}`)}n.angle!==0&&(c=`rotate(${n.angle}deg) ${c}`),c.length>0&&(o.transform=c)},Wi=new WeakSet,Hd=function(e=null){let t=g(this,la).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),g(this,la).set(e,t)}return t},c_=function(){if(g(this,Zr)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),k(this,Zr,e.getBoundingClientRect().height),e.remove()},l_=function(e,t){const n=g(this,ca).get(e);if(n)return n;const i=M(this,Wi,Hd).call(this,t),r=i.font;i.canvas.width=i.canvas.height=mn,i.font=`${mn}px ${e}`;const a=i.measureText("");let o=a.fontBoundingBoxAscent,c=Math.abs(a.fontBoundingBoxDescent);if(o){const d=o/(o+c);return g(this,ca).set(e,d),i.canvas.width=i.canvas.height=0,i.font=r,d}i.strokeStyle="red",i.clearRect(0,0,mn,mn),i.strokeText("g",0,0);let l=i.getImageData(0,0,mn,mn).data;c=0;for(let d=l.length-1-3;d>=0;d-=4)if(l[d]>0){c=Math.ceil(d/4/mn);break}i.clearRect(0,0,mn,mn),i.strokeText("A",0,mn),l=i.getImageData(0,0,mn,mn).data,o=0;for(let d=0,h=l.length;d<h;d+=4)if(l[d]>0){o=mn-Math.floor(d/4/mn);break}i.canvas.width=i.canvas.height=0,i.font=r;const u=o?o/(o+c):kk;return g(this,ca).set(e,u),u},L(tn,Wi),L(tn,ca,new Map),L(tn,la,new Map),L(tn,Zr,null),L(tn,Oo,new Set);let xc=tn;function Mk(){_x("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:s,container:e,viewport:t,...n}=arguments[0],i=Object.keys(n);i.length>0&&Ze("Ignoring `renderTextLayer` parameters: "+i.join(", "));const r=new xc({textContentSource:s,container:e,viewport:t}),{textDivs:a,textContentItemsStr:o}=r;return{promise:r.render(),textDivs:a,textContentItemsStr:o}}function Nk(){_x("`updateTextLayer`, please use `TextLayer` instead.")}class gl{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function i(r){var c;if(!r)return;let a=null;const o=r.name;if(o==="#text")a=r.value;else if(gl.shouldBuildText(o))(c=r==null?void 0:r.attributes)!=null&&c.textContent?a=r.attributes.textContent:r.value&&(a=r.value);else return;if(a!==null&&t.push({str:a}),!!r.children)for(const l of r.children)i(l)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const Pk=65536,Lk=100,Bk=5e3,Ok=sn?ZR:LR,Wk=sn?JR:bx,qk=sn?KR:PR,Vk=sn?QR:xx;function zk(s={}){typeof s=="string"||s instanceof URL?s={url:s}:(s instanceof ArrayBuffer||ArrayBuffer.isView(s))&&(s={data:s});const e=new bm,{docId:t}=e,n=s.url?Hk(s.url):null,i=s.data?Gk(s.data):null,r=s.httpHeaders||null,a=s.withCredentials===!0,o=s.password??null,c=s.range instanceof u_?s.range:null,l=Number.isInteger(s.rangeChunkSize)&&s.rangeChunkSize>0?s.rangeChunkSize:Pk;let u=s.worker instanceof mo?s.worker:null;const d=s.verbosity,h=typeof s.docBaseUrl=="string"&&!fy(s.docBaseUrl)?s.docBaseUrl:null,p=typeof s.cMapUrl=="string"?s.cMapUrl:null,y=s.cMapPacked!==!1,v=s.CMapReaderFactory||Wk,b=typeof s.standardFontDataUrl=="string"?s.standardFontDataUrl:null,x=s.StandardFontDataFactory||Vk,_=s.stopAtErrors!==!0,D=Number.isInteger(s.maxImageSize)&&s.maxImageSize>-1?s.maxImageSize:-1,A=s.isEvalSupported!==!1,T=typeof s.isOffscreenCanvasSupported=="boolean"?s.isOffscreenCanvasSupported:!sn,w=Number.isInteger(s.canvasMaxAreaInBytes)?s.canvasMaxAreaInBytes:-1,F=typeof s.disableFontFace=="boolean"?s.disableFontFace:sn,I=s.fontExtraProperties===!0,U=s.enableXfa===!0,P=s.ownerDocument||globalThis.document,H=s.disableRange===!0,S=s.disableStream===!0,N=s.disableAutoFetch===!0,E=s.pdfBug===!0,X=s.enableHWA===!0,W=c?c.length:s.length??NaN,O=typeof s.useSystemFonts=="boolean"?s.useSystemFonts:!sn&&!F,Y=typeof s.useWorkerFetch=="boolean"?s.useWorkerFetch:v===bx&&x===xx&&p&&b&&Jc(p,document.baseURI)&&Jc(b,document.baseURI),$=s.canvasFactory||new Ok({ownerDocument:P,enableHWA:X}),se=s.filterFactory||new qk({docId:t,ownerDocument:P}),z=null;CR(d);const J={canvasFactory:$,filterFactory:se};if(Y||(J.cMapReaderFactory=new v({baseUrl:p,isCompressed:y}),J.standardFontDataFactory=new x({baseUrl:b})),!u){const ae={verbosity:d,port:wr.workerPort};u=ae.port?mo.fromPort(ae):new mo(ae),e._worker=u}const Z={docId:t,apiVersion:"4.4.168",data:i,password:o,disableAutoFetch:N,rangeChunkSize:l,length:W,docBaseUrl:h,enableXfa:U,evaluatorOptions:{maxImageSize:D,disableFontFace:F,ignoreErrors:_,isEvalSupported:A,isOffscreenCanvasSupported:T,canvasMaxAreaInBytes:w,fontExtraProperties:I,useSystemFonts:O,cMapUrl:Y?p:null,standardFontDataUrl:Y?b:null}},oe={disableFontFace:F,fontExtraProperties:I,ownerDocument:P,pdfBug:E,styleElement:z,loadingParams:{disableAutoFetch:N,enableXfa:U}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const ae=u.messageHandler.sendWithPromise("GetDocRequest",Z,i?[i.buffer]:null);let ve;if(c)ve=new gk(c,{disableRange:H,disableStream:S});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");ve=(ye=>sn?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&Jc(ye.url)?new u0(ye):new Ek(ye):Jc(ye.url)?new u0(ye):new Tk(ye))({url:n,length:W,httpHeaders:r,withCredentials:a,rangeChunkSize:l,disableRange:H,disableStream:S})}return ae.then(me=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const ye=new el(t,me,u.port),Te=new Kk(ye,e,ve,oe,J);e._transport=Te,ye.send("Ready",null)})}).catch(e._capability.reject),e}function Hk(s){if(s instanceof URL)return s.href;try{return new URL(s,window.location).href}catch{if(sn&&typeof s=="string")return s}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Gk(s){if(sn&&typeof Buffer<"u"&&s instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength)return s;if(typeof s=="string")return wf(s);if(s instanceof ArrayBuffer||ArrayBuffer.isView(s)||typeof s=="object"&&!isNaN(s==null?void 0:s.length))return new Uint8Array(s);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function d0(s){return typeof s=="object"&&Number.isInteger(s==null?void 0:s.num)&&s.num>=0&&Number.isInteger(s==null?void 0:s.gen)&&s.gen>=0}var uf;const df=class df{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${En(df,uf)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,n;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};uf=new WeakMap,L(df,uf,0);let bm=df;class u_{constructor(e,t,n=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){ht("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class $k{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return it(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Jr,dr,Yn,lo,Gd;class Xk{constructor(e,t,n,i=!1){L(this,Yn);L(this,Jr,null);L(this,dr,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new Jb:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new d_,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:r=!1}={}){return new td({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:r})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return it(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:i=qr.ENABLE,transform:r=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:c=null,pageColors:l=null,printAnnotationStorage:u=null}){var D,A;(D=this._stats)==null||D.time("Overall");const d=this._transport.getRenderingIntent(n,i,u),{renderingIntent:h,cacheKey:p}=d;k(this,dr,!1),M(this,Yn,Gd).call(this),o||(o=this._transport.getOptionalContentConfig(h));let y=this._intentStates.get(p);y||(y=Object.create(null),this._intentStates.set(p,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const v=!!(h&Xn.PRINT);y.displayReadyCapability||(y.displayReadyCapability=Promise.withResolvers(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(A=this._stats)==null||A.time("Page Request"),this._pumpOperatorList(d));const b=T=>{var w;y.renderTasks.delete(x),(this._maybeCleanupAfterRender||v)&&k(this,dr,!0),M(this,Yn,lo).call(this,!v),T?(x.capability.reject(T),this._abortOperatorList({intentState:y,reason:T instanceof Error?T:new Error(T)})):x.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(w=globalThis.Stats)!=null&&w.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},x=new _m({callback:b,params:{canvasContext:e,viewport:t,transform:r,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:l});(y.renderTasks||(y.renderTasks=new Set)).add(x);const _=x.task;return Promise.all([y.displayReadyCapability.promise,o]).then(([T,w])=>{var F;if(this.destroyed){b();return}if((F=this._stats)==null||F.time("Rendering"),!(w.renderingIntent&h))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");x.initializeGraphics({transparency:T,optionalContentConfig:w}),x.operatorListChanged()}).catch(b),_}getOperatorList({intent:e="display",annotationMode:t=qr.ENABLE,printAnnotationStorage:n=null}={}){var c;function i(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(o))}const r=this._transport.getRenderingIntent(e,t,n,!0);let a=this._intentStates.get(r.cacheKey);a||(a=Object.create(null),this._intentStates.set(r.cacheKey,a));let o;return a.opListReadCapability||(o=Object.create(null),o.operatorListChanged=i,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(o),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(r)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>gl.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,i){function r(){a.read().then(function({value:c,done:l}){if(l){n(o);return}o.lang??(o.lang=c.lang),Object.assign(o.styles,c.styles),o.items.push(...c.items),r()},i)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),k(this,dr,!1),M(this,Yn,Gd).call(this),Promise.all(e)}cleanup(e=!1){k(this,dr,!0);const t=M(this,Yn,lo).call(this,!1);return e&&t&&this._stats&&(this._stats=new Jb),t}_startRenderPage(e,t){var i,r;const n=this._intentStates.get(t);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(r=n.displayReadyCapability)==null||r.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&M(this,Yn,lo).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n}){const{map:i,transfer:r}=n,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i},r).getReader(),c=this._intentStates.get(t);c.streamReader=o;const l=()=>{o.read().then(({value:u,done:d})=>{if(d){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(u,c),l())},u=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const d of c.renderTasks)d.operatorListChanged();M(this,Yn,lo).call(this,!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(u);else if(c.opListReadCapability)c.opListReadCapability.reject(u);else throw u}})};l()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof hy){let i=Lk;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Xa(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,r]of this._intentStates)if(r===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Jr=new WeakMap,dr=new WeakMap,Yn=new WeakSet,lo=function(e=!1){if(M(this,Yn,Gd).call(this),!g(this,dr)||this.destroyed)return!1;if(e)return k(this,Jr,setTimeout(()=>{k(this,Jr,null),M(this,Yn,lo).call(this,!1)},Bk)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),k(this,dr,!1),!0},Gd=function(){g(this,Jr)&&(clearTimeout(g(this,Jr)),k(this,Jr,null))};var ua,hf;class Yk{constructor(){L(this,ua,new Set);L(this,hf,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};g(this,hf).then(()=>{for(const i of g(this,ua))i.call(this,n)})}addEventListener(e,t){g(this,ua).add(t)}removeEventListener(e,t){g(this,ua).delete(t)}terminate(){g(this,ua).clear()}}ua=new WeakMap,hf=new WeakMap;const tr={isWorkerDisabled:!1,fakeWorkerId:0};sn&&(tr.isWorkerDisabled=!0,wr.workerSrc||(wr.workerSrc="./pdf.worker.mjs")),tr.isSameOrigin=function(s,e){let t;try{if(t=new URL(s),!t.origin||t.origin==="null")return!1}catch{return!1}const n=new URL(e,t);return t.origin===n.origin},tr.createCDNWrapper=function(s){const e=`await import("${s}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var da,Wo,$d,qo,Xd;const Un=class Un{constructor({name:e=null,port:t=null,verbosity:n=wR()}={}){L(this,Wo);var i;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=g(Un,da))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(g(Un,da)||k(Un,da,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return sn?Promise.all([Vi.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new el("main","worker",e),this._messageHandler.on("ready",function(){}),M(this,Wo,$d).call(this)}_initialize(){if(tr.isWorkerDisabled||g(Un,qo,Xd)){this._setupFakeWorker();return}let{workerSrc:e}=Un;try{tr.isSameOrigin(window.location.href,e)||(e=tr.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new el("main","worker",t),i=()=>{r.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:r.signal}),n.on("test",o=>{if(r.abort(),this.destroyed||!o){i();return}this._messageHandler=n,this._port=t,this._webWorker=t,M(this,Wo,$d).call(this)}),n.on("ready",o=>{if(r.abort(),this.destroyed){i();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};a();return}catch{Af("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){tr.isWorkerDisabled||(Ze("Setting up fake worker."),tr.isWorkerDisabled=!0),Un._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new Yk;this._port=t;const n=`fake${tr.fakeWorkerId++}`,i=new el(n+"_worker",n,t);e.setup(i,t),this._messageHandler=new el(n,n+"_worker",t),M(this,Wo,$d).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=g(Un,da))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(n=g(this,da))==null?void 0:n.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Un(e)}static get workerSrc(){if(wr.workerSrc)return wr.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return it(this,"_setupFakeWorkerGlobal",(async()=>g(this,qo,Xd)?g(this,qo,Xd):(await import(this.workerSrc)).WorkerMessageHandler)())}};da=new WeakMap,Wo=new WeakSet,$d=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},qo=new WeakSet,Xd=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},L(Un,qo),L(Un,da);let mo=Un;var hr,wi,Vo,zo,Ei,ha,tl;class Kk{constructor(e,t,n,i,r){L(this,ha);L(this,hr,new Map);L(this,wi,new Map);L(this,Vo,new Map);L(this,zo,new Map);L(this,Ei,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new d_,this.fontLoader=new XR({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return it(this,"annotationStorage",new my)}getRenderingIntent(e,t=qr.ENABLE,n=null,i=!1){let r=Xn.DISPLAY,a=dm;switch(e){case"any":r=Xn.ANY;break;case"display":break;case"print":r=Xn.PRINT;break;default:Ze(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case qr.DISABLE:r+=Xn.ANNOTATIONS_DISABLE;break;case qr.ENABLE:break;case qr.ENABLE_FORMS:r+=Xn.ANNOTATIONS_FORMS;break;case qr.ENABLE_STORAGE:r+=Xn.ANNOTATIONS_STORAGE,a=(r&Xn.PRINT&&n instanceof Kx?n:this.annotationStorage).serializable;break;default:Ze(`getRenderingIntent - invalid annotationMode: ${t}`)}return i&&(r+=Xn.OPLIST),{renderingIntent:r,cacheKey:`${r}_${a.hash}`,annotationStorageSerializable:a}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=g(this,Ei))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of g(this,wi).values())e.push(i._destroy());g(this,wi).clear(),g(this,Vo).clear(),g(this,zo).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),g(this,hr).clear(),this.filterFactory.destroy(),xc.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Xa("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,i)=>{Bt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},i.onPull=()=>{this._fullReader.read().then(function({value:r,done:a}){if(a){i.close();return}Bt(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{i.error(r)})},i.onCancel=r=>{this._fullReader.cancel(r),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",n=>{const i=Promise.withResolvers(),r=this._fullReader;return r.headersReady.then(()=>{var a;(!r.isStreamingSupported||!r.isRangeSupported)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),r.onProgress=o=>{var c;(c=t.onProgress)==null||c.call(t,{loaded:o.loaded,total:o.total})}),i.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(n,i)=>{Bt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(n.begin,n.end);if(!r){i.close();return}i.onPull=()=>{r.read().then(function({value:a,done:o}){if(o){i.close();return}Bt(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{r.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new $k(n,this))}),e.on("DocException",function(n){let i;switch(n.name){case"PasswordException":i=new Vg(n.message,n.code);break;case"InvalidPDFException":i=new gx(n.message);break;case"MissingPDFException":i=new $a(n.message);break;case"UnexpectedResponseException":i=new Cf(n.message,n.status);break;case"UnknownErrorException":i=new zg(n.message,n.details);break;default:ht("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",n=>{if(k(this,Ei,Promise.withResolvers()),t.onPassword){const i=r=>{r instanceof Error?g(this,Ei).reject(r):g(this,Ei).resolve({password:r})};try{t.onPassword(i,n.code)}catch(r){g(this,Ei).reject(r)}}else g(this,Ei).reject(new Vg(n.message,n.code));return g(this,Ei).promise}),e.on("DataLoaded",n=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;g(this,wi).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,r])=>{var a;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":const{disableFontFace:o,fontExtraProperties:c,pdfBug:l}=this._params;if("error"in r){const p=r.error;Ze(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}const u=l&&((a=globalThis.FontInspector)!=null&&a.enabled)?(p,y)=>globalThis.FontInspector.fontAdded(p,y):null,d=new YR(r,{disableFontFace:o,inspectFont:u});this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!c&&d.data&&(d.data=null),this.commonObjs.resolve(n,d)});break;case"CopyLocalImage":const{imageRef:h}=r;Bt(h,"The imageRef must be defined.");for(const p of g(this,wi).values())for(const[,y]of p.objs)if((y==null?void 0:y.ref)===h)return y.dataLen?(this.commonObjs.resolve(n,structuredClone(y)),y.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,r);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,r,a])=>{var c;if(this.destroyed)return;const o=g(this,wi).get(i);if(!o.objs.has(n)){if(o._intentStates.size===0){(c=a==null?void 0:a.bitmap)==null||c.close();return}switch(r){case"Image":o.objs.resolve(n,a),(a==null?void 0:a.dataLen)>_R&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(n,a);break;default:throw new Error(`Got unknown object type ${r}`)}}}),e.on("DocProgress",n=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(n):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(n):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Ze("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=g(this,Vo).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&g(this,zo).set(r.refStr,e);const a=new Xk(t,r,this,this._params.pdfBug);return g(this,wi).set(t,a),a});return g(this,Vo).set(t,i),i}getPageIndex(e){return d0(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return M(this,ha,tl).call(this,"GetFieldObjects")}hasJSActions(){return M(this,ha,tl).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return M(this,ha,tl).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return M(this,ha,tl).call(this,"GetOptionalContentConfig").then(t=>new pk(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=g(this,hr).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(i=>{var r,a;return{info:i[0],metadata:i[1]?new hk(i[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return g(this,hr).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of g(this,wi).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),g(this,hr).clear(),this.filterFactory.destroy(!0),xc.cleanup()}}cachedPageNumber(e){if(!d0(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return g(this,zo).get(t)??null}}hr=new WeakMap,wi=new WeakMap,Vo=new WeakMap,zo=new WeakMap,Ei=new WeakMap,ha=new WeakSet,tl=function(e,t=null){const n=g(this,hr).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return g(this,hr).set(e,i),i};const vd=Symbol("INITIAL_DATA");var oi,du,xm;class d_{constructor(){L(this,du);L(this,oi,Object.create(null))}get(e,t=null){if(t){const i=M(this,du,xm).call(this,e);return i.promise.then(()=>t(i.data)),null}const n=g(this,oi)[e];if(!n||n.data===vd)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=g(this,oi)[e];return!!t&&t.data!==vd}resolve(e,t=null){const n=M(this,du,xm).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in g(this,oi)){const{data:n}=g(this,oi)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}k(this,oi,Object.create(null))}*[Symbol.iterator](){for(const e in g(this,oi)){const{data:t}=g(this,oi)[e];t!==vd&&(yield[e,t])}}}oi=new WeakMap,du=new WeakSet,xm=function(e){var t;return(t=g(this,oi))[e]||(t[e]={...Promise.withResolvers(),data:vd})};var Qr;class Zk{constructor(e){L(this,Qr,null);k(this,Qr,e),this.onContinue=null}get promise(){return g(this,Qr).capability.promise}cancel(e=0){g(this,Qr).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=g(this,Qr).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=g(this,Qr);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Qr=new WeakMap;var jr,fa;const Os=class Os{constructor({callback:e,params:t,objs:n,commonObjs:i,annotationCanvasMap:r,operatorList:a,pageIndex:o,canvasFactory:c,filterFactory:l,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:h=null}){L(this,jr,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=c,this.filterFactory=l,this._pdfBug=d,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Zk(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var o,c;if(this.cancelled)return;if(this._canvas){if(g(Os,fa).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");g(Os,fa).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:i,transform:r,background:a}=this.params;this.gfx=new go(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:r,viewport:i,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,t=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),g(this,jr)&&(window.cancelAnimationFrame(g(this,jr)),k(this,jr,null)),g(Os,fa).delete(this._canvas),this.callback(e||new hy(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?k(this,jr,window.requestAnimationFrame(()=>{k(this,jr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),g(Os,fa).delete(this._canvas),this.callback())))}};jr=new WeakMap,fa=new WeakMap,L(Os,fa,new WeakSet);let _m=Os;const Jk="4.4.168",Qk="19fbc8998";function h0(s){return Math.floor(Math.max(0,Math.min(1,s))*255).toString(16).padStart(2,"0")}function Ic(s){return Math.max(0,Math.min(255,255*s))}class f0{static CMYK_G([e,t,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Ic(e),[e,e,e]}static G_HTML([e]){const t=h0(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(Ic)}static RGB_HTML(e){return`#${e.map(h0).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,n,i]){return[Ic(1-Math.min(1,e+i)),Ic(1-Math.min(1,n+i)),Ic(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const i=1-e,r=1-t,a=1-n,o=Math.min(i,r,a);return["CMYK",i,r,a,o]}}class h_{static setupStorage(e,t,n,i,r){const a=i.getValue(t,{value:null});switch(n.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),r==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),r==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),r==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of n.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const c=o.target.options,l=c.selectedIndex===-1?"":c[c.selectedIndex].value;i.setValue(t,{value:l})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:i,linkService:r}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[c,l]of Object.entries(a))if(l!=null)switch(c){case"class":l.length&&e.setAttribute(c,l.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",l);break;case"style":Object.assign(e.style,l);break;case"textContent":e.textContent=l;break;default:(!o||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,l)}o&&r.addLinkAttributes(e,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(e,a.dataId,t,n)}static render(e){var d,h;const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,r=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:r,linkService:n});const o=r!=="richText",c=e.div;if(c.append(a),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=p}o&&c.setAttribute("class","xfaLayer xfaFont");const l=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);a.append(p),o&&gl.shouldBuildText(i.name)&&l.push(p)}return{textDivs:l}}const u=[[i,-1,a]];for(;u.length>0;){const[p,y,v]=u.at(-1);if(y+1===p.children.length){u.pop();continue}const b=p.children[++u.at(-1)[1]];if(b===null)continue;const{name:x}=b;if(x==="#text"){const D=document.createTextNode(b.value);l.push(D),v.append(D);continue}const _=(d=b==null?void 0:b.attributes)!=null&&d.xmlns?document.createElementNS(b.attributes.xmlns,x):document.createElement(x);if(v.append(_),b.attributes&&this.setAttributes({html:_,element:b,storage:t,intent:r,linkService:n}),((h=b.children)==null?void 0:h.length)>0)u.push([b,-1,_]);else if(b.value){const D=document.createTextNode(b.value);o&&gl.shouldBuildText(x)&&l.push(D),_.append(D)}}for(const p of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:l}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const rd=1e3,jk=9,Va=new WeakSet;function Er(s){return{width:s[2]-s[0],height:s[3]-s[1]}}class e3{static create(e){switch(e.data.annotationType){case kt.LINK:return new f_(e);case kt.TEXT:return new t3(e);case kt.WIDGET:switch(e.data.fieldType){case"Tx":return new n3(e);case"Btn":return e.data.radioButton?new m_(e):e.data.checkBox?new r3(e):new s3(e);case"Ch":return new a3(e);case"Sig":return new i3(e)}return new Ya(e);case kt.POPUP:return new Tm(e);case kt.FREETEXT:return new __(e);case kt.LINE:return new c3(e);case kt.SQUARE:return new l3(e);case kt.CIRCLE:return new u3(e);case kt.POLYLINE:return new D_(e);case kt.CARET:return new h3(e);case kt.INK:return new T_(e);case kt.POLYGON:return new d3(e);case kt.HIGHLIGHT:return new f3(e);case kt.UNDERLINE:return new p3(e);case kt.SQUIGGLY:return new g3(e);case kt.STRIKEOUT:return new m3(e);case kt.STAMP:return new A_(e);case kt.FILEATTACHMENT:return new y3(e);default:return new Et(e)}}}var pa,Ho,Go,hu,Dm;const uv=class uv{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){L(this,hu);L(this,pa,null);L(this,Ho,!1);L(this,Go,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:n}){return!!(e!=null&&e.str||t!=null&&t.str||n!=null&&n.str)}get hasPopupData(){return uv._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;g(this,pa)||k(this,pa,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&M(this,hu,Dm).call(this,t),(n=g(this,Go))==null||n.popup.updateEdited(e)}resetEdited(){var e;g(this,pa)&&(M(this,hu,Dm).call(this,g(this,pa).rect),(e=g(this,Go))==null||e.popup.resetEdited(),k(this,pa,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",t.id),this instanceof Ya||(r.tabIndex=rd);const{style:a}=r;if(a.zIndex=this.parent.zIndex++,t.popupRef&&r.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(r.title=t.alternativeText),t.noRotate&&r.classList.add("norotate"),!t.rect||this instanceof Tm){const{rotation:v}=t;return!t.hasOwnCanvas&&v!==0&&this.setRotation(v,r),r}const{width:o,height:c}=Er(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const v=t.borderStyle.horizontalCornerRadius,b=t.borderStyle.verticalCornerRadius;if(v>0||b>0){const _=`calc(${v}px * var(--scale-factor)) / calc(${b}px * var(--scale-factor))`;a.borderRadius=_}else if(this instanceof m_){const _=`calc(${o}px * var(--scale-factor)) / calc(${c}px * var(--scale-factor))`;a.borderRadius=_}switch(t.borderStyle.style){case Uc.SOLID:a.borderStyle="solid";break;case Uc.DASHED:a.borderStyle="dashed";break;case Uc.BEVELED:Ze("Unimplemented border style: beveled");break;case Uc.INSET:Ze("Unimplemented border style: inset");break;case Uc.UNDERLINE:a.borderBottomStyle="solid";break}const x=t.borderColor||null;x?(k(this,Ho,!0),a.borderColor=Me.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):a.borderWidth=0}const l=Me.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:u,pageHeight:d,pageX:h,pageY:p}=i.rawDims;a.left=`${100*(l[0]-h)/u}%`,a.top=`${100*(l[1]-p)/d}%`;const{rotation:y}=t;return t.hasOwnCanvas||y===0?(a.width=`${100*o/u}%`,a.height=`${100*c/d}%`):this.setRotation(y,r),r}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims,{width:r,height:a}=Er(this.data.rect);let o,c;e%180===0?(o=100*r/n,c=100*a/i):(o=100*a/n,c=100*r/i),t.style.width=`${o}%`,t.style.height=`${c}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,i)=>{const r=i.detail[t],a=r[0],o=r.slice(1);i.target.style[n]=f0[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:f0[`${a}_rgb`](o)})};return it(this,"_commonActions",{display:t=>{const{display:n}=t.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail)){const r=e[i]||n[i];r==null||r(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,r]of Object.entries(t)){const a=n[i];if(a){const o={detail:{[i]:r},target:e};a(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,r]=this.data.rect.map(v=>Math.fround(v));if(e.length===8){const[v,b,x,_]=e.subarray(2,6);if(i===v&&r===b&&t===x&&n===_)return}const{style:a}=this.container;let o;if(g(this,Ho)){const{borderColor:v,borderWidth:b}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const c=i-t,l=r-n,{svgFactory:u}=this,d=u.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const h=u.createElement("defs");d.append(h);const p=u.createElement("clipPath"),y=`clippath_${this.data.id}`;p.setAttribute("id",y),p.setAttribute("clipPathUnits","objectBoundingBox"),h.append(p);for(let v=2,b=e.length;v<b;v+=8){const x=e[v],_=e[v+1],D=e[v+2],A=e[v+3],T=u.createElement("rect"),w=(D-t)/c,F=(r-_)/l,I=(x-D)/c,U=(_-A)/l;T.setAttribute("x",w),T.setAttribute("y",F),T.setAttribute("width",I),T.setAttribute("height",U),p.append(T),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${w}" y="${F}" width="${I}" height="${U}"/>`)}g(this,Ho)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(d),this.container.style.clipPath=`url(#${y})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const n=k(this,Go,new Tm({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(n.render())}render(){ht("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:r,id:a,exportValues:o}of i){if(r===-1||a===t)continue;const c=typeof o=="string"?o:null,l=document.querySelector(`[data-element-id="${a}"]`);if(l&&!Va.has(l)){Ze(`_getElementsByName - element not allowed: ${a}`);continue}n.push({id:a,exportValue:c,domElement:l})}return n}for(const i of document.getElementsByName(e)){const{exportValue:r}=i,a=i.getAttribute("data-element-id");a!==t&&Va.has(i)&&n.push({id:a,exportValue:r,domElement:i})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};pa=new WeakMap,Ho=new WeakMap,Go=new WeakMap,hu=new WeakSet,Dm=function(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:a,pageX:o,pageY:c}}}}=this;n==null||n.splice(0,4,...e);const{width:l,height:u}=Er(e);t.left=`${100*(e[0]-o)/r}%`,t.top=`${100*(a-e[3]+c)/a}%`,i===0?(t.width=`${100*l/r}%`,t.height=`${100*u/a}%`):this.setRotation(i)};let Et=uv;var Bn,Ns,p_,g_;class f_ extends Et{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});L(this,Bn);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let r=!1;return t.url?(n.addLinkAttributes(i,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(i,t.action),r=!0):t.attachment?(M(this,Bn,p_).call(this,i,t.attachment,t.attachmentDest),r=!0):t.setOCGState?(M(this,Bn,g_).call(this,i,t.setOCGState),r=!0):t.dest?(this._bindLink(i,t.dest),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),r=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(i),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&M(this,Bn,Ns).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),M(this,Bn,Ns).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(n.actions)){const a=i.get(r);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:r}}),!1})}t.onclick||(t.onclick=()=>!1),M(this,Bn,Ns).call(this)}_bindResetFormAction(t,n){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),M(this,Bn,Ns).call(this),!this._fieldObjects){Ze('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var d;i==null||i();const{fields:r,refs:a,include:o}=n,c=[];if(r.length!==0||a.length!==0){const h=new Set(a);for(const p of r){const y=this._fieldObjects[p]||[];for(const{id:v}of y)h.add(v)}for(const p of Object.values(this._fieldObjects))for(const y of p)h.has(y.id)===o&&c.push(y)}else for(const h of Object.values(this._fieldObjects))c.push(...h);const l=this.annotationStorage,u=[];for(const h of c){const{id:p}=h;switch(u.push(p),h.type){case"text":{const v=h.defaultValue||"";l.setValue(p,{value:v});break}case"checkbox":case"radiobutton":{const v=h.defaultValue===h.exportValues;l.setValue(p,{value:v});break}case"combobox":case"listbox":{const v=h.defaultValue||"";l.setValue(p,{value:v});break}default:continue}const y=document.querySelector(`[data-element-id="${p}"]`);if(y){if(!Va.has(y)){Ze(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}Bn=new WeakSet,Ns=function(){this.container.setAttribute("data-internal-link","")},p_=function(t,n,i=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var r;return(r=this.downloadManager)==null||r.openOrDownloadData(n.content,n.filename,i),!1},M(this,Bn,Ns).call(this)},g_=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),M(this,Bn,Ns).call(this)};class t3 extends Et{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Ya extends Et{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return _n.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,r){n.includes("mouse")?e.addEventListener(n,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(n,a=>{var o;if(n==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}r&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(a)}}))})}_setEventListeners(e,t,n,i){var r,a,o;for(const[c,l]of n)(l==="Action"||(r=this.data.actions)!=null&&r[l])&&((l==="Focus"||l==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,c,l,i),l==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):l==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Me.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||jk,r=e.style;let a;const o=2,c=l=>Math.round(10*l)/10;if(this.data.multiLine){const l=Math.abs(this.data.rect[3]-this.data.rect[1]-o),u=Math.round(l/(cp*i))||1,d=l/u;a=Math.min(i,c(d/cp))}else{const l=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,c(l/cp))}r.fontSize=`calc(${a}px * var(--scale-factor))`,r.color=Me.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(r.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class n3 extends Ya{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,i){const r=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=n),r.setValue(a.id,{[i]:n})}render(){var i,r;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const c=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&o.length>c&&(o=o.slice(0,c));let l=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const u={userValue:o,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=l??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",l??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Va.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=rd,this._setRequired(n,this.data.required),c&&(n.maxLength=c),n.addEventListener("input",h=>{e.setValue(t,{value:h.target.value}),this.setPropertyOnSiblings(n,"value",h.target.value,"value"),u.formattedValue=null}),n.addEventListener("resetform",h=>{const p=this.data.defaultFieldValue??"";n.value=u.userValue=p,u.formattedValue=null});let d=h=>{const{formattedValue:p}=u;p!=null&&(h.target.value=p),h.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",p=>{var v;if(u.focused)return;const{target:y}=p;u.userValue&&(y.value=u.userValue),u.lastCommittedValue=y.value,u.commitKey=1,(v=this.data.actions)!=null&&v.Focus||(u.focused=!0)}),n.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const y={value(v){u.userValue=v.detail.value??"",e.setValue(t,{value:u.userValue.toString()}),v.target.value=u.userValue},formattedValue(v){const{formattedValue:b}=v.detail;u.formattedValue=b,b!=null&&v.target!==document.activeElement&&(v.target.value=b),e.setValue(t,{formattedValue:b})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{var D;const{charLimit:b}=v.detail,{target:x}=v;if(b===0){x.removeAttribute("maxLength");return}x.setAttribute("maxLength",b);let _=u.userValue;!_||_.length<=b||(_=_.slice(0,b),x.value=u.userValue=_,e.setValue(t,{value:_}),(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,willCommit:!0,commitKey:1,selStart:x.selectionStart,selEnd:x.selectionEnd}}))}};this._dispatchEventFromSandbox(y,p)}),n.addEventListener("keydown",p=>{var b;u.commitKey=1;let y=-1;if(p.key==="Escape"?y=0:p.key==="Enter"&&!this.data.multiLine?y=2:p.key==="Tab"&&(u.commitKey=3),y===-1)return;const{value:v}=p.target;u.lastCommittedValue!==v&&(u.lastCommittedValue=v,u.userValue=v,(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:y,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const h=d;d=null,n.addEventListener("blur",p=>{var v,b;if(!u.focused||!p.relatedTarget)return;(v=this.data.actions)!=null&&v.Blur||(u.focused=!1);const{value:y}=p.target;u.userValue=y,u.lastCommittedValue!==y&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:u.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),h(p)}),(r=this.data.actions)!=null&&r.Keystroke&&n.addEventListener("beforeinput",p=>{var T;u.lastCommittedValue=null;const{data:y,target:v}=p,{value:b,selectionStart:x,selectionEnd:_}=v;let D=x,A=_;switch(p.inputType){case"deleteWordBackward":{const w=b.substring(0,x).match(/\w*[^\w]*$/);w&&(D-=w[0].length);break}case"deleteWordForward":{const w=b.substring(x).match(/^[^\w]*\w*/);w&&(A+=w[0].length);break}case"deleteContentBackward":x===_&&(D-=1);break;case"deleteContentForward":x===_&&(A+=1);break}p.preventDefault(),(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,change:y||"",willCommit:!1,selStart:D,selEnd:A}})}),this._setEventListeners(n,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&n.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/c;n.classList.add("comb"),n.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class i3 extends Ya{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class r3 extends Ya{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return Va.add(r),r.setAttribute("data-element-id",n),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.setAttribute("exportValue",t.exportValue),r.tabIndex=rd,r.addEventListener("change",a=>{const{name:o,checked:c}=a.target;for(const l of this._getElementsByName(o,n)){const u=c&&l.exportValue===t.exportValue;l.domElement&&(l.domElement.checked=u),e.setValue(l.id,{value:u})}e.setValue(n,{value:c})}),r.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",a=>{const o={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(n,{value:c.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class m_ extends Ya{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,n))e.setValue(a.id,{value:!1});const r=document.createElement("input");if(Va.add(r),r.setAttribute("data-element-id",n),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.tabIndex=rd,r.addEventListener("change",a=>{const{name:o,checked:c}=a.target;for(const l of this._getElementsByName(o,n))e.setValue(l.id,{value:!1});e.setValue(n,{value:c})}),r.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;r.addEventListener("updatefromsandbox",o=>{const c={value:l=>{const u=a===l.detail.value;for(const d of this._getElementsByName(l.target.name)){const h=u&&d.id===n;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class s3 extends f_{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class a3 extends Ya{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Va.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=rd;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const d=this.data.defaultFieldValue;for(const h of i.options)h.selected=h.value===d});for(const u of this.data.options){const d=document.createElement("option");d.textContent=u.displayValue,d.value=u.exportValue,n.value.includes(u.exportValue)&&(d.setAttribute("selected",!0),r=!1),i.append(d)}let a=null;if(r){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),a=()=>{u.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=u=>{const d=u?"value":"textContent",{options:h,multiple:p}=i;return p?Array.prototype.filter.call(h,y=>y.selected).map(y=>y[d]):h.selectedIndex===-1?null:h[h.selectedIndex][d]};let c=o(!1);const l=u=>{const d=u.target.options;return Array.prototype.map.call(d,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const d={value(h){a==null||a();const p=h.detail.value,y=new Set(Array.isArray(p)?p:[p]);for(const v of i.options)v.selected=y.has(v.value);e.setValue(t,{value:o(!0)}),c=o(!1)},multipleSelection(h){i.multiple=!0},remove(h){const p=i.options,y=h.detail.remove;p[y].selected=!1,i.remove(y),p.length>0&&Array.prototype.findIndex.call(p,b=>b.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:o(!0),items:l(h)}),c=o(!1)},clear(h){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),c=o(!1)},insert(h){const{index:p,displayValue:y,exportValue:v}=h.detail.insert,b=i.children[p],x=document.createElement("option");x.textContent=y,x.value=v,b?b.before(x):i.append(x),e.setValue(t,{value:o(!0),items:l(h)}),c=o(!1)},items(h){const{items:p}=h.detail;for(;i.length!==0;)i.remove(0);for(const y of p){const{displayValue:v,exportValue:b}=y,x=document.createElement("option");x.textContent=v,x.value=b,i.append(x)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:l(h)}),c=o(!1)},indices(h){const p=new Set(h.detail.indices);for(const y of h.target.options)y.selected=p.has(y.index);e.setValue(t,{value:o(!0)}),c=o(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(d,u)}),i.addEventListener("input",u=>{var p;const d=o(!0),h=o(!1);e.setValue(t,{value:d}),u.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:h,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Tm extends Et{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:Et._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new o3({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(n=>`${yx}${n}`).join(",")),this.container}}var $o,ff,pf,Xo,ga,Ct,fr,ma,fu,pu,Yo,pr,ci,gr,gu,mr,mu,ya,va,ft,Yd,Am,y_,v_,b_,x_,Kd,Zd,Cm;class o3{constructor({container:e,color:t,elements:n,titleObj:i,modificationDate:r,contentsObj:a,richText:o,parent:c,rect:l,parentRect:u,open:d}){L(this,ft);L(this,$o,M(this,ft,b_).bind(this));L(this,ff,M(this,ft,Cm).bind(this));L(this,pf,M(this,ft,Zd).bind(this));L(this,Xo,M(this,ft,Kd).bind(this));L(this,ga,null);L(this,Ct,null);L(this,fr,null);L(this,ma,null);L(this,fu,null);L(this,pu,null);L(this,Yo,null);L(this,pr,!1);L(this,ci,null);L(this,gr,null);L(this,gu,null);L(this,mr,null);L(this,mu,null);L(this,ya,null);L(this,va,!1);var h;k(this,Ct,e),k(this,mu,i),k(this,fr,a),k(this,mr,o),k(this,pu,c),k(this,ga,t),k(this,gu,l),k(this,Yo,u),k(this,fu,n),k(this,ma,Dx.toDateObject(r)),this.trigger=n.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",g(this,Xo)),p.addEventListener("mouseenter",g(this,pf)),p.addEventListener("mouseleave",g(this,ff)),p.classList.add("popupTriggerArea");for(const p of n)(h=p.container)==null||h.addEventListener("keydown",g(this,$o));g(this,Ct).hidden=!0,d&&M(this,ft,Kd).call(this)}render(){if(g(this,ci))return;const e=k(this,ci,document.createElement("div"));if(e.className="popup",g(this,ga)){const r=e.style.outlineColor=Me.makeHexColor(...g(this,ga));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`:e.style.backgroundColor=Me.makeHexColor(...g(this,ga).map(o=>Math.floor(.7*(255-o)+o)))}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=g(this,mu),e.append(t),g(this,ma)){const r=document.createElement("span");r.classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),r.setAttribute("data-l10n-args",JSON.stringify({date:g(this,ma).toLocaleDateString(),time:g(this,ma).toLocaleTimeString()})),t.append(r)}const i=g(this,ft,Yd);if(i)h_.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(g(this,fr));e.append(r)}g(this,Ct).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let r=0,a=i.length;r<a;++r){const o=i[r];n.append(document.createTextNode(o)),r<a-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;g(this,ya)||k(this,ya,{contentsObj:g(this,fr),richText:g(this,mr)}),e&&k(this,gr,null),t&&(k(this,mr,M(this,ft,v_).call(this,t)),k(this,fr,null)),(n=g(this,ci))==null||n.remove(),k(this,ci,null)}resetEdited(){var e;g(this,ya)&&({contentsObj:En(this,fr)._,richText:En(this,mr)._}=g(this,ya),k(this,ya,null),(e=g(this,ci))==null||e.remove(),k(this,ci,null),k(this,gr,null))}forceHide(){k(this,va,this.isVisible),g(this,va)&&(g(this,Ct).hidden=!0)}maybeShow(){g(this,va)&&(g(this,ci)||M(this,ft,Zd).call(this),k(this,va,!1),g(this,Ct).hidden=!1)}get isVisible(){return g(this,Ct).hidden===!1}}$o=new WeakMap,ff=new WeakMap,pf=new WeakMap,Xo=new WeakMap,ga=new WeakMap,Ct=new WeakMap,fr=new WeakMap,ma=new WeakMap,fu=new WeakMap,pu=new WeakMap,Yo=new WeakMap,pr=new WeakMap,ci=new WeakMap,gr=new WeakMap,gu=new WeakMap,mr=new WeakMap,mu=new WeakMap,ya=new WeakMap,va=new WeakMap,ft=new WeakSet,Yd=function(){const e=g(this,mr),t=g(this,fr);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&g(this,mr).html||null},Am=function(){var e,t,n;return((n=(t=(e=g(this,ft,Yd))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},y_=function(){var e,t,n;return((n=(t=(e=g(this,ft,Yd))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},v_=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:g(this,ft,y_),fontSize:g(this,ft,Am)?`calc(${g(this,ft,Am)}px * var(--scale-factor))`:""}};for(const r of e.split(`
`))t.push({name:"span",value:r,attributes:i});return n},b_=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&g(this,pr))&&M(this,ft,Kd).call(this)},x_=function(){if(g(this,gr)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:r}}}=g(this,pu);let a=!!g(this,Yo),o=a?g(this,Yo):g(this,gu);for(const y of g(this,fu))if(!o||Me.intersect(y.data.rect,o)!==null){o=y.data.rect,a=!0;break}const c=Me.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),u=a?o[2]-o[0]+5:0,d=c[0]+u,h=c[1];k(this,gr,[100*(d-i)/t,100*(h-r)/n]);const{style:p}=g(this,Ct);p.left=`${g(this,gr)[0]}%`,p.top=`${g(this,gr)[1]}%`},Kd=function(){k(this,pr,!g(this,pr)),g(this,pr)?(M(this,ft,Zd).call(this),g(this,Ct).addEventListener("click",g(this,Xo)),g(this,Ct).addEventListener("keydown",g(this,$o))):(M(this,ft,Cm).call(this),g(this,Ct).removeEventListener("click",g(this,Xo)),g(this,Ct).removeEventListener("keydown",g(this,$o)))},Zd=function(){g(this,ci)||this.render(),this.isVisible?g(this,pr)&&g(this,Ct).classList.add("focused"):(M(this,ft,x_).call(this),g(this,Ct).hidden=!1,g(this,Ct).style.zIndex=parseInt(g(this,Ct).style.zIndex)+1e3)},Cm=function(){g(this,Ct).classList.remove("focused"),!(g(this,pr)||!this.isVisible)&&(g(this,Ct).hidden=!0,g(this,Ct).style.zIndex=parseInt(g(this,Ct).style.zIndex)-1e3)};class __ extends Et{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=tt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var yu;class c3 extends Et{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});L(this,yu,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:n,height:i}=Er(t.rect),r=this.svgFactory.create(n,i,!0),a=k(this,yu,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,yu)}addHighlightArea(){this.container.classList.add("highlightArea")}}yu=new WeakMap;var vu;class l3 extends Et{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});L(this,vu,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:n,height:i}=Er(t.rect),r=this.svgFactory.create(n,i,!0),a=t.borderStyle.width,o=k(this,vu,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",n-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,vu)}addHighlightArea(){this.container.classList.add("highlightArea")}}vu=new WeakMap;var bu;class u3 extends Et{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});L(this,bu,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:n,height:i}=Er(t.rect),r=this.svgFactory.create(n,i,!0),a=t.borderStyle.width,o=k(this,bu,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",n/2),o.setAttribute("cy",i/2),o.setAttribute("rx",n/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,bu)}addHighlightArea(){this.container.classList.add("highlightArea")}}bu=new WeakMap;var xu;class D_ extends Et{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});L(this,xu,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:i,popupRef:r}}=this;if(!n)return this.container;const{width:a,height:o}=Er(t),c=this.svgFactory.create(a,o,!0);let l=[];for(let d=0,h=n.length;d<h;d+=2){const p=n[d]-t[0],y=t[3]-n[d+1];l.push(`${p},${y}`)}l=l.join(" ");const u=k(this,xu,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",l),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),c.append(u),this.container.append(c),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,xu)}addHighlightArea(){this.container.classList.add("highlightArea")}}xu=new WeakMap;class d3 extends D_{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class h3 extends Et{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var _u;class T_ extends Et{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});L(this,_u,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=tt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:n,borderStyle:i,popupRef:r}}=this,{width:a,height:o}=Er(t),c=this.svgFactory.create(a,o,!0);for(const l of n){let u=[];for(let h=0,p=l.length;h<p;h+=2){const y=l[h]-t[0],v=t[3]-l[h+1];u.push(`${y},${v}`)}u=u.join(" ");const d=this.svgFactory.createElement(this.svgElementName);g(this,_u).push(d),d.setAttribute("points",u),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),!r&&this.hasPopupData&&this._createPopup(),c.append(d)}return this.container.append(c),this.container}getElementsToTriggerPopup(){return g(this,_u)}addHighlightArea(){this.container.classList.add("highlightArea")}}_u=new WeakMap;class f3 extends Et{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class p3 extends Et{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class g3 extends Et{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class m3 extends Et{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class A_ extends Et{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Du,Tu,wm;class y3 extends Et{constructor(t){var i;super(t,{isRenderable:!0});L(this,Tu);L(this,Du,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",M(this,Tu,wm).bind(this)),k(this,Du,i);const{isMac:r}=_n.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(r?a.metaKey:a.ctrlKey)&&M(this,Tu,wm).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return g(this,Du)}addHighlightArea(){this.container.classList.add("highlightArea")}}Du=new WeakMap,Tu=new WeakSet,wm=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Au,ba,Ko,Ha,C_,Em;class v3{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:i,page:r,viewport:a}){L(this,Ha);L(this,Au,null);L(this,ba,null);L(this,Ko,new Map);this.div=e,k(this,Au,t),k(this,ba,n),this.page=r,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i}async render(e){var a;const{annotations:t}=e,n=this.div;Wa(n,this.viewport);const i=new Map,r={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new dy,annotationStorage:e.annotationStorage||new my,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const c=o.annotationType===kt.POPUP;if(c){const d=i.get(o.id);if(!d)continue;r.elements=d}else{const{width:d,height:h}=Er(o.rect);if(d<=0||h<=0)continue}r.data=o;const l=e3.create(r);if(!l.isRenderable)continue;if(!c&&o.popupRef){const d=i.get(o.popupRef);d?d.push(l):i.set(o.popupRef,[l])}const u=l.render();o.hidden&&(u.style.visibility="hidden"),M(this,Ha,C_).call(this,u,o.id),l.annotationEditorType>0&&(g(this,Ko).set(l.data.id,l),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(l))}M(this,Ha,Em).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Wa(t,{rotation:e.rotation}),M(this,Ha,Em).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(g(this,Ko).values())}getEditableAnnotation(e){return g(this,Ko).get(e)}}Au=new WeakMap,ba=new WeakMap,Ko=new WeakMap,Ha=new WeakSet,C_=function(e,t){var i;const n=e.firstChild||e;n.id=`${yx}${t}`,this.div.append(e),(i=g(this,Au))==null||i.moveElementInDOM(this.div,e,n,!1)},Em=function(){if(!g(this,ba))return;const e=this.div;for(const[t,n]of g(this,ba)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:r}=i;r?r.nodeName==="CANVAS"?r.replaceWith(n):r.classList.contains("annotationContent")?r.after(n):r.before(n):i.append(n)}g(this,ba).clear()};const bd=/\r\n?|\n/g;var Cu,wu,Eu,Su,Uu,li,kn,Fu,Mn,Zo,Rt,w_,E_,S_,Jd,Ur,Qd,jd,U_,Um,F_;const yt=class yt extends ut{constructor(t){super({...t,name:"freeTextEditor"});L(this,Rt);L(this,Cu,this.editorDivBlur.bind(this));L(this,wu,this.editorDivFocus.bind(this));L(this,Eu,this.editorDivInput.bind(this));L(this,Su,this.editorDivKeydown.bind(this));L(this,Uu,this.editorDivPaste.bind(this));L(this,li);L(this,kn,"");L(this,Fu,`${this.id}-editor`);L(this,Mn);L(this,Zo,null);k(this,li,t.color||yt._defaultColor||ut._defaultLineColor),k(this,Mn,t.fontSize||yt._defaultFontSize)}static get _keyboardManager(){const t=yt.prototype,n=a=>a.isEmpty(),i=qa.TRANSLATE_SMALL,r=qa.TRANSLATE_BIG;return it(this,"_keyboardManager",new nd([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:n}]]))}static initialize(t,n){ut.initialize(t,n,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case Ge.FREETEXT_SIZE:yt._defaultFontSize=n;break;case Ge.FREETEXT_COLOR:yt._defaultColor=n;break}}updateParams(t,n){switch(t){case Ge.FREETEXT_SIZE:M(this,Rt,w_).call(this,n);break;case Ge.FREETEXT_COLOR:M(this,Rt,E_).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Ge.FREETEXT_SIZE,yt._defaultFontSize],[Ge.FREETEXT_COLOR,yt._defaultColor||ut._defaultLineColor]]}get propertiesToUpdate(){return[[Ge.FREETEXT_SIZE,g(this,Mn)],[Ge.FREETEXT_COLOR,g(this,li)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-yt._internalPadding*t,-(yt._internalPadding+g(this,Mn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(tt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const t=this._uiManager._signal;this.editorDiv.addEventListener("keydown",g(this,Su),{signal:t}),this.editorDiv.addEventListener("focus",g(this,wu),{signal:t}),this.editorDiv.addEventListener("blur",g(this,Cu),{signal:t}),this.editorDiv.addEventListener("input",g(this,Eu),{signal:t}),this.editorDiv.addEventListener("paste",g(this,Uu),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",g(this,Fu)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",g(this,Su)),this.editorDiv.removeEventListener("focus",g(this,wu)),this.editorDiv.removeEventListener("blur",g(this,Cu)),this.editorDiv.removeEventListener("input",g(this,Eu)),this.editorDiv.removeEventListener("paste",g(this,Uu)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=g(this,kn),n=k(this,kn,M(this,Rt,S_).call(this).trimEnd());if(t===n)return;const i=r=>{if(k(this,kn,r),!r){this.remove();return}M(this,Rt,jd).call(this),this._uiManager.rebuild(this),M(this,Rt,Jd).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(t)},mustExec:!1}),M(this,Rt,Jd).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){yt._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",g(this,Fu)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),ut._l10nPromise.get("pdfjs-free-text-default-content").then(r=>{var a;return(a=this.editorDiv)==null?void 0:a.setAttribute("default-content",r)}),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${g(this,Mn)}px * var(--scale-factor))`,i.color=g(this,li),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),qh(this,this.div,["dblclick","keydown"]),this.width){const[r,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=g(this,Zo);let[c,l]=this.getInitialTranslation();[c,l]=this.pageTranslationToScreen(c,l);const[u,d]=this.pageDimensions,[h,p]=this.pageTranslation;let y,v;switch(this.rotation){case 0:y=t+(o[0]-h)/u,v=n+this.height-(o[1]-p)/d;break;case 90:y=t+(o[0]-h)/u,v=n-(o[1]-p)/d,[c,l]=[l,-c];break;case 180:y=t-this.width+(o[0]-h)/u,v=n-(o[1]-p)/d,[c,l]=[-c,-l];break;case 270:y=t+(o[0]-h-this.height*d)/u,v=n+(o[1]-p-this.width*u)/d,[c,l]=[-l,c];break}this.setAt(y*r,v*a,c,l)}else this.setAt(t*r,n*a,this.width*r,this.height*a);M(this,Rt,jd).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var y,v,b;const n=t.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const r=M(y=yt,Ur,Um).call(y,n.getData("text")||"").replaceAll(bd,`
`);if(!r)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!r.includes(`
`)){o.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:c,startOffset:l}=o,u=[],d=[];if(c.nodeType===Node.TEXT_NODE){const x=c.parentElement;if(d.push(c.nodeValue.slice(l).replaceAll(bd,"")),x!==this.editorDiv){let _=u;for(const D of this.editorDiv.childNodes){if(D===x){_=d;continue}_.push(M(v=yt,Ur,Qd).call(v,D))}}u.push(c.nodeValue.slice(0,l).replaceAll(bd,""))}else if(c===this.editorDiv){let x=u,_=0;for(const D of this.editorDiv.childNodes)_++===l&&(x=d),x.push(M(b=yt,Ur,Qd).call(b,D))}k(this,kn,`${u.join(`
`)}${r}${d.join(`
`)}`),M(this,Rt,jd).call(this);const h=new Range;let p=u.reduce((x,_)=>x+_.length,0);for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const _=x.nodeValue.length;if(p<=_){h.setStart(x,p),h.setEnd(x,p);break}p-=_}a.removeAllRanges(),a.addRange(h)}get contentDiv(){return this.editorDiv}static deserialize(t,n,i){var o;let r=null;if(t instanceof __){const{data:{defaultAppearanceData:{fontSize:c,fontColor:l},rect:u,rotation:d,id:h},textContent:p,textPosition:y,parent:{page:{pageNumber:v}}}=t;if(!p||p.length===0)return null;r=t={annotationType:tt.FREETEXT,color:Array.from(l),fontSize:c,value:p.join(`
`),position:y,pageIndex:v-1,rect:u.slice(0),rotation:d,id:h,deleted:!1}}const a=super.deserialize(t,n,i);return k(a,Mn,t.fontSize),k(a,li,Me.makeHexColor(...t.color)),k(a,kn,M(o=yt,Ur,Um).call(o,t.value)),a.annotationElementId=t.id||null,k(a,Zo,r),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const n=yt._internalPadding*this.parentScale,i=this.getRect(n,n),r=ut._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:g(this,li)),a={annotationType:tt.FREETEXT,color:r,fontSize:g(this,Mn),value:M(this,Rt,U_).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?a:this.annotationElementId&&!M(this,Rt,F_).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:i}=n;i.fontSize=`calc(${g(this,Mn)}px * var(--scale-factor))`,i.color=g(this,li),n.replaceChildren();for(const a of g(this,kn).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),n.append(o)}const r=yt._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(r,r),popupContent:g(this,kn)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Cu=new WeakMap,wu=new WeakMap,Eu=new WeakMap,Su=new WeakMap,Uu=new WeakMap,li=new WeakMap,kn=new WeakMap,Fu=new WeakMap,Mn=new WeakMap,Zo=new WeakMap,Rt=new WeakSet,w_=function(t){const n=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--scale-factor))`,this.translate(0,-(r-g(this,Mn))*this.parentScale),k(this,Mn,r),M(this,Rt,Jd).call(this)},i=g(this,Mn);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ge.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},E_=function(t){const n=r=>{k(this,li,this.editorDiv.style.color=r)},i=g(this,li);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ge.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},S_=function(){var n;const t=[];this.editorDiv.normalize();for(const i of this.editorDiv.childNodes)t.push(M(n=yt,Ur,Qd).call(n,i));return t.join(`
`)},Jd=function(){const[t,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:r,div:a}=this,o=a.style.display,c=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",r.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/n):(this.width=i.height/t,this.height=i.width/n),this.fixAndSetPosition()},Ur=new WeakSet,Qd=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(bd,"")},jd=function(){if(this.editorDiv.replaceChildren(),!!g(this,kn))for(const t of g(this,kn).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},U_=function(){return g(this,kn).replaceAll(" "," ")},Um=function(t){return t.replaceAll(" "," ")},F_=function(t){const{value:n,fontSize:i,color:r,pageIndex:a}=g(this,Zo);return this._hasBeenMoved||t.value!==n||t.fontSize!==i||t.color.some((o,c)=>o!==r[c])||t.pageIndex!==a},L(yt,Ur),$e(yt,"_freeTextDefaultContent",""),$e(yt,"_internalPadding",0),$e(yt,"_defaultColor",null),$e(yt,"_defaultFontSize",10),$e(yt,"_type","freetext"),$e(yt,"_editorType",tt.FREETEXT);let Sm=yt;var Iu,es,ui,hn,I_,eh,R_,k_,Im;class Fm{constructor(e,t=0,n=0,i=!0){L(this,hn);L(this,Iu);L(this,es,[]);L(this,ui,[]);let r=1/0,a=-1/0,o=1/0,c=-1/0;const l=10**-4;for(const{x:b,y:x,width:_,height:D}of e){const A=Math.floor((b-t)/l)*l,T=Math.ceil((b+_+t)/l)*l,w=Math.floor((x-t)/l)*l,F=Math.ceil((x+D+t)/l)*l,I=[A,w,F,!0],U=[T,w,F,!1];g(this,es).push(I,U),r=Math.min(r,A),a=Math.max(a,T),o=Math.min(o,w),c=Math.max(c,F)}const u=a-r+2*n,d=c-o+2*n,h=r-n,p=o-n,y=g(this,es).at(i?-1:-2),v=[y[0],y[2]];for(const b of g(this,es)){const[x,_,D]=b;b[0]=(x-h)/u,b[1]=(_-p)/d,b[2]=(D-p)/d}k(this,Iu,{x:h,y:p,width:u,height:d,lastPoint:v})}getOutlines(){g(this,es).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of g(this,es))t[3]?(e.push(...M(this,hn,Im).call(this,t)),M(this,hn,R_).call(this,t)):(M(this,hn,k_).call(this,t),e.push(...M(this,hn,Im).call(this,t)));return M(this,hn,I_).call(this,e)}}Iu=new WeakMap,es=new WeakMap,ui=new WeakMap,hn=new WeakSet,I_=function(e){const t=[],n=new Set;for(const a of e){const[o,c,l]=a;t.push([o,c,a],[o,l,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const c=t[a][2],l=t[a+1][2];c.push(l),l.push(c),n.add(c),n.add(l)}const i=[];let r;for(;n.size>0;){const a=n.values().next().value;let[o,c,l,u,d]=a;n.delete(a);let h=o,p=c;for(r=[o,l],i.push(r);;){let y;if(n.has(u))y=u;else if(n.has(d))y=d;else break;n.delete(y),[o,c,l,u,d]=y,h!==o&&(r.push(h,p,o,p===c?c:l),h=o),p=p===c?l:c}r.push(h,p)}return new b3(i,g(this,Iu))},eh=function(e){const t=g(this,ui);let n=0,i=t.length-1;for(;n<=i;){const r=n+i>>1,a=t[r][0];if(a===e)return r;a<e?n=r+1:i=r-1}return i+1},R_=function([,e,t]){const n=M(this,hn,eh).call(this,e);g(this,ui).splice(n,0,[e,t])},k_=function([,e,t]){const n=M(this,hn,eh).call(this,e);for(let i=n;i<g(this,ui).length;i++){const[r,a]=g(this,ui)[i];if(r!==e)break;if(r===e&&a===t){g(this,ui).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[r,a]=g(this,ui)[i];if(r!==e)break;if(r===e&&a===t){g(this,ui).splice(i,1);return}}},Im=function(e){const[t,n,i]=e,r=[[t,n,i]],a=M(this,hn,eh).call(this,i);for(let o=0;o<a;o++){const[c,l]=g(this,ui)[o];for(let u=0,d=r.length;u<d;u++){const[,h,p]=r[u];if(!(l<=h||p<=c)){if(h>=c){if(p>l)r[u][1]=l;else{if(d===1)return[];r.splice(u,1),u--,d--}continue}r[u][2]=c,p>l&&r.push([t,l,p])}}}return r};class M_{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof km}}var Ru,Jo;class b3 extends M_{constructor(t,n){super();L(this,Ru);L(this,Jo);k(this,Jo,t),k(this,Ru,n)}toSVGPath(){const t=[];for(const n of g(this,Jo)){let[i,r]=n;t.push(`M${i} ${r}`);for(let a=2;a<n.length;a+=2){const o=n[a],c=n[a+1];o===i?(t.push(`V${c}`),r=c):c===r&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,n,i,r],a){const o=[],c=i-t,l=r-n;for(const u of g(this,Jo)){const d=new Array(u.length);for(let h=0;h<u.length;h+=2)d[h]=t+u[h]*c,d[h+1]=r-u[h+1]*l;o.push(d)}return o}get box(){return g(this,Ru)}}Ru=new WeakMap,Jo=new WeakMap;var Si,yr,Qo,jo,Ui,je,xa,_a,ku,Mu,ec,tc,ts,Nu,gf,mf,Pu,Rm;const ji=class ji{constructor({x:e,y:t},n,i,r,a,o=0){L(this,Pu);L(this,Si);L(this,yr,[]);L(this,Qo);L(this,jo);L(this,Ui,[]);L(this,je,new Float64Array(18));L(this,xa);L(this,_a);L(this,ku);L(this,Mu);L(this,ec);L(this,tc);L(this,ts,[]);k(this,Si,n),k(this,tc,r*i),k(this,jo,a),g(this,je).set([NaN,NaN,NaN,NaN,e,t],6),k(this,Qo,o),k(this,Mu,g(ji,Nu)*i),k(this,ku,g(ji,mf)*i),k(this,ec,i),g(this,ts).push(e,t)}get free(){return!0}isEmpty(){return isNaN(g(this,je)[8])}add({x:e,y:t}){var U;k(this,xa,e),k(this,_a,t);const[n,i,r,a]=g(this,Si);let[o,c,l,u]=g(this,je).subarray(8,12);const d=e-l,h=t-u,p=Math.hypot(d,h);if(p<g(this,ku))return!1;const y=p-g(this,Mu),v=y/p,b=v*d,x=v*h;let _=o,D=c;o=l,c=u,l+=b,u+=x,(U=g(this,ts))==null||U.push(e,t);const A=-x/y,T=b/y,w=A*g(this,tc),F=T*g(this,tc);return g(this,je).set(g(this,je).subarray(2,8),0),g(this,je).set([l+w,u+F],4),g(this,je).set(g(this,je).subarray(14,18),12),g(this,je).set([l-w,u-F],16),isNaN(g(this,je)[6])?(g(this,Ui).length===0&&(g(this,je).set([o+w,c+F],2),g(this,Ui).push(NaN,NaN,NaN,NaN,(o+w-n)/r,(c+F-i)/a),g(this,je).set([o-w,c-F],14),g(this,yr).push(NaN,NaN,NaN,NaN,(o-w-n)/r,(c-F-i)/a)),g(this,je).set([_,D,o,c,l,u],6),!this.isEmpty()):(g(this,je).set([_,D,o,c,l,u],6),Math.abs(Math.atan2(D-c,_-o)-Math.atan2(x,b))<Math.PI/2?([o,c,l,u]=g(this,je).subarray(2,6),g(this,Ui).push(NaN,NaN,NaN,NaN,((o+l)/2-n)/r,((c+u)/2-i)/a),[o,c,_,D]=g(this,je).subarray(14,18),g(this,yr).push(NaN,NaN,NaN,NaN,((_+o)/2-n)/r,((D+c)/2-i)/a),!0):([_,D,o,c,l,u]=g(this,je).subarray(0,6),g(this,Ui).push(((_+5*o)/6-n)/r,((D+5*c)/6-i)/a,((5*o+l)/6-n)/r,((5*c+u)/6-i)/a,((o+l)/2-n)/r,((c+u)/2-i)/a),[l,u,o,c,_,D]=g(this,je).subarray(12,18),g(this,yr).push(((_+5*o)/6-n)/r,((D+5*c)/6-i)/a,((5*o+l)/6-n)/r,((5*c+u)/6-i)/a,((o+l)/2-n)/r,((c+u)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=g(this,Ui),t=g(this,yr),n=g(this,je).subarray(4,6),i=g(this,je).subarray(16,18),[r,a,o,c]=g(this,Si),[l,u,d,h]=M(this,Pu,Rm).call(this);if(isNaN(g(this,je)[6])&&!this.isEmpty())return`M${(g(this,je)[2]-r)/o} ${(g(this,je)[3]-a)/c} L${(g(this,je)[4]-r)/o} ${(g(this,je)[5]-a)/c} L${l} ${u} L${d} ${h} L${(g(this,je)[16]-r)/o} ${(g(this,je)[17]-a)/c} L${(g(this,je)[14]-r)/o} ${(g(this,je)[15]-a)/c} Z`;const p=[];p.push(`M${e[4]} ${e[5]}`);for(let y=6;y<e.length;y+=6)isNaN(e[y])?p.push(`L${e[y+4]} ${e[y+5]}`):p.push(`C${e[y]} ${e[y+1]} ${e[y+2]} ${e[y+3]} ${e[y+4]} ${e[y+5]}`);p.push(`L${(n[0]-r)/o} ${(n[1]-a)/c} L${l} ${u} L${d} ${h} L${(i[0]-r)/o} ${(i[1]-a)/c}`);for(let y=t.length-6;y>=6;y-=6)isNaN(t[y])?p.push(`L${t[y+4]} ${t[y+5]}`):p.push(`C${t[y]} ${t[y+1]} ${t[y+2]} ${t[y+3]} ${t[y+4]} ${t[y+5]}`);return p.push(`L${t[4]} ${t[5]} Z`),p.join(" ")}getOutlines(){var x;const e=g(this,Ui),t=g(this,yr),n=g(this,je),i=n.subarray(4,6),r=n.subarray(16,18),[a,o,c,l]=g(this,Si),u=new Float64Array((((x=g(this,ts))==null?void 0:x.length)??0)+2);for(let _=0,D=u.length-2;_<D;_+=2)u[_]=(g(this,ts)[_]-a)/c,u[_+1]=(g(this,ts)[_+1]-o)/l;u[u.length-2]=(g(this,xa)-a)/c,u[u.length-1]=(g(this,_a)-o)/l;const[d,h,p,y]=M(this,Pu,Rm).call(this);if(isNaN(n[6])&&!this.isEmpty()){const _=new Float64Array(36);return _.set([NaN,NaN,NaN,NaN,(n[2]-a)/c,(n[3]-o)/l,NaN,NaN,NaN,NaN,(n[4]-a)/c,(n[5]-o)/l,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,p,y,NaN,NaN,NaN,NaN,(n[16]-a)/c,(n[17]-o)/l,NaN,NaN,NaN,NaN,(n[14]-a)/c,(n[15]-o)/l],0),new km(_,u,g(this,Si),g(this,ec),g(this,Qo),g(this,jo))}const v=new Float64Array(g(this,Ui).length+24+g(this,yr).length);let b=e.length;for(let _=0;_<b;_+=2){if(isNaN(e[_])){v[_]=v[_+1]=NaN;continue}v[_]=e[_],v[_+1]=e[_+1]}v.set([NaN,NaN,NaN,NaN,(i[0]-a)/c,(i[1]-o)/l,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,p,y,NaN,NaN,NaN,NaN,(r[0]-a)/c,(r[1]-o)/l],b),b+=24;for(let _=t.length-6;_>=6;_-=6)for(let D=0;D<6;D+=2){if(isNaN(t[_+D])){v[b]=v[b+1]=NaN,b+=2;continue}v[b]=t[_+D],v[b+1]=t[_+D+1],b+=2}return v.set([NaN,NaN,NaN,NaN,t[4],t[5]],b),new km(v,u,g(this,Si),g(this,ec),g(this,Qo),g(this,jo))}};Si=new WeakMap,yr=new WeakMap,Qo=new WeakMap,jo=new WeakMap,Ui=new WeakMap,je=new WeakMap,xa=new WeakMap,_a=new WeakMap,ku=new WeakMap,Mu=new WeakMap,ec=new WeakMap,tc=new WeakMap,ts=new WeakMap,Nu=new WeakMap,gf=new WeakMap,mf=new WeakMap,Pu=new WeakSet,Rm=function(){const e=g(this,je).subarray(4,6),t=g(this,je).subarray(16,18),[n,i,r,a]=g(this,Si);return[(g(this,xa)+(e[0]-t[0])/2-n)/r,(g(this,_a)+(e[1]-t[1])/2-i)/a,(g(this,xa)+(t[0]-e[0])/2-n)/r,(g(this,_a)+(t[1]-e[1])/2-i)/a]},L(ji,Nu,8),L(ji,gf,2),L(ji,mf,g(ji,Nu)+g(ji,gf));let Hh=ji;var nc,Da,vr,Lu,Nn,Bu,wt,Dn,nl,il,N_;class km extends M_{constructor(t,n,i,r,a,o){super();L(this,Dn);L(this,nc);L(this,Da,null);L(this,vr);L(this,Lu);L(this,Nn);L(this,Bu);L(this,wt);k(this,wt,t),k(this,Nn,n),k(this,nc,i),k(this,Bu,r),k(this,vr,a),k(this,Lu,o),M(this,Dn,N_).call(this,o);const{x:c,y:l,width:u,height:d}=g(this,Da);for(let h=0,p=t.length;h<p;h+=2)t[h]=(t[h]-c)/u,t[h+1]=(t[h+1]-l)/d;for(let h=0,p=n.length;h<p;h+=2)n[h]=(n[h]-c)/u,n[h+1]=(n[h+1]-l)/d}toSVGPath(){const t=[`M${g(this,wt)[4]} ${g(this,wt)[5]}`];for(let n=6,i=g(this,wt).length;n<i;n+=6){if(isNaN(g(this,wt)[n])){t.push(`L${g(this,wt)[n+4]} ${g(this,wt)[n+5]}`);continue}t.push(`C${g(this,wt)[n]} ${g(this,wt)[n+1]} ${g(this,wt)[n+2]} ${g(this,wt)[n+3]} ${g(this,wt)[n+4]} ${g(this,wt)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,i,r],a){const o=i-t,c=r-n;let l,u;switch(a){case 0:l=M(this,Dn,nl).call(this,g(this,wt),t,r,o,-c),u=M(this,Dn,nl).call(this,g(this,Nn),t,r,o,-c);break;case 90:l=M(this,Dn,il).call(this,g(this,wt),t,n,o,c),u=M(this,Dn,il).call(this,g(this,Nn),t,n,o,c);break;case 180:l=M(this,Dn,nl).call(this,g(this,wt),i,n,-o,c),u=M(this,Dn,nl).call(this,g(this,Nn),i,n,-o,c);break;case 270:l=M(this,Dn,il).call(this,g(this,wt),i,r,-o,-c),u=M(this,Dn,il).call(this,g(this,Nn),i,r,-o,-c);break}return{outline:Array.from(l),points:[Array.from(u)]}}get box(){return g(this,Da)}getNewOutline(t,n){const{x:i,y:r,width:a,height:o}=g(this,Da),[c,l,u,d]=g(this,nc),h=a*u,p=o*d,y=i*u+c,v=r*d+l,b=new Hh({x:g(this,Nn)[0]*h+y,y:g(this,Nn)[1]*p+v},g(this,nc),g(this,Bu),t,g(this,Lu),n??g(this,vr));for(let x=2;x<g(this,Nn).length;x+=2)b.add({x:g(this,Nn)[x]*h+y,y:g(this,Nn)[x+1]*p+v});return b.getOutlines()}}nc=new WeakMap,Da=new WeakMap,vr=new WeakMap,Lu=new WeakMap,Nn=new WeakMap,Bu=new WeakMap,wt=new WeakMap,Dn=new WeakSet,nl=function(t,n,i,r,a){const o=new Float64Array(t.length);for(let c=0,l=t.length;c<l;c+=2)o[c]=n+t[c]*r,o[c+1]=i+t[c+1]*a;return o},il=function(t,n,i,r,a){const o=new Float64Array(t.length);for(let c=0,l=t.length;c<l;c+=2)o[c]=n+t[c+1]*r,o[c+1]=i+t[c]*a;return o},N_=function(t){const n=g(this,wt);let i=n[4],r=n[5],a=i,o=r,c=i,l=r,u=i,d=r;const h=t?Math.max:Math.min;for(let x=6,_=n.length;x<_;x+=6){if(isNaN(n[x]))a=Math.min(a,n[x+4]),o=Math.min(o,n[x+5]),c=Math.max(c,n[x+4]),l=Math.max(l,n[x+5]),d<n[x+5]?(u=n[x+4],d=n[x+5]):d===n[x+5]&&(u=h(u,n[x+4]));else{const D=Me.bezierBoundingBox(i,r,...n.slice(x,x+6));a=Math.min(a,D[0]),o=Math.min(o,D[1]),c=Math.max(c,D[2]),l=Math.max(l,D[3]),d<D[3]?(u=D[2],d=D[3]):d===D[3]&&(u=h(u,D[2]))}i=n[x+4],r=n[x+5]}const p=a-g(this,vr),y=o-g(this,vr),v=c-a+2*g(this,vr),b=l-o+2*g(this,vr);k(this,Da,{x:p,y,width:v,height:b,lastPoint:[u,d]})};var Ou,Wu,di,Ta,ic,Nt,qu,rc,Vu,zu,hi,sc,gt,Mm,Nm,P_,Ps,L_,Or;const er=class er{constructor({editor:e=null,uiManager:t=null}){L(this,gt);L(this,Ou,M(this,gt,P_).bind(this));L(this,Wu,M(this,gt,L_).bind(this));L(this,di,null);L(this,Ta,null);L(this,ic);L(this,Nt,null);L(this,qu,!1);L(this,rc,!1);L(this,Vu,null);L(this,zu);L(this,hi,null);L(this,sc);var n;e?(k(this,rc,!1),k(this,sc,Ge.HIGHLIGHT_COLOR),k(this,Vu,e)):(k(this,rc,!0),k(this,sc,Ge.HIGHLIGHT_DEFAULT_COLOR)),k(this,hi,(e==null?void 0:e._uiManager)||t),k(this,zu,g(this,hi)._eventBus),k(this,ic,(e==null?void 0:e.color)||((n=g(this,hi))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return it(this,"_keyboardManager",new nd([[["Escape","mac+Escape"],er.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],er.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],er.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],er.prototype._moveToPrevious],[["Home","mac+Home"],er.prototype._moveToBeginning],[["End","mac+End"],er.prototype._moveToEnd]]))}renderButton(){const e=k(this,di,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=g(this,hi)._signal;e.addEventListener("click",M(this,gt,Ps).bind(this),{signal:t}),e.addEventListener("keydown",g(this,Ou),{signal:t});const n=k(this,Ta,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=g(this,ic),e.append(n),e}renderMainDropdown(){const e=k(this,Nt,M(this,gt,Mm).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===g(this,di)){M(this,gt,Ps).call(this,e);return}const t=e.target.getAttribute("data-color");t&&M(this,gt,Nm).call(this,t,e)}_moveToNext(e){var t,n;if(!g(this,gt,Or)){M(this,gt,Ps).call(this,e);return}if(e.target===g(this,di)){(t=g(this,Nt).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=g(this,Nt))==null?void 0:t.firstChild)||e.target===g(this,di)){g(this,gt,Or)&&this._hideDropdownFromKeyboard();return}g(this,gt,Or)||M(this,gt,Ps).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!g(this,gt,Or)){M(this,gt,Ps).call(this,e);return}(t=g(this,Nt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!g(this,gt,Or)){M(this,gt,Ps).call(this,e);return}(t=g(this,Nt).lastChild)==null||t.focus()}hideDropdown(){var e;(e=g(this,Nt))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",g(this,Wu))}_hideDropdownFromKeyboard(){var e;if(!g(this,rc)){if(!g(this,gt,Or)){(e=g(this,Vu))==null||e.unselect();return}this.hideDropdown(),g(this,di).focus({preventScroll:!0,focusVisible:g(this,qu)})}}updateColor(e){if(g(this,Ta)&&(g(this,Ta).style.backgroundColor=e),!g(this,Nt))return;const t=g(this,hi).highlightColors.values();for(const n of g(this,Nt).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=g(this,di))==null||e.remove(),k(this,di,null),k(this,Ta,null),(t=g(this,Nt))==null||t.remove(),k(this,Nt,null)}};Ou=new WeakMap,Wu=new WeakMap,di=new WeakMap,Ta=new WeakMap,ic=new WeakMap,Nt=new WeakMap,qu=new WeakMap,rc=new WeakMap,Vu=new WeakMap,zu=new WeakMap,hi=new WeakMap,sc=new WeakMap,gt=new WeakSet,Mm=function(){const e=document.createElement("div"),t=g(this,hi)._signal;e.addEventListener("contextmenu",Tn,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,i]of g(this,hi).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",i),r.title=n,r.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${n}`);const a=document.createElement("span");r.append(a),a.className="swatch",a.style.backgroundColor=i,r.setAttribute("aria-selected",i===g(this,ic)),r.addEventListener("click",M(this,gt,Nm).bind(this,i),{signal:t}),e.append(r)}return e.addEventListener("keydown",g(this,Ou),{signal:t}),e},Nm=function(e,t){t.stopPropagation(),g(this,zu).dispatch("switchannotationeditorparams",{source:this,type:g(this,sc),value:e})},P_=function(e){er._keyboardManager.exec(this,e)},Ps=function(e){if(g(this,gt,Or)){this.hideDropdown();return}if(k(this,qu,e.detail===0),window.addEventListener("pointerdown",g(this,Wu),{signal:g(this,hi)._signal}),g(this,Nt)){g(this,Nt).classList.remove("hidden");return}const t=k(this,Nt,M(this,gt,Mm).call(this));g(this,di).append(t)},L_=function(e){var t;(t=g(this,Nt))!=null&&t.contains(e.target)||this.hideDropdown()},Or=function(){return g(this,Nt)&&!g(this,Nt).classList.contains("hidden")};let Gh=er;var ac,Hu,ns,Aa,oc,Gn,Gu,$u,Ca,fi,cn,Pn,yf,cc,wa,Pt,lc,Fi,Xu,Qe,Pm,Lm,B_,O_,W_,Bm,rl,Kn,uo,q_,th,sl,V_,z_,H_,G_;const at=class at extends ut{constructor(t){super({...t,name:"highlightEditor"});L(this,Qe);L(this,ac,null);L(this,Hu,0);L(this,ns);L(this,Aa,null);L(this,oc,null);L(this,Gn,null);L(this,Gu,null);L(this,$u,0);L(this,Ca,null);L(this,fi,null);L(this,cn,null);L(this,Pn,!1);L(this,yf,M(this,Qe,q_).bind(this));L(this,cc,null);L(this,wa);L(this,Pt,null);L(this,lc,"");L(this,Fi);L(this,Xu,"");this.color=t.color||at._defaultColor,k(this,Fi,t.thickness||at._defaultThickness),k(this,wa,t.opacity||at._defaultOpacity),k(this,ns,t.boxes||null),k(this,Xu,t.methodOfCreation||""),k(this,lc,t.text||""),this._isDraggable=!1,t.highlightId>-1?(k(this,Pn,!0),M(this,Qe,Lm).call(this,t),M(this,Qe,rl).call(this)):(k(this,ac,t.anchorNode),k(this,Hu,t.anchorOffset),k(this,Gu,t.focusNode),k(this,$u,t.focusOffset),M(this,Qe,Pm).call(this),M(this,Qe,rl).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=at.prototype;return it(this,"_keyboardManager",new nd([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:g(this,Pn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:g(this,Fi),methodOfCreation:g(this,Xu)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var i;ut.initialize(t,n),at._defaultColor||(at._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case Ge.HIGHLIGHT_DEFAULT_COLOR:at._defaultColor=n;break;case Ge.HIGHLIGHT_THICKNESS:at._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return g(this,cc)}updateParams(t,n){switch(t){case Ge.HIGHLIGHT_COLOR:M(this,Qe,B_).call(this,n);break;case Ge.HIGHLIGHT_THICKNESS:M(this,Qe,O_).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Ge.HIGHLIGHT_DEFAULT_COLOR,at._defaultColor],[Ge.HIGHLIGHT_THICKNESS,at._defaultThickness]]}get propertiesToUpdate(){return[[Ge.HIGHLIGHT_COLOR,this.color||at._defaultColor],[Ge.HIGHLIGHT_THICKNESS,g(this,Fi)||at._defaultThickness],[Ge.HIGHLIGHT_FREE,g(this,Pn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(k(this,oc,new Gh({editor:this})),t.addColorPicker(g(this,oc))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(M(this,Qe,sl).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,M(this,Qe,sl).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){M(this,Qe,Bm).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(M(this,Qe,rl).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let n=!1;this.parent&&!t?M(this,Qe,Bm).call(this):t&&(M(this,Qe,rl).call(this,t),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var r,a,o;const{drawLayer:n}=this.parent;let i;g(this,Pn)?(t=(t-this.rotation+360)%360,i=M(r=at,Kn,uo).call(r,g(this,fi).box,t)):i=M(a=at,Kn,uo).call(a,this,t),n.rotate(g(this,cn),t),n.rotate(g(this,Pt),t),n.updateBox(g(this,cn),i),n.updateBox(g(this,Pt),M(o=at,Kn,uo).call(o,g(this,Gn).box,t))}render(){if(this.div)return this.div;const t=super.render();g(this,lc)&&(t.setAttribute("aria-label",g(this,lc)),t.setAttribute("role","mark")),g(this,Pn)?t.classList.add("free"):this.div.addEventListener("keydown",g(this,yf),{signal:this._uiManager._signal});const n=k(this,Ca,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=g(this,Aa);const[i,r]=this.parentDimensions;return this.setDims(this.width*i,this.height*r),qh(this,g(this,Ca),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(g(this,Pt),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(g(this,Pt),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:M(this,Qe,th).call(this,!0);break;case 1:case 3:M(this,Qe,th).call(this,!1);break}}select(){var t,n;super.select(),g(this,Pt)&&((t=this.parent)==null||t.drawLayer.removeClass(g(this,Pt),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(g(this,Pt),"selected"))}unselect(){var t;super.unselect(),g(this,Pt)&&((t=this.parent)==null||t.drawLayer.removeClass(g(this,Pt),"selected"),g(this,Pn)||M(this,Qe,th).call(this,!1))}get _mustFixPosition(){return!g(this,Pn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(g(this,cn),t),this.parent.drawLayer.show(g(this,Pt),t))}static startHighlighting(t,n,{target:i,x:r,y:a}){const{x:o,y:c,width:l,height:u}=i.getBoundingClientRect(),d=b=>{M(this,Kn,H_).call(this,t,b)},h=t._signal,p={capture:!0,passive:!1,signal:h},y=b=>{b.preventDefault(),b.stopPropagation()},v=b=>{i.removeEventListener("pointermove",d),window.removeEventListener("blur",v),window.removeEventListener("pointerup",v),window.removeEventListener("pointerdown",y,p),window.removeEventListener("contextmenu",Tn),M(this,Kn,G_).call(this,t,b)};window.addEventListener("blur",v,{signal:h}),window.addEventListener("pointerup",v,{signal:h}),window.addEventListener("pointerdown",y,p),window.addEventListener("contextmenu",Tn,{signal:h}),i.addEventListener("pointermove",d,{signal:h}),this._freeHighlight=new Hh({x:r,y:a},[o,c,l,u],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,n,i){var v;const r=super.deserialize(t,n,i),{rect:[a,o,c,l],color:u,quadPoints:d}=t;r.color=Me.makeHexColor(...u),k(r,wa,t.opacity);const[h,p]=r.pageDimensions;r.width=(c-a)/h,r.height=(l-o)/p;const y=k(r,ns,[]);for(let b=0;b<d.length;b+=8)y.push({x:(d[4]-c)/h,y:(l-(1-d[b+5]))/p,width:(d[b+2]-d[b])/h,height:(d[b+5]-d[b+1])/p});return M(v=r,Qe,Pm).call(v),r}serialize(t=!1){if(this.isEmpty()||t)return null;const n=this.getRect(0,0),i=ut._colorManager.convert(this.color);return{annotationType:tt.HIGHLIGHT,color:i,opacity:g(this,wa),thickness:g(this,Fi),quadPoints:M(this,Qe,V_).call(this),outlines:M(this,Qe,z_).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:M(this,Qe,sl).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};ac=new WeakMap,Hu=new WeakMap,ns=new WeakMap,Aa=new WeakMap,oc=new WeakMap,Gn=new WeakMap,Gu=new WeakMap,$u=new WeakMap,Ca=new WeakMap,fi=new WeakMap,cn=new WeakMap,Pn=new WeakMap,yf=new WeakMap,cc=new WeakMap,wa=new WeakMap,Pt=new WeakMap,lc=new WeakMap,Fi=new WeakMap,Xu=new WeakMap,Qe=new WeakSet,Pm=function(){const t=new Fm(g(this,ns),.001);k(this,fi,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=g(this,fi).box;const n=new Fm(g(this,ns),.0025,.001,this._uiManager.direction==="ltr");k(this,Gn,n.getOutlines());const{lastPoint:i}=g(this,Gn).box;k(this,cc,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},Lm=function({highlightOutlines:t,highlightId:n,clipPathId:i}){var d,h;if(k(this,fi,t),k(this,Gn,t.getNewOutline(g(this,Fi)/2+1.5,.0025)),n>=0)k(this,cn,n),k(this,Aa,i),this.parent.drawLayer.finalizeLine(n,t),k(this,Pt,this.parent.drawLayer.highlightOutline(g(this,Gn)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(g(this,cn),t),this.parent.drawLayer.updateBox(g(this,cn),M(d=at,Kn,uo).call(d,g(this,fi).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(g(this,Pt),g(this,Gn)),this.parent.drawLayer.updateBox(g(this,Pt),M(h=at,Kn,uo).call(h,g(this,Gn).box,p))}const{x:a,y:o,width:c,height:l}=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=c,this.height=l;break;case 90:{const[p,y]=this.parentDimensions;this.x=o,this.y=1-a,this.width=c*y/p,this.height=l*p/y;break}case 180:this.x=1-a,this.y=1-o,this.width=c,this.height=l;break;case 270:{const[p,y]=this.parentDimensions;this.x=1-o,this.y=a,this.width=c*y/p,this.height=l*p/y;break}}const{lastPoint:u}=g(this,Gn).box;k(this,cc,[(u[0]-a)/c,(u[1]-o)/l])},B_=function(t){const n=r=>{var a,o;this.color=r,(a=this.parent)==null||a.drawLayer.changeColor(g(this,cn),r),(o=g(this,oc))==null||o.updateColor(r)},i=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ge.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},O_=function(t){const n=g(this,Fi),i=r=>{k(this,Fi,r),M(this,Qe,W_).call(this,r)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ge.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},W_=function(t){if(!g(this,Pn))return;M(this,Qe,Lm).call(this,{highlightOutlines:g(this,fi).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)},Bm=function(){g(this,cn)===null||!this.parent||(this.parent.drawLayer.remove(g(this,cn)),k(this,cn,null),this.parent.drawLayer.remove(g(this,Pt)),k(this,Pt,null))},rl=function(t=this.parent){g(this,cn)===null&&({id:En(this,cn)._,clipPathId:En(this,Aa)._}=t.drawLayer.highlight(g(this,fi),this.color,g(this,wa)),k(this,Pt,t.drawLayer.highlightOutline(g(this,Gn))),g(this,Ca)&&(g(this,Ca).style.clipPath=g(this,Aa)))},Kn=new WeakSet,uo=function({x:t,y:n,width:i,height:r},a){switch(a){case 90:return{x:1-n-r,y:t,width:r,height:i};case 180:return{x:1-t-i,y:1-n-r,width:i,height:r};case 270:return{x:n,y:1-t-i,width:r,height:i}}return{x:t,y:n,width:i,height:r}},q_=function(t){at._keyboardManager.exec(this,t)},th=function(t){if(!g(this,ac))return;const n=window.getSelection();t?n.setPosition(g(this,ac),g(this,Hu)):n.setPosition(g(this,Gu),g(this,$u))},sl=function(){return g(this,Pn)?this.rotation:0},V_=function(){if(g(this,Pn))return null;const[t,n]=this.pageDimensions,i=g(this,ns),r=new Float32Array(i.length*8);let a=0;for(const{x:o,y:c,width:l,height:u}of i){const d=o*t,h=(1-c-u)*n;r[a]=r[a+4]=d,r[a+1]=r[a+3]=h,r[a+2]=r[a+6]=d+l*t,r[a+5]=r[a+7]=h+u*n,a+=8}return r},z_=function(t){return g(this,fi).serialize(t,M(this,Qe,sl).call(this))},H_=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},G_=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},L(at,Kn),$e(at,"_defaultColor",null),$e(at,"_defaultOpacity",1),$e(at,"_defaultThickness",12),$e(at,"_l10nPromise"),$e(at,"_type","highlight"),$e(at,"_editorType",tt.HIGHLIGHT),$e(at,"_freeHighlightId",-1),$e(at,"_freeHighlight",null),$e(at,"_freeHighlightClipId","");let $h=at;var Ea,Sa,Yu,Ku,Zu,Ua,Ii,br,$n,Fa,Ia,xr,Ra,ka,is,Ce,$_,X_,Y_,K_,Wm,Z_,qm,J_,Q_,j_,eD,tD,Ls,Vm,nh,ih,ho,zm,rh,Mr,nD,Hm,iD,rD,Gm,sh,al;const Dt=class Dt extends ut{constructor(t){super({...t,name:"inkEditor"});L(this,Ce);L(this,Ea,0);L(this,Sa,0);L(this,Yu,this.canvasPointermove.bind(this));L(this,Ku,this.canvasPointerleave.bind(this));L(this,Zu,this.canvasPointerup.bind(this));L(this,Ua,this.canvasPointerdown.bind(this));L(this,Ii,null);L(this,br,new Path2D);L(this,$n,!1);L(this,Fa,!1);L(this,Ia,!1);L(this,xr,null);L(this,Ra,0);L(this,ka,0);L(this,is,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,n){ut.initialize(t,n)}static updateDefaultParams(t,n){switch(t){case Ge.INK_THICKNESS:Dt._defaultThickness=n;break;case Ge.INK_COLOR:Dt._defaultColor=n;break;case Ge.INK_OPACITY:Dt._defaultOpacity=n/100;break}}updateParams(t,n){switch(t){case Ge.INK_THICKNESS:M(this,Ce,$_).call(this,n);break;case Ge.INK_COLOR:M(this,Ce,X_).call(this,n);break;case Ge.INK_OPACITY:M(this,Ce,Y_).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Ge.INK_THICKNESS,Dt._defaultThickness],[Ge.INK_COLOR,Dt._defaultColor||ut._defaultLineColor],[Ge.INK_OPACITY,Math.round(Dt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Ge.INK_THICKNESS,this.thickness||Dt._defaultThickness],[Ge.INK_COLOR,this.color||Dt._defaultColor||ut._defaultLineColor],[Ge.INK_OPACITY,Math.round(100*(this.opacity??Dt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(M(this,Ce,nh).call(this),M(this,Ce,ih).call(this)),this.isAttachedToDOM||(this.parent.add(this),M(this,Ce,ho).call(this)),M(this,Ce,al).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,g(this,Ii)&&(clearTimeout(g(this,Ii)),k(this,Ii,null)),(t=g(this,xr))==null||t.disconnect(),k(this,xr,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,n]=this.parentDimensions,i=this.width*t,r=this.height*n;this.setDimensions(i,r)}enableEditMode(){g(this,$n)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",g(this,Ua),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",g(this,Ua)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){g(this,$n)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),k(this,$n,!0),this.div.classList.add("disabled"),M(this,Ce,al).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||g(this,$n)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),M(this,Ce,Z_).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),M(this,Ce,qm).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),M(this,Ce,Vm).call(this,t)}canvasPointerleave(t){M(this,Ce,Vm).call(this,t)}get isResizable(){return!this.isEmpty()&&g(this,$n)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,r,a,o]=M(this,Ce,K_).call(this);if(this.setAt(i,r,0,0),this.setDims(a,o),M(this,Ce,nh).call(this),this.width){const[c,l]=this.parentDimensions;this.setAspectRatio(this.width*c,this.height*l),this.setAt(t*c,n*l,this.width*c,this.height*l),k(this,Ia,!0),M(this,Ce,ho).call(this),this.setDims(this.width*c,this.height*l),M(this,Ce,Ls).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return M(this,Ce,ih).call(this),this.div}setDimensions(t,n){const i=Math.round(t),r=Math.round(n);if(g(this,Ra)===i&&g(this,ka)===r)return;k(this,Ra,i),k(this,ka,r),this.canvas.style.visibility="hidden";const[a,o]=this.parentDimensions;this.width=t/a,this.height=n/o,this.fixAndSetPosition(),g(this,$n)&&M(this,Ce,zm).call(this,t,n),M(this,Ce,ho).call(this),M(this,Ce,Ls).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,n,i){var b,x,_;if(t instanceof T_)return null;const r=super.deserialize(t,n,i);r.thickness=t.thickness,r.color=Me.makeHexColor(...t.color),r.opacity=t.opacity;const[a,o]=r.pageDimensions,c=r.width*a,l=r.height*o,u=r.parentScale,d=t.thickness/2;k(r,$n,!0),k(r,Ra,Math.round(c)),k(r,ka,Math.round(l));const{paths:h,rect:p,rotation:y}=t;for(let{bezier:D}of h){D=M(b=Dt,Mr,iD).call(b,D,p,y);const A=[];r.paths.push(A);let T=u*(D[0]-d),w=u*(D[1]-d);for(let I=2,U=D.length;I<U;I+=6){const P=u*(D[I]-d),H=u*(D[I+1]-d),S=u*(D[I+2]-d),N=u*(D[I+3]-d),E=u*(D[I+4]-d),X=u*(D[I+5]-d);A.push([[T,w],[P,H],[S,N],[E,X]]),T=E,w=X}const F=M(this,Mr,nD).call(this,A);r.bezierPath2D.push(F)}const v=M(x=r,Ce,Gm).call(x);return k(r,Sa,Math.max(ut.MIN_SIZE,v[2]-v[0])),k(r,Ea,Math.max(ut.MIN_SIZE,v[3]-v[1])),M(_=r,Ce,zm).call(_,c,l),r}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),n=ut._colorManager.convert(this.ctx.strokeStyle);return{annotationType:tt.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:M(this,Ce,rD).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Ea=new WeakMap,Sa=new WeakMap,Yu=new WeakMap,Ku=new WeakMap,Zu=new WeakMap,Ua=new WeakMap,Ii=new WeakMap,br=new WeakMap,$n=new WeakMap,Fa=new WeakMap,Ia=new WeakMap,xr=new WeakMap,Ra=new WeakMap,ka=new WeakMap,is=new WeakMap,Ce=new WeakSet,$_=function(t){const n=r=>{this.thickness=r,M(this,Ce,al).call(this)},i=this.thickness;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ge.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},X_=function(t){const n=r=>{this.color=r,M(this,Ce,Ls).call(this)},i=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ge.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Y_=function(t){const n=r=>{this.opacity=r,M(this,Ce,Ls).call(this)};t/=100;const i=this.opacity;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ge.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},K_=function(){const{parentRotation:t,parentDimensions:[n,i]}=this;switch(t){case 90:return[0,i,i,n];case 180:return[n,i,n,i];case 270:return[n,0,i,n];default:return[0,0,n,i]}},Wm=function(){const{ctx:t,color:n,opacity:i,thickness:r,parentScale:a,scaleFactor:o}=this;t.lineWidth=r*a/o,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${n}${zR(i)}`},Z_=function(t,n){const i=this._uiManager._signal;this.canvas.addEventListener("contextmenu",Tn,{signal:i}),this.canvas.addEventListener("pointerleave",g(this,Ku),{signal:i}),this.canvas.addEventListener("pointermove",g(this,Yu),{signal:i}),this.canvas.addEventListener("pointerup",g(this,Zu),{signal:i}),this.canvas.removeEventListener("pointerdown",g(this,Ua)),this.isEditing=!0,g(this,Ia)||(k(this,Ia,!0),M(this,Ce,ho).call(this),this.thickness||(this.thickness=Dt._defaultThickness),this.color||(this.color=Dt._defaultColor||ut._defaultLineColor),this.opacity??(this.opacity=Dt._defaultOpacity)),this.currentPath.push([t,n]),k(this,Fa,!1),M(this,Ce,Wm).call(this),k(this,is,()=>{M(this,Ce,j_).call(this),g(this,is)&&window.requestAnimationFrame(g(this,is))}),window.requestAnimationFrame(g(this,is))},qm=function(t,n){const[i,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===i&&n===r)return;const a=this.currentPath;let o=g(this,br);if(a.push([t,n]),k(this,Fa,!0),a.length<=2){o.moveTo(...a[0]),o.lineTo(t,n);return}a.length===3&&(k(this,br,o=new Path2D),o.moveTo(...a[0])),M(this,Ce,eD).call(this,o,...a.at(-3),...a.at(-2),t,n)},J_=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);g(this,br).lineTo(...t)},Q_=function(t,n){k(this,is,null),t=Math.min(Math.max(t,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),M(this,Ce,qm).call(this,t,n),M(this,Ce,J_).call(this);let i;if(this.currentPath.length!==1)i=M(this,Ce,tD).call(this);else{const l=[t,n];i=[[l,l.slice(),l.slice(),l]]}const r=g(this,br),a=this.currentPath;this.currentPath=[],k(this,br,new Path2D);const o=()=>{this.allRawPaths.push(a),this.paths.push(i),this.bezierPath2D.push(r),this._uiManager.rebuild(this)},c=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(M(this,Ce,nh).call(this),M(this,Ce,ih).call(this)),M(this,Ce,al).call(this))};this.addCommands({cmd:o,undo:c,mustExec:!0})},j_=function(){if(!g(this,Fa))return;k(this,Fa,!1);const t=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),i=n.map(o=>o[0]),r=n.map(o=>o[1]);Math.min(...i)-t,Math.max(...i)+t,Math.min(...r)-t,Math.max(...r)+t;const{ctx:a}=this;a.save(),a.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)a.stroke(o);a.stroke(g(this,br)),a.restore()},eD=function(t,n,i,r,a,o,c){const l=(n+r)/2,u=(i+a)/2,d=(r+o)/2,h=(a+c)/2;t.bezierCurveTo(l+2*(r-l)/3,u+2*(a-u)/3,d+2*(r-d)/3,h+2*(a-h)/3,d,h)},tD=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const n=[];let i,[r,a]=t[0];for(i=1;i<t.length-2;i++){const[p,y]=t[i],[v,b]=t[i+1],x=(p+v)/2,_=(y+b)/2,D=[r+2*(p-r)/3,a+2*(y-a)/3],A=[x+2*(p-x)/3,_+2*(y-_)/3];n.push([[r,a],D,A,[x,_]]),[r,a]=[x,_]}const[o,c]=t[i],[l,u]=t[i+1],d=[r+2*(o-r)/3,a+2*(c-a)/3],h=[l+2*(o-l)/3,u+2*(c-u)/3];return n.push([[r,a],d,h,[l,u]]),n},Ls=function(){if(this.isEmpty()){M(this,Ce,rh).call(this);return}M(this,Ce,Wm).call(this);const{canvas:t,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height),M(this,Ce,rh).call(this);for(const i of this.bezierPath2D)n.stroke(i)},Vm=function(t){this.canvas.removeEventListener("pointerleave",g(this,Ku)),this.canvas.removeEventListener("pointermove",g(this,Yu)),this.canvas.removeEventListener("pointerup",g(this,Zu)),this.canvas.addEventListener("pointerdown",g(this,Ua),{signal:this._uiManager._signal}),g(this,Ii)&&clearTimeout(g(this,Ii)),k(this,Ii,setTimeout(()=>{k(this,Ii,null),this.canvas.removeEventListener("contextmenu",Tn)},10)),M(this,Ce,Q_).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},nh=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ih=function(){k(this,xr,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),g(this,xr).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=g(this,xr))==null||t.disconnect(),k(this,xr,null)},{once:!0})},ho=function(){if(!g(this,Ia))return;const[t,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*n),M(this,Ce,rh).call(this)},zm=function(t,n){const i=M(this,Ce,sh).call(this),r=(t-i)/g(this,Sa),a=(n-i)/g(this,Ea);this.scaleFactor=Math.min(r,a)},rh=function(){const t=M(this,Ce,sh).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Mr=new WeakSet,nD=function(t){const n=new Path2D;for(let i=0,r=t.length;i<r;i++){const[a,o,c,l]=t[i];i===0&&n.moveTo(...a),n.bezierCurveTo(o[0],o[1],c[0],c[1],l[0],l[1])}return n},Hm=function(t,n,i){const[r,a,o,c]=n;switch(i){case 0:for(let l=0,u=t.length;l<u;l+=2)t[l]+=r,t[l+1]=c-t[l+1];break;case 90:for(let l=0,u=t.length;l<u;l+=2){const d=t[l];t[l]=t[l+1]+r,t[l+1]=d+a}break;case 180:for(let l=0,u=t.length;l<u;l+=2)t[l]=o-t[l],t[l+1]+=a;break;case 270:for(let l=0,u=t.length;l<u;l+=2){const d=t[l];t[l]=o-t[l+1],t[l+1]=c-d}break;default:throw new Error("Invalid rotation")}return t},iD=function(t,n,i){const[r,a,o,c]=n;switch(i){case 0:for(let l=0,u=t.length;l<u;l+=2)t[l]-=r,t[l+1]=c-t[l+1];break;case 90:for(let l=0,u=t.length;l<u;l+=2){const d=t[l];t[l]=t[l+1]-a,t[l+1]=d-r}break;case 180:for(let l=0,u=t.length;l<u;l+=2)t[l]=o-t[l],t[l+1]-=a;break;case 270:for(let l=0,u=t.length;l<u;l+=2){const d=t[l];t[l]=c-t[l+1],t[l+1]=o-d}break;default:throw new Error("Invalid rotation")}return t},rD=function(t,n,i,r){var u,d;const a=[],o=this.thickness/2,c=t*n+o,l=t*i+o;for(const h of this.paths){const p=[],y=[];for(let v=0,b=h.length;v<b;v++){const[x,_,D,A]=h[v];if(x[0]===A[0]&&x[1]===A[1]&&b===1){const N=t*x[0]+c,E=t*x[1]+l;p.push(N,E),y.push(N,E);break}const T=t*x[0]+c,w=t*x[1]+l,F=t*_[0]+c,I=t*_[1]+l,U=t*D[0]+c,P=t*D[1]+l,H=t*A[0]+c,S=t*A[1]+l;v===0&&(p.push(T,w),y.push(T,w)),p.push(F,I,U,P,H,S),y.push(F,I),v===b-1&&y.push(H,S)}a.push({bezier:M(u=Dt,Mr,Hm).call(u,p,r,this.rotation),points:M(d=Dt,Mr,Hm).call(d,y,r,this.rotation)})}return a},Gm=function(){let t=1/0,n=-1/0,i=1/0,r=-1/0;for(const a of this.paths)for(const[o,c,l,u]of a){const d=Me.bezierBoundingBox(...o,...c,...l,...u);t=Math.min(t,d[0]),i=Math.min(i,d[1]),n=Math.max(n,d[2]),r=Math.max(r,d[3])}return[t,i,n,r]},sh=function(){return g(this,$n)?Math.ceil(this.thickness*this.parentScale):0},al=function(t=!1){if(this.isEmpty())return;if(!g(this,$n)){M(this,Ce,Ls).call(this);return}const n=M(this,Ce,Gm).call(this),i=M(this,Ce,sh).call(this);k(this,Sa,Math.max(ut.MIN_SIZE,n[2]-n[0])),k(this,Ea,Math.max(ut.MIN_SIZE,n[3]-n[1]));const r=Math.ceil(i+g(this,Sa)*this.scaleFactor),a=Math.ceil(i+g(this,Ea)*this.scaleFactor),[o,c]=this.parentDimensions;this.width=r/o,this.height=a/c,this.setAspectRatio(r,a);const l=this.translationX,u=this.translationY;this.translationX=-n[0],this.translationY=-n[1],M(this,Ce,ho).call(this),M(this,Ce,Ls).call(this),k(this,Ra,r),k(this,ka,a),this.setDims(r,a);const d=t?i/this.scaleFactor/2:0;this.translate(l-this.translationX-d,u-this.translationY-d)},L(Dt,Mr),$e(Dt,"_defaultColor",null),$e(Dt,"_defaultOpacity",1),$e(Dt,"_defaultThickness",1),$e(Dt,"_type","ink"),$e(Dt,"_editorType",tt.INK);let Om=Dt;var Yt,Kt,rs,_r,ss,uc,Ri,Dr,ki,pi,Ju,st,ol,cl,ah,Xm,sD,aD,Ym,oh,oD;const fl=class fl extends ut{constructor(t){super({...t,name:"stampEditor"});L(this,st);L(this,Yt,null);L(this,Kt,null);L(this,rs,null);L(this,_r,null);L(this,ss,null);L(this,uc,"");L(this,Ri,null);L(this,Dr,null);L(this,ki,null);L(this,pi,!1);L(this,Ju,!1);k(this,_r,t.bitmapUrl),k(this,ss,t.bitmapFile)}static initialize(t,n){ut.initialize(t,n)}static get supportedTypes(){return it(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return it(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,n){n.pasteEditor(tt.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,n;g(this,Kt)&&(k(this,Yt,null),this._uiManager.imageManager.deleteId(g(this,Kt)),(t=g(this,Ri))==null||t.remove(),k(this,Ri,null),(n=g(this,Dr))==null||n.disconnect(),k(this,Dr,null),g(this,ki)&&(clearTimeout(g(this,ki)),k(this,ki,null))),super.remove()}rebuild(){if(!this.parent){g(this,Kt)&&M(this,st,ah).call(this);return}super.rebuild(),this.div!==null&&(g(this,Kt)&&g(this,Ri)===null&&M(this,st,ah).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(g(this,rs)||g(this,Yt)||g(this,_r)||g(this,ss)||g(this,Kt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;if(this.width&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),g(this,Yt)?M(this,st,Xm).call(this):M(this,st,ah).call(this),this.width){const[i,r]=this.parentDimensions;this.setAt(t*i,n*r,this.width*i,this.height*r)}return this.div}getImageForAltText(){return g(this,Ri)}static deserialize(t,n,i){if(t instanceof A_)return null;const r=super.deserialize(t,n,i),{rect:a,bitmapUrl:o,bitmapId:c,isSvg:l,accessibilityData:u}=t;c&&i.imageManager.isValidId(c)?k(r,Kt,c):k(r,_r,o),k(r,pi,l);const[d,h]=r.pageDimensions;return r.width=(a[2]-a[0])/d,r.height=(a[3]-a[1])/h,u&&(r.altTextData=u),r}serialize(t=!1,n=null){if(this.isEmpty())return null;const i={annotationType:tt.STAMP,bitmapId:g(this,Kt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:g(this,pi),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=M(this,st,oh).call(this,!0),i.accessibilityData=this.altTextData,i;const{decorative:r,altText:a}=this.altTextData;if(!r&&a&&(i.accessibilityData={type:"Figure",alt:a}),n===null)return i;n.stamps||(n.stamps=new Map);const o=g(this,pi)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(g(this,Kt)))n.stamps.set(g(this,Kt),{area:o,serialized:i}),i.bitmap=M(this,st,oh).call(this,!1);else if(g(this,pi)){const c=n.stamps.get(g(this,Kt));o>c.area&&(c.area=o,c.serialized.bitmap.close(),c.serialized.bitmap=M(this,st,oh).call(this,!1))}return i}};Yt=new WeakMap,Kt=new WeakMap,rs=new WeakMap,_r=new WeakMap,ss=new WeakMap,uc=new WeakMap,Ri=new WeakMap,Dr=new WeakMap,ki=new WeakMap,pi=new WeakMap,Ju=new WeakMap,st=new WeakSet,ol=function(t,n=!1){if(!t){this.remove();return}k(this,Yt,t.bitmap),n||(k(this,Kt,t.id),k(this,pi,t.isSvg)),t.file&&k(this,uc,t.file.name),M(this,st,Xm).call(this)},cl=function(){k(this,rs,null),this._uiManager.enableWaiting(!1),g(this,Ri)&&this.div.focus()},ah=function(){if(g(this,Kt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(g(this,Kt)).then(i=>M(this,st,ol).call(this,i,!0)).finally(()=>M(this,st,cl).call(this));return}if(g(this,_r)){const i=g(this,_r);k(this,_r,null),this._uiManager.enableWaiting(!0),k(this,rs,this._uiManager.imageManager.getFromUrl(i).then(r=>M(this,st,ol).call(this,r)).finally(()=>M(this,st,cl).call(this)));return}if(g(this,ss)){const i=g(this,ss);k(this,ss,null),this._uiManager.enableWaiting(!0),k(this,rs,this._uiManager.imageManager.getFromFile(i).then(r=>M(this,st,ol).call(this,r)).finally(()=>M(this,st,cl).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=fl.supportedTypesStr;const n=this._uiManager._signal;k(this,rs,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);M(this,st,ol).call(this,r)}i()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>M(this,st,cl).call(this))),t.click()},Xm=function(){const{div:t}=this;let{width:n,height:i}=g(this,Yt);const[r,a]=this.pageDimensions,o=.75;if(this.width)n=this.width*r,i=this.height*a;else if(n>o*r||i>o*a){const d=Math.min(o*r/n,o*a/i);n*=d,i*=d}const[c,l]=this.parentDimensions;this.setDims(n*c/r,i*l/a),this._uiManager.enableWaiting(!1);const u=k(this,Ri,document.createElement("canvas"));t.append(u),t.hidden=!1,M(this,st,Ym).call(this,n,i),M(this,st,oD).call(this),g(this,Ju)||(this.parent.addUndoableEditor(this),k(this,Ju,!0)),this._reportTelemetry({action:"inserted_image"}),g(this,uc)&&u.setAttribute("aria-label",g(this,uc))},sD=function(t,n){var o;const[i,r]=this.parentDimensions;this.width=t/i,this.height=n/r,this.setDims(t,n),(o=this._initialOptions)!=null&&o.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,g(this,ki)!==null&&clearTimeout(g(this,ki)),k(this,ki,setTimeout(()=>{k(this,ki,null),M(this,st,Ym).call(this,t,n)},200))},aD=function(t,n){const{width:i,height:r}=g(this,Yt);let a=i,o=r,c=g(this,Yt);for(;a>2*t||o>2*n;){const l=a,u=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const d=new OffscreenCanvas(a,o);d.getContext("2d").drawImage(c,0,0,l,u,0,0,a,o),c=d.transferToImageBitmap()}return c},Ym=function(t,n){t=Math.ceil(t),n=Math.ceil(n);const i=g(this,Ri);if(!i||i.width===t&&i.height===n)return;i.width=t,i.height=n;const r=g(this,pi)?g(this,Yt):M(this,st,aD).call(this,t,n);if(this._uiManager.hasMLManager&&!this.hasAltText()){const c=new OffscreenCanvas(t,n).getContext("2d");c.drawImage(r,0,0,r.width,r.height,0,0,t,n),this._uiManager.mlGuess({service:"image-to-text",request:{data:c.getImageData(0,0,t,n).data,width:t,height:n,channels:4}}).then(l=>{const u=(l==null?void 0:l.output)||"";this.parent&&u&&!this.hasAltText()&&(this.altTextData={altText:u,decorative:!1})})}const a=i.getContext("2d");a.filter=this._uiManager.hcmFilter,a.drawImage(r,0,0,r.width,r.height,0,0,t,n)},oh=function(t){if(t){if(g(this,pi)){const r=this._uiManager.imageManager.getSvgUrl(g(this,Kt));if(r)return r}const n=document.createElement("canvas");return{width:n.width,height:n.height}=g(this,Yt),n.getContext("2d").drawImage(g(this,Yt),0,0),n.toDataURL()}if(g(this,pi)){const[n,i]=this.pageDimensions,r=Math.round(this.width*n*hs.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*hs.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(r,a);return o.getContext("2d").drawImage(g(this,Yt),0,0,g(this,Yt).width,g(this,Yt).height,0,0,r,a),o.transferToImageBitmap()}return structuredClone(g(this,Yt))},oD=function(){this._uiManager._signal&&(k(this,Dr,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&M(this,st,sD).call(this,n.width,n.height)})),g(this,Dr).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=g(this,Dr))==null||t.disconnect(),k(this,Dr,null)},{once:!0}))},$e(fl,"_type","stamp"),$e(fl,"_editorType",tt.STAMP);let $m=fl;var Ma,dc,Mi,Na,Tr,Ar,Cr,Ln,as,hc,fc,ln,Pe,os,Zt,cD,Zm,Jm,Qm,ch;const ei=class ei{constructor({uiManager:e,pageIndex:t,div:n,accessibilityManager:i,annotationLayer:r,drawLayer:a,textLayer:o,viewport:c,l10n:l}){L(this,Zt);L(this,Ma);L(this,dc,!1);L(this,Mi,null);L(this,Na,null);L(this,Tr,null);L(this,Ar,null);L(this,Cr,null);L(this,Ln,new Map);L(this,as,!1);L(this,hc,!1);L(this,fc,!1);L(this,ln,null);L(this,Pe);const u=[...g(ei,os).values()];if(!ei._initialized){ei._initialized=!0;for(const d of u)d.initialize(l,e)}e.registerEditorTypes(u),k(this,Pe,e),this.pageIndex=t,this.div=n,k(this,Ma,i),k(this,Mi,r),this.viewport=c,k(this,ln,o),this.drawLayer=a,g(this,Pe).addLayer(this)}get isEmpty(){return g(this,Ln).size===0}get isInvisible(){return this.isEmpty&&g(this,Pe).getMode()===tt.NONE}updateToolbar(e){g(this,Pe).updateToolbar(e)}updateMode(e=g(this,Pe).getMode()){switch(M(this,Zt,ch).call(this),e){case tt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case tt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case tt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of g(ei,os).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=g(this,ln))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(g(this,Pe).getMode()!==tt.INK)return;if(!e){for(const n of g(this,Ln).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){g(this,Pe).setEditingState(e)}addCommands(e){g(this,Pe).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=g(this,Mi))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of g(this,Ln).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(g(this,Pe).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!g(this,Mi))return;const t=g(this,Mi).getEditableAnnotations();for(const n of t){if(n.hide(),g(this,Pe).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const i=this.deserialize(n);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;k(this,fc,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const r of g(this,Ln).values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){e.set(r.annotationElementId,r);continue}else t.set(r.annotationElementId,r);(i=this.getEditableAnnotation(r.annotationElementId))==null||i.show(),r.remove()}if(g(this,Mi)){const r=g(this,Mi).getEditableAnnotations();for(const a of r){const{id:o}=a.data;if(g(this,Pe).isDeletedAnnotationElement(o))continue;let c=t.get(o);if(c){c.resetAnnotationElement(a),c.show(!1),a.show();continue}c=e.get(o),c&&(g(this,Pe).addChangedExistingAnnotation(c),c.renderAnnotationElement(a),c.show(!1)),a.show()}}M(this,Zt,ch).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const r of g(ei,os).values())n.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),k(this,fc,!1)}getEditableAnnotation(e){var t;return((t=g(this,Mi))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){g(this,Pe).getActive()!==e&&g(this,Pe).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=g(this,ln))!=null&&e.div&&!g(this,Ar)&&(k(this,Ar,M(this,Zt,cD).bind(this)),g(this,ln).div.addEventListener("pointerdown",g(this,Ar),{signal:g(this,Pe)._signal}),g(this,ln).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=g(this,ln))!=null&&e.div&&g(this,Ar)&&(g(this,ln).div.removeEventListener("pointerdown",g(this,Ar)),k(this,Ar,null),g(this,ln).div.classList.remove("highlighting"))}enableClick(){if(g(this,Tr))return;const e=g(this,Pe)._signal;k(this,Tr,this.pointerdown.bind(this)),k(this,Na,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",g(this,Tr),{signal:e}),this.div.addEventListener("pointerup",g(this,Na),{signal:e})}disableClick(){g(this,Tr)&&(this.div.removeEventListener("pointerdown",g(this,Tr)),this.div.removeEventListener("pointerup",g(this,Na)),k(this,Tr,null),k(this,Na,null))}attach(e){g(this,Ln).set(e.id,e);const{annotationElementId:t}=e;t&&g(this,Pe).isDeletedAnnotationElement(t)&&g(this,Pe).removeDeletedAnnotationElement(e)}detach(e){var t;g(this,Ln).delete(e.id),(t=g(this,Ma))==null||t.removePointerInTextLayer(e.contentDiv),!g(this,fc)&&e.annotationElementId&&g(this,Pe).addDeletedAnnotationElement(e)}remove(e){this.detach(e),g(this,Pe).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,g(this,hc)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(g(this,Pe).addDeletedAnnotationElement(e.annotationElementId),ut.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),g(this,Pe).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),g(this,Pe).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!g(this,Cr)&&(e._focusEventsAllowed=!1,k(this,Cr,setTimeout(()=>{k(this,Cr,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:g(this,Pe)._signal}),t.focus())},0))),e._structTreeParentId=(n=g(this,Ma))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return g(this,Pe).getId()}get _signal(){return g(this,Pe)._signal}canCreateNewEmptyEditor(){var e;return(e=g(this,Zt,Zm))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){g(this,Pe).updateToolbar(e),g(this,Pe).updateMode(e);const{offsetX:n,offsetY:i}=M(this,Zt,Qm).call(this),r=this.getNextId(),a=M(this,Zt,Jm).call(this,{parent:this,id:r,x:n,y:i,uiManager:g(this,Pe),isCentered:!0,...t});a&&this.add(a)}deserialize(e){var t;return((t=g(ei,os).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,g(this,Pe)))||null}createAndAddNewEditor(e,t,n={}){const i=this.getNextId(),r=M(this,Zt,Jm).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:g(this,Pe),isCentered:t,...n});return r&&this.add(r),r}addNewEditor(){this.createAndAddNewEditor(M(this,Zt,Qm).call(this),!0)}setSelected(e){g(this,Pe).setSelected(e)}toggleSelected(e){g(this,Pe).toggleSelected(e)}isSelected(e){return g(this,Pe).isSelected(e)}unselect(e){g(this,Pe).unselect(e)}pointerup(e){const{isMac:t}=_n.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&g(this,as)){if(k(this,as,!1),!g(this,dc)){k(this,dc,!0);return}if(g(this,Pe).getMode()===tt.STAMP){g(this,Pe).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(g(this,Pe).getMode()===tt.HIGHLIGHT&&this.enableTextSelection(),g(this,as)){k(this,as,!1);return}const{isMac:t}=_n.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;k(this,as,!0);const n=g(this,Pe).getActive();k(this,dc,!n||n.isEmpty())}findNewParent(e,t,n){const i=g(this,Pe).findParent(t,n);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,t;((e=g(this,Pe).getActive())==null?void 0:e.parent)===this&&(g(this,Pe).commitOrRemove(),g(this,Pe).setActiveEditor(null)),g(this,Cr)&&(clearTimeout(g(this,Cr)),k(this,Cr,null));for(const n of g(this,Ln).values())(t=g(this,Ma))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,g(this,Ln).clear(),g(this,Pe).removeLayer(this)}render({viewport:e}){this.viewport=e,Wa(this.div,e);for(const t of g(this,Pe).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){g(this,Pe).commitOrRemove(),M(this,Zt,ch).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Wa(this.div,{rotation:n}),t!==n)for(const i of g(this,Ln).values())i.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return g(this,Pe).viewParameters.realScale}};Ma=new WeakMap,dc=new WeakMap,Mi=new WeakMap,Na=new WeakMap,Tr=new WeakMap,Ar=new WeakMap,Cr=new WeakMap,Ln=new WeakMap,as=new WeakMap,hc=new WeakMap,fc=new WeakMap,ln=new WeakMap,Pe=new WeakMap,os=new WeakMap,Zt=new WeakSet,cD=function(e){if(g(this,Pe).unselectAll(),e.target===g(this,ln).div){const{isMac:t}=_n.platform;if(e.button!==0||e.ctrlKey&&t)return;g(this,Pe).showAllEditors("highlight",!0,!0),g(this,ln).div.classList.add("free"),$h.startHighlighting(this,g(this,Pe).direction==="ltr",e),g(this,ln).div.addEventListener("pointerup",()=>{g(this,ln).div.classList.remove("free")},{once:!0,signal:g(this,Pe)._signal}),e.preventDefault()}},Zm=function(){return g(ei,os).get(g(this,Pe).getMode())},Jm=function(e){const t=g(this,Zt,Zm);return t?new t.prototype.constructor(e):null},Qm=function(){const{x:e,y:t,width:n,height:i}=this.div.getBoundingClientRect(),r=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+n),c=Math.min(window.innerHeight,t+i),l=(r+o)/2-e,u=(a+c)/2-t,[d,h]=this.viewport.rotation%180===0?[l,u]:[u,l];return{offsetX:d,offsetY:h}},ch=function(){k(this,hc,!0);for(const e of g(this,Ln).values())e.isEmpty()&&e.remove();k(this,hc,!1)},$e(ei,"_initialized",!1),L(ei,os,new Map([Sm,Om,$m,$h].map(e=>[e._editorType,e])));let Km=ei;var Ni,Qu,Lt,cs,ju,ey,Ga,ty,lD;const zt=class zt{constructor({pageIndex:e}){L(this,Ga);L(this,Ni,null);L(this,Qu,0);L(this,Lt,new Map);L(this,cs,new Map);this.pageIndex=e}setParent(e){if(!g(this,Ni)){k(this,Ni,e);return}if(g(this,Ni)!==e){if(g(this,Lt).size>0)for(const t of g(this,Lt).values())t.remove(),e.append(t);k(this,Ni,e)}}static get _svgFactory(){return it(this,"_svgFactory",new dy)}highlight(e,t,n,i=!1){const r=En(this,Qu)._++,a=M(this,Ga,ty).call(this,e.box);a.classList.add("highlight"),e.free&&a.classList.add("free");const o=zt._svgFactory.createElement("defs");a.append(o);const c=zt._svgFactory.createElement("path");o.append(c);const l=`path_p${this.pageIndex}_${r}`;c.setAttribute("id",l),c.setAttribute("d",e.toSVGPath()),i&&g(this,cs).set(r,c);const u=M(this,Ga,lD).call(this,o,l),d=zt._svgFactory.createElement("use");return a.append(d),a.setAttribute("fill",t),a.setAttribute("fill-opacity",n),d.setAttribute("href",`#${l}`),g(this,Lt).set(r,a),{id:r,clipPathId:`url(#${u})`}}highlightOutline(e){const t=En(this,Qu)._++,n=M(this,Ga,ty).call(this,e.box);n.classList.add("highlightOutline");const i=zt._svgFactory.createElement("defs");n.append(i);const r=zt._svgFactory.createElement("path");i.append(r);const a=`path_p${this.pageIndex}_${t}`;r.setAttribute("id",a),r.setAttribute("d",e.toSVGPath()),r.setAttribute("vector-effect","non-scaling-stroke");let o;if(e.free){n.classList.add("free");const u=zt._svgFactory.createElement("mask");i.append(u),o=`mask_p${this.pageIndex}_${t}`,u.setAttribute("id",o),u.setAttribute("maskUnits","objectBoundingBox");const d=zt._svgFactory.createElement("rect");u.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const h=zt._svgFactory.createElement("use");u.append(h),h.setAttribute("href",`#${a}`),h.setAttribute("stroke","none"),h.setAttribute("fill","black"),h.setAttribute("fill-rule","nonzero"),h.classList.add("mask")}const c=zt._svgFactory.createElement("use");n.append(c),c.setAttribute("href",`#${a}`),o&&c.setAttribute("mask",`url(#${o})`);const l=c.cloneNode();return n.append(l),c.classList.add("mainOutline"),l.classList.add("secondaryOutline"),g(this,Lt).set(t,n),t}finalizeLine(e,t){const n=g(this,cs).get(e);g(this,cs).delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){g(this,Lt).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),g(this,cs).delete(e)}updatePath(e,t){g(this,cs).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var n;M(n=zt,ju,ey).call(n,g(this,Lt).get(e),t)}show(e,t){g(this,Lt).get(e).classList.toggle("hidden",!t)}rotate(e,t){g(this,Lt).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){g(this,Lt).get(e).setAttribute("fill",t)}changeOpacity(e,t){g(this,Lt).get(e).setAttribute("fill-opacity",t)}addClass(e,t){g(this,Lt).get(e).classList.add(t)}removeClass(e,t){g(this,Lt).get(e).classList.remove(t)}remove(e){g(this,Ni)!==null&&(g(this,Lt).get(e).remove(),g(this,Lt).delete(e))}destroy(){k(this,Ni,null);for(const e of g(this,Lt).values())e.remove();g(this,Lt).clear()}};Ni=new WeakMap,Qu=new WeakMap,Lt=new WeakMap,cs=new WeakMap,ju=new WeakSet,ey=function(e,{x:t=0,y:n=0,width:i=1,height:r=1}={}){const{style:a}=e;a.top=`${100*n}%`,a.left=`${100*t}%`,a.width=`${100*i}%`,a.height=`${100*r}%`},Ga=new WeakSet,ty=function(e){var n;const t=zt._svgFactory.create(1,1,!0);return g(this,Ni).append(t),t.setAttribute("aria-hidden",!0),M(n=zt,ju,ey).call(n,t,e),t},lD=function(e,t){const n=zt._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const r=zt._svgFactory.createElement("use");return n.append(r),r.setAttribute("href",`#${t}`),r.classList.add("clip"),i},L(zt,ju);let jm=zt;qe.AbortException;qe.AnnotationEditorLayer;qe.AnnotationEditorParamsType;qe.AnnotationEditorType;qe.AnnotationEditorUIManager;qe.AnnotationLayer;qe.AnnotationMode;qe.CMapCompressionType;qe.ColorPicker;qe.DOMSVGFactory;qe.DrawLayer;qe.FeatureTest;var x3=qe.GlobalWorkerOptions;qe.ImageKind;qe.InvalidPDFException;qe.MissingPDFException;qe.OPS;qe.Outliner;qe.PDFDataRangeTransport;qe.PDFDateString;qe.PDFWorker;qe.PasswordResponses;qe.PermissionFlag;qe.PixelsPerInch;qe.RenderingCancelledException;qe.TextLayer;qe.UnexpectedResponseException;qe.Util;qe.VerbosityLevel;qe.XfaLayer;qe.build;qe.createValidAbsoluteUrl;qe.fetchData;var _3=qe.getDocument;qe.getFilenameFromUrl;qe.getPdfFilenameFromUrl;qe.getXfaPageViewport;qe.isDataScheme;qe.isPdfFile;qe.noContextMenu;qe.normalizeUnicode;qe.renderTextLayer;qe.setLayerDimensions;qe.shadow;qe.updateTextLayer;qe.version;var qn={},by="1.13.7",p0=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Rf=Array.prototype,xy=Object.prototype,g0=typeof Symbol<"u"?Symbol.prototype:null,D3=Rf.push,sd=Rf.slice,ml=xy.toString,T3=xy.hasOwnProperty,uD=typeof ArrayBuffer<"u",A3=typeof DataView<"u",C3=Array.isArray,m0=Object.keys,y0=Object.create,v0=uD&&ArrayBuffer.isView,w3=isNaN,E3=isFinite,dD=!{toString:null}.propertyIsEnumerable("toString"),b0=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],S3=Math.pow(2,53)-1;function pn(s,e){return e=e==null?s.length-1:+e,function(){for(var t=Math.max(arguments.length-e,0),n=Array(t),i=0;i<t;i++)n[i]=arguments[i+e];switch(e){case 0:return s.call(this,n);case 1:return s.call(this,arguments[0],n);case 2:return s.call(this,arguments[0],arguments[1],n)}var r=Array(e+1);for(i=0;i<e;i++)r[i]=arguments[i];return r[e]=n,s.apply(this,r)}}function xs(s){var e=typeof s;return e==="function"||e==="object"&&!!s}function hD(s){return s===null}function _y(s){return s===void 0}function Dy(s){return s===!0||s===!1||ml.call(s)==="[object Boolean]"}function fD(s){return!!(s&&s.nodeType===1)}function an(s){var e="[object "+s+"]";return function(t){return ml.call(t)===e}}const kf=an("String"),Ty=an("Number"),pD=an("Date"),gD=an("RegExp"),mD=an("Error"),Ay=an("Symbol"),Cy=an("ArrayBuffer");var Jt=an("Function"),U3=p0.document&&p0.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof U3!="function"&&(Jt=function(s){return typeof s=="function"||!1});const yD=an("Object");var vD=A3&&(!/\[native code\]/.test(String(DataView))||yD(new DataView(new ArrayBuffer(8)))),wy=typeof Map<"u"&&yD(new Map),F3=an("DataView");function I3(s){return s!=null&&Jt(s.getInt8)&&Cy(s.buffer)}const yl=vD?I3:F3,_s=C3||an("Array");function Ds(s,e){return s!=null&&T3.call(s,e)}var _c=an("Arguments");(function(){_c(arguments)||(_c=function(s){return Ds(s,"callee")})})();function bD(s){return!Ay(s)&&E3(s)&&!isNaN(parseFloat(s))}function Ey(s){return Ty(s)&&w3(s)}function Sy(s){return function(){return s}}function xD(s){return function(e){var t=s(e);return typeof t=="number"&&t>=0&&t<=S3}}function _D(s){return function(e){return e==null?void 0:e[s]}}const Xh=_D("byteLength"),R3=xD(Xh);var k3=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function M3(s){return v0?v0(s)&&!yl(s):R3(s)&&k3.test(ml.call(s))}const Uy=uD?M3:Sy(!1),An=_D("length");function N3(s){for(var e={},t=s.length,n=0;n<t;++n)e[s[n]]=!0;return{contains:function(i){return e[i]===!0},push:function(i){return e[i]=!0,s.push(i)}}}function DD(s,e){e=N3(e);var t=b0.length,n=s.constructor,i=Jt(n)&&n.prototype||xy,r="constructor";for(Ds(s,r)&&!e.contains(r)&&e.push(r);t--;)r=b0[t],r in s&&s[r]!==i[r]&&!e.contains(r)&&e.push(r)}function Ot(s){if(!xs(s))return[];if(m0)return m0(s);var e=[];for(var t in s)Ds(s,t)&&e.push(t);return dD&&DD(s,e),e}function TD(s){if(s==null)return!0;var e=An(s);return typeof e=="number"&&(_s(s)||kf(s)||_c(s))?e===0:An(Ot(s))===0}function Fy(s,e){var t=Ot(e),n=t.length;if(s==null)return!n;for(var i=Object(s),r=0;r<n;r++){var a=t[r];if(e[a]!==i[a]||!(a in i))return!1}return!0}function ot(s){if(s instanceof ot)return s;if(!(this instanceof ot))return new ot(s);this._wrapped=s}ot.VERSION=by;ot.prototype.value=function(){return this._wrapped};ot.prototype.valueOf=ot.prototype.toJSON=ot.prototype.value;ot.prototype.toString=function(){return String(this._wrapped)};function x0(s){return new Uint8Array(s.buffer||s,s.byteOffset||0,Xh(s))}var _0="[object DataView]";function ny(s,e,t,n){if(s===e)return s!==0||1/s===1/e;if(s==null||e==null)return!1;if(s!==s)return e!==e;var i=typeof s;return i!=="function"&&i!=="object"&&typeof e!="object"?!1:AD(s,e,t,n)}function AD(s,e,t,n){s instanceof ot&&(s=s._wrapped),e instanceof ot&&(e=e._wrapped);var i=ml.call(s);if(i!==ml.call(e))return!1;if(vD&&i=="[object Object]"&&yl(s)){if(!yl(e))return!1;i=_0}switch(i){case"[object RegExp]":case"[object String]":return""+s==""+e;case"[object Number]":return+s!=+s?+e!=+e:+s==0?1/+s===1/e:+s==+e;case"[object Date]":case"[object Boolean]":return+s==+e;case"[object Symbol]":return g0.valueOf.call(s)===g0.valueOf.call(e);case"[object ArrayBuffer]":case _0:return AD(x0(s),x0(e),t,n)}var r=i==="[object Array]";if(!r&&Uy(s)){var a=Xh(s);if(a!==Xh(e))return!1;if(s.buffer===e.buffer&&s.byteOffset===e.byteOffset)return!0;r=!0}if(!r){if(typeof s!="object"||typeof e!="object")return!1;var o=s.constructor,c=e.constructor;if(o!==c&&!(Jt(o)&&o instanceof o&&Jt(c)&&c instanceof c)&&"constructor"in s&&"constructor"in e)return!1}t=t||[],n=n||[];for(var l=t.length;l--;)if(t[l]===s)return n[l]===e;if(t.push(s),n.push(e),r){if(l=s.length,l!==e.length)return!1;for(;l--;)if(!ny(s[l],e[l],t,n))return!1}else{var u=Ot(s),d;if(l=u.length,Ot(e).length!==l)return!1;for(;l--;)if(d=u[l],!(Ds(e,d)&&ny(s[d],e[d],t,n)))return!1}return t.pop(),n.pop(),!0}function CD(s,e){return ny(s,e)}function Cc(s){if(!xs(s))return[];var e=[];for(var t in s)e.push(t);return dD&&DD(s,e),e}function Iy(s){var e=An(s);return function(t){if(t==null)return!1;var n=Cc(t);if(An(n))return!1;for(var i=0;i<e;i++)if(!Jt(t[s[i]]))return!1;return s!==SD||!Jt(t[Ry])}}var Ry="forEach",wD="has",ky=["clear","delete"],ED=["get",wD,"set"],P3=ky.concat(Ry,ED),SD=ky.concat(ED),L3=["add"].concat(ky,Ry,wD);const UD=wy?Iy(P3):an("Map"),FD=wy?Iy(SD):an("WeakMap"),ID=wy?Iy(L3):an("Set"),RD=an("WeakSet");function Ka(s){for(var e=Ot(s),t=e.length,n=Array(t),i=0;i<t;i++)n[i]=s[e[i]];return n}function kD(s){for(var e=Ot(s),t=e.length,n=Array(t),i=0;i<t;i++)n[i]=[e[i],s[e[i]]];return n}function My(s){for(var e={},t=Ot(s),n=0,i=t.length;n<i;n++)e[s[t[n]]]=t[n];return e}function vl(s){var e=[];for(var t in s)Jt(s[t])&&e.push(t);return e.sort()}function Ny(s,e){return function(t){var n=arguments.length;if(e&&(t=Object(t)),n<2||t==null)return t;for(var i=1;i<n;i++)for(var r=arguments[i],a=s(r),o=a.length,c=0;c<o;c++){var l=a[c];(!e||t[l]===void 0)&&(t[l]=r[l])}return t}}const Py=Ny(Cc),Dc=Ny(Ot),Ly=Ny(Cc,!0);function B3(){return function(){}}function MD(s){if(!xs(s))return{};if(y0)return y0(s);var e=B3();e.prototype=s;var t=new e;return e.prototype=null,t}function ND(s,e){var t=MD(s);return e&&Dc(t,e),t}function PD(s){return xs(s)?_s(s)?s.slice():Py({},s):s}function LD(s,e){return e(s),s}function By(s){return _s(s)?s:[s]}ot.toPath=By;function ad(s){return ot.toPath(s)}function Oy(s,e){for(var t=e.length,n=0;n<t;n++){if(s==null)return;s=s[e[n]]}return t?s:void 0}function Wy(s,e,t){var n=Oy(s,ad(e));return _y(n)?t:n}function BD(s,e){e=ad(e);for(var t=e.length,n=0;n<t;n++){var i=e[n];if(!Ds(s,i))return!1;s=s[i]}return!!t}function Mf(s){return s}function za(s){return s=Dc({},s),function(e){return Fy(e,s)}}function Nf(s){return s=ad(s),function(e){return Oy(e,s)}}function od(s,e,t){if(e===void 0)return s;switch(t??3){case 1:return function(n){return s.call(e,n)};case 3:return function(n,i,r){return s.call(e,n,i,r)};case 4:return function(n,i,r,a){return s.call(e,n,i,r,a)}}return function(){return s.apply(e,arguments)}}function OD(s,e,t){return s==null?Mf:Jt(s)?od(s,e,t):xs(s)&&!_s(s)?za(s):Nf(s)}function Pf(s,e){return OD(s,e,1/0)}ot.iteratee=Pf;function Cn(s,e,t){return ot.iteratee!==Pf?ot.iteratee(s,e):OD(s,e,t)}function WD(s,e,t){e=Cn(e,t);for(var n=Ot(s),i=n.length,r={},a=0;a<i;a++){var o=n[a];r[o]=e(s[o],o,s)}return r}function qy(){}function qD(s){return s==null?qy:function(e){return Wy(s,e)}}function VD(s,e,t){var n=Array(Math.max(0,s));e=od(e,t,1);for(var i=0;i<s;i++)n[i]=e(i);return n}function Yh(s,e){return e==null&&(e=s,s=0),s+Math.floor(Math.random()*(e-s+1))}const Tc=Date.now||function(){return new Date().getTime()};function zD(s){var e=function(r){return s[r]},t="(?:"+Ot(s).join("|")+")",n=RegExp(t),i=RegExp(t,"g");return function(r){return r=r==null?"":""+r,n.test(r)?r.replace(i,e):r}}const HD={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},GD=zD(HD),O3=My(HD),$D=zD(O3),XD=ot.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var pp=/(.)^/,W3={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},q3=/\\|'|\r|\n|\u2028|\u2029/g;function V3(s){return"\\"+W3[s]}var z3=/^\s*(\w|\$)+\s*$/;function YD(s,e,t){!e&&t&&(e=t),e=Ly({},e,ot.templateSettings);var n=RegExp([(e.escape||pp).source,(e.interpolate||pp).source,(e.evaluate||pp).source].join("|")+"|$","g"),i=0,r="__p+='";s.replace(n,function(l,u,d,h,p){return r+=s.slice(i,p).replace(q3,V3),i=p+l.length,u?r+=`'+
((__t=(`+u+`))==null?'':_.escape(__t))+
'`:d?r+=`'+
((__t=(`+d+`))==null?'':__t)+
'`:h&&(r+=`';
`+h+`
__p+='`),l}),r+=`';
`;var a=e.variable;if(a){if(!z3.test(a))throw new Error("variable is not a bare identifier: "+a)}else r=`with(obj||{}){
`+r+`}
`,a="obj";r=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+r+`return __p;
`;var o;try{o=new Function(a,"_",r)}catch(l){throw l.source=r,l}var c=function(l){return o.call(this,l,ot)};return c.source="function("+a+`){
`+r+"}",c}function KD(s,e,t){e=ad(e);var n=e.length;if(!n)return Jt(t)?t.call(s):t;for(var i=0;i<n;i++){var r=s==null?void 0:s[e[i]];r===void 0&&(r=t,i=n),s=Jt(r)?r.call(s):r}return s}var H3=0;function ZD(s){var e=++H3+"";return s?s+e:e}function JD(s){var e=ot(s);return e._chain=!0,e}function QD(s,e,t,n,i){if(!(n instanceof e))return s.apply(t,i);var r=MD(s.prototype),a=s.apply(r,i);return xs(a)?a:r}var Za=pn(function(s,e){var t=Za.placeholder,n=function(){for(var i=0,r=e.length,a=Array(r),o=0;o<r;o++)a[o]=e[o]===t?arguments[i++]:e[o];for(;i<arguments.length;)a.push(arguments[i++]);return QD(s,n,this,this,a)};return n});Za.placeholder=ot;const Vy=pn(function(s,e,t){if(!Jt(s))throw new TypeError("Bind must be called on a function");var n=pn(function(i){return QD(s,n,e,this,t.concat(i))});return n}),On=xD(An);function Ja(s,e,t,n){if(n=n||[],!e&&e!==0)e=1/0;else if(e<=0)return n.concat(s);for(var i=n.length,r=0,a=An(s);r<a;r++){var o=s[r];if(On(o)&&(_s(o)||_c(o)))if(e>1)Ja(o,e-1,t,n),i=n.length;else for(var c=0,l=o.length;c<l;)n[i++]=o[c++];else t||(n[i++]=o)}return n}const jD=pn(function(s,e){e=Ja(e,!1,!1);var t=e.length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var n=e[t];s[n]=Vy(s[n],s)}return s});function eT(s,e){var t=function(n){var i=t.cache,r=""+(e?e.apply(this,arguments):n);return Ds(i,r)||(i[r]=s.apply(this,arguments)),i[r]};return t.cache={},t}const zy=pn(function(s,e,t){return setTimeout(function(){return s.apply(null,t)},e)}),tT=Za(zy,ot,1);function nT(s,e,t){var n,i,r,a,o=0;t||(t={});var c=function(){o=t.leading===!1?0:Tc(),n=null,a=s.apply(i,r),n||(i=r=null)},l=function(){var u=Tc();!o&&t.leading===!1&&(o=u);var d=e-(u-o);return i=this,r=arguments,d<=0||d>e?(n&&(clearTimeout(n),n=null),o=u,a=s.apply(i,r),n||(i=r=null)):!n&&t.trailing!==!1&&(n=setTimeout(c,d)),a};return l.cancel=function(){clearTimeout(n),o=0,n=i=r=null},l}function iT(s,e,t){var n,i,r,a,o,c=function(){var u=Tc()-i;e>u?n=setTimeout(c,e-u):(n=null,t||(a=s.apply(o,r)),n||(r=o=null))},l=pn(function(u){return o=this,r=u,i=Tc(),n||(n=setTimeout(c,e),t&&(a=s.apply(o,r))),a});return l.cancel=function(){clearTimeout(n),n=r=o=null},l}function rT(s,e){return Za(e,s)}function Lf(s){return function(){return!s.apply(this,arguments)}}function sT(){var s=arguments,e=s.length-1;return function(){for(var t=e,n=s[e].apply(this,arguments);t--;)n=s[t].call(this,n);return n}}function aT(s,e){return function(){if(--s<1)return e.apply(this,arguments)}}function Hy(s,e){var t;return function(){return--s>0&&(t=e.apply(this,arguments)),s<=1&&(e=null),t}}const oT=Za(Hy,2);function Gy(s,e,t){e=Cn(e,t);for(var n=Ot(s),i,r=0,a=n.length;r<a;r++)if(i=n[r],e(s[i],i,s))return i}function cT(s){return function(e,t,n){t=Cn(t,n);for(var i=An(e),r=s>0?0:i-1;r>=0&&r<i;r+=s)if(t(e[r],r,e))return r;return-1}}const Bf=cT(1),$y=cT(-1);function Xy(s,e,t,n){t=Cn(t,n,1);for(var i=t(e),r=0,a=An(s);r<a;){var o=Math.floor((r+a)/2);t(s[o])<i?r=o+1:a=o}return r}function lT(s,e,t){return function(n,i,r){var a=0,o=An(n);if(typeof r=="number")s>0?a=r>=0?r:Math.max(r+o,a):o=r>=0?Math.min(r+1,o):r+o+1;else if(t&&r&&o)return r=t(n,i),n[r]===i?r:-1;if(i!==i)return r=e(sd.call(n,a,o),Ey),r>=0?r+a:-1;for(r=s>0?a:o-1;r>=0&&r<o;r+=s)if(n[r]===i)return r;return-1}}const Yy=lT(1,Bf,Xy),uT=lT(-1,$y);function bl(s,e,t){var n=On(s)?Bf:Gy,i=n(s,e,t);if(i!==void 0&&i!==-1)return s[i]}function dT(s,e){return bl(s,za(e))}function mi(s,e,t){e=od(e,t);var n,i;if(On(s))for(n=0,i=s.length;n<i;n++)e(s[n],n,s);else{var r=Ot(s);for(n=0,i=r.length;n<i;n++)e(s[r[n]],r[n],s)}return s}function Ir(s,e,t){e=Cn(e,t);for(var n=!On(s)&&Ot(s),i=(n||s).length,r=Array(i),a=0;a<i;a++){var o=n?n[a]:a;r[a]=e(s[o],o,s)}return r}function hT(s){var e=function(t,n,i,r){var a=!On(t)&&Ot(t),o=(a||t).length,c=s>0?0:o-1;for(r||(i=t[a?a[c]:c],c+=s);c>=0&&c<o;c+=s){var l=a?a[c]:c;i=n(i,t[l],l,t)}return i};return function(t,n,i,r){var a=arguments.length>=3;return e(t,od(n,r,4),i,a)}}const yo=hT(1),Kh=hT(-1);function fs(s,e,t){var n=[];return e=Cn(e,t),mi(s,function(i,r,a){e(i,r,a)&&n.push(i)}),n}function fT(s,e,t){return fs(s,Lf(Cn(e)),t)}function Zh(s,e,t){e=Cn(e,t);for(var n=!On(s)&&Ot(s),i=(n||s).length,r=0;r<i;r++){var a=n?n[r]:r;if(!e(s[a],a,s))return!1}return!0}function Jh(s,e,t){e=Cn(e,t);for(var n=!On(s)&&Ot(s),i=(n||s).length,r=0;r<i;r++){var a=n?n[r]:r;if(e(s[a],a,s))return!0}return!1}function Zn(s,e,t,n){return On(s)||(s=Ka(s)),(typeof t!="number"||n)&&(t=0),Yy(s,e,t)>=0}const pT=pn(function(s,e,t){var n,i;return Jt(e)?i=e:(e=ad(e),n=e.slice(0,-1),e=e[e.length-1]),Ir(s,function(r){var a=i;if(!a){if(n&&n.length&&(r=Oy(r,n)),r==null)return;a=r[e]}return a==null?a:a.apply(r,t)})});function Of(s,e){return Ir(s,Nf(e))}function gT(s,e){return fs(s,za(e))}function Ky(s,e,t){var n=-1/0,i=-1/0,r,a;if(e==null||typeof e=="number"&&typeof s[0]!="object"&&s!=null){s=On(s)?s:Ka(s);for(var o=0,c=s.length;o<c;o++)r=s[o],r!=null&&r>n&&(n=r)}else e=Cn(e,t),mi(s,function(l,u,d){a=e(l,u,d),(a>i||a===-1/0&&n===-1/0)&&(n=l,i=a)});return n}function mT(s,e,t){var n=1/0,i=1/0,r,a;if(e==null||typeof e=="number"&&typeof s[0]!="object"&&s!=null){s=On(s)?s:Ka(s);for(var o=0,c=s.length;o<c;o++)r=s[o],r!=null&&r<n&&(n=r)}else e=Cn(e,t),mi(s,function(l,u,d){a=e(l,u,d),(a<i||a===1/0&&n===1/0)&&(n=l,i=a)});return n}var G3=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Zy(s){return s?_s(s)?sd.call(s):kf(s)?s.match(G3):On(s)?Ir(s,Mf):Ka(s):[]}function Jy(s,e,t){if(e==null||t)return On(s)||(s=Ka(s)),s[Yh(s.length-1)];var n=Zy(s),i=An(n);e=Math.max(Math.min(e,i),0);for(var r=i-1,a=0;a<e;a++){var o=Yh(a,r),c=n[a];n[a]=n[o],n[o]=c}return n.slice(0,e)}function yT(s){return Jy(s,1/0)}function vT(s,e,t){var n=0;return e=Cn(e,t),Of(Ir(s,function(i,r,a){return{value:i,index:n++,criteria:e(i,r,a)}}).sort(function(i,r){var a=i.criteria,o=r.criteria;if(a!==o){if(a>o||a===void 0)return 1;if(a<o||o===void 0)return-1}return i.index-r.index}),"value")}function Wf(s,e){return function(t,n,i){var r=e?[[],[]]:{};return n=Cn(n,i),mi(t,function(a,o){var c=n(a,o,t);s(r,a,c)}),r}}const bT=Wf(function(s,e,t){Ds(s,t)?s[t].push(e):s[t]=[e]}),xT=Wf(function(s,e,t){s[t]=e}),_T=Wf(function(s,e,t){Ds(s,t)?s[t]++:s[t]=1}),DT=Wf(function(s,e,t){s[t?0:1].push(e)},!0);function TT(s){return s==null?0:On(s)?s.length:Ot(s).length}function $3(s,e,t){return e in t}const Qy=pn(function(s,e){var t={},n=e[0];if(s==null)return t;Jt(n)?(e.length>1&&(n=od(n,e[1])),e=Cc(s)):(n=$3,e=Ja(e,!1,!1),s=Object(s));for(var i=0,r=e.length;i<r;i++){var a=e[i],o=s[a];n(o,a,s)&&(t[a]=o)}return t}),AT=pn(function(s,e){var t=e[0],n;return Jt(t)?(t=Lf(t),e.length>1&&(n=e[1])):(e=Ir(Ja(e,!1,!1),String),t=function(i,r){return!Zn(e,r)}),Qy(s,t,n)});function jy(s,e,t){return sd.call(s,0,Math.max(0,s.length-(e==null||t?1:e)))}function vo(s,e,t){return s==null||s.length<1?e==null||t?void 0:[]:e==null||t?s[0]:jy(s,s.length-e)}function Pa(s,e,t){return sd.call(s,e==null||t?1:e)}function CT(s,e,t){return s==null||s.length<1?e==null||t?void 0:[]:e==null||t?s[s.length-1]:Pa(s,Math.max(0,s.length-e))}function wT(s){return fs(s,Boolean)}function ET(s,e){return Ja(s,e,!1)}const ev=pn(function(s,e){return e=Ja(e,!0,!0),fs(s,function(t){return!Zn(e,t)})}),ST=pn(function(s,e){return ev(s,e)});function xl(s,e,t,n){Dy(e)||(n=t,t=e,e=!1),t!=null&&(t=Cn(t,n));for(var i=[],r=[],a=0,o=An(s);a<o;a++){var c=s[a],l=t?t(c,a,s):c;e&&!t?((!a||r!==l)&&i.push(c),r=l):t?Zn(r,l)||(r.push(l),i.push(c)):Zn(i,c)||i.push(c)}return i}const UT=pn(function(s){return xl(Ja(s,!0,!0))});function FT(s){for(var e=[],t=arguments.length,n=0,i=An(s);n<i;n++){var r=s[n];if(!Zn(e,r)){var a;for(a=1;a<t&&Zn(arguments[a],r);a++);a===t&&e.push(r)}}return e}function _l(s){for(var e=s&&Ky(s,An).length||0,t=Array(e),n=0;n<e;n++)t[n]=Of(s,n);return t}const IT=pn(_l);function RT(s,e){for(var t={},n=0,i=An(s);n<i;n++)e?t[s[n]]=e[n]:t[s[n][0]]=s[n][1];return t}function kT(s,e,t){e==null&&(e=s||0,s=0),t||(t=e<s?-1:1);for(var n=Math.max(Math.ceil((e-s)/t),0),i=Array(n),r=0;r<n;r++,s+=t)i[r]=s;return i}function MT(s,e){if(e==null||e<1)return[];for(var t=[],n=0,i=s.length;n<i;)t.push(sd.call(s,n,n+=e));return t}function tv(s,e){return s._chain?ot(e).chain():e}function nv(s){return mi(vl(s),function(e){var t=ot[e]=s[e];ot.prototype[e]=function(){var n=[this._wrapped];return D3.apply(n,arguments),tv(this,t.apply(ot,n))}}),ot}mi(["pop","push","reverse","shift","sort","splice","unshift"],function(s){var e=Rf[s];ot.prototype[s]=function(){var t=this._wrapped;return t!=null&&(e.apply(t,arguments),(s==="shift"||s==="splice")&&t.length===0&&delete t[0]),tv(this,t)}});mi(["concat","join","slice"],function(s){var e=Rf[s];ot.prototype[s]=function(){var t=this._wrapped;return t!=null&&(t=e.apply(t,arguments)),tv(this,t)}});const X3=Object.freeze(Object.defineProperty({__proto__:null,VERSION:by,after:aT,all:Zh,allKeys:Cc,any:Jh,assign:Dc,before:Hy,bind:Vy,bindAll:jD,chain:JD,chunk:MT,clone:PD,collect:Ir,compact:wT,compose:sT,constant:Sy,contains:Zn,countBy:_T,create:ND,debounce:iT,default:ot,defaults:Ly,defer:tT,delay:zy,detect:bl,difference:ev,drop:Pa,each:mi,escape:GD,every:Zh,extend:Py,extendOwn:Dc,filter:fs,find:bl,findIndex:Bf,findKey:Gy,findLastIndex:$y,findWhere:dT,first:vo,flatten:ET,foldl:yo,foldr:Kh,forEach:mi,functions:vl,get:Wy,groupBy:bT,has:BD,head:vo,identity:Mf,include:Zn,includes:Zn,indexBy:xT,indexOf:Yy,initial:jy,inject:yo,intersection:FT,invert:My,invoke:pT,isArguments:_c,isArray:_s,isArrayBuffer:Cy,isBoolean:Dy,isDataView:yl,isDate:pD,isElement:fD,isEmpty:TD,isEqual:CD,isError:mD,isFinite:bD,isFunction:Jt,isMap:UD,isMatch:Fy,isNaN:Ey,isNull:hD,isNumber:Ty,isObject:xs,isRegExp:gD,isSet:ID,isString:kf,isSymbol:Ay,isTypedArray:Uy,isUndefined:_y,isWeakMap:FD,isWeakSet:RD,iteratee:Pf,keys:Ot,last:CT,lastIndexOf:uT,map:Ir,mapObject:WD,matcher:za,matches:za,max:Ky,memoize:eT,methods:vl,min:mT,mixin:nv,negate:Lf,noop:qy,now:Tc,object:RT,omit:AT,once:oT,pairs:kD,partial:Za,partition:DT,pick:Qy,pluck:Of,property:Nf,propertyOf:qD,random:Yh,range:kT,reduce:yo,reduceRight:Kh,reject:fT,rest:Pa,restArguments:pn,result:KD,sample:Jy,select:fs,shuffle:yT,size:TT,some:Jh,sortBy:vT,sortedIndex:Xy,tail:Pa,take:vo,tap:LD,template:YD,templateSettings:XD,throttle:nT,times:VD,toArray:Zy,toPath:By,transpose:_l,unescape:$D,union:UT,uniq:xl,unique:xl,uniqueId:ZD,unzip:_l,values:Ka,where:gT,without:ST,wrap:rT,zip:IT},Symbol.toStringTag,{value:"Module"}));var iy=nv(X3);iy._=iy;const Y3=Object.freeze(Object.defineProperty({__proto__:null,VERSION:by,after:aT,all:Zh,allKeys:Cc,any:Jh,assign:Dc,before:Hy,bind:Vy,bindAll:jD,chain:JD,chunk:MT,clone:PD,collect:Ir,compact:wT,compose:sT,constant:Sy,contains:Zn,countBy:_T,create:ND,debounce:iT,default:iy,defaults:Ly,defer:tT,delay:zy,detect:bl,difference:ev,drop:Pa,each:mi,escape:GD,every:Zh,extend:Py,extendOwn:Dc,filter:fs,find:bl,findIndex:Bf,findKey:Gy,findLastIndex:$y,findWhere:dT,first:vo,flatten:ET,foldl:yo,foldr:Kh,forEach:mi,functions:vl,get:Wy,groupBy:bT,has:BD,head:vo,identity:Mf,include:Zn,includes:Zn,indexBy:xT,indexOf:Yy,initial:jy,inject:yo,intersection:FT,invert:My,invoke:pT,isArguments:_c,isArray:_s,isArrayBuffer:Cy,isBoolean:Dy,isDataView:yl,isDate:pD,isElement:fD,isEmpty:TD,isEqual:CD,isError:mD,isFinite:bD,isFunction:Jt,isMap:UD,isMatch:Fy,isNaN:Ey,isNull:hD,isNumber:Ty,isObject:xs,isRegExp:gD,isSet:ID,isString:kf,isSymbol:Ay,isTypedArray:Uy,isUndefined:_y,isWeakMap:FD,isWeakSet:RD,iteratee:Pf,keys:Ot,last:CT,lastIndexOf:uT,map:Ir,mapObject:WD,matcher:za,matches:za,max:Ky,memoize:eT,methods:vl,min:mT,mixin:nv,negate:Lf,noop:qy,now:Tc,object:RT,omit:AT,once:oT,pairs:kD,partial:Za,partition:DT,pick:Qy,pluck:Of,property:Nf,propertyOf:qD,random:Yh,range:kT,reduce:yo,reduceRight:Kh,reject:fT,rest:Pa,restArguments:pn,result:KD,sample:Jy,select:fs,shuffle:yT,size:TT,some:Jh,sortBy:vT,sortedIndex:Xy,tail:Pa,take:vo,tap:LD,template:YD,templateSettings:XD,throttle:nT,times:VD,toArray:Zy,toPath:By,transpose:_l,unescape:$D,union:UT,uniq:xl,unique:xl,uniqueId:ZD,unzip:_l,values:Ka,where:gT,without:ST,wrap:rT,zip:IT},Symbol.toStringTag,{value:"Module"})),St=nA(Y3);var xd={},Vn={},gp={exports:{}},_d={exports:{}},D0;function wc(){if(D0)return _d.exports;D0=1;var s=function(){return this===void 0}();if(s)_d.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:s,propertyIsWritable:function(u,d){var h=Object.getOwnPropertyDescriptor(u,d);return!!(!h||h.writable||h.set)}};else{var e={}.hasOwnProperty,t={}.toString,n={}.constructor.prototype,i=function(u){var d=[];for(var h in u)e.call(u,h)&&d.push(h);return d},r=function(u,d){return{value:u[d]}},a=function(u,d,h){return u[d]=h.value,u},o=function(u){return u},c=function(u){try{return Object(u).constructor.prototype}catch{return n}},l=function(u){try{return t.call(u)==="[object Array]"}catch{return!1}};_d.exports={isArray:l,keys:i,names:i,defineProperty:a,getDescriptor:r,freeze:o,getPrototypeOf:c,isES5:s,propertyIsWritable:function(){return!0}}}return _d.exports}var Rc,T0;function vt(){if(T0)return Rc;T0=1;var s={},e=wc(),t=typeof navigator>"u",n={e:{}},i,r=typeof self<"u"?self:typeof window<"u"?window:typeof ls<"u"?ls:Rc!==void 0?Rc:null;function a(){try{var Z=i;return i=null,Z.apply(this,arguments)}catch(oe){return n.e=oe,n}}function o(Z){return i=Z,a}var c=function(Z,oe){var ae={}.hasOwnProperty;function ve(){this.constructor=Z,this.constructor$=oe;for(var me in oe.prototype)ae.call(oe.prototype,me)&&me.charAt(me.length-1)!=="$"&&(this[me+"$"]=oe.prototype[me])}return ve.prototype=oe.prototype,Z.prototype=new ve,Z.prototype};function l(Z){return Z==null||Z===!0||Z===!1||typeof Z=="string"||typeof Z=="number"}function u(Z){return typeof Z=="function"||typeof Z=="object"&&Z!==null}function d(Z){return l(Z)?new Error(F(Z)):Z}function h(Z,oe){var ae=Z.length,ve=new Array(ae+1),me;for(me=0;me<ae;++me)ve[me]=Z[me];return ve[me]=oe,ve}function p(Z,oe,ae){if(e.isES5){var ve=Object.getOwnPropertyDescriptor(Z,oe);if(ve!=null)return ve.get==null&&ve.set==null?ve.value:ae}else return{}.hasOwnProperty.call(Z,oe)?Z[oe]:void 0}function y(Z,oe,ae){if(l(Z))return Z;var ve={value:ae,configurable:!0,enumerable:!1,writable:!0};return e.defineProperty(Z,oe,ve),Z}function v(Z){throw Z}var b=function(){var Z=[Array.prototype,Object.prototype,Function.prototype],oe=function(me){for(var ye=0;ye<Z.length;++ye)if(Z[ye]===me)return!0;return!1};if(e.isES5){var ae=Object.getOwnPropertyNames;return function(me){for(var ye=[],Te=Object.create(null);me!=null&&!oe(me);){var Ie;try{Ie=ae(me)}catch{return ye}for(var Ne=0;Ne<Ie.length;++Ne){var Oe=Ie[Ne];if(!Te[Oe]){Te[Oe]=!0;var Ve=Object.getOwnPropertyDescriptor(me,Oe);Ve!=null&&Ve.get==null&&Ve.set==null&&ye.push(Oe)}}me=e.getPrototypeOf(me)}return ye}}else{var ve={}.hasOwnProperty;return function(me){if(oe(me))return[];var ye=[];e:for(var Te in me)if(ve.call(me,Te))ye.push(Te);else{for(var Ie=0;Ie<Z.length;++Ie)if(ve.call(Z[Ie],Te))continue e;ye.push(Te)}return ye}}}(),x=/this\s*\.\s*\S+\s*=/;function _(Z){try{if(typeof Z=="function"){var oe=e.names(Z.prototype),ae=e.isES5&&oe.length>1,ve=oe.length>0&&!(oe.length===1&&oe[0]==="constructor"),me=x.test(Z+"")&&e.names(Z).length>0;if(ae||ve||me)return!0}return!1}catch{return!1}}function D(Z){return Z}var A=/^[a-z$_][a-z$_0-9]*$/i;function T(Z){return A.test(Z)}function w(Z,oe,ae){for(var ve=new Array(Z),me=0;me<Z;++me)ve[me]=oe+me+ae;return ve}function F(Z){try{return Z+""}catch{return"[no string representation]"}}function I(Z){return Z!==null&&typeof Z=="object"&&typeof Z.message=="string"&&typeof Z.name=="string"}function U(Z){try{y(Z,"isOperational",!0)}catch{}}function P(Z){return Z==null?!1:Z instanceof Error.__BluebirdErrorTypes__.OperationalError||Z.isOperational===!0}function H(Z){return I(Z)&&e.propertyIsWritable(Z,"stack")}var S=function(){return"stack"in new Error?function(Z){return H(Z)?Z:new Error(F(Z))}:function(Z){if(H(Z))return Z;try{throw new Error(F(Z))}catch(oe){return oe}}}();function N(Z){return{}.toString.call(Z)}function E(Z,oe,ae){for(var ve=e.names(Z),me=0;me<ve.length;++me){var ye=ve[me];if(ae(ye))try{e.defineProperty(oe,ye,e.getDescriptor(Z,ye))}catch{}}}var X=function(Z){return e.isArray(Z)?Z:null};if(typeof Symbol<"u"&&Symbol.iterator){var W=typeof Array.from=="function"?function(Z){return Array.from(Z)}:function(Z){for(var oe=[],ae=Z[Symbol.iterator](),ve;!(ve=ae.next()).done;)oe.push(ve.value);return oe};X=function(Z){return e.isArray(Z)?Z:Z!=null&&typeof Z[Symbol.iterator]=="function"?W(Z):null}}var O=typeof process<"u"&&N(process).toLowerCase()==="[object process]",Y=typeof process<"u"&&typeof s<"u";function $(Z){return Y?s[Z]:void 0}function se(){if(typeof Promise=="function")try{var Z=new Promise(function(){});if({}.toString.call(Z)==="[object Promise]")return Promise}catch{}}function z(Z,oe){return Z.bind(oe)}var J={isClass:_,isIdentifier:T,inheritedDataKeys:b,getDataPropertyOrDefault:p,thrower:v,isArray:e.isArray,asArray:X,notEnumerableProp:y,isPrimitive:l,isObject:u,isError:I,canEvaluate:t,errorObj:n,tryCatch:o,inherits:c,withAppended:h,maybeWrapAsError:d,toFastProperties:D,filledRange:w,toString:F,canAttachTrace:H,ensureErrorObject:S,originatesFromRejection:P,markAsOriginatingFromRejection:U,classString:N,copyDescriptors:E,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:O,hasEnvVariables:Y,env:$,global:r,getNativePromise:se,domainBind:z};J.isRecentNode=J.isNode&&function(){var Z=process.versions.node.split(".").map(Number);return Z[0]===0&&Z[1]>10||Z[0]>0}(),J.isNode&&J.toFastProperties(process);try{throw new Error}catch(Z){J.lastLineError=Z}return Rc=J,Rc}var Dd={exports:{}},mp,A0;function K3(){if(A0)return mp;A0=1;var s=vt(),e,t=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},n=s.getNativePromise();if(s.isNode&&typeof MutationObserver>"u"){var i=ls.setImmediate,r=process.nextTick;e=s.isRecentNode?function(o){i.call(ls,o)}:function(o){r.call(process,o)}}else if(typeof n=="function"&&typeof n.resolve=="function"){var a=n.resolve();e=function(o){a.then(o)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?e=function(){var o=document.createElement("div"),c={attributes:!0},l=!1,u=document.createElement("div"),d=new MutationObserver(function(){o.classList.toggle("foo"),l=!1});d.observe(u,c);var h=function(){l||(l=!0,u.classList.toggle("foo"))};return function(y){var v=new MutationObserver(function(){v.disconnect(),y()});v.observe(o,c),h()}}():typeof setImmediate<"u"?e=function(o){setImmediate(o)}:typeof setTimeout<"u"?e=function(o){setTimeout(o,0)}:e=t;return mp=e,mp}var yp,C0;function Z3(){if(C0)return yp;C0=1;function s(t,n,i,r,a){for(var o=0;o<a;++o)i[o+r]=t[o+n],t[o+n]=void 0}function e(t){this._capacity=t,this._length=0,this._front=0}return e.prototype._willBeOverCapacity=function(t){return this._capacity<t},e.prototype._pushOne=function(t){var n=this.length();this._checkCapacity(n+1);var i=this._front+n&this._capacity-1;this[i]=t,this._length=n+1},e.prototype.push=function(t,n,i){var r=this.length()+3;if(this._willBeOverCapacity(r)){this._pushOne(t),this._pushOne(n),this._pushOne(i);return}var a=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[a+0&o]=t,this[a+1&o]=n,this[a+2&o]=i,this._length=r},e.prototype.shift=function(){var t=this._front,n=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,n},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(t){var n=this._capacity;this._capacity=t;var i=this._front,r=this._length,a=i+r&n-1;s(this,0,this,n,a)},yp=e,yp}var w0;function J3(){if(w0)return Dd.exports;w0=1;var s;try{throw new Error}catch(c){s=c}var e=K3(),t=Z3(),n=vt();function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new t(16),this._normalQueue=new t(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var c=this;this.drainQueues=function(){c._drainQueues()},this._schedule=e}i.prototype.setScheduler=function(c){var l=this._schedule;return this._schedule=c,this._customScheduler=!0,l},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){n.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(c,l){l?(process.stderr.write("Fatal "+(c instanceof Error?c.stack:c)+`
`),process.exit(2)):this.throwLater(c)},i.prototype.throwLater=function(c,l){if(arguments.length===1&&(l=c,c=function(){throw l}),typeof setTimeout<"u")setTimeout(function(){c(l)},0);else try{this._schedule(function(){c(l)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function r(c,l,u){this._lateQueue.push(c,l,u),this._queueTick()}function a(c,l,u){this._normalQueue.push(c,l,u),this._queueTick()}function o(c){this._normalQueue._pushOne(c),this._queueTick()}return n.hasDevTools?(i.prototype.invokeLater=function(c,l,u){this._trampolineEnabled?r.call(this,c,l,u):this._schedule(function(){setTimeout(function(){c.call(l,u)},100)})},i.prototype.invoke=function(c,l,u){this._trampolineEnabled?a.call(this,c,l,u):this._schedule(function(){c.call(l,u)})},i.prototype.settlePromises=function(c){this._trampolineEnabled?o.call(this,c):this._schedule(function(){c._settlePromises()})}):(i.prototype.invokeLater=r,i.prototype.invoke=a,i.prototype.settlePromises=o),i.prototype._drainQueue=function(c){for(;c.length()>0;){var l=c.shift();if(typeof l!="function"){l._settlePromises();continue}var u=c.shift(),d=c.shift();l.call(u,d)}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},Dd.exports=i,Dd.exports.firstLineError=s,Dd.exports}var vp,E0;function ps(){if(E0)return vp;E0=1;var s=wc(),e=s.freeze,t=vt(),n=t.inherits,i=t.notEnumerableProp;function r(x,_){function D(A){if(!(this instanceof D))return new D(A);i(this,"message",typeof A=="string"?A:_),i(this,"name",x),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return n(D,Error),D}var a,o,c=r("Warning","warning"),l=r("CancellationError","cancellation error"),u=r("TimeoutError","timeout error"),d=r("AggregateError","aggregate error");try{a=TypeError,o=RangeError}catch{a=r("TypeError","type error"),o=r("RangeError","range error")}for(var h="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),p=0;p<h.length;++p)typeof Array.prototype[h[p]]=="function"&&(d.prototype[h[p]]=Array.prototype[h[p]]);s.defineProperty(d.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),d.prototype.isOperational=!0;var y=0;d.prototype.toString=function(){var x=Array(y*4+1).join(" "),_=`
`+x+`AggregateError of:
`;y++,x=Array(y*4+1).join(" ");for(var D=0;D<this.length;++D){for(var A=this[D]===this?"[Circular AggregateError]":this[D]+"",T=A.split(`
`),w=0;w<T.length;++w)T[w]=x+T[w];A=T.join(`
`),_+=A+`
`}return y--,_};function v(x){if(!(this instanceof v))return new v(x);i(this,"name","OperationalError"),i(this,"message",x),this.cause=x,this.isOperational=!0,x instanceof Error?(i(this,"message",x.message),i(this,"stack",x.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}n(v,Error);var b=Error.__BluebirdErrorTypes__;return b||(b=e({CancellationError:l,TimeoutError:u,OperationalError:v,RejectionError:v,AggregateError:d}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),vp={Error,TypeError:a,RangeError:o,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:c},vp}var bp,S0;function Q3(){return S0||(S0=1,bp=function(s,e){var t=vt(),n=t.errorObj,i=t.isObject;function r(d,h){if(i(d)){if(d instanceof s)return d;var p=o(d);if(p===n){h&&h._pushContext();var y=s.reject(p.e);return h&&h._popContext(),y}else if(typeof p=="function"){if(l(d)){var y=new s(e);return d._then(y._fulfill,y._reject,void 0,y,null),y}return u(d,p,h)}}return d}function a(d){return d.then}function o(d){try{return a(d)}catch(h){return n.e=h,n}}var c={}.hasOwnProperty;function l(d){try{return c.call(d,"_promise0")}catch{return!1}}function u(d,h,p){var y=new s(e),v=y;p&&p._pushContext(),y._captureStackTrace(),p&&p._popContext();var b=!0,x=t.tryCatch(h).call(d,_,D);b=!1,y&&x===n&&(y._rejectCallback(x.e,!0,!0),y=null);function _(A){y&&(y._resolveCallback(A),y=null)}function D(A){y&&(y._rejectCallback(A,b,!0),y=null)}return v}return r}),bp}var xp,U0;function j3(){return U0||(U0=1,xp=function(s,e,t,n,i){var r=vt();r.isArray;function a(c){switch(c){case-2:return[];case-3:return{}}}function o(c){var l=this._promise=new s(e);c instanceof s&&l._propagateFrom(c,3),l._setOnCancel(this),this._values=c,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return r.inherits(o,i),o.prototype.length=function(){return this._length},o.prototype.promise=function(){return this._promise},o.prototype._init=function c(l,u){var d=t(this._values,this._promise);if(d instanceof s){d=d._target();var h=d._bitField;if(this._values=d,(h&50397184)===0)return this._promise._setAsyncGuaranteed(),d._then(c,this._reject,void 0,this,u);if((h&33554432)!==0)d=d._value();else return(h&16777216)!==0?this._reject(d._reason()):this._cancel()}if(d=r.asArray(d),d===null){var p=n("expecting an array or an iterable object but got "+r.classString(d)).reason();this._promise._rejectCallback(p,!1);return}if(d.length===0){u===-5?this._resolveEmptyArray():this._resolve(a(u));return}this._iterate(d)},o.prototype._iterate=function(c){var l=this.getActualLength(c.length);this._length=l,this._values=this.shouldCopyValues()?new Array(l):this._values;for(var u=this._promise,d=!1,h=null,p=0;p<l;++p){var y=t(c[p],u);y instanceof s?(y=y._target(),h=y._bitField):h=null,d?h!==null&&y.suppressUnhandledRejections():h!==null?(h&50397184)===0?(y._proxy(this,p),this._values[p]=y):(h&33554432)!==0?d=this._promiseFulfilled(y._value(),p):(h&16777216)!==0?d=this._promiseRejected(y._reason(),p):d=this._promiseCancelled(p):d=this._promiseFulfilled(y,p)}d||u._setAsyncGuaranteed()},o.prototype._isResolved=function(){return this._values===null},o.prototype._resolve=function(c){this._values=null,this._promise._fulfill(c)},o.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},o.prototype._reject=function(c){this._values=null,this._promise._rejectCallback(c,!1)},o.prototype._promiseFulfilled=function(c,l){this._values[l]=c;var u=++this._totalResolved;return u>=this._length?(this._resolve(this._values),!0):!1},o.prototype._promiseCancelled=function(){return this._cancel(),!0},o.prototype._promiseRejected=function(c){return this._totalResolved++,this._reject(c),!0},o.prototype._resultCancelled=function(){if(!this._isResolved()){var c=this._values;if(this._cancel(),c instanceof s)c.cancel();else for(var l=0;l<c.length;++l)c[l]instanceof s&&c[l].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(c){return c},o}),xp}var _p,F0;function eM(){return F0||(F0=1,_p=function(s){var e=!1,t=[];s.prototype._promiseCreated=function(){},s.prototype._pushContext=function(){},s.prototype._popContext=function(){return null},s._peekContext=s.prototype._peekContext=function(){};function n(){this._trace=new n.CapturedTrace(r())}n.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,t.push(this._trace))},n.prototype._popContext=function(){if(this._trace!==void 0){var a=t.pop(),o=a._promiseCreated;return a._promiseCreated=null,o}return null};function i(){if(e)return new n}function r(){var a=t.length-1;if(a>=0)return t[a]}return n.CapturedTrace=null,n.create=i,n.deactivateLongStackTraces=function(){},n.activateLongStackTraces=function(){var a=s.prototype._pushContext,o=s.prototype._popContext,c=s._peekContext,l=s.prototype._peekContext,u=s.prototype._promiseCreated;n.deactivateLongStackTraces=function(){s.prototype._pushContext=a,s.prototype._popContext=o,s._peekContext=c,s.prototype._peekContext=l,s.prototype._promiseCreated=u,e=!1},e=!0,s.prototype._pushContext=n.prototype._pushContext,s.prototype._popContext=n.prototype._popContext,s._peekContext=s.prototype._peekContext=r,s.prototype._promiseCreated=function(){var d=this._peekContext();d&&d._promiseCreated==null&&(d._promiseCreated=this)}},n}),_p}var Dp,I0;function tM(){return I0||(I0=1,Dp=function(s,e){var t=s._getDomain,n=s._async,i=ps().Warning,r=vt(),a=r.canAttachTrace,o,c,l=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,u=/\((?:timers\.js):\d+:\d+\)/,d=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,h=null,p=null,y=!1,v,b=!!(r.env("BLUEBIRD_DEBUG")!=0&&(r.env("BLUEBIRD_DEBUG")||r.env("NODE_ENV")==="development")),x=!!(r.env("BLUEBIRD_WARNINGS")!=0&&(b||r.env("BLUEBIRD_WARNINGS"))),_=!!(r.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(b||r.env("BLUEBIRD_LONG_STACK_TRACES"))),D=r.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(x||!!r.env("BLUEBIRD_W_FORGOTTEN_RETURN"));s.prototype.suppressUnhandledRejections=function(){var G=this._target();G._bitField=G._bitField&-1048577|524288},s.prototype._ensurePossibleRejectionHandled=function(){(this._bitField&524288)===0&&(this._setRejectionIsUnhandled(),n.invokeLater(this._notifyUnhandledRejection,this,void 0))},s.prototype._notifyUnhandledRejectionIsHandled=function(){Oe("rejectionHandled",o,void 0,this)},s.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},s.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},s.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var G=this._settledValue();this._setUnhandledRejectionIsNotified(),Oe("unhandledRejection",c,G,this)}},s.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},s.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},s.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},s.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},s.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},s.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},s.prototype._warn=function(G,j,re){return oe(G,j,re||this)},s.onPossiblyUnhandledRejection=function(G){var j=t();c=typeof G=="function"?j===null?G:r.domainBind(j,G):void 0},s.onUnhandledRejectionHandled=function(G){var j=t();o=typeof G=="function"?j===null?G:r.domainBind(j,G):void 0};var A=function(){};s.longStackTraces=function(){if(n.haveItemsQueued()&&!te.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!te.longStackTraces&&ne()){var G=s.prototype._captureStackTrace,j=s.prototype._attachExtraTrace;te.longStackTraces=!0,A=function(){if(n.haveItemsQueued()&&!te.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);s.prototype._captureStackTrace=G,s.prototype._attachExtraTrace=j,e.deactivateLongStackTraces(),n.enableTrampoline(),te.longStackTraces=!1},s.prototype._captureStackTrace=se,s.prototype._attachExtraTrace=z,e.activateLongStackTraces(),n.disableTrampolineIfNecessary()}},s.hasLongStackTraces=function(){return te.longStackTraces&&ne()};var T=function(){try{if(typeof CustomEvent=="function"){var G=new CustomEvent("CustomEvent");return r.global.dispatchEvent(G),function(j,re){var le=new CustomEvent(j.toLowerCase(),{detail:re,cancelable:!0});return!r.global.dispatchEvent(le)}}else if(typeof Event=="function"){var G=new Event("CustomEvent");return r.global.dispatchEvent(G),function(re,le){var _e=new Event(re.toLowerCase(),{cancelable:!0});return _e.detail=le,!r.global.dispatchEvent(_e)}}else{var G=document.createEvent("CustomEvent");return G.initCustomEvent("testingtheevent",!1,!0,{}),r.global.dispatchEvent(G),function(re,le){var _e=document.createEvent("CustomEvent");return _e.initCustomEvent(re.toLowerCase(),!1,!0,le),!r.global.dispatchEvent(_e)}}}catch{}return function(){return!1}}(),w=function(){return r.isNode?function(){return process.emit.apply(process,arguments)}:r.global?function(G){var j="on"+G.toLowerCase(),re=r.global[j];return re?(re.apply(r.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}();function F(G,j){return{promise:j}}var I={promiseCreated:F,promiseFulfilled:F,promiseRejected:F,promiseResolved:F,promiseCancelled:F,promiseChained:function(G,j,re){return{promise:j,child:re}},warning:function(G,j){return{warning:j}},unhandledRejection:function(G,j,re){return{reason:j,promise:re}},rejectionHandled:F},U=function(G){var j=!1;try{j=w.apply(null,arguments)}catch(le){n.throwLater(le),j=!0}var re=!1;try{re=T(G,I[G].apply(null,arguments))}catch(le){n.throwLater(le),re=!0}return re||j};s.config=function(G){if(G=Object(G),"longStackTraces"in G&&(G.longStackTraces?s.longStackTraces():!G.longStackTraces&&s.hasLongStackTraces()&&A()),"warnings"in G){var j=G.warnings;te.warnings=!!j,D=te.warnings,r.isObject(j)&&"wForgottenReturn"in j&&(D=!!j.wForgottenReturn)}if("cancellation"in G&&G.cancellation&&!te.cancellation){if(n.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");s.prototype._clearCancellationData=X,s.prototype._propagateFrom=W,s.prototype._onCancel=N,s.prototype._setOnCancel=E,s.prototype._attachCancellationCallback=S,s.prototype._execute=H,Y=W,te.cancellation=!0}return"monitoring"in G&&(G.monitoring&&!te.monitoring?(te.monitoring=!0,s.prototype._fireEvent=U):!G.monitoring&&te.monitoring&&(te.monitoring=!1,s.prototype._fireEvent=P)),s};function P(){return!1}s.prototype._fireEvent=P,s.prototype._execute=function(G,j,re){try{G(j,re)}catch(le){return le}},s.prototype._onCancel=function(){},s.prototype._setOnCancel=function(G){},s.prototype._attachCancellationCallback=function(G){},s.prototype._captureStackTrace=function(){},s.prototype._attachExtraTrace=function(){},s.prototype._clearCancellationData=function(){},s.prototype._propagateFrom=function(G,j){};function H(G,j,re){var le=this;try{G(j,re,function(_e){if(typeof _e!="function")throw new TypeError("onCancel must be a function, got: "+r.toString(_e));le._attachCancellationCallback(_e)})}catch(_e){return _e}}function S(G){if(!this._isCancellable())return this;var j=this._onCancel();j!==void 0?r.isArray(j)?j.push(G):this._setOnCancel([j,G]):this._setOnCancel(G)}function N(){return this._onCancelField}function E(G){this._onCancelField=G}function X(){this._cancellationParent=void 0,this._onCancelField=void 0}function W(G,j){if((j&1)!==0){this._cancellationParent=G;var re=G._branchesRemainingToCancel;re===void 0&&(re=0),G._branchesRemainingToCancel=re+1}(j&2)!==0&&G._isBound()&&this._setBoundTo(G._boundTo)}function O(G,j){(j&2)!==0&&G._isBound()&&this._setBoundTo(G._boundTo)}var Y=O;function $(){var G=this._boundTo;return G!==void 0&&G instanceof s?G.isFulfilled()?G.value():void 0:G}function se(){this._trace=new pe(this._peekContext())}function z(G,j){if(a(G)){var re=this._trace;if(re!==void 0&&j&&(re=re._parent),re!==void 0)re.attachExtraTrace(G);else if(!G.__stackCleaned__){var le=Ie(G);r.notEnumerableProp(G,"stack",le.message+`
`+le.stack.join(`
`)),r.notEnumerableProp(G,"__stackCleaned__",!0)}}}function J(G,j,re,le,_e){if(G===void 0&&j!==null&&D){if(_e!==void 0&&_e._returnedNonUndefined()||(le._bitField&65535)===0)return;re&&(re=re+" ");var Se="",ie="";if(j._trace){for(var he=j._trace.stack.split(`
`),fe=ye(he),ge=fe.length-1;ge>=0;--ge){var xe=fe[ge];if(!u.test(xe)){var Ee=xe.match(d);Ee&&(Se="at "+Ee[1]+":"+Ee[2]+":"+Ee[3]+" ");break}}if(fe.length>0){for(var Ye=fe[0],ge=0;ge<he.length;++ge)if(he[ge]===Ye){ge>0&&(ie=`
`+he[ge-1]);break}}}var Ue="a promise was created in a "+re+"handler "+Se+"but was not returned from it, see http://goo.gl/rRqMUw"+ie;le._warn(Ue,!0,j)}}function Z(G,j){var re=G+" is deprecated and will be removed in a future version.";return j&&(re+=" Use "+j+" instead."),oe(re)}function oe(G,j,re){if(te.warnings){var le=new i(G),_e;if(j)re._attachExtraTrace(le);else if(te.longStackTraces&&(_e=s._peekContext()))_e.attachExtraTrace(le);else{var Se=Ie(le);le.stack=Se.message+`
`+Se.stack.join(`
`)}U("warning",le)||Ne(le,"",!0)}}function ae(G,j){for(var re=0;re<j.length-1;++re)j[re].push("From previous event:"),j[re]=j[re].join(`
`);return re<j.length&&(j[re]=j[re].join(`
`)),G+`
`+j.join(`
`)}function ve(G){for(var j=0;j<G.length;++j)(G[j].length===0||j+1<G.length&&G[j][0]===G[j+1][0])&&(G.splice(j,1),j--)}function me(G){for(var j=G[0],re=1;re<G.length;++re){for(var le=G[re],_e=j.length-1,Se=j[_e],ie=-1,he=le.length-1;he>=0;--he)if(le[he]===Se){ie=he;break}for(var he=ie;he>=0;--he){var fe=le[he];if(j[_e]===fe)j.pop(),_e--;else break}j=le}}function ye(G){for(var j=[],re=0;re<G.length;++re){var le=G[re],_e=le==="    (No stack trace)"||h.test(le),Se=_e&&ee(le);_e&&!Se&&(y&&le.charAt(0)!==" "&&(le="    "+le),j.push(le))}return j}function Te(G){for(var j=G.stack.replace(/\s+$/g,"").split(`
`),re=0;re<j.length;++re){var le=j[re];if(le==="    (No stack trace)"||h.test(le))break}return re>0&&G.name!="SyntaxError"&&(j=j.slice(re)),j}function Ie(G){var j=G.stack,re=G.toString();return j=typeof j=="string"&&j.length>0?Te(G):["    (No stack trace)"],{message:re,stack:G.name=="SyntaxError"?j:ye(j)}}function Ne(G,j,re){if(typeof console<"u"){var le;if(r.isObject(G)){var _e=G.stack;le=j+p(_e,G)}else le=j+String(G);typeof v=="function"?v(le,re):(typeof console.log=="function"||typeof console.log=="object")&&console.log(le)}}function Oe(G,j,re,le){var _e=!1;try{typeof j=="function"&&(_e=!0,G==="rejectionHandled"?j(le):j(re,le))}catch(Se){n.throwLater(Se)}G==="unhandledRejection"?!U(G,re,le)&&!_e&&Ne(re,"Unhandled rejection "):U(G,le)}function Ve(G){var j;if(typeof G=="function")j="[function "+(G.name||"anonymous")+"]";else{j=G&&typeof G.toString=="function"?G.toString():r.toString(G);var re=/\[object [a-zA-Z0-9$_]+\]/;if(re.test(j))try{var le=JSON.stringify(G);j=le}catch{}j.length===0&&(j="(empty array)")}return"(<"+C(j)+">, no stack trace)"}function C(G){var j=41;return G.length<j?G:G.substr(0,j-3)+"..."}function ne(){return typeof ce=="function"}var ee=function(){return!1},V=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function q(G){var j=G.match(V);if(j)return{fileName:j[1],line:parseInt(j[2],10)}}function K(G,j){if(ne()){for(var re=G.stack.split(`
`),le=j.stack.split(`
`),_e=-1,Se=-1,ie,he,fe=0;fe<re.length;++fe){var ge=q(re[fe]);if(ge){ie=ge.fileName,_e=ge.line;break}}for(var fe=0;fe<le.length;++fe){var ge=q(le[fe]);if(ge){he=ge.fileName,Se=ge.line;break}}_e<0||Se<0||!ie||!he||ie!==he||_e>=Se||(ee=function(xe){if(l.test(xe))return!0;var Ee=q(xe);return!!(Ee&&Ee.fileName===ie&&_e<=Ee.line&&Ee.line<=Se)})}}function pe(G){this._parent=G,this._promisesCreated=0;var j=this._length=1+(G===void 0?0:G._length);ce(this,pe),j>32&&this.uncycle()}r.inherits(pe,Error),e.CapturedTrace=pe,pe.prototype.uncycle=function(){var G=this._length;if(!(G<2)){for(var j=[],re={},le=0,_e=this;_e!==void 0;++le)j.push(_e),_e=_e._parent;G=this._length=le;for(var le=G-1;le>=0;--le){var Se=j[le].stack;re[Se]===void 0&&(re[Se]=le)}for(var le=0;le<G;++le){var ie=j[le].stack,he=re[ie];if(he!==void 0&&he!==le){he>0&&(j[he-1]._parent=void 0,j[he-1]._length=1),j[le]._parent=void 0,j[le]._length=1;var fe=le>0?j[le-1]:this;he<G-1?(fe._parent=j[he+1],fe._parent.uncycle(),fe._length=fe._parent._length+1):(fe._parent=void 0,fe._length=1);for(var ge=fe._length+1,xe=le-2;xe>=0;--xe)j[xe]._length=ge,ge++;return}}}},pe.prototype.attachExtraTrace=function(G){if(!G.__stackCleaned__){this.uncycle();for(var j=Ie(G),re=j.message,le=[j.stack],_e=this;_e!==void 0;)le.push(ye(_e.stack.split(`
`))),_e=_e._parent;me(le),ve(le),r.notEnumerableProp(G,"stack",ae(re,le)),r.notEnumerableProp(G,"__stackCleaned__",!0)}};var ce=function(){var j=/^\s*at\s*/,re=function(ie,he){return typeof ie=="string"?ie:he.name!==void 0&&he.message!==void 0?he.toString():Ve(he)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,h=j,p=re;var le=Error.captureStackTrace;return ee=function(ie){return l.test(ie)},function(ie,he){Error.stackTraceLimit+=6,le(ie,he),Error.stackTraceLimit-=6}}var _e=new Error;if(typeof _e.stack=="string"&&_e.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return h=/@/,p=re,y=!0,function(he){he.stack=new Error().stack};var Se;try{throw new Error}catch(ie){Se="stack"in ie}return!("stack"in _e)&&Se&&typeof Error.stackTraceLimit=="number"?(h=j,p=re,function(he){Error.stackTraceLimit+=6;try{throw new Error}catch(fe){he.stack=fe.stack}Error.stackTraceLimit-=6}):(p=function(ie,he){return typeof ie=="string"?ie:(typeof he=="object"||typeof he=="function")&&he.name!==void 0&&he.message!==void 0?he.toString():Ve(he)},null)}();typeof console<"u"&&typeof console.warn<"u"&&(v=function(G){console.warn(G)},r.isNode&&process.stderr.isTTY?v=function(G,j){var re=j?"\x1B[33m":"\x1B[31m";console.warn(re+G+`\x1B[0m
`)}:!r.isNode&&typeof new Error().stack=="string"&&(v=function(G,j){console.warn("%c"+G,j?"color: darkorange":"color: red")}));var te={warnings:x,longStackTraces:!1,cancellation:!1,monitoring:!1};return _&&s.longStackTraces(),{longStackTraces:function(){return te.longStackTraces},warnings:function(){return te.warnings},cancellation:function(){return te.cancellation},monitoring:function(){return te.monitoring},propagateFromFunction:function(){return Y},boundValueFunction:function(){return $},checkForgottenReturns:J,setBounds:K,warn:oe,deprecated:Z,CapturedTrace:pe,fireDomEvent:T,fireGlobalEvent:w}}),Dp}var Tp,R0;function nM(){return R0||(R0=1,Tp=function(s,e){var t=vt(),n=s.CancellationError,i=t.errorObj;function r(d,h,p){this.promise=d,this.type=h,this.handler=p,this.called=!1,this.cancelPromise=null}r.prototype.isFinallyHandler=function(){return this.type===0};function a(d){this.finallyHandler=d}a.prototype._resultCancelled=function(){o(this.finallyHandler)};function o(d,h){return d.cancelPromise!=null?(arguments.length>1?d.cancelPromise._reject(h):d.cancelPromise._cancel(),d.cancelPromise=null,!0):!1}function c(){return u.call(this,this.promise._target()._settledValue())}function l(d){if(!o(this,d))return i.e=d,i}function u(d){var h=this.promise,p=this.handler;if(!this.called){this.called=!0;var y=this.isFinallyHandler()?p.call(h._boundValue()):p.call(h._boundValue(),d);if(y!==void 0){h._setReturnedNonUndefined();var v=e(y,h);if(v instanceof s){if(this.cancelPromise!=null)if(v._isCancelled()){var b=new n("late cancellation observer");return h._attachExtraTrace(b),i.e=b,i}else v.isPending()&&v._attachCancellationCallback(new a(this));return v._then(c,l,void 0,this,void 0)}}}return h.isRejected()?(o(this),i.e=d,i):(o(this),d)}return s.prototype._passThrough=function(d,h,p,y){return typeof d!="function"?this.then():this._then(p,y,void 0,new r(this,h,d),void 0)},s.prototype.lastly=s.prototype.finally=function(d){return this._passThrough(d,0,u,u)},s.prototype.tap=function(d){return this._passThrough(d,1,u)},r}),Tp}var Ap,k0;function iM(){return k0||(k0=1,Ap=function(s){var e=vt(),t=wc().keys,n=e.tryCatch,i=e.errorObj;function r(a,o,c){return function(l){var u=c._boundValue();e:for(var d=0;d<a.length;++d){var h=a[d];if(h===Error||h!=null&&h.prototype instanceof Error){if(l instanceof h)return n(o).call(u,l)}else if(typeof h=="function"){var p=n(h).call(u,l);if(p===i)return p;if(p)return n(o).call(u,l)}else if(e.isObject(l)){for(var y=t(h),v=0;v<y.length;++v){var b=y[v];if(h[b]!=l[b])continue e}return n(o).call(u,l)}}return s}}return r}),Ap}var Cp,M0;function NT(){if(M0)return Cp;M0=1;var s=vt(),e=s.maybeWrapAsError,t=ps(),n=t.OperationalError,i=wc();function r(l){return l instanceof Error&&i.getPrototypeOf(l)===Error.prototype}var a=/^(?:name|message|stack|cause)$/;function o(l){var u;if(r(l)){u=new n(l),u.name=l.name,u.message=l.message,u.stack=l.stack;for(var d=i.keys(l),h=0;h<d.length;++h){var p=d[h];a.test(p)||(u[p]=l[p])}return u}return s.markAsOriginatingFromRejection(l),l}function c(l,u){return function(d,h){if(l!==null){if(d){var p=o(e(d));l._attachExtraTrace(p),l._reject(p)}else if(!u)l._fulfill(h);else{for(var y=arguments.length,v=new Array(Math.max(y-1,0)),b=1;b<y;++b)v[b-1]=arguments[b];l._fulfill(v)}l=null}}}return Cp=c,Cp}var wp,N0;function rM(){return N0||(N0=1,wp=function(s,e,t,n,i){var r=vt(),a=r.tryCatch;s.method=function(o){if(typeof o!="function")throw new s.TypeError("expecting a function but got "+r.classString(o));return function(){var c=new s(e);c._captureStackTrace(),c._pushContext();var l=a(o).apply(this,arguments),u=c._popContext();return i.checkForgottenReturns(l,u,"Promise.method",c),c._resolveFromSyncValue(l),c}},s.attempt=s.try=function(o){if(typeof o!="function")return n("expecting a function but got "+r.classString(o));var c=new s(e);c._captureStackTrace(),c._pushContext();var l;if(arguments.length>1){i.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],d=arguments[2];l=r.isArray(u)?a(o).apply(d,u):a(o).call(d,u)}else l=a(o)();var h=c._popContext();return i.checkForgottenReturns(l,h,"Promise.try",c),c._resolveFromSyncValue(l),c},s.prototype._resolveFromSyncValue=function(o){o===r.errorObj?this._rejectCallback(o.e,!1):this._resolveCallback(o,!0)}}),wp}var Ep,P0;function sM(){return P0||(P0=1,Ep=function(s,e,t,n){var i=!1,r=function(l,u){this._reject(u)},a=function(l,u){u.promiseRejectionQueued=!0,u.bindingPromise._then(r,r,null,this,l)},o=function(l,u){(this._bitField&50397184)===0&&this._resolveCallback(u.target)},c=function(l,u){u.promiseRejectionQueued||this._reject(l)};s.prototype.bind=function(l){i||(i=!0,s.prototype._propagateFrom=n.propagateFromFunction(),s.prototype._boundValue=n.boundValueFunction());var u=t(l),d=new s(e);d._propagateFrom(this,1);var h=this._target();if(d._setBoundTo(u),u instanceof s){var p={promiseRejectionQueued:!1,promise:d,target:h,bindingPromise:u};h._then(e,a,void 0,d,p),u._then(o,c,void 0,d,p),d._setOnCancel(u)}else d._resolveCallback(h);return d},s.prototype._setBoundTo=function(l){l!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=l):this._bitField=this._bitField&-2097153},s.prototype._isBound=function(){return(this._bitField&2097152)===2097152},s.bind=function(l,u){return s.resolve(u).bind(l)}}),Ep}var Sp,L0;function aM(){return L0||(L0=1,Sp=function(s,e,t,n){var i=vt(),r=i.tryCatch,a=i.errorObj,o=s._async;s.prototype.break=s.prototype.cancel=function(){if(!n.cancellation())return this._warn("cancellation is disabled");for(var c=this,l=c;c._isCancellable();){if(!c._cancelBy(l)){l._isFollowing()?l._followee().cancel():l._cancelBranched();break}var u=c._cancellationParent;if(u==null||!u._isCancellable()){c._isFollowing()?c._followee().cancel():c._cancelBranched();break}else c._isFollowing()&&c._followee().cancel(),c._setWillBeCancelled(),l=c,c=u}},s.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},s.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},s.prototype._cancelBy=function(c){return c===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},s.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},s.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),o.invoke(this._cancelPromises,this,void 0))},s.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},s.prototype._unsetOnCancel=function(){this._onCancelField=void 0},s.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},s.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},s.prototype._doInvokeOnCancel=function(c,l){if(i.isArray(c))for(var u=0;u<c.length;++u)this._doInvokeOnCancel(c[u],l);else if(c!==void 0)if(typeof c=="function"){if(!l){var d=r(c).call(this._boundValue());d===a&&(this._attachExtraTrace(d.e),o.throwLater(d.e))}}else c._resultCancelled(this)},s.prototype._invokeOnCancel=function(){var c=this._onCancel();this._unsetOnCancel(),o.invoke(this._doInvokeOnCancel,this,c)},s.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},s.prototype._resultCancelled=function(){this.cancel()}}),Sp}var Up,B0;function oM(){return B0||(B0=1,Up=function(s){function e(){return this.value}function t(){throw this.reason}s.prototype.return=s.prototype.thenReturn=function(n){return n instanceof s&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},s.prototype.throw=s.prototype.thenThrow=function(n){return this._then(t,void 0,void 0,{reason:n},void 0)},s.prototype.catchThrow=function(n){if(arguments.length<=1)return this._then(void 0,t,void 0,{reason:n},void 0);var i=arguments[1],r=function(){throw i};return this.caught(n,r)},s.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof s&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var i=arguments[1];i instanceof s&&i.suppressUnhandledRejections();var r=function(){return i};return this.caught(n,r)}}),Up}var Fp,O0;function cM(){return O0||(O0=1,Fp=function(s){function e(c){c!==void 0?(c=c._target(),this._bitField=c._bitField,this._settledValueField=c._isFateSealed()?c._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var t=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},n=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},i=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},r=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},a=e.prototype.isPending=function(){return(this._bitField&50397184)===0},o=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},s.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},s.prototype._isCancelled=function(){return this._target().__isCancelled()},s.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},s.prototype.isPending=function(){return a.call(this._target())},s.prototype.isRejected=function(){return r.call(this._target())},s.prototype.isFulfilled=function(){return i.call(this._target())},s.prototype.isResolved=function(){return o.call(this._target())},s.prototype.value=function(){return t.call(this._target())},s.prototype.reason=function(){var c=this._target();return c._unsetRejectionIsUnhandled(),n.call(c)},s.prototype._value=function(){return this._settledValue()},s.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},s.PromiseInspection=e}),Fp}var Ip,W0;function lM(){return W0||(W0=1,Ip=function(s,e,t,n,i,r){var a=vt(),o=a.canEvaluate,c=a.tryCatch,l=a.errorObj,u;if(o){for(var d=function(_){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,_))},h=function(_){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,_))},p=function(_){for(var D=new Array(_),A=0;A<D.length;++A)D[A]="this.p"+(A+1);var T=D.join(" = ")+" = null;",w=`var promise;
`+D.map(function(P){return`                                                         
	                promise = `+P+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),F=D.join(", "),I="Holder$"+_,U=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return U=U.replace(/\[TheName\]/g,I).replace(/\[TheTotal\]/g,_).replace(/\[ThePassedArguments\]/g,F).replace(/\[TheProperties\]/g,T).replace(/\[CancellationCode\]/g,w),new Function("tryCatch","errorObj","Promise","async",U)(c,l,s,i)},y=[],v=[],b=[],x=0;x<8;++x)y.push(p(x+1)),v.push(d(x+1)),b.push(h(x+1));u=function(_){this._reject(_)}}s.join=function(){var _=arguments.length-1,D;if(_>0&&typeof arguments[_]=="function"&&(D=arguments[_],_<=8&&o)){var E=new s(n);E._captureStackTrace();for(var A=y[_-1],T=new A(D),w=v,F=0;F<_;++F){var I=t(arguments[F],E);if(I instanceof s){I=I._target();var U=I._bitField;(U&50397184)===0?(I._then(w[F],u,void 0,E,T),b[F](I,T),T.asyncNeeded=!1):(U&33554432)!==0?w[F].call(E,I._value(),T):(U&16777216)!==0?E._reject(I._reason()):E._cancel()}else w[F].call(E,I,T)}if(!E._isFateSealed()){if(T.asyncNeeded){var P=r();P!==null&&(T.fn=a.domainBind(P,T.fn))}E._setAsyncGuaranteed(),E._setOnCancel(T)}return E}for(var H=arguments.length,S=new Array(H),N=0;N<H;++N)S[N]=arguments[N];D&&S.pop();var E=new e(S).promise();return D!==void 0?E.spread(D):E}}),Ip}var Rp,q0;function uM(){return q0||(q0=1,Rp=function(s,e,t,n,i,r){var a=s._getDomain,o=vt(),c=o.tryCatch,l=o.errorObj,u=s._async;function d(p,y,v,b){this.constructor$(p),this._promise._captureStackTrace();var x=a();this._callback=x===null?y:o.domainBind(x,y),this._preservedValues=b===i?new Array(this.length()):null,this._limit=v,this._inFlight=0,this._queue=[],u.invoke(this._asyncInit,this,void 0)}o.inherits(d,e),d.prototype._asyncInit=function(){this._init$(void 0,-2)},d.prototype._init=function(){},d.prototype._promiseFulfilled=function(p,y){var v=this._values,b=this.length(),x=this._preservedValues,_=this._limit;if(y<0){if(y=y*-1-1,v[y]=p,_>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(_>=1&&this._inFlight>=_)return v[y]=p,this._queue.push(y),!1;x!==null&&(x[y]=p);var D=this._promise,A=this._callback,T=D._boundValue();D._pushContext();var w=c(A).call(T,p,y,b),F=D._popContext();if(r.checkForgottenReturns(w,F,x!==null?"Promise.filter":"Promise.map",D),w===l)return this._reject(w.e),!0;var I=n(w,this._promise);if(I instanceof s){I=I._target();var U=I._bitField;if((U&50397184)===0)return _>=1&&this._inFlight++,v[y]=I,I._proxy(this,(y+1)*-1),!1;if((U&33554432)!==0)w=I._value();else return(U&16777216)!==0?(this._reject(I._reason()),!0):(this._cancel(),!0)}v[y]=w}var P=++this._totalResolved;return P>=b?(x!==null?this._filter(v,x):this._resolve(v),!0):!1},d.prototype._drainQueue=function(){for(var p=this._queue,y=this._limit,v=this._values;p.length>0&&this._inFlight<y;){if(this._isResolved())return;var b=p.pop();this._promiseFulfilled(v[b],b)}},d.prototype._filter=function(p,y){for(var v=y.length,b=new Array(v),x=0,_=0;_<v;++_)p[_]&&(b[x++]=y[_]);b.length=x,this._resolve(b)},d.prototype.preservedValues=function(){return this._preservedValues};function h(p,y,v,b){if(typeof y!="function")return t("expecting a function but got "+o.classString(y));var x=0;if(v!==void 0)if(typeof v=="object"&&v!==null){if(typeof v.concurrency!="number")return s.reject(new TypeError("'concurrency' must be a number but it is "+o.classString(v.concurrency)));x=v.concurrency}else return s.reject(new TypeError("options argument must be an object but it is "+o.classString(v)));return x=typeof x=="number"&&isFinite(x)&&x>=1?x:0,new d(p,y,x,b).promise()}s.prototype.map=function(p,y){return h(this,p,y,null)},s.map=function(p,y,v,b){return h(p,y,v,b)}}),Rp}var kp,V0;function dM(){if(V0)return kp;V0=1;var s=Object.create;if(s){var e=s(null),t=s(null);e[" size"]=t[" size"]=0}return kp=function(n){var i=vt(),r=i.canEvaluate,a=i.isIdentifier,o,c;{var l=function(b){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,b))(h)},u=function(b){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",b))},d=function(b,x,_){var D=_[b];if(typeof D!="function"){if(!a(b))return null;if(D=x(b),_[b]=D,_[" size"]++,_[" size"]>512){for(var A=Object.keys(_),T=0;T<256;++T)delete _[A[T]];_[" size"]=A.length-256}}return D};o=function(b){return d(b,l,e)},c=function(b){return d(b,u,t)}}function h(b,x){var _;if(b!=null&&(_=b[x]),typeof _!="function"){var D="Object "+i.classString(b)+" has no method '"+i.toString(x)+"'";throw new n.TypeError(D)}return _}function p(b){var x=this.pop(),_=h(b,x);return _.apply(b,this)}n.prototype.call=function(b){for(var x=arguments.length,_=new Array(Math.max(x-1,0)),D=1;D<x;++D)_[D-1]=arguments[D];if(r){var A=o(b);if(A!==null)return this._then(A,void 0,void 0,_,void 0)}return _.push(b),this._then(p,void 0,void 0,_,void 0)};function y(b){return b[this]}function v(b){var x=+this;return x<0&&(x=Math.max(0,x+b.length)),b[x]}n.prototype.get=function(b){var x=typeof b=="number",_;if(x)_=v;else if(r){var D=c(b);_=D!==null?D:y}else _=y;return this._then(_,void 0,void 0,b,void 0)}},kp}var Mp,z0;function hM(){return z0||(z0=1,Mp=function(s,e,t,n,i,r){var a=vt(),o=ps().TypeError,c=vt().inherits,l=a.errorObj,u=a.tryCatch,d={};function h(D){setTimeout(function(){throw D},0)}function p(D){var A=t(D);return A!==D&&typeof D._isDisposable=="function"&&typeof D._getDisposer=="function"&&D._isDisposable()&&A._setDisposable(D._getDisposer()),A}function y(D,A){var T=0,w=D.length,F=new s(i);function I(){if(T>=w)return F._fulfill();var U=p(D[T++]);if(U instanceof s&&U._isDisposable()){try{U=t(U._getDisposer().tryDispose(A),D.promise)}catch(P){return h(P)}if(U instanceof s)return U._then(I,h,null,null,null)}I()}return I(),F}function v(D,A,T){this._data=D,this._promise=A,this._context=T}v.prototype.data=function(){return this._data},v.prototype.promise=function(){return this._promise},v.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},v.prototype.tryDispose=function(D){var A=this.resource(),T=this._context;T!==void 0&&T._pushContext();var w=A!==d?this.doDispose(A,D):null;return T!==void 0&&T._popContext(),this._promise._unsetDisposable(),this._data=null,w},v.isDisposer=function(D){return D!=null&&typeof D.resource=="function"&&typeof D.tryDispose=="function"};function b(D,A,T){this.constructor$(D,A,T)}c(b,v),b.prototype.doDispose=function(D,A){var T=this.data();return T.call(D,D,A)};function x(D){return v.isDisposer(D)?(this.resources[this.index]._setDisposable(D),D.promise()):D}function _(D){this.length=D,this.promise=null,this[D-1]=null}_.prototype._resultCancelled=function(){for(var D=this.length,A=0;A<D;++A){var T=this[A];T instanceof s&&T.cancel()}},s.using=function(){var D=arguments.length;if(D<2)return e("you must pass at least 2 arguments to Promise.using");var A=arguments[D-1];if(typeof A!="function")return e("expecting a function but got "+a.classString(A));var T,w=!0;D===2&&Array.isArray(arguments[0])?(T=arguments[0],D=T.length,w=!1):(T=arguments,D--);for(var F=new _(D),I=0;I<D;++I){var U=T[I];if(v.isDisposer(U)){var P=U;U=U.promise(),U._setDisposable(P)}else{var H=t(U);H instanceof s&&(U=H._then(x,null,null,{resources:F,index:I},void 0))}F[I]=U}for(var S=new Array(F.length),I=0;I<S.length;++I)S[I]=s.resolve(F[I]).reflect();var N=s.all(S).then(function(X){for(var W=0;W<X.length;++W){var O=X[W];if(O.isRejected())return l.e=O.error(),l;if(!O.isFulfilled()){N.cancel();return}X[W]=O.value()}E._pushContext(),A=u(A);var Y=w?A.apply(void 0,X):A(X),$=E._popContext();return r.checkForgottenReturns(Y,$,"Promise.using",E),Y}),E=N.lastly(function(){var X=new s.PromiseInspection(N);return y(F,X)});return F.promise=E,E._setOnCancel(F),E},s.prototype._setDisposable=function(D){this._bitField=this._bitField|131072,this._disposer=D},s.prototype._isDisposable=function(){return(this._bitField&131072)>0},s.prototype._getDisposer=function(){return this._disposer},s.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},s.prototype.disposer=function(D){if(typeof D=="function")return new b(D,this,n());throw new o}}),Mp}var Np,H0;function fM(){return H0||(H0=1,Np=function(s,e,t){var n=vt(),i=s.TimeoutError;function r(d){this.handle=d}r.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(d){return o(+this).thenReturn(d)},o=s.delay=function(d,h){var p,y;return h!==void 0?(p=s.resolve(h)._then(a,null,null,d,void 0),t.cancellation()&&h instanceof s&&p._setOnCancel(h)):(p=new s(e),y=setTimeout(function(){p._fulfill()},+d),t.cancellation()&&p._setOnCancel(new r(y)),p._captureStackTrace()),p._setAsyncGuaranteed(),p};s.prototype.delay=function(d){return o(d,this)};var c=function(d,h,p){var y;typeof h!="string"?h instanceof Error?y=h:y=new i("operation timed out"):y=new i(h),n.markAsOriginatingFromRejection(y),d._attachExtraTrace(y),d._reject(y),p!=null&&p.cancel()};function l(d){return clearTimeout(this.handle),d}function u(d){throw clearTimeout(this.handle),d}s.prototype.timeout=function(d,h){d=+d;var p,y,v=new r(setTimeout(function(){p.isPending()&&c(p,h,y)},d));return t.cancellation()?(y=this.then(),p=y._then(l,u,void 0,v,void 0),p._setOnCancel(v)):p=this._then(l,u,void 0,v,void 0),p}}),Np}var Pp,G0;function pM(){return G0||(G0=1,Pp=function(s,e,t,n,i,r){var a=ps(),o=a.TypeError,c=vt(),l=c.errorObj,u=c.tryCatch,d=[];function h(y,v,b){for(var x=0;x<v.length;++x){b._pushContext();var _=u(v[x])(y);if(b._popContext(),_===l){b._pushContext();var D=s.reject(l.e);return b._popContext(),D}var A=n(_,b);if(A instanceof s)return A}return null}function p(y,v,b,x){if(r.cancellation()){var _=new s(t),D=this._finallyPromise=new s(t);this._promise=_.lastly(function(){return D}),_._captureStackTrace(),_._setOnCancel(this)}else{var A=this._promise=new s(t);A._captureStackTrace()}this._stack=x,this._generatorFunction=y,this._receiver=v,this._generator=void 0,this._yieldHandlers=typeof b=="function"?[b].concat(d):d,this._yieldedPromise=null,this._cancellationPhase=!1}c.inherits(p,i),p.prototype._isResolved=function(){return this._promise===null},p.prototype._cleanup=function(){this._promise=this._generator=null,r.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},p.prototype._promiseCancelled=function(){if(!this._isResolved()){var y=typeof this._generator.return<"u",v;if(y)this._promise._pushContext(),v=u(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var b=new s.CancellationError("generator .return() sentinel");s.coroutine.returnSentinel=b,this._promise._attachExtraTrace(b),this._promise._pushContext(),v=u(this._generator.throw).call(this._generator,b),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(v)}},p.prototype._promiseFulfilled=function(y){this._yieldedPromise=null,this._promise._pushContext();var v=u(this._generator.next).call(this._generator,y);this._promise._popContext(),this._continue(v)},p.prototype._promiseRejected=function(y){this._yieldedPromise=null,this._promise._attachExtraTrace(y),this._promise._pushContext();var v=u(this._generator.throw).call(this._generator,y);this._promise._popContext(),this._continue(v)},p.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof s){var y=this._yieldedPromise;this._yieldedPromise=null,y.cancel()}},p.prototype.promise=function(){return this._promise},p.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},p.prototype._continue=function(y){var v=this._promise;if(y===l)return this._cleanup(),this._cancellationPhase?v.cancel():v._rejectCallback(y.e,!1);var b=y.value;if(y.done===!0)return this._cleanup(),this._cancellationPhase?v.cancel():v._resolveCallback(b);var x=n(b,this._promise);if(!(x instanceof s)&&(x=h(x,this._yieldHandlers,this._promise),x===null)){this._promiseRejected(new o(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",b)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}x=x._target();var _=x._bitField;(_&50397184)===0?(this._yieldedPromise=x,x._proxy(this,null)):(_&33554432)!==0?s._async.invoke(this._promiseFulfilled,this,x._value()):(_&16777216)!==0?s._async.invoke(this._promiseRejected,this,x._reason()):this._promiseCancelled()},s.coroutine=function(y,v){if(typeof y!="function")throw new o(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var b=Object(v).yieldHandler,x=p,_=new Error().stack;return function(){var D=y.apply(this,arguments),A=new x(void 0,void 0,b,_),T=A.promise();return A._generator=D,A._promiseFulfilled(void 0),T}},s.coroutine.addYieldHandler=function(y){if(typeof y!="function")throw new o("expecting a function but got "+c.classString(y));d.push(y)},s.spawn=function(y){if(r.deprecated("Promise.spawn()","Promise.coroutine()"),typeof y!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var v=new p(y,this),b=v.promise();return v._run(s.spawn),b}}),Pp}var Lp,$0;function gM(){return $0||($0=1,Lp=function(s){var e=vt(),t=s._async,n=e.tryCatch,i=e.errorObj;function r(c,l){var u=this;if(!e.isArray(c))return a.call(u,c,l);var d=n(l).apply(u._boundValue(),[null].concat(c));d===i&&t.throwLater(d.e)}function a(c,l){var u=this,d=u._boundValue(),h=c===void 0?n(l).call(d,null):n(l).call(d,null,c);h===i&&t.throwLater(h.e)}function o(c,l){var u=this;if(!c){var d=new Error(c+"");d.cause=c,c=d}var h=n(l).call(u._boundValue(),c);h===i&&t.throwLater(h.e)}s.prototype.asCallback=s.prototype.nodeify=function(c,l){if(typeof c=="function"){var u=a;l!==void 0&&Object(l).spread&&(u=r),this._then(u,o,void 0,this,c)}return this}}),Lp}var Bp,X0;function mM(){return X0||(X0=1,Bp=function(s,e){var t={},n=vt(),i=NT(),r=n.withAppended,a=n.maybeWrapAsError,o=n.canEvaluate,c=ps().TypeError,l="Async",u={__isPromisified__:!0},d=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],h=new RegExp("^(?:"+d.join("|")+")$"),p=function(N){return n.isIdentifier(N)&&N.charAt(0)!=="_"&&N!=="constructor"};function y(N){return!h.test(N)}function v(N){try{return N.__isPromisified__===!0}catch{return!1}}function b(N,E,X){var W=n.getDataPropertyOrDefault(N,E+X,u);return W?v(W):!1}function x(N,E,X){for(var W=0;W<N.length;W+=2){var O=N[W];if(X.test(O)){for(var Y=O.replace(X,""),$=0;$<N.length;$+=2)if(N[$]===Y)throw new c(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",E))}}}function _(N,E,X,W){for(var O=n.inheritedDataKeys(N),Y=[],$=0;$<O.length;++$){var se=O[$],z=N[se],J=W===p?!0:p(se);typeof z=="function"&&!v(z)&&!b(N,se,E)&&W(se,z,N,J)&&Y.push(se,z)}return x(Y,E,X),Y}var D=function(N){return N.replace(/([$])/,"\\$")},A;{var T=function(N){for(var E=[N],X=Math.max(0,N-1-3),W=N-1;W>=X;--W)E.push(W);for(var W=N+1;W<=3;++W)E.push(W);return E},w=function(N){return n.filledRange(N,"_arg","")},F=function(N){return n.filledRange(Math.max(N,3),"_arg","")},I=function(N){return typeof N.length=="number"?Math.max(Math.min(N.length,1024),0):0};A=function(N,E,X,W,O,Y){var $=Math.max(0,I(W)-1),se=T($),z=typeof N=="string"||E===t;function J(ve){var me=w(ve).join(", "),ye=ve>0?", ":"",Te;return z?Te=`ret = callback.call(this, {{args}}, nodeback); break;
`:Te=E===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,Te.replace("{{args}}",me).replace(", ",ye)}function Z(){for(var ve="",me=0;me<se.length;++me)ve+="case "+se[me]+":"+J(se[me]);return ve+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",z?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),ve}var oe=typeof N=="string"?"this != null ? this['"+N+"'] : fn":"fn",ae=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+Y+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",Z()).replace("[GetFunctionCode]",oe);return ae=ae.replace("Parameters",F($)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",ae)(s,W,E,r,a,i,n.tryCatch,n.errorObj,n.notEnumerableProp,e)}}function U(N,E,X,W,O,Y){var $=function(){return this}(),se=N;typeof se=="string"&&(N=W);function z(){var J=E;E===t&&(J=this);var Z=new s(e);Z._captureStackTrace();var oe=typeof se=="string"&&this!==$?this[se]:N,ae=i(Z,Y);try{oe.apply(J,r(arguments,ae))}catch(ve){Z._rejectCallback(a(ve),!0,!0)}return Z._isFateSealed()||Z._setAsyncGuaranteed(),Z}return n.notEnumerableProp(z,"__isPromisified__",!0),z}var P=o?A:U;function H(N,E,X,W,O){for(var Y=new RegExp(D(E)+"$"),$=_(N,E,Y,X),se=0,z=$.length;se<z;se+=2){var J=$[se],Z=$[se+1],oe=J+E;if(W===P)N[oe]=P(J,t,J,Z,E,O);else{var ae=W(Z,function(){return P(J,t,J,Z,E,O)});n.notEnumerableProp(ae,"__isPromisified__",!0),N[oe]=ae}}return n.toFastProperties(N),N}function S(N,E,X){return P(N,E,void 0,N,null,X)}s.promisify=function(N,E){if(typeof N!="function")throw new c("expecting a function but got "+n.classString(N));if(v(N))return N;E=Object(E);var X=E.context===void 0?t:E.context,W=!!E.multiArgs,O=S(N,X,W);return n.copyDescriptors(N,O,y),O},s.promisifyAll=function(N,E){if(typeof N!="function"&&typeof N!="object")throw new c(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);E=Object(E);var X=!!E.multiArgs,W=E.suffix;typeof W!="string"&&(W=l);var O=E.filter;typeof O!="function"&&(O=p);var Y=E.promisifier;if(typeof Y!="function"&&(Y=P),!n.isIdentifier(W))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var $=n.inheritedDataKeys(N),se=0;se<$.length;++se){var z=N[$[se]];$[se]!=="constructor"&&n.isClass(z)&&(H(z.prototype,W,O,Y,X),H(z,W,O,Y,X))}return H(N,W,O,Y,X)}}),Bp}var Op,Y0;function yM(){return Y0||(Y0=1,Op=function(s,e,t,n){var i=vt(),r=i.isObject,a=wc(),o;typeof Map=="function"&&(o=Map);var c=function(){var h=0,p=0;function y(v,b){this[h]=v,this[h+p]=b,h++}return function(b){p=b.size,h=0;var x=new Array(b.size*2);return b.forEach(y,x),x}}(),l=function(h){for(var p=new o,y=h.length/2|0,v=0;v<y;++v){var b=h[y+v],x=h[v];p.set(b,x)}return p};function u(h){var p=!1,y;if(o!==void 0&&h instanceof o)y=c(h),p=!0;else{var v=a.keys(h),b=v.length;y=new Array(b*2);for(var x=0;x<b;++x){var _=v[x];y[x]=h[_],y[x+b]=_}}this.constructor$(y),this._isMap=p,this._init$(void 0,-3)}i.inherits(u,e),u.prototype._init=function(){},u.prototype._promiseFulfilled=function(h,p){this._values[p]=h;var y=++this._totalResolved;if(y>=this._length){var v;if(this._isMap)v=l(this._values);else{v={};for(var b=this.length(),x=0,_=this.length();x<_;++x)v[this._values[x+b]]=this._values[x]}return this._resolve(v),!0}return!1},u.prototype.shouldCopyValues=function(){return!1},u.prototype.getActualLength=function(h){return h>>1};function d(h){var p,y=t(h);if(r(y))y instanceof s?p=y._then(s.props,void 0,void 0,void 0,void 0):p=new u(y).promise();else return n(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return y instanceof s&&p._propagateFrom(y,2),p}s.prototype.props=function(){return d(this)},s.props=function(h){return d(h)}}),Op}var Wp,K0;function vM(){return K0||(K0=1,Wp=function(s,e,t,n){var i=vt(),r=function(o){return o.then(function(c){return a(c,o)})};function a(o,c){var l=t(o);if(l instanceof s)return r(l);if(o=i.asArray(o),o===null)return n("expecting an array or an iterable object but got "+i.classString(o));var u=new s(e);c!==void 0&&u._propagateFrom(c,3);for(var d=u._fulfill,h=u._reject,p=0,y=o.length;p<y;++p){var v=o[p];v===void 0&&!(p in o)||s.cast(v)._then(d,h,void 0,u,null)}return u}s.race=function(o){return a(o,void 0)},s.prototype.race=function(){return a(this,void 0)}}),Wp}var qp,Z0;function bM(){return Z0||(Z0=1,qp=function(s,e,t,n,i,r){var a=s._getDomain,o=vt(),c=o.tryCatch;function l(y,v,b,x){this.constructor$(y);var _=a();this._fn=_===null?v:o.domainBind(_,v),b!==void 0&&(b=s.resolve(b),b._attachCancellationCallback(this)),this._initialValue=b,this._currentCancellable=null,x===i?this._eachValues=Array(this._length):x===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}o.inherits(l,e),l.prototype._gotAccum=function(y){this._eachValues!==void 0&&this._eachValues!==null&&y!==i&&this._eachValues.push(y)},l.prototype._eachComplete=function(y){return this._eachValues!==null&&this._eachValues.push(y),this._eachValues},l.prototype._init=function(){},l.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},l.prototype.shouldCopyValues=function(){return!1},l.prototype._resolve=function(y){this._promise._resolveCallback(y),this._values=null},l.prototype._resultCancelled=function(y){if(y===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof s&&this._currentCancellable.cancel(),this._initialValue instanceof s&&this._initialValue.cancel())},l.prototype._iterate=function(y){this._values=y;var v,b,x=y.length;if(this._initialValue!==void 0?(v=this._initialValue,b=0):(v=s.resolve(y[0]),b=1),this._currentCancellable=v,!v.isRejected())for(;b<x;++b){var _={accum:null,value:y[b],index:b,length:x,array:this};v=v._then(h,void 0,void 0,_,void 0)}this._eachValues!==void 0&&(v=v._then(this._eachComplete,void 0,void 0,this,void 0)),v._then(u,u,void 0,v,this)},s.prototype.reduce=function(y,v){return d(this,y,v,null)},s.reduce=function(y,v,b,x){return d(y,v,b,x)};function u(y,v){this.isFulfilled()?v._resolve(y):v._reject(y)}function d(y,v,b,x){if(typeof v!="function")return t("expecting a function but got "+o.classString(v));var _=new l(y,v,b,x);return _.promise()}function h(y){this.accum=y,this.array._gotAccum(y);var v=n(this.value,this.array._promise);return v instanceof s?(this.array._currentCancellable=v,v._then(p,void 0,void 0,this,void 0)):p.call(this,v)}function p(y){var v=this.array,b=v._promise,x=c(v._fn);b._pushContext();var _;v._eachValues!==void 0?_=x.call(b._boundValue(),y,this.index,this.length):_=x.call(b._boundValue(),this.accum,y,this.index,this.length),_ instanceof s&&(v._currentCancellable=_);var D=b._popContext();return r.checkForgottenReturns(_,D,v._eachValues!==void 0?"Promise.each":"Promise.reduce",b),_}}),qp}var Vp,J0;function xM(){return J0||(J0=1,Vp=function(s,e,t){var n=s.PromiseInspection,i=vt();function r(a){this.constructor$(a)}i.inherits(r,e),r.prototype._promiseResolved=function(a,o){this._values[a]=o;var c=++this._totalResolved;return c>=this._length?(this._resolve(this._values),!0):!1},r.prototype._promiseFulfilled=function(a,o){var c=new n;return c._bitField=33554432,c._settledValueField=a,this._promiseResolved(o,c)},r.prototype._promiseRejected=function(a,o){var c=new n;return c._bitField=16777216,c._settledValueField=a,this._promiseResolved(o,c)},s.settle=function(a){return t.deprecated(".settle()",".reflect()"),new r(a).promise()},s.prototype.settle=function(){return s.settle(this)}}),Vp}var zp,Q0;function _M(){return Q0||(Q0=1,zp=function(s,e,t){var n=vt(),i=ps().RangeError,r=ps().AggregateError,a=n.isArray,o={};function c(u){this.constructor$(u),this._howMany=0,this._unwrap=!1,this._initialized=!1}n.inherits(c,e),c.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var u=a(this._values);!this._isResolved()&&u&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},c.prototype.init=function(){this._initialized=!0,this._init()},c.prototype.setUnwrap=function(){this._unwrap=!0},c.prototype.howMany=function(){return this._howMany},c.prototype.setHowMany=function(u){this._howMany=u},c.prototype._promiseFulfilled=function(u){return this._addFulfilled(u),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},c.prototype._promiseRejected=function(u){return this._addRejected(u),this._checkOutcome()},c.prototype._promiseCancelled=function(){return this._values instanceof s||this._values==null?this._cancel():(this._addRejected(o),this._checkOutcome())},c.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var u=new r,d=this.length();d<this._values.length;++d)this._values[d]!==o&&u.push(this._values[d]);return u.length>0?this._reject(u):this._cancel(),!0}return!1},c.prototype._fulfilled=function(){return this._totalResolved},c.prototype._rejected=function(){return this._values.length-this.length()},c.prototype._addRejected=function(u){this._values.push(u)},c.prototype._addFulfilled=function(u){this._values[this._totalResolved++]=u},c.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},c.prototype._getRangeError=function(u){var d="Input array must contain at least "+this._howMany+" items but contains only "+u+" items";return new i(d)},c.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function l(u,d){if((d|0)!==d||d<0)return t(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var h=new c(u),p=h.promise();return h.setHowMany(d),h.init(),p}s.some=function(u,d){return l(u,d)},s.prototype.some=function(u){return l(this,u)},s._SomePromiseArray=c}),zp}var Hp,j0;function DM(){return j0||(j0=1,Hp=function(s,e){var t=s.map;s.prototype.filter=function(n,i){return t(this,n,i,e)},s.filter=function(n,i,r){return t(n,i,r,e)}}),Hp}var Gp,e1;function TM(){return e1||(e1=1,Gp=function(s,e){var t=s.reduce,n=s.all;function i(){return n(this)}function r(a,o){return t(a,o,e,e)}s.prototype.each=function(a){return t(this,a,e,0)._then(i,void 0,void 0,this,void 0)},s.prototype.mapSeries=function(a){return t(this,a,e,e)},s.each=function(a,o){return t(a,o,e,0)._then(i,void 0,void 0,a,void 0)},s.mapSeries=r}),Gp}var $p,t1;function AM(){return t1||(t1=1,$p=function(s){var e=s._SomePromiseArray;function t(n){var i=new e(n),r=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),r}s.any=function(n){return t(n)},s.prototype.any=function(){return t(this)}}),$p}var n1;function CM(){return n1||(n1=1,function(s){s.exports=function(){var e=function(){return new h(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},t=function(){return new S.PromiseInspection(this._target())},n=function(W){return S.reject(new h(W))};function i(){}var r={},a=vt(),o;a.isNode?o=function(){var W=process.domain;return W===void 0&&(W=null),W}:o=function(){return null},a.notEnumerableProp(S,"_getDomain",o);var c=wc(),l=J3(),u=new l;c.defineProperty(S,"_async",{value:u});var d=ps(),h=S.TypeError=d.TypeError;S.RangeError=d.RangeError;var p=S.CancellationError=d.CancellationError;S.TimeoutError=d.TimeoutError,S.OperationalError=d.OperationalError,S.RejectionError=d.OperationalError,S.AggregateError=d.AggregateError;var y=function(){},v={},b={},x=Q3()(S,y),_=j3()(S,y,x,n,i),D=eM()(S),A=D.create,T=tM()(S,D);T.CapturedTrace;var w=nM()(S,x),F=iM()(b),I=NT(),U=a.errorObj,P=a.tryCatch;function H(W,O){if(typeof O!="function")throw new h("expecting a function but got "+a.classString(O));if(W.constructor!==S)throw new h(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function S(W){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,W!==y&&(H(this,W),this._resolveFromExecutor(W)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}S.prototype.toString=function(){return"[object Promise]"},S.prototype.caught=S.prototype.catch=function(W){var O=arguments.length;if(O>1){var Y=new Array(O-1),$=0,se;for(se=0;se<O-1;++se){var z=arguments[se];if(a.isObject(z))Y[$++]=z;else return n("expecting an object but got A catch statement predicate "+a.classString(z))}return Y.length=$,W=arguments[se],this.then(void 0,F(Y,W,this))}return this.then(void 0,W)},S.prototype.reflect=function(){return this._then(t,t,void 0,this,void 0)},S.prototype.then=function(W,O){if(T.warnings()&&arguments.length>0&&typeof W!="function"&&typeof O!="function"){var Y=".then() only accepts functions but was passed: "+a.classString(W);arguments.length>1&&(Y+=", "+a.classString(O)),this._warn(Y)}return this._then(W,O,void 0,void 0,void 0)},S.prototype.done=function(W,O){var Y=this._then(W,O,void 0,void 0,void 0);Y._setIsFinal()},S.prototype.spread=function(W){return typeof W!="function"?n("expecting a function but got "+a.classString(W)):this.all()._then(W,void 0,void 0,v,void 0)},S.prototype.toJSON=function(){var W={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(W.fulfillmentValue=this.value(),W.isFulfilled=!0):this.isRejected()&&(W.rejectionReason=this.reason(),W.isRejected=!0),W},S.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new _(this).promise()},S.prototype.error=function(W){return this.caught(a.originatesFromRejection,W)},S.getNewLibraryCopy=s.exports,S.is=function(W){return W instanceof S},S.fromNode=S.fromCallback=function(W){var O=new S(y);O._captureStackTrace();var Y=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,$=P(W)(I(O,Y));return $===U&&O._rejectCallback($.e,!0),O._isFateSealed()||O._setAsyncGuaranteed(),O},S.all=function(W){return new _(W).promise()},S.cast=function(W){var O=x(W);return O instanceof S||(O=new S(y),O._captureStackTrace(),O._setFulfilled(),O._rejectionHandler0=W),O},S.resolve=S.fulfilled=S.cast,S.reject=S.rejected=function(W){var O=new S(y);return O._captureStackTrace(),O._rejectCallback(W,!0),O},S.setScheduler=function(W){if(typeof W!="function")throw new h("expecting a function but got "+a.classString(W));return u.setScheduler(W)},S.prototype._then=function(W,O,Y,$,se){var z=se!==void 0,J=z?se:new S(y),Z=this._target(),oe=Z._bitField;z||(J._propagateFrom(this,3),J._captureStackTrace(),$===void 0&&(this._bitField&2097152)!==0&&((oe&50397184)!==0?$=this._boundValue():$=Z===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,J));var ae=o();if((oe&50397184)!==0){var ve,me,ye=Z._settlePromiseCtx;(oe&33554432)!==0?(me=Z._rejectionHandler0,ve=W):(oe&16777216)!==0?(me=Z._fulfillmentHandler0,ve=O,Z._unsetRejectionIsUnhandled()):(ye=Z._settlePromiseLateCancellationObserver,me=new p("late cancellation observer"),Z._attachExtraTrace(me),ve=O),u.invoke(ye,Z,{handler:ae===null?ve:typeof ve=="function"&&a.domainBind(ae,ve),promise:J,receiver:$,value:me})}else Z._addCallbacks(W,O,J,$,ae);return J},S.prototype._length=function(){return this._bitField&65535},S.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},S.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},S.prototype._setLength=function(W){this._bitField=this._bitField&-65536|W&65535},S.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},S.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},S.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},S.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},S.prototype._isFinal=function(){return(this._bitField&4194304)>0},S.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},S.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},S.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},S.prototype._setAsyncGuaranteed=function(){u.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},S.prototype._receiverAt=function(W){var O=W===0?this._receiver0:this[W*4-4+3];if(O!==r)return O===void 0&&this._isBound()?this._boundValue():O},S.prototype._promiseAt=function(W){return this[W*4-4+2]},S.prototype._fulfillmentHandlerAt=function(W){return this[W*4-4+0]},S.prototype._rejectionHandlerAt=function(W){return this[W*4-4+1]},S.prototype._boundValue=function(){},S.prototype._migrateCallback0=function(W){W._bitField;var O=W._fulfillmentHandler0,Y=W._rejectionHandler0,$=W._promise0,se=W._receiverAt(0);se===void 0&&(se=r),this._addCallbacks(O,Y,$,se,null)},S.prototype._migrateCallbackAt=function(W,O){var Y=W._fulfillmentHandlerAt(O),$=W._rejectionHandlerAt(O),se=W._promiseAt(O),z=W._receiverAt(O);z===void 0&&(z=r),this._addCallbacks(Y,$,se,z,null)},S.prototype._addCallbacks=function(W,O,Y,$,se){var z=this._length();if(z>=65531&&(z=0,this._setLength(0)),z===0)this._promise0=Y,this._receiver0=$,typeof W=="function"&&(this._fulfillmentHandler0=se===null?W:a.domainBind(se,W)),typeof O=="function"&&(this._rejectionHandler0=se===null?O:a.domainBind(se,O));else{var J=z*4-4;this[J+2]=Y,this[J+3]=$,typeof W=="function"&&(this[J+0]=se===null?W:a.domainBind(se,W)),typeof O=="function"&&(this[J+1]=se===null?O:a.domainBind(se,O))}return this._setLength(z+1),z},S.prototype._proxy=function(W,O){this._addCallbacks(void 0,void 0,O,W,null)},S.prototype._resolveCallback=function(W,O){if((this._bitField&117506048)===0){if(W===this)return this._rejectCallback(e(),!1);var Y=x(W,this);if(!(Y instanceof S))return this._fulfill(W);O&&this._propagateFrom(Y,2);var $=Y._target();if($===this){this._reject(e());return}var se=$._bitField;if((se&50397184)===0){var z=this._length();z>0&&$._migrateCallback0(this);for(var J=1;J<z;++J)$._migrateCallbackAt(this,J);this._setFollowing(),this._setLength(0),this._setFollowee($)}else if((se&33554432)!==0)this._fulfill($._value());else if((se&16777216)!==0)this._reject($._reason());else{var Z=new p("late cancellation observer");$._attachExtraTrace(Z),this._reject(Z)}}},S.prototype._rejectCallback=function(W,O,Y){var $=a.ensureErrorObject(W),se=$===W;if(!se&&!Y&&T.warnings()){var z="a promise was rejected with a non-error: "+a.classString(W);this._warn(z,!0)}this._attachExtraTrace($,O?se:!1),this._reject(W)},S.prototype._resolveFromExecutor=function(W){var O=this;this._captureStackTrace(),this._pushContext();var Y=!0,$=this._execute(W,function(se){O._resolveCallback(se)},function(se){O._rejectCallback(se,Y)});Y=!1,this._popContext(),$!==void 0&&O._rejectCallback($,!0)},S.prototype._settlePromiseFromHandler=function(W,O,Y,$){var se=$._bitField;if((se&65536)===0){$._pushContext();var z;O===v?!Y||typeof Y.length!="number"?(z=U,z.e=new h("cannot .spread() a non-array: "+a.classString(Y))):z=P(W).apply(this._boundValue(),Y):z=P(W).call(O,Y);var J=$._popContext();se=$._bitField,(se&65536)===0&&(z===b?$._reject(Y):z===U?$._rejectCallback(z.e,!1):(T.checkForgottenReturns(z,J,"",$,this),$._resolveCallback(z)))}},S.prototype._target=function(){for(var W=this;W._isFollowing();)W=W._followee();return W},S.prototype._followee=function(){return this._rejectionHandler0},S.prototype._setFollowee=function(W){this._rejectionHandler0=W},S.prototype._settlePromise=function(W,O,Y,$){var se=W instanceof S,z=this._bitField,J=(z&134217728)!==0;(z&65536)!==0?(se&&W._invokeInternalOnCancel(),Y instanceof w&&Y.isFinallyHandler()?(Y.cancelPromise=W,P(O).call(Y,$)===U&&W._reject(U.e)):O===t?W._fulfill(t.call(Y)):Y instanceof i?Y._promiseCancelled(W):se||W instanceof _?W._cancel():Y.cancel()):typeof O=="function"?se?(J&&W._setAsyncGuaranteed(),this._settlePromiseFromHandler(O,Y,$,W)):O.call(Y,$,W):Y instanceof i?Y._isResolved()||((z&33554432)!==0?Y._promiseFulfilled($,W):Y._promiseRejected($,W)):se&&(J&&W._setAsyncGuaranteed(),(z&33554432)!==0?W._fulfill($):W._reject($))},S.prototype._settlePromiseLateCancellationObserver=function(W){var O=W.handler,Y=W.promise,$=W.receiver,se=W.value;typeof O=="function"?Y instanceof S?this._settlePromiseFromHandler(O,$,se,Y):O.call($,se,Y):Y instanceof S&&Y._reject(se)},S.prototype._settlePromiseCtx=function(W){this._settlePromise(W.promise,W.handler,W.receiver,W.value)},S.prototype._settlePromise0=function(W,O,Y){var $=this._promise0,se=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise($,W,se,O)},S.prototype._clearCallbackDataAtIndex=function(W){var O=W*4-4;this[O+2]=this[O+3]=this[O+0]=this[O+1]=void 0},S.prototype._fulfill=function(W){var O=this._bitField;if(!((O&117506048)>>>16)){if(W===this){var Y=e();return this._attachExtraTrace(Y),this._reject(Y)}this._setFulfilled(),this._rejectionHandler0=W,(O&65535)>0&&((O&134217728)!==0?this._settlePromises():u.settlePromises(this))}},S.prototype._reject=function(W){var O=this._bitField;if(!((O&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=W,this._isFinal())return u.fatalError(W,a.isNode);(O&65535)>0?u.settlePromises(this):this._ensurePossibleRejectionHandled()}},S.prototype._fulfillPromises=function(W,O){for(var Y=1;Y<W;Y++){var $=this._fulfillmentHandlerAt(Y),se=this._promiseAt(Y),z=this._receiverAt(Y);this._clearCallbackDataAtIndex(Y),this._settlePromise(se,$,z,O)}},S.prototype._rejectPromises=function(W,O){for(var Y=1;Y<W;Y++){var $=this._rejectionHandlerAt(Y),se=this._promiseAt(Y),z=this._receiverAt(Y);this._clearCallbackDataAtIndex(Y),this._settlePromise(se,$,z,O)}},S.prototype._settlePromises=function(){var W=this._bitField,O=W&65535;if(O>0){if((W&16842752)!==0){var Y=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,Y,W),this._rejectPromises(O,Y)}else{var $=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,$,W),this._fulfillPromises(O,$)}this._setLength(0)}this._clearCancellationData()},S.prototype._settledValue=function(){var W=this._bitField;if((W&33554432)!==0)return this._rejectionHandler0;if((W&16777216)!==0)return this._fulfillmentHandler0};function N(W){this.promise._resolveCallback(W)}function E(W){this.promise._rejectCallback(W,!1)}S.defer=S.pending=function(){T.deprecated("Promise.defer","new Promise");var W=new S(y);return{promise:W,resolve:N,reject:E}},a.notEnumerableProp(S,"_makeSelfResolutionError",e),rM()(S,y,x,n,T),sM()(S,y,x,T),aM()(S,_,n,T),oM()(S),cM()(S),lM()(S,_,x,y,u,o),S.Promise=S,S.version="3.4.7",uM()(S,_,n,x,y,T),dM()(S),hM()(S,n,x,A,y,T),fM()(S,y,T),pM()(S,n,y,x,i,T),gM()(S),mM()(S,y),yM()(S,_,x,n),vM()(S,y,x,n),bM()(S,_,n,x,y,T),xM()(S,_,T),_M()(S,_,n),DM()(S,y),TM()(S,y),AM()(S),a.toFastProperties(S),a.toFastProperties(S.prototype);function X(W){var O=new S(y);O._fulfillmentHandler0=W,O._rejectionHandler0=W,O._promise0=W,O._receiver0=W}return X({a:1}),X({b:2}),X({c:3}),X(1),X(function(){}),X(void 0),X(!1),X(new S(y)),T.setBounds(l.firstLineError,a.lastLineError),S}}(gp)),gp.exports}var i1;function Ts(){if(i1)return Vn;i1=1;var s=St,e=CM()();Vn.defer=t,Vn.when=e.resolve,Vn.resolve=e.resolve,Vn.all=e.all,Vn.props=e.props,Vn.reject=e.reject,Vn.promisify=e.promisify,Vn.mapSeries=e.mapSeries,Vn.attempt=e.attempt,Vn.nfcall=function(n){var i=Array.prototype.slice.call(arguments,1),r=e.promisify(n);return r.apply(null,i)},e.prototype.fail=e.prototype.caught,e.prototype.also=function(n){return this.then(function(i){var r=s.extend({},i,n(i));return e.props(r)})};function t(){var n,i,r=new e.Promise(function(a,o){n=a,i=o});return{resolve:n,reject:i,promise:r}}return Vn}var ct={},r1;function Qa(){if(r1)return ct;r1=1;var s=St,e=ct.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function t(T,w){return w=w||{},{type:e.document,children:T,notes:w.notes||new u({}),comments:w.comments||[]}}function n(T,w){w=w||{};var F=w.indent||{};return{type:e.paragraph,children:T,styleId:w.styleId||null,styleName:w.styleName||null,numbering:w.numbering||null,alignment:w.alignment||null,indent:{start:F.start||null,end:F.end||null,firstLine:F.firstLine||null,hanging:F.hanging||null}}}function i(T,w){return w=w||{},{type:e.run,children:T,styleId:w.styleId||null,styleName:w.styleName||null,isBold:!!w.isBold,isUnderline:!!w.isUnderline,isItalic:!!w.isItalic,isStrikethrough:!!w.isStrikethrough,isAllCaps:!!w.isAllCaps,isSmallCaps:!!w.isSmallCaps,verticalAlignment:w.verticalAlignment||r.baseline,font:w.font||null,fontSize:w.fontSize||null,highlight:w.highlight||null}}var r={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function a(T){return{type:e.text,value:T}}function o(){return{type:e.tab}}function c(T,w){return{type:e.hyperlink,children:T,href:w.href,anchor:w.anchor,targetFrame:w.targetFrame}}function l(T){return{type:e.noteReference,noteType:T.noteType,noteId:T.noteId}}function u(T){this._notes=s.indexBy(T,function(w){return y(w.noteType,w.noteId)})}u.prototype.resolve=function(T){return this.findNoteByKey(y(T.noteType,T.noteId))},u.prototype.findNoteByKey=function(T){return this._notes[T]||null};function d(T){return{type:e.note,noteType:T.noteType,noteId:T.noteId,body:T.body}}function h(T){return{type:e.commentReference,commentId:T.commentId}}function p(T){return{type:e.comment,commentId:T.commentId,body:T.body,authorName:T.authorName,authorInitials:T.authorInitials}}function y(T,w){return T+"-"+w}function v(T){return{type:e.image,read:function(w){return w?T.readImage(w):T.readImage().then(function(F){return Buffer.from(F)})},readAsArrayBuffer:function(){return T.readImage()},readAsBase64String:function(){return T.readImage("base64")},readAsBuffer:function(){return T.readImage().then(function(w){return Buffer.from(w)})},altText:T.altText,contentType:T.contentType}}function b(T,w){return w=w||{},{type:e.table,children:T,styleId:w.styleId||null,styleName:w.styleName||null}}function x(T,w){return w=w||{},{type:e.tableRow,children:T,isHeader:w.isHeader||!1}}function _(T,w){return w=w||{},{type:e.tableCell,children:T,colSpan:w.colSpan==null?1:w.colSpan,rowSpan:w.rowSpan==null?1:w.rowSpan}}function D(T){return{type:e.break,breakType:T}}function A(T){return{type:e.bookmarkStart,name:T.name}}return ct.document=ct.Document=t,ct.paragraph=ct.Paragraph=n,ct.run=ct.Run=i,ct.text=ct.Text=a,ct.tab=ct.Tab=o,ct.Hyperlink=c,ct.noteReference=ct.NoteReference=l,ct.Notes=u,ct.Note=d,ct.commentReference=h,ct.comment=p,ct.Image=v,ct.Table=b,ct.TableRow=x,ct.TableCell=_,ct.lineBreak=D("line"),ct.pageBreak=D("page"),ct.columnBreak=D("column"),ct.BookmarkStart=A,ct.verticalAlignment=r,ct}var no={},s1;function Rr(){if(s1)return no;s1=1;var s=St;no.Result=e,no.success=t,no.warning=n,no.error=i;function e(c,l){this.value=c,this.messages=l||[]}e.prototype.map=function(c){return new e(c(this.value),this.messages)},e.prototype.flatMap=function(c){var l=c(this.value);return new e(l.value,r([this,l]))},e.prototype.flatMapThen=function(c){var l=this;return c(this.value).then(function(u){return new e(u.value,r([l,u]))})},e.combine=function(c){var l=s.flatten(s.pluck(c,"value")),u=r(c);return new e(l,u)};function t(c){return new e(c,[])}function n(c){return{type:"warning",message:c}}function i(c){return{type:"error",message:c.message,error:c}}function r(c){var l=[];return s.flatten(s.pluck(c,"messages"),!0).forEach(function(u){a(l,u)||l.push(u)}),l}function a(c,l){return s.find(c,o.bind(null,l))!==void 0}function o(c,l){return c.type===l.type&&c.message===l.message}return no}var kc={},Mc={},a1;function wM(){if(a1)return Mc;a1=1,Mc.byteLength=o,Mc.toByteArray=l,Mc.fromByteArray=h;for(var s=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,r=n.length;i<r;++i)s[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function a(p){var y=p.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=p.indexOf("=");v===-1&&(v=y);var b=v===y?0:4-v%4;return[v,b]}function o(p){var y=a(p),v=y[0],b=y[1];return(v+b)*3/4-b}function c(p,y,v){return(y+v)*3/4-v}function l(p){var y,v=a(p),b=v[0],x=v[1],_=new t(c(p,b,x)),D=0,A=x>0?b-4:b,T;for(T=0;T<A;T+=4)y=e[p.charCodeAt(T)]<<18|e[p.charCodeAt(T+1)]<<12|e[p.charCodeAt(T+2)]<<6|e[p.charCodeAt(T+3)],_[D++]=y>>16&255,_[D++]=y>>8&255,_[D++]=y&255;return x===2&&(y=e[p.charCodeAt(T)]<<2|e[p.charCodeAt(T+1)]>>4,_[D++]=y&255),x===1&&(y=e[p.charCodeAt(T)]<<10|e[p.charCodeAt(T+1)]<<4|e[p.charCodeAt(T+2)]>>2,_[D++]=y>>8&255,_[D++]=y&255),_}function u(p){return s[p>>18&63]+s[p>>12&63]+s[p>>6&63]+s[p&63]}function d(p,y,v){for(var b,x=[],_=y;_<v;_+=3)b=(p[_]<<16&16711680)+(p[_+1]<<8&65280)+(p[_+2]&255),x.push(u(b));return x.join("")}function h(p){for(var y,v=p.length,b=v%3,x=[],_=16383,D=0,A=v-b;D<A;D+=_)x.push(d(p,D,D+_>A?A:D+_));return b===1?(y=p[v-1],x.push(s[y>>2]+s[y<<4&63]+"==")):b===2&&(y=(p[v-2]<<8)+p[v-1],x.push(s[y>>10]+s[y>>4&63]+s[y<<2&63]+"=")),x.join("")}return Mc}var Xp={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var o1;function EM(){return o1||(o1=1,function(s,e){(function(t){s.exports=t()})(function(){return function t(n,i,r){function a(l,u){if(!i[l]){if(!n[l]){var d=typeof cd=="function"&&cd;if(!u&&d)return d(l,!0);if(o)return o(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[l]={exports:{}};n[l][0].call(p.exports,function(y){var v=n[l][1][y];return a(v||y)},p,p.exports,t,n,i,r)}return i[l].exports}for(var o=typeof cd=="function"&&cd,c=0;c<r.length;c++)a(r[c]);return a}({1:[function(t,n,i){var r=t("./utils"),a=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var l,u,d,h,p,y,v,b=[],x=0,_=c.length,D=_,A=r.getTypeOf(c)!=="string";x<c.length;)D=_-x,d=A?(l=c[x++],u=x<_?c[x++]:0,x<_?c[x++]:0):(l=c.charCodeAt(x++),u=x<_?c.charCodeAt(x++):0,x<_?c.charCodeAt(x++):0),h=l>>2,p=(3&l)<<4|u>>4,y=1<D?(15&u)<<2|d>>6:64,v=2<D?63&d:64,b.push(o.charAt(h)+o.charAt(p)+o.charAt(y)+o.charAt(v));return b.join("")},i.decode=function(c){var l,u,d,h,p,y,v=0,b=0,x="data:";if(c.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var _,D=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===o.charAt(64)&&D--,c.charAt(c.length-2)===o.charAt(64)&&D--,D%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=a.uint8array?new Uint8Array(0|D):new Array(0|D);v<c.length;)l=o.indexOf(c.charAt(v++))<<2|(h=o.indexOf(c.charAt(v++)))>>4,u=(15&h)<<4|(p=o.indexOf(c.charAt(v++)))>>2,d=(3&p)<<6|(y=o.indexOf(c.charAt(v++))),_[b++]=l,p!==64&&(_[b++]=u),y!==64&&(_[b++]=d);return _}},{"./support":30,"./utils":32}],2:[function(t,n,i){var r=t("./external"),a=t("./stream/DataWorker"),o=t("./stream/Crc32Probe"),c=t("./stream/DataLengthProbe");function l(u,d,h,p,y){this.compressedSize=u,this.uncompressedSize=d,this.crc32=h,this.compression=p,this.compressedContent=y}l.prototype={getContentWorker:function(){var u=new a(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),d=this;return u.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new a(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(u,d,h){return u.pipe(new o).pipe(new c("uncompressedSize")).pipe(d.compressWorker(h)).pipe(new c("compressedSize")).withStreamInfo("compression",d)},n.exports=l},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,i){var r=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,i){var r=t("./utils"),a=function(){for(var o,c=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;c[l]=o}return c}();n.exports=function(o,c){return o!==void 0&&o.length?r.getTypeOf(o)!=="string"?function(l,u,d,h){var p=a,y=h+d;l^=-1;for(var v=h;v<y;v++)l=l>>>8^p[255&(l^u[v])];return-1^l}(0|c,o,o.length,0):function(l,u,d,h){var p=a,y=h+d;l^=-1;for(var v=h;v<y;v++)l=l>>>8^p[255&(l^u.charCodeAt(v))];return-1^l}(0|c,o,o.length,0):0}},{"./utils":32}],5:[function(t,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,n,i){var r=null;r=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:r}},{lie:37}],7:[function(t,n,i){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=t("pako"),o=t("./utils"),c=t("./stream/GenericWorker"),l=r?"uint8array":"array";function u(d,h){c.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=h,this.meta={}}i.magic="\b\0",o.inherits(u,c),u.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(l,d.data),!1)},u.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(h){d.push({data:h,meta:d.meta})}},i.compressWorker=function(d){return new u("Deflate",d)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,i){function r(p,y){var v,b="";for(v=0;v<y;v++)b+=String.fromCharCode(255&p),p>>>=8;return b}function a(p,y,v,b,x,_){var D,A,T=p.file,w=p.compression,F=_!==l.utf8encode,I=o.transformTo("string",_(T.name)),U=o.transformTo("string",l.utf8encode(T.name)),P=T.comment,H=o.transformTo("string",_(P)),S=o.transformTo("string",l.utf8encode(P)),N=U.length!==T.name.length,E=S.length!==P.length,X="",W="",O="",Y=T.dir,$=T.date,se={crc32:0,compressedSize:0,uncompressedSize:0};y&&!v||(se.crc32=p.crc32,se.compressedSize=p.compressedSize,se.uncompressedSize=p.uncompressedSize);var z=0;y&&(z|=8),F||!N&&!E||(z|=2048);var J=0,Z=0;Y&&(J|=16),x==="UNIX"?(Z=798,J|=function(ae,ve){var me=ae;return ae||(me=ve?16893:33204),(65535&me)<<16}(T.unixPermissions,Y)):(Z=20,J|=function(ae){return 63&(ae||0)}(T.dosPermissions)),D=$.getUTCHours(),D<<=6,D|=$.getUTCMinutes(),D<<=5,D|=$.getUTCSeconds()/2,A=$.getUTCFullYear()-1980,A<<=4,A|=$.getUTCMonth()+1,A<<=5,A|=$.getUTCDate(),N&&(W=r(1,1)+r(u(I),4)+U,X+="up"+r(W.length,2)+W),E&&(O=r(1,1)+r(u(H),4)+S,X+="uc"+r(O.length,2)+O);var oe="";return oe+=`
\0`,oe+=r(z,2),oe+=w.magic,oe+=r(D,2),oe+=r(A,2),oe+=r(se.crc32,4),oe+=r(se.compressedSize,4),oe+=r(se.uncompressedSize,4),oe+=r(I.length,2),oe+=r(X.length,2),{fileRecord:d.LOCAL_FILE_HEADER+oe+I+X,dirRecord:d.CENTRAL_FILE_HEADER+r(Z,2)+oe+r(H.length,2)+"\0\0\0\0"+r(J,4)+r(b,4)+I+X+H}}var o=t("../utils"),c=t("../stream/GenericWorker"),l=t("../utf8"),u=t("../crc32"),d=t("../signature");function h(p,y,v,b){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=v,this.encodeFileName=b,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(h,c),h.prototype.push=function(p){var y=p.meta.percent||0,v=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,c.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:v?(y+100*(v-b-1))/v:100}}))},h.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var y=this.streamFiles&&!p.file.dir;if(y){var v=a(p,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(p){this.accumulate=!1;var y=this.streamFiles&&!p.file.dir,v=a(p,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),y)this.push({data:function(b){return d.DATA_DESCRIPTOR+r(b.crc32,4)+r(b.compressedSize,4)+r(b.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var p=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var v=this.bytesWritten-p,b=function(x,_,D,A,T){var w=o.transformTo("string",T(A));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(x,2)+r(x,2)+r(_,4)+r(D,4)+r(w.length,2)+w}(this.dirRecords.length,v,p,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(p){this._sources.push(p);var y=this;return p.on("data",function(v){y.processChunk(v)}),p.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),p.on("error",function(v){y.error(v)}),this},h.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(p){var y=this._sources;if(!c.prototype.error.call(this,p))return!1;for(var v=0;v<y.length;v++)try{y[v].error(p)}catch{}return!0},h.prototype.lock=function(){c.prototype.lock.call(this);for(var p=this._sources,y=0;y<p.length;y++)p[y].lock()},n.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,i){var r=t("../compressions"),a=t("./ZipFileWorker");i.generateWorker=function(o,c,l){var u=new a(c.streamFiles,l,c.platform,c.encodeFileName),d=0;try{o.forEach(function(h,p){d++;var y=function(_,D){var A=_||D,T=r[A];if(!T)throw new Error(A+" is not a valid compression method !");return T}(p.options.compression,c.compression),v=p.options.compressionOptions||c.compressionOptions||{},b=p.dir,x=p.date;p._compressWorker(y,v).withStreamInfo("file",{name:h,dir:b,date:x,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(u)}),u.entriesCount=d}catch(h){u.error(h)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,i){function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new r;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(r.prototype=t("./object")).loadAsync=t("./load"),r.support=t("./support"),r.defaults=t("./defaults"),r.version="3.10.1",r.loadAsync=function(a,o){return new r().loadAsync(a,o)},r.external=t("./external"),n.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,i){var r=t("./utils"),a=t("./external"),o=t("./utf8"),c=t("./zipEntries"),l=t("./stream/Crc32Probe"),u=t("./nodejsUtils");function d(h){return new a.Promise(function(p,y){var v=h.decompressed.getContentWorker().pipe(new l);v.on("error",function(b){y(b)}).on("end",function(){v.streamInfo.crc32!==h.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}n.exports=function(h,p){var y=this;return p=r.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(h)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",h,!0,p.optimizedBinaryString,p.base64).then(function(v){var b=new c(p);return b.load(v),b}).then(function(v){var b=[a.Promise.resolve(v)],x=v.files;if(p.checkCRC32)for(var _=0;_<x.length;_++)b.push(d(x[_]));return a.Promise.all(b)}).then(function(v){for(var b=v.shift(),x=b.files,_=0;_<x.length;_++){var D=x[_],A=D.fileNameStr,T=r.resolve(D.fileNameStr);y.file(T,D.decompressed,{binary:!0,optimizedBinaryString:!0,date:D.date,dir:D.dir,comment:D.fileCommentStr.length?D.fileCommentStr:null,unixPermissions:D.unixPermissions,dosPermissions:D.dosPermissions,createFolders:p.createFolders}),D.dir||(y.file(T).unsafeOriginalName=A)}return b.zipComment.length&&(y.comment=b.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,i){var r=t("../utils"),a=t("../stream/GenericWorker");function o(c,l){a.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(l)}r.inherits(o,a),o.prototype._bindStream=function(c){var l=this;(this._stream=c).pause(),c.on("data",function(u){l.push({data:u,meta:{percent:0}})}).on("error",function(u){l.isPaused?this.generatedError=u:l.error(u)}).on("end",function(){l.isPaused?l._upstreamEnded=!0:l.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,i){var r=t("readable-stream").Readable;function a(o,c,l){r.call(this,c),this._helper=o;var u=this;o.on("data",function(d,h){u.push(d)||u._helper.pause(),l&&l(h)}).on("error",function(d){u.emit("error",d)}).on("end",function(){u.push(null)})}t("../utils").inherits(a,r),a.prototype._read=function(){this._helper.resume()},n.exports=a},{"../utils":32,"readable-stream":16}],14:[function(t,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(r,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(r,a);if(typeof r=="number")throw new Error('The "data" argument must not be a number');return new Buffer(r,a)},allocBuffer:function(r){if(Buffer.alloc)return Buffer.alloc(r);var a=new Buffer(r);return a.fill(0),a},isBuffer:function(r){return Buffer.isBuffer(r)},isStream:function(r){return r&&typeof r.on=="function"&&typeof r.pause=="function"&&typeof r.resume=="function"}}},{}],15:[function(t,n,i){function r(T,w,F){var I,U=o.getTypeOf(w),P=o.extend(F||{},u);P.date=P.date||new Date,P.compression!==null&&(P.compression=P.compression.toUpperCase()),typeof P.unixPermissions=="string"&&(P.unixPermissions=parseInt(P.unixPermissions,8)),P.unixPermissions&&16384&P.unixPermissions&&(P.dir=!0),P.dosPermissions&&16&P.dosPermissions&&(P.dir=!0),P.dir&&(T=x(T)),P.createFolders&&(I=b(T))&&_.call(this,I,!0);var H=U==="string"&&P.binary===!1&&P.base64===!1;F&&F.binary!==void 0||(P.binary=!H),(w instanceof d&&w.uncompressedSize===0||P.dir||!w||w.length===0)&&(P.base64=!1,P.binary=!0,w="",P.compression="STORE",U="string");var S=null;S=w instanceof d||w instanceof c?w:y.isNode&&y.isStream(w)?new v(T,w):o.prepareContent(T,w,P.binary,P.optimizedBinaryString,P.base64);var N=new h(T,S,P);this.files[T]=N}var a=t("./utf8"),o=t("./utils"),c=t("./stream/GenericWorker"),l=t("./stream/StreamHelper"),u=t("./defaults"),d=t("./compressedObject"),h=t("./zipObject"),p=t("./generate"),y=t("./nodejsUtils"),v=t("./nodejs/NodejsStreamInputAdapter"),b=function(T){T.slice(-1)==="/"&&(T=T.substring(0,T.length-1));var w=T.lastIndexOf("/");return 0<w?T.substring(0,w):""},x=function(T){return T.slice(-1)!=="/"&&(T+="/"),T},_=function(T,w){return w=w!==void 0?w:u.createFolders,T=x(T),this.files[T]||r.call(this,T,null,{dir:!0,createFolders:w}),this.files[T]};function D(T){return Object.prototype.toString.call(T)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(T){var w,F,I;for(w in this.files)I=this.files[w],(F=w.slice(this.root.length,w.length))&&w.slice(0,this.root.length)===this.root&&T(F,I)},filter:function(T){var w=[];return this.forEach(function(F,I){T(F,I)&&w.push(I)}),w},file:function(T,w,F){if(arguments.length!==1)return T=this.root+T,r.call(this,T,w,F),this;if(D(T)){var I=T;return this.filter(function(P,H){return!H.dir&&I.test(P)})}var U=this.files[this.root+T];return U&&!U.dir?U:null},folder:function(T){if(!T)return this;if(D(T))return this.filter(function(U,P){return P.dir&&T.test(U)});var w=this.root+T,F=_.call(this,w),I=this.clone();return I.root=F.name,I},remove:function(T){T=this.root+T;var w=this.files[T];if(w||(T.slice(-1)!=="/"&&(T+="/"),w=this.files[T]),w&&!w.dir)delete this.files[T];else for(var F=this.filter(function(U,P){return P.name.slice(0,T.length)===T}),I=0;I<F.length;I++)delete this.files[F[I].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(T){var w,F={};try{if((F=o.extend(T||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");o.checkSupport(F.type),F.platform!=="darwin"&&F.platform!=="freebsd"&&F.platform!=="linux"&&F.platform!=="sunos"||(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var I=F.comment||this.comment||"";w=p.generateWorker(this,F,I)}catch(U){(w=new c("error")).error(U)}return new l(w,F.type||"string",F.mimeType)},generateAsync:function(T,w){return this.generateInternalStream(T).accumulate(w)},generateNodeStream:function(T,w){return(T=T||{}).type||(T.type="nodebuffer"),this.generateInternalStream(T).toNodejsStream(w)}};n.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,i){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,i){var r=t("./DataReader");function a(o){r.call(this,o);for(var c=0;c<this.data.length;c++)o[c]=255&o[c]}t("../utils").inherits(a,r),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var c=o.charCodeAt(0),l=o.charCodeAt(1),u=o.charCodeAt(2),d=o.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===c&&this.data[h+1]===l&&this.data[h+2]===u&&this.data[h+3]===d)return h-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var c=o.charCodeAt(0),l=o.charCodeAt(1),u=o.charCodeAt(2),d=o.charCodeAt(3),h=this.readData(4);return c===h[0]&&l===h[1]&&u===h[2]&&d===h[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=a},{"../utils":32,"./DataReader":18}],18:[function(t,n,i){var r=t("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var c,l=0;for(this.checkOffset(o),c=this.index+o-1;c>=this.index;c--)l=(l<<8)+this.byteAt(c);return this.index+=o,l},readString:function(o){return r.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=a},{"../utils":32}],19:[function(t,n,i){var r=t("./Uint8ArrayReader");function a(o){r.call(this,o)}t("../utils").inherits(a,r),a.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,i){var r=t("./DataReader");function a(o){r.call(this,o)}t("../utils").inherits(a,r),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=a},{"../utils":32,"./DataReader":18}],21:[function(t,n,i){var r=t("./ArrayReader");function a(o){r.call(this,o)}t("../utils").inherits(a,r),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,i){var r=t("../utils"),a=t("../support"),o=t("./ArrayReader"),c=t("./StringReader"),l=t("./NodeBufferReader"),u=t("./Uint8ArrayReader");n.exports=function(d){var h=r.getTypeOf(d);return r.checkSupport(h),h!=="string"||a.uint8array?h==="nodebuffer"?new l(d):a.uint8array?new u(r.transformTo("uint8array",d)):new o(r.transformTo("array",d)):new c(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,i){var r=t("./GenericWorker"),a=t("../utils");function o(c){r.call(this,"ConvertWorker to "+c),this.destType=c}a.inherits(o,r),o.prototype.processChunk=function(c){this.push({data:a.transformTo(this.destType,c.data),meta:c.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,i){var r=t("./GenericWorker"),a=t("../crc32");function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(o,r),o.prototype.processChunk=function(c){this.streamInfo.crc32=a(c.data,this.streamInfo.crc32||0),this.push(c)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,i){var r=t("../utils"),a=t("./GenericWorker");function o(c){a.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}r.inherits(o,a),o.prototype.processChunk=function(c){if(c){var l=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=l+c.data.length}a.prototype.processChunk.call(this,c)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,i){var r=t("../utils"),a=t("./GenericWorker");function o(c){a.call(this,"DataWorker");var l=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(u){l.dataIsReady=!0,l.data=u,l.max=u&&u.length||0,l.type=r.getTypeOf(u),l.isPaused||l._tickAndRepeat()},function(u){l.error(u)})}r.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,l=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,l);break;case"uint8array":c=this.data.subarray(this.index,l);break;case"array":case"nodebuffer":c=this.data.slice(this.index,l)}return this.index=l,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,i){function r(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var c=0;c<this._listeners[a].length;c++)this._listeners[a][c].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(c){o.processChunk(c)}),a.on("end",function(){o.end()}),a.on("error",function(c){o.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=r},{}],29:[function(t,n,i){var r=t("../utils"),a=t("./ConvertWorker"),o=t("./GenericWorker"),c=t("../base64"),l=t("../support"),u=t("../external"),d=null;if(l.nodestream)try{d=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(y,v){return new u.Promise(function(b,x){var _=[],D=y._internalType,A=y._outputType,T=y._mimeType;y.on("data",function(w,F){_.push(w),v&&v(F)}).on("error",function(w){_=[],x(w)}).on("end",function(){try{var w=function(F,I,U){switch(F){case"blob":return r.newBlob(r.transformTo("arraybuffer",I),U);case"base64":return c.encode(I);default:return r.transformTo(F,I)}}(A,function(F,I){var U,P=0,H=null,S=0;for(U=0;U<I.length;U++)S+=I[U].length;switch(F){case"string":return I.join("");case"array":return Array.prototype.concat.apply([],I);case"uint8array":for(H=new Uint8Array(S),U=0;U<I.length;U++)H.set(I[U],P),P+=I[U].length;return H;case"nodebuffer":return Buffer.concat(I);default:throw new Error("concat : unsupported type '"+F+"'")}}(D,_),T);b(w)}catch(F){x(F)}_=[]}).resume()})}function p(y,v,b){var x=v;switch(v){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=v,this._mimeType=b,r.checkSupport(x),this._worker=y.pipe(new a(x)),y.lock()}catch(_){this._worker=new o("error"),this._worker.error(_)}}p.prototype={accumulate:function(y){return h(this,y)},on:function(y,v){var b=this;return y==="data"?this._worker.on(y,function(x){v.call(b,x.data,x.meta)}):this._worker.on(y,function(){r.delay(v,arguments,b)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(r.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},y)}},n.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var r=new ArrayBuffer(0);try{i.blob=new Blob([r],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(r),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,i){for(var r=t("./utils"),a=t("./support"),o=t("./nodejsUtils"),c=t("./stream/GenericWorker"),l=new Array(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;l[254]=l[254]=1;function d(){c.call(this,"utf-8 decode"),this.leftOver=null}function h(){c.call(this,"utf-8 encode")}i.utf8encode=function(p){return a.nodebuffer?o.newBufferFrom(p,"utf-8"):function(y){var v,b,x,_,D,A=y.length,T=0;for(_=0;_<A;_++)(64512&(b=y.charCodeAt(_)))==55296&&_+1<A&&(64512&(x=y.charCodeAt(_+1)))==56320&&(b=65536+(b-55296<<10)+(x-56320),_++),T+=b<128?1:b<2048?2:b<65536?3:4;for(v=a.uint8array?new Uint8Array(T):new Array(T),_=D=0;D<T;_++)(64512&(b=y.charCodeAt(_)))==55296&&_+1<A&&(64512&(x=y.charCodeAt(_+1)))==56320&&(b=65536+(b-55296<<10)+(x-56320),_++),b<128?v[D++]=b:(b<2048?v[D++]=192|b>>>6:(b<65536?v[D++]=224|b>>>12:(v[D++]=240|b>>>18,v[D++]=128|b>>>12&63),v[D++]=128|b>>>6&63),v[D++]=128|63&b);return v}(p)},i.utf8decode=function(p){return a.nodebuffer?r.transformTo("nodebuffer",p).toString("utf-8"):function(y){var v,b,x,_,D=y.length,A=new Array(2*D);for(v=b=0;v<D;)if((x=y[v++])<128)A[b++]=x;else if(4<(_=l[x]))A[b++]=65533,v+=_-1;else{for(x&=_===2?31:_===3?15:7;1<_&&v<D;)x=x<<6|63&y[v++],_--;1<_?A[b++]=65533:x<65536?A[b++]=x:(x-=65536,A[b++]=55296|x>>10&1023,A[b++]=56320|1023&x)}return A.length!==b&&(A.subarray?A=A.subarray(0,b):A.length=b),r.applyFromCharCode(A)}(p=r.transformTo(a.uint8array?"uint8array":"array",p))},r.inherits(d,c),d.prototype.processChunk=function(p){var y=r.transformTo(a.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var v=y;(y=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),y.set(v,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var b=function(_,D){var A;for((D=D||_.length)>_.length&&(D=_.length),A=D-1;0<=A&&(192&_[A])==128;)A--;return A<0||A===0?D:A+l[_[A]]>D?A:D}(y),x=y;b!==y.length&&(a.uint8array?(x=y.subarray(0,b),this.leftOver=y.subarray(b,y.length)):(x=y.slice(0,b),this.leftOver=y.slice(b,y.length))),this.push({data:i.utf8decode(x),meta:p.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,r.inherits(h,c),h.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,i){var r=t("./support"),a=t("./base64"),o=t("./nodejsUtils"),c=t("./external");function l(v){return v}function u(v,b){for(var x=0;x<v.length;++x)b[x]=255&v.charCodeAt(x);return b}t("setimmediate"),i.newBlob=function(v,b){i.checkSupport("blob");try{return new Blob([v],{type:b})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(v),x.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(v,b,x){var _=[],D=0,A=v.length;if(A<=x)return String.fromCharCode.apply(null,v);for(;D<A;)b==="array"||b==="nodebuffer"?_.push(String.fromCharCode.apply(null,v.slice(D,Math.min(D+x,A)))):_.push(String.fromCharCode.apply(null,v.subarray(D,Math.min(D+x,A)))),D+=x;return _.join("")},stringifyByChar:function(v){for(var b="",x=0;x<v.length;x++)b+=String.fromCharCode(v[x]);return b},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function h(v){var b=65536,x=i.getTypeOf(v),_=!0;if(x==="uint8array"?_=d.applyCanBeUsed.uint8array:x==="nodebuffer"&&(_=d.applyCanBeUsed.nodebuffer),_)for(;1<b;)try{return d.stringifyByChunk(v,x,b)}catch{b=Math.floor(b/2)}return d.stringifyByChar(v)}function p(v,b){for(var x=0;x<v.length;x++)b[x]=v[x];return b}i.applyFromCharCode=h;var y={};y.string={string:l,array:function(v){return u(v,new Array(v.length))},arraybuffer:function(v){return y.string.uint8array(v).buffer},uint8array:function(v){return u(v,new Uint8Array(v.length))},nodebuffer:function(v){return u(v,o.allocBuffer(v.length))}},y.array={string:h,array:l,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return o.newBufferFrom(v)}},y.arraybuffer={string:function(v){return h(new Uint8Array(v))},array:function(v){return p(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:l,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return o.newBufferFrom(new Uint8Array(v))}},y.uint8array={string:h,array:function(v){return p(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:l,nodebuffer:function(v){return o.newBufferFrom(v)}},y.nodebuffer={string:h,array:function(v){return p(v,new Array(v.length))},arraybuffer:function(v){return y.nodebuffer.uint8array(v).buffer},uint8array:function(v){return p(v,new Uint8Array(v.length))},nodebuffer:l},i.transformTo=function(v,b){if(b=b||"",!v)return b;i.checkSupport(v);var x=i.getTypeOf(b);return y[x][v](b)},i.resolve=function(v){for(var b=v.split("/"),x=[],_=0;_<b.length;_++){var D=b[_];D==="."||D===""&&_!==0&&_!==b.length-1||(D===".."?x.pop():x.push(D))}return x.join("/")},i.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":r.nodebuffer&&o.isBuffer(v)?"nodebuffer":r.uint8array&&v instanceof Uint8Array?"uint8array":r.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(v){if(!r[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(v){var b,x,_="";for(x=0;x<(v||"").length;x++)_+="\\x"+((b=v.charCodeAt(x))<16?"0":"")+b.toString(16).toUpperCase();return _},i.delay=function(v,b,x){setImmediate(function(){v.apply(x||null,b||[])})},i.inherits=function(v,b){function x(){}x.prototype=b.prototype,v.prototype=new x},i.extend=function(){var v,b,x={};for(v=0;v<arguments.length;v++)for(b in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],b)&&x[b]===void 0&&(x[b]=arguments[v][b]);return x},i.prepareContent=function(v,b,x,_,D){return c.Promise.resolve(b).then(function(A){return r.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new c.Promise(function(T,w){var F=new FileReader;F.onload=function(I){T(I.target.result)},F.onerror=function(I){w(I.target.error)},F.readAsArrayBuffer(A)}):A}).then(function(A){var T=i.getTypeOf(A);return T?(T==="arraybuffer"?A=i.transformTo("uint8array",A):T==="string"&&(D?A=a.decode(A):x&&_!==!0&&(A=function(w){return u(w,r.uint8array?new Uint8Array(w.length):new Array(w.length))}(A))),A):c.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,i){var r=t("./reader/readerFor"),a=t("./utils"),o=t("./signature"),c=t("./zipEntry"),l=t("./support");function u(d){this.files=[],this.loadOptions=d}u.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(h)+", expected "+a.pretty(d)+")")}},isSignature:function(d,h){var p=this.reader.index;this.reader.setIndex(d);var y=this.reader.readString(4)===h;return this.reader.setIndex(p),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),h=l.uint8array?"uint8array":"array",p=a.transformTo(h,d);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,h,p,y=this.zip64EndOfCentralSize-44;0<y;)d=this.reader.readInt(2),h=this.reader.readInt(4),p=this.reader.readData(h),this.zip64ExtensibleData[d]={id:d,length:h,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,h;for(d=0;d<this.files.length;d++)h=this.files[d],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(d=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var h=d;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var y=h-p;if(0<y)this.isSignature(h,o.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(d){this.reader=r(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,i){var r=t("./reader/readerFor"),a=t("./utils"),o=t("./compressedObject"),c=t("./crc32"),l=t("./utf8"),u=t("./compressions"),d=t("./support");function h(p,y){this.options=p,this.loadOptions=y}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var y,v;if(p.skip(22),this.fileNameLength=p.readInt(2),v=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=function(b){for(var x in u)if(Object.prototype.hasOwnProperty.call(u,x)&&u[x].magic===b)return u[x];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,y,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var y=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(y),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=r(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var y,v,b,x=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<x;)y=p.readInt(2),v=p.readInt(2),b=p.readData(v),this.extraFields[y]={id:y,length:v,value:b};p.setIndex(x)},handleUTF8:function(){var p=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var v=a.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var x=a.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var y=r(p.value);return y.readInt(1)!==1||c(this.fileName)!==y.readInt(4)?null:l.utf8decode(y.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var y=r(p.value);return y.readInt(1)!==1||c(this.fileComment)!==y.readInt(4)?null:l.utf8decode(y.readData(p.length-5))}return null}},n.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,i){function r(y,v,b){this.name=y,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=v,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var a=t("./stream/StreamHelper"),o=t("./stream/DataWorker"),c=t("./utf8"),l=t("./compressedObject"),u=t("./stream/GenericWorker");r.prototype={internalStream:function(y){var v=null,b="string";try{if(!y)throw new Error("No output type specified.");var x=(b=y.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),v=this._decompressWorker();var _=!this._dataBinary;_&&!x&&(v=v.pipe(new c.Utf8EncodeWorker)),!_&&x&&(v=v.pipe(new c.Utf8DecodeWorker))}catch(D){(v=new u("error")).error(D)}return new a(v,b,"")},async:function(y,v){return this.internalStream(y).accumulate(v)},nodeStream:function(y,v){return this.internalStream(y||"nodebuffer").toNodejsStream(v)},_compressWorker:function(y,v){if(this._data instanceof l&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new c.Utf8EncodeWorker)),l.createWorkerFrom(b,y,v)},_decompressWorker:function(){return this._data instanceof l?this._data.getContentWorker():this._data instanceof u?this._data:new o(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<d.length;p++)r.prototype[d[p]]=h;n.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,i){(function(r){var a,o,c=r.MutationObserver||r.WebKitMutationObserver;if(c){var l=0,u=new c(y),d=r.document.createTextNode("");u.observe(d,{characterData:!0}),a=function(){d.data=l=++l%2}}else if(r.setImmediate||r.MessageChannel===void 0)a="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var v=r.document.createElement("script");v.onreadystatechange=function(){y(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},r.document.documentElement.appendChild(v)}:function(){setTimeout(y,0)};else{var h=new r.MessageChannel;h.port1.onmessage=y,a=function(){h.port2.postMessage(0)}}var p=[];function y(){var v,b;o=!0;for(var x=p.length;x;){for(b=p,p=[],v=-1;++v<x;)b[v]();x=p.length}o=!1}n.exports=function(v){p.push(v)!==1||o||a()}}).call(this,typeof ls<"u"?ls:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,i){var r=t("immediate");function a(){}var o={},c=["REJECTED"],l=["FULFILLED"],u=["PENDING"];function d(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,x!==a&&v(this,x)}function h(x,_,D){this.promise=x,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof D=="function"&&(this.onRejected=D,this.callRejected=this.otherCallRejected)}function p(x,_,D){r(function(){var A;try{A=_(D)}catch(T){return o.reject(x,T)}A===x?o.reject(x,new TypeError("Cannot resolve promise with itself")):o.resolve(x,A)})}function y(x){var _=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof _=="function")return function(){_.apply(x,arguments)}}function v(x,_){var D=!1;function A(F){D||(D=!0,o.reject(x,F))}function T(F){D||(D=!0,o.resolve(x,F))}var w=b(function(){_(T,A)});w.status==="error"&&A(w.value)}function b(x,_){var D={};try{D.value=x(_),D.status="success"}catch(A){D.status="error",D.value=A}return D}(n.exports=d).prototype.finally=function(x){if(typeof x!="function")return this;var _=this.constructor;return this.then(function(D){return _.resolve(x()).then(function(){return D})},function(D){return _.resolve(x()).then(function(){throw D})})},d.prototype.catch=function(x){return this.then(null,x)},d.prototype.then=function(x,_){if(typeof x!="function"&&this.state===l||typeof _!="function"&&this.state===c)return this;var D=new this.constructor(a);return this.state!==u?p(D,this.state===l?x:_,this.outcome):this.queue.push(new h(D,x,_)),D},h.prototype.callFulfilled=function(x){o.resolve(this.promise,x)},h.prototype.otherCallFulfilled=function(x){p(this.promise,this.onFulfilled,x)},h.prototype.callRejected=function(x){o.reject(this.promise,x)},h.prototype.otherCallRejected=function(x){p(this.promise,this.onRejected,x)},o.resolve=function(x,_){var D=b(y,_);if(D.status==="error")return o.reject(x,D.value);var A=D.value;if(A)v(x,A);else{x.state=l,x.outcome=_;for(var T=-1,w=x.queue.length;++T<w;)x.queue[T].callFulfilled(_)}return x},o.reject=function(x,_){x.state=c,x.outcome=_;for(var D=-1,A=x.queue.length;++D<A;)x.queue[D].callRejected(_);return x},d.resolve=function(x){return x instanceof this?x:o.resolve(new this(a),x)},d.reject=function(x){var _=new this(a);return o.reject(_,x)},d.all=function(x){var _=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=x.length,A=!1;if(!D)return this.resolve([]);for(var T=new Array(D),w=0,F=-1,I=new this(a);++F<D;)U(x[F],F);return I;function U(P,H){_.resolve(P).then(function(S){T[H]=S,++w!==D||A||(A=!0,o.resolve(I,T))},function(S){A||(A=!0,o.reject(I,S))})}},d.race=function(x){var _=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=x.length,A=!1;if(!D)return this.resolve([]);for(var T=-1,w=new this(a);++T<D;)F=x[T],_.resolve(F).then(function(I){A||(A=!0,o.resolve(w,I))},function(I){A||(A=!0,o.reject(w,I))});var F;return w}},{immediate:36}],38:[function(t,n,i){var r={};(0,t("./lib/utils/common").assign)(r,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,i){var r=t("./zlib/deflate"),a=t("./utils/common"),o=t("./utils/strings"),c=t("./zlib/messages"),l=t("./zlib/zstream"),u=Object.prototype.toString,d=0,h=-1,p=0,y=8;function v(x){if(!(this instanceof v))return new v(x);this.options=a.assign({level:h,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},x||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var D=r.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(D!==d)throw new Error(c[D]);if(_.header&&r.deflateSetHeader(this.strm,_.header),_.dictionary){var A;if(A=typeof _.dictionary=="string"?o.string2buf(_.dictionary):u.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(D=r.deflateSetDictionary(this.strm,A))!==d)throw new Error(c[D]);this._dict_set=!0}}function b(x,_){var D=new v(_);if(D.push(x,!0),D.err)throw D.msg||c[D.err];return D.result}v.prototype.push=function(x,_){var D,A,T=this.strm,w=this.options.chunkSize;if(this.ended)return!1;A=_===~~_?_:_===!0?4:0,typeof x=="string"?T.input=o.string2buf(x):u.call(x)==="[object ArrayBuffer]"?T.input=new Uint8Array(x):T.input=x,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new a.Buf8(w),T.next_out=0,T.avail_out=w),(D=r.deflate(T,A))!==1&&D!==d)return this.onEnd(D),!(this.ended=!0);T.avail_out!==0&&(T.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(T.output,T.next_out))):this.onData(a.shrinkBuf(T.output,T.next_out)))}while((0<T.avail_in||T.avail_out===0)&&D!==1);return A===4?(D=r.deflateEnd(this.strm),this.onEnd(D),this.ended=!0,D===d):A!==2||(this.onEnd(d),!(T.avail_out=0))},v.prototype.onData=function(x){this.chunks.push(x)},v.prototype.onEnd=function(x){x===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},i.Deflate=v,i.deflate=b,i.deflateRaw=function(x,_){return(_=_||{}).raw=!0,b(x,_)},i.gzip=function(x,_){return(_=_||{}).gzip=!0,b(x,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,i){var r=t("./zlib/inflate"),a=t("./utils/common"),o=t("./utils/strings"),c=t("./zlib/constants"),l=t("./zlib/messages"),u=t("./zlib/zstream"),d=t("./zlib/gzheader"),h=Object.prototype.toString;function p(v){if(!(this instanceof p))return new p(v);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},v||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||v&&v.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var x=r.inflateInit2(this.strm,b.windowBits);if(x!==c.Z_OK)throw new Error(l[x]);this.header=new d,r.inflateGetHeader(this.strm,this.header)}function y(v,b){var x=new p(b);if(x.push(v,!0),x.err)throw x.msg||l[x.err];return x.result}p.prototype.push=function(v,b){var x,_,D,A,T,w,F=this.strm,I=this.options.chunkSize,U=this.options.dictionary,P=!1;if(this.ended)return!1;_=b===~~b?b:b===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof v=="string"?F.input=o.binstring2buf(v):h.call(v)==="[object ArrayBuffer]"?F.input=new Uint8Array(v):F.input=v,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new a.Buf8(I),F.next_out=0,F.avail_out=I),(x=r.inflate(F,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&U&&(w=typeof U=="string"?o.string2buf(U):h.call(U)==="[object ArrayBuffer]"?new Uint8Array(U):U,x=r.inflateSetDictionary(this.strm,w)),x===c.Z_BUF_ERROR&&P===!0&&(x=c.Z_OK,P=!1),x!==c.Z_STREAM_END&&x!==c.Z_OK)return this.onEnd(x),!(this.ended=!0);F.next_out&&(F.avail_out!==0&&x!==c.Z_STREAM_END&&(F.avail_in!==0||_!==c.Z_FINISH&&_!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(D=o.utf8border(F.output,F.next_out),A=F.next_out-D,T=o.buf2string(F.output,D),F.next_out=A,F.avail_out=I-A,A&&a.arraySet(F.output,F.output,D,A,0),this.onData(T)):this.onData(a.shrinkBuf(F.output,F.next_out)))),F.avail_in===0&&F.avail_out===0&&(P=!0)}while((0<F.avail_in||F.avail_out===0)&&x!==c.Z_STREAM_END);return x===c.Z_STREAM_END&&(_=c.Z_FINISH),_===c.Z_FINISH?(x=r.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===c.Z_OK):_!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(F.avail_out=0))},p.prototype.onData=function(v){this.chunks.push(v)},p.prototype.onEnd=function(v){v===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Inflate=p,i.inflate=y,i.inflateRaw=function(v,b){return(b=b||{}).raw=!0,y(v,b)},i.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,i){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var u=l.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var d in u)u.hasOwnProperty(d)&&(c[d]=u[d])}}return c},i.shrinkBuf=function(c,l){return c.length===l?c:c.subarray?c.subarray(0,l):(c.length=l,c)};var a={arraySet:function(c,l,u,d,h){if(l.subarray&&c.subarray)c.set(l.subarray(u,u+d),h);else for(var p=0;p<d;p++)c[h+p]=l[u+p]},flattenChunks:function(c){var l,u,d,h,p,y;for(l=d=0,u=c.length;l<u;l++)d+=c[l].length;for(y=new Uint8Array(d),l=h=0,u=c.length;l<u;l++)p=c[l],y.set(p,h),h+=p.length;return y}},o={arraySet:function(c,l,u,d,h){for(var p=0;p<d;p++)c[h+p]=l[u+p]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(r)},{}],42:[function(t,n,i){var r=t("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var c=new r.Buf8(256),l=0;l<256;l++)c[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function u(d,h){if(h<65537&&(d.subarray&&o||!d.subarray&&a))return String.fromCharCode.apply(null,r.shrinkBuf(d,h));for(var p="",y=0;y<h;y++)p+=String.fromCharCode(d[y]);return p}c[254]=c[254]=1,i.string2buf=function(d){var h,p,y,v,b,x=d.length,_=0;for(v=0;v<x;v++)(64512&(p=d.charCodeAt(v)))==55296&&v+1<x&&(64512&(y=d.charCodeAt(v+1)))==56320&&(p=65536+(p-55296<<10)+(y-56320),v++),_+=p<128?1:p<2048?2:p<65536?3:4;for(h=new r.Buf8(_),v=b=0;b<_;v++)(64512&(p=d.charCodeAt(v)))==55296&&v+1<x&&(64512&(y=d.charCodeAt(v+1)))==56320&&(p=65536+(p-55296<<10)+(y-56320),v++),p<128?h[b++]=p:(p<2048?h[b++]=192|p>>>6:(p<65536?h[b++]=224|p>>>12:(h[b++]=240|p>>>18,h[b++]=128|p>>>12&63),h[b++]=128|p>>>6&63),h[b++]=128|63&p);return h},i.buf2binstring=function(d){return u(d,d.length)},i.binstring2buf=function(d){for(var h=new r.Buf8(d.length),p=0,y=h.length;p<y;p++)h[p]=d.charCodeAt(p);return h},i.buf2string=function(d,h){var p,y,v,b,x=h||d.length,_=new Array(2*x);for(p=y=0;p<x;)if((v=d[p++])<128)_[y++]=v;else if(4<(b=c[v]))_[y++]=65533,p+=b-1;else{for(v&=b===2?31:b===3?15:7;1<b&&p<x;)v=v<<6|63&d[p++],b--;1<b?_[y++]=65533:v<65536?_[y++]=v:(v-=65536,_[y++]=55296|v>>10&1023,_[y++]=56320|1023&v)}return u(_,y)},i.utf8border=function(d,h){var p;for((h=h||d.length)>d.length&&(h=d.length),p=h-1;0<=p&&(192&d[p])==128;)p--;return p<0||p===0?h:p+c[d[p]]>h?p:h}},{"./common":41}],43:[function(t,n,i){n.exports=function(r,a,o,c){for(var l=65535&r|0,u=r>>>16&65535|0,d=0;o!==0;){for(o-=d=2e3<o?2e3:o;u=u+(l=l+a[c++]|0)|0,--d;);l%=65521,u%=65521}return l|u<<16|0}},{}],44:[function(t,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,i){var r=function(){for(var a,o=[],c=0;c<256;c++){a=c;for(var l=0;l<8;l++)a=1&a?3988292384^a>>>1:a>>>1;o[c]=a}return o}();n.exports=function(a,o,c,l){var u=r,d=l+c;a^=-1;for(var h=l;h<d;h++)a=a>>>8^u[255&(a^o[h])];return-1^a}},{}],46:[function(t,n,i){var r,a=t("../utils/common"),o=t("./trees"),c=t("./adler32"),l=t("./crc32"),u=t("./messages"),d=0,h=4,p=0,y=-2,v=-1,b=4,x=2,_=8,D=9,A=286,T=30,w=19,F=2*A+1,I=15,U=3,P=258,H=P+U+1,S=42,N=113,E=1,X=2,W=3,O=4;function Y(C,ne){return C.msg=u[ne],ne}function $(C){return(C<<1)-(4<C?9:0)}function se(C){for(var ne=C.length;0<=--ne;)C[ne]=0}function z(C){var ne=C.state,ee=ne.pending;ee>C.avail_out&&(ee=C.avail_out),ee!==0&&(a.arraySet(C.output,ne.pending_buf,ne.pending_out,ee,C.next_out),C.next_out+=ee,ne.pending_out+=ee,C.total_out+=ee,C.avail_out-=ee,ne.pending-=ee,ne.pending===0&&(ne.pending_out=0))}function J(C,ne){o._tr_flush_block(C,0<=C.block_start?C.block_start:-1,C.strstart-C.block_start,ne),C.block_start=C.strstart,z(C.strm)}function Z(C,ne){C.pending_buf[C.pending++]=ne}function oe(C,ne){C.pending_buf[C.pending++]=ne>>>8&255,C.pending_buf[C.pending++]=255&ne}function ae(C,ne){var ee,V,q=C.max_chain_length,K=C.strstart,pe=C.prev_length,ce=C.nice_match,te=C.strstart>C.w_size-H?C.strstart-(C.w_size-H):0,G=C.window,j=C.w_mask,re=C.prev,le=C.strstart+P,_e=G[K+pe-1],Se=G[K+pe];C.prev_length>=C.good_match&&(q>>=2),ce>C.lookahead&&(ce=C.lookahead);do if(G[(ee=ne)+pe]===Se&&G[ee+pe-1]===_e&&G[ee]===G[K]&&G[++ee]===G[K+1]){K+=2,ee++;do;while(G[++K]===G[++ee]&&G[++K]===G[++ee]&&G[++K]===G[++ee]&&G[++K]===G[++ee]&&G[++K]===G[++ee]&&G[++K]===G[++ee]&&G[++K]===G[++ee]&&G[++K]===G[++ee]&&K<le);if(V=P-(le-K),K=le-P,pe<V){if(C.match_start=ne,ce<=(pe=V))break;_e=G[K+pe-1],Se=G[K+pe]}}while((ne=re[ne&j])>te&&--q!=0);return pe<=C.lookahead?pe:C.lookahead}function ve(C){var ne,ee,V,q,K,pe,ce,te,G,j,re=C.w_size;do{if(q=C.window_size-C.lookahead-C.strstart,C.strstart>=re+(re-H)){for(a.arraySet(C.window,C.window,re,re,0),C.match_start-=re,C.strstart-=re,C.block_start-=re,ne=ee=C.hash_size;V=C.head[--ne],C.head[ne]=re<=V?V-re:0,--ee;);for(ne=ee=re;V=C.prev[--ne],C.prev[ne]=re<=V?V-re:0,--ee;);q+=re}if(C.strm.avail_in===0)break;if(pe=C.strm,ce=C.window,te=C.strstart+C.lookahead,G=q,j=void 0,j=pe.avail_in,G<j&&(j=G),ee=j===0?0:(pe.avail_in-=j,a.arraySet(ce,pe.input,pe.next_in,j,te),pe.state.wrap===1?pe.adler=c(pe.adler,ce,j,te):pe.state.wrap===2&&(pe.adler=l(pe.adler,ce,j,te)),pe.next_in+=j,pe.total_in+=j,j),C.lookahead+=ee,C.lookahead+C.insert>=U)for(K=C.strstart-C.insert,C.ins_h=C.window[K],C.ins_h=(C.ins_h<<C.hash_shift^C.window[K+1])&C.hash_mask;C.insert&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[K+U-1])&C.hash_mask,C.prev[K&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=K,K++,C.insert--,!(C.lookahead+C.insert<U)););}while(C.lookahead<H&&C.strm.avail_in!==0)}function me(C,ne){for(var ee,V;;){if(C.lookahead<H){if(ve(C),C.lookahead<H&&ne===d)return E;if(C.lookahead===0)break}if(ee=0,C.lookahead>=U&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+U-1])&C.hash_mask,ee=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),ee!==0&&C.strstart-ee<=C.w_size-H&&(C.match_length=ae(C,ee)),C.match_length>=U)if(V=o._tr_tally(C,C.strstart-C.match_start,C.match_length-U),C.lookahead-=C.match_length,C.match_length<=C.max_lazy_match&&C.lookahead>=U){for(C.match_length--;C.strstart++,C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+U-1])&C.hash_mask,ee=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart,--C.match_length!=0;);C.strstart++}else C.strstart+=C.match_length,C.match_length=0,C.ins_h=C.window[C.strstart],C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+1])&C.hash_mask;else V=o._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++;if(V&&(J(C,!1),C.strm.avail_out===0))return E}return C.insert=C.strstart<U-1?C.strstart:U-1,ne===h?(J(C,!0),C.strm.avail_out===0?W:O):C.last_lit&&(J(C,!1),C.strm.avail_out===0)?E:X}function ye(C,ne){for(var ee,V,q;;){if(C.lookahead<H){if(ve(C),C.lookahead<H&&ne===d)return E;if(C.lookahead===0)break}if(ee=0,C.lookahead>=U&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+U-1])&C.hash_mask,ee=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),C.prev_length=C.match_length,C.prev_match=C.match_start,C.match_length=U-1,ee!==0&&C.prev_length<C.max_lazy_match&&C.strstart-ee<=C.w_size-H&&(C.match_length=ae(C,ee),C.match_length<=5&&(C.strategy===1||C.match_length===U&&4096<C.strstart-C.match_start)&&(C.match_length=U-1)),C.prev_length>=U&&C.match_length<=C.prev_length){for(q=C.strstart+C.lookahead-U,V=o._tr_tally(C,C.strstart-1-C.prev_match,C.prev_length-U),C.lookahead-=C.prev_length-1,C.prev_length-=2;++C.strstart<=q&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+U-1])&C.hash_mask,ee=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),--C.prev_length!=0;);if(C.match_available=0,C.match_length=U-1,C.strstart++,V&&(J(C,!1),C.strm.avail_out===0))return E}else if(C.match_available){if((V=o._tr_tally(C,0,C.window[C.strstart-1]))&&J(C,!1),C.strstart++,C.lookahead--,C.strm.avail_out===0)return E}else C.match_available=1,C.strstart++,C.lookahead--}return C.match_available&&(V=o._tr_tally(C,0,C.window[C.strstart-1]),C.match_available=0),C.insert=C.strstart<U-1?C.strstart:U-1,ne===h?(J(C,!0),C.strm.avail_out===0?W:O):C.last_lit&&(J(C,!1),C.strm.avail_out===0)?E:X}function Te(C,ne,ee,V,q){this.good_length=C,this.max_lazy=ne,this.nice_length=ee,this.max_chain=V,this.func=q}function Ie(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*F),this.dyn_dtree=new a.Buf16(2*(2*T+1)),this.bl_tree=new a.Buf16(2*(2*w+1)),se(this.dyn_ltree),se(this.dyn_dtree),se(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(I+1),this.heap=new a.Buf16(2*A+1),se(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*A+1),se(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ne(C){var ne;return C&&C.state?(C.total_in=C.total_out=0,C.data_type=x,(ne=C.state).pending=0,ne.pending_out=0,ne.wrap<0&&(ne.wrap=-ne.wrap),ne.status=ne.wrap?S:N,C.adler=ne.wrap===2?0:1,ne.last_flush=d,o._tr_init(ne),p):Y(C,y)}function Oe(C){var ne=Ne(C);return ne===p&&function(ee){ee.window_size=2*ee.w_size,se(ee.head),ee.max_lazy_match=r[ee.level].max_lazy,ee.good_match=r[ee.level].good_length,ee.nice_match=r[ee.level].nice_length,ee.max_chain_length=r[ee.level].max_chain,ee.strstart=0,ee.block_start=0,ee.lookahead=0,ee.insert=0,ee.match_length=ee.prev_length=U-1,ee.match_available=0,ee.ins_h=0}(C.state),ne}function Ve(C,ne,ee,V,q,K){if(!C)return y;var pe=1;if(ne===v&&(ne=6),V<0?(pe=0,V=-V):15<V&&(pe=2,V-=16),q<1||D<q||ee!==_||V<8||15<V||ne<0||9<ne||K<0||b<K)return Y(C,y);V===8&&(V=9);var ce=new Ie;return(C.state=ce).strm=C,ce.wrap=pe,ce.gzhead=null,ce.w_bits=V,ce.w_size=1<<ce.w_bits,ce.w_mask=ce.w_size-1,ce.hash_bits=q+7,ce.hash_size=1<<ce.hash_bits,ce.hash_mask=ce.hash_size-1,ce.hash_shift=~~((ce.hash_bits+U-1)/U),ce.window=new a.Buf8(2*ce.w_size),ce.head=new a.Buf16(ce.hash_size),ce.prev=new a.Buf16(ce.w_size),ce.lit_bufsize=1<<q+6,ce.pending_buf_size=4*ce.lit_bufsize,ce.pending_buf=new a.Buf8(ce.pending_buf_size),ce.d_buf=1*ce.lit_bufsize,ce.l_buf=3*ce.lit_bufsize,ce.level=ne,ce.strategy=K,ce.method=ee,Oe(C)}r=[new Te(0,0,0,0,function(C,ne){var ee=65535;for(ee>C.pending_buf_size-5&&(ee=C.pending_buf_size-5);;){if(C.lookahead<=1){if(ve(C),C.lookahead===0&&ne===d)return E;if(C.lookahead===0)break}C.strstart+=C.lookahead,C.lookahead=0;var V=C.block_start+ee;if((C.strstart===0||C.strstart>=V)&&(C.lookahead=C.strstart-V,C.strstart=V,J(C,!1),C.strm.avail_out===0)||C.strstart-C.block_start>=C.w_size-H&&(J(C,!1),C.strm.avail_out===0))return E}return C.insert=0,ne===h?(J(C,!0),C.strm.avail_out===0?W:O):(C.strstart>C.block_start&&(J(C,!1),C.strm.avail_out),E)}),new Te(4,4,8,4,me),new Te(4,5,16,8,me),new Te(4,6,32,32,me),new Te(4,4,16,16,ye),new Te(8,16,32,32,ye),new Te(8,16,128,128,ye),new Te(8,32,128,256,ye),new Te(32,128,258,1024,ye),new Te(32,258,258,4096,ye)],i.deflateInit=function(C,ne){return Ve(C,ne,_,15,8,0)},i.deflateInit2=Ve,i.deflateReset=Oe,i.deflateResetKeep=Ne,i.deflateSetHeader=function(C,ne){return C&&C.state?C.state.wrap!==2?y:(C.state.gzhead=ne,p):y},i.deflate=function(C,ne){var ee,V,q,K;if(!C||!C.state||5<ne||ne<0)return C?Y(C,y):y;if(V=C.state,!C.output||!C.input&&C.avail_in!==0||V.status===666&&ne!==h)return Y(C,C.avail_out===0?-5:y);if(V.strm=C,ee=V.last_flush,V.last_flush=ne,V.status===S)if(V.wrap===2)C.adler=0,Z(V,31),Z(V,139),Z(V,8),V.gzhead?(Z(V,(V.gzhead.text?1:0)+(V.gzhead.hcrc?2:0)+(V.gzhead.extra?4:0)+(V.gzhead.name?8:0)+(V.gzhead.comment?16:0)),Z(V,255&V.gzhead.time),Z(V,V.gzhead.time>>8&255),Z(V,V.gzhead.time>>16&255),Z(V,V.gzhead.time>>24&255),Z(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),Z(V,255&V.gzhead.os),V.gzhead.extra&&V.gzhead.extra.length&&(Z(V,255&V.gzhead.extra.length),Z(V,V.gzhead.extra.length>>8&255)),V.gzhead.hcrc&&(C.adler=l(C.adler,V.pending_buf,V.pending,0)),V.gzindex=0,V.status=69):(Z(V,0),Z(V,0),Z(V,0),Z(V,0),Z(V,0),Z(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),Z(V,3),V.status=N);else{var pe=_+(V.w_bits-8<<4)<<8;pe|=(2<=V.strategy||V.level<2?0:V.level<6?1:V.level===6?2:3)<<6,V.strstart!==0&&(pe|=32),pe+=31-pe%31,V.status=N,oe(V,pe),V.strstart!==0&&(oe(V,C.adler>>>16),oe(V,65535&C.adler)),C.adler=1}if(V.status===69)if(V.gzhead.extra){for(q=V.pending;V.gzindex<(65535&V.gzhead.extra.length)&&(V.pending!==V.pending_buf_size||(V.gzhead.hcrc&&V.pending>q&&(C.adler=l(C.adler,V.pending_buf,V.pending-q,q)),z(C),q=V.pending,V.pending!==V.pending_buf_size));)Z(V,255&V.gzhead.extra[V.gzindex]),V.gzindex++;V.gzhead.hcrc&&V.pending>q&&(C.adler=l(C.adler,V.pending_buf,V.pending-q,q)),V.gzindex===V.gzhead.extra.length&&(V.gzindex=0,V.status=73)}else V.status=73;if(V.status===73)if(V.gzhead.name){q=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>q&&(C.adler=l(C.adler,V.pending_buf,V.pending-q,q)),z(C),q=V.pending,V.pending===V.pending_buf_size)){K=1;break}K=V.gzindex<V.gzhead.name.length?255&V.gzhead.name.charCodeAt(V.gzindex++):0,Z(V,K)}while(K!==0);V.gzhead.hcrc&&V.pending>q&&(C.adler=l(C.adler,V.pending_buf,V.pending-q,q)),K===0&&(V.gzindex=0,V.status=91)}else V.status=91;if(V.status===91)if(V.gzhead.comment){q=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>q&&(C.adler=l(C.adler,V.pending_buf,V.pending-q,q)),z(C),q=V.pending,V.pending===V.pending_buf_size)){K=1;break}K=V.gzindex<V.gzhead.comment.length?255&V.gzhead.comment.charCodeAt(V.gzindex++):0,Z(V,K)}while(K!==0);V.gzhead.hcrc&&V.pending>q&&(C.adler=l(C.adler,V.pending_buf,V.pending-q,q)),K===0&&(V.status=103)}else V.status=103;if(V.status===103&&(V.gzhead.hcrc?(V.pending+2>V.pending_buf_size&&z(C),V.pending+2<=V.pending_buf_size&&(Z(V,255&C.adler),Z(V,C.adler>>8&255),C.adler=0,V.status=N)):V.status=N),V.pending!==0){if(z(C),C.avail_out===0)return V.last_flush=-1,p}else if(C.avail_in===0&&$(ne)<=$(ee)&&ne!==h)return Y(C,-5);if(V.status===666&&C.avail_in!==0)return Y(C,-5);if(C.avail_in!==0||V.lookahead!==0||ne!==d&&V.status!==666){var ce=V.strategy===2?function(te,G){for(var j;;){if(te.lookahead===0&&(ve(te),te.lookahead===0)){if(G===d)return E;break}if(te.match_length=0,j=o._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++,j&&(J(te,!1),te.strm.avail_out===0))return E}return te.insert=0,G===h?(J(te,!0),te.strm.avail_out===0?W:O):te.last_lit&&(J(te,!1),te.strm.avail_out===0)?E:X}(V,ne):V.strategy===3?function(te,G){for(var j,re,le,_e,Se=te.window;;){if(te.lookahead<=P){if(ve(te),te.lookahead<=P&&G===d)return E;if(te.lookahead===0)break}if(te.match_length=0,te.lookahead>=U&&0<te.strstart&&(re=Se[le=te.strstart-1])===Se[++le]&&re===Se[++le]&&re===Se[++le]){_e=te.strstart+P;do;while(re===Se[++le]&&re===Se[++le]&&re===Se[++le]&&re===Se[++le]&&re===Se[++le]&&re===Se[++le]&&re===Se[++le]&&re===Se[++le]&&le<_e);te.match_length=P-(_e-le),te.match_length>te.lookahead&&(te.match_length=te.lookahead)}if(te.match_length>=U?(j=o._tr_tally(te,1,te.match_length-U),te.lookahead-=te.match_length,te.strstart+=te.match_length,te.match_length=0):(j=o._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++),j&&(J(te,!1),te.strm.avail_out===0))return E}return te.insert=0,G===h?(J(te,!0),te.strm.avail_out===0?W:O):te.last_lit&&(J(te,!1),te.strm.avail_out===0)?E:X}(V,ne):r[V.level].func(V,ne);if(ce!==W&&ce!==O||(V.status=666),ce===E||ce===W)return C.avail_out===0&&(V.last_flush=-1),p;if(ce===X&&(ne===1?o._tr_align(V):ne!==5&&(o._tr_stored_block(V,0,0,!1),ne===3&&(se(V.head),V.lookahead===0&&(V.strstart=0,V.block_start=0,V.insert=0))),z(C),C.avail_out===0))return V.last_flush=-1,p}return ne!==h?p:V.wrap<=0?1:(V.wrap===2?(Z(V,255&C.adler),Z(V,C.adler>>8&255),Z(V,C.adler>>16&255),Z(V,C.adler>>24&255),Z(V,255&C.total_in),Z(V,C.total_in>>8&255),Z(V,C.total_in>>16&255),Z(V,C.total_in>>24&255)):(oe(V,C.adler>>>16),oe(V,65535&C.adler)),z(C),0<V.wrap&&(V.wrap=-V.wrap),V.pending!==0?p:1)},i.deflateEnd=function(C){var ne;return C&&C.state?(ne=C.state.status)!==S&&ne!==69&&ne!==73&&ne!==91&&ne!==103&&ne!==N&&ne!==666?Y(C,y):(C.state=null,ne===N?Y(C,-3):p):y},i.deflateSetDictionary=function(C,ne){var ee,V,q,K,pe,ce,te,G,j=ne.length;if(!C||!C.state||(K=(ee=C.state).wrap)===2||K===1&&ee.status!==S||ee.lookahead)return y;for(K===1&&(C.adler=c(C.adler,ne,j,0)),ee.wrap=0,j>=ee.w_size&&(K===0&&(se(ee.head),ee.strstart=0,ee.block_start=0,ee.insert=0),G=new a.Buf8(ee.w_size),a.arraySet(G,ne,j-ee.w_size,ee.w_size,0),ne=G,j=ee.w_size),pe=C.avail_in,ce=C.next_in,te=C.input,C.avail_in=j,C.next_in=0,C.input=ne,ve(ee);ee.lookahead>=U;){for(V=ee.strstart,q=ee.lookahead-(U-1);ee.ins_h=(ee.ins_h<<ee.hash_shift^ee.window[V+U-1])&ee.hash_mask,ee.prev[V&ee.w_mask]=ee.head[ee.ins_h],ee.head[ee.ins_h]=V,V++,--q;);ee.strstart=V,ee.lookahead=U-1,ve(ee)}return ee.strstart+=ee.lookahead,ee.block_start=ee.strstart,ee.insert=ee.lookahead,ee.lookahead=0,ee.match_length=ee.prev_length=U-1,ee.match_available=0,C.next_in=ce,C.input=te,C.avail_in=pe,ee.wrap=K,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,i){n.exports=function(r,a){var o,c,l,u,d,h,p,y,v,b,x,_,D,A,T,w,F,I,U,P,H,S,N,E,X;o=r.state,c=r.next_in,E=r.input,l=c+(r.avail_in-5),u=r.next_out,X=r.output,d=u-(a-r.avail_out),h=u+(r.avail_out-257),p=o.dmax,y=o.wsize,v=o.whave,b=o.wnext,x=o.window,_=o.hold,D=o.bits,A=o.lencode,T=o.distcode,w=(1<<o.lenbits)-1,F=(1<<o.distbits)-1;e:do{D<15&&(_+=E[c++]<<D,D+=8,_+=E[c++]<<D,D+=8),I=A[_&w];t:for(;;){if(_>>>=U=I>>>24,D-=U,(U=I>>>16&255)===0)X[u++]=65535&I;else{if(!(16&U)){if((64&U)==0){I=A[(65535&I)+(_&(1<<U)-1)];continue t}if(32&U){o.mode=12;break e}r.msg="invalid literal/length code",o.mode=30;break e}P=65535&I,(U&=15)&&(D<U&&(_+=E[c++]<<D,D+=8),P+=_&(1<<U)-1,_>>>=U,D-=U),D<15&&(_+=E[c++]<<D,D+=8,_+=E[c++]<<D,D+=8),I=T[_&F];n:for(;;){if(_>>>=U=I>>>24,D-=U,!(16&(U=I>>>16&255))){if((64&U)==0){I=T[(65535&I)+(_&(1<<U)-1)];continue n}r.msg="invalid distance code",o.mode=30;break e}if(H=65535&I,D<(U&=15)&&(_+=E[c++]<<D,(D+=8)<U&&(_+=E[c++]<<D,D+=8)),p<(H+=_&(1<<U)-1)){r.msg="invalid distance too far back",o.mode=30;break e}if(_>>>=U,D-=U,(U=u-d)<H){if(v<(U=H-U)&&o.sane){r.msg="invalid distance too far back",o.mode=30;break e}if(N=x,(S=0)===b){if(S+=y-U,U<P){for(P-=U;X[u++]=x[S++],--U;);S=u-H,N=X}}else if(b<U){if(S+=y+b-U,(U-=b)<P){for(P-=U;X[u++]=x[S++],--U;);if(S=0,b<P){for(P-=U=b;X[u++]=x[S++],--U;);S=u-H,N=X}}}else if(S+=b-U,U<P){for(P-=U;X[u++]=x[S++],--U;);S=u-H,N=X}for(;2<P;)X[u++]=N[S++],X[u++]=N[S++],X[u++]=N[S++],P-=3;P&&(X[u++]=N[S++],1<P&&(X[u++]=N[S++]))}else{for(S=u-H;X[u++]=X[S++],X[u++]=X[S++],X[u++]=X[S++],2<(P-=3););P&&(X[u++]=X[S++],1<P&&(X[u++]=X[S++]))}break}}break}}while(c<l&&u<h);c-=P=D>>3,_&=(1<<(D-=P<<3))-1,r.next_in=c,r.next_out=u,r.avail_in=c<l?l-c+5:5-(c-l),r.avail_out=u<h?h-u+257:257-(u-h),o.hold=_,o.bits=D}},{}],49:[function(t,n,i){var r=t("../utils/common"),a=t("./adler32"),o=t("./crc32"),c=t("./inffast"),l=t("./inftrees"),u=1,d=2,h=0,p=-2,y=1,v=852,b=592;function x(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function D(S){var N;return S&&S.state?(N=S.state,S.total_in=S.total_out=N.total=0,S.msg="",N.wrap&&(S.adler=1&N.wrap),N.mode=y,N.last=0,N.havedict=0,N.dmax=32768,N.head=null,N.hold=0,N.bits=0,N.lencode=N.lendyn=new r.Buf32(v),N.distcode=N.distdyn=new r.Buf32(b),N.sane=1,N.back=-1,h):p}function A(S){var N;return S&&S.state?((N=S.state).wsize=0,N.whave=0,N.wnext=0,D(S)):p}function T(S,N){var E,X;return S&&S.state?(X=S.state,N<0?(E=0,N=-N):(E=1+(N>>4),N<48&&(N&=15)),N&&(N<8||15<N)?p:(X.window!==null&&X.wbits!==N&&(X.window=null),X.wrap=E,X.wbits=N,A(S))):p}function w(S,N){var E,X;return S?(X=new _,(S.state=X).window=null,(E=T(S,N))!==h&&(S.state=null),E):p}var F,I,U=!0;function P(S){if(U){var N;for(F=new r.Buf32(512),I=new r.Buf32(32),N=0;N<144;)S.lens[N++]=8;for(;N<256;)S.lens[N++]=9;for(;N<280;)S.lens[N++]=7;for(;N<288;)S.lens[N++]=8;for(l(u,S.lens,0,288,F,0,S.work,{bits:9}),N=0;N<32;)S.lens[N++]=5;l(d,S.lens,0,32,I,0,S.work,{bits:5}),U=!1}S.lencode=F,S.lenbits=9,S.distcode=I,S.distbits=5}function H(S,N,E,X){var W,O=S.state;return O.window===null&&(O.wsize=1<<O.wbits,O.wnext=0,O.whave=0,O.window=new r.Buf8(O.wsize)),X>=O.wsize?(r.arraySet(O.window,N,E-O.wsize,O.wsize,0),O.wnext=0,O.whave=O.wsize):(X<(W=O.wsize-O.wnext)&&(W=X),r.arraySet(O.window,N,E-X,W,O.wnext),(X-=W)?(r.arraySet(O.window,N,E-X,X,0),O.wnext=X,O.whave=O.wsize):(O.wnext+=W,O.wnext===O.wsize&&(O.wnext=0),O.whave<O.wsize&&(O.whave+=W))),0}i.inflateReset=A,i.inflateReset2=T,i.inflateResetKeep=D,i.inflateInit=function(S){return w(S,15)},i.inflateInit2=w,i.inflate=function(S,N){var E,X,W,O,Y,$,se,z,J,Z,oe,ae,ve,me,ye,Te,Ie,Ne,Oe,Ve,C,ne,ee,V,q=0,K=new r.Buf8(4),pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return p;(E=S.state).mode===12&&(E.mode=13),Y=S.next_out,W=S.output,se=S.avail_out,O=S.next_in,X=S.input,$=S.avail_in,z=E.hold,J=E.bits,Z=$,oe=se,ne=h;e:for(;;)switch(E.mode){case y:if(E.wrap===0){E.mode=13;break}for(;J<16;){if($===0)break e;$--,z+=X[O++]<<J,J+=8}if(2&E.wrap&&z===35615){K[E.check=0]=255&z,K[1]=z>>>8&255,E.check=o(E.check,K,2,0),J=z=0,E.mode=2;break}if(E.flags=0,E.head&&(E.head.done=!1),!(1&E.wrap)||(((255&z)<<8)+(z>>8))%31){S.msg="incorrect header check",E.mode=30;break}if((15&z)!=8){S.msg="unknown compression method",E.mode=30;break}if(J-=4,C=8+(15&(z>>>=4)),E.wbits===0)E.wbits=C;else if(C>E.wbits){S.msg="invalid window size",E.mode=30;break}E.dmax=1<<C,S.adler=E.check=1,E.mode=512&z?10:12,J=z=0;break;case 2:for(;J<16;){if($===0)break e;$--,z+=X[O++]<<J,J+=8}if(E.flags=z,(255&E.flags)!=8){S.msg="unknown compression method",E.mode=30;break}if(57344&E.flags){S.msg="unknown header flags set",E.mode=30;break}E.head&&(E.head.text=z>>8&1),512&E.flags&&(K[0]=255&z,K[1]=z>>>8&255,E.check=o(E.check,K,2,0)),J=z=0,E.mode=3;case 3:for(;J<32;){if($===0)break e;$--,z+=X[O++]<<J,J+=8}E.head&&(E.head.time=z),512&E.flags&&(K[0]=255&z,K[1]=z>>>8&255,K[2]=z>>>16&255,K[3]=z>>>24&255,E.check=o(E.check,K,4,0)),J=z=0,E.mode=4;case 4:for(;J<16;){if($===0)break e;$--,z+=X[O++]<<J,J+=8}E.head&&(E.head.xflags=255&z,E.head.os=z>>8),512&E.flags&&(K[0]=255&z,K[1]=z>>>8&255,E.check=o(E.check,K,2,0)),J=z=0,E.mode=5;case 5:if(1024&E.flags){for(;J<16;){if($===0)break e;$--,z+=X[O++]<<J,J+=8}E.length=z,E.head&&(E.head.extra_len=z),512&E.flags&&(K[0]=255&z,K[1]=z>>>8&255,E.check=o(E.check,K,2,0)),J=z=0}else E.head&&(E.head.extra=null);E.mode=6;case 6:if(1024&E.flags&&($<(ae=E.length)&&(ae=$),ae&&(E.head&&(C=E.head.extra_len-E.length,E.head.extra||(E.head.extra=new Array(E.head.extra_len)),r.arraySet(E.head.extra,X,O,ae,C)),512&E.flags&&(E.check=o(E.check,X,ae,O)),$-=ae,O+=ae,E.length-=ae),E.length))break e;E.length=0,E.mode=7;case 7:if(2048&E.flags){if($===0)break e;for(ae=0;C=X[O+ae++],E.head&&C&&E.length<65536&&(E.head.name+=String.fromCharCode(C)),C&&ae<$;);if(512&E.flags&&(E.check=o(E.check,X,ae,O)),$-=ae,O+=ae,C)break e}else E.head&&(E.head.name=null);E.length=0,E.mode=8;case 8:if(4096&E.flags){if($===0)break e;for(ae=0;C=X[O+ae++],E.head&&C&&E.length<65536&&(E.head.comment+=String.fromCharCode(C)),C&&ae<$;);if(512&E.flags&&(E.check=o(E.check,X,ae,O)),$-=ae,O+=ae,C)break e}else E.head&&(E.head.comment=null);E.mode=9;case 9:if(512&E.flags){for(;J<16;){if($===0)break e;$--,z+=X[O++]<<J,J+=8}if(z!==(65535&E.check)){S.msg="header crc mismatch",E.mode=30;break}J=z=0}E.head&&(E.head.hcrc=E.flags>>9&1,E.head.done=!0),S.adler=E.check=0,E.mode=12;break;case 10:for(;J<32;){if($===0)break e;$--,z+=X[O++]<<J,J+=8}S.adler=E.check=x(z),J=z=0,E.mode=11;case 11:if(E.havedict===0)return S.next_out=Y,S.avail_out=se,S.next_in=O,S.avail_in=$,E.hold=z,E.bits=J,2;S.adler=E.check=1,E.mode=12;case 12:if(N===5||N===6)break e;case 13:if(E.last){z>>>=7&J,J-=7&J,E.mode=27;break}for(;J<3;){if($===0)break e;$--,z+=X[O++]<<J,J+=8}switch(E.last=1&z,J-=1,3&(z>>>=1)){case 0:E.mode=14;break;case 1:if(P(E),E.mode=20,N!==6)break;z>>>=2,J-=2;break e;case 2:E.mode=17;break;case 3:S.msg="invalid block type",E.mode=30}z>>>=2,J-=2;break;case 14:for(z>>>=7&J,J-=7&J;J<32;){if($===0)break e;$--,z+=X[O++]<<J,J+=8}if((65535&z)!=(z>>>16^65535)){S.msg="invalid stored block lengths",E.mode=30;break}if(E.length=65535&z,J=z=0,E.mode=15,N===6)break e;case 15:E.mode=16;case 16:if(ae=E.length){if($<ae&&(ae=$),se<ae&&(ae=se),ae===0)break e;r.arraySet(W,X,O,ae,Y),$-=ae,O+=ae,se-=ae,Y+=ae,E.length-=ae;break}E.mode=12;break;case 17:for(;J<14;){if($===0)break e;$--,z+=X[O++]<<J,J+=8}if(E.nlen=257+(31&z),z>>>=5,J-=5,E.ndist=1+(31&z),z>>>=5,J-=5,E.ncode=4+(15&z),z>>>=4,J-=4,286<E.nlen||30<E.ndist){S.msg="too many length or distance symbols",E.mode=30;break}E.have=0,E.mode=18;case 18:for(;E.have<E.ncode;){for(;J<3;){if($===0)break e;$--,z+=X[O++]<<J,J+=8}E.lens[pe[E.have++]]=7&z,z>>>=3,J-=3}for(;E.have<19;)E.lens[pe[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,ee={bits:E.lenbits},ne=l(0,E.lens,0,19,E.lencode,0,E.work,ee),E.lenbits=ee.bits,ne){S.msg="invalid code lengths set",E.mode=30;break}E.have=0,E.mode=19;case 19:for(;E.have<E.nlen+E.ndist;){for(;Te=(q=E.lencode[z&(1<<E.lenbits)-1])>>>16&255,Ie=65535&q,!((ye=q>>>24)<=J);){if($===0)break e;$--,z+=X[O++]<<J,J+=8}if(Ie<16)z>>>=ye,J-=ye,E.lens[E.have++]=Ie;else{if(Ie===16){for(V=ye+2;J<V;){if($===0)break e;$--,z+=X[O++]<<J,J+=8}if(z>>>=ye,J-=ye,E.have===0){S.msg="invalid bit length repeat",E.mode=30;break}C=E.lens[E.have-1],ae=3+(3&z),z>>>=2,J-=2}else if(Ie===17){for(V=ye+3;J<V;){if($===0)break e;$--,z+=X[O++]<<J,J+=8}J-=ye,C=0,ae=3+(7&(z>>>=ye)),z>>>=3,J-=3}else{for(V=ye+7;J<V;){if($===0)break e;$--,z+=X[O++]<<J,J+=8}J-=ye,C=0,ae=11+(127&(z>>>=ye)),z>>>=7,J-=7}if(E.have+ae>E.nlen+E.ndist){S.msg="invalid bit length repeat",E.mode=30;break}for(;ae--;)E.lens[E.have++]=C}}if(E.mode===30)break;if(E.lens[256]===0){S.msg="invalid code -- missing end-of-block",E.mode=30;break}if(E.lenbits=9,ee={bits:E.lenbits},ne=l(u,E.lens,0,E.nlen,E.lencode,0,E.work,ee),E.lenbits=ee.bits,ne){S.msg="invalid literal/lengths set",E.mode=30;break}if(E.distbits=6,E.distcode=E.distdyn,ee={bits:E.distbits},ne=l(d,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,ee),E.distbits=ee.bits,ne){S.msg="invalid distances set",E.mode=30;break}if(E.mode=20,N===6)break e;case 20:E.mode=21;case 21:if(6<=$&&258<=se){S.next_out=Y,S.avail_out=se,S.next_in=O,S.avail_in=$,E.hold=z,E.bits=J,c(S,oe),Y=S.next_out,W=S.output,se=S.avail_out,O=S.next_in,X=S.input,$=S.avail_in,z=E.hold,J=E.bits,E.mode===12&&(E.back=-1);break}for(E.back=0;Te=(q=E.lencode[z&(1<<E.lenbits)-1])>>>16&255,Ie=65535&q,!((ye=q>>>24)<=J);){if($===0)break e;$--,z+=X[O++]<<J,J+=8}if(Te&&(240&Te)==0){for(Ne=ye,Oe=Te,Ve=Ie;Te=(q=E.lencode[Ve+((z&(1<<Ne+Oe)-1)>>Ne)])>>>16&255,Ie=65535&q,!(Ne+(ye=q>>>24)<=J);){if($===0)break e;$--,z+=X[O++]<<J,J+=8}z>>>=Ne,J-=Ne,E.back+=Ne}if(z>>>=ye,J-=ye,E.back+=ye,E.length=Ie,Te===0){E.mode=26;break}if(32&Te){E.back=-1,E.mode=12;break}if(64&Te){S.msg="invalid literal/length code",E.mode=30;break}E.extra=15&Te,E.mode=22;case 22:if(E.extra){for(V=E.extra;J<V;){if($===0)break e;$--,z+=X[O++]<<J,J+=8}E.length+=z&(1<<E.extra)-1,z>>>=E.extra,J-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=23;case 23:for(;Te=(q=E.distcode[z&(1<<E.distbits)-1])>>>16&255,Ie=65535&q,!((ye=q>>>24)<=J);){if($===0)break e;$--,z+=X[O++]<<J,J+=8}if((240&Te)==0){for(Ne=ye,Oe=Te,Ve=Ie;Te=(q=E.distcode[Ve+((z&(1<<Ne+Oe)-1)>>Ne)])>>>16&255,Ie=65535&q,!(Ne+(ye=q>>>24)<=J);){if($===0)break e;$--,z+=X[O++]<<J,J+=8}z>>>=Ne,J-=Ne,E.back+=Ne}if(z>>>=ye,J-=ye,E.back+=ye,64&Te){S.msg="invalid distance code",E.mode=30;break}E.offset=Ie,E.extra=15&Te,E.mode=24;case 24:if(E.extra){for(V=E.extra;J<V;){if($===0)break e;$--,z+=X[O++]<<J,J+=8}E.offset+=z&(1<<E.extra)-1,z>>>=E.extra,J-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){S.msg="invalid distance too far back",E.mode=30;break}E.mode=25;case 25:if(se===0)break e;if(ae=oe-se,E.offset>ae){if((ae=E.offset-ae)>E.whave&&E.sane){S.msg="invalid distance too far back",E.mode=30;break}ve=ae>E.wnext?(ae-=E.wnext,E.wsize-ae):E.wnext-ae,ae>E.length&&(ae=E.length),me=E.window}else me=W,ve=Y-E.offset,ae=E.length;for(se<ae&&(ae=se),se-=ae,E.length-=ae;W[Y++]=me[ve++],--ae;);E.length===0&&(E.mode=21);break;case 26:if(se===0)break e;W[Y++]=E.length,se--,E.mode=21;break;case 27:if(E.wrap){for(;J<32;){if($===0)break e;$--,z|=X[O++]<<J,J+=8}if(oe-=se,S.total_out+=oe,E.total+=oe,oe&&(S.adler=E.check=E.flags?o(E.check,W,oe,Y-oe):a(E.check,W,oe,Y-oe)),oe=se,(E.flags?z:x(z))!==E.check){S.msg="incorrect data check",E.mode=30;break}J=z=0}E.mode=28;case 28:if(E.wrap&&E.flags){for(;J<32;){if($===0)break e;$--,z+=X[O++]<<J,J+=8}if(z!==(4294967295&E.total)){S.msg="incorrect length check",E.mode=30;break}J=z=0}E.mode=29;case 29:ne=1;break e;case 30:ne=-3;break e;case 31:return-4;case 32:default:return p}return S.next_out=Y,S.avail_out=se,S.next_in=O,S.avail_in=$,E.hold=z,E.bits=J,(E.wsize||oe!==S.avail_out&&E.mode<30&&(E.mode<27||N!==4))&&H(S,S.output,S.next_out,oe-S.avail_out)?(E.mode=31,-4):(Z-=S.avail_in,oe-=S.avail_out,S.total_in+=Z,S.total_out+=oe,E.total+=oe,E.wrap&&oe&&(S.adler=E.check=E.flags?o(E.check,W,oe,S.next_out-oe):a(E.check,W,oe,S.next_out-oe)),S.data_type=E.bits+(E.last?64:0)+(E.mode===12?128:0)+(E.mode===20||E.mode===15?256:0),(Z==0&&oe===0||N===4)&&ne===h&&(ne=-5),ne)},i.inflateEnd=function(S){if(!S||!S.state)return p;var N=S.state;return N.window&&(N.window=null),S.state=null,h},i.inflateGetHeader=function(S,N){var E;return S&&S.state?(2&(E=S.state).wrap)==0?p:((E.head=N).done=!1,h):p},i.inflateSetDictionary=function(S,N){var E,X=N.length;return S&&S.state?(E=S.state).wrap!==0&&E.mode!==11?p:E.mode===11&&a(1,N,X,0)!==E.check?-3:H(S,N,X,X)?(E.mode=31,-4):(E.havedict=1,h):p},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,i){var r=t("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(u,d,h,p,y,v,b,x){var _,D,A,T,w,F,I,U,P,H=x.bits,S=0,N=0,E=0,X=0,W=0,O=0,Y=0,$=0,se=0,z=0,J=null,Z=0,oe=new r.Buf16(16),ae=new r.Buf16(16),ve=null,me=0;for(S=0;S<=15;S++)oe[S]=0;for(N=0;N<p;N++)oe[d[h+N]]++;for(W=H,X=15;1<=X&&oe[X]===0;X--);if(X<W&&(W=X),X===0)return y[v++]=20971520,y[v++]=20971520,x.bits=1,0;for(E=1;E<X&&oe[E]===0;E++);for(W<E&&(W=E),S=$=1;S<=15;S++)if($<<=1,($-=oe[S])<0)return-1;if(0<$&&(u===0||X!==1))return-1;for(ae[1]=0,S=1;S<15;S++)ae[S+1]=ae[S]+oe[S];for(N=0;N<p;N++)d[h+N]!==0&&(b[ae[d[h+N]]++]=N);if(F=u===0?(J=ve=b,19):u===1?(J=a,Z-=257,ve=o,me-=257,256):(J=c,ve=l,-1),S=E,w=v,Y=N=z=0,A=-1,T=(se=1<<(O=W))-1,u===1&&852<se||u===2&&592<se)return 1;for(;;){for(I=S-Y,P=b[N]<F?(U=0,b[N]):b[N]>F?(U=ve[me+b[N]],J[Z+b[N]]):(U=96,0),_=1<<S-Y,E=D=1<<O;y[w+(z>>Y)+(D-=_)]=I<<24|U<<16|P|0,D!==0;);for(_=1<<S-1;z&_;)_>>=1;if(_!==0?(z&=_-1,z+=_):z=0,N++,--oe[S]==0){if(S===X)break;S=d[h+b[N]]}if(W<S&&(z&T)!==A){for(Y===0&&(Y=W),w+=E,$=1<<(O=S-Y);O+Y<X&&!(($-=oe[O+Y])<=0);)O++,$<<=1;if(se+=1<<O,u===1&&852<se||u===2&&592<se)return 1;y[A=z&T]=W<<24|O<<16|w-v|0}}return z!==0&&(y[w+z]=S-Y<<24|64<<16|0),x.bits=W,0}},{"../utils/common":41}],51:[function(t,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,i){var r=t("../utils/common"),a=0,o=1;function c(q){for(var K=q.length;0<=--K;)q[K]=0}var l=0,u=29,d=256,h=d+1+u,p=30,y=19,v=2*h+1,b=15,x=16,_=7,D=256,A=16,T=17,w=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],I=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=new Array(2*(h+2));c(H);var S=new Array(2*p);c(S);var N=new Array(512);c(N);var E=new Array(256);c(E);var X=new Array(u);c(X);var W,O,Y,$=new Array(p);function se(q,K,pe,ce,te){this.static_tree=q,this.extra_bits=K,this.extra_base=pe,this.elems=ce,this.max_length=te,this.has_stree=q&&q.length}function z(q,K){this.dyn_tree=q,this.max_code=0,this.stat_desc=K}function J(q){return q<256?N[q]:N[256+(q>>>7)]}function Z(q,K){q.pending_buf[q.pending++]=255&K,q.pending_buf[q.pending++]=K>>>8&255}function oe(q,K,pe){q.bi_valid>x-pe?(q.bi_buf|=K<<q.bi_valid&65535,Z(q,q.bi_buf),q.bi_buf=K>>x-q.bi_valid,q.bi_valid+=pe-x):(q.bi_buf|=K<<q.bi_valid&65535,q.bi_valid+=pe)}function ae(q,K,pe){oe(q,pe[2*K],pe[2*K+1])}function ve(q,K){for(var pe=0;pe|=1&q,q>>>=1,pe<<=1,0<--K;);return pe>>>1}function me(q,K,pe){var ce,te,G=new Array(b+1),j=0;for(ce=1;ce<=b;ce++)G[ce]=j=j+pe[ce-1]<<1;for(te=0;te<=K;te++){var re=q[2*te+1];re!==0&&(q[2*te]=ve(G[re]++,re))}}function ye(q){var K;for(K=0;K<h;K++)q.dyn_ltree[2*K]=0;for(K=0;K<p;K++)q.dyn_dtree[2*K]=0;for(K=0;K<y;K++)q.bl_tree[2*K]=0;q.dyn_ltree[2*D]=1,q.opt_len=q.static_len=0,q.last_lit=q.matches=0}function Te(q){8<q.bi_valid?Z(q,q.bi_buf):0<q.bi_valid&&(q.pending_buf[q.pending++]=q.bi_buf),q.bi_buf=0,q.bi_valid=0}function Ie(q,K,pe,ce){var te=2*K,G=2*pe;return q[te]<q[G]||q[te]===q[G]&&ce[K]<=ce[pe]}function Ne(q,K,pe){for(var ce=q.heap[pe],te=pe<<1;te<=q.heap_len&&(te<q.heap_len&&Ie(K,q.heap[te+1],q.heap[te],q.depth)&&te++,!Ie(K,ce,q.heap[te],q.depth));)q.heap[pe]=q.heap[te],pe=te,te<<=1;q.heap[pe]=ce}function Oe(q,K,pe){var ce,te,G,j,re=0;if(q.last_lit!==0)for(;ce=q.pending_buf[q.d_buf+2*re]<<8|q.pending_buf[q.d_buf+2*re+1],te=q.pending_buf[q.l_buf+re],re++,ce===0?ae(q,te,K):(ae(q,(G=E[te])+d+1,K),(j=F[G])!==0&&oe(q,te-=X[G],j),ae(q,G=J(--ce),pe),(j=I[G])!==0&&oe(q,ce-=$[G],j)),re<q.last_lit;);ae(q,D,K)}function Ve(q,K){var pe,ce,te,G=K.dyn_tree,j=K.stat_desc.static_tree,re=K.stat_desc.has_stree,le=K.stat_desc.elems,_e=-1;for(q.heap_len=0,q.heap_max=v,pe=0;pe<le;pe++)G[2*pe]!==0?(q.heap[++q.heap_len]=_e=pe,q.depth[pe]=0):G[2*pe+1]=0;for(;q.heap_len<2;)G[2*(te=q.heap[++q.heap_len]=_e<2?++_e:0)]=1,q.depth[te]=0,q.opt_len--,re&&(q.static_len-=j[2*te+1]);for(K.max_code=_e,pe=q.heap_len>>1;1<=pe;pe--)Ne(q,G,pe);for(te=le;pe=q.heap[1],q.heap[1]=q.heap[q.heap_len--],Ne(q,G,1),ce=q.heap[1],q.heap[--q.heap_max]=pe,q.heap[--q.heap_max]=ce,G[2*te]=G[2*pe]+G[2*ce],q.depth[te]=(q.depth[pe]>=q.depth[ce]?q.depth[pe]:q.depth[ce])+1,G[2*pe+1]=G[2*ce+1]=te,q.heap[1]=te++,Ne(q,G,1),2<=q.heap_len;);q.heap[--q.heap_max]=q.heap[1],function(Se,ie){var he,fe,ge,xe,Ee,Ye,Ue=ie.dyn_tree,Be=ie.max_code,Ut=ie.stat_desc.static_tree,bt=ie.stat_desc.has_stree,mt=ie.stat_desc.extra_bits,R=ie.stat_desc.extra_base,B=ie.stat_desc.max_length,Q=0;for(xe=0;xe<=b;xe++)Se.bl_count[xe]=0;for(Ue[2*Se.heap[Se.heap_max]+1]=0,he=Se.heap_max+1;he<v;he++)B<(xe=Ue[2*Ue[2*(fe=Se.heap[he])+1]+1]+1)&&(xe=B,Q++),Ue[2*fe+1]=xe,Be<fe||(Se.bl_count[xe]++,Ee=0,R<=fe&&(Ee=mt[fe-R]),Ye=Ue[2*fe],Se.opt_len+=Ye*(xe+Ee),bt&&(Se.static_len+=Ye*(Ut[2*fe+1]+Ee)));if(Q!==0){do{for(xe=B-1;Se.bl_count[xe]===0;)xe--;Se.bl_count[xe]--,Se.bl_count[xe+1]+=2,Se.bl_count[B]--,Q-=2}while(0<Q);for(xe=B;xe!==0;xe--)for(fe=Se.bl_count[xe];fe!==0;)Be<(ge=Se.heap[--he])||(Ue[2*ge+1]!==xe&&(Se.opt_len+=(xe-Ue[2*ge+1])*Ue[2*ge],Ue[2*ge+1]=xe),fe--)}}(q,K),me(G,_e,q.bl_count)}function C(q,K,pe){var ce,te,G=-1,j=K[1],re=0,le=7,_e=4;for(j===0&&(le=138,_e=3),K[2*(pe+1)+1]=65535,ce=0;ce<=pe;ce++)te=j,j=K[2*(ce+1)+1],++re<le&&te===j||(re<_e?q.bl_tree[2*te]+=re:te!==0?(te!==G&&q.bl_tree[2*te]++,q.bl_tree[2*A]++):re<=10?q.bl_tree[2*T]++:q.bl_tree[2*w]++,G=te,_e=(re=0)===j?(le=138,3):te===j?(le=6,3):(le=7,4))}function ne(q,K,pe){var ce,te,G=-1,j=K[1],re=0,le=7,_e=4;for(j===0&&(le=138,_e=3),ce=0;ce<=pe;ce++)if(te=j,j=K[2*(ce+1)+1],!(++re<le&&te===j)){if(re<_e)for(;ae(q,te,q.bl_tree),--re!=0;);else te!==0?(te!==G&&(ae(q,te,q.bl_tree),re--),ae(q,A,q.bl_tree),oe(q,re-3,2)):re<=10?(ae(q,T,q.bl_tree),oe(q,re-3,3)):(ae(q,w,q.bl_tree),oe(q,re-11,7));G=te,_e=(re=0)===j?(le=138,3):te===j?(le=6,3):(le=7,4)}}c($);var ee=!1;function V(q,K,pe,ce){oe(q,(l<<1)+(ce?1:0),3),function(te,G,j,re){Te(te),Z(te,j),Z(te,~j),r.arraySet(te.pending_buf,te.window,G,j,te.pending),te.pending+=j}(q,K,pe)}i._tr_init=function(q){ee||(function(){var K,pe,ce,te,G,j=new Array(b+1);for(te=ce=0;te<u-1;te++)for(X[te]=ce,K=0;K<1<<F[te];K++)E[ce++]=te;for(E[ce-1]=te,te=G=0;te<16;te++)for($[te]=G,K=0;K<1<<I[te];K++)N[G++]=te;for(G>>=7;te<p;te++)for($[te]=G<<7,K=0;K<1<<I[te]-7;K++)N[256+G++]=te;for(pe=0;pe<=b;pe++)j[pe]=0;for(K=0;K<=143;)H[2*K+1]=8,K++,j[8]++;for(;K<=255;)H[2*K+1]=9,K++,j[9]++;for(;K<=279;)H[2*K+1]=7,K++,j[7]++;for(;K<=287;)H[2*K+1]=8,K++,j[8]++;for(me(H,h+1,j),K=0;K<p;K++)S[2*K+1]=5,S[2*K]=ve(K,5);W=new se(H,F,d+1,h,b),O=new se(S,I,0,p,b),Y=new se(new Array(0),U,0,y,_)}(),ee=!0),q.l_desc=new z(q.dyn_ltree,W),q.d_desc=new z(q.dyn_dtree,O),q.bl_desc=new z(q.bl_tree,Y),q.bi_buf=0,q.bi_valid=0,ye(q)},i._tr_stored_block=V,i._tr_flush_block=function(q,K,pe,ce){var te,G,j=0;0<q.level?(q.strm.data_type===2&&(q.strm.data_type=function(re){var le,_e=4093624447;for(le=0;le<=31;le++,_e>>>=1)if(1&_e&&re.dyn_ltree[2*le]!==0)return a;if(re.dyn_ltree[18]!==0||re.dyn_ltree[20]!==0||re.dyn_ltree[26]!==0)return o;for(le=32;le<d;le++)if(re.dyn_ltree[2*le]!==0)return o;return a}(q)),Ve(q,q.l_desc),Ve(q,q.d_desc),j=function(re){var le;for(C(re,re.dyn_ltree,re.l_desc.max_code),C(re,re.dyn_dtree,re.d_desc.max_code),Ve(re,re.bl_desc),le=y-1;3<=le&&re.bl_tree[2*P[le]+1]===0;le--);return re.opt_len+=3*(le+1)+5+5+4,le}(q),te=q.opt_len+3+7>>>3,(G=q.static_len+3+7>>>3)<=te&&(te=G)):te=G=pe+5,pe+4<=te&&K!==-1?V(q,K,pe,ce):q.strategy===4||G===te?(oe(q,2+(ce?1:0),3),Oe(q,H,S)):(oe(q,4+(ce?1:0),3),function(re,le,_e,Se){var ie;for(oe(re,le-257,5),oe(re,_e-1,5),oe(re,Se-4,4),ie=0;ie<Se;ie++)oe(re,re.bl_tree[2*P[ie]+1],3);ne(re,re.dyn_ltree,le-1),ne(re,re.dyn_dtree,_e-1)}(q,q.l_desc.max_code+1,q.d_desc.max_code+1,j+1),Oe(q,q.dyn_ltree,q.dyn_dtree)),ye(q),ce&&Te(q)},i._tr_tally=function(q,K,pe){return q.pending_buf[q.d_buf+2*q.last_lit]=K>>>8&255,q.pending_buf[q.d_buf+2*q.last_lit+1]=255&K,q.pending_buf[q.l_buf+q.last_lit]=255&pe,q.last_lit++,K===0?q.dyn_ltree[2*pe]++:(q.matches++,K--,q.dyn_ltree[2*(E[pe]+d+1)]++,q.dyn_dtree[2*J(K)]++),q.last_lit===q.lit_bufsize-1},i._tr_align=function(q){oe(q,2,3),ae(q,D,H),function(K){K.bi_valid===16?(Z(K,K.bi_buf),K.bi_buf=0,K.bi_valid=0):8<=K.bi_valid&&(K.pending_buf[K.pending++]=255&K.bi_buf,K.bi_buf>>=8,K.bi_valid-=8)}(q)}},{"../utils/common":41}],53:[function(t,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,i){(function(r){(function(a,o){if(!a.setImmediate){var c,l,u,d,h=1,p={},y=!1,v=a.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(a);b=b&&b.setTimeout?b:a,c={}.toString.call(a.process)==="[object process]"?function(A){process.nextTick(function(){_(A)})}:function(){if(a.postMessage&&!a.importScripts){var A=!0,T=a.onmessage;return a.onmessage=function(){A=!1},a.postMessage("","*"),a.onmessage=T,A}}()?(d="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",D,!1):a.attachEvent("onmessage",D),function(A){a.postMessage(d+A,"*")}):a.MessageChannel?((u=new MessageChannel).port1.onmessage=function(A){_(A.data)},function(A){u.port2.postMessage(A)}):v&&"onreadystatechange"in v.createElement("script")?(l=v.documentElement,function(A){var T=v.createElement("script");T.onreadystatechange=function(){_(A),T.onreadystatechange=null,l.removeChild(T),T=null},l.appendChild(T)}):function(A){setTimeout(_,0,A)},b.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var T=new Array(arguments.length-1),w=0;w<T.length;w++)T[w]=arguments[w+1];var F={callback:A,args:T};return p[h]=F,c(h),h++},b.clearImmediate=x}function x(A){delete p[A]}function _(A){if(y)setTimeout(_,0,A);else{var T=p[A];if(T){y=!0;try{(function(w){var F=w.callback,I=w.args;switch(I.length){case 0:F();break;case 1:F(I[0]);break;case 2:F(I[0],I[1]);break;case 3:F(I[0],I[1],I[2]);break;default:F.apply(o,I)}})(T)}finally{x(A),y=!1}}}}function D(A){A.source===a&&typeof A.data=="string"&&A.data.indexOf(d)===0&&_(+A.data.slice(d.length))}})(typeof self>"u"?r===void 0?this:r:self)}).call(this,typeof ls<"u"?ls:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Xp)),Xp.exports}var c1;function PT(){if(c1)return kc;c1=1;var s=wM(),e=EM();kc.openArrayBuffer=t,kc.splitPath=n,kc.joinPath=i;function t(r){return e.loadAsync(r).then(function(a){function o(d){return a.file(d)!==null}function c(d,h){return a.file(d).async("uint8array").then(function(p){if(h==="base64")return s.fromByteArray(p);if(h){var y=new TextDecoder(h);return y.decode(p)}else return p})}function l(d,h){a.file(d,h)}function u(){return a.generateAsync({type:"arraybuffer"})}return{exists:o,read:c,write:l,toArrayBuffer:u}})}function n(r){var a=r.lastIndexOf("/");return a===-1?{dirname:"",basename:r}:{dirname:r.substring(0,a),basename:r.substring(a+1)}}function i(){var r=Array.prototype.filter.call(arguments,function(o){return o}),a=[];return r.forEach(function(o){/^\//.test(o)?a=[o]:a.push(o)}),a.join("/")}return kc}var Td={},Fs={},Nc={},l1;function LT(){if(l1)return Nc;l1=1;var s=St;Nc.Element=t,Nc.element=function(r,a,o){return new t(r,a,o)},Nc.text=function(r){return{type:"text",value:r}};var e={first:function(){return null},firstOrEmpty:function(){return e},attributes:{}};function t(r,a,o){this.type="element",this.name=r,this.attributes=a||{},this.children=o||[]}t.prototype.first=function(r){return s.find(this.children,function(a){return a.name===r})},t.prototype.firstOrEmpty=function(r){return this.first(r)||e},t.prototype.getElementsByTagName=function(r){var a=s.filter(this.children,function(o){return o.name===r});return i(a)},t.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var n={getElementsByTagName:function(r){return i(s.flatten(this.map(function(a){return a.getElementsByTagName(r)},!0)))}};function i(r){return s.extend(r,n)}return Nc}var Yp={},Ad={},Pc={},Yi={},Is={},u1;function qf(){if(u1)return Is;u1=1;function s(r,a,o){if(o===void 0&&(o=Array.prototype),r&&typeof o.find=="function")return o.find.call(r,a);for(var c=0;c<r.length;c++)if(Object.prototype.hasOwnProperty.call(r,c)){var l=r[c];if(a.call(void 0,l,c,r))return l}}function e(r,a){return a===void 0&&(a=Object),a&&typeof a.freeze=="function"?a.freeze(r):r}function t(r,a){if(r===null||typeof r!="object")throw new TypeError("target is not an object");for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o]);return r}var n=e({HTML:"text/html",isHTML:function(r){return r===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(r){return r===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Is.assign=t,Is.find=s,Is.freeze=e,Is.MIME_TYPE=n,Is.NAMESPACE=i,Is}var d1;function iv(){if(d1)return Yi;d1=1;var s=qf(),e=s.find,t=s.NAMESPACE;function n(R){return R!==""}function i(R){return R?R.split(/[\t\n\f\r ]+/).filter(n):[]}function r(R,B){return R.hasOwnProperty(B)||(R[B]=!0),R}function a(R){if(!R)return[];var B=i(R);return Object.keys(B.reduce(r,{}))}function o(R){return function(B){return R&&R.indexOf(B)!==-1}}function c(R,B){for(var Q in R)Object.prototype.hasOwnProperty.call(R,Q)&&(B[Q]=R[Q])}function l(R,B){var Q=R.prototype;if(!(Q instanceof B)){let ue=function(){};ue.prototype=B.prototype,ue=new ue,c(Q,ue),R.prototype=Q=ue}Q.constructor!=R&&(typeof R!="function"&&console.error("unknown Class:"+R),Q.constructor=R)}var u={},d=u.ELEMENT_NODE=1,h=u.ATTRIBUTE_NODE=2,p=u.TEXT_NODE=3,y=u.CDATA_SECTION_NODE=4,v=u.ENTITY_REFERENCE_NODE=5,b=u.ENTITY_NODE=6,x=u.PROCESSING_INSTRUCTION_NODE=7,_=u.COMMENT_NODE=8,D=u.DOCUMENT_NODE=9,A=u.DOCUMENT_TYPE_NODE=10,T=u.DOCUMENT_FRAGMENT_NODE=11,w=u.NOTATION_NODE=12,F={},I={};F.INDEX_SIZE_ERR=(I[1]="Index size error",1),F.DOMSTRING_SIZE_ERR=(I[2]="DOMString size error",2);var U=F.HIERARCHY_REQUEST_ERR=(I[3]="Hierarchy request error",3);F.WRONG_DOCUMENT_ERR=(I[4]="Wrong document",4),F.INVALID_CHARACTER_ERR=(I[5]="Invalid character",5),F.NO_DATA_ALLOWED_ERR=(I[6]="No data allowed",6),F.NO_MODIFICATION_ALLOWED_ERR=(I[7]="No modification allowed",7);var P=F.NOT_FOUND_ERR=(I[8]="Not found",8);F.NOT_SUPPORTED_ERR=(I[9]="Not supported",9);var H=F.INUSE_ATTRIBUTE_ERR=(I[10]="Attribute in use",10);F.INVALID_STATE_ERR=(I[11]="Invalid state",11),F.SYNTAX_ERR=(I[12]="Syntax error",12),F.INVALID_MODIFICATION_ERR=(I[13]="Invalid modification",13),F.NAMESPACE_ERR=(I[14]="Invalid namespace",14),F.INVALID_ACCESS_ERR=(I[15]="Invalid access",15);function S(R,B){if(B instanceof Error)var Q=B;else Q=this,Error.call(this,I[R]),this.message=I[R],Error.captureStackTrace&&Error.captureStackTrace(this,S);return Q.code=R,B&&(this.message=this.message+": "+B),Q}S.prototype=Error.prototype,c(F,S);function N(){}N.prototype={length:0,item:function(R){return R>=0&&R<this.length?this[R]:null},toString:function(R,B){for(var Q=[],ue=0;ue<this.length;ue++)Be(this[ue],Q,R,B);return Q.join("")},filter:function(R){return Array.prototype.filter.call(this,R)},indexOf:function(R){return Array.prototype.indexOf.call(this,R)}};function E(R,B){this._node=R,this._refresh=B,X(this)}function X(R){var B=R._node._inc||R._node.ownerDocument._inc;if(R._inc!==B){var Q=R._refresh(R._node);if(mt(R,"length",Q.length),!R.$$length||Q.length<R.$$length)for(var ue=Q.length;ue in R;ue++)Object.prototype.hasOwnProperty.call(R,ue)&&delete R[ue];c(Q,R),R._inc=B}}E.prototype.item=function(R){return X(this),this[R]||null},l(E,N);function W(){}function O(R,B){for(var Q=R.length;Q--;)if(R[Q]===B)return Q}function Y(R,B,Q,ue){if(ue?B[O(B,ue)]=Q:B[B.length++]=Q,R){Q.ownerElement=R;var De=R.ownerDocument;De&&(ue&&ve(De,R,ue),ae(De,R,Q))}}function $(R,B,Q){var ue=O(B,Q);if(ue>=0){for(var De=B.length-1;ue<De;)B[ue]=B[++ue];if(B.length=De,R){var ze=R.ownerDocument;ze&&(ve(ze,R,Q),Q.ownerElement=null)}}else throw new S(P,new Error(R.tagName+"@"+Q))}W.prototype={length:0,item:N.prototype.item,getNamedItem:function(R){for(var B=this.length;B--;){var Q=this[B];if(Q.nodeName==R)return Q}},setNamedItem:function(R){var B=R.ownerElement;if(B&&B!=this._ownerElement)throw new S(H);var Q=this.getNamedItem(R.nodeName);return Y(this._ownerElement,this,R,Q),Q},setNamedItemNS:function(R){var B=R.ownerElement,Q;if(B&&B!=this._ownerElement)throw new S(H);return Q=this.getNamedItemNS(R.namespaceURI,R.localName),Y(this._ownerElement,this,R,Q),Q},removeNamedItem:function(R){var B=this.getNamedItem(R);return $(this._ownerElement,this,B),B},removeNamedItemNS:function(R,B){var Q=this.getNamedItemNS(R,B);return $(this._ownerElement,this,Q),Q},getNamedItemNS:function(R,B){for(var Q=this.length;Q--;){var ue=this[Q];if(ue.localName==B&&ue.namespaceURI==R)return ue}return null}};function se(){}se.prototype={hasFeature:function(R,B){return!0},createDocument:function(R,B,Q){var ue=new oe;if(ue.implementation=this,ue.childNodes=new N,ue.doctype=Q||null,Q&&ue.appendChild(Q),B){var De=ue.createElementNS(R,B);ue.appendChild(De)}return ue},createDocumentType:function(R,B,Q){var ue=new _e;return ue.name=R,ue.nodeName=R,ue.publicId=B||"",ue.systemId=Q||"",ue}};function z(){}z.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(R,B){return K(this,R,B)},replaceChild:function(R,B){K(this,R,B,q),B&&this.removeChild(B)},removeChild:function(R){return ye(this,R)},appendChild:function(R){return this.insertBefore(R,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(R){return bt(this.ownerDocument||this,this,R)},normalize:function(){for(var R=this.firstChild;R;){var B=R.nextSibling;B&&B.nodeType==p&&R.nodeType==p?(this.removeChild(B),R.appendData(B.data)):(R.normalize(),R=B)}},isSupported:function(R,B){return this.ownerDocument.implementation.hasFeature(R,B)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(R){for(var B=this;B;){var Q=B._nsMap;if(Q){for(var ue in Q)if(Object.prototype.hasOwnProperty.call(Q,ue)&&Q[ue]===R)return ue}B=B.nodeType==h?B.ownerDocument:B.parentNode}return null},lookupNamespaceURI:function(R){for(var B=this;B;){var Q=B._nsMap;if(Q&&Object.prototype.hasOwnProperty.call(Q,R))return Q[R];B=B.nodeType==h?B.ownerDocument:B.parentNode}return null},isDefaultNamespace:function(R){var B=this.lookupPrefix(R);return B==null}};function J(R){return R=="<"&&"&lt;"||R==">"&&"&gt;"||R=="&"&&"&amp;"||R=='"'&&"&quot;"||"&#"+R.charCodeAt()+";"}c(u,z),c(u,z.prototype);function Z(R,B){if(B(R))return!0;if(R=R.firstChild)do if(Z(R,B))return!0;while(R=R.nextSibling)}function oe(){this.ownerDocument=this}function ae(R,B,Q){R&&R._inc++;var ue=Q.namespaceURI;ue===t.XMLNS&&(B._nsMap[Q.prefix?Q.localName:""]=Q.value)}function ve(R,B,Q,ue){R&&R._inc++;var De=Q.namespaceURI;De===t.XMLNS&&delete B._nsMap[Q.prefix?Q.localName:""]}function me(R,B,Q){if(R&&R._inc){R._inc++;var ue=B.childNodes;if(Q)ue[ue.length++]=Q;else{for(var De=B.firstChild,ze=0;De;)ue[ze++]=De,De=De.nextSibling;ue.length=ze,delete ue[ue.length]}}}function ye(R,B){var Q=B.previousSibling,ue=B.nextSibling;return Q?Q.nextSibling=ue:R.firstChild=ue,ue?ue.previousSibling=Q:R.lastChild=Q,B.parentNode=null,B.previousSibling=null,B.nextSibling=null,me(R.ownerDocument,R),B}function Te(R){return R&&(R.nodeType===z.DOCUMENT_NODE||R.nodeType===z.DOCUMENT_FRAGMENT_NODE||R.nodeType===z.ELEMENT_NODE)}function Ie(R){return R&&(Oe(R)||Ve(R)||Ne(R)||R.nodeType===z.DOCUMENT_FRAGMENT_NODE||R.nodeType===z.COMMENT_NODE||R.nodeType===z.PROCESSING_INSTRUCTION_NODE)}function Ne(R){return R&&R.nodeType===z.DOCUMENT_TYPE_NODE}function Oe(R){return R&&R.nodeType===z.ELEMENT_NODE}function Ve(R){return R&&R.nodeType===z.TEXT_NODE}function C(R,B){var Q=R.childNodes||[];if(e(Q,Oe)||Ne(B))return!1;var ue=e(Q,Ne);return!(B&&ue&&Q.indexOf(ue)>Q.indexOf(B))}function ne(R,B){var Q=R.childNodes||[];function ue(ze){return Oe(ze)&&ze!==B}if(e(Q,ue))return!1;var De=e(Q,Ne);return!(B&&De&&Q.indexOf(De)>Q.indexOf(B))}function ee(R,B,Q){if(!Te(R))throw new S(U,"Unexpected parent node type "+R.nodeType);if(Q&&Q.parentNode!==R)throw new S(P,"child not in parent");if(!Ie(B)||Ne(B)&&R.nodeType!==z.DOCUMENT_NODE)throw new S(U,"Unexpected node type "+B.nodeType+" for parent node type "+R.nodeType)}function V(R,B,Q){var ue=R.childNodes||[],De=B.childNodes||[];if(B.nodeType===z.DOCUMENT_FRAGMENT_NODE){var ze=De.filter(Oe);if(ze.length>1||e(De,Ve))throw new S(U,"More than one element or text in fragment");if(ze.length===1&&!C(R,Q))throw new S(U,"Element in fragment can not be inserted before doctype")}if(Oe(B)&&!C(R,Q))throw new S(U,"Only one element can be added and only after doctype");if(Ne(B)){if(e(ue,Ne))throw new S(U,"Only one doctype is allowed");var xt=e(ue,Oe);if(Q&&ue.indexOf(xt)<ue.indexOf(Q))throw new S(U,"Doctype can only be inserted before an element");if(!Q&&xt)throw new S(U,"Doctype can not be appended since element is present")}}function q(R,B,Q){var ue=R.childNodes||[],De=B.childNodes||[];if(B.nodeType===z.DOCUMENT_FRAGMENT_NODE){var ze=De.filter(Oe);if(ze.length>1||e(De,Ve))throw new S(U,"More than one element or text in fragment");if(ze.length===1&&!ne(R,Q))throw new S(U,"Element in fragment can not be inserted before doctype")}if(Oe(B)&&!ne(R,Q))throw new S(U,"Only one element can be added and only after doctype");if(Ne(B)){if(e(ue,function(zi){return Ne(zi)&&zi!==Q}))throw new S(U,"Only one doctype is allowed");var xt=e(ue,Oe);if(Q&&ue.indexOf(xt)<ue.indexOf(Q))throw new S(U,"Doctype can only be inserted before an element")}}function K(R,B,Q,ue){ee(R,B,Q),R.nodeType===z.DOCUMENT_NODE&&(ue||V)(R,B,Q);var De=B.parentNode;if(De&&De.removeChild(B),B.nodeType===T){var ze=B.firstChild;if(ze==null)return B;var xt=B.lastChild}else ze=xt=B;var gn=Q?Q.previousSibling:R.lastChild;ze.previousSibling=gn,xt.nextSibling=Q,gn?gn.nextSibling=ze:R.firstChild=ze,Q==null?R.lastChild=xt:Q.previousSibling=xt;do ze.parentNode=R;while(ze!==xt&&(ze=ze.nextSibling));return me(R.ownerDocument||R,R),B.nodeType==T&&(B.firstChild=B.lastChild=null),B}function pe(R,B){return B.parentNode&&B.parentNode.removeChild(B),B.parentNode=R,B.previousSibling=R.lastChild,B.nextSibling=null,B.previousSibling?B.previousSibling.nextSibling=B:R.firstChild=B,R.lastChild=B,me(R.ownerDocument,R,B),B}oe.prototype={nodeName:"#document",nodeType:D,doctype:null,documentElement:null,_inc:1,insertBefore:function(R,B){if(R.nodeType==T){for(var Q=R.firstChild;Q;){var ue=Q.nextSibling;this.insertBefore(Q,B),Q=ue}return R}return K(this,R,B),R.ownerDocument=this,this.documentElement===null&&R.nodeType===d&&(this.documentElement=R),R},removeChild:function(R){return this.documentElement==R&&(this.documentElement=null),ye(this,R)},replaceChild:function(R,B){K(this,R,B,q),R.ownerDocument=this,B&&this.removeChild(B),Oe(R)&&(this.documentElement=R)},importNode:function(R,B){return Ut(this,R,B)},getElementById:function(R){var B=null;return Z(this.documentElement,function(Q){if(Q.nodeType==d&&Q.getAttribute("id")==R)return B=Q,!0}),B},getElementsByClassName:function(R){var B=a(R);return new E(this,function(Q){var ue=[];return B.length>0&&Z(Q.documentElement,function(De){if(De!==Q&&De.nodeType===d){var ze=De.getAttribute("class");if(ze){var xt=R===ze;if(!xt){var gn=a(ze);xt=B.every(o(gn))}xt&&ue.push(De)}}}),ue})},createElement:function(R){var B=new ce;B.ownerDocument=this,B.nodeName=R,B.tagName=R,B.localName=R,B.childNodes=new N;var Q=B.attributes=new W;return Q._ownerElement=B,B},createDocumentFragment:function(){var R=new fe;return R.ownerDocument=this,R.childNodes=new N,R},createTextNode:function(R){var B=new j;return B.ownerDocument=this,B.appendData(R),B},createComment:function(R){var B=new re;return B.ownerDocument=this,B.appendData(R),B},createCDATASection:function(R){var B=new le;return B.ownerDocument=this,B.appendData(R),B},createProcessingInstruction:function(R,B){var Q=new ge;return Q.ownerDocument=this,Q.tagName=Q.nodeName=Q.target=R,Q.nodeValue=Q.data=B,Q},createAttribute:function(R){var B=new te;return B.ownerDocument=this,B.name=R,B.nodeName=R,B.localName=R,B.specified=!0,B},createEntityReference:function(R){var B=new he;return B.ownerDocument=this,B.nodeName=R,B},createElementNS:function(R,B){var Q=new ce,ue=B.split(":"),De=Q.attributes=new W;return Q.childNodes=new N,Q.ownerDocument=this,Q.nodeName=B,Q.tagName=B,Q.namespaceURI=R,ue.length==2?(Q.prefix=ue[0],Q.localName=ue[1]):Q.localName=B,De._ownerElement=Q,Q},createAttributeNS:function(R,B){var Q=new te,ue=B.split(":");return Q.ownerDocument=this,Q.nodeName=B,Q.name=B,Q.namespaceURI=R,Q.specified=!0,ue.length==2?(Q.prefix=ue[0],Q.localName=ue[1]):Q.localName=B,Q}},l(oe,z);function ce(){this._nsMap={}}ce.prototype={nodeType:d,hasAttribute:function(R){return this.getAttributeNode(R)!=null},getAttribute:function(R){var B=this.getAttributeNode(R);return B&&B.value||""},getAttributeNode:function(R){return this.attributes.getNamedItem(R)},setAttribute:function(R,B){var Q=this.ownerDocument.createAttribute(R);Q.value=Q.nodeValue=""+B,this.setAttributeNode(Q)},removeAttribute:function(R){var B=this.getAttributeNode(R);B&&this.removeAttributeNode(B)},appendChild:function(R){return R.nodeType===T?this.insertBefore(R,null):pe(this,R)},setAttributeNode:function(R){return this.attributes.setNamedItem(R)},setAttributeNodeNS:function(R){return this.attributes.setNamedItemNS(R)},removeAttributeNode:function(R){return this.attributes.removeNamedItem(R.nodeName)},removeAttributeNS:function(R,B){var Q=this.getAttributeNodeNS(R,B);Q&&this.removeAttributeNode(Q)},hasAttributeNS:function(R,B){return this.getAttributeNodeNS(R,B)!=null},getAttributeNS:function(R,B){var Q=this.getAttributeNodeNS(R,B);return Q&&Q.value||""},setAttributeNS:function(R,B,Q){var ue=this.ownerDocument.createAttributeNS(R,B);ue.value=ue.nodeValue=""+Q,this.setAttributeNode(ue)},getAttributeNodeNS:function(R,B){return this.attributes.getNamedItemNS(R,B)},getElementsByTagName:function(R){return new E(this,function(B){var Q=[];return Z(B,function(ue){ue!==B&&ue.nodeType==d&&(R==="*"||ue.tagName==R)&&Q.push(ue)}),Q})},getElementsByTagNameNS:function(R,B){return new E(this,function(Q){var ue=[];return Z(Q,function(De){De!==Q&&De.nodeType===d&&(R==="*"||De.namespaceURI===R)&&(B==="*"||De.localName==B)&&ue.push(De)}),ue})}},oe.prototype.getElementsByTagName=ce.prototype.getElementsByTagName,oe.prototype.getElementsByTagNameNS=ce.prototype.getElementsByTagNameNS,l(ce,z);function te(){}te.prototype.nodeType=h,l(te,z);function G(){}G.prototype={data:"",substringData:function(R,B){return this.data.substring(R,R+B)},appendData:function(R){R=this.data+R,this.nodeValue=this.data=R,this.length=R.length},insertData:function(R,B){this.replaceData(R,0,B)},appendChild:function(R){throw new Error(I[U])},deleteData:function(R,B){this.replaceData(R,B,"")},replaceData:function(R,B,Q){var ue=this.data.substring(0,R),De=this.data.substring(R+B);Q=ue+Q+De,this.nodeValue=this.data=Q,this.length=Q.length}},l(G,z);function j(){}j.prototype={nodeName:"#text",nodeType:p,splitText:function(R){var B=this.data,Q=B.substring(R);B=B.substring(0,R),this.data=this.nodeValue=B,this.length=B.length;var ue=this.ownerDocument.createTextNode(Q);return this.parentNode&&this.parentNode.insertBefore(ue,this.nextSibling),ue}},l(j,G);function re(){}re.prototype={nodeName:"#comment",nodeType:_},l(re,G);function le(){}le.prototype={nodeName:"#cdata-section",nodeType:y},l(le,G);function _e(){}_e.prototype.nodeType=A,l(_e,z);function Se(){}Se.prototype.nodeType=w,l(Se,z);function ie(){}ie.prototype.nodeType=b,l(ie,z);function he(){}he.prototype.nodeType=v,l(he,z);function fe(){}fe.prototype.nodeName="#document-fragment",fe.prototype.nodeType=T,l(fe,z);function ge(){}ge.prototype.nodeType=x,l(ge,z);function xe(){}xe.prototype.serializeToString=function(R,B,Q){return Ee.call(R,B,Q)},z.prototype.toString=Ee;function Ee(R,B){var Q=[],ue=this.nodeType==9&&this.documentElement||this,De=ue.prefix,ze=ue.namespaceURI;if(ze&&De==null){var De=ue.lookupPrefix(ze);if(De==null)var xt=[{namespace:ze,prefix:null}]}return Be(this,Q,R,B,xt),Q.join("")}function Ye(R,B,Q){var ue=R.prefix||"",De=R.namespaceURI;if(!De||ue==="xml"&&De===t.XML||De===t.XMLNS)return!1;for(var ze=Q.length;ze--;){var xt=Q[ze];if(xt.prefix===ue)return xt.namespace!==De}return!0}function Ue(R,B,Q){R.push(" ",B,'="',Q.replace(/[<>&"\t\n\r]/g,J),'"')}function Be(R,B,Q,ue,De){if(De||(De=[]),ue)if(R=ue(R),R){if(typeof R=="string"){B.push(R);return}}else return;switch(R.nodeType){case d:var ze=R.attributes,xt=ze.length,Qt=R.firstChild,gn=R.tagName;Q=t.isHTML(R.namespaceURI)||Q;var zi=gn;if(!Q&&!R.prefix&&R.namespaceURI){for(var Nr,Hi=0;Hi<ze.length;Hi++)if(ze.item(Hi).name==="xmlns"){Nr=ze.item(Hi).value;break}if(!Nr)for(var Cs=De.length-1;Cs>=0;Cs--){var ws=De[Cs];if(ws.prefix===""&&ws.namespace===R.namespaceURI){Nr=ws.namespace;break}}if(Nr!==R.namespaceURI)for(var Cs=De.length-1;Cs>=0;Cs--){var ws=De[Cs];if(ws.namespace===R.namespaceURI){ws.prefix&&(zi=ws.prefix+":"+gn);break}}}B.push("<",zi);for(var Es=0;Es<xt;Es++){var yi=ze.item(Es);yi.prefix=="xmlns"?De.push({prefix:yi.localName,namespace:yi.value}):yi.nodeName=="xmlns"&&De.push({prefix:"",namespace:yi.value})}for(var Es=0;Es<xt;Es++){var yi=ze.item(Es);if(Ye(yi,Q,De)){var Ss=yi.prefix||"",Ec=yi.namespaceURI;Ue(B,Ss?"xmlns:"+Ss:"xmlns",Ec),De.push({prefix:Ss,namespace:Ec})}Be(yi,B,Q,ue,De)}if(gn===zi&&Ye(R,Q,De)){var Ss=R.prefix||"",Ec=R.namespaceURI;Ue(B,Ss?"xmlns:"+Ss:"xmlns",Ec),De.push({prefix:Ss,namespace:Ec})}if(Qt||Q&&!/^(?:meta|link|img|br|hr|input)$/i.test(gn)){if(B.push(">"),Q&&/^script$/i.test(gn))for(;Qt;)Qt.data?B.push(Qt.data):Be(Qt,B,Q,ue,De.slice()),Qt=Qt.nextSibling;else for(;Qt;)Be(Qt,B,Q,ue,De.slice()),Qt=Qt.nextSibling;B.push("</",zi,">")}else B.push("/>");return;case D:case T:for(var Qt=R.firstChild;Qt;)Be(Qt,B,Q,ue,De.slice()),Qt=Qt.nextSibling;return;case h:return Ue(B,R.name,R.value);case p:return B.push(R.data.replace(/[<&>]/g,J));case y:return B.push("<![CDATA[",R.data,"]]>");case _:return B.push("<!--",R.data,"-->");case A:var dv=R.publicId,ja=R.systemId;if(B.push("<!DOCTYPE ",R.name),dv)B.push(" PUBLIC ",dv),ja&&ja!="."&&B.push(" ",ja),B.push(">");else if(ja&&ja!=".")B.push(" SYSTEM ",ja,">");else{var hv=R.internalSubset;hv&&B.push(" [",hv,"]"),B.push(">")}return;case x:return B.push("<?",R.target," ",R.data,"?>");case v:return B.push("&",R.nodeName,";");default:B.push("??",R.nodeName)}}function Ut(R,B,Q){var ue;switch(B.nodeType){case d:ue=B.cloneNode(!1),ue.ownerDocument=R;case T:break;case h:Q=!0;break}if(ue||(ue=B.cloneNode(!1)),ue.ownerDocument=R,ue.parentNode=null,Q)for(var De=B.firstChild;De;)ue.appendChild(Ut(R,De,Q)),De=De.nextSibling;return ue}function bt(R,B,Q){var ue=new B.constructor;for(var De in B)if(Object.prototype.hasOwnProperty.call(B,De)){var ze=B[De];typeof ze!="object"&&ze!=ue[De]&&(ue[De]=ze)}switch(B.childNodes&&(ue.childNodes=new N),ue.ownerDocument=R,ue.nodeType){case d:var xt=B.attributes,gn=ue.attributes=new W,zi=xt.length;gn._ownerElement=ue;for(var Nr=0;Nr<zi;Nr++)ue.setAttributeNode(bt(R,xt.item(Nr),!0));break;case h:Q=!0}if(Q)for(var Hi=B.firstChild;Hi;)ue.appendChild(bt(R,Hi,Q)),Hi=Hi.nextSibling;return ue}function mt(R,B,Q){R[B]=Q}try{if(Object.defineProperty){let R=function(B){switch(B.nodeType){case d:case T:var Q=[];for(B=B.firstChild;B;)B.nodeType!==7&&B.nodeType!==8&&Q.push(R(B)),B=B.nextSibling;return Q.join("");default:return B.nodeValue}};Object.defineProperty(E.prototype,"length",{get:function(){return X(this),this.$$length}}),Object.defineProperty(z.prototype,"textContent",{get:function(){return R(this)},set:function(B){switch(this.nodeType){case d:case T:for(;this.firstChild;)this.removeChild(this.firstChild);(B||String(B))&&this.appendChild(this.ownerDocument.createTextNode(B));break;default:this.data=B,this.value=B,this.nodeValue=B}}}),mt=function(B,Q,ue){B["$$"+Q]=ue}}}catch{}return Yi.DocumentType=_e,Yi.DOMException=S,Yi.DOMImplementation=se,Yi.Element=ce,Yi.Node=z,Yi.NodeList=N,Yi.XMLSerializer=xe,Yi}var Lc={},Kp={},h1;function SM(){return h1||(h1=1,function(s){var e=qf().freeze;s.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),s.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),s.entityMap=s.HTML_ENTITIES}(Kp)),Kp}var Cd={},f1;function UM(){if(f1)return Cd;f1=1;var s=qf().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,t=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),n=new RegExp("^"+e.source+t.source+"*(?::"+e.source+t.source+"*)?$"),i=0,r=1,a=2,o=3,c=4,l=5,u=6,d=7;function h(U,P){this.message=U,this.locator=P,Error.captureStackTrace&&Error.captureStackTrace(this,h)}h.prototype=new Error,h.prototype.name=h.name;function p(){}p.prototype={parse:function(U,P,H){var S=this.domBuilder;S.startDocument(),A(P,P={}),y(U,P,H,S,this.errorHandler),S.endDocument()}};function y(U,P,H,S,N){function E(ce){if(ce>65535){ce-=65536;var te=55296+(ce>>10),G=56320+(ce&1023);return String.fromCharCode(te,G)}else return String.fromCharCode(ce)}function X(ce){var te=ce.slice(1,-1);return Object.hasOwnProperty.call(H,te)?H[te]:te.charAt(0)==="#"?E(parseInt(te.substr(1).replace("x","0x"))):(N.error("entity not found:"+ce),ce)}function W(ce){if(ce>oe){var te=U.substring(oe,ce).replace(/&#?\w+;/g,X);z&&O(oe),S.characters(te,0,ce-oe),oe=ce}}function O(ce,te){for(;ce>=$&&(te=se.exec(U));)Y=te.index,$=Y+te[0].length,z.lineNumber++;z.columnNumber=ce-Y+1}for(var Y=0,$=0,se=/.*(?:\r\n?|\n)|.*$/g,z=S.locator,J=[{currentNSMap:P}],Z={},oe=0;;){try{var ae=U.indexOf("<",oe);if(ae<0){if(!U.substr(oe).match(/^\s*$/)){var ve=S.doc,me=ve.createTextNode(U.substr(oe));ve.appendChild(me),S.currentElement=me}return}switch(ae>oe&&W(ae),U.charAt(ae+1)){case"/":var ee=U.indexOf(">",ae+3),ye=U.substring(ae+2,ee).replace(/[ \t\n\r]+$/g,""),Te=J.pop();ee<0?(ye=U.substring(ae+2).replace(/[\s<].*/,""),N.error("end tag name: "+ye+" is not complete:"+Te.tagName),ee=ae+1+ye.length):ye.match(/\s</)&&(ye=ye.replace(/[\s<].*/,""),N.error("end tag name: "+ye+" maybe not complete"),ee=ae+1+ye.length);var Ie=Te.localNSMap,Ne=Te.tagName==ye,Oe=Ne||Te.tagName&&Te.tagName.toLowerCase()==ye.toLowerCase();if(Oe){if(S.endElement(Te.uri,Te.localName,ye),Ie)for(var Ve in Ie)Object.prototype.hasOwnProperty.call(Ie,Ve)&&S.endPrefixMapping(Ve);Ne||N.fatalError("end tag name: "+ye+" is not match the current start tagName:"+Te.tagName)}else J.push(Te);ee++;break;case"?":z&&O(ae),ee=w(U,ae,S);break;case"!":z&&O(ae),ee=T(U,ae,S,N);break;default:z&&O(ae);var C=new F,ne=J[J.length-1].currentNSMap,ee=b(U,ae,C,ne,X,N),V=C.length;if(!C.closed&&D(U,ee,C.tagName,Z)&&(C.closed=!0,H.nbsp||N.warning("unclosed xml attribute")),z&&V){for(var q=v(z,{}),K=0;K<V;K++){var pe=C[K];O(pe.offset),pe.locator=v(z,{})}S.locator=q,x(C,S,ne)&&J.push(C),S.locator=z}else x(C,S,ne)&&J.push(C);s.isHTML(C.uri)&&!C.closed?ee=_(U,ee,C.tagName,X,S):ee++}}catch(ce){if(ce instanceof h)throw ce;N.error("element parse error: "+ce),ee=-1}ee>oe?oe=ee:W(Math.max(ae,oe)+1)}}function v(U,P){return P.lineNumber=U.lineNumber,P.columnNumber=U.columnNumber,P}function b(U,P,H,S,N,E){function X(z,J,Z){H.attributeNames.hasOwnProperty(z)&&E.fatalError("Attribute "+z+" redefined"),H.addValue(z,J.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,N),Z)}for(var W,O,Y=++P,$=i;;){var se=U.charAt(Y);switch(se){case"=":if($===r)W=U.slice(P,Y),$=o;else if($===a)$=o;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if($===o||$===r)if($===r&&(E.warning('attribute value must after "="'),W=U.slice(P,Y)),P=Y+1,Y=U.indexOf(se,P),Y>0)O=U.slice(P,Y),X(W,O,P-1),$=l;else throw new Error("attribute value no end '"+se+"' match");else if($==c)O=U.slice(P,Y),X(W,O,P),E.warning('attribute "'+W+'" missed start quot('+se+")!!"),P=Y+1,$=l;else throw new Error('attribute value must after "="');break;case"/":switch($){case i:H.setTagName(U.slice(P,Y));case l:case u:case d:$=d,H.closed=!0;case c:case r:break;case a:H.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return E.error("unexpected end of input"),$==i&&H.setTagName(U.slice(P,Y)),Y;case">":switch($){case i:H.setTagName(U.slice(P,Y));case l:case u:case d:break;case c:case r:O=U.slice(P,Y),O.slice(-1)==="/"&&(H.closed=!0,O=O.slice(0,-1));case a:$===a&&(O=W),$==c?(E.warning('attribute "'+O+'" missed quot(")!'),X(W,O,P)):((!s.isHTML(S[""])||!O.match(/^(?:disabled|checked|selected)$/i))&&E.warning('attribute "'+O+'" missed value!! "'+O+'" instead!!'),X(O,O,P));break;case o:throw new Error("attribute value missed!!")}return Y;case"":se=" ";default:if(se<=" ")switch($){case i:H.setTagName(U.slice(P,Y)),$=u;break;case r:W=U.slice(P,Y),$=a;break;case c:var O=U.slice(P,Y);E.warning('attribute "'+O+'" missed quot(")!!'),X(W,O,P);case l:$=u;break}else switch($){case a:H.tagName,(!s.isHTML(S[""])||!W.match(/^(?:disabled|checked|selected)$/i))&&E.warning('attribute "'+W+'" missed value!! "'+W+'" instead2!!'),X(W,W,P),P=Y,$=r;break;case l:E.warning('attribute space is required"'+W+'"!!');case u:$=r,P=Y;break;case o:$=c,P=Y;break;case d:throw new Error("elements closed character '/' and '>' must be connected to")}}Y++}}function x(U,P,H){for(var S=U.tagName,N=null,se=U.length;se--;){var E=U[se],X=E.qName,W=E.value,z=X.indexOf(":");if(z>0)var O=E.prefix=X.slice(0,z),Y=X.slice(z+1),$=O==="xmlns"&&Y;else Y=X,O=null,$=X==="xmlns"&&"";E.localName=Y,$!==!1&&(N==null&&(N={},A(H,H={})),H[$]=N[$]=W,E.uri=s.XMLNS,P.startPrefixMapping($,W))}for(var se=U.length;se--;){E=U[se];var O=E.prefix;O&&(O==="xml"&&(E.uri=s.XML),O!=="xmlns"&&(E.uri=H[O||""]))}var z=S.indexOf(":");z>0?(O=U.prefix=S.slice(0,z),Y=U.localName=S.slice(z+1)):(O=null,Y=U.localName=S);var J=U.uri=H[O||""];if(P.startElement(J,Y,S,U),U.closed){if(P.endElement(J,Y,S),N)for(O in N)Object.prototype.hasOwnProperty.call(N,O)&&P.endPrefixMapping(O)}else return U.currentNSMap=H,U.localNSMap=N,!0}function _(U,P,H,S,N){if(/^(?:script|textarea)$/i.test(H)){var E=U.indexOf("</"+H+">",P),X=U.substring(P+1,E);if(/[&<]/.test(X))return/^script$/i.test(H)?(N.characters(X,0,X.length),E):(X=X.replace(/&#?\w+;/g,S),N.characters(X,0,X.length),E)}return P+1}function D(U,P,H,S){var N=S[H];return N==null&&(N=U.lastIndexOf("</"+H+">"),N<P&&(N=U.lastIndexOf("</"+H)),S[H]=N),N<P}function A(U,P){for(var H in U)Object.prototype.hasOwnProperty.call(U,H)&&(P[H]=U[H])}function T(U,P,H,S){var N=U.charAt(P+2);switch(N){case"-":if(U.charAt(P+3)==="-"){var E=U.indexOf("-->",P+4);return E>P?(H.comment(U,P+4,E-P-4),E+3):(S.error("Unclosed comment"),-1)}else return-1;default:if(U.substr(P+3,6)=="CDATA["){var E=U.indexOf("]]>",P+9);return H.startCDATA(),H.characters(U,P+9,E-P-9),H.endCDATA(),E+3}var X=I(U,P),W=X.length;if(W>1&&/!doctype/i.test(X[0][0])){var O=X[1][0],Y=!1,$=!1;W>3&&(/^public$/i.test(X[2][0])?(Y=X[3][0],$=W>4&&X[4][0]):/^system$/i.test(X[2][0])&&($=X[3][0]));var se=X[W-1];return H.startDTD(O,Y,$),H.endDTD(),se.index+se[0].length}}return-1}function w(U,P,H){var S=U.indexOf("?>",P);if(S){var N=U.substring(P,S).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return N?(N[0].length,H.processingInstruction(N[1],N[2]),S+2):-1}return-1}function F(){this.attributeNames={}}F.prototype={setTagName:function(U){if(!n.test(U))throw new Error("invalid tagName:"+U);this.tagName=U},addValue:function(U,P,H){if(!n.test(U))throw new Error("invalid attribute:"+U);this.attributeNames[U]=this.length,this[this.length++]={qName:U,value:P,offset:H}},length:0,getLocalName:function(U){return this[U].localName},getLocator:function(U){return this[U].locator},getQName:function(U){return this[U].qName},getURI:function(U){return this[U].uri},getValue:function(U){return this[U].value}};function I(U,P){var H,S=[],N=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(N.lastIndex=P,N.exec(U);H=N.exec(U);)if(S.push(H),H[1])return S}return Cd.XMLReader=p,Cd.ParseError=h,Cd}var p1;function FM(){if(p1)return Lc;p1=1;var s=qf(),e=iv(),t=SM(),n=UM(),i=e.DOMImplementation,r=s.NAMESPACE,a=n.ParseError,o=n.XMLReader;function c(b){return b.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function l(b){this.options=b||{locator:{}}}l.prototype.parseFromString=function(b,x){var _=this.options,D=new o,A=_.domBuilder||new d,T=_.errorHandler,w=_.locator,F=_.xmlns||{},I=/\/x?html?$/.test(x),U=I?t.HTML_ENTITIES:t.XML_ENTITIES;w&&A.setDocumentLocator(w),D.errorHandler=u(T,A,w),D.domBuilder=_.domBuilder||A,I&&(F[""]=r.HTML),F.xml=F.xml||r.XML;var P=_.normalizeLineEndings||c;return b&&typeof b=="string"?D.parse(P(b),F,U):D.errorHandler.error("invalid doc source"),A.doc};function u(b,x,_){if(!b){if(x instanceof d)return x;b=x}var D={},A=b instanceof Function;_=_||{};function T(w){var F=b[w];!F&&A&&(F=b.length==2?function(I){b(w,I)}:b),D[w]=F&&function(I){F("[xmldom "+w+"]	"+I+p(_))}||function(){}}return T("warning"),T("error"),T("fatalError"),D}function d(){this.cdata=!1}function h(b,x){x.lineNumber=b.lineNumber,x.columnNumber=b.columnNumber}d.prototype={startDocument:function(){this.doc=new i().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(b,x,_,D){var A=this.doc,T=A.createElementNS(b,_||x),w=D.length;v(this,T),this.currentElement=T,this.locator&&h(this.locator,T);for(var F=0;F<w;F++){var b=D.getURI(F),I=D.getValue(F),_=D.getQName(F),U=A.createAttributeNS(b,_);this.locator&&h(D.getLocator(F),U),U.value=U.nodeValue=I,T.setAttributeNode(U)}},endElement:function(b,x,_){var D=this.currentElement;D.tagName,this.currentElement=D.parentNode},startPrefixMapping:function(b,x){},endPrefixMapping:function(b){},processingInstruction:function(b,x){var _=this.doc.createProcessingInstruction(b,x);this.locator&&h(this.locator,_),v(this,_)},ignorableWhitespace:function(b,x,_){},characters:function(b,x,_){if(b=y.apply(this,arguments),b){if(this.cdata)var D=this.doc.createCDATASection(b);else var D=this.doc.createTextNode(b);this.currentElement?this.currentElement.appendChild(D):/^\s*$/.test(b)&&this.doc.appendChild(D),this.locator&&h(this.locator,D)}},skippedEntity:function(b){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(b){(this.locator=b)&&(b.lineNumber=0)},comment:function(b,x,_){b=y.apply(this,arguments);var D=this.doc.createComment(b);this.locator&&h(this.locator,D),v(this,D)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(b,x,_){var D=this.doc.implementation;if(D&&D.createDocumentType){var A=D.createDocumentType(b,x,_);this.locator&&h(this.locator,A),v(this,A),this.doc.doctype=A}},warning:function(b){console.warn("[xmldom warning]	"+b,p(this.locator))},error:function(b){console.error("[xmldom error]	"+b,p(this.locator))},fatalError:function(b){throw new a(b,this.locator)}};function p(b){if(b)return`
@`+(b.systemId||"")+"#[line:"+b.lineNumber+",col:"+b.columnNumber+"]"}function y(b,x,_){return typeof b=="string"?b.substr(x,_):b.length>=x+_||x?new java.lang.String(b,x,_)+"":b}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(b){d.prototype[b]=function(){return null}});function v(b,x){b.currentElement?b.currentElement.appendChild(x):b.doc.appendChild(x)}return Lc.__DOMHandler=d,Lc.normalizeLineEndings=c,Lc.DOMParser=l,Lc}var g1;function IM(){if(g1)return Pc;g1=1;var s=iv();return Pc.DOMImplementation=s.DOMImplementation,Pc.XMLSerializer=s.XMLSerializer,Pc.DOMParser=FM().DOMParser,Pc}var m1;function RM(){if(m1)return Ad;m1=1;var s=IM(),e=iv();function t(n){var i=null,r=new s.DOMParser({errorHandler:function(o,c){i={level:o,message:c}}}),a=r.parseFromString(n);if(i===null)return a;throw new Error(i.level+": "+i.message)}return Ad.parseFromString=t,Ad.Node=e.Node,Ad}var y1;function kM(){if(y1)return Yp;y1=1;var s=Ts(),e=St,t=RM(),n=LT(),i=n.Element;Yp.readString=a;var r=t.Node;function a(o,c){c=c||{};try{var l=t.parseFromString(o,"text/xml")}catch(p){return s.reject(p)}if(l.documentElement.tagName==="parsererror")return s.resolve(new Error(l.documentElement.textContent));function u(p){switch(p.nodeType){case r.ELEMENT_NODE:return d(p);case r.TEXT_NODE:return n.text(p.nodeValue)}}function d(p){var y=h(p),v=[];e.forEach(p.childNodes,function(x){var _=u(x);_&&v.push(_)});var b={};return e.forEach(p.attributes,function(x){b[h(x)]=x.value}),new i(y,b,v)}function h(p){if(p.namespaceURI){var y=c[p.namespaceURI],v;return y?v=y+":":v="{"+p.namespaceURI+"}",v+p.localName}else return p.localName}return s.resolve(u(l.documentElement))}return Yp}var Zp={},Rs={},bi={},v1;function As(){return v1||(v1=1,(function(){var s,e,t,n,i,r,a,o=[].slice,c={}.hasOwnProperty;s=function(){var l,u,d,h,p,y;if(y=arguments[0],p=2<=arguments.length?o.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(l=0,d=p.length;l<d;l++)if(h=p[l],h!=null)for(u in h)c.call(h,u)&&(y[u]=h[u]);return y},i=function(l){return!!l&&Object.prototype.toString.call(l)==="[object Function]"},r=function(l){var u;return!!l&&((u=typeof l)=="function"||u==="object")},t=function(l){return i(Array.isArray)?Array.isArray(l):Object.prototype.toString.call(l)==="[object Array]"},n=function(l){var u;if(t(l))return!l.length;for(u in l)if(c.call(l,u))return!1;return!0},a=function(l){var u,d;return r(l)&&(d=Object.getPrototypeOf(l))&&(u=d.constructor)&&typeof u=="function"&&u instanceof u&&Function.prototype.toString.call(u)===Function.prototype.toString.call(Object)},e=function(l){return i(l.valueOf)?l.valueOf():l},bi.assign=s,bi.isFunction=i,bi.isObject=r,bi.isArray=t,bi.isEmpty=n,bi.isPlainObject=a,bi.getValue=e}).call(bi)),bi}var lh={exports:{}},uh={exports:{}},dh={exports:{}},hh={exports:{}},MM=hh.exports,b1;function BT(){return b1||(b1=1,(function(){hh.exports=function(){function s(e,t,n){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,t==null)throw new Error("Missing attribute name. "+this.debugInfo(t));if(n==null)throw new Error("Missing attribute value. "+this.debugInfo(t));this.name=this.stringify.attName(t),this.value=this.stringify.attValue(n)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},s.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},s}()}).call(MM)),hh.exports}var NM=dh.exports,x1;function Vf(){return x1||(x1=1,(function(){var s,e,t,n,i,r,a=function(c,l){for(var u in l)o.call(l,u)&&(c[u]=l[u]);function d(){this.constructor=c}return d.prototype=l.prototype,c.prototype=new d,c.__super__=l.prototype,c},o={}.hasOwnProperty;r=As(),i=r.isObject,n=r.isFunction,t=r.getValue,e=wn(),s=BT(),dh.exports=function(c){a(l,c);function l(u,d,h){if(l.__super__.constructor.call(this,u),d==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(d),this.attributes={},h!=null&&this.attribute(h),u.isDocument&&(this.isRoot=!0,this.documentObject=u,u.rootObject=this)}return l.prototype.clone=function(){var u,d,h,p;h=Object.create(this),h.isRoot&&(h.documentObject=null),h.attributes={},p=this.attributes;for(d in p)o.call(p,d)&&(u=p[d],h.attributes[d]=u.clone());return h.children=[],this.children.forEach(function(y){var v;return v=y.clone(),v.parent=h,h.children.push(v)}),h},l.prototype.attribute=function(u,d){var h,p;if(u!=null&&(u=t(u)),i(u))for(h in u)o.call(u,h)&&(p=u[h],this.attribute(h,p));else n(d)&&(d=d.apply()),(!this.options.skipNullAttributes||d!=null)&&(this.attributes[u]=new s(this,u,d));return this},l.prototype.removeAttribute=function(u){var d,h,p;if(u==null)throw new Error("Missing attribute name. "+this.debugInfo());if(u=t(u),Array.isArray(u))for(h=0,p=u.length;h<p;h++)d=u[h],delete this.attributes[d];else delete this.attributes[u];return this},l.prototype.toString=function(u){return this.options.writer.set(u).element(this)},l.prototype.att=function(u,d){return this.attribute(u,d)},l.prototype.a=function(u,d){return this.attribute(u,d)},l}(e)}).call(NM)),dh.exports}var fh={exports:{}},PM=fh.exports,_1;function zf(){return _1||(_1=1,(function(){var s,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function a(){this.constructor=n}return a.prototype=i.prototype,n.prototype=new a,n.__super__=i.prototype,n},t={}.hasOwnProperty;s=wn(),fh.exports=function(n){e(i,n);function i(r,a){if(i.__super__.constructor.call(this,r),a==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(r){return this.options.writer.set(r).cdata(this)},i}(s)}).call(PM)),fh.exports}var ph={exports:{}},LM=ph.exports,D1;function Hf(){return D1||(D1=1,(function(){var s,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function a(){this.constructor=n}return a.prototype=i.prototype,n.prototype=new a,n.__super__=i.prototype,n},t={}.hasOwnProperty;s=wn(),ph.exports=function(n){e(i,n);function i(r,a){if(i.__super__.constructor.call(this,r),a==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(r){return this.options.writer.set(r).comment(this)},i}(s)}).call(LM)),ph.exports}var gh={exports:{}},BM=gh.exports,T1;function Gf(){return T1||(T1=1,(function(){var s,e,t=function(i,r){for(var a in r)n.call(r,a)&&(i[a]=r[a]);function o(){this.constructor=i}return o.prototype=r.prototype,i.prototype=new o,i.__super__=r.prototype,i},n={}.hasOwnProperty;e=As().isObject,s=wn(),gh.exports=function(i){t(r,i);function r(a,o,c,l){var u;r.__super__.constructor.call(this,a),e(o)&&(u=o,o=u.version,c=u.encoding,l=u.standalone),o||(o="1.0"),this.version=this.stringify.xmlVersion(o),c!=null&&(this.encoding=this.stringify.xmlEncoding(c)),l!=null&&(this.standalone=this.stringify.xmlStandalone(l))}return r.prototype.toString=function(a){return this.options.writer.set(a).declaration(this)},r}(s)}).call(BM)),gh.exports}var mh={exports:{}},yh={exports:{}},OM=yh.exports,A1;function $f(){return A1||(A1=1,(function(){var s,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function a(){this.constructor=n}return a.prototype=i.prototype,n.prototype=new a,n.__super__=i.prototype,n},t={}.hasOwnProperty;s=wn(),yh.exports=function(n){e(i,n);function i(r,a,o,c,l,u){if(i.__super__.constructor.call(this,r),a==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(o==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(a));if(!c)throw new Error("Missing DTD attribute type. "+this.debugInfo(a));if(!l)throw new Error("Missing DTD attribute default. "+this.debugInfo(a));if(l.indexOf("#")!==0&&(l="#"+l),!l.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(a));if(u&&!l.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(a));this.elementName=this.stringify.eleName(a),this.attributeName=this.stringify.attName(o),this.attributeType=this.stringify.dtdAttType(c),this.defaultValue=this.stringify.dtdAttDefault(u),this.defaultValueType=l}return i.prototype.toString=function(r){return this.options.writer.set(r).dtdAttList(this)},i}(s)}).call(OM)),yh.exports}var vh={exports:{}},WM=vh.exports,C1;function Xf(){return C1||(C1=1,(function(){var s,e,t=function(i,r){for(var a in r)n.call(r,a)&&(i[a]=r[a]);function o(){this.constructor=i}return o.prototype=r.prototype,i.prototype=new o,i.__super__=r.prototype,i},n={}.hasOwnProperty;e=As().isObject,s=wn(),vh.exports=function(i){t(r,i);function r(a,o,c,l){if(r.__super__.constructor.call(this,a),c==null)throw new Error("Missing DTD entity name. "+this.debugInfo(c));if(l==null)throw new Error("Missing DTD entity value. "+this.debugInfo(c));if(this.pe=!!o,this.name=this.stringify.eleName(c),!e(l))this.value=this.stringify.dtdEntityValue(l);else{if(!l.pubID&&!l.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(c));if(l.pubID&&!l.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(c));if(l.pubID!=null&&(this.pubID=this.stringify.dtdPubID(l.pubID)),l.sysID!=null&&(this.sysID=this.stringify.dtdSysID(l.sysID)),l.nData!=null&&(this.nData=this.stringify.dtdNData(l.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(c))}}return r.prototype.toString=function(a){return this.options.writer.set(a).dtdEntity(this)},r}(s)}).call(WM)),vh.exports}var bh={exports:{}},qM=bh.exports,w1;function Yf(){return w1||(w1=1,(function(){var s,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function a(){this.constructor=n}return a.prototype=i.prototype,n.prototype=new a,n.__super__=i.prototype,n},t={}.hasOwnProperty;s=wn(),bh.exports=function(n){e(i,n);function i(r,a,o){if(i.__super__.constructor.call(this,r),a==null)throw new Error("Missing DTD element name. "+this.debugInfo());o||(o="(#PCDATA)"),Array.isArray(o)&&(o="("+o.join(",")+")"),this.name=this.stringify.eleName(a),this.value=this.stringify.dtdElementValue(o)}return i.prototype.toString=function(r){return this.options.writer.set(r).dtdElement(this)},i}(s)}).call(qM)),bh.exports}var xh={exports:{}},VM=xh.exports,E1;function Kf(){return E1||(E1=1,(function(){var s,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function a(){this.constructor=n}return a.prototype=i.prototype,n.prototype=new a,n.__super__=i.prototype,n},t={}.hasOwnProperty;s=wn(),xh.exports=function(n){e(i,n);function i(r,a,o){if(i.__super__.constructor.call(this,r),a==null)throw new Error("Missing DTD notation name. "+this.debugInfo(a));if(!o.pubID&&!o.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(a));this.name=this.stringify.eleName(a),o.pubID!=null&&(this.pubID=this.stringify.dtdPubID(o.pubID)),o.sysID!=null&&(this.sysID=this.stringify.dtdSysID(o.sysID))}return i.prototype.toString=function(r){return this.options.writer.set(r).dtdNotation(this)},i}(s)}).call(VM)),xh.exports}var zM=mh.exports,S1;function Zf(){return S1||(S1=1,(function(){var s,e,t,n,i,r,a=function(c,l){for(var u in l)o.call(l,u)&&(c[u]=l[u]);function d(){this.constructor=c}return d.prototype=l.prototype,c.prototype=new d,c.__super__=l.prototype,c},o={}.hasOwnProperty;r=As().isObject,i=wn(),s=$f(),t=Xf(),e=Yf(),n=Kf(),mh.exports=function(c){a(l,c);function l(u,d,h){var p,y;l.__super__.constructor.call(this,u),this.name="!DOCTYPE",this.documentObject=u,r(d)&&(p=d,d=p.pubID,h=p.sysID),h==null&&(y=[d,h],h=y[0],d=y[1]),d!=null&&(this.pubID=this.stringify.dtdPubID(d)),h!=null&&(this.sysID=this.stringify.dtdSysID(h))}return l.prototype.element=function(u,d){var h;return h=new e(this,u,d),this.children.push(h),this},l.prototype.attList=function(u,d,h,p,y){var v;return v=new s(this,u,d,h,p,y),this.children.push(v),this},l.prototype.entity=function(u,d){var h;return h=new t(this,!1,u,d),this.children.push(h),this},l.prototype.pEntity=function(u,d){var h;return h=new t(this,!0,u,d),this.children.push(h),this},l.prototype.notation=function(u,d){var h;return h=new n(this,u,d),this.children.push(h),this},l.prototype.toString=function(u){return this.options.writer.set(u).docType(this)},l.prototype.ele=function(u,d){return this.element(u,d)},l.prototype.att=function(u,d,h,p,y){return this.attList(u,d,h,p,y)},l.prototype.ent=function(u,d){return this.entity(u,d)},l.prototype.pent=function(u,d){return this.pEntity(u,d)},l.prototype.not=function(u,d){return this.notation(u,d)},l.prototype.up=function(){return this.root()||this.documentObject},l}(i)}).call(zM)),mh.exports}var _h={exports:{}},HM=_h.exports,U1;function Jf(){return U1||(U1=1,(function(){var s,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function a(){this.constructor=n}return a.prototype=i.prototype,n.prototype=new a,n.__super__=i.prototype,n},t={}.hasOwnProperty;s=wn(),_h.exports=function(n){e(i,n);function i(r,a){if(i.__super__.constructor.call(this,r),a==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(r){return this.options.writer.set(r).raw(this)},i}(s)}).call(HM)),_h.exports}var Dh={exports:{}},GM=Dh.exports,F1;function Qf(){return F1||(F1=1,(function(){var s,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function a(){this.constructor=n}return a.prototype=i.prototype,n.prototype=new a,n.__super__=i.prototype,n},t={}.hasOwnProperty;s=wn(),Dh.exports=function(n){e(i,n);function i(r,a){if(i.__super__.constructor.call(this,r),a==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(r){return this.options.writer.set(r).text(this)},i}(s)}).call(GM)),Dh.exports}var Th={exports:{}},$M=Th.exports,I1;function jf(){return I1||(I1=1,(function(){var s,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function a(){this.constructor=n}return a.prototype=i.prototype,n.prototype=new a,n.__super__=i.prototype,n},t={}.hasOwnProperty;s=wn(),Th.exports=function(n){e(i,n);function i(r,a,o){if(i.__super__.constructor.call(this,r),a==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(a),o&&(this.value=this.stringify.insValue(o))}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(r){return this.options.writer.set(r).processingInstruction(this)},i}(s)}).call($M)),Th.exports}var Ah={exports:{}},XM=Ah.exports,R1;function rv(){return R1||(R1=1,(function(){var s,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function a(){this.constructor=n}return a.prototype=i.prototype,n.prototype=new a,n.__super__=i.prototype,n},t={}.hasOwnProperty;s=wn(),Ah.exports=function(n){e(i,n);function i(r){i.__super__.constructor.call(this,r),this.isDummy=!0}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(r){return""},i}(s)}).call(XM)),Ah.exports}var YM=uh.exports,k1;function wn(){return k1||(k1=1,(function(){var s,e,t,n,i,r,a,o,c,l,u,d,h,p,y={}.hasOwnProperty;p=As(),h=p.isObject,d=p.isFunction,u=p.isEmpty,l=p.getValue,r=null,s=null,e=null,t=null,n=null,o=null,c=null,a=null,i=null,uh.exports=function(){function v(b){this.parent=b,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],r||(r=Vf(),s=zf(),e=Hf(),t=Gf(),n=Zf(),o=Jf(),c=Qf(),a=jf(),i=rv())}return v.prototype.element=function(b,x,_){var D,A,T,w,F,I,U,P,H,S,N;if(I=null,x===null&&_==null&&(H=[{},null],x=H[0],_=H[1]),x==null&&(x={}),x=l(x),h(x)||(S=[x,_],_=S[0],x=S[1]),b!=null&&(b=l(b)),Array.isArray(b))for(T=0,U=b.length;T<U;T++)A=b[T],I=this.element(A);else if(d(b))I=this.element(b.apply());else if(h(b)){for(F in b)if(y.call(b,F))if(N=b[F],d(N)&&(N=N.apply()),h(N)&&u(N)&&(N=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&F.indexOf(this.stringify.convertAttKey)===0)I=this.attribute(F.substr(this.stringify.convertAttKey.length),N);else if(!this.options.separateArrayItems&&Array.isArray(N))for(w=0,P=N.length;w<P;w++)A=N[w],D={},D[F]=A,I=this.element(D);else h(N)?(I=this.element(F),I.element(N)):I=this.element(F,N)}else this.options.skipNullNodes&&_===null?I=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&b.indexOf(this.stringify.convertTextKey)===0?I=this.text(_):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&b.indexOf(this.stringify.convertCDataKey)===0?I=this.cdata(_):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&b.indexOf(this.stringify.convertCommentKey)===0?I=this.comment(_):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&b.indexOf(this.stringify.convertRawKey)===0?I=this.raw(_):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&b.indexOf(this.stringify.convertPIKey)===0?I=this.instruction(b.substr(this.stringify.convertPIKey.length),_):I=this.node(b,x,_);if(I==null)throw new Error("Could not create any elements with: "+b+". "+this.debugInfo());return I},v.prototype.insertBefore=function(b,x,_){var D,A,T;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(b));return A=this.parent.children.indexOf(this),T=this.parent.children.splice(A),D=this.parent.element(b,x,_),Array.prototype.push.apply(this.parent.children,T),D},v.prototype.insertAfter=function(b,x,_){var D,A,T;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(b));return A=this.parent.children.indexOf(this),T=this.parent.children.splice(A+1),D=this.parent.element(b,x,_),Array.prototype.push.apply(this.parent.children,T),D},v.prototype.remove=function(){var b;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return b=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[b,b-b+1].concat([])),this.parent},v.prototype.node=function(b,x,_){var D,A;return b!=null&&(b=l(b)),x||(x={}),x=l(x),h(x)||(A=[x,_],_=A[0],x=A[1]),D=new r(this,b,x),_!=null&&D.text(_),this.children.push(D),D},v.prototype.text=function(b){var x;return x=new c(this,b),this.children.push(x),this},v.prototype.cdata=function(b){var x;return x=new s(this,b),this.children.push(x),this},v.prototype.comment=function(b){var x;return x=new e(this,b),this.children.push(x),this},v.prototype.commentBefore=function(b){var x,_;return x=this.parent.children.indexOf(this),_=this.parent.children.splice(x),this.parent.comment(b),Array.prototype.push.apply(this.parent.children,_),this},v.prototype.commentAfter=function(b){var x,_;return x=this.parent.children.indexOf(this),_=this.parent.children.splice(x+1),this.parent.comment(b),Array.prototype.push.apply(this.parent.children,_),this},v.prototype.raw=function(b){var x;return x=new o(this,b),this.children.push(x),this},v.prototype.dummy=function(){var b;return b=new i(this),this.children.push(b),b},v.prototype.instruction=function(b,x){var _,D,A,T,w;if(b!=null&&(b=l(b)),x!=null&&(x=l(x)),Array.isArray(b))for(T=0,w=b.length;T<w;T++)_=b[T],this.instruction(_);else if(h(b))for(_ in b)y.call(b,_)&&(D=b[_],this.instruction(_,D));else d(x)&&(x=x.apply()),A=new a(this,b,x),this.children.push(A);return this},v.prototype.instructionBefore=function(b,x){var _,D;return _=this.parent.children.indexOf(this),D=this.parent.children.splice(_),this.parent.instruction(b,x),Array.prototype.push.apply(this.parent.children,D),this},v.prototype.instructionAfter=function(b,x){var _,D;return _=this.parent.children.indexOf(this),D=this.parent.children.splice(_+1),this.parent.instruction(b,x),Array.prototype.push.apply(this.parent.children,D),this},v.prototype.declaration=function(b,x,_){var D,A;return D=this.document(),A=new t(D,b,x,_),D.children[0]instanceof t?D.children[0]=A:D.children.unshift(A),D.root()||D},v.prototype.doctype=function(b,x){var _,D,A,T,w,F,I,U,P,H;for(D=this.document(),A=new n(D,b,x),P=D.children,T=w=0,I=P.length;w<I;T=++w)if(_=P[T],_ instanceof n)return D.children[T]=A,A;for(H=D.children,T=F=0,U=H.length;F<U;T=++F)if(_=H[T],_.isRoot)return D.children.splice(T,0,A),A;return D.children.push(A),A},v.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},v.prototype.root=function(){var b;for(b=this;b;){if(b.isDocument)return b.rootObject;if(b.isRoot)return b;b=b.parent}},v.prototype.document=function(){var b;for(b=this;b;){if(b.isDocument)return b;b=b.parent}},v.prototype.end=function(b){return this.document().end(b)},v.prototype.prev=function(){var b;for(b=this.parent.children.indexOf(this);b>0&&this.parent.children[b-1].isDummy;)b=b-1;if(b<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[b-1]},v.prototype.next=function(){var b;for(b=this.parent.children.indexOf(this);b<this.parent.children.length-1&&this.parent.children[b+1].isDummy;)b=b+1;if(b===-1||b===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[b+1]},v.prototype.importDocument=function(b){var x;return x=b.root().clone(),x.parent=this,x.isRoot=!1,this.children.push(x),this},v.prototype.debugInfo=function(b){var x,_;return b=b||this.name,b==null&&!((x=this.parent)!=null&&x.name)?"":b==null?"parent: <"+this.parent.name+">":(_=this.parent)!=null&&_.name?"node: <"+b+">, parent: <"+this.parent.name+">":"node: <"+b+">"},v.prototype.ele=function(b,x,_){return this.element(b,x,_)},v.prototype.nod=function(b,x,_){return this.node(b,x,_)},v.prototype.txt=function(b){return this.text(b)},v.prototype.dat=function(b){return this.cdata(b)},v.prototype.com=function(b){return this.comment(b)},v.prototype.ins=function(b,x){return this.instruction(b,x)},v.prototype.doc=function(){return this.document()},v.prototype.dec=function(b,x,_){return this.declaration(b,x,_)},v.prototype.dtd=function(b,x){return this.doctype(b,x)},v.prototype.e=function(b,x,_){return this.element(b,x,_)},v.prototype.n=function(b,x,_){return this.node(b,x,_)},v.prototype.t=function(b){return this.text(b)},v.prototype.d=function(b){return this.cdata(b)},v.prototype.c=function(b){return this.comment(b)},v.prototype.r=function(b){return this.raw(b)},v.prototype.i=function(b,x){return this.instruction(b,x)},v.prototype.u=function(){return this.up()},v.prototype.importXMLBuilder=function(b){return this.importDocument(b)},v}()}).call(YM)),uh.exports}var Ch={exports:{}},KM=Ch.exports,M1;function OT(){return M1||(M1=1,(function(){var s=function(t,n){return function(){return t.apply(n,arguments)}},e={}.hasOwnProperty;Ch.exports=function(){function t(n){this.assertLegalChar=s(this.assertLegalChar,this);var i,r,a;n||(n={}),this.noDoubleEncoding=n.noDoubleEncoding,r=n.stringify||{};for(i in r)e.call(r,i)&&(a=r[i],this[i]=a)}return t.prototype.eleName=function(n){return n=""+n||"",this.assertLegalChar(n)},t.prototype.eleText=function(n){return n=""+n||"",this.assertLegalChar(this.elEscape(n))},t.prototype.cdata=function(n){return n=""+n||"",n=n.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(n)},t.prototype.comment=function(n){if(n=""+n||"",n.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+n);return this.assertLegalChar(n)},t.prototype.raw=function(n){return""+n||""},t.prototype.attName=function(n){return n=""+n||""},t.prototype.attValue=function(n){return n=""+n||"",this.attEscape(n)},t.prototype.insTarget=function(n){return""+n||""},t.prototype.insValue=function(n){if(n=""+n||"",n.match(/\?>/))throw new Error("Invalid processing instruction value: "+n);return n},t.prototype.xmlVersion=function(n){if(n=""+n||"",!n.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+n);return n},t.prototype.xmlEncoding=function(n){if(n=""+n||"",!n.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+n);return n},t.prototype.xmlStandalone=function(n){return n?"yes":"no"},t.prototype.dtdPubID=function(n){return""+n||""},t.prototype.dtdSysID=function(n){return""+n||""},t.prototype.dtdElementValue=function(n){return""+n||""},t.prototype.dtdAttType=function(n){return""+n||""},t.prototype.dtdAttDefault=function(n){return n!=null?""+n||"":n},t.prototype.dtdEntityValue=function(n){return""+n||""},t.prototype.dtdNData=function(n){return""+n||""},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(n){var i;if(i=n.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),i)throw new Error("Invalid character in string: "+n+" at index "+i.index);return n},t.prototype.elEscape=function(n){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(i,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},t.prototype.attEscape=function(n){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(i,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},t}()}).call(KM)),Ch.exports}var wh={exports:{}},Eh={exports:{}},ZM=Eh.exports,N1;function WT(){return N1||(N1=1,(function(){var s={}.hasOwnProperty;Eh.exports=function(){function e(t){var n,i,r,a,o,c,l,u,d;t||(t={}),this.pretty=t.pretty||!1,this.allowEmpty=(i=t.allowEmpty)!=null?i:!1,this.pretty?(this.indent=(r=t.indent)!=null?r:"  ",this.newline=(a=t.newline)!=null?a:`
`,this.offset=(o=t.offset)!=null?o:0,this.dontprettytextnodes=(c=t.dontprettytextnodes)!=null?c:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(l=t.spacebeforeslash)!=null?l:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,u=t.writer||{};for(n in u)s.call(u,n)&&(d=u[n],this[n]=d)}return e.prototype.set=function(t){var n,i,r;t||(t={}),"pretty"in t&&(this.pretty=t.pretty),"allowEmpty"in t&&(this.allowEmpty=t.allowEmpty),this.pretty?(this.indent="indent"in t?t.indent:"  ",this.newline="newline"in t?t.newline:`
`,this.offset="offset"in t?t.offset:0,this.dontprettytextnodes="dontprettytextnodes"in t?t.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in t?t.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,i=t.writer||{};for(n in i)s.call(i,n)&&(r=i[n],this[n]=r);return this},e.prototype.space=function(t){var n;return this.pretty?(n=(t||0)+this.offset+1,n>0?new Array(n).join(this.indent):""):""},e}()}).call(ZM)),Eh.exports}var JM=wh.exports,P1;function sv(){return P1||(P1=1,(function(){var s,e,t,n,i,r,a,o,c,l,u,d,h,p,y=function(b,x){for(var _ in x)v.call(x,_)&&(b[_]=x[_]);function D(){this.constructor=b}return D.prototype=x.prototype,b.prototype=new D,b.__super__=x.prototype,b},v={}.hasOwnProperty;a=Gf(),o=Zf(),s=zf(),e=Hf(),l=Vf(),d=Jf(),h=Qf(),u=jf(),c=rv(),t=$f(),n=Yf(),i=Xf(),r=Kf(),p=WT(),wh.exports=function(b){y(x,b);function x(_){x.__super__.constructor.call(this,_)}return x.prototype.document=function(_){var D,A,T,w,F;for(this.textispresent=!1,w="",F=_.children,A=0,T=F.length;A<T;A++)D=F[A],!(D instanceof c)&&(w+=(function(){switch(!1){case!(D instanceof a):return this.declaration(D);case!(D instanceof o):return this.docType(D);case!(D instanceof e):return this.comment(D);case!(D instanceof u):return this.processingInstruction(D);default:return this.element(D,0)}}).call(this));return this.pretty&&w.slice(-this.newline.length)===this.newline&&(w=w.slice(0,-this.newline.length)),w},x.prototype.attribute=function(_){return" "+_.name+'="'+_.value+'"'},x.prototype.cdata=function(_,D){return this.space(D)+"<![CDATA["+_.text+"]]>"+this.newline},x.prototype.comment=function(_,D){return this.space(D)+"<!-- "+_.text+" -->"+this.newline},x.prototype.declaration=function(_,D){var A;return A=this.space(D),A+='<?xml version="'+_.version+'"',_.encoding!=null&&(A+=' encoding="'+_.encoding+'"'),_.standalone!=null&&(A+=' standalone="'+_.standalone+'"'),A+=this.spacebeforeslash+"?>",A+=this.newline,A},x.prototype.docType=function(_,D){var A,T,w,F,I;if(D||(D=0),F=this.space(D),F+="<!DOCTYPE "+_.root().name,_.pubID&&_.sysID?F+=' PUBLIC "'+_.pubID+'" "'+_.sysID+'"':_.sysID&&(F+=' SYSTEM "'+_.sysID+'"'),_.children.length>0){for(F+=" [",F+=this.newline,I=_.children,T=0,w=I.length;T<w;T++)A=I[T],F+=(function(){switch(!1){case!(A instanceof t):return this.dtdAttList(A,D+1);case!(A instanceof n):return this.dtdElement(A,D+1);case!(A instanceof i):return this.dtdEntity(A,D+1);case!(A instanceof r):return this.dtdNotation(A,D+1);case!(A instanceof s):return this.cdata(A,D+1);case!(A instanceof e):return this.comment(A,D+1);case!(A instanceof u):return this.processingInstruction(A,D+1);default:throw new Error("Unknown DTD node type: "+A.constructor.name)}}).call(this);F+="]"}return F+=this.spacebeforeslash+">",F+=this.newline,F},x.prototype.element=function(_,D){var A,T,w,F,I,U,P,H,S,N,E,X,W;D||(D=0),W=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),X=this.space(D),H="",H+=X+"<"+_.name,S=_.attributes;for(P in S)v.call(S,P)&&(A=S[P],H+=this.attribute(A));if(_.children.length===0||_.children.every(function(O){return O.value===""}))this.allowEmpty?H+="></"+_.name+">"+this.newline:H+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&_.children.length===1&&_.children[0].value!=null)H+=">",H+=_.children[0].value,H+="</"+_.name+">"+this.newline;else{if(this.dontprettytextnodes){for(N=_.children,w=0,I=N.length;w<I;w++)if(T=N[w],T.value!=null){this.textispresent++,W=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,X=this.space(D)),H+=">"+this.newline,E=_.children,F=0,U=E.length;F<U;F++)T=E[F],H+=(function(){switch(!1){case!(T instanceof s):return this.cdata(T,D+1);case!(T instanceof e):return this.comment(T,D+1);case!(T instanceof l):return this.element(T,D+1);case!(T instanceof d):return this.raw(T,D+1);case!(T instanceof h):return this.text(T,D+1);case!(T instanceof u):return this.processingInstruction(T,D+1);case!(T instanceof c):return"";default:throw new Error("Unknown XML node type: "+T.constructor.name)}}).call(this);W&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),H+=X+"</"+_.name+">"+this.newline}return H},x.prototype.processingInstruction=function(_,D){var A;return A=this.space(D)+"<?"+_.target,_.value&&(A+=" "+_.value),A+=this.spacebeforeslash+"?>"+this.newline,A},x.prototype.raw=function(_,D){return this.space(D)+_.value+this.newline},x.prototype.text=function(_,D){return this.space(D)+_.value+this.newline},x.prototype.dtdAttList=function(_,D){var A;return A=this.space(D)+"<!ATTLIST "+_.elementName+" "+_.attributeName+" "+_.attributeType,_.defaultValueType!=="#DEFAULT"&&(A+=" "+_.defaultValueType),_.defaultValue&&(A+=' "'+_.defaultValue+'"'),A+=this.spacebeforeslash+">"+this.newline,A},x.prototype.dtdElement=function(_,D){return this.space(D)+"<!ELEMENT "+_.name+" "+_.value+this.spacebeforeslash+">"+this.newline},x.prototype.dtdEntity=function(_,D){var A;return A=this.space(D)+"<!ENTITY",_.pe&&(A+=" %"),A+=" "+_.name,_.value?A+=' "'+_.value+'"':(_.pubID&&_.sysID?A+=' PUBLIC "'+_.pubID+'" "'+_.sysID+'"':_.sysID&&(A+=' SYSTEM "'+_.sysID+'"'),_.nData&&(A+=" NDATA "+_.nData)),A+=this.spacebeforeslash+">"+this.newline,A},x.prototype.dtdNotation=function(_,D){var A;return A=this.space(D)+"<!NOTATION "+_.name,_.pubID&&_.sysID?A+=' PUBLIC "'+_.pubID+'" "'+_.sysID+'"':_.pubID?A+=' PUBLIC "'+_.pubID+'"':_.sysID&&(A+=' SYSTEM "'+_.sysID+'"'),A+=this.spacebeforeslash+">"+this.newline,A},x.prototype.openNode=function(_,D){var A,T,w,F;if(D||(D=0),_ instanceof l){w=this.space(D)+"<"+_.name,F=_.attributes;for(T in F)v.call(F,T)&&(A=F[T],w+=this.attribute(A));return w+=(_.children?">":"/>")+this.newline,w}else return w=this.space(D)+"<!DOCTYPE "+_.rootNodeName,_.pubID&&_.sysID?w+=' PUBLIC "'+_.pubID+'" "'+_.sysID+'"':_.sysID&&(w+=' SYSTEM "'+_.sysID+'"'),w+=(_.children?" [":">")+this.newline,w},x.prototype.closeNode=function(_,D){switch(D||(D=0),!1){case!(_ instanceof l):return this.space(D)+"</"+_.name+">"+this.newline;case!(_ instanceof o):return this.space(D)+"]>"+this.newline}},x}(p)}).call(JM)),wh.exports}var QM=lh.exports,L1;function jM(){return L1||(L1=1,(function(){var s,e,t,n,i=function(a,o){for(var c in o)r.call(o,c)&&(a[c]=o[c]);function l(){this.constructor=a}return l.prototype=o.prototype,a.prototype=new l,a.__super__=o.prototype,a},r={}.hasOwnProperty;n=As().isPlainObject,s=wn(),t=OT(),e=sv(),lh.exports=function(a){i(o,a);function o(c){o.__super__.constructor.call(this,null),this.name="?xml",c||(c={}),c.writer||(c.writer=new e),this.options=c,this.stringify=new t(c),this.isDocument=!0}return o.prototype.end=function(c){var l;return c?n(c)&&(l=c,c=this.options.writer.set(l)):c=this.options.writer,c.document(this)},o.prototype.toString=function(c){return this.options.writer.set(c).document(this)},o}(s)}).call(QM)),lh.exports}var Sh={exports:{}},eN=Sh.exports,B1;function tN(){return B1||(B1=1,(function(){var s,e,t,n,i,r,a,o,c,l,u,d,h,p,y,v,b,x,_,D,A={}.hasOwnProperty;D=As(),x=D.isObject,b=D.isFunction,_=D.isPlainObject,v=D.getValue,l=Vf(),e=zf(),t=Hf(),d=Jf(),y=Qf(),u=jf(),o=Gf(),c=Zf(),n=$f(),r=Xf(),i=Yf(),a=Kf(),s=BT(),p=OT(),h=sv(),Sh.exports=function(){function T(w,F,I){var U;this.name="?xml",w||(w={}),w.writer?_(w.writer)&&(U=w.writer,w.writer=new h(U)):w.writer=new h(w),this.options=w,this.writer=w.writer,this.stringify=new p(w),this.onDataCallback=F||function(){},this.onEndCallback=I||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return T.prototype.node=function(w,F,I){var U,P;if(w==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(w));return this.openCurrent(),w=v(w),F===null&&I==null&&(U=[{},null],F=U[0],I=U[1]),F==null&&(F={}),F=v(F),x(F)||(P=[F,I],I=P[0],F=P[1]),this.currentNode=new l(this,w,F),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,I!=null&&this.text(I),this},T.prototype.element=function(w,F,I){return this.currentNode&&this.currentNode instanceof c?this.dtdElement.apply(this,arguments):this.node(w,F,I)},T.prototype.attribute=function(w,F){var I,U;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(w));if(w!=null&&(w=v(w)),x(w))for(I in w)A.call(w,I)&&(U=w[I],this.attribute(I,U));else b(F)&&(F=F.apply()),(!this.options.skipNullAttributes||F!=null)&&(this.currentNode.attributes[w]=new s(this,w,F));return this},T.prototype.text=function(w){var F;return this.openCurrent(),F=new y(this,w),this.onData(this.writer.text(F,this.currentLevel+1),this.currentLevel+1),this},T.prototype.cdata=function(w){var F;return this.openCurrent(),F=new e(this,w),this.onData(this.writer.cdata(F,this.currentLevel+1),this.currentLevel+1),this},T.prototype.comment=function(w){var F;return this.openCurrent(),F=new t(this,w),this.onData(this.writer.comment(F,this.currentLevel+1),this.currentLevel+1),this},T.prototype.raw=function(w){var F;return this.openCurrent(),F=new d(this,w),this.onData(this.writer.raw(F,this.currentLevel+1),this.currentLevel+1),this},T.prototype.instruction=function(w,F){var I,U,P,H,S;if(this.openCurrent(),w!=null&&(w=v(w)),F!=null&&(F=v(F)),Array.isArray(w))for(I=0,H=w.length;I<H;I++)U=w[I],this.instruction(U);else if(x(w))for(U in w)A.call(w,U)&&(P=w[U],this.instruction(U,P));else b(F)&&(F=F.apply()),S=new u(this,w,F),this.onData(this.writer.processingInstruction(S,this.currentLevel+1),this.currentLevel+1);return this},T.prototype.declaration=function(w,F,I){var U;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return U=new o(this,w,F,I),this.onData(this.writer.declaration(U,this.currentLevel+1),this.currentLevel+1),this},T.prototype.doctype=function(w,F,I){if(this.openCurrent(),w==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new c(this,F,I),this.currentNode.rootNodeName=w,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},T.prototype.dtdElement=function(w,F){var I;return this.openCurrent(),I=new i(this,w,F),this.onData(this.writer.dtdElement(I,this.currentLevel+1),this.currentLevel+1),this},T.prototype.attList=function(w,F,I,U,P){var H;return this.openCurrent(),H=new n(this,w,F,I,U,P),this.onData(this.writer.dtdAttList(H,this.currentLevel+1),this.currentLevel+1),this},T.prototype.entity=function(w,F){var I;return this.openCurrent(),I=new r(this,!1,w,F),this.onData(this.writer.dtdEntity(I,this.currentLevel+1),this.currentLevel+1),this},T.prototype.pEntity=function(w,F){var I;return this.openCurrent(),I=new r(this,!0,w,F),this.onData(this.writer.dtdEntity(I,this.currentLevel+1),this.currentLevel+1),this},T.prototype.notation=function(w,F){var I;return this.openCurrent(),I=new a(this,w,F),this.onData(this.writer.dtdNotation(I,this.currentLevel+1),this.currentLevel+1),this},T.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},T.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},T.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},T.prototype.openNode=function(w){if(!w.isOpen)return!this.root&&this.currentLevel===0&&w instanceof l&&(this.root=w),this.onData(this.writer.openNode(w,this.currentLevel),this.currentLevel),w.isOpen=!0},T.prototype.closeNode=function(w){if(!w.isClosed)return this.onData(this.writer.closeNode(w,this.currentLevel),this.currentLevel),w.isClosed=!0},T.prototype.onData=function(w,F){return this.documentStarted=!0,this.onDataCallback(w,F+1)},T.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},T.prototype.debugInfo=function(w){return w==null?"":"node: <"+w+">"},T.prototype.ele=function(){return this.element.apply(this,arguments)},T.prototype.nod=function(w,F,I){return this.node(w,F,I)},T.prototype.txt=function(w){return this.text(w)},T.prototype.dat=function(w){return this.cdata(w)},T.prototype.com=function(w){return this.comment(w)},T.prototype.ins=function(w,F){return this.instruction(w,F)},T.prototype.dec=function(w,F,I){return this.declaration(w,F,I)},T.prototype.dtd=function(w,F,I){return this.doctype(w,F,I)},T.prototype.e=function(w,F,I){return this.element(w,F,I)},T.prototype.n=function(w,F,I){return this.node(w,F,I)},T.prototype.t=function(w){return this.text(w)},T.prototype.d=function(w){return this.cdata(w)},T.prototype.c=function(w){return this.comment(w)},T.prototype.r=function(w){return this.raw(w)},T.prototype.i=function(w,F){return this.instruction(w,F)},T.prototype.att=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},T.prototype.a=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},T.prototype.ent=function(w,F){return this.entity(w,F)},T.prototype.pent=function(w,F){return this.pEntity(w,F)},T.prototype.not=function(w,F){return this.notation(w,F)},T}()}).call(eN)),Sh.exports}var Uh={exports:{}},nN=Uh.exports,O1;function iN(){return O1||(O1=1,(function(){var s,e,t,n,i,r,a,o,c,l,u,d,h,p,y=function(b,x){for(var _ in x)v.call(x,_)&&(b[_]=x[_]);function D(){this.constructor=b}return D.prototype=x.prototype,b.prototype=new D,b.__super__=x.prototype,b},v={}.hasOwnProperty;a=Gf(),o=Zf(),s=zf(),e=Hf(),l=Vf(),d=Jf(),h=Qf(),u=jf(),c=rv(),t=$f(),n=Yf(),i=Xf(),r=Kf(),p=WT(),Uh.exports=function(b){y(x,b);function x(_,D){x.__super__.constructor.call(this,D),this.stream=_}return x.prototype.document=function(_){var D,A,T,w,F,I,U,P;for(I=_.children,A=0,w=I.length;A<w;A++)D=I[A],D.isLastRootNode=!1;for(_.children[_.children.length-1].isLastRootNode=!0,U=_.children,P=[],T=0,F=U.length;T<F;T++)if(D=U[T],!(D instanceof c))switch(!1){case!(D instanceof a):P.push(this.declaration(D));break;case!(D instanceof o):P.push(this.docType(D));break;case!(D instanceof e):P.push(this.comment(D));break;case!(D instanceof u):P.push(this.processingInstruction(D));break;default:P.push(this.element(D))}return P},x.prototype.attribute=function(_){return this.stream.write(" "+_.name+'="'+_.value+'"')},x.prototype.cdata=function(_,D){return this.stream.write(this.space(D)+"<![CDATA["+_.text+"]]>"+this.endline(_))},x.prototype.comment=function(_,D){return this.stream.write(this.space(D)+"<!-- "+_.text+" -->"+this.endline(_))},x.prototype.declaration=function(_,D){return this.stream.write(this.space(D)),this.stream.write('<?xml version="'+_.version+'"'),_.encoding!=null&&this.stream.write(' encoding="'+_.encoding+'"'),_.standalone!=null&&this.stream.write(' standalone="'+_.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(_))},x.prototype.docType=function(_,D){var A,T,w,F;if(D||(D=0),this.stream.write(this.space(D)),this.stream.write("<!DOCTYPE "+_.root().name),_.pubID&&_.sysID?this.stream.write(' PUBLIC "'+_.pubID+'" "'+_.sysID+'"'):_.sysID&&this.stream.write(' SYSTEM "'+_.sysID+'"'),_.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(_)),F=_.children,T=0,w=F.length;T<w;T++)switch(A=F[T],!1){case!(A instanceof t):this.dtdAttList(A,D+1);break;case!(A instanceof n):this.dtdElement(A,D+1);break;case!(A instanceof i):this.dtdEntity(A,D+1);break;case!(A instanceof r):this.dtdNotation(A,D+1);break;case!(A instanceof s):this.cdata(A,D+1);break;case!(A instanceof e):this.comment(A,D+1);break;case!(A instanceof u):this.processingInstruction(A,D+1);break;default:throw new Error("Unknown DTD node type: "+A.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(_))},x.prototype.element=function(_,D){var A,T,w,F,I,U,P,H;D||(D=0),H=this.space(D),this.stream.write(H+"<"+_.name),U=_.attributes;for(I in U)v.call(U,I)&&(A=U[I],this.attribute(A));if(_.children.length===0||_.children.every(function(S){return S.value===""}))this.allowEmpty?this.stream.write("></"+_.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&_.children.length===1&&_.children[0].value!=null)this.stream.write(">"),this.stream.write(_.children[0].value),this.stream.write("</"+_.name+">");else{for(this.stream.write(">"+this.newline),P=_.children,w=0,F=P.length;w<F;w++)switch(T=P[w],!1){case!(T instanceof s):this.cdata(T,D+1);break;case!(T instanceof e):this.comment(T,D+1);break;case!(T instanceof l):this.element(T,D+1);break;case!(T instanceof d):this.raw(T,D+1);break;case!(T instanceof h):this.text(T,D+1);break;case!(T instanceof u):this.processingInstruction(T,D+1);break;case!(T instanceof c):break;default:throw new Error("Unknown XML node type: "+T.constructor.name)}this.stream.write(H+"</"+_.name+">")}return this.stream.write(this.endline(_))},x.prototype.processingInstruction=function(_,D){return this.stream.write(this.space(D)+"<?"+_.target),_.value&&this.stream.write(" "+_.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(_))},x.prototype.raw=function(_,D){return this.stream.write(this.space(D)+_.value+this.endline(_))},x.prototype.text=function(_,D){return this.stream.write(this.space(D)+_.value+this.endline(_))},x.prototype.dtdAttList=function(_,D){return this.stream.write(this.space(D)+"<!ATTLIST "+_.elementName+" "+_.attributeName+" "+_.attributeType),_.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+_.defaultValueType),_.defaultValue&&this.stream.write(' "'+_.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(_))},x.prototype.dtdElement=function(_,D){return this.stream.write(this.space(D)+"<!ELEMENT "+_.name+" "+_.value),this.stream.write(this.spacebeforeslash+">"+this.endline(_))},x.prototype.dtdEntity=function(_,D){return this.stream.write(this.space(D)+"<!ENTITY"),_.pe&&this.stream.write(" %"),this.stream.write(" "+_.name),_.value?this.stream.write(' "'+_.value+'"'):(_.pubID&&_.sysID?this.stream.write(' PUBLIC "'+_.pubID+'" "'+_.sysID+'"'):_.sysID&&this.stream.write(' SYSTEM "'+_.sysID+'"'),_.nData&&this.stream.write(" NDATA "+_.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(_))},x.prototype.dtdNotation=function(_,D){return this.stream.write(this.space(D)+"<!NOTATION "+_.name),_.pubID&&_.sysID?this.stream.write(' PUBLIC "'+_.pubID+'" "'+_.sysID+'"'):_.pubID?this.stream.write(' PUBLIC "'+_.pubID+'"'):_.sysID&&this.stream.write(' SYSTEM "'+_.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(_))},x.prototype.endline=function(_){return _.isLastRootNode?"":this.newline},x}(p)}).call(nN)),Uh.exports}var W1;function rN(){return W1||(W1=1,(function(){var s,e,t,n,i,r,a;a=As(),i=a.assign,r=a.isFunction,s=jM(),e=tN(),n=sv(),t=iN(),Rs.create=function(o,c,l,u){var d,h;if(o==null)throw new Error("Root element needs a name.");return u=i({},c,l,u),d=new s(u),h=d.element(o),u.headless||(d.declaration(u),(u.pubID!=null||u.sysID!=null)&&d.doctype(u)),h},Rs.begin=function(o,c,l){var u;return r(o)&&(u=[o,c],c=u[0],l=u[1],o={}),c?new e(o,c,l):new s(o)},Rs.stringWriter=function(o){return new n(o)},Rs.streamWriter=function(o,c){return new t(o,c)}}).call(Rs)),Rs}var q1;function sN(){if(q1)return Zp;q1=1;var s=St,e=rN();Zp.writeString=t;function t(i,r){var a=s.invert(r),o={element:l,text:n};function c(h,p){return o[p.type](h,p)}function l(h,p){var y=h.element(u(p.name),p.attributes);p.children.forEach(function(v){c(y,v)})}function u(h){var p=/^\{(.*)\}(.*)$/.exec(h);if(p){var y=a[p[1]];return y+(y===""?"":":")+p[2]}else return h}function d(h){var p=e.create(u(h.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return s.forEach(r,function(y,v){var b="xmlns"+(v===""?"":":"+v);p.attribute(b,y)}),h.children.forEach(function(y){c(p,y)}),p.end()}return d(i)}function n(i,r){i.text(r.value)}return Zp}var V1;function qT(){if(V1)return Fs;V1=1;var s=LT();return Fs.Element=s.Element,Fs.element=s.element,Fs.text=s.text,Fs.readString=kM().readString,Fs.writeString=sN().writeString,Fs}var z1;function aN(){if(z1)return Td;z1=1;var s=St,e=Ts(),t=qT();Td.read=i,Td.readXmlFromZipFile=r;var n={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word"};function i(c){return t.readString(c,n).then(function(l){return o(l)[0]})}function r(c,l){return c.exists(l)?c.read(l,"utf-8").then(a).then(i):e.resolve(null)}function a(c){return c.replace(/^\uFEFF/g,"")}function o(c){return c.type==="element"?c.name==="mc:AlternateContent"?c.first("mc:Fallback").children:(c.children=s.flatten(c.children.map(o,!0)),[c]):[c]}return Td}var wd={},Qn={},Ed={},H1;function oN(){if(H1)return Ed;H1=1,Object.defineProperty(Ed,"__esModule",{value:!0});var s=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];return Ed.default=s,Ed}var G1;function cN(){if(G1)return Qn;G1=1;var s=Qn&&Qn.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.hex=Qn.dec=Qn.codePoint=void 0;for(var e=s(oN()),t={},n=String.fromCodePoint?String.fromCodePoint:h,i=0,r=e.default;i<r.length;i++){var a=r[i],o=parseInt(a["Unicode dec"],10),c={codePoint:o,string:n(o)};t[a["Typeface name"].toUpperCase()+"_"+a["Dingbat dec"]]=c}function l(p,y){return t[p.toUpperCase()+"_"+y]}Qn.codePoint=l;function u(p,y){return l(p,parseInt(y,10))}Qn.dec=u;function d(p,y){return l(p,parseInt(y,16))}Qn.hex=d;function h(p){if(p<=65535)return String.fromCharCode(p);var y=Math.floor((p-65536)/1024)+55296,v=(p-65536)%1024+56320;return String.fromCharCode(y,v)}return Qn}var Sd={},$1;function lN(){if($1)return Sd;$1=1,Sd.uriToZipEntryName=s,Sd.replaceFragment=e;function s(t,n){return n.charAt(0)==="/"?n.substr(1):t+"/"+n}function e(t,n){var i=t.indexOf("#");return i!==-1&&(t=t.substring(0,i)),t+"#"+n}return Sd}var X1;function uN(){if(X1)return wd;X1=1,wd.createBodyReader=a,wd._readNumberingProperties=c;var s=cN(),e=St,t=Qa(),n=Rr().Result,i=Rr().warning,r=lN();function a(D){return{readXmlElement:function(A){return new o(D).readXmlElement(A)},readXmlElements:function(A){return new o(D).readXmlElements(A)}}}function o(D){var A=[],T=[],w=[],F=D.relationships,I=D.contentTypes,U=D.docxFile,P=D.files,H=D.numbering,S=D.styles;function N(ie){var he=ie.map(E);return b(he)}function E(ie){if(ie.type==="element"){var he=C[ie.name];if(he)return he(ie);if(!Object.prototype.hasOwnProperty.call(u,ie.name)){var fe=i("An unrecognised element was ignored: "+ie.name);return d([fe])}}return h()}function X(ie){return z(ie).map(function(he){return{type:"paragraphProperties",styleId:he.styleId,styleName:he.name,alignment:ie.firstOrEmpty("w:jc").attributes["w:val"],numbering:c(he.styleId,ie.firstOrEmpty("w:numPr"),H),indent:W(ie.firstOrEmpty("w:ind"))}})}function W(ie){return{start:ie.attributes["w:start"]||ie.attributes["w:left"],end:ie.attributes["w:end"]||ie.attributes["w:right"],firstLine:ie.attributes["w:firstLine"],hanging:ie.attributes["w:hanging"]}}function O(ie){return J(ie).map(function(he){var fe=ie.firstOrEmpty("w:sz").attributes["w:val"],ge=/^[0-9]+$/.test(fe)?parseInt(fe,10)/2:null;return{type:"runProperties",styleId:he.styleId,styleName:he.name,verticalAlignment:ie.firstOrEmpty("w:vertAlign").attributes["w:val"],font:ie.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:ge,isBold:$(ie.first("w:b")),isUnderline:Y(ie.first("w:u")),isItalic:$(ie.first("w:i")),isStrikethrough:$(ie.first("w:strike")),isAllCaps:$(ie.first("w:caps")),isSmallCaps:$(ie.first("w:smallCaps")),highlight:se(ie.firstOrEmpty("w:highlight").attributes["w:val"])}})}function Y(ie){if(ie){var he=ie.attributes["w:val"];return he!==void 0&&he!=="false"&&he!=="0"&&he!=="none"}else return!1}function $(ie){if(ie){var he=ie.attributes["w:val"];return he!=="false"&&he!=="0"}else return!1}function se(ie){return!ie||ie==="none"?null:ie}function z(ie){return oe(ie,"w:pStyle","Paragraph",S.findParagraphStyleById)}function J(ie){return oe(ie,"w:rStyle","Run",S.findCharacterStyleById)}function Z(ie){return oe(ie,"w:tblStyle","Table",S.findTableStyleById)}function oe(ie,he,fe,ge){var xe=[],Ee=ie.first(he),Ye=null,Ue=null;if(Ee&&(Ye=Ee.attributes["w:val"],Ye)){var Be=ge(Ye);Be?Ue=Be.name:xe.push(Se(fe,Ye))}return y({styleId:Ye,name:Ue},xe)}var ae={type:"unknown"};function ve(ie){var he=ie.attributes["w:fldCharType"];if(he==="begin")A.push(ae),T=[];else if(he==="end")A.pop();else if(he==="separate"){var fe=ye(T.join("")),ge=fe===null?ae:{type:"hyperlink",options:fe};A.pop(),A.push(ge)}return h()}function me(){var ie=e.last(A.filter(function(he){return he.type==="hyperlink"}));return ie?ie.options:null}function ye(ie){var he=/\s*HYPERLINK "(.*)"/.exec(ie);if(he)return{href:he[1]};var fe=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(ie);return fe?{anchor:fe[1]}:null}function Te(ie){return T.push(ie.text()),h()}function Ie(ie){var he=ie.attributes["w:font"],fe=ie.attributes["w:char"],ge=s.hex(he,fe);return ge==null&&/^F0..$/.test(fe)&&(ge=s.hex(he,fe.substring(2))),ge==null?d([i("A w:sym element with an unsupported character was ignored: char "+fe+" in font "+he)]):p(new t.Text(ge.string))}function Ne(ie){return function(he){var fe=he.attributes["w:id"];return p(new t.NoteReference({noteType:ie,noteId:fe}))}}function Oe(ie){return p(t.commentReference({commentId:ie.attributes["w:id"]}))}function Ve(ie){return N(ie.children)}var C={"w:p":function(ie){var he=ie.firstOrEmpty("w:pPr"),fe=!!he.firstOrEmpty("w:rPr").first("w:del");if(fe)return ie.children.forEach(function(xe){w.push(xe)}),h();var ge=ie.children;return w.length>0&&(ge=w.concat(ge),w=[]),v.map(X(he),N(ge),function(xe,Ee){return new t.Paragraph(Ee,xe)}).insertExtra()},"w:r":function(ie){return v.map(O(ie.firstOrEmpty("w:rPr")),N(ie.children),function(he,fe){var ge=me();return ge!==null&&(fe=[new t.Hyperlink(fe,ge)]),new t.Run(fe,he)})},"w:fldChar":ve,"w:instrText":Te,"w:t":function(ie){return p(new t.Text(ie.text()))},"w:tab":function(ie){return p(new t.Tab)},"w:noBreakHyphen":function(){return p(new t.Text("‑"))},"w:softHyphen":function(ie){return p(new t.Text("­"))},"w:sym":Ie,"w:hyperlink":function(ie){var he=ie.attributes["r:id"],fe=ie.attributes["w:anchor"];return N(ie.children).map(function(ge){function xe(Ye){var Ue=ie.attributes["w:tgtFrame"]||null;return new t.Hyperlink(ge,e.extend({targetFrame:Ue},Ye))}if(he){var Ee=F.findTargetByRelationshipId(he);return fe&&(Ee=r.replaceFragment(Ee,fe)),xe({href:Ee})}else return fe?xe({anchor:fe}):ge})},"w:tbl":ne,"w:tr":V,"w:tc":q,"w:footnoteReference":Ne("footnote"),"w:endnoteReference":Ne("endnote"),"w:commentReference":Oe,"w:br":function(ie){var he=ie.attributes["w:type"];return he==null||he==="textWrapping"?p(t.lineBreak):he==="page"?p(t.pageBreak):he==="column"?p(t.columnBreak):d([i("Unsupported break type: "+he)])},"w:bookmarkStart":function(ie){var he=ie.attributes["w:name"];return he==="_GoBack"?h():p(new t.BookmarkStart({name:he}))},"mc:AlternateContent":function(ie){return Ve(ie.first("mc:Fallback"))},"w:sdt":function(ie){return N(ie.firstOrEmpty("w:sdtContent").children)},"w:ins":Ve,"w:object":Ve,"w:smartTag":Ve,"w:drawing":Ve,"w:pict":function(ie){return Ve(ie).toExtra()},"v:roundrect":Ve,"v:shape":Ve,"v:textbox":Ve,"w:txbxContent":Ve,"wp:inline":ce,"wp:anchor":ce,"v:imagedata":re,"v:group":Ve,"v:rect":Ve};return{readXmlElement:E,readXmlElements:N};function ne(ie){var he=ee(ie.firstOrEmpty("w:tblPr"));return N(ie.children).flatMap(pe).flatMap(function(fe){return he.map(function(ge){return t.Table(fe,ge)})})}function ee(ie){return Z(ie).map(function(he){return{styleId:he.styleId,styleName:he.name}})}function V(ie){var he=ie.firstOrEmpty("w:trPr"),fe=!!he.first("w:tblHeader");return N(ie.children).map(function(ge){return t.TableRow(ge,{isHeader:fe})})}function q(ie){return N(ie.children).map(function(he){var fe=ie.firstOrEmpty("w:tcPr"),ge=fe.firstOrEmpty("w:gridSpan").attributes["w:val"],xe=ge?parseInt(ge,10):1,Ee=t.TableCell(he,{colSpan:xe});return Ee._vMerge=K(fe),Ee})}function K(ie){var he=ie.first("w:vMerge");if(he){var fe=he.attributes["w:val"];return fe==="continue"||!fe}else return null}function pe(ie){var he=e.any(ie,function(xe){return xe.type!==t.types.tableRow});if(he)return y(ie,[i("unexpected non-row element in table, cell merging may be incorrect")]);var fe=e.any(ie,function(xe){return e.any(xe.children,function(Ee){return Ee.type!==t.types.tableCell})});if(fe)return y(ie,[i("unexpected non-cell element in table row, cell merging may be incorrect")]);var ge={};return ie.forEach(function(xe){var Ee=0;xe.children.forEach(function(Ye){Ye._vMerge&&ge[Ee]?ge[Ee].rowSpan++:(ge[Ee]=Ye,Ye._vMerge=!1),Ee+=Ye.colSpan})}),ie.forEach(function(xe){xe.children=xe.children.filter(function(Ee){return!Ee._vMerge}),xe.children.forEach(function(Ee){delete Ee._vMerge})}),p(ie)}function ce(ie){var he=ie.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return b(he.map(te.bind(null,ie)))}function te(ie,he){var fe=ie.first("wp:docPr").attributes,ge=G(fe.descr)?fe.title:fe.descr,xe=j(he);return xe===null?d([i("Could not find image file for a:blip element")]):_e(xe,ge)}function G(ie){return ie==null||/^\s*$/.test(ie)}function j(ie){var he=ie.attributes["r:embed"],fe=ie.attributes["r:link"];if(he)return le(he);if(fe){var ge=F.findTargetByRelationshipId(fe);return{path:ge,read:P.read.bind(P,ge)}}else return null}function re(ie){var he=ie.attributes["r:id"];return he?_e(le(he),ie.attributes["o:title"]):d([i("A v:imagedata element without a relationship ID was ignored")])}function le(ie){var he=r.uriToZipEntryName("word",F.findTargetByRelationshipId(ie));return{path:he,read:U.read.bind(U,he)}}function _e(ie,he){var fe=I.findContentType(ie.path),ge=t.Image({readImage:ie.read,altText:he,contentType:fe}),xe=l[fe]?[]:i("Image of type "+fe+" is unlikely to display in web browsers");return y(ge,xe)}function Se(ie,he){return i(ie+" style with ID "+he+" was referenced but not defined in the document")}}function c(D,A,T){var w=A.firstOrEmpty("w:ilvl").attributes["w:val"],F=A.firstOrEmpty("w:numId").attributes["w:val"];if(w!==void 0&&F!==void 0)return T.findLevel(F,w);if(D!=null){var I=T.findLevelByParagraphStyleId(D);if(I!=null)return I}return null}var l={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},u={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function d(D){return new v(null,null,D)}function h(){return new v(null)}function p(D){return new v(D)}function y(D,A){return new v(D,null,A)}function v(D,A,T){this.value=D||[],this.extra=A||[],this._result=new n({element:this.value,extra:A},T),this.messages=this._result.messages}v.prototype.toExtra=function(){return new v(null,x(this.extra,this.value),this.messages)},v.prototype.insertExtra=function(){var D=this.extra;return D&&D.length?new v(x(this.value,D),null,this.messages):this},v.prototype.map=function(D){var A=this._result.map(function(T){return D(T.element)});return new v(A.value,this.extra,A.messages)},v.prototype.flatMap=function(D){var A=this._result.flatMap(function(T){return D(T.element)._result});return new v(A.value.element,x(this.extra,A.value.extra),A.messages)},v.map=function(D,A,T){return new v(T(D.value,A.value),x(D.extra,A.extra),D.messages.concat(A.messages))};function b(D){var A=n.combine(e.pluck(D,"_result"));return new v(e.flatten(e.pluck(A.value,"element")),e.filter(e.flatten(e.pluck(A.value,"extra")),_),A.messages)}function x(D,A){return e.flatten([D,A])}function _(D){return D}return wd}var Jp={},Y1;function dN(){if(Y1)return Jp;Y1=1,Jp.DocumentXmlReader=t;var s=Qa(),e=Rr().Result;function t(n){var i=n.bodyReader;function r(a){var o=a.first("w:body");if(o==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var c=i.readXmlElements(o.children).map(function(l){return new s.Document(l,{notes:n.notes,comments:n.comments})});return new e(c.value,c.messages)}return{convertXmlToDocument:r}}return Jp}var Bc={},K1;function hN(){if(K1)return Bc;K1=1,Bc.readRelationships=s,Bc.defaultValue=new e([]),Bc.Relationships=e;function s(t){var n=[];return t.children.forEach(function(i){if(i.name==="relationships:Relationship"){var r={relationshipId:i.attributes.Id,target:i.attributes.Target,type:i.attributes.Type};n.push(r)}}),new e(n)}function e(t){var n={};t.forEach(function(r){n[r.relationshipId]=r.target});var i={};return t.forEach(function(r){i[r.type]||(i[r.type]=[]),i[r.type].push(r.target)}),{findTargetByRelationshipId:function(r){return n[r]},findTargetsByType:function(r){return i[r]||[]}}}return Bc}var Ud={},Z1;function fN(){if(Z1)return Ud;Z1=1,Ud.readContentTypesFromXml=e;var s={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};Ud.defaultContentTypes=t({},{});function e(n){var i={},r={};return n.children.forEach(function(a){if(a.name==="content-types:Default"&&(i[a.attributes.Extension]=a.attributes.ContentType),a.name==="content-types:Override"){var o=a.attributes.PartName;o.charAt(0)==="/"&&(o=o.substring(1)),r[o]=a.attributes.ContentType}}),t(r,i)}function t(n,i){return{findContentType:function(r){var a=n[r];if(a)return a;var o=r.split("."),c=o[o.length-1];if(i.hasOwnProperty(c))return i[c];var l=s[c.toLowerCase()];return l?"image/"+l:null}}}return Ud}var Oc={},J1;function pN(){if(J1)return Oc;J1=1;var s=St;Oc.readNumberingXml=t,Oc.Numbering=e,Oc.defaultNumbering=new e({},{});function e(a,o,c){var l=s.flatten(s.values(o).map(function(p){return s.values(p.levels)})),u=s.indexBy(l.filter(function(p){return p.paragraphStyleId!=null}),"paragraphStyleId");function d(p,y){var v=a[p];if(v){var b=o[v.abstractNumId];if(b){if(b.numStyleLink==null)return o[v.abstractNumId].levels[y];var x=c.findNumberingStyleById(b.numStyleLink);return d(x.numId,y)}else return null}else return null}function h(p){return u[p]||null}return{findLevel:d,findLevelByParagraphStyleId:h}}function t(a,o){if(!o||!o.styles)throw new Error("styles is missing");var c=n(a),l=r(a);return new e(l,c,o.styles)}function n(a){var o={};return a.getElementsByTagName("w:abstractNum").forEach(function(c){var l=c.attributes["w:abstractNumId"];o[l]=i(c)}),o}function i(a){var o={};a.getElementsByTagName("w:lvl").forEach(function(l){var u=l.attributes["w:ilvl"],d=l.firstOrEmpty("w:numFmt").attributes["w:val"],h=l.firstOrEmpty("w:pStyle").attributes["w:val"];o[u]={isOrdered:d!=="bullet",level:u,paragraphStyleId:h}});var c=a.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:o,numStyleLink:c}}function r(a){var o={};return a.getElementsByTagName("w:num").forEach(function(c){var l=c.attributes["w:numId"],u=c.first("w:abstractNumId").attributes["w:val"];o[l]={abstractNumId:u}}),o}return Oc}var Wc={},Q1;function gN(){if(Q1)return Wc;Q1=1,Wc.readStylesXml=e,Wc.Styles=s,Wc.defaultStyles=new s({},{});function s(r,a,o,c){return{findParagraphStyleById:function(l){return r[l]},findCharacterStyleById:function(l){return a[l]},findTableStyleById:function(l){return o[l]},findNumberingStyleById:function(l){return c[l]}}}s.EMPTY=new s({},{},{},{});function e(r){var a={},o={},c={},l={},u={paragraph:a,character:o,table:c};return r.getElementsByTagName("w:style").forEach(function(d){var h=t(d);if(h.type==="numbering")l[h.styleId]=i(d);else{var p=u[h.type];p&&(p[h.styleId]=h)}}),new s(a,o,c,l)}function t(r){var a=r.attributes["w:type"],o=r.attributes["w:styleId"],c=n(r);return{type:a,styleId:o,name:c}}function n(r){var a=r.first("w:name");return a?a.attributes["w:val"]:null}function i(r){var a=r.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{numId:a}}return Wc}var io={},j1;function mN(){if(j1)return io;j1=1;var s=Qa(),e=Rr().Result;io.createFootnotesReader=t.bind(io,"footnote"),io.createEndnotesReader=t.bind(io,"endnote");function t(n,i){function r(c){return e.combine(c.getElementsByTagName("w:"+n).filter(a).map(o))}function a(c){var l=c.attributes["w:type"];return l!=="continuationSeparator"&&l!=="separator"}function o(c){var l=c.attributes["w:id"];return i.readXmlElements(c.children).map(function(u){return s.Note({noteType:n,noteId:l,body:u})})}return r}return io}var Qp={},e2;function yN(){if(e2)return Qp;e2=1;var s=Qa(),e=Rr().Result;function t(n){function i(a){return e.combine(a.getElementsByTagName("w:comment").map(r))}function r(a){var o=a.attributes["w:id"];function c(l){return(a.attributes[l]||"").trim()||null}return n.readXmlElements(a.children).map(function(l){return s.comment({commentId:o,body:l,authorName:c("w:author"),authorInitials:c("w:initials")})})}return i}return Qp.createCommentsReader=t,Qp}var jp={},t2;function vN(){if(t2)return jp;t2=1;var s=Ts();jp.Files=e;function e(){function t(n){return s.reject(new Error("could not open external image: '"+n+`'
cannot open linked files from a web browser`))}return{read:t}}return jp}var n2;function bN(){if(n2)return xd;n2=1,xd.read=y,xd._findPartPaths=v;var s=Ts(),e=Qa(),t=Rr().Result,n=PT(),i=aN().readXmlFromZipFile,r=uN().createBodyReader,a=dN().DocumentXmlReader,o=hN(),c=fN(),l=pN(),u=gN(),d=mN(),h=yN(),p=vN().Files;function y(U,P){return P=P||{},s.props({contentTypes:T(U),partPaths:v(U),docxFile:U,files:P.path?p.relativeToFile(P.path):new p(null)}).also(function(H){return{styles:F(U,H.partPaths.styles)}}).also(function(H){return{numbering:w(U,H.partPaths.numbering,H.styles)}}).also(function(H){return{footnotes:D(H.partPaths.footnotes,H,function(S,N){return N?d.createFootnotesReader(S)(N):new t([])}),endnotes:D(H.partPaths.endnotes,H,function(S,N){return N?d.createEndnotesReader(S)(N):new t([])}),comments:D(H.partPaths.comments,H,function(S,N){return N?h.createCommentsReader(S)(N):new t([])})}}).also(function(H){return{notes:H.footnotes.flatMap(function(S){return H.endnotes.map(function(N){return new e.Notes(S.concat(N))})})}}).then(function(H){return D(H.partPaths.mainDocument,H,function(S,N){return H.notes.flatMap(function(E){return H.comments.flatMap(function(X){var W=new a({bodyReader:S,notes:E,comments:X});return W.convertXmlToDocument(N)})})})})}function v(U){return I(U).then(function(P){var H=b({docxFile:U,relationships:P,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!U.exists(H))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return _({filename:A(H),readElement:o.readRelationships,defaultValue:o.defaultValue})(U).then(function(S){function N(E){return b({docxFile:U,relationships:S,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+E,basePath:n.splitPath(H).dirname,fallbackPath:"word/"+E+".xml"})}return{mainDocument:H,comments:N("comments"),endnotes:N("endnotes"),footnotes:N("footnotes"),numbering:N("numbering"),styles:N("styles")}})})}function b(U){var P=U.docxFile,H=U.relationships,S=U.relationshipType,N=U.basePath,E=U.fallbackPath,X=H.findTargetsByType(S),W=X.map(function(Y){return x(n.joinPath(N,Y),"/")}),O=W.filter(function(Y){return P.exists(Y)});return O.length===0?E:O[0]}function x(U,P){return U.substring(0,P.length)===P?U.substring(P.length):U}function _(U){return function(P){return i(P,U.filename).then(function(H){return H?U.readElement(H):U.defaultValue})}}function D(U,P,H){var S=_({filename:A(U),readElement:o.readRelationships,defaultValue:o.defaultValue});return S(P.docxFile).then(function(N){var E=new r({relationships:N,contentTypes:P.contentTypes,docxFile:P.docxFile,numbering:P.numbering,styles:P.styles,files:P.files});return i(P.docxFile,U).then(function(X){return H(E,X)})})}function A(U){var P=n.splitPath(U);return n.joinPath(P.dirname,"_rels",P.basename+".rels")}var T=_({filename:"[Content_Types].xml",readElement:c.readContentTypesFromXml,defaultValue:c.defaultContentTypes});function w(U,P,H){return _({filename:P,readElement:function(S){return l.readNumberingXml(S,{styles:H})},defaultValue:l.defaultNumbering})(U)}function F(U,P){return _({filename:P,readElement:u.readStylesXml,defaultValue:u.defaultStyles})(U)}var I=_({filename:"_rels/.rels",readElement:o.readRelationships,defaultValue:o.defaultValue});return xd}var Fd={},i2;function xN(){if(i2)return Fd;i2=1;var s=St,e=Ts(),t=qT();Fd.writeStyleMap=a,Fd.readStyleMap=u;var n="http://schemas.zwobble.org/mammoth/style-map",i="mammoth/style-map",r="/"+i;function a(d,h){return d.write(i,h),o(d).then(function(){return c(d)})}function o(d){var h="word/_rels/document.xml.rels",p="http://schemas.openxmlformats.org/package/2006/relationships",y="{"+p+"}Relationship";return d.read(h,"utf8").then(t.readString).then(function(v){var b=v.children;l(b,y,"Id",{Id:"rMammothStyleMap",Type:n,Target:r});var x={"":p};return d.write(h,t.writeString(v,x))})}function c(d){var h="[Content_Types].xml",p="http://schemas.openxmlformats.org/package/2006/content-types",y="{"+p+"}Override";return d.read(h,"utf8").then(t.readString).then(function(v){var b=v.children;l(b,y,"PartName",{PartName:r,ContentType:"text/prs.mammoth.style-map"});var x={"":p};return d.write(h,t.writeString(v,x))})}function l(d,h,p,y){var v=s.find(d,function(b){return b.name===h&&b.attributes[p]===y[p]});v?v.attributes=y:d.push(t.element(h,y))}function u(d){return d.exists(i)?d.read(i,"utf8"):e.resolve(null)}return Fd}var Id={},ks={},Ki={},Pr={},r2;function VT(){if(r2)return Pr;r2=1;var s=tp();function e(c,l,u){return n(s.element(c,l,{fresh:!1}),u)}function t(c,l,u){var d=s.element(c,l,{fresh:!0});return n(d,u)}function n(c,l){return{type:"element",tag:c,children:l||[]}}function i(c){return{type:"text",value:c}}var r={type:"forceWrite"};Pr.freshElement=t,Pr.nonFreshElement=e,Pr.elementWithTag=n,Pr.text=i,Pr.forceWrite=r;var a={br:!0,hr:!0,img:!0};function o(c){return c.children.length===0&&a[c.tag.tagName]}return Pr.isVoidElement=o,Pr}var eg,s2;function _N(){if(s2)return eg;s2=1;var s=St,e=VT();function t(v){return n(l(v))}function n(v){var b=[];return v.map(i).forEach(function(x){c(b,x)}),b}function i(v){return r[v.type](v)}var r={element:a,text:o,forceWrite:o};function a(v){return e.elementWithTag(v.tag,n(v.children))}function o(v){return v}function c(v,b){var x=v[v.length-1];b.type==="element"&&!b.tag.fresh&&x&&x.type==="element"&&b.tag.matchesElement(x.tag)?(b.tag.separator&&c(x.children,e.text(b.tag.separator)),b.children.forEach(function(_){c(x.children,_)})):v.push(b)}function l(v){return u(v,function(b){return d[b.type](b)})}function u(v,b){return s.flatten(s.map(v,b),!0)}var d={element:p,text:y,forceWrite:h};function h(v){return[v]}function p(v){var b=l(v.children);return b.length===0&&!e.isVoidElement(v)?[]:[e.elementWithTag(v.tag,b)]}function y(v){return v.value.length===0?[]:[v]}return eg=t,eg}var a2;function ep(){if(a2)return Ki;a2=1;var s=VT();Ki.freshElement=s.freshElement,Ki.nonFreshElement=s.nonFreshElement,Ki.elementWithTag=s.elementWithTag,Ki.text=s.text,Ki.forceWrite=s.forceWrite,Ki.simplify=_N();function e(a,o){o.forEach(function(c){t(a,c)})}function t(a,o){n[o.type](a,o)}var n={element:i,text:r,forceWrite:function(){}};function i(a,o){s.isVoidElement(o)?a.selfClosing(o.tag.tagName,o.tag.attributes):(a.open(o.tag.tagName,o.tag.attributes),e(a,o.children),a.close(o.tag.tagName))}function r(a,o){a.text(o.value)}return Ki.write=e,Ki}var o2;function tp(){if(o2)return ks;o2=1;var s=St,e=ep();ks.topLevelElement=t,ks.elements=n,ks.element=r;function t(o,c){return n([r(o,c,{fresh:!0})])}function n(o){return new i(o.map(function(c){return s.isString(c)?r(c):c}))}function i(o){this._elements=o}i.prototype.wrap=function(c){for(var l=c(),u=this._elements.length-1;u>=0;u--)l=this._elements[u].wrapNodes(l);return l};function r(o,c,l){return l=l||{},new a(o,c,l)}function a(o,c,l){var u={};s.isArray(o)?(o.forEach(function(d){u[d]=!0}),o=o[0]):u[o]=!0,this.tagName=o,this.tagNames=u,this.attributes=c||{},this.fresh=l.fresh,this.separator=l.separator}return a.prototype.matchesElement=function(o){return this.tagNames[o.tagName]&&s.isEqual(this.attributes||{},o.attributes||{})},a.prototype.wrap=function(c){return this.wrapNodes(c())},a.prototype.wrapNodes=function(c){return[e.elementWithTag(this,c)]},ks.empty=n([]),ks.ignore={wrap:function(){return[]}},ks}var tg={},c2;function zT(){return c2||(c2=1,function(s){var e=St,t=Ts(),n=ep();s.imgElement=i;function i(r){return function(a,o){return t.when(r(a)).then(function(c){var l={};return a.altText&&(l.alt=a.altText),e.extend(l,c),[n.freshElement("img",l)]})}}s.inline=s.imgElement,s.dataUri=i(function(r){return r.readAsBase64String().then(function(a){return{src:"data:"+r.contentType+";base64,"+a}})})}(tg)),tg}var ng={},ig={},l2;function DN(){if(l2)return ig;l2=1;var s=St;ig.writer=e;function e(o){return o=o||{},o.prettyPrint?n():i()}var t={div:!0,p:!0,ul:!0,li:!0};function n(){var o=0,c="  ",l=[],u=!0,d=!1,h=i();function p(T,w){t[T]&&D(),l.push(T),h.open(T,w),t[T]&&o++,u=!1}function y(T){t[T]&&(o--,D()),l.pop(),h.close(T)}function v(T){_();var w=A()?T:T.replace(`
`,`
`+c);h.text(w)}function b(T,w){D(),h.selfClosing(T,w)}function x(){return l.length===0||t[l[l.length-1]]}function _(){d||(D(),d=!0)}function D(){if(d=!1,!u&&x()&&!A()){h._append(`
`);for(var T=0;T<o;T++)h._append(c)}}function A(){return s.some(l,function(T){return T==="pre"})}return{asString:h.asString,open:p,close:y,text:v,selfClosing:b}}function i(){var o=[];function c(v,b){var x=d(b);o.push("<"+v+x+">")}function l(v){o.push("</"+v+">")}function u(v,b){var x=d(b);o.push("<"+v+x+" />")}function d(v){return s.map(v,function(b,x){return" "+x+'="'+a(b)+'"'}).join("")}function h(v){o.push(r(v))}function p(v){o.push(v)}function y(){return o.join("")}return{asString:y,open:c,close:l,text:h,selfClosing:u,_append:p}}function r(o){return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(o){return o.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return ig}var rg={},u2;function TN(){if(u2)return rg;u2=1;var s=St;function e(d){return t(d,d)}function t(d,h){return function(){return{start:d,end:h}}}function n(d){var h=d.href||"";return h?{start:"[",end:"]("+h+")",anchorPosition:"before"}:{}}function i(d){var h=d.src||"",p=d.alt||"";return h||p?{start:"!["+p+"]("+h+")"}:{}}function r(d){return function(h,p){return{start:p?`
`:"",end:p?"":`
`,list:{isOrdered:d.isOrdered,indent:p?p.indent+1:0,count:0}}}}function a(d,h,p){h=h||{indent:0,isOrdered:!1,count:0},h.count++,p.hasClosed=!1;var y=h.isOrdered?h.count+".":"-",v=c("	",h.indent)+y+" ";return{start:v,end:function(){if(!p.hasClosed)return p.hasClosed=!0,`
`}}}var o={p:t("",`

`),br:t("",`  
`),ul:r({isOrdered:!1}),ol:r({isOrdered:!0}),li:a,strong:e("__"),em:e("*"),a:n,img:i};(function(){for(var d=1;d<=6;d++)o["h"+d]=t(c("#",d)+" ",`

`)})();function c(d,h){return new Array(h+1).join(d)}function l(){var d=[],h=[],p=null,y={};function v(T,w){w=w||{};var F=o[T]||function(){return{}},I=F(w,p,y);h.push({end:I.end,list:p}),I.list&&(p=I.list);var U=I.anchorPosition==="before";U&&b(w),d.push(I.start||""),U||b(w)}function b(T){T.id&&d.push('<a id="'+T.id+'"></a>')}function x(T){var w=h.pop();p=w.list;var F=s.isFunction(w.end)?w.end():w.end;d.push(F||"")}function _(T,w){v(T,w),x()}function D(T){d.push(u(T))}function A(){return d.join("")}return{asString:A,open:v,close:x,text:D,selfClosing:_}}rg.writer=l;function u(d){return d.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}return rg}var d2;function AN(){if(d2)return ng;d2=1;var s=DN(),e=TN();ng.writer=t;function t(n){return n=n||{},n.outputFormat==="markdown"?e.writer():s.writer(n)}return ng}var h2;function CN(){if(h2)return Id;h2=1;var s=St,e=Ts(),t=Qa(),n=tp(),i=Rr(),r=zT(),a=ep(),o=AN();Id.DocumentConverter=c;function c(b){return{convertToHtml:function(x){var _=s.indexBy(x.type===t.types.document?x.comments:[],"commentId"),D=new l(b,_);return D.convertToHtml(x)}}}function l(b,x){var _=1,D=[],A=[];b=s.extend({ignoreEmptyParagraphs:!0},b);var T=b.idPrefix===void 0?"":b.idPrefix,w=b.ignoreEmptyParagraphs,F=n.topLevelElement("p"),I=b.styleMap||[];function U(C){var ne=[],ee=H(C,ne,{}),V=[];y(ee,function(K){K.type==="deferred"&&V.push(K)});var q={};return e.mapSeries(V,function(K){return K.value().then(function(pe){q[K.id]=pe})}).then(function(){function K(ce){return p(ce,function(te){return te.type==="deferred"?q[te.id]:te.children?[s.extend({},te,{children:K(te.children)})]:[te]})}var pe=o.writer({prettyPrint:b.prettyPrint,outputFormat:b.outputFormat});return a.write(pe,a.simplify(K(ee))),new i.Result(pe.asString(),ne)})}function P(C,ne,ee){return p(C,function(V){return H(V,ne,ee)})}function H(C,ne,ee){if(!ee)throw new Error("options not set");var V=Ve[C.type];return V?V(C,ne,ee):[]}function S(C,ne,ee){return N(C,ne).wrap(function(){var V=P(C.children,ne,ee);return w?V:[a.forceWrite].concat(V)})}function N(C,ne){var ee=O(C);return ee?ee.to:(C.styleId&&ne.push(h("paragraph",C)),F)}function E(C,ne,ee){var V=function(){return P(C.children,ne,ee)},q=[];if(C.highlight!==null){var K=W({type:"highlight",color:C.highlight});K&&q.push(K)}C.isSmallCaps&&q.push(X("smallCaps")),C.isAllCaps&&q.push(X("allCaps")),C.isStrikethrough&&q.push(X("strikethrough","s")),C.isUnderline&&q.push(X("underline")),C.verticalAlignment===t.verticalAlignment.subscript&&q.push(n.element("sub",{},{fresh:!1})),C.verticalAlignment===t.verticalAlignment.superscript&&q.push(n.element("sup",{},{fresh:!1})),C.isItalic&&q.push(X("italic","em")),C.isBold&&q.push(X("bold","strong"));var pe=n.empty,ce=O(C);return ce?pe=ce.to:C.styleId&&ne.push(h("run",C)),q.push(pe),q.forEach(function(te){V=te.wrap.bind(te,V)}),V()}function X(C,ne){var ee=W({type:C});return ee||(ne?n.element(ne,{},{fresh:!1}):n.empty)}function W(C,ne){var ee=O(C);return ee?ee.to:ne}function O(C){for(var ne=0;ne<I.length;ne++)if(I[ne].from.matches(C))return I[ne]}function Y(C){return function(ne,ee){return e.attempt(function(){return C(ne,ee)}).caught(function(V){return ee.push(i.error(V)),[]})}}function $(C){return z(C.noteType,C.noteId)}function se(C){return J(C.noteType,C.noteId)}function z(C,ne){return Z(C+"-"+ne)}function J(C,ne){return Z(C+"-ref-"+ne)}function Z(C){return T+C}var oe=n.elements([n.element("table",{},{fresh:!0})]);function ae(C,ne,ee){return W(C,oe).wrap(function(){return ve(C,ne,ee)})}function ve(C,ne,ee){var V=s.findIndex(C.children,function(ce){return!ce.type===t.types.tableRow||!ce.isHeader});V===-1&&(V=C.children.length);var q;if(V===0)q=P(C.children,ne,s.extend({},ee,{isTableHeader:!1}));else{var K=P(C.children.slice(0,V),ne,s.extend({},ee,{isTableHeader:!0})),pe=P(C.children.slice(V),ne,s.extend({},ee,{isTableHeader:!1}));q=[a.freshElement("thead",{},K),a.freshElement("tbody",{},pe)]}return[a.forceWrite].concat(q)}function me(C,ne,ee){var V=P(C.children,ne,ee);return[a.freshElement("tr",{},[a.forceWrite].concat(V))]}function ye(C,ne,ee){var V=ee.isTableHeader?"th":"td",q=P(C.children,ne,ee),K={};return C.colSpan!==1&&(K.colspan=C.colSpan.toString()),C.rowSpan!==1&&(K.rowspan=C.rowSpan.toString()),[a.freshElement(V,K,[a.forceWrite].concat(q))]}function Te(C,ne,ee){return W(C,n.ignore).wrap(function(){var V=x[C.commentId],q=A.length+1,K="["+v(V)+q+"]";return A.push({label:K,comment:V}),[a.freshElement("a",{href:"#"+z("comment",C.commentId),id:J("comment",C.commentId)},[a.text(K)])]})}function Ie(C,ne,ee){var V=C.label,q=C.comment,K=P(q.body,ne,ee).concat([a.nonFreshElement("p",{},[a.text(" "),a.freshElement("a",{href:"#"+J("comment",q.commentId)},[a.text("↑")])])]);return[a.freshElement("dt",{id:z("comment",q.commentId)},[a.text("Comment "+V)]),a.freshElement("dd",{},K)]}function Ne(C,ne,ee){return Oe(C).wrap(function(){return[]})}function Oe(C){var ne=O(C);return ne?ne.to:C.breakType==="line"?n.topLevelElement("br"):n.empty}var Ve={document:function(C,ne,ee){var V=P(C.children,ne,ee),q=D.map(function(pe){return C.notes.resolve(pe)}),K=P(q,ne,ee);return V.concat([a.freshElement("ol",{},K),a.freshElement("dl",{},p(A,function(pe){return Ie(pe,ne,ee)}))])},paragraph:S,run:E,text:function(C,ne,ee){return[a.text(C.value)]},tab:function(C,ne,ee){return[a.text("	")]},hyperlink:function(C,ne,ee){var V=C.anchor?"#"+Z(C.anchor):C.href,q={href:V};C.targetFrame!=null&&(q.target=C.targetFrame);var K=P(C.children,ne,ee);return[a.nonFreshElement("a",q,K)]},bookmarkStart:function(C,ne,ee){var V=a.freshElement("a",{id:Z(C.name)},[a.forceWrite]);return[V]},noteReference:function(C,ne,ee){D.push(C);var V=a.freshElement("a",{href:"#"+$(C),id:se(C)},[a.text("["+_+++"]")]);return[a.freshElement("sup",{},[V])]},note:function(C,ne,ee){var V=P(C.body,ne,ee),q=a.elementWithTag(n.element("p",{},{fresh:!1}),[a.text(" "),a.freshElement("a",{href:"#"+se(C)},[a.text("↑")])]),K=V.concat([q]);return a.freshElement("li",{id:$(C)},K)},commentReference:Te,comment:Ie,image:d(Y(b.convertImage||r.dataUri)),table:ae,tableRow:me,tableCell:ye,break:Ne};return{convertToHtml:U}}var u=1;function d(b){return function(x,_,D){return[{type:"deferred",id:u++,value:function(){return b(x,_,D)}}]}}function h(b,x){return i.warning("Unrecognised "+b+" style: '"+x.styleName+"' (Style ID: "+x.styleId+")")}function p(b,x){return s.flatten(b.map(x),!0)}function y(b,x){b.forEach(function(_){x(_),_.children&&y(_.children,x)})}var v=Id.commentAuthorLabel=function(x){return x.authorInitials||""};return Id}var sg={},f2;function wN(){if(f2)return sg;f2=1;var s=Qa();function e(t){if(t.type==="text")return t.value;if(t.type===s.types.tab)return"	";var n=t.type==="paragraph"?`

`:"";return(t.children||[]).map(e).join("")+n}return sg.convertElementToRawText=e,sg}var qc={},jn={},ag={},og={exports:{}},p2;function EN(){if(p2)return og.exports;p2=1;var s=og.exports=function(e,t){this._tokens=e,this._startIndex=t||0};return s.prototype.head=function(){return this._tokens[this._startIndex]},s.prototype.tail=function(e){return new s(this._tokens,this._startIndex+1)},s.prototype.toArray=function(){return this._tokens.slice(this._startIndex)},s.prototype.end=function(){return this._tokens[this._tokens.length-1]},s.prototype.to=function(e){var t=this.head().source,n=e.head()||e.end();return t.to(n.source)},og.exports}var g2;function SN(){if(g2)return ag;g2=1;var s=EN();return ag.Parser=function(e){var t=function(n,i){return n(new s(i))};return{parseTokens:t}},ag}var cg={},lg={},m2;function UN(){return m2||(m2=1,function(s){s.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return s.none},flatMap:function(){return s.none},filter:function(){return s.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(n){return typeof n=="function"?n():n}s.some=function(n){return new t(n)};var t=function(n){this._value=n};t.prototype.value=function(){return this._value},t.prototype.isNone=function(){return!1},t.prototype.isSome=function(){return!0},t.prototype.map=function(n){return new t(n(this._value))},t.prototype.flatMap=function(n){return n(this._value)},t.prototype.filter=function(n){return n(this._value)?this:s.none},t.prototype.toArray=function(){return[this._value]},t.prototype.orElse=function(n){return this},t.prototype.valueOrElse=function(n){return this._value},s.isOption=function(n){return n===s.none||n instanceof t},s.fromNullable=function(n){return n==null?s.none:new t(n)}}(lg)),lg}var ug,y2;function av(){if(y2)return ug;y2=1,ug={failure:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new s({status:"failure",remaining:t,errors:e})},error:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new s({status:"error",remaining:t,errors:e})},success:function(e,t,n){return new s({status:"success",value:e,source:n,remaining:t,errors:[]})},cut:function(e){return new s({status:"cut",remaining:e,errors:[]})}};var s=function(e){this._value=e.value,this._status=e.status,this._hasValue=e.value!==void 0,this._remaining=e.remaining,this._source=e.source,this._errors=e.errors};return s.prototype.map=function(e){return this._hasValue?new s({value:e(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this},s.prototype.changeRemaining=function(e){return new s({value:this._value,status:this._status,remaining:e,source:this._source,errors:this._errors})},s.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"},s.prototype.isFailure=function(){return this._status==="failure"},s.prototype.isError=function(){return this._status==="error"},s.prototype.isCut=function(){return this._status==="cut"},s.prototype.value=function(){return this._value},s.prototype.remaining=function(){return this._remaining},s.prototype.source=function(){return this._source},s.prototype.errors=function(){return this._errors},ug}var dg={},v2;function HT(){if(v2)return dg;v2=1,dg.error=function(e){return new s(e)};var s=function(e){this.expected=e.expected,this.actual=e.actual,this._location=e.location};return s.prototype.describe=function(){var e=this._location?this._location.describe()+`:
`:"";return e+"Expected "+this.expected+`
but got `+this.actual},s.prototype.lineNumber=function(){return this._location.lineNumber()},s.prototype.characterNumber=function(){return this._location.characterNumber()},dg}var hg={},b2;function FN(){if(b2)return hg;b2=1,hg.fromArray=function(e){var t=0,n=function(){return t<e.length};return new s({hasNext:n,next:function(){if(n())return e[t++];throw new Error("No more elements")}})};var s=function(e){this._iterator=e};return s.prototype.map=function(e){var t=this._iterator;return new s({hasNext:function(){return t.hasNext()},next:function(){return e(t.next())}})},s.prototype.filter=function(e){var t=this._iterator,n=!1,i=!1,r,a=function(){if(!n)for(n=!0,i=!1;t.hasNext()&&!i;)r=t.next(),i=e(r)};return new s({hasNext:function(){return a(),i},next:function(){a();var o=r;return n=!1,o}})},s.prototype.first=function(){var e=this._iterator;return this._iterator.hasNext()?e.next():null},s.prototype.toArray=function(){for(var e=[];this._iterator.hasNext();)e.push(this._iterator.next());return e},hg}var x2;function GT(){return x2||(x2=1,function(s){var e=St,t=UN(),n=av(),i=HT(),r=FN();s.token=function(h,p){var y=p!==void 0;return function(v){var b=v.head();if(b&&b.name===h&&(!y||b.value===p))return n.success(b.value,v.tail(),b.source);var x=u({name:h,value:p});return d(v,x)}},s.tokenOfType=function(h){return s.token(h)},s.firstOf=function(h,p){return e.isArray(p)||(p=Array.prototype.slice.call(arguments,1)),function(y){return r.fromArray(p).map(function(v){return v(y)}).filter(function(v){return v.isSuccess()||v.isError()}).first()||d(y,h)}},s.then=function(h,p){return function(y){var v=h(y);return v.map||console.log(v),v.map(p)}},s.sequence=function(){var h=Array.prototype.slice.call(arguments,0),p=function(v){var b=e.foldl(h,function(_,D){var A=_.result,T=_.hasCut;if(!A.isSuccess())return{result:A,hasCut:T};var w=D(A.remaining());if(w.isCut())return{result:A,hasCut:!0};if(w.isSuccess()){var F;D.isCaptured?F=A.value().withValue(D,w.value()):F=A.value();var I=w.remaining(),U=v.to(I);return{result:n.success(F,I,U),hasCut:T}}else return T?{result:n.error(w.errors(),w.remaining()),hasCut:T}:{result:w,hasCut:T}},{result:n.success(new a,v),hasCut:!1}).result,x=v.to(b.remaining());return b.map(function(_){return _.withValue(s.sequence.source,x)})};p.head=function(){var v=e.find(h,y);return s.then(p,s.sequence.extract(v))},p.map=function(v){return s.then(p,function(b){return v.apply(this,b.toArray())})};function y(v){return v.isCaptured}return p};var a=function(h,p){this._values=h||{},this._valuesArray=p||[]};a.prototype.withValue=function(h,p){if(h.captureName&&h.captureName in this._values)throw new Error('Cannot add second value for capture "'+h.captureName+'"');var y=e.clone(this._values);y[h.captureName]=p;var v=this._valuesArray.concat([p]);return new a(y,v)},a.prototype.get=function(h){if(h.captureName in this._values)return this._values[h.captureName];throw new Error('No value for capture "'+h.captureName+'"')},a.prototype.toArray=function(){return this._valuesArray},s.sequence.capture=function(h,p){var y=function(){return h.apply(this,arguments)};return y.captureName=p,y.isCaptured=!0,y},s.sequence.extract=function(h){return function(p){return p.get(h)}},s.sequence.applyValues=function(h){var p=Array.prototype.slice.call(arguments,1);return function(y){var v=p.map(function(b){return y.get(b)});return h.apply(this,v)}},s.sequence.source={captureName:"☃source☃"},s.sequence.cut=function(){return function(h){return n.cut(h)}},s.optional=function(h){return function(p){var y=h(p);return y.isSuccess()?y.map(t.some):y.isFailure()?n.success(t.none,p):y}},s.zeroOrMoreWithSeparator=function(h,p){return l(h,p,!1)},s.oneOrMoreWithSeparator=function(h,p){return l(h,p,!0)};var o=s.zeroOrMore=function(h){return function(p){for(var y=[],v;(v=h(p))&&v.isSuccess();)p=v.remaining(),y.push(v.value());return v.isError()?v:n.success(y,p)}};s.oneOrMore=function(h){return s.oneOrMoreWithSeparator(h,c)};function c(h){return n.success(null,h)}var l=function(h,p,y){return function(v){var b=h(v);if(b.isSuccess()){var x=s.sequence.capture(h,"main"),_=o(s.then(s.sequence(p,x),s.sequence.extract(x))),D=_(b.remaining());return n.success([b.value()].concat(D.value()),D.remaining())}else return y||b.isError()?b:n.success([],v)}};s.leftAssociative=function(h,p,y){var v;y?v=[{func:y,rule:p}]:v=p,v=v.map(function(x){return s.then(x.rule,function(_){return function(D,A){return x.func(D,_,A)}})});var b=s.firstOf.apply(null,["rules"].concat(v));return function(x){var _=x,D=h(x);if(!D.isSuccess())return D;for(var A=b(D.remaining());A.isSuccess();){var T=A.remaining(),w=_.to(A.remaining()),F=A.value();D=n.success(F(D.value(),w),T,w),A=b(D.remaining())}return A.isError()?A:D}},s.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},s.nonConsuming=function(h){return function(p){return h(p).changeRemaining(p)}};var u=function(h){return h.value?h.name+' "'+h.value+'"':h.name};function d(h,p){var y,v=h.head();return v?y=i.error({expected:p,actual:u(v),location:v.source}):y=i.error({expected:p,actual:"end of tokens"}),n.failure([y],h)}}(cg)),cg}var fg={exports:{}},_2;function $T(){if(_2)return fg.exports;_2=1,fg.exports=function(e,t){var n={asString:function(){return e},range:function(i,r){return new s(e,t,i,r)}};return n};var s=function(e,t,n,i){this._string=e,this._description=t,this._startIndex=n,this._endIndex=i};return s.prototype.to=function(e){return new s(this._string,this._description,this._startIndex,e._endIndex)},s.prototype.describe=function(){var e=this._position(),t=this._description?this._description+`
`:"";return t+"Line number: "+e.lineNumber+`
Character number: `+e.characterNumber},s.prototype.lineNumber=function(){return this._position().lineNumber},s.prototype.characterNumber=function(){return this._position().characterNumber},s.prototype._position=function(){for(var e=this,t=0,n=function(){return e._string.indexOf(`
`,t)},i=1;n()!==-1&&n()<this._startIndex;)t=n()+1,i+=1;var r=this._startIndex-t+1;return{lineNumber:i,characterNumber:r}},fg.exports}var pg,D2;function XT(){return D2||(D2=1,pg=function(s,e,t){this.name=s,this.value=e,t&&(this.source=t)}),pg}var gg={},T2;function IN(){return T2||(T2=1,function(s){var e=GT(),t=av();s.parser=function(r,a,o){var c={rule:h,leftAssociative:p,rightAssociative:y},l=new n(o.map(d)),u=e.firstOf(r,a);function d(x){return{name:x.name,rule:i(x.ruleBuilder.bind(null,c))}}function h(){return v(l)}function p(x){return v(l.untilExclusive(x))}function y(x){return v(l.untilInclusive(x))}function v(x){return b.bind(null,x)}function b(x,_){var D=u(_);return D.isSuccess()?x.apply(D):D}return c};function n(r){function a(d){return new n(r.slice(0,c().indexOf(d)))}function o(d){return new n(r.slice(0,c().indexOf(d)+1))}function c(){return r.map(function(d){return d.name})}function l(d){for(var h,p;;)if(h=u(d.remaining()),h.isSuccess())p=d.source().to(h.source()),d=t.success(h.value()(d.value(),p),h.remaining(),p);else return h.isFailure()?d:h}function u(d){return e.firstOf("infix",r.map(function(h){return h.rule}))(d)}return{apply:l,untilExclusive:a,untilInclusive:o}}s.infix=function(r,a){function o(c){return s.infix(r,function(l){var u=a(l);return function(d){var h=u(d);return h.map(function(p){return function(y,v){return c(y,p,v)}})}})}return{name:r,ruleBuilder:a,map:o}};var i=function(r){var a;return function(o){return a||(a=r()),a(o)}}}(gg)),gg}var mg={},A2;function RN(){if(A2)return mg;A2=1;var s=XT(),e=$T();mg.RegexTokeniser=t;function t(n){n=n.map(function(o){return{name:o.name,regex:new RegExp(o.regex.source,"g")}});function i(o,c){for(var l=new e(o,c),u=0,d=[];u<o.length;){var h=r(o,u,l);u=h.endIndex,d.push(h.token)}return d.push(a(o,l)),d}function r(o,c,l){for(var u=0;u<n.length;u++){var d=n[u].regex;d.lastIndex=c;var h=d.exec(o);if(h){var y=c+h[0].length;if(h.index===c&&y>c){var p=h[1],v=new s(n[u].name,p,l.range(c,y));return{token:v,endIndex:y}}}}var y=c+1,v=new s("unrecognisedCharacter",o.substring(c,y),l.range(c,y));return{token:v,endIndex:y}}function a(o,c){return new s("end",null,c.range(o.length,o.length))}return{tokenise:i}}return mg}var C2;function YT(){return C2||(C2=1,jn.Parser=SN().Parser,jn.rules=GT(),jn.errors=HT(),jn.results=av(),jn.StringSource=$T(),jn.Token=XT(),jn.bottomUp=IN(),jn.RegexTokeniser=RN().RegexTokeniser,jn.rule=function(s){var e;return function(t){return e||(e=s()),e(t)}}),jn}var Wt={},w2;function kN(){if(w2)return Wt;w2=1,Wt.paragraph=s,Wt.run=e,Wt.table=t,Wt.bold=new i("bold"),Wt.italic=new i("italic"),Wt.underline=new i("underline"),Wt.strikethrough=new i("strikethrough"),Wt.allCaps=new i("allCaps"),Wt.smallCaps=new i("smallCaps"),Wt.highlight=n,Wt.commentReference=new i("commentReference"),Wt.lineBreak=new a({breakType:"line"}),Wt.pageBreak=new a({breakType:"page"}),Wt.columnBreak=new a({breakType:"column"}),Wt.equalTo=c,Wt.startsWith=l;function s(h){return new i("paragraph",h)}function e(h){return new i("run",h)}function t(h){return new i("table",h)}function n(h){return new r(h)}function i(h,p){p=p||{},this._elementType=h,this._styleId=p.styleId,this._styleName=p.styleName,p.list&&(this._listIndex=p.list.levelIndex,this._listIsOrdered=p.list.isOrdered)}i.prototype.matches=function(h){return h.type===this._elementType&&(this._styleId===void 0||h.styleId===this._styleId)&&(this._styleName===void 0||h.styleName&&this._styleName.operator(this._styleName.operand,h.styleName))&&(this._listIndex===void 0||o(h,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===h.breakType)};function r(h){h=h||{},this._color=h.color}r.prototype.matches=function(h){return h.type==="highlight"&&(this._color===void 0||h.color===this._color)};function a(h){h=h||{},this._breakType=h.breakType}a.prototype.matches=function(h){return h.type==="break"&&(this._breakType===void 0||h.breakType===this._breakType)};function o(h,p,y){return h.numbering&&h.numbering.level==p&&h.numbering.isOrdered==y}function c(h){return{operator:u,operand:h}}function l(h){return{operator:d,operand:h}}function u(h,p){return h.toUpperCase()===p.toUpperCase()}function d(h,p){return p.toUpperCase().indexOf(h.toUpperCase())===0}return Wt}var yg={},E2;function MN(){if(E2)return yg;E2=1;var s=YT(),e=s.RegexTokeniser;yg.tokenise=n;var t="'((?:\\\\.|[^'])*)";function n(i){var r="(?:[a-zA-Z\\-_]|\\\\.)",a=new e([{name:"identifier",regex:new RegExp("("+r+"(?:"+r+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(t+"'")},{name:"unterminated-string",regex:new RegExp(t)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return a.tokenise(i)}return yg}var S2;function NN(){if(S2)return qc;S2=1;var s=St,e=YT(),t=kN(),n=tp(),i=MN().tokenise,r=Rr();qc.readHtmlPath=u,qc.readDocumentMatcher=c,qc.readStyle=a;function a(I){return A(F,I)}function o(){return e.rules.sequence(e.rules.sequence.capture(l()),e.rules.tokenOfType("whitespace"),e.rules.tokenOfType("arrow"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("whitespace"),e.rules.sequence.capture(d())).head())),e.rules.tokenOfType("end")).map(function(I,U){return{from:I,to:U.valueOrElse(n.empty)}})}function c(I){return A(l(),I)}function l(){var I=e.rules.sequence,U=function(Ie,Ne){return e.rules.then(e.rules.token("identifier",Ie),function(){return Ne})},P=U("p",t.paragraph),H=U("r",t.run),S=e.rules.firstOf("p or r or table",P,H),N=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(h)).map(function(Ie){return{styleId:Ie}}),E=e.rules.firstOf("style name matcher",e.rules.then(e.rules.sequence(e.rules.tokenOfType("equals"),e.rules.sequence.cut(),e.rules.sequence.capture(y)).head(),function(Ie){return{styleName:t.equalTo(Ie)}}),e.rules.then(e.rules.sequence(e.rules.tokenOfType("startsWith"),e.rules.sequence.cut(),e.rules.sequence.capture(y)).head(),function(Ie){return{styleName:t.startsWith(Ie)}})),X=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","style-name"),e.rules.sequence.capture(E),e.rules.tokenOfType("close-square-bracket")).head(),W=e.rules.firstOf("list type",U("ordered-list",{isOrdered:!0}),U("unordered-list",{isOrdered:!1})),O=I(e.rules.tokenOfType("colon"),I.capture(W),I.cut(),e.rules.tokenOfType("open-paren"),I.capture(p),e.rules.tokenOfType("close-paren")).map(function(Ie,Ne){return{list:{isOrdered:Ie.isOrdered,levelIndex:Ne-1}}});function Y(Ie){var Ne=e.rules.firstOf.apply(e.rules.firstOf,["matcher suffix"].concat(Ie)),Oe=e.rules.zeroOrMore(Ne);return e.rules.then(Oe,function(Ve){var C={};return Ve.forEach(function(ne){s.extend(C,ne)}),C})}var $=I(I.capture(S),I.capture(Y([N,X,O]))).map(function(Ie,Ne){return Ie(Ne)}),se=I(e.rules.token("identifier","table"),I.capture(Y([N,X]))).map(function(Ie){return t.table(Ie)}),z=U("b",t.bold),J=U("i",t.italic),Z=U("u",t.underline),oe=U("strike",t.strikethrough),ae=U("all-caps",t.allCaps),ve=U("small-caps",t.smallCaps),me=I(e.rules.token("identifier","highlight"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","color"),e.rules.tokenOfType("equals"),e.rules.sequence.capture(y),e.rules.tokenOfType("close-square-bracket")).head()))).map(function(Ie){return t.highlight({color:Ie.valueOrElse(void 0)})}),ye=U("comment-reference",t.commentReference),Te=I(e.rules.token("identifier","br"),I.cut(),e.rules.tokenOfType("open-square-bracket"),e.rules.token("identifier","type"),e.rules.tokenOfType("equals"),I.capture(y),e.rules.tokenOfType("close-square-bracket")).map(function(Ie){switch(Ie){case"line":return t.lineBreak;case"page":return t.pageBreak;case"column":return t.columnBreak}});return e.rules.firstOf("element type",$,se,z,J,Z,oe,ae,ve,me,ye,Te)}function u(I){return A(d(),I)}function d(){var I=e.rules.sequence.capture,U=e.rules.tokenOfType("whitespace"),P=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","fresh"))),function(E){return E.map(function(){return!0}).valueOrElse(!1)}),H=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","separator"),e.rules.tokenOfType("open-paren"),I(y),e.rules.tokenOfType("close-paren")).head()),function(E){return E.valueOrElse("")}),S=e.rules.oneOrMoreWithSeparator(h,e.rules.tokenOfType("choice")),N=e.rules.sequence(I(S),I(e.rules.zeroOrMore(D)),I(P),I(H)).map(function(E,X,W,O){var Y={},$={};return X.forEach(function(se){se.append&&Y[se.name]?Y[se.name]+=" "+se.value:Y[se.name]=se.value}),W&&($.fresh=!0),O&&($.separator=O),n.element(E,Y,$)});return e.rules.firstOf("html path",e.rules.then(e.rules.tokenOfType("bang"),function(){return n.ignore}),e.rules.then(e.rules.zeroOrMoreWithSeparator(N,e.rules.sequence(U,e.rules.tokenOfType("gt"),U)),n.elements))}var h=e.rules.then(e.rules.tokenOfType("identifier"),b),p=e.rules.tokenOfType("integer"),y=e.rules.then(e.rules.tokenOfType("string"),b),v={n:`
`,r:"\r",t:"	"};function b(I){return I.replace(/\\(.)/g,function(U,P){return v[P]||P})}var x=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.sequence.capture(h),e.rules.tokenOfType("equals"),e.rules.sequence.capture(y),e.rules.tokenOfType("close-square-bracket")).map(function(I,U){return{name:I,value:U,append:!1}}),_=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(h)).map(function(I){return{name:"class",value:I,append:!0}}),D=e.rules.firstOf("attribute or class",x,_);function A(I,U){var P=i(U),H=e.Parser(),S=H.parseTokens(I,P);return S.isSuccess()?r.success(S.value()):new r.Result(null,[r.warning(T(U,S))])}function T(I,U){return"Did not understand this style mapping, so ignored it: "+I+`
`+U.errors().map(w).join(`
`)}function w(I){return"Error was at character number "+I.characterNumber()+": Expected "+I.expected+" but got "+I.actual}var F=o();return qc}var Vc={},U2;function PN(){if(U2)return Vc;U2=1,Vc.readOptions=n;var s=St,e=Vc._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh"],t=Vc._standardOptions={transformDocument:r,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function n(a){return a=a||{},s.extend({},t,a,{customStyleMap:i(a.styleMap),readStyleMap:function(){var o=this.customStyleMap;return this.includeEmbeddedStyleMap&&(o=o.concat(i(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(o=o.concat(e)),o}})}function i(a){return a?s.isString(a)?a.split(`
`).map(function(o){return o.trim()}).filter(function(o){return o!==""&&o.charAt(0)!=="#"}):a:[]}function r(a){return a}return Vc}var vg={},F2;function LN(){if(F2)return vg;F2=1;var s=Ts(),e=PT();vg.openZip=t;function t(n){return n.arrayBuffer?s.resolve(e.openArrayBuffer(n.arrayBuffer)):s.reject(new Error("Could not find file in options"))}return vg}var Ms={},I2;function BN(){if(I2)return Ms;I2=1;var s=St;Ms.paragraph=e,Ms.run=t,Ms._elements=i,Ms.getDescendantsOfType=r,Ms.getDescendants=a;function e(c){return n("paragraph",c)}function t(c){return n("run",c)}function n(c,l){return i(function(u){return u.type===c?l(u):u})}function i(c){return function l(u){if(u.children){var d=s.map(u.children,l);u=s.extend(u,{children:d})}return c(u)}}function r(c,l){return a(c).filter(function(u){return u.type===l})}function a(c){var l=[];return o(c,function(u){l.push(u)}),l}function o(c,l){c.children&&c.children.forEach(function(u){o(u,l),l(u)})}return Ms}var bg={},R2;function ON(){if(R2)return bg;R2=1;var s=tp(),e=ep();bg.element=t;function t(n){return function(i){return e.elementWithTag(s.element(n),[i])}}return bg}var k2;function WN(){if(k2)return qn;k2=1;var s=St,e=bN(),t=xN(),n=CN().DocumentConverter,i=wN().convertElementToRawText,r=NN().readStyle,a=PN().readOptions,o=LN(),c=Rr().Result;qn.convertToHtml=l,qn.convertToMarkdown=u,qn.convert=d,qn.extractRawText=v,qn.images=zT(),qn.transforms=BN(),qn.underline=ON(),qn.embedStyleMap=b,qn.readEmbeddedStyleMap=h;function l(x,_){return d(x,_)}function u(x,_){var D=Object.create(_||{});return D.outputFormat="markdown",d(x,D)}function d(x,_){return _=a(_),o.openZip(x).tap(function(D){return t.readStyleMap(D).then(function(A){_.embeddedStyleMap=A})}).then(function(D){return e.read(D,x).then(function(A){return A.map(_.transformDocument)}).then(function(A){return p(A,_)})})}function h(x){return o.openZip(x).then(t.readStyleMap)}function p(x,_){var D=y(_.readStyleMap()),A=s.extend({},_,{styleMap:D.value}),T=new n(A);return x.flatMapThen(function(w){return D.flatMapThen(function(F){return T.convertToHtml(w)})})}function y(x){return c.combine((x||[]).map(r)).map(function(_){return _.filter(function(D){return!!D})})}function v(x){return o.openZip(x).then(e.read).then(function(_){return _.map(i)})}function b(x,_){return o.openZip(x).tap(function(D){return t.writeStyleMap(D,_)}).then(function(D){return D.toArrayBuffer()}).then(function(D){return{toArrayBuffer:function(){return D},toBuffer:function(){return Buffer.from(D)}}})}return qn.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)},qn}var qN=WN();const VN=iA(qN);typeof window<"u"&&(x3.workerSrc="https://esm.sh/pdfjs-dist@4.4.168/build/pdf.worker.min.js");const zN=async s=>{const e=await s.arrayBuffer(),t=await _3({data:e}).promise;let n="";for(let i=1;i<=t.numPages;i++){const a=await(await t.getPage(i)).getTextContent();n+=a.items.map(o=>"str"in o?o.str:"").join(" ")+`
`}return n},HN=async s=>{const e=await s.arrayBuffer();return(await VN.extractRawText({arrayBuffer:e})).value},GN=s=>new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{const r=n.result.split(",");if(r.length!==2){t(new Error("Invalid file data for base64 conversion"));return}const a=r[0].split(":")[1].split(";")[0];e({base64Data:r[1],mimeType:a})},n.onerror=i=>t(i),n.readAsDataURL(s)}),xg=5,_g="quizAICreationTimestamps_unauth",zc=2,Rd=[.25,.1,.25,1],Ji=({icon:s,label:e,value:t,iconClassName:n="text-[var(--color-primary-accent)]"})=>de.jsxs("div",{className:"flex items-start py-2.5",children:[de.jsx("span",{className:`mr-3.5 mt-0.5 flex-shrink-0 ${n}`,children:s}),de.jsxs("div",{className:"flex-grow",children:[de.jsx("strong",{className:"text-[var(--color-text-primary)] font-medium block text-sm",children:e}),de.jsx("span",{className:"text-[var(--color-text-secondary)] text-sm leading-relaxed",children:t})]})]});Ji.displayName="SummaryItem";const $N=s=>{if(s.length===0)return"";if(s.length===1)return s[0].split(".").slice(0,-1).join(".")||s[0];let e="";const t=s[0].split(".").slice(0,-1).join(".")||s[0];let n=Math.min(...s.map(i=>(i.split(".").slice(0,-1).join(".")||i).length));n=Math.min(n,t.length);for(let i=0;i<n;i++){const r=t[i];if(s.every(a=>(a.split(".").slice(0,-1).join(".")||a)[i]===r))e+=r;else break}return e.replace(/[^a-zA-Z0-9\s_-]+$/,"").trim()},XN=()=>{const{language:s,currentUser:e}=rA(),{t}=sA(),n=aA(),[i,r]=Le.useState(1),[a,o]=Le.useState([]),[c,l]=Le.useState([]),[u,d]=Le.useState(null),[h,p]=Le.useState(!1),[y,v]=Le.useState({current:0,total:0}),[b,x]=Le.useState(""),[_,D]=Le.useState(null),[A,T]=Le.useState(null),[w,F]=Le.useState(null),[I,U]=Le.useState(""),[P,H]=Le.useState(!1),[S,N]=Le.useState(""),[E,X]=Le.useState(!1),[W,O]=Le.useState(""),Y=!0,[$,se]=Le.useState(Y),[z,J]=Le.useState("Medium"),[Z,oe]=Le.useState(10),[ae,ve]=Le.useState({numQuestions:0,difficulty:"AI-Determined",language:s==="vi"?"Vietnamese":"English",selectedModel:ro}),[me,ye]=Le.useState(!1),[Te,Ie]=Le.useState(null),[Ne,Oe]=Le.useState(0),[Ve,C]=Le.useState(""),[ne,ee]=Le.useState(!1),[V,q]=Le.useState(!1),K=fe=>{Ie(fe),fe&&nt.warn(`Processing Error Set: ${fe}`,"QuizCreatePage")};Le.useEffect(()=>{ve(fe=>({...fe,language:s==="vi"?"Vietnamese":"English",difficulty:$?"AI-Determined":z!=="AI-Determined"?z:"Medium",numQuestions:$?fe.numQuestions:Z>0?Z:10,selectedModel:ro}))},[s,$,z,Z]),Le.useEffect(()=>{window.scrollTo(0,0)},[i]),Le.useEffect(()=>{_&&typeof _=="string"?Ws(()=>Promise.resolve().then(()=>op),[]).then(fe=>{const ge=fe.isFormattedQuiz(_);H(ge),ge&&nt.info("Formatted quiz detected in content","QuizCreatePage",{contentPreview:_.substring(0,100)})}).catch(fe=>{nt.error("Error checking for formatted quiz","QuizCreatePage",void 0,fe),H(!1)}):H(!1)},[_]);const pe=()=>!1,ce=Le.useCallback(async fe=>{if(fe.length===0){o([]),x(""),T(null),l([]),d(null),D(null),F(null),U("");return}o(fe),x(""),T(null),p(!0),K(null),Oe(0),v({current:0,total:fe.length}),U($N(fe.map(ge=>ge.name))||t("step2MultipleFilesQuizTitle"));try{const ge=[];let xe="";for(let Ye=0;Ye<fe.length;Ye++){const Ue=fe[Ye];v({current:Ye+1,total:fe.length});let Be=null,Ut=!1;if(Ue.type==="application/pdf")Be=await zN(Ue);else if(Ue.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||Ue.name.endsWith(".docx"))Be=await HN(Ue);else if(Ue.type.startsWith("image/")){Ut=!0;const bt=await GN(Ue);fe.length===1&&T(bt),pe()||(Be=await fx(bt)||t("step1ErrorProcessingFile")+` (${Ue.name} - AI could not extract text)`),fe.length===1&&F(Be)}else if(Ue.type==="text/plain"||Ue.name.endsWith(".txt"))Be=await Ue.text();else throw new Error(t("step1ErrorUnsupportedFile")+` (${Ue.name})`);Be?(ge.push({text:Be,fileName:Ue.name}),xe+=`=== [${Ue.name}] ===

${Be}

`):Ut&&fe.length>1&&(xe+=`=== [${Ue.name}] ===

[Image content - text extraction may have been skipped or failed]

`)}const Ee=xe.trim();l(ge),d(Ee),D(Ee),Ws(()=>Promise.resolve().then(()=>op),void 0).then(Ye=>{const Ue=Ye.isFormattedQuiz(Ee);H(Ue),Ue&&K("✅ Quiz format detected! The system will preserve all questions and options exactly as provided.")}).catch(()=>H(!1)),r(2)}catch(ge){nt.error("Error processing files:","QuizCreatePageFileProcessing",void 0,ge),K(ge instanceof Error?ge.message:t("step1ErrorProcessingFile"))}finally{p(!1),v({current:fe.length,total:fe.length})}},[t,pe]),te=Le.useCallback(async()=>{if(b.trim()){const fe=b.trim();o([]),l([]),d(null),T(null),F(null),D(fe),U(t("step2PastedText")+" Quiz"),Ws(()=>Promise.resolve().then(()=>op),void 0).then(ge=>{const xe=ge.isFormattedQuiz(fe);H(xe),K(xe?"✅ Quiz format detected! The system will preserve your quiz exactly as provided.":null)}).catch(()=>{H(!1),K(null)}),r(2)}else K(t("step1ErrorPasteText"))},[b,t]),G=fe=>{const{name:ge,value:xe}=fe.target;if(ge==="numQuestions"){const Ee=fe.target.value,Ye=parseInt(Ee,10),Ue=isNaN(Ye)||Ye<0?0:Ye;if($)ve(Be=>({...Be,numQuestions:Ue}));else{const Be=Ue<=0?1:Ue;ve(Ut=>({...Ut,numQuestions:Be})),oe(Be)}}else if(ge==="difficulty"){const Ee=xe;ve(Ye=>({...Ye,difficulty:Ee,selectedModel:ro})),!$&&Ee!=="AI-Determined"&&J(Ee)}else ve(Ee=>({...Ee,[ge]:xe,selectedModel:ro}))},j=Le.useCallback(fe=>{se(fe),fe?(ae.difficulty!=="AI-Determined"&&J(ae.difficulty),oe(ge=>ae.numQuestions>0?ae.numQuestions:ge),ve(ge=>({...ge,difficulty:"AI-Determined",numQuestions:0}))):ve(ge=>({...ge,difficulty:z==="AI-Determined"?"Medium":z,numQuestions:Z>0?Z:10}))},[ae.difficulty,ae.numQuestions,z,Z]),re=async()=>{if(nt.info("Quiz generation initiated.","QuizCreatePageGenerate",{config:ae}),!e){const xe=Date.now()-24*60*60*1e3;let Ee=[];try{const Ue=localStorage.getItem(_g);Ue&&(Ee=JSON.parse(Ue))}catch(Ue){nt.error("Error reading unauth timestamps from localStorage","QuizCreateRateLimit",void 0,Ue),Ee=[]}if(Ee.filter(Ue=>Ue>xe).length>=xg){K(t("rateLimitErrorUnauthenticated",{limit:xg})),ye(!1),Oe(0);return}}let fe;if(E&&S&&S.trim())fe="Generate quiz from user prompt.";else if(a.length>0)if(u&&u.trim())fe=u;else if(A&&a.length===1&&a[0].type.startsWith("image/")){K(t("step1ErrorProcessingFile"));return}else{K(t("step1ErrorProcessingFile"));return}else if(b&&b.trim())fe=b;else{K(t("step1ErrorProcessingFile"));return}ye(!0),K(null),Oe(0),C(t("step3AIIsThinking"));for(let ge=0;ge<=zc;ge++)try{ge>0&&(C(t("step3AIIsRetrying",{currentAttempt:ge,maxAttempts:zc})),await new Promise(Be=>setTimeout(Be,1500*ge)));const xe={...ae,customUserPrompt:S.trim()||void 0,selectedModel:ro};Oe(10+ge*5);const Ee=xR(fe,xe,I);let Ye=setInterval(()=>{Oe(Be=>Be>=85-ge*5?(clearInterval(Ye),Be):Math.min(Be+5,85-ge*5))},400);const Ue=await Ee;if(clearInterval(Ye),Oe(95),!e){let Be=[];try{const R=localStorage.getItem(_g);R&&(Be=JSON.parse(R))}catch(R){nt.error("Error reading unauth timestamps for update","QuizCreateRateLimit",void 0,R),Be=[]}const Ut=Date.now(),bt=Ut-24*60*60*1e3,mt=Be.filter(R=>R>bt);mt.push(Ut);try{localStorage.setItem(_g,JSON.stringify(mt))}catch(R){nt.error("Error writing unauth timestamps to localStorage","QuizCreateRateLimit",void 0,R)}}nt.info("Quiz generated successfully, navigating to review.","QuizCreatePageGenerate",{title:Ue.title}),n("/review",{state:{generatedQuizData:Ue,quizTitleSuggestion:I||Ue.title,finalConfig:xe}}),Oe(100),ye(!1),C("");return}catch(xe){if(nt.error(`Error generating quiz (Attempt ${ge+1}/${zc+1}):`,"QuizCreatePageGenerate",{config:ae},xe),xe.message&&xe.message.includes("Gemini AI failed to generate quiz")&&ge<zc)ge===zc-1&&Oe(70);else{K(xe instanceof Error?xe.message:t("step3ErrorGenerate")),Oe(0),ye(!1),C("");return}}},le=()=>{_&&navigator.clipboard.writeText(_).then(()=>{q(!0),setTimeout(()=>q(!1),2e3)}).catch(fe=>{nt.error("Failed to copy text to clipboard","QuizCreatePage",void 0,fe),alert(t("azotaExportErrorCopy"))})},_e=Le.useCallback(()=>ee(!1),[]),Se="https://img.icons8.com/?size=256&id=eoxMN35Z6JKg&format=png",ie=(fe,ge,xe,Ee,Ye=!1)=>{const Ue=fe===ge,Be=fe>ge,Ut="text-[var(--color-text-muted)]";let bt;const mt="https://img.icons8.com/?size=256&id=VFaz7MkjAiu0&format=png",R="w-5 h-5 sm:w-6 sm:h-6 transition-transform var(--duration-fast) var(--ease-ios)";if(Be)bt=de.jsx("img",{src:mt,alt:t("stepCompleted"),className:R});else if(Ue){let B="";ge===1?B="https://img.icons8.com/?size=256&id=hwKgsZN5Is2H&format=png":ge===2?B="https://img.icons8.com/?size=256&id=WwHcZxa9PFUq&format=png":ge===3&&(B=Se),B?bt=de.jsx("img",{src:B,alt:t(xe),className:`${R} scale-110`}):ud.isValidElement(Ee)?bt=ud.cloneElement(Ee,{className:`${R} scale-110`}):bt=Ee}else ud.isValidElement(Ee)?bt=ud.cloneElement(Ee,{className:R}):bt=Ee;return de.jsxs("div",{className:`flex flex-col items-center transition-colors var(--duration-fast) var(--ease-ios) ${Ue?"text-[var(--color-primary-accent)]":Be?"text-green-400":Ut}`,children:[de.jsxs("div",{className:`flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 rounded-full border-2 mb-2.5 transition-all var(--duration-fast) var(--ease-ios) will-change-transform, border, background-color, box-shadow ${Ue?"border-[var(--color-primary-accent)] bg-[var(--color-primary-accent)]/20 text-[var(--color-primary-accent)] shadow-xl scale-105":Be?"border-green-400 bg-green-400/20 text-green-400 shadow-lg":`border-[var(--color-border-default)] bg-[var(--color-bg-surface-2)]/60 ${Ut}`} font-semibold text-base sm:text-lg`,children:[" ",bt," "]}),de.jsx("span",{className:`text-xs sm:text-sm font-semibold text-center transition-colors var(--duration-fast) var(--ease-ios) ${Ue?"text-[var(--color-text-primary)]":Be?"text-[var(--color-text-secondary)]":Ut}`,children:t(xe)})]})},he=()=>{switch(i){case 1:return de.jsxs(eo,{className:"max-w-xl mx-auto shadow-2xl !rounded-2xl",useGlassEffect:!0,children:[" ",de.jsxs("div",{className:"space-y-8",children:[de.jsx(fA,{onFileUpload:ce,acceptedFileTypes:".pdf,.txt,.docx,.jpg,.png,.jpeg",maxFileSizeMB:10,label:de.jsx("p",{className:"text-base font-semibold text-[var(--color-text-primary)] mb-2",children:t("step1UploadOrDrag")}),icon:de.jsx("img",{src:"https://img.icons8.com/?size=256&id=hwKgsZN5Is2H&format=png",alt:t("upload"),className:"w-12 h-12 sm:w-14 sm:h-14 mb-3.5 text-[var(--color-text-muted)] group-hover:text-[var(--color-primary-accent)] transition-all var(--duration-fast) var(--ease-ios) group-hover:scale-105"}),isLoading:h,currentFiles:a.length>0?a:null,multipleFiles:!0}),h&&de.jsxs("div",{className:"mt-4 animate-fadeIn",children:[de.jsx("div",{className:"flex items-center justify-between mb-1",children:de.jsx("span",{className:"text-xs text-[var(--color-text-secondary)]",children:t("step1ProcessingProgress",{current:y.current,total:y.total})})}),de.jsx(mv,{progress:y.current/Math.max(1,y.total)*100,showPercentage:!1})]}),de.jsxs("div",{className:"relative flex py-1 items-center",children:[" ",de.jsx("div",{className:"flex-grow border-t border-[var(--color-border-default)]"})," ",de.jsx("span",{className:"flex-shrink mx-4 text-[var(--color-text-muted)] text-xs font-medium uppercase tracking-wider",children:t("step1Or")})," ",de.jsx("div",{className:"flex-grow border-t border-[var(--color-border-default)]"})," "]}),de.jsx(dd,{label:de.jsx("p",{className:"text-base font-semibold text-[var(--color-text-primary)]",children:t("step1PasteTextLabel")}),value:b,onChange:mt=>x(mt.target.value),placeholder:t("step1PasteTextPlaceholder"),rows:6,className:"min-h-[150px] text-sm paste-text-area"}),de.jsxs(Gi,{onClick:te,disabled:!b.trim()||h,fullWidth:!0,size:"lg",variant:"secondary",className:"py-3 shadow-lg",children:[" ",t("step1UsePastedText")," "]}),de.jsxs("div",{className:"relative flex py-1 items-center",children:[" ",de.jsx("div",{className:"flex-grow border-t border-[var(--color-border-default)]"})," ",de.jsx("span",{className:"flex-shrink mx-4 text-[var(--color-text-muted)] text-xs font-medium uppercase tracking-wider",children:t("step1Or")})," ",de.jsx("div",{className:"flex-grow border-t border-[var(--color-border-default)]"})," "]}),de.jsx(dd,{label:de.jsx("p",{className:"text-base font-semibold text-[var(--color-text-primary)]",children:"AI Prompt"}),value:W,onChange:mt=>O(mt.target.value),placeholder:"Tạo 50 câu hỏi ôn tập tiếng Anh chủ đề gia đình",rows:6,className:"min-h-[150px] text-sm paste-text-area"}),de.jsx(Gi,{onClick:()=>{W.trim()?(X(!0),N(W),x(""),o([]),l([]),d(null),T(null),F(null),D(`AI Prompt: ${W.trim()}`),U("AI Generated Quiz"),r(2)):K("Please enter an AI prompt")},disabled:!W.trim()||h,fullWidth:!0,size:"lg",variant:"primary",className:"py-3 shadow-lg bg-gradient-to-r from-green-500 via-teal-500 to-sky-500 hover:from-green-600 hover:via-teal-600 hover:to-sky-600 text-white",children:"Generate Quiz from Prompt"}),Te&&!h&&de.jsx("div",{role:"alert",className:`p-3.5 ${Te.startsWith("✅")?"bg-green-500/20 border-green-500/50 text-green-300":"bg-red-500/20 border-red-500/50 text-red-300"} border rounded-lg text-sm text-center shadow-md animate-fadeIn`,children:Te})]})," "]});case 2:const fe=de.jsxs("div",{className:"flex items-center text-sm font-semibold text-[var(--color-text-primary)]",children:[" ",de.jsx("img",{src:"https://www.pngall.com/wp-content/uploads/16/Google-Gemini-Logo-Transparent.png",alt:t("step2AIModelLabel"),className:"w-5 h-5 mr-2.5"})," ",t("step2AIModelLabel")," ",pe()," "]}),ge=de.jsxs("div",{className:"flex items-center text-sm font-medium text-[var(--color-text-secondary)]",children:[t("step2CustomPromptLabel"),de.jsx(cA,{content:de.jsx("div",{className:"max-w-xs text-left text-xs",children:t("step2CustomPromptPlaceholder")}),placement:"top",children:de.jsx(gv,{className:"w-4 h-4 text-[var(--color-text-muted)] ml-2.5 cursor-help"})})]}),xe=[{value:"Easy",label:t("step2DifficultyEasy")},{value:"Medium",label:t("step2DifficultyMedium")},{value:"Hard",label:t("step2DifficultyHard")}],Ee=[...xe,{value:"AI-Determined",label:t("step2DifficultyAIDetermined")}],Ye=t($?"step2NumQuestionsLabelAIMode":"step2NumQuestionsLabel");let Ue;return E&&(_!=null&&_.startsWith("AI Prompt:"))?Ue=de.jsxs("div",{children:[de.jsx("span",{className:"text-blue-400 font-medium",children:"AI Prompt:"})," ",W]}):a.length>0?a.length===1?Ue=de.jsxs("div",{children:[A?t("step2Image",{fileName:a[0].name}):t("step2File",{fileName:a[0].name}),P&&de.jsx("div",{className:"mt-2 text-xs font-medium text-green-500",children:"✅ Quiz format detected! Questions will be preserved exactly as provided."})]}):Ue=de.jsxs(de.Fragment,{children:[t("step2MultipleFiles",{count:a.length}),":",de.jsxs("ul",{className:"list-none text-xs opacity-80 max-h-20 overflow-y-auto thin-scrollbar-horizontal",children:[a.slice(0,5).map((mt,R)=>de.jsx("li",{className:"truncate",title:mt.name,children:mt.name},R)),a.length>5&&de.jsx("li",{children:t("step2AndMoreFiles",{count:a.length-5})})]}),P&&de.jsx("div",{className:"mt-2 text-xs font-medium text-green-500",children:"✅ Quiz format detected! Questions will be preserved exactly as provided."})]}):b?Ue=de.jsxs("div",{children:[t("step2PastedText"),P&&de.jsx("div",{className:"mt-2 text-xs font-medium text-green-500",children:"✅ Quiz format detected! Questions will be preserved exactly as provided."})]}):Ue="N/A",de.jsxs(eo,{className:"max-w-2xl mx-auto shadow-2xl !rounded-2xl",useGlassEffect:!0,children:[" ",de.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[de.jsxs(eo,{className:"!bg-[var(--color-bg-surface-2)]/70 !border-[var(--color-border-default)] p-4 sm:p-5 !rounded-xl shadow-lg",useGlassEffect:!1,children:[de.jsx("h3",{className:"text-sm font-semibold text-[var(--color-text-secondary)] mb-2.5",children:t("step2SourceContent")}),de.jsxs("div",{className:"flex items-center text-sm text-[var(--color-text-body)] overflow-x-auto overflow-y-hidden whitespace-nowrap cursor-default thin-scrollbar-horizontal py-0.5",children:[de.jsx(ip,{className:"w-5 h-5 mr-3 text-[var(--color-primary-accent)] flex-shrink-0",strokeWidth:1.5}),de.jsx("span",{className:"pr-1",children:Ue})]}),_&&de.jsxs(Gi,{variant:"secondary",onClick:()=>ee(!0),className:"text-xs !font-semibold mt-3.5 py-2 px-4 rounded-lg shadow-md",leftIcon:de.jsx(ip,{className:"w-4 h-4",strokeWidth:2}),children:[" ",t("step2ViewFullText")," "]})]}),de.jsx(vv,{label:de.jsx("p",{className:"text-base font-semibold text-[var(--color-text-primary)]",children:t("step2QuizTitleLabel")}),name:"quizTitle",value:I,onChange:mt=>U(mt.target.value),placeholder:t("step2QuizTitlePlaceholder"),inputClassName:"text-lg py-3"}),de.jsxs(eo,{className:"!bg-[var(--color-bg-surface-2)]/70 !border-[var(--color-border-default)] p-4 sm:p-5 !rounded-xl shadow-lg",useGlassEffect:!1,children:[" ",fe," ",de.jsxs("p",{className:"text-sm text-[var(--color-text-secondary)] mt-1.5",children:["Google Gemini ",de.jsx("span",{className:"font-medium",children:de.jsxs("span",{className:"text-green-400",children:["(",t("default"),")"]})})]})," "]}),de.jsxs(eo,{className:"p-4 sm:p-5 !border-[var(--color-border-default)] !bg-[var(--color-bg-surface-1)]/70 shadow-lg space-y-5 !rounded-xl",useGlassEffect:!1,children:[de.jsx(lA,{label:de.jsx("p",{className:"text-base font-semibold text-[var(--color-text-primary)]",children:t("step2AIModeLabel")}),checked:$,onChange:j}),de.jsx(vv,{label:Ye,type:"number",name:"numQuestions",value:ae.numQuestions,onChange:G,min:$?"0":"1",max:"50",containerClassName:$?"mt-4":"",placeholder:$&&ae.numQuestions===0?t("step2NumQuestionsAIPlaceholder"):void 0}),de.jsx(bv,{label:t("step2DifficultyLabel"),name:"difficulty",value:ae.difficulty,onChange:G,options:$?Ee:xe,disabled:$}),de.jsx(bv,{label:t("step2LanguageLabel"),name:"language",value:ae.language,onChange:G,options:[{value:"English",label:t("step2LanguageEnglish")},{value:"Vietnamese",label:t("step2LanguageVietnamese")}]})]}),de.jsx(dd,{label:ge,name:"customUserPrompt",value:S,onChange:mt=>N(mt.target.value),placeholder:t("step2CustomPromptPlaceholder").substring(0,60)+"...",rows:4,className:"min-h-[90px] text-sm"}),Te&&de.jsx("div",{role:"alert",className:"p-3.5 bg-red-500/20 border border-red-500/50 rounded-lg text-sm text-red-300 text-center shadow-md animate-fadeIn",children:Te}),de.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center pt-5 gap-4",children:[de.jsxs(Gi,{variant:"outline",onClick:()=>{r(1),D(null),d(null),l([]),T(null),o([]),x(""),K(null),F(null)},leftIcon:de.jsx(yv,{className:"w-4 h-4"}),size:"lg",className:"w-full sm:w-auto py-3",children:[" ",t("back")," "]}),de.jsxs(Gi,{onClick:()=>{r(3),K(null)},disabled:!1,rightIcon:de.jsx(uA,{className:"w-4 h-4"}),variant:"primary",size:"lg",className:"w-full sm:w-auto py-3",children:[" ",t("step2NextButton")," "]})]})]}),ne&&de.jsx(dA,{isOpen:ne,onClose:_e,title:t("fullTextModalTitle"),size:"3xl",footerContent:de.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between items-center w-full gap-3 sm:gap-0",children:[" ",de.jsxs(Gi,{variant:"outline",onClick:le,leftIcon:de.jsx(hA,{className:"w-4 h-4"}),size:"md",className:"w-full sm:w-auto",children:[" ",t(V?"azotaExportCopied":"azotaExportCopy")," "]})," ",de.jsxs(Gi,{onClick:_e,variant:"secondary",size:"md",className:"w-full sm:w-auto",children:[" ",t("close")," "]})," "]}),children:de.jsx(dd,{value:_||"",readOnly:!0,className:"!bg-[var(--color-bg-surface-2)] !border-[var(--color-border-default)] text-[var(--color-text-primary)] whitespace-pre-wrap text-sm min-h-[60vh] max-h-[65vh] shadow-inner focus:!border-[var(--color-primary-accent)]/70 focus:!ring-[var(--color-primary-accent)]/40",rows:20,"aria-label":t("fullTextModalTitle")})})," "]});case 3:const Be="w-5 h-5";let Ut=t("step3GenerateButton");if(me){const mt=Ve.match(/Attempt (\d+)\/(\d+)/)||Ve.match(/Lần (\d+)\/(\d+)/);if(mt&&mt.length===3){const R=parseInt(mt[1],10),B=parseInt(mt[2],10);Ut=t("step3GeneratingRetryButton",{currentAttempt:R,maxAttempts:B})}else Ut=t("step3GeneratingButton")}let bt;return E?bt="AI Prompt":a.length>0?a.length===1?bt=A?t("step2Image",{fileName:a[0].name}):t("step2File",{fileName:a[0].name}):bt=t("step2MultipleFiles",{count:a.length}):b?bt=t("step2PastedText"):bt="N/A",de.jsxs(eo,{className:"max-w-xl mx-auto shadow-2xl !rounded-2xl",useGlassEffect:!0,children:[de.jsxs("div",{className:"!bg-[var(--color-bg-surface-2)]/70 p-6 sm:p-8 !rounded-xl mb-8 border border-[var(--color-border-default)] shadow-xl",children:[de.jsx("h3",{className:"text-2xl sm:text-3xl font-semibold text-[var(--color-text-primary)] mb-6 text-center",children:t("step3SummaryTitle")}),de.jsxs("div",{className:"space-y-1 divide-y divide-[var(--color-border-default)]/50",children:[de.jsx(Ji,{icon:de.jsx("img",{src:"https://www.pngall.com/wp-content/uploads/16/Google-Gemini-Logo-Transparent.png",alt:t("step2AIModelLabel"),className:Be}),label:t("step3AIModelSelected",{modelName:""}),value:"Google Gemini"}),de.jsx(Ji,{icon:de.jsx(ip,{className:Be}),label:t("step3TitleSuggestion",{title:""}),value:de.jsx(pv,{text:I||t("step3TitleAISuggested")})}),de.jsx(Ji,{icon:de.jsx("img",{src:"https://img.icons8.com/?size=256&id=hwKgsZN5Is2H&format=png",alt:t("upload"),className:Be}),label:t("step3ContentSource",{source:""}),value:bt}),de.jsx(Ji,{icon:de.jsx("img",{src:"https://img.icons8.com/?size=256&id=WwHcZxa9PFUq&format=png",alt:t("settings"),className:Be}),label:t("step3Mode",{mode:""}),value:$?t("step3ModeAIOptimized"):"Manual"}),de.jsx(Ji,{icon:de.jsx("img",{src:"https://img.icons8.com/?size=256&id=PPnPJOpQpJ2J&format=png",alt:t("step3NumQuestions",{count:""}),className:Be}),label:t("step3NumQuestions",{count:""}),value:$&&ae.numQuestions===0?t("step2NumQuestionsAIPlaceholder"):ae.numQuestions}),de.jsx(Ji,{icon:de.jsx(oA,{className:Be}),label:t("step3Difficulty",{level:""}),value:ae.difficulty==="AI-Determined"?t("step2DifficultyAIDetermined"):t(`step2Difficulty${ae.difficulty}`)}),de.jsx(Ji,{icon:de.jsx("img",{src:"https://img.icons8.com/?size=48&id=fs8AdHsHlO36&format=png",alt:"Language",className:Be}),label:t("step3Language",{lang:""}),value:ae.language==="English"?t("step2LanguageEnglish"):t("step2LanguageVietnamese")}),de.jsx("div",{className:"pt-2.5",children:de.jsx(Ji,{icon:de.jsx(gv,{className:Be}),label:S.trim()?t("step3CustomPromptProvidedLabel"):t("step3CustomPromptNone"),value:S.trim()?de.jsx("blockquote",{className:"text-xs text-[var(--color-text-body)]/90 italic whitespace-pre-wrap max-h-24 overflow-y-auto bg-[var(--color-bg-surface-1)]/40 p-2 rounded-md mt-1 border-l-2 border-[var(--color-border-default)]/70",children:de.jsx(pv,{text:S.trim()})}):""})})]})]}),de.jsxs(Gi,{onClick:re,isLoading:me,disabled:me,fullWidth:!0,size:"lg",variant:"primary",leftIcon:de.jsx("img",{src:Se,alt:t("step3GenerateButton"),className:"w-5 h-5"}),className:"bg-gradient-to-r from-green-500 via-teal-500 to-sky-500 hover:from-green-600 hover:via-teal-600 hover:to-sky-600 text-white dark:text-white shadow-xl hover:shadow-green-500/40 py-3.5 rounded-xl",children:[" ",Ut," "]}),me&&de.jsx(mv,{progress:Ne,label:Ve||t("step3AIIsThinking"),className:"mt-6 animate-fadeIn"}),Te&&!me&&de.jsx("div",{role:"alert",className:"mt-5 p-3.5 bg-red-500/20 border border-red-500/50 rounded-lg text-sm text-red-300 text-center shadow-md animate-fadeIn",children:Te}),de.jsxs("div",{className:"mt-8 text-center",children:[" ",de.jsxs(Gi,{variant:"outline",onClick:()=>{r(2),K(null),C("")},leftIcon:de.jsx(yv,{className:"w-4 h-4"}),size:"lg",className:"w-full sm:w-auto py-3",children:[" ",t("step3BackButtonCfg")," "]})," "]})]})}};return de.jsxs("div",{className:"py-6 sm:py-8",children:[" ",de.jsxs(ld.div,{className:"relative mb-10 sm:mb-12",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.35,ease:Rd},children:[" ",de.jsxs("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:[" ",de.jsx("div",{className:"w-full border-t-2 border-[var(--color-border-default)]/60 border-dashed"})," "]})," ",de.jsxs("div",{className:"relative flex justify-center",children:[" ",de.jsxs("span",{className:"px-5 sm:px-6 bg-[var(--color-bg-body)] text-2xl sm:text-3xl font-bold text-[var(--color-text-primary)] tracking-tight",children:[" ",t("createQuiz")," "]})," "]})," "]})," ",de.jsxs(ld.div,{className:"mb-8 sm:mb-10 text-center px-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.35,ease:Rd,delay:.1},children:[" ",de.jsxs("p",{className:"text-xs text-[var(--color-text-muted)]",children:[" ",t("rateLimitInfoUnauthenticated",{limit:xg})," ",t("rateLimitInfoAuthenticated")," "]})," "]})," ",de.jsxs(ld.div,{className:"max-w-lg mx-auto mb-12 sm:mb-16 flex justify-around items-start p-4 sm:p-5 bg-[var(--color-bg-surface-1)]/70 rounded-2xl shadow-xl border border-[var(--color-border-default)] glass-effect",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:Rd,delay:.2},children:[" ",ie(i,1,"step1Title",de.jsx("img",{src:"https://img.icons8.com/?size=256&id=hwKgsZN5Is2H&format=png",alt:t("step1Title")}))," ",de.jsxs("div",{className:"flex-grow h-1.5 bg-[var(--color-bg-surface-3)] rounded-full mx-3 sm:mx-5 mt-5 sm:mt-[1.375rem]",children:[de.jsx("div",{className:"h-1.5 bg-[var(--color-primary-accent)] rounded-full transition-width var(--duration-normal) var(--ease-ios)",style:{width:i===1?"0%":i===2?"50%":"100%"}})," "]})," ",ie(i,2,"step2Title",de.jsx("img",{src:"https://img.icons8.com/?size=256&id=WwHcZxa9PFUq&format=png",alt:t("step2Title")}))," ",de.jsxs("div",{className:"flex-grow h-1.5 bg-[var(--color-bg-surface-3)] rounded-full mx-3 sm:mx-5 mt-5 sm:mt-[1.375rem]",children:[de.jsx("div",{className:"h-1.5 bg-[var(--color-primary-accent)] rounded-full transition-width var(--duration-normal) var(--ease-ios)",style:{width:i<=2?"0%":"100%"}})," "]})," ",ie(i,3,"step3Title",de.jsx("img",{src:Se,alt:t("step3Title"),className:"w-5 h-5 sm:w-6 sm:h-6"}),!0)," "]})," ",de.jsxs(xA,{mode:"wait",children:[" ",de.jsxs(ld.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:Rd},children:[" ",he()," "]},i)," "]})," "]})};XN.displayName="QuizCreatePage";export{XN as default};
